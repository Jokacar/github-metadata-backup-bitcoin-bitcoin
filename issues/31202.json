{
  "type": "issue",
  "issue": {
    "id": 2629064976,
    "node_id": "I_kwDOABII586ctFkQ",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31202",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31202/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31202/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31202/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31202",
    "number": 31202,
    "state": "open",
    "state_reason": null,
    "title": "guix: failure on Kubuntu 24-10: error: mount: mount \"none\" on \"/tmp/guix-directory.VEMlin\": Permission denied",
    "body": "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Current behaviour\n\n`contrib/guix/guix-build` fails with error:\r\n\r\n```\r\n$ contrib/guix/guix-build \r\nFound macOS SDK at '/SDK_PATH/Xcode-15.0-15A240d-extracted-SDK-with-libcxx-headers', using...\r\nChecking that we can connect to the guix-daemon...\r\n\r\nHint: If this hangs, you may want to try turning your guix-daemon off and on\r\n      again.\r\n\r\nWARNING: Use of `load' in declarative module (guix ui).  Add #:declarative? #f to your define-module invocation.\r\nWARNING: (guix build python-build-system): imported module (guix build utils) overrides core binding `delete'\r\nmake: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Entering directory '/BITCOIN-GUIX/depends'\r\nFetching sqlite-autoconf-3460100.tar.gz from https://sqlite.org/2024/\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100 3189k  100 3189k    0     0   258k      0  0:00:12  0:00:12 --:--:--  487k\r\n/BITCOIN-GUIX/depends/work/download/sqlite-3460100/sqlite-autoconf-3460100.tar.gz.temp: OK\r\nmake[1]: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Entering directory '/BITCOIN-GUIX/depends'\r\nmake[1]: Leaving directory '/BITCOIN-GUIX/depends'\r\nmake: Leaving directory '/BITCOIN-GUIX/depends'\r\nINFO: Building f07a533dfcb1 for platform triple x86_64-linux-gnu:\r\n      ...using reference timestamp: 1730324259\r\n      ...running at most 32 jobs\r\n      ...from worktree directory: '/BITCOIN-GUIX'\r\n          ...bind-mounted in container to: '/bitcoin'\r\n      ...in build directory: '/BITCOIN-GUIX/guix-build-f07a533dfcb1/distsrc-f07a533dfcb1-x86_64-linux-gnu'\r\n          ...bind-mounted in container to: '/distsrc-base/distsrc-f07a533dfcb1-x86_64-linux-gnu'\r\n      ...outputting in: '/BITCOIN-GUIX/guix-build-f07a533dfcb1/output/x86_64-linux-gnu'\r\n          ...bind-mounted in container to: '/outdir-base/x86_64-linux-gnu'\r\n      ADDITIONAL FLAGS (if set)\r\n          ADDITIONAL_GUIX_COMMON_FLAGS: \r\n          ADDITIONAL_GUIX_ENVIRONMENT_FLAGS: \r\n          ADDITIONAL_GUIX_TIMEMACHINE_FLAGS: \r\nWARNING: Use of `load' in declarative module (guix ui).  Add #:declarative? #f to your define-module invocation.\r\nWARNING: (guix build python-build-system): imported module (guix build utils) overrides core binding `delete'\r\nsubstitute: WARNING: Use of `load' in declarative module (guix ui).  Add #:declarative? #f to your define-module invocation.\r\nsubstitute: updating substitutes from 'https://ci.guix.gnu.org'... 100.0%\r\nsubstitute: updating substitutes from 'https://bordeaux.guix.gnu.org'... 100.0%\r\nThe following derivations will be built:\r\n  /gnu/store/vf3g31fiv3f02b0waksjnc89f7idn4q0-gcc-cross-x86_64-linux-gnu-12.4.0.drv\r\n  /gnu/store/2v8vzhkglwbl2b3ixg7jxq980la85wn9-glibc-cross-x86_64-linux-gnu-2.31.drv\r\n  /gnu/store/7qazn4h80fjq8pjsg23qgfswhb15ydjj-x86_64-linux-gnu-toolchain-12.4.0.drv\r\n\r\nbuilding /gnu/store/2v8vzhkglwbl2b3ixg7jxq980la85wn9-glibc-cross-x86_64-linux-gnu-2.31.drv...\r\nbuilding /gnu/store/vf3g31fiv3f02b0waksjnc89f7idn4q0-gcc-cross-x86_64-linux-gnu-12.4.0.drv...\r\nbuilding /gnu/store/7qazn4h80fjq8pjsg23qgfswhb15ydjj-x86_64-linux-gnu-toolchain-12.4.0.drv...\r\nThe following derivation will be built:\r\n  /gnu/store/ra8ffnx4x3y29myr3agwp27pcjirixs6-profile.drv\r\n\r\napplying 10 grafts for gcc-cross-x86_64-linux-gnu-12.4.0 ...\r\nbuilding CA certificate bundle...\r\nlisting Emacs sub-directories...\r\nbuilding fonts directory...\r\nbuilding directory of Info manuals...\r\nbuilding profile with 25 packages...\r\nguix shell: error: mount: mount \"none\" on \"/tmp/guix-directory.VEMlin\": Permission denied\r\n```\n\n### Expected behaviour\n\nExpected to produce a build\n\n### Steps to reproduce\n\n1. get `guix` environment by `sudo apt install guix`\r\n2. download Mac OS SDK and setup environment path for it\r\n3. call `contrib/guix/guix-build`\n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nOther\n\n### What version of Bitcoin Core are you using?\n\nmaster@f07a533dfcb172321972e5afb3b38a4bd24edb87\n\n### Operating system and version\n\nKubuntu 24.10\n\n### Machine specifications\n\n```\r\n$ cat /proc/cpuinfo  | grep 'model name' | head -n 1\r\nmodel name      : AMD Ryzen 9 5950X 16-Core Processor\r\n\r\n$ cat /etc/mtab  | grep  /tmp\r\ntmpfs /tmp tmpfs rw,nosuid,nodev,size=32866460k,nr_inodes=1048576,inode64 0 0\r\n\r\n$ guix --version\r\nWARNING: Use of `load' in declarative module (guix ui).  Add #:declarative? #f to your define-module invocation.\r\nguix (GNU Guix) 1.4.0\r\nCopyright (C) 2022 the Guix authors\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.\r\n```",
    "user": {
      "login": "knst",
      "id": 545784,
      "node_id": "MDQ6VXNlcjU0NTc4NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/545784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/knst",
      "html_url": "https://github.com/knst",
      "followers_url": "https://api.github.com/users/knst/followers",
      "following_url": "https://api.github.com/users/knst/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/knst/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/knst/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/knst/subscriptions",
      "organizations_url": "https://api.github.com/users/knst/orgs",
      "repos_url": "https://api.github.com/users/knst/repos",
      "events_url": "https://api.github.com/users/knst/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/knst/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 61889416,
        "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
        "name": "Build system",
        "color": "5319e7",
        "default": false
      },
      {
        "id": 159815356,
        "node_id": "MDU6TGFiZWwxNTk4MTUzNTY=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Upstream",
        "name": "Upstream",
        "color": "bfd4f2",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 2,
    "created_at": "2024-11-01T13:42:13Z",
    "updated_at": "2024-11-01T14:55:19Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 2451899783,
      "node_id": "IC_kwDOABII586SJQWH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2451899783",
      "actor": {
        "login": "knst",
        "id": 545784,
        "node_id": "MDQ6VXNlcjU0NTc4NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/545784?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/knst",
        "html_url": "https://github.com/knst",
        "followers_url": "https://api.github.com/users/knst/followers",
        "following_url": "https://api.github.com/users/knst/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/knst/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/knst/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/knst/subscriptions",
        "organizations_url": "https://api.github.com/users/knst/orgs",
        "repos_url": "https://api.github.com/users/knst/repos",
        "events_url": "https://api.github.com/users/knst/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/knst/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-01T13:46:23Z",
      "updated_at": "2024-11-01T13:46:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "This issue happened first time after update from Kubuntu 23.10 to Kubuntu 24.04.\r\nAfter that I wiped guix by this instruction https://gist.github.com/dominiwe/0c8c760b53ea6bdca611dec38b40006f re-installed it again; updated from Kubuntu 24.04 to Kubuntu 24.10 but this issue still here and I can't build Bitcoin Core with guix on this machine anymore. ",
      "user": {
        "login": "knst",
        "id": 545784,
        "node_id": "MDQ6VXNlcjU0NTc4NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/545784?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/knst",
        "html_url": "https://github.com/knst",
        "followers_url": "https://api.github.com/users/knst/followers",
        "following_url": "https://api.github.com/users/knst/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/knst/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/knst/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/knst/subscriptions",
        "organizations_url": "https://api.github.com/users/knst/orgs",
        "repos_url": "https://api.github.com/users/knst/repos",
        "events_url": "https://api.github.com/users/knst/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/knst/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31202#issuecomment-2451899783",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31202"
    },
    {
      "event": "commented",
      "id": 2451912902,
      "node_id": "IC_kwDOABII586SJTjG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2451912902",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-01T13:54:58Z",
      "updated_at": "2024-11-01T13:55:43Z",
      "author_association": "MEMBER",
      "body": "This problem seems familiar: https://bugs.launchpad.net/ubuntu/+source/guix/+bug/2064115.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31202#issuecomment-2451912902",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31202"
    },
    {
      "event": "labeled",
      "id": 15070177609,
      "node_id": "LE_lADOABII586ctFkQzwAAAAOCQKlJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15070177609",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-01T14:55:11Z",
      "label": {
        "name": "Upstream",
        "color": "bfd4f2"
      }
    },
    {
      "event": "labeled",
      "id": 15070180984,
      "node_id": "LE_lADOABII586ctFkQzwAAAAOCQLZ4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15070180984",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-01T14:55:19Z",
      "label": {
        "name": "Build system",
        "color": "5319e7"
      }
    }
  ]
}