{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
    "id": 1418890627,
    "node_id": "PR_kwDOABII585Uko2D",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28027",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28027.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28027.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28027",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28027/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/afd9a673c458e97305da49a70a1ddbf60e651876",
    "number": 28027,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "test: Fixes and updates to wallet_backwards_compatibility.py for 25.0 and descriptor wallets",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It was somewhat surprising to me that wallet_backwards_compatibility.py did not catch #27915 since the purpose of the test is to find downgrade issues such as that. It turns out the test was deficient in several places when it came to testing descriptor wallets, as well as deficient in addition to failing to correctly test some releases.\r\n\r\nThis PR fixes these test cases, adds more informative logging, slightly refactors the entire test in order to better test future versions, and adds a 25.0 node to the test.\r\n\r\nNotable changes:\r\n* The compatibility test with 0.16 should not have been passing. The wallets were being copied incorrectly for 0.16 and resulting in 0.16 creating new wallets rather than testing the target wallets.\r\n* The downgrade test will actually be run on descriptor wallets and it will test that downgrades are successful, and a subsequent upgrade is also successful. This catches #27915.\r\n* The upgrade and downgrade test will be run on all versions up to master, rather than just 0.16, 0.17, and 0.19.",
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "created_at": "2023-07-04T03:03:22Z",
    "updated_at": "2023-09-15T01:53:18Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "73631c062245f76a685ab0b52edb1791b6d22245",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "achow101:2023-07-test-wallet-back-compat-updates",
      "ref": "2023-07-test-wallet-back-compat-updates",
      "sha": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 45006379,
        "node_id": "MDEwOlJlcG9zaXRvcnk0NTAwNjM3OQ==",
        "name": "bitcoin",
        "full_name": "achow101/bitcoin",
        "owner": {
          "login": "achow101",
          "id": 3782274,
          "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/achow101",
          "html_url": "https://github.com/achow101",
          "followers_url": "https://api.github.com/users/achow101/followers",
          "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
          "organizations_url": "https://api.github.com/users/achow101/orgs",
          "repos_url": "https://api.github.com/users/achow101/repos",
          "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/achow101/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/achow101/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/achow101/bitcoin",
        "archive_url": "https://api.github.com/repos/achow101/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/achow101/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/achow101/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/achow101/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/achow101/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/achow101/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/achow101/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/achow101/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/achow101/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/achow101/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/achow101/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/achow101/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/achow101/bitcoin/events",
        "forks_url": "https://api.github.com/repos/achow101/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/achow101/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/achow101/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/achow101/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/achow101/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/achow101/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/achow101/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/achow101/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/achow101/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/achow101/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/achow101/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/achow101/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/achow101/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/achow101/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/achow101/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/achow101/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:achow101/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/achow101/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/achow101/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/achow101/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/achow101/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/achow101/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/achow101/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/achow101/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/achow101/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/achow101/bitcoin/hooks",
        "svn_url": "https://github.com/achow101/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 9,
        "stargazers_count": 34,
        "watchers_count": 34,
        "size": 247115,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-09-14T22:17:12Z",
        "created_at": "2015-10-27T00:20:28Z",
        "updated_at": "2023-08-21T21:11:05Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "23f3f402fca346302fe424427ae4077d8a458cbb",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35675,
        "stargazers_count": 71337,
        "watchers_count": 71337,
        "size": 239492,
        "default_branch": "master",
        "open_issues_count": 691,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-09-14T22:17:18Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-09-15T01:31:31Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 203,
    "deletions": 147,
    "changed_files": 2,
    "commits": 10,
    "review_comments": 26,
    "comments": 8
  },
  "events": [
    {
      "event": "commented",
      "id": 1619399483,
      "node_id": "IC_kwDOABII585ghhM7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1619399483",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T03:03:24Z",
      "updated_at": "2023-09-15T01:53:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [furszy](https://github.com/bitcoin/bitcoin/pull/28027#pullrequestreview-1592524137) |\n| Concept ACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1620768425) |\n| Approach ACK | [S3RK](https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1630248097) |\n| Stale ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1655662987) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26728](https://github.com/bitcoin/bitcoin/pull/26728) (wallet: Have the wallet store the key for automatically generated descriptors by achow101)\n* [#25907](https://github.com/bitcoin/bitcoin/pull/25907) (wallet: rpc to add automatically generated descriptors by achow101)\n* [#22341](https://github.com/bitcoin/bitcoin/pull/22341) (rpc: add getxpub by Sjors)\n* [#20892](https://github.com/bitcoin/bitcoin/pull/20892) (tests: Run both descriptor and legacy tests within a single test invocation by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1619399483",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28027"
    },
    {
      "event": "labeled",
      "id": 9716165186,
      "node_id": "LE_lADOABII585qhGLnzwAAAAJDIOpC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9716165186",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T03:03:26Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9716387287,
      "node_id": "HRFPE_lADOABII585qhGLnzwAAAAJDJE3X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9716387287",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T03:44:57Z"
    },
    {
      "event": "labeled",
      "id": 9716387735,
      "node_id": "LE_lADOABII585qhGLnzwAAAAJDJE-X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9716387735",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T03:45:02Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9716407646,
      "node_id": "HRFPE_lADOABII585qhGLnzwAAAAJDJJ1e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9716407646",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T03:48:56Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9716423988,
      "node_id": "HRFPE_lADOABII585qhGLnzwAAAAJDJN00",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9716423988",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T03:51:37Z"
    },
    {
      "event": "reviewed",
      "id": 1512116964,
      "node_id": "PRR_kwDOABII585aIRLk",
      "url": null,
      "actor": null,
      "commit_id": "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#pullrequestreview-1512116964",
      "submitted_at": "2023-07-04T06:07:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
    },
    {
      "event": "review_requested",
      "id": 9720250955,
      "node_id": "RRE_lADOABII585qhGLnzwAAAAJDX0JL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9720250955",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T10:33:08Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T13:59:35Z",
      "updated_at": "2023-07-04T13:59:35Z",
      "source": {
        "issue": {
          "id": 1753684153,
          "node_id": "PR_kwDOABII585S0rYG",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27869",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27869/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27869/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27869/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27869",
          "number": 27869,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Give deprecation warning when loading a legacy wallet",
          "body": "Next step in legacy wallet deprecation.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/60",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60/labels",
            "id": 9286970,
            "node_id": "MI_kwDOABII584AjbU6",
            "number": 60,
            "state": "open",
            "title": "26.0",
            "description": "",
            "creator": {
              "login": "fanquake",
              "id": 863730,
              "node_id": "MDQ6VXNlcjg2MzczMA==",
              "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/fanquake",
              "html_url": "https://github.com/fanquake",
              "followers_url": "https://api.github.com/users/fanquake/followers",
              "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
              "organizations_url": "https://api.github.com/users/fanquake/orgs",
              "repos_url": "https://api.github.com/users/fanquake/repos",
              "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/fanquake/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 9,
            "closed_issues": 42,
            "created_at": "2023-04-15T11:36:05Z",
            "updated_at": "2023-09-14T20:08:51Z"
          },
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27869",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27869",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27869.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27869.patch"
          },
          "closed_at": "2023-07-06T09:48:22Z",
          "created_at": "2023-06-12T22:15:31Z",
          "updated_at": "2023-07-06T09:48:22Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1620356102,
      "node_id": "IC_kwDOABII585glKwG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620356102",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T14:29:39Z",
      "updated_at": "2023-07-04T14:29:39Z",
      "author_association": "MEMBER",
      "body": "Thanks for improving these tests. Added to review list.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1620356102",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28027"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T17:37:01Z",
      "updated_at": "2023-07-04T17:37:01Z",
      "source": {
        "issue": {
          "id": 1503703234,
          "node_id": "PR_kwDOABII585F0rVt",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26728",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26728/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26728/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26728/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26728",
          "number": 26728,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Have the wallet store the key for automatically generated descriptors",
          "body": "The wallet currently does not know the master key that was used to generate the automatically generated descriptors. This makes it difficult to add new automatically generated descriptors when new ones are introduced. So instead of losing this information after the descriptors are created, have `CWallet` store it.\r\n\r\nThis allows us to have a `getxpub` command which is useful for those who need a simple way to get an xpub from a wallet. `getxpub` can also take a boolean parameter to indicate whether it should also output the corresponding xprv.\r\n\r\nSupercedes #23417",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26728",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26728",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26728.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26728.patch"
          },
          "created_at": "2022-12-19T22:31:05Z",
          "updated_at": "2023-09-14T16:21:12Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T19:09:31Z",
      "updated_at": "2023-07-04T19:09:31Z",
      "source": {
        "issue": {
          "id": 1347108338,
          "node_id": "PR_kwDOABII5849mUDu",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25907",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25907/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25907/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25907/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25907",
          "number": 25907,
          "state": "open",
          "state_reason": null,
          "title": "wallet: rpc to add automatically generated descriptors",
          "body": "It is useful to have a RPC that can create and add the automatically generated descriptors (that are normally made during creation) to a wallet. This is especially useful when a new default descriptor has been implemented as it allows wallets created before that time to quickly and easily add that type of descriptor.\r\n\r\nIn particular, descriptor wallets created before Taproot was implemented can use the new `createwalletdescriptor` RPC in order to get a Taproot descriptor.\r\n\r\nFurthermore, to keep the newly generated descriptor in line with the existing descriptors, this PR uses #26728 as it exposes a \"wallet extended key\" for us (in addition to upgrading wallets implemented prior to have a wallet xpub). The newly generated descriptors will use the \"wallet extended key\" stored in `CWallet` that PR adds.\r\n\r\n`createwalletdescriptor` is generic and so it can also be used with the other address types. Of course, it given the same wallet extended key, address type, and internal-ness, it will create the same descriptor. So some refactoring has been done in order to detect that the same descriptor is about to be created, and to avoid overwriting any existing descriptors.\r\n\r\nTo be able to use `createwalletdescriptor` with the other address types, we need a way to change the wallet extended key, and so `sethdseed` has been updated and enabled for descriptor wallets. As with legacy wallets, when called without parameters, it will generate a new random master key for the wallet. It can also take a xprv and set that as the master key. It still takes a BIP 32 seed as WIF or as hex as we do for legacy wallets. The seed will be transformed into and stored as a BIP 32 extended key. The latter is to give us greater compatibility with other wallets which often produce non-WIF HD seeds.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25907",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25907",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25907.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25907.patch"
          },
          "created_at": "2022-08-22T23:17:45Z",
          "updated_at": "2023-09-14T16:43:36Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T20:17:55Z",
      "updated_at": "2023-07-04T20:17:55Z",
      "source": {
        "issue": {
          "id": 930266556,
          "node_id": "MDExOlB1bGxSZXF1ZXN0Njc3OTg5MzM4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22341",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22341/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22341/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22341/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22341",
          "number": 22341,
          "state": "open",
          "state_reason": null,
          "title": "rpc: add getxpub",
          "body": "Depends on #26728.\r\n\r\nThis PR introduces a new wallet RPC `getxpub`. It takes a BIP32 path as argument and returns the xpub, along with the master key fingerprint.\r\n\r\nTo test this PR:\r\n\r\n* create a regular descriptor wallet\r\n* call `getxpub m/86h/0h/0h`\r\n* call `listdescriptors`, compare the xpub in the `tr()` descriptor with the previous step\r\n\r\n## Bigger picture\r\n\r\nThis paves the way for using Bitcoin Core as one signer in a multisig setup. It simplifies the proposed flow in #22067.\r\n\r\nThe eventual flow would be:\r\n1. Create a blank wallet with a seed (either with no descriptors, or where its single key descriptors are not `active`, so they don't get used when calling `getnewaddress`). \r\n2. Call `getxpub m/87h/0h/0h` (as suggested in [BIP 87](https://github.com/bitcoin/bips/blob/master/bip-0087.mediawiki))\r\n3. (Manually, with Specter or with a simple Python utility - TBD): craft a multisig descriptor containing this xpub\r\n4. Call `importdescriptors` which will allow the import if its own fingerprint is recognized (and after checking the xpub)\r\n5. The usual flow with `getnewaddress`, `send` and `walletprocesspsbt` (and their GUI equivalents)\r\n\r\nThis PR makes step (2) possible.\r\n\r\nStep (1) would require a followup, because blank wallets currently can't have a seed. Step 4 would also require a followup,  so that `importdescriptors` treats an `xpub` as if it was an `xpriv`, after checking that it can derive the xpub from the seed (that matches the fingerprint)\r\n\r\nOn the GUI side a wizard could perform the above steps and guide the user, where they either:\r\n* export their own xpub and then import a descriptor from somewhere else (performing some sanity checks); or\r\n* import xpub(s) from other wallets, compose a multisig and get the descriptors for export; or\r\n* get xpub(s) from connected hardware devices and configure a multisig (with or without a key on their machine)",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 30,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22341",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22341",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22341.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22341.patch"
          },
          "created_at": "2021-06-25T15:12:03Z",
          "updated_at": "2023-09-14T17:00:36Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T20:31:13Z",
      "updated_at": "2023-07-04T20:31:13Z",
      "source": {
        "issue": {
          "id": 782505298,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTUyMDQ5MjI1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20892",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20892/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20892/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20892/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20892",
          "number": 20892,
          "state": "open",
          "state_reason": null,
          "title": "tests: Run both descriptor and legacy tests within a single test invocation",
          "body": "Instead of having the tests only do one type or the other, depending on command line arguments, these tests should be running with both types of wallets. Any test that calls `add_wallet_options` will be run for each wallet type that it specifies a wallet option for if none are give in the command line. If a particular wallet is specified with `--legacy-wallet` or `--descriptors`, the options are still respected.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 16,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20892",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20892",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20892.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20892.patch"
          },
          "created_at": "2021-01-09T03:50:55Z",
          "updated_at": "2023-09-14T23:28:28Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1620768425,
      "node_id": "IC_kwDOABII585gmvap",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620768425",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T21:32:21Z",
      "updated_at": "2023-07-04T21:32:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1620768425",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28027"
    },
    {
      "event": "unsubscribed",
      "id": 9727213258,
      "node_id": "UE_lADOABII585qhGLnzwAAAAJDyX7K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9727213258",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-05T06:15:55Z"
    },
    {
      "event": "unlabeled",
      "id": 9733843890,
      "node_id": "UNLE_lADOABII585qhGLnzwAAAAJELquy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9733843890",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-05T16:20:00Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 9742591777,
      "node_id": "LE_lADOABII585qhGLnzwAAAAJEtCch",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9742591777",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-06T11:16:59Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1521467578,
      "node_id": "PRR_kwDOABII585ar8C6",
      "url": null,
      "actor": null,
      "commit_id": "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#pullrequestreview-1521467578",
      "submitted_at": "2023-07-10T07:43:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
    },
    {
      "event": "reviewed",
      "id": 1521472220,
      "node_id": "PRR_kwDOABII585ar9Lc",
      "url": null,
      "actor": null,
      "commit_id": "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#pullrequestreview-1521472220",
      "submitted_at": "2023-07-10T07:46:36Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9777514414,
      "node_id": "HRFPE_lADOABII585qhGLnzwAAAAJGyQeu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9777514414",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-10T17:11:36Z"
    },
    {
      "event": "unlabeled",
      "id": 9777678661,
      "node_id": "UNLE_lADOABII585qhGLnzwAAAAJGy4lF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9777678661",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-10T17:30:10Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1523177321,
      "node_id": "PRR_kwDOABII585ayddp",
      "url": null,
      "actor": null,
      "commit_id": "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Running this test failed on my device not sure if it's from this PR though.\r\n\r\nSteps to recreate\r\n`git checkout pr/28027`\r\n`make clean`\r\n`./autogen.sh`\r\n`./configure`\r\n`make`\r\n`test/functional/test_runner.py wallet_backwards_compatibility.py`\r\n```\r\n2023-07-11T00:04:00.468000Z TestFramework (INFO): PRNG seed is: 1124432296273551722\r\n2023-07-11T00:04:00.468000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_banbrcm1\r\n2023-07-11T00:04:00.472000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_framework.py\", line 550, in start_nodes\r\n    node.start(extra_args[i], *args, **kwargs)\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_node.py\", line 221, in start\r\n    self.process = subprocess.Popen(self.args + extra_args, env=subp_env, stdout=stdout, stderr=stderr, cwd=cwd, **kwargs)\r\n  File \"/usr/lib/python3.10/subprocess.py\", line 969, in __init__\r\n    self._execute_child(args, executable, preexec_fn, close_fds,\r\n  File \"/usr/lib/python3.10/subprocess.py\", line 1845, in _execute_child\r\n    raise child_exception_type(errno_num, err_msg, err_filename)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/abubakarsadiq/Desktop/bitcoin/releases/v25.0/bin/bitcoind'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_framework.py\", line 130, in main\r\n    self.setup()\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_framework.py\", line 295, in setup\r\n    self.setup_network()\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_framework.py\", line 389, in setup_network\r\n    self.setup_nodes()\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/wallet_backwards_compatibility.py\", line 74, in setup_nodes\r\n    self.start_nodes()\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_framework.py\", line 555, in start_nodes\r\n    self.stop_nodes()\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_framework.py\", line 570, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_node.py\", line 346, in stop_node\r\n    self.stop(wait=wait)\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_node.py\", line 192, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\nAssertionError: [node 0] Error: no RPC connection\r\n2023-07-11T00:04:00.523000Z TestFramework (INFO): Stopping nodes\r\nTraceback (most recent call last):\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/wallet_backwards_compatibility.py\", line 368, in <module>\r\n    BackwardsCompatibilityTest().main()\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_framework.py\", line 154, in main\r\n    exit_code = self.shutdown()\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_framework.py\", line 311, in shutdown\r\n    self.stop_nodes()\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_framework.py\", line 570, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_node.py\", line 346, in stop_node\r\n    self.stop(wait=wait)\r\n  File \"/home/abubakarsadiq/Desktop/bitcoin/test/functional/test_framework/test_node.py\", line 192, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\nAssertionError: [node 0] Error: no RPC connection\r\n[node 1] Cleaning up leftover process\r\n[node 0] Cleaning up leftover process\r\n```\r\n\r\nLeft some comments and question",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#pullrequestreview-1523177321",
      "submitted_at": "2023-07-11T00:11:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
    },
    {
      "event": "commented",
      "id": 1630248097,
      "node_id": "IC_kwDOABII585hK5yh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1630248097",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-11T06:51:09Z",
      "updated_at": "2023-07-11T06:51:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1630248097",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28027"
    },
    {
      "event": "commented",
      "id": 1634769028,
      "node_id": "IC_kwDOABII585hcJiE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1634769028",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-13T19:19:36Z",
      "updated_at": "2023-07-13T19:19:36Z",
      "author_association": "MEMBER",
      "body": "> Running this test failed on my device not sure if it's from this PR though.\r\n\r\nIt looks like you're missing the 25.0 binaries. The test is expecting to find 25.0's bitcoind at `/home/abubakarsadiq/Desktop/bitcoin/releases/v25.0/bin/bitcoind` but doesn't.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1634769028",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28027"
    },
    {
      "event": "commented",
      "id": 1636359937,
      "node_id": "IC_kwDOABII585hiN8B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1636359937",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-14T20:06:10Z",
      "updated_at": "2023-07-14T20:07:09Z",
      "author_association": "MEMBER",
      "body": "0ffa0f1c370494b6b99a9cdf911b20ee655ac829 (and later) breaks at line line 96 when you run `wallet_backwards_compatibility.py --descriptors` without BDB:\r\n\r\n```\r\nJSONRPCException: Wallet file verification failed. Failed to open database path '/tmp/bitcoin_func_test_x3n9_0vn/node1/regtest/wallets/w1_v19'. Build does not support Berkeley DB database format. (-18)\r\n```\r\n\r\nOtherwise it works, just some stylistic notes inline (e40896845a57bb5bf657f51dc007c6563e4ca22c).\r\n\r\n> 0.16 creating new wallets rather than testing the target wallets\r\n\r\nIs there an assert you can add in c31e0db7f4263096d503f07707af9d0a733e50da that would catch this directly? Right now a regression would be \"caught\" simply because it doesn't fail to load. Ideally we'd check this for every version before we dropped the \"just create a new one if it doesn't exist\" behavior was dropped.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1636359937",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28027"
    },
    {
      "event": "reviewed",
      "id": 1530881379,
      "node_id": "PRR_kwDOABII585bP2Vj",
      "url": null,
      "actor": null,
      "commit_id": "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#pullrequestreview-1530881379",
      "submitted_at": "2023-07-14T20:06:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9825888818,
      "node_id": "HRFPE_lADOABII585qhGLnzwAAAAJJqyoy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9825888818",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-14T20:58:09Z"
    },
    {
      "event": "commented",
      "id": 1636440917,
      "node_id": "IC_kwDOABII585hihtV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1636440917",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-14T21:01:46Z",
      "updated_at": "2023-07-14T21:01:46Z",
      "author_association": "MEMBER",
      "body": "> [0ffa0f1](https://github.com/bitcoin/bitcoin/commit/0ffa0f1c370494b6b99a9cdf911b20ee655ac829) (and later) breaks at line line 96 when you run `wallet_backwards_compatibility.py --descriptors` without BDB:\r\n\r\nFixed\r\n\r\n> > 0.16 creating new wallets rather than testing the target wallets\r\n> \r\n> Is there an assert you can add in [c31e0db](https://github.com/bitcoin/bitcoin/commit/c31e0db7f4263096d503f07707af9d0a733e50da) that would catch this directly? Right now a regression would be \"caught\" simply because it doesn't fail to load. Ideally we'd check this for every version before we dropped the \"just create a new one if it doesn't exist\" behavior was dropped.\r\n\r\nWith the versions that have `loadwallet`, we catch that case by checking the contents of the wallet. The test previously wasn't doing that for 0.16 (it was actually one of the first things I changed before I realized there was an incompatibility).",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1636440917",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28027"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVkODQ2OTM2MmFjZmI3YTAzZTBmNzY3ZGJiNzE2NjgzMDM1NWJlYWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5d8469362acfb7a03e0f767dbb7166830355bead",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5d8469362acfb7a03e0f767dbb7166830355bead",
      "tree": {
        "sha": "49866b90239092fcc98a73aa7da50b550d1fc730",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/49866b90239092fcc98a73aa7da50b550d1fc730"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef29d5d7e239b42269dd22ea94a709b5e4ceb5e5",
          "sha": "ef29d5d7e239b42269dd22ea94a709b5e4ceb5e5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ef29d5d7e239b42269dd22ea94a709b5e4ceb5e5"
        }
      ],
      "message": "test: Add helper functions for checking node versions",
      "committer": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-07-14T21:03:30Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-07-14T20:51:31Z"
      },
      "sha": "5d8469362acfb7a03e0f767dbb7166830355bead"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9825950377,
      "node_id": "HRFPE_lADOABII585qhGLnzwAAAAJJrBqp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9825950377",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-14T21:03:53Z"
    },
    {
      "event": "labeled",
      "id": 9825951148,
      "node_id": "LE_lADOABII585qhGLnzwAAAAJJrB2s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9825951148",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-14T21:03:58Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9825979766,
      "node_id": "HRFPE_lADOABII585qhGLnzwAAAAJJrI12",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9825979766",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-14T21:07:55Z"
    },
    {
      "event": "unlabeled",
      "id": 9826885030,
      "node_id": "UNLE_lADOABII585qhGLnzwAAAAJJul2m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9826885030",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-15T00:08:53Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1531463402,
      "node_id": "PRR_kwDOABII585bSEbq",
      "url": null,
      "actor": null,
      "commit_id": "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#pullrequestreview-1531463402",
      "submitted_at": "2023-07-15T15:31:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
    },
    {
      "event": "reviewed",
      "id": 1531492859,
      "node_id": "PRR_kwDOABII585bSLn7",
      "url": null,
      "actor": null,
      "commit_id": "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#pullrequestreview-1531492859",
      "submitted_at": "2023-07-15T15:41:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
    },
    {
      "event": "commented",
      "id": 1655662987,
      "node_id": "IC_kwDOABII585ir2mL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1655662987",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-28T13:12:05Z",
      "updated_at": "2023-07-28T13:12:05Z",
      "author_association": "MEMBER",
      "body": "ACK 91f47e676ae3f131e7cecae9b5b5e50b358e9b32\r\n\r\nAlso tested that reverting 6a9510d2dabde1c9ee6c4226e3d16ca32eb48ac5 causes the test to fail when it tries to load the wallet in master after having loaded it in v25 (`Wallet corrupted`).",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1655662987",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28027"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-23T08:57:53Z",
      "updated_at": "2023-08-23T08:57:53Z",
      "source": {
        "issue": {
          "id": 1742123145,
          "node_id": "PR_kwDOABII585SNp-7",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27829",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27829/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27829/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27829/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27829",
          "number": 27829,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: fix data optionality for RPC calls.",
          "body": "The \"data\" field without outputs was marked as \"required\" in the help docs when using bitcoin-cli. This field when left off worked as an intended optional OP_RETURN. closes #27828.\r\n\r\nMotivation: It is hard to understand that \"data\" is actually optional for commands like `createpsbt` and `walletcreatefundedpsbt`.",
          "user": {
            "login": "miketwenty1",
            "id": 7761473,
            "node_id": "MDQ6VXNlcjc3NjE0NzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7761473?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/miketwenty1",
            "html_url": "https://github.com/miketwenty1",
            "followers_url": "https://api.github.com/users/miketwenty1/followers",
            "following_url": "https://api.github.com/users/miketwenty1/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/miketwenty1/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/miketwenty1/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/miketwenty1/subscriptions",
            "organizations_url": "https://api.github.com/users/miketwenty1/orgs",
            "repos_url": "https://api.github.com/users/miketwenty1/repos",
            "events_url": "https://api.github.com/users/miketwenty1/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/miketwenty1/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27829",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27829",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27829.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27829.patch"
          },
          "closed_at": "2023-08-23T20:37:44Z",
          "created_at": "2023-06-05T16:21:03Z",
          "updated_at": "2023-08-24T18:06:20Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10174331777,
      "node_id": "HRFPE_lADOABII585qhGLnzwAAAAJeb_uB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10174331777",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-23T20:42:44Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDMxM2Q2NjU0MzcwNzljZTg0MjY5MTZhNDFhMTE5NzJlOTdjNzNkNmQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/313d665437079ce8426916a41a11972e97c73d6d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/313d665437079ce8426916a41a11972e97c73d6d",
      "tree": {
        "sha": "5a668535d6c2096d3ba89ddf1d35dae6227afdcb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5a668535d6c2096d3ba89ddf1d35dae6227afdcb"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5d8469362acfb7a03e0f767dbb7166830355bead",
          "sha": "5d8469362acfb7a03e0f767dbb7166830355bead",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5d8469362acfb7a03e0f767dbb7166830355bead"
        }
      ],
      "message": "test: Fix 0.16 wallet paths and downgrade test\n\nThe test for 0.16 wallet downgrading was using the wrong wallet path and\nthus incorrectly finding that 0.16 could open wallets created in master.",
      "committer": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-08-23T20:49:41Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-07-04T00:53:16Z"
      },
      "sha": "313d665437079ce8426916a41a11972e97c73d6d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUzZjM1ZDAyY2I3YjY3ZGRlY2M5NTE0NTU5MDgzZjg1MDkzYjZjZTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/53f35d02cb7b67ddecc9514559083f85093b6ce5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/53f35d02cb7b67ddecc9514559083f85093b6ce5",
      "tree": {
        "sha": "d5fa64bf820c32af005ee4f49365d7d07d86a0a8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d5fa64bf820c32af005ee4f49365d7d07d86a0a8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/313d665437079ce8426916a41a11972e97c73d6d",
          "sha": "313d665437079ce8426916a41a11972e97c73d6d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/313d665437079ce8426916a41a11972e97c73d6d"
        }
      ],
      "message": "test: Remove w1_v18 from wallet backwards compatibility\n\nThis wallet is no longer used in the test",
      "committer": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-08-23T20:49:41Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-07-04T01:06:23Z"
      },
      "sha": "53f35d02cb7b67ddecc9514559083f85093b6ce5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcxYzAzYWVmZjdlMWM2M2MyMWZhNzJkMTE5MzExMjMwZjBiMzBlNzM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71c03aeff7e1c63c21fa72d119311230f0b30e73",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/71c03aeff7e1c63c21fa72d119311230f0b30e73",
      "tree": {
        "sha": "9c830d13b104430e9343fcc8c815553fdf564085",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9c830d13b104430e9343fcc8c815553fdf564085"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/53f35d02cb7b67ddecc9514559083f85093b6ce5",
          "sha": "53f35d02cb7b67ddecc9514559083f85093b6ce5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/53f35d02cb7b67ddecc9514559083f85093b6ce5"
        }
      ],
      "message": "test: Refactor v19 addmultisigaddress test to be distinct\n\nThis specific test is distinct from the rest of the backwards\ncompatibility tests as it is checking a specific failure.",
      "committer": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-08-23T20:49:41Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-07-04T01:14:43Z"
      },
      "sha": "71c03aeff7e1c63c21fa72d119311230f0b30e73"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY0MTIxNWMzZjA4Zjk5ZDFiZmE1MjRmMmRhODA1NWI2YTQ0NThiYmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f41215c3f08f99d1bfa524f2da8055b6a4458bbb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f41215c3f08f99d1bfa524f2da8055b6a4458bbb",
      "tree": {
        "sha": "9a3f99e476edc8e92c20e42e1fb3c51ffbc37115",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9a3f99e476edc8e92c20e42e1fb3c51ffbc37115"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71c03aeff7e1c63c21fa72d119311230f0b30e73",
          "sha": "71c03aeff7e1c63c21fa72d119311230f0b30e73",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/71c03aeff7e1c63c21fa72d119311230f0b30e73"
        }
      ],
      "message": "test: add logging 0.17 incompatibilities in wallet back compat",
      "committer": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-08-23T20:49:41Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-07-04T01:23:24Z"
      },
      "sha": "f41215c3f08f99d1bfa524f2da8055b6a4458bbb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYxNTg1NzNiZTEyNzQ2OTkxYjc1NTg3Y2M5ZTQxYTc0YTVlOTg2ZWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f158573be12746991b75587cc9e41a74a5e986eb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f158573be12746991b75587cc9e41a74a5e986eb",
      "tree": {
        "sha": "d257e76c675fe6c325070dc7b6f13b92d79e2060",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d257e76c675fe6c325070dc7b6f13b92d79e2060"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f41215c3f08f99d1bfa524f2da8055b6a4458bbb",
          "sha": "f41215c3f08f99d1bfa524f2da8055b6a4458bbb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f41215c3f08f99d1bfa524f2da8055b6a4458bbb"
        }
      ],
      "message": "test: Add 0.21 tr() incompatibility test",
      "committer": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-08-23T20:49:41Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-07-04T01:50:20Z"
      },
      "sha": "f158573be12746991b75587cc9e41a74a5e986eb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZkNDY5OTAyOGIxN2NiMzM5NTNmN2QxMTc2NGUwNjA2OWRkNTg5MTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6d4699028b17cb33953f7d11764e06069dd58915",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6d4699028b17cb33953f7d11764e06069dd58915",
      "tree": {
        "sha": "b9528b17046c0a9f06d0979ec8d9b6ddaf87ceec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b9528b17046c0a9f06d0979ec8d9b6ddaf87ceec"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f158573be12746991b75587cc9e41a74a5e986eb",
          "sha": "f158573be12746991b75587cc9e41a74a5e986eb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f158573be12746991b75587cc9e41a74a5e986eb"
        }
      ],
      "message": "test: Run downgrade test on descriptor wallets",
      "committer": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-08-23T20:49:41Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-07-03T23:28:45Z"
      },
      "sha": "6d4699028b17cb33953f7d11764e06069dd58915"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUzODkzOWVjMzllMTQ2YmVkZmZiODBjZjg0ODQ5YTQ1MGVhOGZlYWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/538939ec39e146bedffb80cf84849a450ea8fead",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/538939ec39e146bedffb80cf84849a450ea8fead",
      "tree": {
        "sha": "599a51815eda9530343ec1dafd28edfee2170f53",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/599a51815eda9530343ec1dafd28edfee2170f53"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6d4699028b17cb33953f7d11764e06069dd58915",
          "sha": "6d4699028b17cb33953f7d11764e06069dd58915",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6d4699028b17cb33953f7d11764e06069dd58915"
        }
      ],
      "message": "test: Run upgrade test on all nodes",
      "committer": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-08-23T20:49:41Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-07-03T23:28:58Z"
      },
      "sha": "538939ec39e146bedffb80cf84849a450ea8fead"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJiZjQzYzYzYjk0NzJhNzk0NjJlNjI1YTFmMDU5Mjk3M2MyMmI0N2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bbf43c63b9472a79462e625a1f0592973c22b47c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bbf43c63b9472a79462e625a1f0592973c22b47c",
      "tree": {
        "sha": "135d2231da355a33d2b2eacda6065f08993ebe61",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/135d2231da355a33d2b2eacda6065f08993ebe61"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/538939ec39e146bedffb80cf84849a450ea8fead",
          "sha": "538939ec39e146bedffb80cf84849a450ea8fead",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/538939ec39e146bedffb80cf84849a450ea8fead"
        }
      ],
      "message": "test: Add 25.0 to wallet backwards compatibiilty test",
      "committer": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-08-23T20:49:41Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-07-04T01:33:20Z"
      },
      "sha": "bbf43c63b9472a79462e625a1f0592973c22b47c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFmZDlhNjczYzQ1OGU5NzMwNWRhNDlhNzBhMWRkYmY2MGU2NTE4NzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/afd9a673c458e97305da49a70a1ddbf60e651876",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/afd9a673c458e97305da49a70a1ddbf60e651876",
      "tree": {
        "sha": "9361439b9127405c3142a5e2b28cd6a0857246a6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9361439b9127405c3142a5e2b28cd6a0857246a6"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bbf43c63b9472a79462e625a1f0592973c22b47c",
          "sha": "bbf43c63b9472a79462e625a1f0592973c22b47c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bbf43c63b9472a79462e625a1f0592973c22b47c"
        }
      ],
      "message": "test: roundtrip wallet backwards compat downgrade\n\nTest that old nodes don't mess up new wallets by loading a downgraded\nwallet in master again.",
      "committer": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-08-23T20:49:41Z"
      },
      "author": {
        "name": "Andrew Chow",
        "email": "github@achow101.com",
        "date": "2023-07-04T02:51:09Z"
      },
      "sha": "afd9a673c458e97305da49a70a1ddbf60e651876"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10174385760,
      "node_id": "HRFPE_lADOABII585qhGLnzwAAAAJecM5g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10174385760",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-23T20:49:47Z"
    },
    {
      "event": "reviewed",
      "id": 1592524137,
      "node_id": "PRR_kwDOABII585e6_1p",
      "url": null,
      "actor": null,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK afd9a67",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#pullrequestreview-1592524137",
      "submitted_at": "2023-08-23T22:55:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
    },
    {
      "event": "review_requested",
      "id": 10175177479,
      "node_id": "RRE_lADOABII585qhGLnzwAAAAJefOMH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10175177479",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-23T22:55:54Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-02T14:19:07Z",
      "updated_at": "2023-09-02T14:19:07Z",
      "source": {
        "issue": {
          "id": 1878672083,
          "node_id": "PR_kwDOABII585ZZ1nx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28392",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28392/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28392/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28392/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28392",
          "number": 28392,
          "state": "open",
          "state_reason": null,
          "title": "test: Use pathlib over os path",
          "body": "In reference to issue  #28362  refactoring of functional tests to use pathlib over os.path to reduce verbosity and increase the intuitiveness of managing file access.",
          "user": {
            "login": "ns-xvrn",
            "id": 120062368,
            "node_id": "U_kgDOBygBoA",
            "avatar_url": "https://avatars.githubusercontent.com/u/120062368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ns-xvrn",
            "html_url": "https://github.com/ns-xvrn",
            "followers_url": "https://api.github.com/users/ns-xvrn/followers",
            "following_url": "https://api.github.com/users/ns-xvrn/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ns-xvrn/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ns-xvrn/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ns-xvrn/subscriptions",
            "organizations_url": "https://api.github.com/users/ns-xvrn/orgs",
            "repos_url": "https://api.github.com/users/ns-xvrn/repos",
            "events_url": "https://api.github.com/users/ns-xvrn/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ns-xvrn/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28392",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28392",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28392.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28392.patch"
          },
          "created_at": "2023-09-02T12:40:05Z",
          "updated_at": "2023-09-15T01:04:07Z"
        },
        "type": "issue"
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1251525740",
      "pull_request_review_id": 1512116964,
      "id": 1251525740,
      "node_id": "PRRC_kwDOABII585KmMRs",
      "diff_hunk": "@@ -160,18 +155,25 @@ def run_test(self):\n         node_master_wallets_dir = node_master.wallets_path\n         node_v19_wallets_dir = node_v19.wallets_path\n         node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n+        node_v16_wallets_dir = node_v16.wallets_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n+                if node.version == 160300:\n+                    # 0.16 node expect the wallet to be in the wallet dir but as a plain file rather than in directories\n+                    shutil.copyfile(\n+                        os.path.join(node_master.wallets_path, wallet, \"wallet.dat\"),",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 32,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "95b140a4b75c61e4ae3f4d1ea6e2d4a6b9fa15e8",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "only if you re-touch, style nit in 95b140a4b75c61e4ae3f4d1ea6e2d4a6b9fa15e8 (and following commits): The `*_path` node properties can use the shorter `a / b / c` syntax, over  `os.path.join(a, b, c)`.",
      "created_at": "2023-07-04T06:05:16Z",
      "updated_at": "2023-07-04T06:07:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1251525740",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1251525740"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 169,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257851249",
      "pull_request_review_id": 1521467578,
      "id": 1257851249,
      "node_id": "PRRC_kwDOABII585K-Ulx",
      "diff_hunk": "@@ -158,34 +173,46 @@ def run_test(self):\n \n         # Unload wallets and copy to older nodes:\n         node_master_wallets_dir = node_master.wallets_path\n-        node_v19_wallets_dir = node_v19.wallets_path\n-        node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n-\n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n+                if node.version == 160300:",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 138,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "v0.16 is different in many regards, does it make sense to have a separate test to check incompatibility?",
      "created_at": "2023-07-10T07:43:38Z",
      "updated_at": "2023-07-10T07:43:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1257851249",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257851249"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 183,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257854317",
      "pull_request_review_id": 1521472220,
      "id": 1257854317,
      "node_id": "PRRC_kwDOABII585K-VVt",
      "diff_hunk": "@@ -208,13 +235,29 @@ def run_test(self):\n                     else:\n                         assert info['private_keys_enabled'] == True\n                         assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n+\n+                    # Copy back to master\n+                    wallet.unloadwallet()\n+                    if n == node:\n+                        shutil.rmtree(os.path.join(node_master.wallets_path, wallet_name))\n+                        shutil.copytree(\n+                            os.path.join(n.wallets_path, wallet_name),\n+                            os.path.join(node_master.wallets_path, wallet_name),\n+                        )\n+\n+        # Check that descriptor wallets don't work on legacy only nodes\n+        if self.options.descriptors:\n+            self.log.info(\"Test descriptor wallet incompatibility on:\")\n+            for node in legacy_only_nodes:\n+                if node.version < 180000:",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 194,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "pull up the comment explaining why?",
      "created_at": "2023-07-10T07:46:36Z",
      "updated_at": "2023-07-10T07:46:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1257854317",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257854317"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 255,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258613252",
      "pull_request_review_id": 1522581655,
      "id": 1258613252,
      "node_id": "PRRC_kwDOABII585LBOoE",
      "diff_hunk": "@@ -160,18 +155,25 @@ def run_test(self):\n         node_master_wallets_dir = node_master.wallets_path\n         node_v19_wallets_dir = node_v19.wallets_path\n         node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n+        node_v16_wallets_dir = node_v16.wallets_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n+                if node.version == 160300:\n+                    # 0.16 node expect the wallet to be in the wallet dir but as a plain file rather than in directories\n+                    shutil.copyfile(\n+                        os.path.join(node_master.wallets_path, wallet, \"wallet.dat\"),",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 32,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "95b140a4b75c61e4ae3f4d1ea6e2d4a6b9fa15e8",
      "in_reply_to_id": 1251525740,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done where the code was more than just moved.",
      "created_at": "2023-07-10T17:11:41Z",
      "updated_at": "2023-07-10T17:11:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1258613252",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258613252"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 169,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258613989",
      "pull_request_review_id": 1522582856,
      "id": 1258613989,
      "node_id": "PRRC_kwDOABII585LBOzl",
      "diff_hunk": "@@ -158,34 +173,46 @@ def run_test(self):\n \n         # Unload wallets and copy to older nodes:\n         node_master_wallets_dir = node_master.wallets_path\n-        node_v19_wallets_dir = node_v19.wallets_path\n-        node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n-\n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n+                if node.version == 160300:",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 138,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "in_reply_to_id": 1257851249,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps, but I think we should test it in this test as it's important to have the upgrade and downgrade tests for the older wallet version.",
      "created_at": "2023-07-10T17:12:32Z",
      "updated_at": "2023-07-10T17:12:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1258613989",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258613989"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 183,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258614077",
      "pull_request_review_id": 1522582991,
      "id": 1258614077,
      "node_id": "PRRC_kwDOABII585LBO09",
      "diff_hunk": "@@ -208,13 +235,29 @@ def run_test(self):\n                     else:\n                         assert info['private_keys_enabled'] == True\n                         assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n+\n+                    # Copy back to master\n+                    wallet.unloadwallet()\n+                    if n == node:\n+                        shutil.rmtree(os.path.join(node_master.wallets_path, wallet_name))\n+                        shutil.copytree(\n+                            os.path.join(n.wallets_path, wallet_name),\n+                            os.path.join(node_master.wallets_path, wallet_name),\n+                        )\n+\n+        # Check that descriptor wallets don't work on legacy only nodes\n+        if self.options.descriptors:\n+            self.log.info(\"Test descriptor wallet incompatibility on:\")\n+            for node in legacy_only_nodes:\n+                if node.version < 180000:",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 194,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "in_reply_to_id": 1257854317,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-07-10T17:12:38Z",
      "updated_at": "2023-07-10T17:12:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1258614077",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258614077"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 255,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259010439",
      "pull_request_review_id": 1523177321,
      "id": 1259010439,
      "node_id": "PRRC_kwDOABII585LCvmH",
      "diff_hunk": "@@ -72,10 +72,45 @@ def setup_nodes(self):\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n \n+    def test_v19_addmultisigaddress(self):\n+        # Specific test for addmultisigaddress using v19\n+        # See #18075\n+        self.log.info(\"Testing 0.19 addmultisigaddress case (#18075)\")\n+        node_master = self.nodes[1]\n+        node_v19 = self.nodes[self.num_nodes - 4]\n+        node_v19.rpc.createwallet(wallet_name=\"w1_v19\")\n+        wallet = node_v19.get_wallet_rpc(\"w1_v19\")\n+        info = wallet.getwalletinfo()\n+        assert info['private_keys_enabled']\n+        assert info['keypoolsize'] > 0\n+        # Use addmultisigaddress (see #18075)\n+        address_18075 = wallet.rpc.addmultisigaddress(1, [\"0296b538e853519c726a2c91e61ec11600ae1390813a627c66fb8be7947be63c52\", \"037211a824f55b505228e4c3d5194c1fcfaa15a456abdf37f9b9d97a4040afc073\"], \"\", \"legacy\")[\"address\"]",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": 62,
      "original_position": 16,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "0ffa0f1c370494b6b99a9cdf911b20ee655ac829",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The v19 test pubkeys `0296b538e853519c726a2c91e61ec11600ae1390813a627c66fb8be7947be63c52` and `037211a824f55b505228e4c3d5194c1fcfaa15a456abdf37f9b9d97a4040afc073`  are they relevant to the test?  I see they are the same as the one reported in #18075",
      "created_at": "2023-07-10T23:40:56Z",
      "updated_at": "2023-07-11T00:11:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259010439",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259010439"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 109,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259013655",
      "pull_request_review_id": 1523177321,
      "id": 1259013655,
      "node_id": "PRRC_kwDOABII585LCwYX",
      "diff_hunk": "@@ -192,52 +194,60 @@ def run_test(self):\n \n         self.test_v19_addmultisigaddress()\n \n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n-                    info = wallet.getwalletinfo()\n-                    if wallet_name == \"w1\":\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] > 0\n-                        txs = wallet.listtransactions()\n-                        assert_equal(len(txs), 5)\n-                        assert_equal(txs[1][\"txid\"], tx1_id)\n-                        assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-                        assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-                        assert not txs[1][\"abandoned\"]\n-                        assert_equal(txs[1][\"confirmations\"], -1)\n-                        assert_equal(txs[2][\"blockindex\"], 1)\n-                        assert txs[3][\"abandoned\"]\n-                        assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-                        assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-                        assert not hasattr(txs[3], \"blockindex\")\n-                    elif wallet_name == \"w2\":\n-                        assert info['private_keys_enabled'] == False\n-                        assert info['keypoolsize'] == 0\n-                    else:\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n+        self.log.info(\"Test that a wallet made on master can be opened on:\")\n+        # In descriptors wallet mode, run this test on the nodes that support descriptor wallets\n+        # In legacy wallets mode, run this test on the nodes that support legacy wallets\n+        for node in descriptors_nodes if self.options.descriptors else legacy_nodes:\n+            if node.version < 170000:\n+                # loadwallet was introduced in v0.17.0\n+                continue\n+            self.log.info(f\"- {node.version}\")\n+            for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+                if node.version < 180000 and wallet_name == \"w3\":",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 61,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "3e7bbf3a86c067427735ac30f8bbe496d61d5fb4",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`180000`, `210000`, e.t.c\r\nTo reduce the magic numbers we can create a variable for the versions, e.g `v18 = 180000`and  reuse it throughout the tests?",
      "created_at": "2023-07-10T23:46:57Z",
      "updated_at": "2023-07-11T00:11:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259013655",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259013655"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 206,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259015544",
      "pull_request_review_id": 1523177321,
      "id": 1259015544,
      "node_id": "PRRC_kwDOABII585LCw14",
      "diff_hunk": "@@ -127,13 +126,6 @@ def run_test(self):\n         assert wallet.getaddressinfo(address_18075)[\"solvable\"]\n         node_v19.unloadwallet(\"w1_v19\")\n \n-        # w1_v18: regular wallet, created with v0.18",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": 117,
      "original_position": 12,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "6a5d245b89c51a53989b984d31d7bb4d807837c3",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why are we no longer using the wallet?",
      "created_at": "2023-07-10T23:51:01Z",
      "updated_at": "2023-07-11T00:11:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259015544",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259015544"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 135,
      "original_line": 135,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259265158",
      "pull_request_review_id": 1523538022,
      "id": 1259265158,
      "node_id": "PRRC_kwDOABII585LDtyG",
      "diff_hunk": "@@ -158,34 +173,46 @@ def run_test(self):\n \n         # Unload wallets and copy to older nodes:\n         node_master_wallets_dir = node_master.wallets_path\n-        node_v19_wallets_dir = node_v19.wallets_path\n-        node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n-\n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n+                if node.version == 160300:",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 138,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "in_reply_to_id": 1257851249,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "agree, you can resolve this",
      "created_at": "2023-07-11T06:50:23Z",
      "updated_at": "2023-07-11T06:50:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259265158",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259265158"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 183,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262968377",
      "pull_request_review_id": 1529106013,
      "id": 1262968377,
      "node_id": "PRRC_kwDOABII585LR145",
      "diff_hunk": "@@ -72,10 +72,45 @@ def setup_nodes(self):\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n \n+    def test_v19_addmultisigaddress(self):\n+        # Specific test for addmultisigaddress using v19\n+        # See #18075\n+        self.log.info(\"Testing 0.19 addmultisigaddress case (#18075)\")\n+        node_master = self.nodes[1]\n+        node_v19 = self.nodes[self.num_nodes - 4]\n+        node_v19.rpc.createwallet(wallet_name=\"w1_v19\")\n+        wallet = node_v19.get_wallet_rpc(\"w1_v19\")\n+        info = wallet.getwalletinfo()\n+        assert info['private_keys_enabled']\n+        assert info['keypoolsize'] > 0\n+        # Use addmultisigaddress (see #18075)\n+        address_18075 = wallet.rpc.addmultisigaddress(1, [\"0296b538e853519c726a2c91e61ec11600ae1390813a627c66fb8be7947be63c52\", \"037211a824f55b505228e4c3d5194c1fcfaa15a456abdf37f9b9d97a4040afc073\"], \"\", \"legacy\")[\"address\"]",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": 62,
      "original_position": 16,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "0ffa0f1c370494b6b99a9cdf911b20ee655ac829",
      "in_reply_to_id": 1259010439,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't think the specific keys are relevant.",
      "created_at": "2023-07-13T19:20:05Z",
      "updated_at": "2023-07-13T19:20:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1262968377",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262968377"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 109,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262971716",
      "pull_request_review_id": 1529111506,
      "id": 1262971716,
      "node_id": "PRRC_kwDOABII585LR2tE",
      "diff_hunk": "@@ -127,13 +126,6 @@ def run_test(self):\n         assert wallet.getaddressinfo(address_18075)[\"solvable\"]\n         node_v19.unloadwallet(\"w1_v19\")\n \n-        # w1_v18: regular wallet, created with v0.18",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": 117,
      "original_position": 12,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "6a5d245b89c51a53989b984d31d7bb4d807837c3",
      "in_reply_to_id": 1259015544,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I would guess that it was used in the up-downgrade test but was accidentally removed at some point. It isn't necessary anymore either as that test is now automated to go over all of the previous versions so the hardcoded specific wallet versions are no longer necessary.",
      "created_at": "2023-07-13T19:24:02Z",
      "updated_at": "2023-07-13T19:24:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1262971716",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262971716"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 135,
      "original_line": 135,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262972014",
      "pull_request_review_id": 1529112164,
      "id": 1262972014,
      "node_id": "PRRC_kwDOABII585LR2xu",
      "diff_hunk": "@@ -192,52 +194,60 @@ def run_test(self):\n \n         self.test_v19_addmultisigaddress()\n \n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n-                    info = wallet.getwalletinfo()\n-                    if wallet_name == \"w1\":\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] > 0\n-                        txs = wallet.listtransactions()\n-                        assert_equal(len(txs), 5)\n-                        assert_equal(txs[1][\"txid\"], tx1_id)\n-                        assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-                        assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-                        assert not txs[1][\"abandoned\"]\n-                        assert_equal(txs[1][\"confirmations\"], -1)\n-                        assert_equal(txs[2][\"blockindex\"], 1)\n-                        assert txs[3][\"abandoned\"]\n-                        assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-                        assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-                        assert not hasattr(txs[3], \"blockindex\")\n-                    elif wallet_name == \"w2\":\n-                        assert info['private_keys_enabled'] == False\n-                        assert info['keypoolsize'] == 0\n-                    else:\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n+        self.log.info(\"Test that a wallet made on master can be opened on:\")\n+        # In descriptors wallet mode, run this test on the nodes that support descriptor wallets\n+        # In legacy wallets mode, run this test on the nodes that support legacy wallets\n+        for node in descriptors_nodes if self.options.descriptors else legacy_nodes:\n+            if node.version < 170000:\n+                # loadwallet was introduced in v0.17.0\n+                continue\n+            self.log.info(f\"- {node.version}\")\n+            for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+                if node.version < 180000 and wallet_name == \"w3\":",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 61,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "3e7bbf3a86c067427735ac30f8bbe496d61d5fb4",
      "in_reply_to_id": 1259013655,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Will do if I need to retouch.",
      "created_at": "2023-07-13T19:24:14Z",
      "updated_at": "2023-07-13T19:24:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1262972014",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262972014"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 206,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264078873",
      "pull_request_review_id": 1530881379,
      "id": 1264078873,
      "node_id": "PRRC_kwDOABII585LWFAZ",
      "diff_hunk": "@@ -158,34 +173,46 @@ def run_test(self):\n \n         # Unload wallets and copy to older nodes:\n         node_master_wallets_dir = node_master.wallets_path\n-        node_v19_wallets_dir = node_v19.wallets_path\n-        node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n-\n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n+                if node.version == 160300:",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 138,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "in_reply_to_id": 1257851249,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "c31e0db7f4263096d503f07707af9d0a733e50da The original `< 170000` made it more clear that this applies to _all_ old versions. Not a big deal though, since it's unlikely we'll add even older nodes.",
      "created_at": "2023-07-14T19:27:32Z",
      "updated_at": "2023-07-14T20:06:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264078873",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264078873"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 183,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264084847",
      "pull_request_review_id": 1530881379,
      "id": 1264084847,
      "node_id": "PRRC_kwDOABII585LWGdv",
      "diff_hunk": "@@ -76,7 +76,6 @@ def run_test(self):\n         node_miner = self.nodes[0]\n         node_master = self.nodes[1]\n         node_v19 = self.nodes[self.num_nodes - 4]",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 3,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "6a5d245b89c51a53989b984d31d7bb4d807837c3",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "6a5d245b89c51a53989b984d31d7bb4d807837c3: if a node is node is not used, we should reduce the number of nodes and `node_v19` should be `self.num_nodes - 3`.",
      "created_at": "2023-07-14T19:35:06Z",
      "updated_at": "2023-07-14T20:06:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264084847",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264084847"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 78,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264088086",
      "pull_request_review_id": 1530881379,
      "id": 1264088086,
      "node_id": "PRRC_kwDOABII585LWHQW",
      "diff_hunk": "@@ -261,6 +261,12 @@ def run_test(self):\n             else:\n                 node_v16.assert_start_raises_init_error([f\"-wallet={wallet_name}\"], f\"Error: Error loading {wallet_name}: Wallet requires newer version of Bitcoin Core\")\n \n+        # When descriptors are enabled, w1 cannot be opened by 0.21 sinced it contains a taproot descriptor\n+        if self.options.descriptors:\n+            self.log.info(\"Test that 0.21 cannot open wallet containing tr() descriptors\")\n+            node_v21 = self.nodes[-6]",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 7,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "72362ed1fbbab9dfbaf224f930ed9b328f29c55f",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "72362ed1fbbab9dfbaf224f930ed9b328f29c55f: maybe keep all the `node_v..` definitions in one place at the top of the test?",
      "created_at": "2023-07-14T19:40:01Z",
      "updated_at": "2023-07-14T20:06:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264088086",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264088086"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 267,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264119254",
      "pull_request_review_id": 1530966611,
      "id": 1264119254,
      "node_id": "PRRC_kwDOABII585LWO3W",
      "diff_hunk": "@@ -76,7 +76,6 @@ def run_test(self):\n         node_miner = self.nodes[0]\n         node_master = self.nodes[1]\n         node_v19 = self.nodes[self.num_nodes - 4]",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 3,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "6a5d245b89c51a53989b984d31d7bb4d807837c3",
      "in_reply_to_id": 1264084847,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "0.18 is still tested, just not explicitly with its own special casing and variables.",
      "created_at": "2023-07-14T20:13:58Z",
      "updated_at": "2023-07-14T20:13:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264119254",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264119254"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 78,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264136631",
      "pull_request_review_id": 1530995526,
      "id": 1264136631,
      "node_id": "PRRC_kwDOABII585LWTG3",
      "diff_hunk": "@@ -158,34 +173,46 @@ def run_test(self):\n \n         # Unload wallets and copy to older nodes:\n         node_master_wallets_dir = node_master.wallets_path\n-        node_v19_wallets_dir = node_v19.wallets_path\n-        node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n-\n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n+                if node.version == 160300:",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 138,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "in_reply_to_id": 1257851249,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, this is more correct. This behavior doesn't apply to all older versions, only to 0.16.x. Versions prior to this kept the wallet files in the main datadir. 0.16 added the wallet directory but the wallets are still per file. 0.17 moved wallets into the current one directory per wallet structure.",
      "created_at": "2023-07-14T20:24:47Z",
      "updated_at": "2023-07-14T20:24:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264136631",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264136631"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 183,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264170579",
      "pull_request_review_id": 1531038307,
      "id": 1264170579,
      "node_id": "PRRC_kwDOABII585LWbZT",
      "diff_hunk": "@@ -192,52 +194,60 @@ def run_test(self):\n \n         self.test_v19_addmultisigaddress()\n \n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n-                    info = wallet.getwalletinfo()\n-                    if wallet_name == \"w1\":\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] > 0\n-                        txs = wallet.listtransactions()\n-                        assert_equal(len(txs), 5)\n-                        assert_equal(txs[1][\"txid\"], tx1_id)\n-                        assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-                        assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-                        assert not txs[1][\"abandoned\"]\n-                        assert_equal(txs[1][\"confirmations\"], -1)\n-                        assert_equal(txs[2][\"blockindex\"], 1)\n-                        assert txs[3][\"abandoned\"]\n-                        assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-                        assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-                        assert not hasattr(txs[3], \"blockindex\")\n-                    elif wallet_name == \"w2\":\n-                        assert info['private_keys_enabled'] == False\n-                        assert info['keypoolsize'] == 0\n-                    else:\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n+        self.log.info(\"Test that a wallet made on master can be opened on:\")\n+        # In descriptors wallet mode, run this test on the nodes that support descriptor wallets\n+        # In legacy wallets mode, run this test on the nodes that support legacy wallets\n+        for node in descriptors_nodes if self.options.descriptors else legacy_nodes:\n+            if node.version < 170000:\n+                # loadwallet was introduced in v0.17.0\n+                continue\n+            self.log.info(f\"- {node.version}\")\n+            for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+                if node.version < 180000 and wallet_name == \"w3\":",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 61,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "3e7bbf3a86c067427735ac30f8bbe496d61d5fb4",
      "in_reply_to_id": 1259013655,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Instead of using magic numbers, I've changed the test to use helper functions that check the major version.",
      "created_at": "2023-07-14T20:57:40Z",
      "updated_at": "2023-07-14T20:57:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264170579",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264170579"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 206,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264170660",
      "pull_request_review_id": 1531038410,
      "id": 1264170660,
      "node_id": "PRRC_kwDOABII585LWbak",
      "diff_hunk": "@@ -261,6 +261,12 @@ def run_test(self):\n             else:\n                 node_v16.assert_start_raises_init_error([f\"-wallet={wallet_name}\"], f\"Error: Error loading {wallet_name}: Wallet requires newer version of Bitcoin Core\")\n \n+        # When descriptors are enabled, w1 cannot be opened by 0.21 sinced it contains a taproot descriptor\n+        if self.options.descriptors:\n+            self.log.info(\"Test that 0.21 cannot open wallet containing tr() descriptors\")\n+            node_v21 = self.nodes[-6]",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 7,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "72362ed1fbbab9dfbaf224f930ed9b328f29c55f",
      "in_reply_to_id": 1264088086,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-07-14T20:57:46Z",
      "updated_at": "2023-07-14T20:57:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264170660",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264170660"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 267,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264456268",
      "pull_request_review_id": 1531463402,
      "id": 1264456268,
      "node_id": "PRRC_kwDOABII585LXhJM",
      "diff_hunk": "@@ -178,18 +178,25 @@ def run_test(self):\n         node_master_wallets_dir = node_master.wallets_path\n         node_v19_wallets_dir = node_v19.wallets_path\n         node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n+        node_v16_wallets_dir = node_v16.wallets_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": 143,
      "original_position": 15,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "df850c257c77f86d2e05a1b6dd4d6baab2c2e61a",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In df850c25:\r\nRemoved the only usage of the `nodes_wallet_dir` function but not the, now unused, function.",
      "created_at": "2023-07-15T15:05:56Z",
      "updated_at": "2023-07-15T15:31:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264456268",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264456268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 173,
      "original_line": 191,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264460963",
      "pull_request_review_id": 1531463402,
      "id": 1264460963,
      "node_id": "PRRC_kwDOABII585LXiSj",
      "diff_hunk": "@@ -178,18 +178,25 @@ def run_test(self):\n         node_master_wallets_dir = node_master.wallets_path\n         node_v19_wallets_dir = node_v19.wallets_path\n         node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n+        node_v16_wallets_dir = node_v16.wallets_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n+                if self.major_version_equals(node, 16):\n+                    # 0.16 node expect the wallet to be in the wallet dir but as a plain file rather than in directories\n+                    shutil.copyfile(\n+                        node_master.wallets_path / wallet / \"wallet.dat\",\n+                        node.wallets_path / wallet,\n+                    )\n+                else:\n+                    shutil.copytree(\n+                        node_master_wallets_dir / wallet,\n+                        node.wallets_path / wallet,\n+                    )",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 27,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "df850c257c77f86d2e05a1b6dd4d6baab2c2e61a",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In df850c25:\r\n\r\nCould simplify this:\r\n\r\n```suggestion\r\n            # Copy wallets to previous version\r\n            for wallet in os.listdir(node_master_wallets_dir):\r\n                source = node_master_wallets_dir / wallet\r\n                if self.major_version_equals(node, 16):\r\n                    # 0.16 node expect the wallet to be in the wallet dir but as a plain file rather than in directories\r\n                    source / \"wallet.dat\"\r\n                shutil.copytree(source, node.wallets_path / wallet)\r\n```",
      "created_at": "2023-07-15T15:17:46Z",
      "updated_at": "2023-07-15T15:31:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264460963",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264460963"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": 187,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 199,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264468473",
      "pull_request_review_id": 1531492859,
      "id": 1264468473,
      "node_id": "PRRC_kwDOABII585LXkH5",
      "diff_hunk": "@@ -208,130 +261,133 @@ def run_test(self):\n                     else:\n                         assert info['private_keys_enabled'] == True\n                         assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n-                # Descriptor wallets appear to be corrupted wallets to old software\n-                # and loadwallet is introduced in v0.17.0\n-                if node.version >= 170000 and node.version < 210000:\n-                    for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                        assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node.loadwallet, wallet_name)\n \n-        # RPC loadwallet failure causes bitcoind to exit, in addition to the RPC\n-        # call failure, so the following test won't work:\n-        # assert_raises_rpc_error(-4, \"Wallet loading failed.\", node_v17.loadwallet, 'w3')\n+                    # Copy back to master\n+                    wallet.unloadwallet()\n+                    if n == node:\n+                        shutil.rmtree(node_master.wallets_path / wallet_name)\n+                        shutil.copytree(\n+                            n.wallets_path / wallet_name,\n+                            node_master.wallets_path / wallet_name,\n+                        )\n+\n+        # Check that descriptor wallets don't work on legacy only nodes\n+        if self.options.descriptors:\n+            self.log.info(\"Test descriptor wallet incompatibility on:\")\n+            for node in legacy_only_nodes:\n+                # RPC loadwallet failure causes bitcoind to exit in <= 0.17, in addition to the RPC\n+                # call failure, so the following test won't work:\n+                # assert_raises_rpc_error(-4, \"Wallet loading failed.\", node_v17.loadwallet, 'w3')\n+                if self.major_version_less_than(node, 18):\n+                    continue\n+                self.log.info(f\"- {node.version}\")\n+                # Descriptor wallets appear to be corrupted wallets to old software\n+                assert self.major_version_at_least(node, 18) and self.major_version_less_than(node, 21)\n+                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+                    assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node.loadwallet, wallet_name)\n \n         # Instead, we stop node and try to launch it with the wallet:\n         self.stop_node(node_v17.index)\n         if self.options.descriptors:\n+            self.log.info(\"Test descriptor wallet incompatibility with 0.17\")\n             # Descriptor wallets appear to be corrupted wallets to old software\n             node_v17.assert_start_raises_init_error([\"-wallet=w1\"], \"Error: wallet.dat corrupt, salvage failed\")\n             node_v17.assert_start_raises_init_error([\"-wallet=w2\"], \"Error: wallet.dat corrupt, salvage failed\")\n             node_v17.assert_start_raises_init_error([\"-wallet=w3\"], \"Error: wallet.dat corrupt, salvage failed\")\n         else:\n+            self.log.info(\"Test blank wallet incompatibility with v17\")\n             node_v17.assert_start_raises_init_error([\"-wallet=w3\"], \"Error: Error loading w3: Wallet requires newer version of Bitcoin Core\")\n         self.start_node(node_v17.index)\n \n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallets\n-            # Open most recent wallet in v0.16 (no loadwallet RPC)\n-            self.restart_node(node_v16.index, extra_args=[\"-wallet=w2\"])\n-            wallet = node_v16.get_wallet_rpc(\"w2\")\n-            info = wallet.getwalletinfo()\n-            assert info['keypoolsize'] == 1\n-\n-        # Create upgrade wallet in v0.16\n-        self.restart_node(node_v16.index, extra_args=[\"-wallet=u1_v16\"])\n-        wallet = node_v16.get_wallet_rpc(\"u1_v16\")\n-        v16_addr = wallet.getnewaddress('', \"bech32\")\n-        v16_info = wallet.validateaddress(v16_addr)\n-        v16_pubkey = v16_info['pubkey']\n+        # No wallet created in master can be opened in 0.16\n+        self.log.info(\"Test that wallets created in master are too new for 0.16\")\n         self.stop_node(node_v16.index)\n+        for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+            if self.options.descriptors:\n+                node_v16.assert_start_raises_init_error([f\"-wallet={wallet_name}\"], f\"Error: {wallet_name} corrupt, salvage failed\")\n+            else:\n+                node_v16.assert_start_raises_init_error([f\"-wallet={wallet_name}\"], f\"Error: Error loading {wallet_name}: Wallet requires newer version of Bitcoin Core\")\n+\n+        # When descriptors are enabled, w1 cannot be opened by 0.21 sinced it contains a taproot descriptor",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 266,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "s/sinced/since",
      "created_at": "2023-07-15T15:40:07Z",
      "updated_at": "2023-07-15T15:41:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264468473",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264468473"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 311,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1303521053",
      "pull_request_review_id": 1592379157,
      "id": 1303521053,
      "node_id": "PRRC_kwDOABII585Nsicd",
      "diff_hunk": "@@ -178,18 +178,25 @@ def run_test(self):\n         node_master_wallets_dir = node_master.wallets_path\n         node_v19_wallets_dir = node_v19.wallets_path\n         node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n+        node_v16_wallets_dir = node_v16.wallets_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": 143,
      "original_position": 15,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "df850c257c77f86d2e05a1b6dd4d6baab2c2e61a",
      "in_reply_to_id": 1264456268,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-08-23T20:42:44Z",
      "updated_at": "2023-08-23T20:42:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1303521053",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1303521053"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 173,
      "original_line": 191,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1303521130",
      "pull_request_review_id": 1592379266,
      "id": 1303521130,
      "node_id": "PRRC_kwDOABII585Nsidq",
      "diff_hunk": "@@ -178,18 +178,25 @@ def run_test(self):\n         node_master_wallets_dir = node_master.wallets_path\n         node_v19_wallets_dir = node_v19.wallets_path\n         node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n+        node_v16_wallets_dir = node_v16.wallets_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n+                if self.major_version_equals(node, 16):\n+                    # 0.16 node expect the wallet to be in the wallet dir but as a plain file rather than in directories\n+                    shutil.copyfile(\n+                        node_master.wallets_path / wallet / \"wallet.dat\",\n+                        node.wallets_path / wallet,\n+                    )\n+                else:\n+                    shutil.copytree(\n+                        node_master_wallets_dir / wallet,\n+                        node.wallets_path / wallet,\n+                    )",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 27,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "df850c257c77f86d2e05a1b6dd4d6baab2c2e61a",
      "in_reply_to_id": 1264460963,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-08-23T20:42:49Z",
      "updated_at": "2023-08-23T20:42:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1303521130",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1303521130"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": 187,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 199,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1303521339",
      "pull_request_review_id": 1592379517,
      "id": 1303521339,
      "node_id": "PRRC_kwDOABII585Nsig7",
      "diff_hunk": "@@ -208,130 +261,133 @@ def run_test(self):\n                     else:\n                         assert info['private_keys_enabled'] == True\n                         assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n-                # Descriptor wallets appear to be corrupted wallets to old software\n-                # and loadwallet is introduced in v0.17.0\n-                if node.version >= 170000 and node.version < 210000:\n-                    for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                        assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node.loadwallet, wallet_name)\n \n-        # RPC loadwallet failure causes bitcoind to exit, in addition to the RPC\n-        # call failure, so the following test won't work:\n-        # assert_raises_rpc_error(-4, \"Wallet loading failed.\", node_v17.loadwallet, 'w3')\n+                    # Copy back to master\n+                    wallet.unloadwallet()\n+                    if n == node:\n+                        shutil.rmtree(node_master.wallets_path / wallet_name)\n+                        shutil.copytree(\n+                            n.wallets_path / wallet_name,\n+                            node_master.wallets_path / wallet_name,\n+                        )\n+\n+        # Check that descriptor wallets don't work on legacy only nodes\n+        if self.options.descriptors:\n+            self.log.info(\"Test descriptor wallet incompatibility on:\")\n+            for node in legacy_only_nodes:\n+                # RPC loadwallet failure causes bitcoind to exit in <= 0.17, in addition to the RPC\n+                # call failure, so the following test won't work:\n+                # assert_raises_rpc_error(-4, \"Wallet loading failed.\", node_v17.loadwallet, 'w3')\n+                if self.major_version_less_than(node, 18):\n+                    continue\n+                self.log.info(f\"- {node.version}\")\n+                # Descriptor wallets appear to be corrupted wallets to old software\n+                assert self.major_version_at_least(node, 18) and self.major_version_less_than(node, 21)\n+                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+                    assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node.loadwallet, wallet_name)\n \n         # Instead, we stop node and try to launch it with the wallet:\n         self.stop_node(node_v17.index)\n         if self.options.descriptors:\n+            self.log.info(\"Test descriptor wallet incompatibility with 0.17\")\n             # Descriptor wallets appear to be corrupted wallets to old software\n             node_v17.assert_start_raises_init_error([\"-wallet=w1\"], \"Error: wallet.dat corrupt, salvage failed\")\n             node_v17.assert_start_raises_init_error([\"-wallet=w2\"], \"Error: wallet.dat corrupt, salvage failed\")\n             node_v17.assert_start_raises_init_error([\"-wallet=w3\"], \"Error: wallet.dat corrupt, salvage failed\")\n         else:\n+            self.log.info(\"Test blank wallet incompatibility with v17\")\n             node_v17.assert_start_raises_init_error([\"-wallet=w3\"], \"Error: Error loading w3: Wallet requires newer version of Bitcoin Core\")\n         self.start_node(node_v17.index)\n \n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallets\n-            # Open most recent wallet in v0.16 (no loadwallet RPC)\n-            self.restart_node(node_v16.index, extra_args=[\"-wallet=w2\"])\n-            wallet = node_v16.get_wallet_rpc(\"w2\")\n-            info = wallet.getwalletinfo()\n-            assert info['keypoolsize'] == 1\n-\n-        # Create upgrade wallet in v0.16\n-        self.restart_node(node_v16.index, extra_args=[\"-wallet=u1_v16\"])\n-        wallet = node_v16.get_wallet_rpc(\"u1_v16\")\n-        v16_addr = wallet.getnewaddress('', \"bech32\")\n-        v16_info = wallet.validateaddress(v16_addr)\n-        v16_pubkey = v16_info['pubkey']\n+        # No wallet created in master can be opened in 0.16\n+        self.log.info(\"Test that wallets created in master are too new for 0.16\")\n         self.stop_node(node_v16.index)\n+        for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+            if self.options.descriptors:\n+                node_v16.assert_start_raises_init_error([f\"-wallet={wallet_name}\"], f\"Error: {wallet_name} corrupt, salvage failed\")\n+            else:\n+                node_v16.assert_start_raises_init_error([f\"-wallet={wallet_name}\"], f\"Error: Error loading {wallet_name}: Wallet requires newer version of Bitcoin Core\")\n+\n+        # When descriptors are enabled, w1 cannot be opened by 0.21 sinced it contains a taproot descriptor",
      "path": "test/functional/wallet_backwards_compatibility.py",
      "position": null,
      "original_position": 266,
      "commit_id": "afd9a673c458e97305da49a70a1ddbf60e651876",
      "original_commit_id": "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "in_reply_to_id": 1264468473,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-08-23T20:43:01Z",
      "updated_at": "2023-08-23T20:43:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1303521339",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1303521339"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 311,
      "side": "RIGHT"
    }
  ]
}