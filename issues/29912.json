{
  "type": "issue",
  "issue": {
    "id": 2252776531,
    "node_id": "I_kwDOABII586GRqRT",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/29912",
    "number": 29912,
    "state": "open",
    "state_reason": null,
    "title": "RFC: Formal description of the RPC API",
    "body": "Currently (all?) clients manually implement the RPC API, which is problematic, because:\r\n\r\n* It leads to accidental implementation bugs, such as unit mistakes (s/vB vs BTC/kvB)\r\n* It is hard to maintain, when the API changes\r\n* It requires effort to implement in a new programming language\r\n\r\nSo it could make sense to have a formal specification.\r\n\r\nPlease leave a comment if there are additional aspects to consider here, or if you have ideas for a solution.\r\n\r\nOne solution for a formal description could be OpenAPI. Generators exist, such as (random example) https://github.com/microsoft/kiota?tab=readme-ov-file#supported-languages",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64584,
        "node_id": "MDU6TGFiZWw2NDU4NA==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
        "name": "Brainstorming",
        "color": "ebd775",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 14,
    "created_at": "2024-04-19T11:45:34Z",
    "updated_at": "2024-10-10T10:09:42Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 12537481427,
      "node_id": "LE_lADOABII586GRqRTzwAAAALrSsjT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12537481427",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T11:45:34Z",
      "label": {
        "name": "Brainstorming",
        "color": "ebd775"
      }
    },
    {
      "event": "labeled",
      "id": 12537481439,
      "node_id": "LE_lADOABII586GRqRTzwAAAALrSsjf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12537481439",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T11:45:34Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 2066435250,
      "node_id": "IC_kwDOABII5857K0yy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066435250",
      "actor": {
        "login": "nflatrea",
        "id": 120607606,
        "node_id": "U_kgDOBzBTdg",
        "avatar_url": "https://avatars.githubusercontent.com/u/120607606?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nflatrea",
        "html_url": "https://github.com/nflatrea",
        "followers_url": "https://api.github.com/users/nflatrea/followers",
        "following_url": "https://api.github.com/users/nflatrea/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nflatrea/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nflatrea/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nflatrea/subscriptions",
        "organizations_url": "https://api.github.com/users/nflatrea/orgs",
        "repos_url": "https://api.github.com/users/nflatrea/repos",
        "events_url": "https://api.github.com/users/nflatrea/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nflatrea/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T12:08:06Z",
      "updated_at": "2024-04-19T12:14:38Z",
      "author_association": "NONE",
      "body": "Don't we have plethora of well documented guides and specifications on the JSON-RPC api ?\r\n\r\nhttps://developer.bitcoin.org/reference/rpc/\r\nhttps://wbnns.github.io/bitcoin-dev-docs/reference/rpc/index.html\r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/JSON-RPC-interface.md\r\n\r\nhttps://en.bitcoin.it/wiki/API_reference_%28JSON-RPC%29\r\n\r\nConsidering your need for a state-of-the-art framework / wrapper, you can always find a suitable project on Github,\r\nYou have, for example, the [btcsuite](https://github.com/btcsuite) project allowing Go clients building on bitcoin easily. For JSON-RPC wrappers you have https://github.com/btcsuite/btcd/tree/master/rpcclient and the same on C/C++, Rust, Python, Ruby etc..\r\n\r\nBut it might be interesting to maintain a cross-language suite under the bitcoin core account authority\r\n",
      "user": {
        "login": "nflatrea",
        "id": 120607606,
        "node_id": "U_kgDOBzBTdg",
        "avatar_url": "https://avatars.githubusercontent.com/u/120607606?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nflatrea",
        "html_url": "https://github.com/nflatrea",
        "followers_url": "https://api.github.com/users/nflatrea/followers",
        "following_url": "https://api.github.com/users/nflatrea/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nflatrea/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nflatrea/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nflatrea/subscriptions",
        "organizations_url": "https://api.github.com/users/nflatrea/orgs",
        "repos_url": "https://api.github.com/users/nflatrea/repos",
        "events_url": "https://api.github.com/users/nflatrea/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nflatrea/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066435250",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2066477567,
      "node_id": "IC_kwDOABII5857K_H_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066477567",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T12:34:39Z",
      "updated_at": "2024-04-19T12:44:33Z",
      "author_association": "MEMBER",
      "body": "> Don't we have plethora of well documented guides and specifications on the JSON-RPC api ?\r\n\r\nNo. I'd highly doubt that there is a better source of the documentation and specification than Bitcoin Core itself. (If there is, then that is a bug in Bitcoin Core, which should be fixed)\r\n\r\n> https://developer.bitcoin.org/reference/rpc/\r\n\r\nThis example has many issues:\r\n\r\n* It is not machine readable\r\n* It does not indicate the version of Bitcoin Core that is documented\r\n* It is wrong and outdated. For example https://developer.bitcoin.org/reference/rpc/getrawtransaction.html#argument-2-verbose is wrong. The type should be `int`, not a `bool`. Also it is missing verbose=3.\r\n* It has all the problems that I mentioned in the original post.\r\n\r\n>  https://wbnns.github.io/bitcoin-dev-docs/reference/rpc/index.html\r\n\r\nThis is the same as above, just rendered differently.\r\n\r\n>  https://github.com/bitcoin/bitcoin/blob/master/doc/JSON-RPC-interface.md\r\n\r\nI am aware of the file, because I initially wrote it. It describes the concept of the interface, but it is not a specification.\r\n\r\n> https://en.bitcoin.it/wiki/API_reference_%28JSON-RPC%29\r\n\r\nThis is a wiki page that lists some manually maintained software projects, so all of them have the issues I mentioned in the original post. I don't have the time right now to list all the bugs they have, but if you spend enough time you will find that they are either not a specification, or that they are unmaintained for years, or that they have implementation errors.\r\n\r\nEdit: If there is a single software project out there, which currently correctly and fully implements the RPC API in a type-safe manner, it would be interesting to see how they approached it. But I doubt there is one?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066477567",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2066677901,
      "node_id": "IC_kwDOABII5857LwCN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066677901",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:13:55Z",
      "updated_at": "2024-04-19T14:13:55Z",
      "author_association": "MEMBER",
      "body": "Note that automatically generated RPC docs are also available for each major version at https://bitcoincore.org/en/doc/",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066677901",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2066720293,
      "node_id": "IC_kwDOABII5857L6Yl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066720293",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:36:50Z",
      "updated_at": "2024-04-19T14:36:50Z",
      "author_association": "MEMBER",
      "body": ">  https://bitcoincore.org/en/doc/\r\n\r\nYes, I am aware. They are based on the `help` RPC reply. However, they are not machine readable, at least not in a standard format, so I don't think it helps to solve the issues highlighted in the original post.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066720293",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2066724167,
      "node_id": "IC_kwDOABII5857L7VH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066724167",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:38:53Z",
      "updated_at": "2024-04-19T14:39:02Z",
      "author_association": "MEMBER",
      "body": "I vaguely recall an issue or discussion around machine-readable API specs in the past, but I cannot find it. I believe @laanwj commented on it.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066724167",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "mentioned",
      "id": 12540281610,
      "node_id": "MEE_lADOABII586GRqRTzwAAAALrdYMK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12540281610",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:38:54Z"
    },
    {
      "event": "subscribed",
      "id": 12540281633,
      "node_id": "SE_lADOABII586GRqRTzwAAAALrdYMh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12540281633",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:38:54Z"
    },
    {
      "event": "commented",
      "id": 2066731848,
      "node_id": "IC_kwDOABII5857L9NI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066731848",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:43:15Z",
      "updated_at": "2024-04-19T14:43:15Z",
      "author_association": "MEMBER",
      "body": "I can only recall the gRPC (https://github.com/bitcoin/bitcoin/issues/16719) and CBOR (https://github.com/bitcoin/bitcoin/issues/22866) discussions, but those are serialization related, not about a standardized machine-readable interface documentation and specification.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066731848",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2066874947,
      "node_id": "IC_kwDOABII5857MgJD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066874947",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T16:06:21Z",
      "updated_at": "2024-04-19T16:06:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "I think this is an interesting approach to consider. I'm quite fond of OpenAPI but I'm not sure how well it would lend itself to a JSON-RPC, but perhaps it works well enough? There is a sibling project specifically focused on JSON-RPC (https://open-rpc.org/  ) but it has less tooling and support.\r\n\r\nWould be cool if this means we could be spec-driven, build a tool that generates (server) header files from the spec so the RPC method implementations have compile time checks on parameters and responses etc.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066874947",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2067767293,
      "node_id": "IC_kwDOABII5857P5_9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2067767293",
      "actor": {
        "login": "nflatrea",
        "id": 120607606,
        "node_id": "U_kgDOBzBTdg",
        "avatar_url": "https://avatars.githubusercontent.com/u/120607606?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nflatrea",
        "html_url": "https://github.com/nflatrea",
        "followers_url": "https://api.github.com/users/nflatrea/followers",
        "following_url": "https://api.github.com/users/nflatrea/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nflatrea/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nflatrea/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nflatrea/subscriptions",
        "organizations_url": "https://api.github.com/users/nflatrea/orgs",
        "repos_url": "https://api.github.com/users/nflatrea/repos",
        "events_url": "https://api.github.com/users/nflatrea/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nflatrea/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-20T19:54:16Z",
      "updated_at": "2024-04-20T19:54:16Z",
      "author_association": "NONE",
      "body": "> > Don't we have plethora of well documented guides and specifications on the JSON-RPC api ?\r\n> \r\n> No. I'd highly doubt that there is a better source of the documentation and specification than Bitcoin Core itself. (If there is, then that is a bug in Bitcoin Core, which should be fixed)\r\n> \r\n> > https://developer.bitcoin.org/reference/rpc/\r\n> \r\n> This example has many issues:\r\n> \r\n>     * It is not machine readable\r\n> \r\n>     * It does not indicate the version of Bitcoin Core that is documented\r\n> \r\n>     * It is wrong and outdated. For example https://developer.bitcoin.org/reference/rpc/getrawtransaction.html#argument-2-verbose is wrong. The type should be `int`, not a `bool`. Also it is missing verbose=3.\r\n> \r\n>     * It has all the problems that I mentioned in the original post.\r\n> \r\n> \r\n> > https://wbnns.github.io/bitcoin-dev-docs/reference/rpc/index.html\r\n> \r\n> This is the same as above, just rendered differently.\r\n> \r\n> > https://github.com/bitcoin/bitcoin/blob/master/doc/JSON-RPC-interface.md\r\n> \r\n> I am aware of the file, because I initially wrote it. It describes the concept of the interface, but it is not a specification.\r\n> \r\n> > https://en.bitcoin.it/wiki/API_reference_%28JSON-RPC%29\r\n> \r\n> This is a wiki page that lists some manually maintained software projects, so all of them have the issues I mentioned in the original post. I don't have the time right now to list all the bugs they have, but if you spend enough time you will find that they are either not a specification, or that they are unmaintained for years, or that they have implementation errors.\r\n> \r\n> Edit: If there is a single software project out there, which currently correctly and fully implements the RPC API in a type-safe manner, it would be interesting to see how they approached it. But I doubt there is one?\r\n\r\nI must have failed to understand your question, my apology 🧐\r\nYou just raised the fact that we need clear API specifications for core ? \r\n\r\nIf that so, I could be interesting to build something with OpenRPC close to OpenAPI https://open-rpc.org/\r\n\r\nWith a little bit of tweaking, we might also be able to use the Swagger UI originaly for REST API\r\n\r\nhttps://petstore.swagger.io/\r\nhttps://dev.to/vearutop/json-rpc-2-0-with-swagger-ui-2h3g",
      "user": {
        "login": "nflatrea",
        "id": 120607606,
        "node_id": "U_kgDOBzBTdg",
        "avatar_url": "https://avatars.githubusercontent.com/u/120607606?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nflatrea",
        "html_url": "https://github.com/nflatrea",
        "followers_url": "https://api.github.com/users/nflatrea/followers",
        "following_url": "https://api.github.com/users/nflatrea/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nflatrea/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nflatrea/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nflatrea/subscriptions",
        "organizations_url": "https://api.github.com/users/nflatrea/orgs",
        "repos_url": "https://api.github.com/users/nflatrea/repos",
        "events_url": "https://api.github.com/users/nflatrea/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nflatrea/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2067767293",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2070215202,
      "node_id": "IC_kwDOABII5857ZPoi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2070215202",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T16:52:31Z",
      "updated_at": "2024-04-22T16:52:31Z",
      "author_association": "MEMBER",
      "body": "> I vaguely recall an issue or discussion around machine-readable API specs in the past, but I cannot find it. I believe @laanwj commented on it.\r\n\r\nMuch of it is already there, just not exposed. The `RPCHelpMan`/`RPCResult` structure for `help` handling was intended to be a start of formalizing the API, and to have some form of introspection. E.g. types are already checked against the spec while testing. It could be extended to include other data that's needed.\r\n\r\nThe same data that's used for rendering help could be returned on the RPC in a raw, machine-readable structured format. Easiest would be to define our own format, but if there is a suitable standard format that will work for JSON-RPC that's of course preferable. I don't think there was at the time I looked into it, but who knows.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2070215202",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "mentioned",
      "id": 12562973302,
      "node_id": "MEE_lADOABII586GRqRTzwAAAALsz8J2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12562973302",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T16:52:33Z"
    },
    {
      "event": "subscribed",
      "id": 12562973320,
      "node_id": "SE_lADOABII586GRqRTzwAAAALsz8KI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12562973320",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T16:52:33Z"
    },
    {
      "event": "commented",
      "id": 2081678433,
      "node_id": "IC_kwDOABII5858E-Rh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2081678433",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-28T22:21:21Z",
      "updated_at": "2024-04-28T22:24:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK.  IMHO, a formal specification (especially machine ingestible) would add value for downstream clients.\r\n\r\nThere is some great info/guidance in \r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/JSON-RPC-interface.md#versioning\r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#rpc-interface-guidelines\r\n\r\nMaybe it's just a matter of adding content to the RPC interface guidelines section of the developer notes, but I think there is value in defining the approach that should be taken by PR authors proposing RPC changes.\r\n\r\nFor example, covering:\r\n- Simple changes where additional fields are appended (e.g. https://github.com/bitcoin/bitcoin/pull/29954)\r\n- When to employ `deprecatedrpc` (e.g. https://github.com/bitcoin/bitcoin/pull/29845#discussion_r1571053657)\r\n- Naming style for `deprecatedrpc=<name>`\r\n- Approaches to take for significant protocol changes (e.g. https://github.com/bitcoin/bitcoin/pull/27101), e.g. when to favor backward compatibility over new protocol compliance, etc.)\r\n- Additional suggestions?",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2081678433",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2267787787,
      "node_id": "IC_kwDOABII586HK7IL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2267787787",
      "actor": {
        "login": "kilianmh",
        "id": 61506792,
        "node_id": "MDQ6VXNlcjYxNTA2Nzky",
        "avatar_url": "https://avatars.githubusercontent.com/u/61506792?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kilianmh",
        "html_url": "https://github.com/kilianmh",
        "followers_url": "https://api.github.com/users/kilianmh/followers",
        "following_url": "https://api.github.com/users/kilianmh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kilianmh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kilianmh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kilianmh/subscriptions",
        "organizations_url": "https://api.github.com/users/kilianmh/orgs",
        "repos_url": "https://api.github.com/users/kilianmh/repos",
        "events_url": "https://api.github.com/users/kilianmh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kilianmh/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-04T22:17:53Z",
      "updated_at": "2024-08-13T07:26:39Z",
      "author_association": "NONE",
      "body": "Some time ago, I created an openrpc spec file for bitcoin core which should be mostly complete up to version 0.27.\r\nYou can find it here: https://codeberg.org/kilianmh/bitcoin-core-openrpc/src/branch/master/openrpc.json\r\nIf there is interest, I can contribute it via a PR. See #29477",
      "user": {
        "login": "kilianmh",
        "id": 61506792,
        "node_id": "MDQ6VXNlcjYxNTA2Nzky",
        "avatar_url": "https://avatars.githubusercontent.com/u/61506792?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kilianmh",
        "html_url": "https://github.com/kilianmh",
        "followers_url": "https://api.github.com/users/kilianmh/followers",
        "following_url": "https://api.github.com/users/kilianmh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kilianmh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kilianmh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kilianmh/subscriptions",
        "organizations_url": "https://api.github.com/users/kilianmh/orgs",
        "repos_url": "https://api.github.com/users/kilianmh/repos",
        "events_url": "https://api.github.com/users/kilianmh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kilianmh/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2267787787",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2395195267,
      "node_id": "IC_kwDOABII586Ow8eD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2395195267",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-05T20:57:07Z",
      "updated_at": "2024-10-05T20:57:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "Having a formal spec, either [generated similarly to the current RPC docs](https://github.com/bitcoin-core/bitcoincore.org/blob/master/contrib/doc-gen/generate.go) (or possibly used to generate stub headers which are then implemented in Bitcoin Core) lowers friction for application developers building on top of Bitcoin Core and reduces temptation to build on top of other projects (including non-Bitcoin ones).\r\n\r\nBeen digging into OpenRPC a bit. It seems to be used primarily by Ethereum and Ethereum Classic devs, see the usage section: https://open-rpc.org/use\r\n\r\nRegardless, I think the idea behind OpenRPC seems fairly sound, since OpenAPI (formerly Swagger) is fairly path-centric, while our JSON-RPC interface only uses [one main path + wallet path](https://github.com/bitcoin/bitcoin/blob/master/doc/JSON-RPC-interface.md#endpoints).\r\n\r\n---\r\n\r\n@kilianmh\r\nThanks for bringing awareness of OpenRPC!\r\n\r\nWhile Common Lisp is cool, I'm not sure how easy it would be to get it merged into the Bitcoin Core *contrib/* directory, nor the repo for bitcoin.org. Furthermore, it seems like your implementation consists of manually copy-pasting the text from the C++ code into [*main.lisp*](https://codeberg.org/kilianmh/bitcoin-core-openrpc/src/branch/master/src/main.lisp) unless some wizardry is escaping me. A more automated way would be to do something like the Golang RPC doc generator in my first link above.\r\n\r\n* How well does OpenRPC support units like \"BTC/kvB\"?\r\n  It seems you've defined maxfeerate in sendrawtransaction quite loosely in https://codeberg.org/kilianmh/bitcoin-core-openrpc/src/branch/master/src/main.lisp#L1307-L1312 (and you dropped the \"v\" from \"kvB\", which changes meaning).\r\n* Conversely, have you noticed anything bitcoind does that goes against the OpenRPC spec?\r\n\r\n",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2395195267",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "mentioned",
      "id": 14528988082,
      "node_id": "MEE_lADOABII586GRqRTzwAAAANh_sOy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14528988082",
      "actor": {
        "login": "kilianmh",
        "id": 61506792,
        "node_id": "MDQ6VXNlcjYxNTA2Nzky",
        "avatar_url": "https://avatars.githubusercontent.com/u/61506792?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kilianmh",
        "html_url": "https://github.com/kilianmh",
        "followers_url": "https://api.github.com/users/kilianmh/followers",
        "following_url": "https://api.github.com/users/kilianmh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kilianmh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kilianmh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kilianmh/subscriptions",
        "organizations_url": "https://api.github.com/users/kilianmh/orgs",
        "repos_url": "https://api.github.com/users/kilianmh/repos",
        "events_url": "https://api.github.com/users/kilianmh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kilianmh/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-05T20:57:08Z"
    },
    {
      "event": "subscribed",
      "id": 14528988084,
      "node_id": "SE_lADOABII586GRqRTzwAAAANh_sO0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14528988084",
      "actor": {
        "login": "kilianmh",
        "id": 61506792,
        "node_id": "MDQ6VXNlcjYxNTA2Nzky",
        "avatar_url": "https://avatars.githubusercontent.com/u/61506792?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kilianmh",
        "html_url": "https://github.com/kilianmh",
        "followers_url": "https://api.github.com/users/kilianmh/followers",
        "following_url": "https://api.github.com/users/kilianmh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kilianmh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kilianmh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kilianmh/subscriptions",
        "organizations_url": "https://api.github.com/users/kilianmh/orgs",
        "repos_url": "https://api.github.com/users/kilianmh/repos",
        "events_url": "https://api.github.com/users/kilianmh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kilianmh/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-05T20:57:09Z"
    },
    {
      "event": "commented",
      "id": 2395240266,
      "node_id": "IC_kwDOABII586OxHdK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2395240266",
      "actor": {
        "login": "kilianmh",
        "id": 61506792,
        "node_id": "MDQ6VXNlcjYxNTA2Nzky",
        "avatar_url": "https://avatars.githubusercontent.com/u/61506792?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kilianmh",
        "html_url": "https://github.com/kilianmh",
        "followers_url": "https://api.github.com/users/kilianmh/followers",
        "following_url": "https://api.github.com/users/kilianmh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kilianmh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kilianmh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kilianmh/subscriptions",
        "organizations_url": "https://api.github.com/users/kilianmh/orgs",
        "repos_url": "https://api.github.com/users/kilianmh/repos",
        "events_url": "https://api.github.com/users/kilianmh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kilianmh/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-06T00:32:23Z",
      "updated_at": "2024-10-06T00:32:23Z",
      "author_association": "NONE",
      "body": "Thank you for your comments @hodlinator \r\n\r\n1.\r\n\r\n> A more automated way would be to do something like the Golang RPC doc generator in my first link above.\r\n\r\nIndeed, autogeneration is the best way forward. I just did copy paste to showcase what can be done.\r\n\r\n2.\r\n\r\n> Conversely, have you noticed anything bitcoind does that goes against the OpenRPC spec?\r\n\r\nYou mentioned the main thing that i am not sure of if it is possible:\r\n\r\n> JSON-RPC interface only uses [one main path + wallet path](https://github.com/bitcoin/bitcoin/blob/master/doc/JSON-RPC-interface.md#endpoints).\r\n\r\nThis might work with a server array where one [server object](https://spec.open-rpc.org/#server-object) has the url `\"/\"` and the other server object has an url `\"/wallet/{walletname}/\"` with [runtime expression](https://spec.open-rpc.org/#runtime-expression) and a [server variables](https://spec.open-rpc.org/#server-variable-object) walletname.\r\n\r\n3.\r\n\r\n>How well does OpenRPC support units like `\"BTC/kvB\"`?\r\n\r\nThe JSON types are quite limited (e.g. only integer or floats)\r\nWe can only document it in the text, or set specific minimum and maximum values with JSON Schema.",
      "user": {
        "login": "kilianmh",
        "id": 61506792,
        "node_id": "MDQ6VXNlcjYxNTA2Nzky",
        "avatar_url": "https://avatars.githubusercontent.com/u/61506792?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kilianmh",
        "html_url": "https://github.com/kilianmh",
        "followers_url": "https://api.github.com/users/kilianmh/followers",
        "following_url": "https://api.github.com/users/kilianmh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kilianmh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kilianmh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kilianmh/subscriptions",
        "organizations_url": "https://api.github.com/users/kilianmh/orgs",
        "repos_url": "https://api.github.com/users/kilianmh/repos",
        "events_url": "https://api.github.com/users/kilianmh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kilianmh/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2395240266",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "mentioned",
      "id": 14529272001,
      "node_id": "MEE_lADOABII586GRqRTzwAAAANiAxjB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14529272001",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-06T00:32:25Z"
    },
    {
      "event": "subscribed",
      "id": 14529272003,
      "node_id": "SE_lADOABII586GRqRTzwAAAANiAxjD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14529272003",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-06T00:32:25Z"
    },
    {
      "event": "commented",
      "id": 2404665924,
      "node_id": "IC_kwDOABII586PVEpE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2404665924",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-10T10:09:06Z",
      "updated_at": "2024-10-10T10:09:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "One of the [OpenRPC examples](https://github.com/open-rpc/examples/blob/dce69463ba9a3ca2232506b734606fa97f25dd45/service-descriptions/petstore-openrpc.json) has:\r\n```json5\r\n  ...\r\n  \"components\": {\r\n    \"contentDescriptors\": {\r\n      \"PetId\": {\r\n        \"name\": \"petId\",\r\n        \"required\": true,\r\n        \"description\": \"The id of the pet to retrieve\",\r\n        \"schema\": {\r\n          \"$ref\": \"#/components/schemas/PetId\"\r\n        }\r\n      }\r\n    },\r\n    \"schemas\": {\r\n      \"PetId\": {\r\n        \"type\": \"integer\",\r\n        \"minimum\": 0\r\n      },\r\n      ...\r\n```\r\nSo maybe the *sendrawtransaction* argument...\r\nhttps://github.com/bitcoin/bitcoin/blob/0c2c3bb3f5c6f52c8db625c3edb51409c72c14b0/src/rpc/mempool.cpp#L53-L55\r\n...could be expressed as...\r\n```json5\r\n  ...\r\n  \"components\": {\r\n    \"contentDescriptors\": {\r\n      \"MaxFeeRate\": {\r\n        \"name\": \"maxfeerate\",\r\n        \"required\": true,\r\n        \"description\": \"Reject transactions whose fee rate is higher than the specified value, expressed in BTC/kvB.\\nFee rates larger than 1BTC/kvB are rejected.\\nSet to 0 to accept any fee rate.\",\r\n        \"schema\": {\r\n          \"$ref\": \"#/components/schemas/BTCPerKVB\"\r\n        }\r\n      }\r\n    },\r\n    \"schemas\": {\r\n      \"BTCPerKVB\": {\r\n        // JSON does not have a distinct floating point type.\r\n        // Furthermore RPCArg::Type::AMOUNT can be either float or string, the\r\n        // latter removing risk of rounding errors, but would probably not allow\r\n        // the example to have min/max values.\r\n        \"type\": \"integer\",\r\n        \"minimum\": 0\r\n        \"maximum\": 21000000\r\n      },\r\n      ...\r\n```\r\n---\r\n\r\nMost cases of `RPCArg::Type::AMOUNT` currently take BTC, but some newer ones take satoshis:\r\nhttps://github.com/bitcoin/bitcoin/blob/0c2c3bb3f5c6f52c8db625c3edb51409c72c14b0/src/wallet/rpc/spend.cpp#L1704-L1705\r\n\r\nA) One approach would be to make several distinct types in the C++ code, which could more easily be exported into an OpenRPC spec.\r\n\r\nB) Another alternative would be to move towards requiring callers to always pass strings and include the unit in the parameter's value: \"1BTC\" \"2sat\", or even \"1BTC/kvB\". It is very important to get these units right after all. Moving in that direction may decrease the need somewhat for something like OpenRPC.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2404665924",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    }
  ]
}