{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828",
    "id": 2056670673,
    "node_id": "PR_kwDOABII5856lk3R",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30828",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30828.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30828.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30828",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30828/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/29a83caa77ad929aa3118bc733cfd647f2ac9a35",
    "number": 30828,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "interfaces: #30697 follow ups",
    "user": {
      "login": "ismaelsadeeq",
      "id": 48946461,
      "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ismaelsadeeq",
      "html_url": "https://github.com/ismaelsadeeq",
      "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
      "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
      "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
      "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
      "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "\r\nThis PR addresses the remaining review comments from #30697\r\n\r\n1. Disallowed overwriting settings values with a `null` value.\r\n2. Uniformly used the `SettingsAction` enum in all settings methods instead of a boolean parameter.\r\n3. Updated `overwriteRwSetting` to receive the `common::SettingsValue` parameter by value, enabling it to be moved safely.\r\n4. Removed wallet context from the `write_wallet_settings_concurrently` unit test, as it is not needed.\r\n\r\n",
    "labels": [
      {
        "id": 2260068353,
        "node_id": "MDU6TGFiZWwyMjYwMDY4MzUz",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/interfaces",
        "name": "interfaces",
        "description": "",
        "color": "83c9fc",
        "default": false
      }
    ],
    "created_at": "2024-09-05T22:40:20Z",
    "updated_at": "2024-09-08T19:48:24Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "ca24f40e757d5cf3c75aff2fbd2c668cc4454f2e",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "ismaelsadeeq:09-30697-follow-ups",
      "ref": "09-30697-follow-ups",
      "sha": "29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 577730599,
        "node_id": "R_kgDOIm94Jw",
        "name": "bitcoin",
        "full_name": "ismaelsadeeq/bitcoin",
        "owner": {
          "login": "ismaelsadeeq",
          "id": 48946461,
          "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
          "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ismaelsadeeq",
          "html_url": "https://github.com/ismaelsadeeq",
          "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
          "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
          "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
          "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
          "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/ismaelsadeeq/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/ismaelsadeeq/bitcoin",
        "archive_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/events",
        "forks_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/ismaelsadeeq/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:ismaelsadeeq/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/ismaelsadeeq/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/hooks",
        "svn_url": "https://github.com/ismaelsadeeq/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 262862,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-09-08T19:36:05Z",
        "created_at": "2022-12-13T11:54:34Z",
        "updated_at": "2023-03-10T09:46:26Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "a5fa90706addb3ebc4325b139cfebcf9d7ac3045",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36181,
        "stargazers_count": 78254,
        "watchers_count": 78254,
        "size": 268019,
        "default_branch": "master",
        "open_issues_count": 669,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-09-06T15:15:40Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-09-08T19:42:09Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 15,
    "deletions": 17,
    "changed_files": 4,
    "commits": 4,
    "review_comments": 10,
    "comments": 2
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFjNDA5MDA0YzgwYmM1ZjIzMTRlMjBjYzkyMjA3NmUyMjkzMWNmNzM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1c409004c80bc5f2314e20cc922076e22931cf73",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1c409004c80bc5f2314e20cc922076e22931cf73",
      "tree": {
        "sha": "7c96e825801e2a72dfed65baa4dc6cf6e1072f0b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7c96e825801e2a72dfed65baa4dc6cf6e1072f0b"
      },
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "payload": "tree 7c96e825801e2a72dfed65baa4dc6cf6e1072f0b\nparent a74bdeea1b8e27b2335f0f7da78006e87ecfb235\nauthor ismaelsadeeq <ask4ismailsadiq@gmail.com> 1725564740 +0100\ncommitter ismaelsadeeq <ask4ismailsadiq@gmail.com> 1725564740 +0100\n\ntest: remove wallet context from `write_wallet_settings_concurrently`\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQTp92/X8LZmU6fYk5kOOQjzZJiYiAUCZtoHZwAKCRAOOQjzZJiY\niDbDAQCOb6qAAR3Ve/hxPmtTH1qIm4D6hSSN1sKvNNGMTGbXFQD/dXm97Od8XyJQ\n6KZRrNAcJ7uZ0WU/dWFOVIHx1UqpeQ4=\n=BlTa\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a74bdeea1b8e27b2335f0f7da78006e87ecfb235",
          "sha": "a74bdeea1b8e27b2335f0f7da78006e87ecfb235",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a74bdeea1b8e27b2335f0f7da78006e87ecfb235"
        }
      ],
      "message": "test: remove wallet context from `write_wallet_settings_concurrently`",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-09-05T19:32:20Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-09-05T19:32:20Z"
      },
      "sha": "1c409004c80bc5f2314e20cc922076e22931cf73"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFlOWU3MzU2NzBmMDI5Yzk3NWQzYjc0ODZhNTRlNWJiNjcxMzVkZjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1e9e735670f029c975d3b7486a54e5bb67135df7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1e9e735670f029c975d3b7486a54e5bb67135df7",
      "tree": {
        "sha": "bfd3f813385abdbbc5aab9eb2c6adc348316c35e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bfd3f813385abdbbc5aab9eb2c6adc348316c35e"
      },
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "payload": "tree bfd3f813385abdbbc5aab9eb2c6adc348316c35e\nparent 1c409004c80bc5f2314e20cc922076e22931cf73\nauthor ismaelsadeeq <ask4ismailsadiq@gmail.com> 1725565201 +0100\ncommitter ismaelsadeeq <ask4ismailsadiq@gmail.com> 1725567497 +0100\n\nchain: move new settings safely in `overwriteRwSetting`\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQTp92/X8LZmU6fYk5kOOQjzZJiYiAUCZtoSCQAKCRAOOQjzZJiY\niKFYAQD8uQ/v/5DjGgyLOivAKxXD2bECflDiItINJVJGuDLYfwEArIYaHvJDYIW/\nVNFCdcsSYiIVQoaglxuTkdN4y0hyUAI=\n=nkx3\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1c409004c80bc5f2314e20cc922076e22931cf73",
          "sha": "1c409004c80bc5f2314e20cc922076e22931cf73",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1c409004c80bc5f2314e20cc922076e22931cf73"
        }
      ],
      "message": "chain: move new settings safely in `overwriteRwSetting`",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-09-05T20:18:17Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-09-05T19:40:01Z"
      },
      "sha": "1e9e735670f029c975d3b7486a54e5bb67135df7"
    },
    {
      "event": "commented",
      "id": 2332796273,
      "node_id": "IC_kwDOABII586LC6Vx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2332796273",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T22:40:23Z",
      "updated_at": "2024-09-06T09:06:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30828).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/30828#pullrequestreview-2285497604) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#issuecomment-2332796273",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30828"
    },
    {
      "event": "labeled",
      "id": 14154078961,
      "node_id": "LE_lADOABII586Vi0lVzwAAAANLphrx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14154078961",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-05T22:40:25Z",
      "label": {
        "name": "interfaces",
        "color": "83c9fc"
      }
    },
    {
      "event": "reviewed",
      "id": 2285497604,
      "node_id": "PRR_kwDOABII586IOe0E",
      "url": null,
      "actor": null,
      "commit_id": "4627174d80838e1c6848f9dff47a2ca4a9a35091",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#pullrequestreview-2285497604",
      "submitted_at": "2024-09-06T09:05:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
    },
    {
      "event": "commented",
      "id": 2334046532,
      "node_id": "IC_kwDOABII586LHrlE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2334046532",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-06T13:22:43Z",
      "updated_at": "2024-09-06T13:22:43Z",
      "author_association": "MEMBER",
      "body": "cc @stickies-v @ryanofsky ",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#issuecomment-2334046532",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30828"
    },
    {
      "event": "mentioned",
      "id": 14162020468,
      "node_id": "MEE_lADOABII586Vi0lVzwAAAANMH0h0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14162020468",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-06T13:22:45Z"
    },
    {
      "event": "subscribed",
      "id": 14162020488,
      "node_id": "SE_lADOABII586Vi0lVzwAAAANMH0iI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14162020488",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-06T13:22:45Z"
    },
    {
      "event": "mentioned",
      "id": 14162020510,
      "node_id": "MEE_lADOABII586Vi0lVzwAAAANMH0ie",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14162020510",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-06T13:22:45Z"
    },
    {
      "event": "subscribed",
      "id": 14162020519,
      "node_id": "SE_lADOABII586Vi0lVzwAAAANMH0in",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14162020519",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-06T13:22:45Z"
    },
    {
      "event": "reviewed",
      "id": 2286347906,
      "node_id": "PRR_kwDOABII586IRuaC",
      "url": null,
      "actor": null,
      "commit_id": "4627174d80838e1c6848f9dff47a2ca4a9a35091",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#pullrequestreview-2286347906",
      "submitted_at": "2024-09-06T13:57:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
    },
    {
      "event": "reviewed",
      "id": 2287665958,
      "node_id": "PRR_kwDOABII586IWwMm",
      "url": null,
      "actor": null,
      "commit_id": "4627174d80838e1c6848f9dff47a2ca4a9a35091",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#pullrequestreview-2287665958",
      "submitted_at": "2024-09-07T15:12:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk2YmQ2MTQwY2ZkMDBiYjE1MWE3MTQzYjg2MWYyZTE4NTRkYTc2OTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/96bd6140cfd00bb151a7143b861f2e1854da7696",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/96bd6140cfd00bb151a7143b861f2e1854da7696",
      "tree": {
        "sha": "9adfc4649436c57607a1f5e54280dbe903962967",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9adfc4649436c57607a1f5e54280dbe903962967"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1e9e735670f029c975d3b7486a54e5bb67135df7",
          "sha": "1e9e735670f029c975d3b7486a54e5bb67135df7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1e9e735670f029c975d3b7486a54e5bb67135df7"
        }
      ],
      "message": "chain: uniformly use `SettingsAction` enum in all settings methods",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-09-08T14:24:18Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-09-05T20:25:06Z"
      },
      "sha": "96bd6140cfd00bb151a7143b861f2e1854da7696"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI5YTgzY2FhNzdhZDkyOWFhMzExOGJjNzMzY2ZkNjQ3ZjJhYzlhMzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "tree": {
        "sha": "6c0bfa5357ba9eb94565a0b4d1ac4159e07a90aa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6c0bfa5357ba9eb94565a0b4d1ac4159e07a90aa"
      },
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "payload": "tree 6c0bfa5357ba9eb94565a0b4d1ac4159e07a90aa\nparent 96bd6140cfd00bb151a7143b861f2e1854da7696\nauthor ismaelsadeeq <ask4ismailsadiq@gmail.com> 1725823609 +0100\ncommitter ismaelsadeeq <ask4ismailsadiq@gmail.com> 1725823609 +0100\n\nchain: dont check for null settings value in `overwriteRwSetting`\n\n- Deleting the settings when the new value is null is redundant\n  as we can achieve the same by just calling `deleteRwSetting`.\n\n- This commit updates `overwriteRwSetting` to instead not check\n  for null settings and just go ahead and update the settings with\n  whatever was passed.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQTp92/X8LZmU6fYk5kOOQjzZJiYiAUCZt37hQAKCRAOOQjzZJiY\niPoiAQCtvkMjaDZZn5sAi3kbs3qvb6j8IvjBEtA3p0TVQfIlUAD+OYjOnWXxbnBq\ngeFThzpjIKjcozzyO+L+nl9d4iBrkQM=\n=ajm7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/96bd6140cfd00bb151a7143b861f2e1854da7696",
          "sha": "96bd6140cfd00bb151a7143b861f2e1854da7696",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/96bd6140cfd00bb151a7143b861f2e1854da7696"
        }
      ],
      "message": "chain: dont check for null settings value in `overwriteRwSetting`\n\n- Deleting the settings when the new value is null is redundant\n  as we can achieve the same by just calling `deleteRwSetting`.\n\n- This commit updates `overwriteRwSetting` to instead not check\n  for null settings and just go ahead and update the settings with\n  whatever was passed.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-09-08T19:26:49Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-09-08T19:26:49Z"
      },
      "sha": "29a83caa77ad929aa3118bc733cfd647f2ac9a35"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14174908554,
      "node_id": "HRFPE_lADOABII586Vi0lVzwAAAANM4_CK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14174908554",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-08T19:36:06Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1746748313",
      "pull_request_review_id": 2285497604,
      "id": 1746748313,
      "node_id": "PRRC_kwDOABII585oHUOZ",
      "diff_hunk": "@@ -361,7 +361,7 @@ class Chain\n     virtual bool updateRwSetting(const std::string& name, const SettingsUpdate& update_function) = 0;\n \n     //! Replace a setting in <datadir>/settings.json with a new value.\n-    virtual bool overwriteRwSetting(const std::string& name, common::SettingsValue& value, bool write = true) = 0;\n+    virtual bool overwriteRwSetting(const std::string& name, common::SettingsValue value, bool write = true) = 0;",
      "path": "src/interfaces/chain.h",
      "position": null,
      "original_position": 5,
      "commit_id": "29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "original_commit_id": "1e9e735670f029c975d3b7486a54e5bb67135df7",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "How about making the parameter `&&` to avoid accidental copies?",
      "created_at": "2024-09-06T08:56:57Z",
      "updated_at": "2024-09-06T09:05:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#discussion_r1746748313",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1746748313"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 364,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1746787689",
      "pull_request_review_id": 2285578063,
      "id": 1746787689,
      "node_id": "PRRC_kwDOABII585oHd1p",
      "diff_hunk": "@@ -361,7 +361,7 @@ class Chain\n     virtual bool updateRwSetting(const std::string& name, const SettingsUpdate& update_function) = 0;\n \n     //! Replace a setting in <datadir>/settings.json with a new value.\n-    virtual bool overwriteRwSetting(const std::string& name, common::SettingsValue& value, bool write = true) = 0;\n+    virtual bool overwriteRwSetting(const std::string& name, common::SettingsValue value, bool write = true) = 0;",
      "path": "src/interfaces/chain.h",
      "position": null,
      "original_position": 5,
      "commit_id": "29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "original_commit_id": "1e9e735670f029c975d3b7486a54e5bb67135df7",
      "in_reply_to_id": 1746748313,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It was deliberately added in other to allow caller to decide whether to move or make a copy see https://github.com/bitcoin/bitcoin/pull/30697#discussion_r1746002806 ",
      "created_at": "2024-09-06T09:11:46Z",
      "updated_at": "2024-09-06T09:11:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#discussion_r1746787689",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1746787689"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 364,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1746797435",
      "pull_request_review_id": 2285608348,
      "id": 1746797435,
      "node_id": "PRRC_kwDOABII585oHgN7",
      "diff_hunk": "@@ -361,7 +361,7 @@ class Chain\n     virtual bool updateRwSetting(const std::string& name, const SettingsUpdate& update_function) = 0;\n \n     //! Replace a setting in <datadir>/settings.json with a new value.\n-    virtual bool overwriteRwSetting(const std::string& name, common::SettingsValue& value, bool write = true) = 0;\n+    virtual bool overwriteRwSetting(const std::string& name, common::SettingsValue value, bool write = true) = 0;",
      "path": "src/interfaces/chain.h",
      "position": null,
      "original_position": 5,
      "commit_id": "29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "original_commit_id": "1e9e735670f029c975d3b7486a54e5bb67135df7",
      "in_reply_to_id": 1746748313,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah, I see. Please resolve :)",
      "created_at": "2024-09-06T09:18:32Z",
      "updated_at": "2024-09-06T09:18:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#discussion_r1746797435",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1746797435"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 364,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1746805357",
      "pull_request_review_id": 2285629295,
      "id": 1746805357,
      "node_id": "PRRC_kwDOABII585oHiJt",
      "diff_hunk": "@@ -361,7 +361,7 @@ class Chain\n     virtual bool updateRwSetting(const std::string& name, const SettingsUpdate& update_function) = 0;\n \n     //! Replace a setting in <datadir>/settings.json with a new value.\n-    virtual bool overwriteRwSetting(const std::string& name, common::SettingsValue& value, bool write = true) = 0;\n+    virtual bool overwriteRwSetting(const std::string& name, common::SettingsValue value, bool write = true) = 0;",
      "path": "src/interfaces/chain.h",
      "position": null,
      "original_position": 5,
      "commit_id": "29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "original_commit_id": "1e9e735670f029c975d3b7486a54e5bb67135df7",
      "in_reply_to_id": 1746748313,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks",
      "created_at": "2024-09-06T09:24:24Z",
      "updated_at": "2024-09-06T09:24:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#discussion_r1746805357",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1746805357"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 364,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1747172543",
      "pull_request_review_id": 2286347906,
      "id": 1747172543,
      "node_id": "PRRC_kwDOABII585oI7y_",
      "diff_hunk": "@@ -819,18 +819,22 @@ class ChainImpl : public Chain\n     {\n         std::optional<interfaces::SettingsAction> action;\n         args().LockSettings([&](common::Settings& settings) {\n-            auto* ptr_value = common::FindKey(settings.rw_settings, name);\n-            // Create value if it doesn't exist\n-            auto& value = ptr_value ? *ptr_value : settings.rw_settings[name];\n-            action = update_settings_func(value);\n+            if (auto* value = common::FindKey(settings.rw_settings, name)) {\n+                action = update_settings_func(*value);\n+                if (value->isNull()) settings.rw_settings.erase(name);\n+            } else {\n+                UniValue new_value;\n+                action = update_settings_func(new_value);\n+                if (!new_value.isNull()) settings.rw_settings[name] = std::move(new_value);\n+            }\n         });\n         if (!action) return false;\n         // Now dump value to disk if requested\n         return *action == interfaces::SettingsAction::SKIP_WRITE || args().WriteSettingsFile();\n     }\n     bool overwriteRwSetting(const std::string& name, common::SettingsValue value, interfaces::SettingsAction action) override\n     {\n-        if (value.isNull()) return deleteRwSettings(name, action);\n+        if (value.isNull()) return false; // disallow overwriting with null values.",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "original_commit_id": "4627174d80838e1c6848f9dff47a2ca4a9a35091",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"chain: disallow overwriting settings with null values\" (4627174d80838e1c6848f9dff47a2ca4a9a35091)\r\n\r\nWould be good to just delete this line entirely and make overwriteRwSetting just call updateRwSetting without making a special case for null. Setting a null setting should just delete a setting consistently and not have different behavior for different functions.\r\n\r\n(Sorry I didn't notice this line before and mistakenly thought overwriteRwSetting would allow writing null values to the settings file, so my earlier comments might have been confusing.)",
      "created_at": "2024-09-06T13:57:44Z",
      "updated_at": "2024-09-06T13:57:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#discussion_r1747172543",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1747172543"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
        }
      },
      "start_line": null,
      "original_start_line": 833,
      "start_side": "LEFT",
      "line": null,
      "original_line": 837,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1748270119",
      "pull_request_review_id": 2287665958,
      "id": 1748270119,
      "node_id": "PRRC_kwDOABII585oNHwn",
      "diff_hunk": "@@ -828,20 +828,20 @@ class ChainImpl : public Chain\n         // Now dump value to disk if requested\n         return *action == interfaces::SettingsAction::SKIP_WRITE || args().WriteSettingsFile();\n     }\n-    bool overwriteRwSetting(const std::string& name, common::SettingsValue value, bool write) override\n+    bool overwriteRwSetting(const std::string& name, common::SettingsValue value, interfaces::SettingsAction action) override\n     {\n-        if (value.isNull()) return deleteRwSettings(name, write);\n+        if (value.isNull()) return deleteRwSettings(name, action);\n         return updateRwSetting(name, [&](common::SettingsValue& settings) {\n             settings = std::move(value);\n-            return write ? interfaces::SettingsAction::WRITE : interfaces::SettingsAction::SKIP_WRITE;\n+            return action;\n         });\n     }\n-    bool deleteRwSettings(const std::string& name, bool write) override\n+    bool deleteRwSettings(const std::string& name, interfaces::SettingsAction action) override\n     {\n         args().LockSettings([&](common::Settings& settings) {\n             settings.rw_settings.erase(name);\n         });\n-        return !write || args().WriteSettingsFile();\n+        return action == interfaces::SettingsAction::SKIP_WRITE || args().WriteSettingsFile();",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "original_commit_id": "37342577e19dab214e32958c22674afb7332523b",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In case we add another action in the future, this could be:\r\n```suggestion\r\n        return action != interfaces::SettingsAction::WRITE || args().WriteSettingsFile();\r\n```",
      "created_at": "2024-09-07T14:54:22Z",
      "updated_at": "2024-09-07T15:15:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#discussion_r1748270119",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1748270119"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 844,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1748327016",
      "pull_request_review_id": 2287665958,
      "id": 1748327016,
      "node_id": "PRRC_kwDOABII585oNVpo",
      "diff_hunk": "@@ -819,18 +819,22 @@ class ChainImpl : public Chain\n     {\n         std::optional<interfaces::SettingsAction> action;\n         args().LockSettings([&](common::Settings& settings) {\n-            auto* ptr_value = common::FindKey(settings.rw_settings, name);\n-            // Create value if it doesn't exist\n-            auto& value = ptr_value ? *ptr_value : settings.rw_settings[name];\n-            action = update_settings_func(value);\n+            if (auto* value = common::FindKey(settings.rw_settings, name)) {\n+                action = update_settings_func(*value);\n+                if (value->isNull()) settings.rw_settings.erase(name);\n+            } else {\n+                UniValue new_value;\n+                action = update_settings_func(new_value);\n+                if (!new_value.isNull()) settings.rw_settings[name] = std::move(new_value);\n+            }\n         });\n         if (!action) return false;\n         // Now dump value to disk if requested\n         return *action == interfaces::SettingsAction::SKIP_WRITE || args().WriteSettingsFile();\n     }\n     bool overwriteRwSetting(const std::string& name, common::SettingsValue value, interfaces::SettingsAction action) override\n     {\n-        if (value.isNull()) return deleteRwSettings(name, action);\n+        if (value.isNull()) return false; // disallow overwriting with null values.",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "original_commit_id": "4627174d80838e1c6848f9dff47a2ca4a9a35091",
      "in_reply_to_id": 1747172543,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> Setting a null setting should just delete a setting consistently and not have different behavior for different functions.\r\n\r\nI would rather fail when a null setting is provided to any of the update or overwrite functions. I believe the deletion intent should be explicit, at least within this settings layer. That's why the `deleteRwSettings` function was introduced. It seems inconsistent to have two different methods for deleting a value - one embedded within the update function and another explicit.",
      "created_at": "2024-09-07T15:08:03Z",
      "updated_at": "2024-09-07T15:36:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#discussion_r1748327016",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1748327016"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
        }
      },
      "start_line": null,
      "original_start_line": 833,
      "start_side": "LEFT",
      "line": null,
      "original_line": 837,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1748697758",
      "pull_request_review_id": 2288109833,
      "id": 1748697758,
      "node_id": "PRRC_kwDOABII585oOwKe",
      "diff_hunk": "@@ -819,18 +819,22 @@ class ChainImpl : public Chain\n     {\n         std::optional<interfaces::SettingsAction> action;\n         args().LockSettings([&](common::Settings& settings) {\n-            auto* ptr_value = common::FindKey(settings.rw_settings, name);\n-            // Create value if it doesn't exist\n-            auto& value = ptr_value ? *ptr_value : settings.rw_settings[name];\n-            action = update_settings_func(value);\n+            if (auto* value = common::FindKey(settings.rw_settings, name)) {\n+                action = update_settings_func(*value);\n+                if (value->isNull()) settings.rw_settings.erase(name);\n+            } else {\n+                UniValue new_value;\n+                action = update_settings_func(new_value);\n+                if (!new_value.isNull()) settings.rw_settings[name] = std::move(new_value);\n+            }\n         });\n         if (!action) return false;\n         // Now dump value to disk if requested\n         return *action == interfaces::SettingsAction::SKIP_WRITE || args().WriteSettingsFile();\n     }\n     bool overwriteRwSetting(const std::string& name, common::SettingsValue value, interfaces::SettingsAction action) override\n     {\n-        if (value.isNull()) return deleteRwSettings(name, action);\n+        if (value.isNull()) return false; // disallow overwriting with null values.",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "original_commit_id": "4627174d80838e1c6848f9dff47a2ca4a9a35091",
      "in_reply_to_id": 1747172543,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "So we both agree it is bad for overwrite function to reject null values and update function to accept them, but I would prefer both functions to accept them and you want both functions to reject them.\r\n\r\nHere are the reason I think it is better to accept them:\r\n\r\n- I think it is generally bad practice to accept nullable values and then handle them with runtime errors. If you want to write API's that don't accept null values I think you should use non-nullable types.\r\n\r\n- I think in this specific case, there is no reason these APIs should not accept null values. Ihe purpose of the update function is to be able to atomically read and update settings. But there is no function to atomically read and delete settings and this should be a completely valid use-case for situations where you want to safely reset settings without clobbering concurrently set values. We can easily support it by just not going out of the way to add unnecessary restrictions.\r\n\r\nI am fine with existence of deleteRwSetting as a more convenient & readable wrapper around overwriteRwSetting and updateRwSetting, the same way overwriteRwSetting is a convenient and readable wrapper around updateRwSetting. But existence of deleteRwSetting should not be an excuse for crippling the behavior of the other functions and making them less safe to call. Ability to atomically read and delete settings is useful, and trying to deal with null values at runtime rather than compile time is a bad practice that should be a last not first resort.",
      "created_at": "2024-09-07T17:02:59Z",
      "updated_at": "2024-09-07T17:02:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#discussion_r1748697758",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1748697758"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
        }
      },
      "start_line": null,
      "original_start_line": 833,
      "start_side": "LEFT",
      "line": null,
      "original_line": 837,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749332974",
      "pull_request_review_id": 2288590909,
      "id": 1749332974,
      "node_id": "PRRC_kwDOABII585oRLPu",
      "diff_hunk": "@@ -819,18 +819,22 @@ class ChainImpl : public Chain\n     {\n         std::optional<interfaces::SettingsAction> action;\n         args().LockSettings([&](common::Settings& settings) {\n-            auto* ptr_value = common::FindKey(settings.rw_settings, name);\n-            // Create value if it doesn't exist\n-            auto& value = ptr_value ? *ptr_value : settings.rw_settings[name];\n-            action = update_settings_func(value);\n+            if (auto* value = common::FindKey(settings.rw_settings, name)) {\n+                action = update_settings_func(*value);\n+                if (value->isNull()) settings.rw_settings.erase(name);\n+            } else {\n+                UniValue new_value;\n+                action = update_settings_func(new_value);\n+                if (!new_value.isNull()) settings.rw_settings[name] = std::move(new_value);\n+            }\n         });\n         if (!action) return false;\n         // Now dump value to disk if requested\n         return *action == interfaces::SettingsAction::SKIP_WRITE || args().WriteSettingsFile();\n     }\n     bool overwriteRwSetting(const std::string& name, common::SettingsValue value, interfaces::SettingsAction action) override\n     {\n-        if (value.isNull()) return deleteRwSettings(name, action);\n+        if (value.isNull()) return false; // disallow overwriting with null values.",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "original_commit_id": "4627174d80838e1c6848f9dff47a2ca4a9a35091",
      "in_reply_to_id": 1747172543,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There are two suggestions here:\r\n\r\n1. **@furszy suggested to fail when the value is null**: I agree with not checking for null values, for the reasons outlined above.\r\n   \r\n2. **@ryanofsky suggested removing the null value check**: This approach would overwrite the previous settings with a null value.\r\n   \r\n> Setting a null value should consistently delete the setting, rather than having different behavior in different functions.\r\n\r\nHowever, if we don’t delete the key-value pair, the setting still exists in the map with a null value, which does not truly remove the setting, right?\r\n\r\nCurrently, the code calls `deleteRwSettings` when the `value` is null, which deletes the setting entirely. This makes the method redundant, as calling `deleteRwSettings` achieves the same result as passing a null `SettingsValue` to `overwriteRwSetting`.\r\n\r\nI believe a better approach is to simply update the settings based on what is passed to `overwriteRwSetting`.\r\nIt should be the caller's responsibility to determine whether to pass a null value or not. \r\nIf the caller intends to delete the setting, they should explicitly call `deleteRwSettings`.",
      "created_at": "2024-09-08T19:22:16Z",
      "updated_at": "2024-09-08T19:22:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#discussion_r1749332974",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749332974"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
        }
      },
      "start_line": null,
      "original_start_line": 833,
      "start_side": "LEFT",
      "line": null,
      "original_line": 837,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749339659",
      "pull_request_review_id": 2288594022,
      "id": 1749339659,
      "node_id": "PRRC_kwDOABII585oRM4L",
      "diff_hunk": "@@ -828,20 +828,20 @@ class ChainImpl : public Chain\n         // Now dump value to disk if requested\n         return *action == interfaces::SettingsAction::SKIP_WRITE || args().WriteSettingsFile();\n     }\n-    bool overwriteRwSetting(const std::string& name, common::SettingsValue value, bool write) override\n+    bool overwriteRwSetting(const std::string& name, common::SettingsValue value, interfaces::SettingsAction action) override\n     {\n-        if (value.isNull()) return deleteRwSettings(name, write);\n+        if (value.isNull()) return deleteRwSettings(name, action);\n         return updateRwSetting(name, [&](common::SettingsValue& settings) {\n             settings = std::move(value);\n-            return write ? interfaces::SettingsAction::WRITE : interfaces::SettingsAction::SKIP_WRITE;\n+            return action;\n         });\n     }\n-    bool deleteRwSettings(const std::string& name, bool write) override\n+    bool deleteRwSettings(const std::string& name, interfaces::SettingsAction action) override\n     {\n         args().LockSettings([&](common::Settings& settings) {\n             settings.rw_settings.erase(name);\n         });\n-        return !write || args().WriteSettingsFile();\n+        return action == interfaces::SettingsAction::SKIP_WRITE || args().WriteSettingsFile();",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "29a83caa77ad929aa3118bc733cfd647f2ac9a35",
      "original_commit_id": "37342577e19dab214e32958c22674afb7332523b",
      "in_reply_to_id": 1748270119,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I guess you are trying to avoid a situation where we would need to write:\r\n\r\n```\r\nreturn action == interfaces::SettingsAction::SKIP_WRITE || action == interfaces::SettingsAction::NEW_ACTION || args().WriteSettingsFile();\r\n```\r\n\r\nIn some cases we would still need to modify this to handle the new action if it has additional effects beyond just writing, such as writing and logging, for example.\r\n\r\n---\r\nI've updated to your suggestion, as it is more maintainable.",
      "created_at": "2024-09-08T19:48:23Z",
      "updated_at": "2024-09-08T19:48:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30828#discussion_r1749339659",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1749339659"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30828"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 844,
      "side": "RIGHT"
    }
  ]
}