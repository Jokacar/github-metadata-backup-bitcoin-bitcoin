{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29642",
    "id": 1768952247,
    "node_id": "PR_kwDOABII585pcBG3",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29642",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29642.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29642.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29642/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29642/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/f251761036231fe0c6f92d5af75f6507a17408a4",
    "number": 29642,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "kernel: Handle fatal errors through return values",
    "user": {
      "login": "TheCharlatan",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheCharlatan",
      "html_url": "https://github.com/TheCharlatan",
      "followers_url": "https://api.github.com/users/TheCharlatan/followers",
      "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
      "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
      "repos_url": "https://api.github.com/users/TheCharlatan/repos",
      "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Based on #25665.\r\n\r\nCurrently functions issuing fatal errors call the `fatalError` notification method to issue a shutdown procedure. This makes it hard for higher level functions to figure out if an error deeper in the call stack occurred. For users of the kernel it might also be difficult to assert which function call issued a fatal error if they are being run concurrently. If the kernel would eventually be used by external users, getting fatal error information through a callback instead of function return values would also be cumbersome and limiting. Unit, bench, and fuzz tests currently don't have a way to effectively test against fatal errors.\r\n\r\nThis patch set is an attempt to make fatal error handling in the kernel code more transparent. Fatal errors are now passed up the call stack through `util::Result<T, FatalError>` failure values. A previous attempt at this by theuni always immediately returned failure values if a function call returned a failure. However, this is not always desirable (see discussion [here](https://github.com/bitcoin/bitcoin/pull/27866#discussion_r1256378064)). Sometimes, further operations can still be completed even if a fatal error was issued. The solution to this is that these \"ignored\" errors are still moved through `util::Result`'s error string values with its `.MoveMessages` method, even while a failure value in the result is not present.\r\n\r\nNext to some smaller behavior changes, the most significant change is that the issuing of a shutdown procedure is delayed until a potential fatal error is handled as opposed to immediately when it is first encountered. Another effect is that potential fatal errors are now asserted in the bench, fuzz and unit tests. Some of the currently not immediately returned fatal errors need some further scrutiny. These are marked with a `TODO (fatal error)` comment and could be tackled in a later PR.\r\n\r\nTo validate this approach a new clang-tidy check is introduced. It implements the following checks:\r\n\r\n1. If a function calls another function with a `util::Result<T, FatalCondition>` return type, its return type has to be `util::Result<T, FatalCondition>` too, or it has to handle the value returned by the function with one of `CheckFatal`, `HandleFatalError`,\r\n`UnwrapFatalError`, or `CheckFatalFailure`.\r\n2. In functions returning a `util::Result<T, FatalCondition>` a call to a function returning a `util::Result<T, FatalCondition>` needs to propagate the value by either:\r\n   - Returning it immediately\r\n   - Assigning it immediately to an existing result with `.MoveMessages()` or `.Set()`\r\n   - Eventually passing it as an argument to a `.MoveMessages()`\r\n\r\n---\r\n\r\nThis PR is part of the [libbitcoinkernel project](https://github.com/bitcoin/bitcoin/issues/27587) and is a step towards stage 2, creating a more refined kernel API.",
    "labels": [
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      },
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2024-03-12T21:34:45Z",
    "updated_at": "2024-03-20T21:22:27Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "5f37a131a02134246fa1f62274625ac51b25f9c6",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "TheCharlatan:returnTypeShutdown",
      "ref": "returnTypeShutdown",
      "sha": "f251761036231fe0c6f92d5af75f6507a17408a4",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "TheCharlatan/bitcoin",
        "owner": {
          "login": "TheCharlatan",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TheCharlatan",
          "html_url": "https://github.com/TheCharlatan",
          "followers_url": "https://api.github.com/users/TheCharlatan/followers",
          "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
          "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
          "repos_url": "https://api.github.com/users/TheCharlatan/repos",
          "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/TheCharlatan/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/TheCharlatan/bitcoin",
        "archive_url": "https://api.github.com/repos/TheCharlatan/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TheCharlatan/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TheCharlatan/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TheCharlatan/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/TheCharlatan/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/events",
        "forks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TheCharlatan/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TheCharlatan/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TheCharlatan/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TheCharlatan/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/TheCharlatan/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/TheCharlatan/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TheCharlatan/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TheCharlatan/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TheCharlatan/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:TheCharlatan/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/TheCharlatan/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/TheCharlatan/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TheCharlatan/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/hooks",
        "svn_url": "https://github.com/TheCharlatan/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 232651,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-20T18:43:16Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2023-10-20T10:28:30Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "8e95a9cd7ad6c448ed91f1c30e582c31e96c9df3",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34869,
        "stargazers_count": 74912,
        "watchers_count": 74912,
        "size": 253314,
        "default_branch": "master",
        "open_issues_count": 691,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-20T21:28:06Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-03-20T22:00:03Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29642"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 2059,
    "deletions": 698,
    "changed_files": 72,
    "commits": 27,
    "review_comments": 0,
    "comments": 7
  },
  "events": [
    {
      "event": "commented",
      "id": 1992625857,
      "node_id": "IC_kwDOABII5852xQ7B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992625857",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T21:34:47Z",
      "updated_at": "2024-03-20T00:25:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29642).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-1999854726), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2007906431) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29672](https://github.com/bitcoin/bitcoin/pull/29672) (validation: Make translations of fatal errors consistent by TheCharlatan)\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo/LogDebug over LogPrintf/LogPrint by maflcko)\n* [#29553](https://github.com/bitcoin/bitcoin/pull/29553) (assumeutxo: Add dumptxoutset height param, remove shell scripts by fjahr)\n* [#29415](https://github.com/bitcoin/bitcoin/pull/29415) (Broadcast own transactions only via short-lived Tor or I2P connections by vasild)\n* [#29402](https://github.com/bitcoin/bitcoin/pull/29402) (mempool: Log added for dumping mempool transactions to disk by kevkevinpal)\n* [#29278](https://github.com/bitcoin/bitcoin/pull/29278) (Wallet:  Add `maxfeerate` wallet startup option by ismaelsadeeq)\n* [#29231](https://github.com/bitcoin/bitcoin/pull/29231) (logging: Update to new logging API by ajtowns)\n* [#28843](https://github.com/bitcoin/bitcoin/pull/28843) ([refactor] Remove BlockAssembler m_mempool member by TheCharlatan)\n* [#28687](https://github.com/bitcoin/bitcoin/pull/28687) (C++20 std::views::reverse by stickies-v)\n* [#28280](https://github.com/bitcoin/bitcoin/pull/28280) (Don't empty dbcache on prune flushes: >30% faster IBD by andrewtoth)\n* [#28233](https://github.com/bitcoin/bitcoin/pull/28233) (validation: don't clear cache on periodic flush by andrewtoth)\n* [#27039](https://github.com/bitcoin/bitcoin/pull/27039) (blockstorage: do not flush block to disk if it is already there by pinheadmz)\n* [#27006](https://github.com/bitcoin/bitcoin/pull/27006) (reduce cs_main scope, guard block index 'nFile' under a local mutex by furszy)\n* [#26593](https://github.com/bitcoin/bitcoin/pull/26593) (tracing: Only prepare tracepoint arguments when actually tracing by 0xB10C)\n* [#26022](https://github.com/bitcoin/bitcoin/pull/26022) (Add util::ResultPtr class by ryanofsky)\n* [#25722](https://github.com/bitcoin/bitcoin/pull/25722) (refactor: Use util::Result class for wallet loading by ryanofsky)\n* [#25665](https://github.com/bitcoin/bitcoin/pull/25665) (refactor: Add util::Result failure values, multiple error and warning messages by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-1992625857",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "labeled",
      "id": 12095290758,
      "node_id": "LE_lADOABII586CGcByzwAAAALQ732G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12095290758",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T21:34:50Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12095669292,
      "node_id": "HRFPE_lADOABII586CGcByzwAAAALQ9UQs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12095669292",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T22:19:00Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T07:51:43Z",
      "updated_at": "2024-03-13T07:51:43Z",
      "source": {
        "issue": {
          "id": 2182604130,
          "node_id": "PR_kwDOABII585pbmSj",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29641",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29641/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29641/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29641/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29641",
          "number": 29641,
          "state": "open",
          "state_reason": null,
          "title": "scripted-diff: Use LogInfo/LogDebug over LogPrintf/LogPrint",
          "body": "`LogPrintf/LogPrint` are problematic, because:\r\n\r\n* They are deprecated aliases, where code is using either the deprecated or non-deprecated alias, which is inconsistent and confusing.\r\n* Their name is non-descriptive of what the function does (info logging or debug logging).\r\n\r\nFix all issues by replacing the usage.\r\n\r\nWhile the diff is large and may cause merge conflicts or backport conflicts, I don't see the deprecated aliases being kept forever, so this will have to be done at some point. All conflicts should be trivial to solve, in any case.",
          "user": {
            "login": "maflcko",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maflcko",
            "html_url": "https://github.com/maflcko",
            "followers_url": "https://api.github.com/users/maflcko/followers",
            "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
            "organizations_url": "https://api.github.com/users/maflcko/orgs",
            "repos_url": "https://api.github.com/users/maflcko/repos",
            "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/maflcko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29641",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29641",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29641.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29641.patch"
          },
          "created_at": "2024-03-12T20:21:40Z",
          "updated_at": "2024-03-20T21:32:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T08:31:06Z",
      "updated_at": "2024-03-13T08:31:06Z",
      "source": {
        "issue": {
          "id": 2167184322,
          "node_id": "PR_kwDOABII585om7vm",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29553",
          "number": 29553,
          "state": "open",
          "state_reason": null,
          "title": "assumeutxo: Add dumptxoutset height param, remove shell scripts",
          "body": "This adds a height parameter to the `dumptxoutset` RPC. This internalizes the workflow that was previously done by scripts: roll back the chain to the height we actually want the snapshot from, create the snapshot, roll forward to the real tip again.\r\n\r\nThe nice thing about internalizing this functionality is that we can write tests for the code and it gives us more options to make the functionality robust. The shell scripts we have so far will be more cumbersome to maintain in the long run, especially since we will only notice later when we have broken them. I think it's safe to remove these `test_utxo_snapshots.sh` as well when we have this option in `dumptxoutset` because we have also added some good additional functional test coverage for this functionality.\r\n\r\nTBD if we need additional documentation.",
          "user": {
            "login": "fjahr",
            "id": 1322187,
            "node_id": "MDQ6VXNlcjEzMjIxODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fjahr",
            "html_url": "https://github.com/fjahr",
            "followers_url": "https://api.github.com/users/fjahr/followers",
            "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
            "organizations_url": "https://api.github.com/users/fjahr/orgs",
            "repos_url": "https://api.github.com/users/fjahr/repos",
            "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fjahr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29553",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29553.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29553.patch"
          },
          "created_at": "2024-03-04T15:58:11Z",
          "updated_at": "2024-03-20T21:33:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T08:36:08Z",
      "updated_at": "2024-03-13T08:36:08Z",
      "source": {
        "issue": {
          "id": 2164982107,
          "node_id": "PR_kwDOABII585ofgIV",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29538",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29538/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29538/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29538/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29538",
          "number": 29538,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Improve naming of CBlock::GetHash() -> GetHeaderHash()",
          "body": "dergoegge noted [here](https://github.com/bitcoin/bitcoin/pull/29412/commits/49257c0304828a185c273fcb99742c54bbef0c8e) that `CBlock::GetHash()` is a footgun since it only calculates the hash of the header and not the full block. I agree with that sentiment and think it would be beneficial to make this explicit by renaming the inherited function.\r\n\r\nThe same goes for `ConstructBlockHash()`.",
          "user": {
            "login": "fjahr",
            "id": 1322187,
            "node_id": "MDQ6VXNlcjEzMjIxODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fjahr",
            "html_url": "https://github.com/fjahr",
            "followers_url": "https://api.github.com/users/fjahr/followers",
            "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
            "organizations_url": "https://api.github.com/users/fjahr/orgs",
            "repos_url": "https://api.github.com/users/fjahr/repos",
            "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fjahr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29538",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29538",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29538.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29538.patch"
          },
          "closed_at": "2024-03-17T14:04:30Z",
          "created_at": "2024-03-02T21:18:08Z",
          "updated_at": "2024-03-17T15:57:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T09:34:45Z",
      "updated_at": "2024-03-13T09:34:45Z",
      "source": {
        "issue": {
          "id": 2127176950,
          "node_id": "PR_kwDOABII585me8Nn",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29415",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29415/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29415/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29415/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29415",
          "number": 29415,
          "state": "open",
          "state_reason": null,
          "title": "Broadcast own transactions only via short-lived Tor or I2P connections",
          "body": "To improve privacy, broadcast locally submitted transactions (from the `sendrawtransaction` RPC) to the P2P network only via Tor or I2P short-lived connections.\r\n\r\n* Introduce a new connection type for private broadcast of transactions with the following properties:\r\n  * started whenever there are local transactions to be sent\r\n  * only opened to Tor or I2P peers\r\n  * opened regardless of max connections limits\r\n  * after handshake is completed one local transaction is pushed to the peer, `PING` is sent and after receiving `PONG` the connection is closed\r\n  * ignore all incoming messages after handshake is completed (except `PONG`)\r\n\r\n* Broadcast transactions submitted via `sendrawtransaction` using this new mechanism, to a few Tor or I2P peers. Keep doing this until we receive an `INV` about this transaction from one of our ordinary peers (this takes about 1 second on mainnet).\r\n\r\n* The transaction is stored in peerman and does not enter the mempool.\r\n\r\n* Once we get an `INV` from somebody, then the normal flow executes: we request the transaction with `GETDATA`, receive it with a `TX` message, put it in our mempool and broadcast it to all our existent connections (as if we see it for the first time).\r\n\r\n* After we receive the full transaction as a `TX` message, in reply to our `GETDATA` request, only then consider the transaction has propagated through the network and remove it from the storage in peerman, ending the private broadcast attempts.\r\n\r\nThe messages exchange should look like this:\r\n\r\n```\r\ntx-sender >--- connect -------> tx-recipient\r\ntx-sender >--- VERSION -------> tx-recipient (dummy VERSION with no revealing data)\r\ntx-sender <--- VERSION -------< tx-recipient\r\ntx-sender <--- WTXIDRELAY ----< tx-recipient (maybe)\r\ntx-sender <--- SENDADDRV2 ----< tx-recipient (maybe)\r\ntx-sender <--- SENDTXRCNCL ---< tx-recipient (maybe)\r\ntx-sender <--- VERACK --------< tx-recipient\r\ntx-sender >--- VERACK --------> tx-recipient\r\ntx-sender >--- TX ------------> tx-recipient\r\ntx-sender >--- PING ----------> tx-recipient\r\ntx-sender <--- PONG ----------< tx-recipient\r\ntx-sender disconnects\r\n```\r\n\r\nWhenever a new transaction is received from `sendrawtransaction` RPC, the node will send it to 5 (`NUM_PRIVATE_BROADCAST_PER_TX`) recipients right away. If after 10-15 mins we still have not heard anything about the transaction from the network, then it will be sent to 1 more peer (see `PeerManagerImpl::ReattemptPrivateBroadcast()`).\r\n\r\nA few considerations:\r\n* The short-lived private broadcast connections are very cheap and fast wrt network traffic. It is expected that some of those peers could blackhole the transaction. Just one honest/proper peer is enough for successful propagation.\r\n* The peers that receive the transaction could deduce that this is initial transaction broadcast from the transaction originator. This is ok, they can't identify the sender.\r\n\r\n---\r\n\r\nSome explanation of the commits:\r\n\r\n* Independent improvement (also opened as a standalone PR at https://github.com/bitcoin/bitcoin/pull/29419):\r\n  * `log: deduplicate category names and improve logging.cpp`\r\n\r\n* New logging category and config option to enable private broadcast\r\n  * `log: introduce a new category for private broadcast`\r\n  * `init: introduce a new option to enable/disable private broadcast`\r\n\r\n* Implement the private broadcast connection handling on the `CConnman` side:\r\n  * `net: introduce a new connection type for private broadcast`\r\n  * `net: move peers counting before grant acquisition in ThreadOpenConnections()`\r\n  * `net: implement opening PRIVATE_BROADCAST connections`\r\n\r\n* Prepare `BroadcastTransaction()` for private broadcast requests:\r\n  * `net_processing: rename RelayTransaction to better describe what it does`\r\n  * `node: change a tx-relay on/off flag to a tri-state`\r\n  * `net_processing: store transactions for private broadcast in PeerManager`\r\n\r\n* Implement the private broadcast connection handling on the `PeerManager` side:\r\n  * `net_processing: reorder the code that handles the VERSION message`\r\n  * `net_processing: handle ConnectionType::PRIVATE_BROADCAST connections`\r\n  * `net_processing: stop private broadcast of a transaction after round-trip`\r\n  * `net_processing: retry private broadcast`\r\n\r\n* Engage the new functionality from `sendrawtransaction`:\r\n  * `rpc: use private broadcast from sendrawtransaction RPC if -privatebroadcast is ON`\r\n\r\n* Independent test framework improvements (also opened as a standalone PR at https://github.com/bitcoin/bitcoin/pull/29420):\r\n  * `test: improve debug log message from P2PConnection::connection_made()`\r\n  * `test: extend the SOCKS5 Python proxy to actually connect to a destination`\r\n  * `test: support WTX INVs from P2PDataStore and fix a comment`\r\n  * `test: set P2PConnection::p2p_connected_to_node in peer_connect_helper()`\r\n\r\n* New functional test that exercies some of the new code:\r\n  * `test: add functional test for local tx relay`\r\n\r\n---\r\n\r\nThis addresses:\r\nhttps://github.com/bitcoin/bitcoin/issues/3828 Clients leak IPs if they are recipients of a transaction\r\nhttps://github.com/bitcoin/bitcoin/issues/14692 Can't configure bitocoind to only send tx via Tor but receive clearnet transactions\r\nhttps://github.com/bitcoin/bitcoin/issues/19042 Tor-only transaction broadcast onlynet=onion alternative\r\nhttps://github.com/bitcoin/bitcoin/issues/24557 Option for receive events with all networks, but send transactions and/or blocks only with anonymous network[s]?\r\nhttps://github.com/bitcoin/bitcoin/issues/25450 Ability to broadcast wallet transactions only via dedicated oneshot Tor connections\r\n\r\nRelated, but different:\r\nhttps://github.com/bitcoin/bitcoin/issues/21876 Broadcast a transaction to specific nodes\r\nhttps://github.com/bitcoin/bitcoin/issues/28636 new RPC: sendrawtransactiontopeer\r\n\r\n---\r\n\r\n_A previous incarnation of this can be found at https://github.com/bitcoin/bitcoin/pull/27509. It puts the transaction in the mempool and (tries to) hide it from the outside observers. This turned out to be too error prone or maybe even impossible._\r\n",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 16,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29415",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29415",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29415.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29415.patch"
          },
          "created_at": "2024-02-09T13:39:10Z",
          "updated_at": "2024-03-20T01:49:17Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T09:38:06Z",
      "updated_at": "2024-03-13T09:38:06Z",
      "source": {
        "issue": {
          "id": 2122999293,
          "node_id": "PR_kwDOABII585mQrPv",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29402/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29402/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29402/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29402",
          "number": 29402,
          "state": "open",
          "state_reason": null,
          "title": "mempool: Log added for dumping mempool transactions to disk",
          "body": "Sometimes when shutting off bitcoind it can take a while to dump the mempool transaction onto the disk so\r\nthis change adds additional logging to the `DumpMempool` method in `kernel/mempool_persist.cpp`\r\n\r\nMotivated by https://github.com/bitcoin/bitcoin/pull/29227 this change\r\n - adds a single new line for the amount of transactions being dumped and the amount of memory being dumped to file\r\n\r\nThis is in response to https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1893375082\r\n\r\nThe logs will now look like this\r\n```\r\n2024-02-09T23:41:52Z DumpAnchors: Flush 2 outbound block-relay-only peer addresses to anchors.dat completed (0.02s)\r\n2024-02-09T23:41:52Z scheduler thread exit\r\n2024-02-09T23:41:52Z Writing 29 mempool transactions to file...\r\n2024-02-09T23:41:52Z Writing 0 unbroadcast transactions to file.\r\n2024-02-09T23:41:52Z Dumped mempool: 0.000s to copy, 0.022s to dump, 0.015 MB dumped to file\r\n2024-02-09T23:41:52Z Flushed fee estimates to fee_estimates.dat.\r\n2024-02-09T23:41:53Z Shutdown: done\r\n```\r\n\r\n",
          "user": {
            "login": "kevkevinpal",
            "id": 15950706,
            "node_id": "MDQ6VXNlcjE1OTUwNzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/15950706?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kevkevinpal",
            "html_url": "https://github.com/kevkevinpal",
            "followers_url": "https://api.github.com/users/kevkevinpal/followers",
            "following_url": "https://api.github.com/users/kevkevinpal/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/kevkevinpal/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/kevkevinpal/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/kevkevinpal/subscriptions",
            "organizations_url": "https://api.github.com/users/kevkevinpal/orgs",
            "repos_url": "https://api.github.com/users/kevkevinpal/repos",
            "events_url": "https://api.github.com/users/kevkevinpal/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/kevkevinpal/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 17,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29402",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29402.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29402.patch"
          },
          "created_at": "2024-02-07T13:07:33Z",
          "updated_at": "2024-03-20T01:52:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T10:10:07Z",
      "updated_at": "2024-03-13T10:10:07Z",
      "source": {
        "issue": {
          "id": 2089150264,
          "node_id": "PR_kwDOABII585keJKk",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29278",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29278/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29278/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29278/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29278",
          "number": 29278,
          "state": "open",
          "state_reason": null,
          "title": "Wallet:  Add `maxfeerate` wallet startup option",
          "body": "This PR fixes #29220\r\n\r\n- The PR adds a wallet `-maxfeerate` startup option, as the upper limit of wallet transactions fee rate.\r\n\r\n- This fixes the ambiguity of using `maxtxfee` value to check the upper limit of transactions fee rate.\r\n\r\n-  Wallet will not create a transaction with fee rate above `maxfeerate` value. And you can not set wallet fee rate with `settxfee` RPC above `maxfeerate` value.\r\n\r\n- This PR adds a functional test that ensure the behavior is enforced.\r\n \r\n\r\n\r\n",
          "user": {
            "login": "ismaelsadeeq",
            "id": 48946461,
            "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ismaelsadeeq",
            "html_url": "https://github.com/ismaelsadeeq",
            "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
            "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
            "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
            "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
            "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29278",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29278",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29278.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29278.patch"
          },
          "created_at": "2024-01-18T22:23:49Z",
          "updated_at": "2024-03-20T02:20:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T10:23:52Z",
      "updated_at": "2024-03-13T10:23:52Z",
      "source": {
        "issue": {
          "id": 2077041540,
          "node_id": "PR_kwDOABII585j1CBc",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29231",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29231/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29231/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29231/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29231",
          "number": 29231,
          "state": "open",
          "state_reason": null,
          "title": "logging: Update to new logging API",
          "body": "Updates various logging calls to the new API from #28318. All commits are scripted diffs, so should be easy to update if needed, and also easy to reuse the scripts to update other code if needed when rebasing it after this is merged. Changes all uses of `LogPrintLevel()` where the level is hardcoded, and changes all `LogPrintf` and `LogPrint` uses in init.cpp.",
          "user": {
            "login": "ajtowns",
            "id": 127186,
            "node_id": "MDQ6VXNlcjEyNzE4Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ajtowns",
            "html_url": "https://github.com/ajtowns",
            "followers_url": "https://api.github.com/users/ajtowns/followers",
            "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
            "organizations_url": "https://api.github.com/users/ajtowns/orgs",
            "repos_url": "https://api.github.com/users/ajtowns/repos",
            "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ajtowns/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29231",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29231",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29231.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29231.patch"
          },
          "created_at": "2024-01-11T16:01:53Z",
          "updated_at": "2024-03-20T17:13:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T11:15:48Z",
      "updated_at": "2024-03-13T11:15:48Z",
      "source": {
        "issue": {
          "id": 2029493410,
          "node_id": "PR_kwDOABII585hWvMx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29015",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29015/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29015/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29015/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29015",
          "number": 29015,
          "state": "open",
          "state_reason": null,
          "title": "kernel: Streamline util library",
          "body": "Remove `fees.h`, `errors.h`, and `spanparsing.h` from the util library. Specifically:\r\n\r\n- Move `Split` functions from `util/spanparsing.h` to `util/string.h`, using `util` namespace for clarity.\r\n- Move remaining spanparsing functions to `script/parsing.h` since they are used for descriptor and miniscript parsing.\r\n- Combine `util/fees.h` and `util/errors.h` into `common/messages.h` so there is a place for simple functions that generate user messages to live, and these functions are not part of the util library.\r\n\r\nMotivation for this change is that the util library is a dependency of the kernel, and we should remove functionality from util that shouldn't be called by kernel code or kernel applications. These changes should also improve code organization and make functions easier to discover. Some of these same moves are (or were) part of #28690, but did not help with code organization, or made it worse, so it is better to move them and clean them up in the same PR so code only has to change one time.\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29015",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29015",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29015.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29015.patch"
          },
          "created_at": "2023-12-06T22:26:39Z",
          "updated_at": "2024-03-13T11:15:47Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T11:28:19Z",
      "updated_at": "2024-03-13T11:28:19Z",
      "source": {
        "issue": {
          "id": 2012991870,
          "node_id": "PR_kwDOABII585gehvR",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28950",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28950/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28950/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28950/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28950",
          "number": 28950,
          "state": "closed",
          "state_reason": null,
          "title": "RPC: Add maxfeerate and maxburnamount args to submitpackage",
          "body": "Resolves https://github.com/bitcoin/bitcoin/issues/28949\r\n\r\nI couldn't manage to do it very cleanly outside of (sub)package evaluation itself, since it would change the current interface very heavily. Instead I threaded through the max fee argument and used that directly via ATMPArgs. From that perspective, this is somewhat a reversion from https://github.com/bitcoin/bitcoin/pull/19339. In a post-cluster mempool world, these checks could be consolidated to right after the given (ancestor) package is linearized/chunked, by just checking the feerate of the top chunk and rejecting the submission entirely if the top chunk is too high.\r\n\r\nThe implication here is that subpackages can be submitted to the mempool prior to hitting this new fee-based error condition.",
          "user": {
            "login": "instagibbs",
            "id": 5767891,
            "node_id": "MDQ6VXNlcjU3Njc4OTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/instagibbs",
            "html_url": "https://github.com/instagibbs",
            "followers_url": "https://api.github.com/users/instagibbs/followers",
            "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
            "organizations_url": "https://api.github.com/users/instagibbs/orgs",
            "repos_url": "https://api.github.com/users/instagibbs/repos",
            "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/instagibbs/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28950",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28950",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28950.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28950.patch"
          },
          "closed_at": "2024-03-18T18:24:51Z",
          "created_at": "2023-11-27T19:54:21Z",
          "updated_at": "2024-03-18T18:34:19Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T12:07:07Z",
      "updated_at": "2024-03-13T12:07:07Z",
      "source": {
        "issue": {
          "id": 1952153535,
          "node_id": "PR_kwDOABII585dRO93",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28687",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28687/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28687/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28687/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28687",
          "number": 28687,
          "state": "open",
          "state_reason": null,
          "title": "C++20 std::views::reverse",
          "body": "C++20 introduces [`std::ranges::views::reverse`](https://en.cppreference.com/w/cpp/ranges/reverse_view), which allows us to drop our own `reverse_iterator.h` implementation and also makes it easier to chain views (even though I think we currently don't use this).\r\n\r\nIn draft until our minimum dependencies are bumped to pass CI:\r\n- `multiprocess, i686, DEBUG`: requires #29165 to be merged\r\n- `no wallet, libbitcoinkernel`: requires clang-16",
          "user": {
            "login": "stickies-v",
            "id": 69010457,
            "node_id": "MDQ6VXNlcjY5MDEwNDU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stickies-v",
            "html_url": "https://github.com/stickies-v",
            "followers_url": "https://api.github.com/users/stickies-v/followers",
            "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
            "organizations_url": "https://api.github.com/users/stickies-v/orgs",
            "repos_url": "https://api.github.com/users/stickies-v/repos",
            "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stickies-v/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/66",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/66",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/66/labels",
            "id": 10314936,
            "node_id": "MI_kwDOABII584AnWS4",
            "number": 66,
            "state": "open",
            "title": "28.0",
            "creator": {
              "login": "DrahtBot",
              "id": 39886733,
              "node_id": "MDQ6VXNlcjM5ODg2NzMz",
              "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/DrahtBot",
              "html_url": "https://github.com/DrahtBot",
              "followers_url": "https://api.github.com/users/DrahtBot/followers",
              "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
              "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
              "repos_url": "https://api.github.com/users/DrahtBot/repos",
              "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 9,
            "closed_issues": 3,
            "created_at": "2023-12-15T12:08:23Z",
            "updated_at": "2024-03-18T15:01:14Z"
          },
          "locked": false,
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28687",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28687",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28687.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28687.patch"
          },
          "created_at": "2023-10-19T12:37:13Z",
          "updated_at": "2024-03-20T04:01:08Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T12:58:58Z",
      "updated_at": "2024-03-13T12:58:58Z",
      "source": {
        "issue": {
          "id": 1853990384,
          "node_id": "PR_kwDOABII585YGslf",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28280",
          "number": 28280,
          "state": "open",
          "state_reason": null,
          "title": "Don't empty dbcache on prune flushes: >30% faster IBD",
          "body": "Since https://github.com/bitcoin/bitcoin/pull/17487 we no longer need to clear the coins cache when syncing to disk. A warm coins cache significantly speeds up block connection, and only needs to be fully flushed when nearing the `dbcache` limit.\r\n\r\nFor frequent pruning flushes there's no need to empty the cache and kill connect block speed. However, simply using `Sync` in place of `Flush` actually slows down a pruned full IBD with a high `dbcache` value. This is because as the cache grows, sync takes longer since every coin in the cache is scanned to check if it's dirty. For frequent prune flushes and a large cache this constant scanning starts to really slow IBD down, and just emptying the cache on every prune becomes faster.\r\n\r\nTo fix this, we can add two pointers to each cache entry and construct a doubly linked list of dirty entries. We can then only iterate through all dirty entries on each `Sync`, and simply clear the pointers after.\r\n\r\nWith this approach a full IBD with `dbcache=16384` and `prune=550` was 32% faster than master. For default `dbcache=450` speedup was ~9%. All benchmarks were run with `stopatheight=800000`.\r\n\r\n|  | prune | dbcache | time | max RSS | speedup |\r\n|-----------:|----------:|------------:|--------:|-------------:|--------------:|\r\n| master | 550 | 16384 | 8:52:57 | 2,417,464k | - |\r\n| branch | 550 | 16384 | 6:01:00 | 16,216,736k | 32% |\r\n| branch | 550 | 450 | 8:05:08 | 2,818,072k | 8.8% |\r\n| master | 10000 | 5000 | 8:19:59 | 2,962,752k | - |\r\n| branch | 10000 | 5000| 5:56:39 | 6,179,764k | 28.8% |\r\n| master | 0 | 16384 | 4:51:53 | 14,726,408k | - |\r\n| branch | 0 | 16384 | 4:43:11 | 16,526,348k | 2.7% |\r\n| master | 0 | 450 | 7:08:07 | 3,005,892k | - |\r\n| branch | 0 | 450 | 6:57:24 | 3,013,556k |2.6%|\r\n\r\nWhile the 2 pointers add memory to each cache entry, it did not slow down IBD. For non-pruned IBD results were similar for this branch and master. A non-pruned IBD with full `dbcache` to tip ended up using 12% more memory, but it was also 2.7% faster somehow. Likely because the `Flush` iteration for short lived caches is faster because it also only iterates through dirty entries. For smaller `dbcache` values the `dbcache` limit is respected so does not consume more memory, and the potentially more frequent flushes were not significant enough to cause any slowdown.\r\n\r\nInspired by [this comment](https://github.com/bitcoin/bitcoin/pull/15265#issuecomment-457720636).\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/11315.",
          "user": {
            "login": "andrewtoth",
            "id": 237213,
            "node_id": "MDQ6VXNlcjIzNzIxMw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andrewtoth",
            "html_url": "https://github.com/andrewtoth",
            "followers_url": "https://api.github.com/users/andrewtoth/followers",
            "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
            "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
            "repos_url": "https://api.github.com/users/andrewtoth/repos",
            "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28280",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28280.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28280.patch"
          },
          "created_at": "2023-08-16T22:38:19Z",
          "updated_at": "2024-03-20T18:35:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T13:04:31Z",
      "updated_at": "2024-03-13T13:04:31Z",
      "source": {
        "issue": {
          "id": 1839616362,
          "node_id": "PR_kwDOABII585XWA3I",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28233",
          "number": 28233,
          "state": "open",
          "state_reason": null,
          "title": "validation: don't clear cache on periodic flush",
          "body": "Since https://github.com/bitcoin/bitcoin/pull/17487 we no longer need to clear the coins cache when syncing to disk. [A warm coins cache significantly speeds up block connection](https://github.com/bitcoin/bitcoin/pull/18941#issuecomment-633684774), and only needs to be fully flushed when nearing the `dbcache` limit.\r\n\r\nPeriodic flushes occur every 24 hours, which empties the cache and causes block connection to slow down. By keeping the cache through periodic flushes a node can run for several days with an increasingly hotter cache and connect blocks much more quickly.\r\n\r\nAlso note that this still clears the cache for pruning flushes. Having frequent pruning flushes with a large cache that doesn't clear is less performant than the status quo https://github.com/bitcoin/bitcoin/pull/15265#issuecomment-458657451. See https://github.com/bitcoin/bitcoin/pull/28280.",
          "user": {
            "login": "andrewtoth",
            "id": 237213,
            "node_id": "MDQ6VXNlcjIzNzIxMw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andrewtoth",
            "html_url": "https://github.com/andrewtoth",
            "followers_url": "https://api.github.com/users/andrewtoth/followers",
            "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
            "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
            "repos_url": "https://api.github.com/users/andrewtoth/repos",
            "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28233",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28233",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28233.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28233.patch"
          },
          "created_at": "2023-08-07T14:44:40Z",
          "updated_at": "2024-03-20T04:57:14Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:12:12Z",
      "updated_at": "2024-03-13T14:12:12Z",
      "source": {
        "issue": {
          "id": 1570294980,
          "node_id": "PR_kwDOABII585JOgro",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27039",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27039/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27039/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27039/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27039",
          "number": 27039,
          "state": "closed",
          "state_reason": null,
          "title": "blockstorage: do not flush block to disk if it is already there",
          "body": "Closes https://github.com/bitcoin/bitcoin/issues/2039\r\n\r\nWhen reindexing from flat-file block storage there is no need to write anything back to disk, since the block data is already there. This PR skips flushing to disk those blocks that already have a known position in the datastore. Skipping this means that users can write-protect the `blk` files on disk which may be useful for security or even safely sharing that data between multiple bitcoind instances.\r\n\r\n`FindBlockPos()` may also flush the undo data file, but again this is skipped if the corresponding block position is known, like during the initial stage of a reindex when block data is being indexed. Once the block index is complete the validation mechanism will call `ConnectBlock()` which will save undo data at that time.\r\n\r\nThe call stack looks like this:\r\n\r\n```\r\ninit()\r\nThreadImport() <-- process fReindex flag\r\nLoadExternalBlockFile()\r\nAcceptBlock()\r\nSaveBlockToDisk()\r\nFindBlockPos()\r\nFlushBlockFile() <-- unnecessary if block is already on disk\r\n```\r\n\r\nA larger refactor of this part of the code was started by mzumsande here:  https://github.com/mzumsande/bitcoin/tree/202207_refactor_findblockpos including this fix, reviewers can let me know if the changes should be combined.\r\n",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 219890555,
              "node_id": "MDU6TGFiZWwyMTk4OTA1NTU=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Block%20storage",
              "name": "Block storage",
              "color": "000000",
              "default": false
            },
            {
              "id": 1648013533,
              "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
              "name": "Review club",
              "description": "",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignee": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "achow101",
              "id": 3782274,
              "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
              "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/achow101",
              "html_url": "https://github.com/achow101",
              "followers_url": "https://api.github.com/users/achow101/followers",
              "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
              "organizations_url": "https://api.github.com/users/achow101/orgs",
              "repos_url": "https://api.github.com/users/achow101/repos",
              "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/achow101/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 28,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27039",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27039",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27039.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27039.patch"
          },
          "closed_at": "2024-03-20T16:41:45Z",
          "created_at": "2023-02-03T18:50:50Z",
          "updated_at": "2024-03-20T18:13:42Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:15:31Z",
      "updated_at": "2024-03-13T14:15:31Z",
      "source": {
        "issue": {
          "id": 1564608976,
          "node_id": "PR_kwDOABII585I7fhd",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27006",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27006/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27006/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27006/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27006",
          "number": 27006,
          "state": "open",
          "state_reason": null,
          "title": "reduce cs_main scope, guard block index 'nFile' under a local mutex",
          "body": "By not having to lock `cs_main` every time we try to access block\r\nposition on disk, we can avoid slowing down concurrent tasks due\r\nto threads waiting for the global lock to be released.\r\n\r\nAlso, solves a edge case race inside `ReadBlockFromDisk` where\r\nwe obtain the file position locking `cs_main` and then try to access\r\nthe file without it (the file could no longer exist if pruning occurred\r\njust in-between these two actions).\r\n\r\nContext from where this comes from #26966.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27006",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27006",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27006.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27006.patch"
          },
          "created_at": "2023-01-31T16:10:54Z",
          "updated_at": "2024-03-20T17:23:20Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:35:24Z",
      "updated_at": "2024-03-13T14:35:24Z",
      "source": {
        "issue": {
          "id": 1467073842,
          "node_id": "PR_kwDOABII585D1g33",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26593",
          "number": 26593,
          "state": "open",
          "state_reason": null,
          "title": "tracing: Only prepare tracepoint arguments when actually tracing",
          "body": "Currently, if the tracepoints are compiled (e.g. in depends and release builds), we always prepare the tracepoint arguments regardless of the tracepoints being used or not. We made sure that the argument preparation is as cheap as possible, but we can almost completely eliminate any overhead for users not interested in the tracepoints (the vast majority), by gating the tracepoint argument preparation with an `if(something is attached to this tracepoint)`. To achieve this, we use the optional semaphore feature provided by SystemTap.\r\n\r\nThe first commit simplifies and deduplicates our tracepoint macros from 13 TRACEx macros to a single TRACEPOINT macro. This makes them easier to use and also avoids more duplicate macro definitions in the second commit.\r\n\r\nThe Linux tracing tools I'm aware of (bcc, bpftrace, libbpf, and systemtap) all support the semaphore gating feature. Thus, all existing tracepoints and their argument preparation is gated in the second commit. For details, please refer to the commit messages and the updated documentation in `doc/tracing.md`.\r\n\r\nAlso adding unit tests that include all tracepoint macros to make sure there are no compiler problems with them (e.g. some varadiac extension not supported). \r\n\r\nReviewers might want to check:\r\n- Do the tracepoints still work for you? Do the examples in `contrib/tracing/` run on your system (as bpftrace frequently breaks on every new version, please test master too if it should't work for you)? Do the CI interface tests still pass?\r\n- Is the new documentation clear? \r\n- The `TRACEPOINT_SEMAPHORE(event, context)` macros places global variables in our global namespace. Is this something we strictly want to avoid or maybe move to all `TRACEPOINT_SEMAPHORE`s to a separate .cpp file or even namespace? I like having the `TRACEPOINT_SEMAPHORE()` in same file as the `TRACEPOINT()`, but open for suggestion on alternative approaches. \r\n- Are newly added tracepoints in the unit tests visible when using `readelf -n /src/test/test_bitcoin`? You can run the new unit tests with `./src/test/test_bitcoin --run_test=util_trace_tests* --log_level=all`.\r\n<details><summary>Two of the added unit tests demonstrate that we are only processing the tracepoint arguments when attached by having a test-failure condition in the tracepoint argument preparation. The following bpftrace script can be used to demonstrate that the tests do indeed fail when attached to the tracepoints.</summary>\r\n\r\n`fail_tests.bt`:\r\n\r\n```c\r\n#!/usr/bin/env bpftrace\r\n\r\nusdt:./src/test/test_bitcoin:test:check_if_attached {\r\n  printf(\"the 'check_if_attached' test should have failed\\n\");\r\n}\r\n\r\nusdt:./src/test/test_bitcoin:test:expensive_section {\r\n  printf(\"the 'expensive_section' test should have failed\\n\");\r\n}\r\n```\r\n\r\nRun the unit tests with `./src/test/test_bitcoin` and start `bpftrace fail_tests.bt -p $(pidof test_bitcoin)` in a separate terminal. The unit tests should fail with:\r\n\r\n```\r\nRunning 594 test cases...\r\ntest/util_trace_tests.cpp(31): error: in \"util_trace_tests/test_tracepoint_check_if_attached\": check false has failed\r\ntest/util_trace_tests.cpp(51): error: in \"util_trace_tests/test_tracepoint_manual_tracepoint_active_check\": check false has failed\r\n\r\n*** 2 failures are detected in the test module \"Bitcoin Core Test Suite\"\r\n```\r\n\r\n</details>\r\n\r\nThese links might provide more contextual information for reviewers:\r\n- [How SystemTap Userspace Probes Work by eklitzke](https://eklitzke.org/how-sytemtap-userspace-probes-work) (actually an example on Bitcoin Core; mentions that with semaphores \"the overhead for an untraced process is effectively zero.\")\r\n- [libbpf comment on USDT semaphore handling](https://github.com/libbpf/libbpf/blob/1596a09b5de2a50ab8d44218fc29b6d42f886305/src/usdt.c#L83-L92) (can recommend the whole comment for background on how the tracepoints and tracing tools work together)\r\n- https://sourceware.org/systemtap/wiki/UserSpaceProbeImplementation#Semaphore_Handling",
          "user": {
            "login": "0xB10C",
            "id": 19157360,
            "node_id": "MDQ6VXNlcjE5MTU3MzYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/0xB10C",
            "html_url": "https://github.com/0xB10C",
            "followers_url": "https://api.github.com/users/0xB10C/followers",
            "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
            "organizations_url": "https://api.github.com/users/0xB10C/orgs",
            "repos_url": "https://api.github.com/users/0xB10C/repos",
            "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/0xB10C/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 17,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26593",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26593",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26593.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26593.patch"
          },
          "created_at": "2022-11-28T20:50:26Z",
          "updated_at": "2024-03-20T06:27:29Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:43:54Z",
      "updated_at": "2024-03-13T14:43:54Z",
      "source": {
        "issue": {
          "id": 1363503515,
          "node_id": "PR_kwDOABII584-c4WZ",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26022",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26022/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26022/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26022/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26022",
          "number": 26022,
          "state": "open",
          "state_reason": null,
          "title": "Add util::ResultPtr class",
          "body": "**This is based on #25665.** The non-base commits are:\r\n\r\n- [`96809f65d1dd` Add util::ResultPtr class](https://github.com/bitcoin/bitcoin/pull/26022/commits/96809f65d1ddcf0bde953fd69922908ad64f2539)\r\n- [`8ecac0885ef5` Use ResultPtr<unique_ptr> instead of Result<unique_ptr>](https://github.com/bitcoin/bitcoin/pull/26022/commits/8ecac0885ef5b6fc2313cd2f8dfb48c10a05db27)\r\n\r\n---\r\n\r\nThe `util::ResultPtr` class is a wrapper for `util::Result` providing syntax sugar to make it less awkward to use with returned pointers. Instead of needing to be deferenced twice with `**result` or `(*result)->member`, it only needs to be dereferenced once with `*result` or `result->member`. Also when it is used in a boolean context, instead of evaluating to true when there is no error and the pointer is null, it evaluates to false so it is straightforward to determine whether the result points to something.\r\n\r\nThis PR is only partial a solution to #26004 because while it makes it easier to check for null pointer values, it does not make it impossible to return a null pointer value inside a successful result. It would be possible to enforce that successful results always contain non-null pointers by using a `not_null` type (https://github.com/bitcoin/bitcoin/issues/24423) in combination with `ResultPtr`, though.\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26022",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26022",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26022.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26022.patch"
          },
          "created_at": "2022-09-06T15:57:14Z",
          "updated_at": "2024-03-20T06:36:12Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:50:45Z",
      "updated_at": "2024-03-13T14:50:45Z",
      "source": {
        "issue": {
          "id": 1320033494,
          "node_id": "PR_kwDOABII5848NBt5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25722/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25722",
          "number": 25722,
          "state": "open",
          "state_reason": null,
          "title": "refactor: Use util::Result class for wallet loading",
          "body": "**This is based on #25665 + #26022.** The non-base commits are:\r\n\r\n- [`b027d1df5981` refactor: Use util::Result class in wallet/spend](https://github.com/bitcoin/bitcoin/pull/25722/commits/b027d1df598177dec3236f8689b3218f53de3fa9)\r\n- [`5972a3abf26c` Add temporary ResultExtract helper for porting to util::Result](https://github.com/bitcoin/bitcoin/pull/25722/commits/5972a3abf26c25e47db298461c08a4553e4010bb)\r\n- [`1a92d9497bd1` refactor: Use util::Result class in wallet/sqlite](https://github.com/bitcoin/bitcoin/pull/25722/commits/1a92d9497bd158a1d16efd281c68e41fa11e5b0d)\r\n- [`b4fbcf5f2a8f` refactor: Use util::Result class in wallet/bdb](https://github.com/bitcoin/bitcoin/pull/25722/commits/b4fbcf5f2a8f3b390b4041ac98f16161c5181a76)\r\n- [`f56538aa2b92` refactor: Use util::Result class in wallet::MakeDatabase](https://github.com/bitcoin/bitcoin/pull/25722/commits/f56538aa2b924aaeae28f55b41c03eb0145c981d)\r\n- [`e880f6d5e89b` refactor: Use util::Result class in wallet/dump](https://github.com/bitcoin/bitcoin/pull/25722/commits/e880f6d5e89bbdceed2e4d769882f37b3a3c81b2)\r\n- [`4128ab5cdcc6` refactor: Use util::Result class in wallet/salvage](https://github.com/bitcoin/bitcoin/pull/25722/commits/4128ab5cdcc6e2a540e994b615618586e902ccda)\r\n- [`1138e12cfd98` refactor: Use util::Result class in wallet/wallettool](https://github.com/bitcoin/bitcoin/pull/25722/commits/1138e12cfd984fbceaa045348d993b70047d3ab3)\r\n- [`aed183ad112f` refactor: Use util::Result class in wallet/wallet](https://github.com/bitcoin/bitcoin/pull/25722/commits/aed183ad112f00d7ac11435244149e8e936494f9)\r\n- [`032e3e1ebf9b` refactor: Use util::Result class in wallet/load](https://github.com/bitcoin/bitcoin/pull/25722/commits/032e3e1ebf9b1d86596e8393f85461d60074e821)\r\n- [`46ed2908e6f8` refactor: Use util::Result class in wallet/rpc](https://github.com/bitcoin/bitcoin/pull/25722/commits/46ed2908e6f8b6d0f2ebcfc5600a52c61f26109e)\r\n- [`799467626de3` refactor: Use util::Result class in wallet/interfaces](https://github.com/bitcoin/bitcoin/pull/25722/commits/799467626de3c40249be6f0be4ecef5aa5757ed9)\r\n- [`5c7e1caff7db` refactor: Use util::Result class in wallet/test](https://github.com/bitcoin/bitcoin/pull/25722/commits/5c7e1caff7db1f9a61e94e40c22f056f9bef9715)\r\n- [`965c31baa9a3` Drop temporary ResultExtract helper for porting to util::Result](https://github.com/bitcoin/bitcoin/pull/25722/commits/965c31baa9a357e5a92bf4da94e84c37df7e0a9f)\r\n- [`2385cb37dbbe` scripted-diff: replace wallet DatabaseStatus with DatabaseError](https://github.com/bitcoin/bitcoin/pull/25722/commits/2385cb37dbbe00004f8bffe1d1d784778d89a21e)\r\n\r\n---\r\n\r\nWallet loading functions up and down the stack have lots of error and warning parameters, and return error information in different ways. This PR makes them uniformly return `util::Result`, without changing behavior.",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25722",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25722",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25722.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25722.patch"
          },
          "created_at": "2022-07-27T19:26:58Z",
          "updated_at": "2024-03-20T06:43:08Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T14:52:28Z",
      "updated_at": "2024-03-13T14:52:28Z",
      "source": {
        "issue": {
          "id": 1313204802,
          "node_id": "PR_kwDOABII58472hm-",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25665/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25665",
          "number": 25665,
          "state": "open",
          "state_reason": null,
          "title": "refactor: Add util::Result failure values, multiple error and warning messages",
          "body": "Add `util::Result` support for returning more error information and make use of it in [LoadChainstate method](https://github.com/bitcoin/bitcoin/pull/25665/commits/cd9bba4166b9fdadc063a5153452fc1c9179b88d) as an initial application. Followup PR [#25722](https://github.com/bitcoin/bitcoin/pull/25722) uses it more broadly to return errors and warnings from wallet loading functions as well.\r\n\r\nThis change adds two major features to the result class:\r\n\r\n- For better error handling, adds the ability to return a value on failure, not just a value on success. This is a key missing feature that makes the result class not useful for functions like `LoadChainstate()` which produce different errors that need to be handled differently [^1].\r\n\r\n[^1]: Ability to return error values was actually present in the original implementation of [#25218](https://github.com/bitcoin/bitcoin/pull/25218), but unfortunately removed in later iterations.\r\n\r\n- For better error reporting, adds the ability to return warning messages and multiple errors, not just a single error string. This provides a way for functions to report errors and warnings in a standard way, and simplifies interfaces:\r\n\r\n    ```diff\r\n    -virtual std::unique_ptr<Wallet> loadWallet(const std::string& name, bilingual_str& error, std::vector<bilingual_str>& warnings) = 0;\r\n    +virtual util::Result<std::unique_ptr<Wallet>> loadWallet(const std::string& name) = 0;\r\n    ```\r\n\r\n    ```diff\r\n    -std::unique_ptr<WalletDatabase> MakeDatabase(const fs::path& path, const DatabaseOptions& options, DatabaseStatus& status, bilingual_str& error);\r\n    +util::Result<std::unique_ptr<WalletDatabase>, DatabaseError> MakeDatabase(const fs::path& path, const DatabaseOptions& options);\r\n   ```\r\n\r\nThis change also makes some more minor improvements:\r\n\r\n- Smaller type size. `util::Result<int>` is 16 bytes, and `util::Result<void>` is 8 bytes. Previously both were 72 bytes.\r\n\r\n- Broader type compatibility. Supports noncopyable and nonmovable success and error types.\r\n\r\n### Alternatives & design notes\r\n\r\nThe main goal for the `util::Result` class is to provide a standard way for functions to report error and warnings strings. The interface tries to make it easy to provide detailed error feedback to end users, without cluttering code or making it harder to return other result information. There have been multiple iterations of the design using different internal representations and providing different capabilities:\r\n\r\n|   | Representation (approximate)                   | Notes |\r\n|---|------------------------------------------------|-------|\r\n| _1_ | `tuple<T,optional<bilingual_str>>`        | Original #25218 implementation in da98fd2efc1a6b9c6e876cf3e227a8c2e9a10827. Good capabilities, but larger type size. Supports error standardized error reporting and customized error handling with failure values. |\r\n| _2_ | `variant<T,bilingual_str>`                | Final #25218 implementation in 7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d. No support for returning failure values so not useful in many cases.\r\n| _3_ | `variant<monostate,T,F>`                 | Pending #25601 implementation that allows choosing whether to use standardized error reporting or return custom failure values, but doesn't support having both at the same time, like approaches _(1)_, _(4)_, _(5)_, _(6)_ do. |\r\n | _4_ | `tuple<variant<T,F>,bilingual_str>`      | Original #25608 implementation in c29d3008de9314dd463ed08e8bff39fe55324498. Basically the same as _(1)_ except it uses separate success and failure types instead of the same type. Using separate success and failure types makes the result class a little less flexible but can help avoid some ambiguity and inconsistent result states. |\r\n| _5_ | `tuple<T,optional<bilingual_str>>`        | Final #25608 implementation in dd91f294206ac87b213d23bb76656a0a5f0f4781. Essentially the same as original implementation _(1)_ except has some usability improvements. |\r\n| _6_ | `tuple<T,unique_ptr<tuple<F,bilingual_str>>` | Pending #25665 implementation (this PR). Supports returning failure values, uses separate success and failure types to avoid ambiguity, uses `unique_ptr` to reduce result type size, and avoids heap allocation in the happy path. |\r\n\r\n### Prior discussions & history\r\n\r\n- _furszy_ introduced a `BResult` class providing a standard error reporting mechanism in [#25218](https://github.com/bitcoin/bitcoin/pull/25218). It was renamed to `util::Result` in [#25721](https://github.com/bitcoin/bitcoin/pull/25721) but kept the same representation and capabilities.\r\n\r\n- _MarcoFalke_ suggested using `BResult` for the `LoadChainstate` function in [#25308 (comment)](https://github.com/bitcoin/bitcoin/pull/25308#issuecomment-1181674645). Inability to use `BResult` there due to lack of support for failure values led to initial work on [#25608](https://github.com/bitcoin/bitcoin/pull/25608).\r\n\r\n- _w0xlt_ wrote a `StructuredResult` class in [#25308](https://github.com/bitcoin/bitcoin/pull/25601) adding the ability to return failure values but sacrificing standard error reporting, which led to more work on [#25608](https://github.com/bitcoin/bitcoin/pull/25608).\r\n\r\n- _martinus_ suggested a space optimization in [#25608 (comment)](https://github.com/bitcoin/bitcoin/pull/25608#discussion_r921049409) that also made it easier to support distinct failure & success types, leading to [#25665](https://github.com/bitcoin/bitcoin/pull/25665) as a replacement for [#25608](https://github.com/bitcoin/bitcoin/pull/25608).",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 34,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25665",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25665",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25665.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25665.patch"
          },
          "created_at": "2022-07-21T12:46:09Z",
          "updated_at": "2024-03-20T06:44:50Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T21:23:18Z",
      "updated_at": "2024-03-13T21:23:18Z",
      "source": {
        "issue": {
          "id": 1120958552,
          "node_id": "PR_kwDOABII584x6sdb",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24230",
          "number": 24230,
          "state": "open",
          "state_reason": null,
          "title": "indexes: Stop using node internal types and locking cs_main, improve sync logic",
          "body": "This PR lets indexing code mostly run outside of the node process. It also improves indexing sync logic, which is moved out of indexing code to a new [`node::SyncChain()`](https://github.com/ryanofsky/bitcoin/blob/8d8cdcb37005030f646ba3c45f7f54f556efb8bf/src/node/chain.h#L24-L39) function.\r\n\r\nAlmost all the commits in this PR are small refactoring changes that move code from `src/index/` to `src/node/`, or replace references to node types like `CBlockIndex`, `CChain`, `CChainState` in index code. There are only two commits affecting indexing sync logic which make complicated or substantive changes:\r\n\r\n- [`8746b35301c5` indexes: Rewrite chain sync logic, remove racy init](https://github.com/bitcoin/bitcoin/pull/24230/commits/8746b35301c5f65ff3200555fb2b82417fd2c758)\r\n- [`ad88f50ddd12` indexes: Initialize indexes without holding cs_main](https://github.com/bitcoin/bitcoin/pull/24230/commits/ad88f50ddd129dddd974bbf9fd7d86ec86b65508)\r\n\r\n\r\nThe commit messages have more details about these and other changes. Followups to this PR will reuse indexing sync code for wallets (#15719, #11756) and let indexes run in separate processes (#10102)",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 97470796,
              "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
              "name": "UTXO Db and Indexes",
              "color": "fbca04",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 44,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24230",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24230",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24230.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24230.patch"
          },
          "created_at": "2022-02-01T16:56:28Z",
          "updated_at": "2024-03-20T17:25:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T21:57:52Z",
      "updated_at": "2024-03-13T21:57:52Z",
      "source": {
        "issue": {
          "id": 1987412902,
          "node_id": "PR_kwDOABII585fITQi",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28843",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28843/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28843/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28843/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28843",
          "number": 28843,
          "state": "open",
          "state_reason": null,
          "title": "[refactor] Remove BlockAssembler m_mempool member",
          "body": "Instead, pass the mempool pointer as an argument to CreateNewBlock and pass that on to addPackageTxs. Before, addPackageTxs had access to both the m_mempool member and the passed in mempool, which could be confusing. This was noticed in this PR review: https://github.com/bitcoin/bitcoin/pull/25223#discussion_r898164322.\r\n\r\n",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28843",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28843",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28843.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28843.patch"
          },
          "created_at": "2023-11-10T11:06:22Z",
          "updated_at": "2024-03-20T03:43:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1999854726,
      "node_id": "IC_kwDOABII5853M1yG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1999854726",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-15T15:01:51Z",
      "updated_at": "2024-03-15T15:01:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, nice one. Will first re-review #25665",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-1999854726",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12136835658,
      "node_id": "HRFPE_lADOABII586CGcByzwAAAALTaWpK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12136835658",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-15T21:18:27Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T12:14:59Z",
      "updated_at": "2024-03-18T12:14:59Z",
      "source": {
        "issue": {
          "id": 2191591435,
          "node_id": "PR_kwDOABII585p6J7l",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29672",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29672/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29672/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29672/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29672",
          "number": 29672,
          "state": "open",
          "state_reason": null,
          "title": "validation: Make translations of fatal errors consistent",
          "body": "The extra `bilingual_str` argument of the fatal error notifications and `node::AbortNode()` is often unused and when used usually contains the same string as the message argument. It also seems to be confusing, since it is not consistently used for errors requiring user action. For example some assumeutxo fatal errors require the user to do something, but are not translated.\r\n\r\nSo simplify the fatal error and abort node interfaces by only passing a translated string. This slightly changes the fatal errors displayed to the user.",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29672",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29672",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29672.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29672.patch"
          },
          "created_at": "2024-03-18T08:59:08Z",
          "updated_at": "2024-03-20T20:28:49Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 12157263081,
      "node_id": "LE_lADOABII586CGcByzwAAAALUoRzp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12157263081",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T18:30:45Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJlZmFiMTBhYTUyOTZlYTljNThmYTFhN2Q0ZTRjZDRhNmRjZWFjOGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/befab10aa5296ea9c58fa1a7d4e4cd4a6dceac8b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/befab10aa5296ea9c58fa1a7d4e4cd4a6dceac8b",
      "tree": {
        "sha": "5a09c81dd5474786b726d620e798c6f0fdb2a5cc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5a09c81dd5474786b726d620e798c6f0fdb2a5cc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5a09c81dd5474786b726d620e798c6f0fdb2a5cc\nparent 8e95a9cd7ad6c448ed91f1c30e582c31e96c9df3\nauthor Ryan Ofsky <ryan@ofsky.org> 1663254906 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865230 +0100\n\nrefactor: Drop util::Result operator=\n\nIn cases where different error conditions need to be handled differently, it is\nuseful for `util::`Result` objects to be able to hold failure values and error\nmessages simultaneously. Also it is useful for `util::Result` objects to be\nable to hold multiple error message strings and warnings, instead of just\nsingle error strings.\n\nIn both of these cases, which are supported in upcoming commits, having an\n`operator=` method is potentially dangerous if it clears existing error and\nwarnings strings while setting result values, or confusing if it doesn't clear\nthem, so the safest thing is to disable `operator=` and provide an explicit\n`Set()` method so callers have a way of setting result values without having to\nclear message strings.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u04ACgkQm3m0VpHb\nQXNgEQ//VOyukOyh2IN5dBzOBF/xGfP2gEFsBtvXesK+QCpkHQPJZ92/SMHAJ9EH\ntzx1/ZLHl8UqbQ5+Z4DmNkzvqEu8EP2VNa1P/FlLI85pq59W+iufeE+4rfsdeVBe\nrwM8oSv2+5F5Kq3DwkyXcKKue9AoHXwVnjE04SsZqIZDyRwnaQgk5vy/d8hA12yW\nZvRpASRlywnI/W1nznGDmcPBaaxFROdiZGoME9hviVEBHp/belYP0Iy0VVnj1kV7\n06nzGRpRQq2pJo5NgQ3/F1ftpUDFoq/0lvDjyz/K+fumLQ9YkgQ2C2HdcSTaz5uu\nM1RXTfhEH9mHDVviqwchmZlI+VcJ+1UGabOVFDJ8nqQ5Z7RvVN+jm2fzFIQO2+0+\n9xRlT9XyeQAh2UiVOh2ph+snMPjgCCEEP/iIpeOsqRleyke5T+tlJy41bJYEugVG\nRuKA/9oLmD/OJnYDyImf9NuzSCai0LzxZ56xs/IFEnuE0bjYGVoTbZayByWS4lMw\n5QN7c4V60p+QxE7ehsKOr3RvqBMWQrjMMKOe/cWvlEEu+HLrhPeSRLhWuybF8hBy\n8x9U0h0MHF7+C44WbuKHWnCly0clWtuwhIc3G5lH1g6BpD5iSC9ixoOYHGvEguu5\nxfYk+T4zDQVLRqbkO/K3u2a5lWneBJRa+T3TxoAnLo1eS/lNT2k=\n=oZ1i\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8e95a9cd7ad6c448ed91f1c30e582c31e96c9df3",
          "sha": "8e95a9cd7ad6c448ed91f1c30e582c31e96c9df3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8e95a9cd7ad6c448ed91f1c30e582c31e96c9df3"
        }
      ],
      "message": "refactor: Drop util::Result operator=\n\nIn cases where different error conditions need to be handled differently, it is\nuseful for `util::`Result` objects to be able to hold failure values and error\nmessages simultaneously. Also it is useful for `util::Result` objects to be\nable to hold multiple error message strings and warnings, instead of just\nsingle error strings.\n\nIn both of these cases, which are supported in upcoming commits, having an\n`operator=` method is potentially dangerous if it clears existing error and\nwarnings strings while setting result values, or confusing if it doesn't clear\nthem, so the safest thing is to disable `operator=` and provide an explicit\n`Set()` method so callers have a way of setting result values without having to\nclear message strings.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:30Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-09-15T15:15:06Z"
      },
      "sha": "befab10aa5296ea9c58fa1a7d4e4cd4a6dceac8b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUzNGQzOTc4OGY0NjYwOGM0NGVkNTlkNDdlM2Q1OTgwZmVhMWIwN2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/534d39788f46608c44ed59d47e3d5980fea1b07d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/534d39788f46608c44ed59d47e3d5980fea1b07d",
      "tree": {
        "sha": "e749d10bf1ce2089bab373e4bb3066a5dd2ea4dd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e749d10bf1ce2089bab373e4bb3066a5dd2ea4dd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e749d10bf1ce2089bab373e4bb3066a5dd2ea4dd\nparent befab10aa5296ea9c58fa1a7d4e4cd4a6dceac8b\nauthor Ryan Ofsky <ryan@ofsky.org> 1694018019 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865232 +0100\n\nrefactor: Avoid copying util::Result values\n\nCopying util::Result values is less efficient than moving them because they\nallocate memory and contain strings. Also this is needed to avoid compile\nerrors in the next commit which adds a std::unique_ptr member to util::Result\nwhich implicity disables copying.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u1AACgkQm3m0VpHb\nQXMpdg/+NZHfX43sHuarEvs0i8ucGAboSWX4K+GRUWoP0hpzcMCGA2Ekvy4cqnfv\nxU2H2iS2PHUEzj1lXpBqcOAgIY9RvJetvpda9iTkZXO2IqrM2u5z7oQG64KS8Hw6\nBaJhkm0IHl4lSqQNxInUWEs2hwQOEek8txuUEHFTgbZx6E+//RZvs4Pgu/gLtxxn\nUY+O+2onqxq/T13i2GcVUJRmZbnn5RVSZrJhacdyCdMpFhdL2sPYaXHckHJ8P2+X\nRDw4z5429/cdUNNN8SJdvRkrw6VNuzTTLQkK6dzkc1J1pkwXgvF9HBh2Qw1EStx8\n7gS+1et+dRIOTBd1lESZcIlQ3Zv4dPtbnY2KikYG11cislWOFNZC7GozyxNyVslE\nuDyZH/jUy5jMx2hWUAM9ezga2AMDkXniS6evzVVB0gOIKDFIPJ2Vs/yNwZ2RRgPH\nrRW+TNwv1nooR36btCFHO5vSqVfoYrUqZ9wd3K+fKdFzN2pmsWfj8fmAlWXevFbr\nZYH0wjJTWzJYAW94/7cmefYccxQJNo2z9EG/2IlMvh2QUPEE/q+d0wk531bSEU8l\nWkWidIYrkiLqHrPy7Hn6qOLbmdU0lA1sdqhFbhS6qqIyO9dYTZDcEEsGJ2NuJ8dS\nkD3L+Gd0+FMDNsW+q631UNDlv9FK/uFQS5nZJ6ugm+Pqk8IRs6E=\n=xqSO\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/befab10aa5296ea9c58fa1a7d4e4cd4a6dceac8b",
          "sha": "befab10aa5296ea9c58fa1a7d4e4cd4a6dceac8b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/befab10aa5296ea9c58fa1a7d4e4cd4a6dceac8b"
        }
      ],
      "message": "refactor: Avoid copying util::Result values\n\nCopying util::Result values is less efficient than moving them because they\nallocate memory and contain strings. Also this is needed to avoid compile\nerrors in the next commit which adds a std::unique_ptr member to util::Result\nwhich implicity disables copying.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:32Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2023-09-06T16:33:39Z"
      },
      "sha": "534d39788f46608c44ed59d47e3d5980fea1b07d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg3ODRiNmFmZGM0MjM0NzkzMTRmNjYzYzU3OTZjMjBlYTUzODIzNWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8784b6afdc423479314f663c5796c20ea538235a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8784b6afdc423479314f663c5796c20ea538235a",
      "tree": {
        "sha": "7b89cb481dbdf394a9ce418167b138fb2c178db5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7b89cb481dbdf394a9ce418167b138fb2c178db5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7b89cb481dbdf394a9ce418167b138fb2c178db5\nparent 534d39788f46608c44ed59d47e3d5980fea1b07d\nauthor Ryan Ofsky <ryan@ofsky.org> 1658173684 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865234 +0100\n\nrefactor: Add util::Result failure values\n\nAdd util::Result support for returning more error information. For better error\nhandling, adds the ability to return a value on failure, not just a value on\nsuccess. This is a key missing feature that made the result class not useful\nfor functions like LoadChainstate() which produce different errors that need to\nbe handled differently.\n\nThis change also makes some more minor improvements:\n\n- Smaller type size. util::Result<int> is 16 bytes, and util::Result<void> is 8\n  bytes. Previously util::Result<int> and util::Result<void> were 72 bytes.\n\n- More documentation and tests.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u1IACgkQm3m0VpHb\nQXP1vg/8Cvj7B8vGbsjfHtPovC3g6A03E7VEKe7Wcl+N/bUWXiLj95HsPpWNx16P\n/zNjQZ8OqJegykfBTnsvKZJigWX6+t1mybcB5FcdcUXQjNMWA8UvJnHbw0QjuTdQ\nlVUPqOU7Li1Vr+Vflbuq7muZDK9blRFx6lxUevpytCG/M8Sdk/bKtxj7jK4qYKSm\nNN030mykugb6IvXgyE7/6BdFZdIBgCAp0YyZWLIleEoaUKR1MCr6Yb7X7VLB08Jd\nQd4+BxIWIfRpQ7XtGNUbVOYbDrMICqnFqJQEG5o+p0SO1i3bTlKNz9ppfdQV+4iv\nFEubr6HgrkSyUIxxYzlL/XBOjDZdbA1Rc9jhCgr9hXvlvblhWZcOaANqk0V3Jr2u\nXAYcoBRJceUBaJ9a6vgWbNHgGZ8L/NMMCUSc0YgGxvL6ApjVc5622aDJEs93J1Fr\nRIW55mwSF/cma9Ce1q8PPC/6hyu87o1G0vv135rzm42qtj7Y9AR+Vip0ixsXfdgw\n8Qnd0+e4VxDS/cPsLqzKkWEZl4MG9G1n7kQbZp+sFHZglXy7Xj330qkWsZm9XPwR\nrZvkOwwCzCy9j6bqf4SAnYKrrvJy2CaEQbmQRxjXqRItp72FpNqMkWzLH8BJRkv+\nuM0g30imql7dbNRh76qbVhMRFp3o38JGSuK19+o3Yna50ufpZak=\n=VI/r\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/534d39788f46608c44ed59d47e3d5980fea1b07d",
          "sha": "534d39788f46608c44ed59d47e3d5980fea1b07d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/534d39788f46608c44ed59d47e3d5980fea1b07d"
        }
      ],
      "message": "refactor: Add util::Result failure values\n\nAdd util::Result support for returning more error information. For better error\nhandling, adds the ability to return a value on failure, not just a value on\nsuccess. This is a key missing feature that made the result class not useful\nfor functions like LoadChainstate() which produce different errors that need to\nbe handled differently.\n\nThis change also makes some more minor improvements:\n\n- Smaller type size. util::Result<int> is 16 bytes, and util::Result<void> is 8\n  bytes. Previously util::Result<int> and util::Result<void> were 72 bytes.\n\n- More documentation and tests.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:34Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-07-18T19:48:04Z"
      },
      "sha": "8784b6afdc423479314f663c5796c20ea538235a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBhY2Y1Y2Y5Y2Q0ZjI2ZWQxZmQ0YTE4NmM0YjBlN2YzMjQ2MjYzOGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0acf5cf9cd4f26ed1fd4a186c4b0e7f32462638a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0acf5cf9cd4f26ed1fd4a186c4b0e7f32462638a",
      "tree": {
        "sha": "a105be05f05219f1f7159d40f62a673aac2b8835",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a105be05f05219f1f7159d40f62a673aac2b8835"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a105be05f05219f1f7159d40f62a673aac2b8835\nparent 8784b6afdc423479314f663c5796c20ea538235a\nauthor Ryan Ofsky <ryan@ofsky.org> 1658378780 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865235 +0100\n\nrefactor: Use util::Result class in LoadChainstate and VerifyLoadedChainstate\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u1MACgkQm3m0VpHb\nQXMwuw//YT9c/wLKMhnZ+5QogUJN73x7WxM/X2buegM2Y7ysoHp/iApJowrnBT9Y\nkABS2DixJkkSYF0pgl39Z/oK7VjEgkcujmGKaEOP5S+fVqkhM9VDidJFje2am6g7\nhmvizcVyvct0GomfAinm6CJYkhEzNjWp38qbKQ2L/iedJNOE4YTWTkZwJ7Kouovc\nVFGfp7g4jGxFJbnZ7//E7c9y6nx2laicUErhtd93h6xC6pmzlWIHcUOC7KOM2nMS\n8adnU1u8lHECKMjxgaEVbGcC3A8j0ZQZsoMFP2o5LPm9PXcjfpCIQKD+a7Kijsxc\n/p+tbh3H7FQEdHniu8LHGhq1xZ4ZTfH0cGNrBeldV3YfWdrwNep1ofU/dj4/4fzY\nLoHn3GmYpLhUnXn+0IUM8tcQI1cl4L/yiNBaZrGZcQnKVabbx6RvnXdeta9s6mgs\nmsAVpq7ze7uzKoBvzHm6WSv6i01Dzr6V/tGTa6iqFePJyI27EoEWg4JPoLVCdi+0\nATlyBqwPkaromr3A0H9bRHCZSTpJZtm5fBGy9icScRGWFj0yRbF7c9q0TUekOY8a\ny1cIxfS5dFSTdH9jDhItBznt5jHhT1QnxbirgdFpSsEdpFCXYiukxqT4535BHlcM\nRJnXrOqbIK0b2Amgy90MRY66KWYZdTIjfQbUkmyUhjGfjjBkFy4=\n=r2tC\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8784b6afdc423479314f663c5796c20ea538235a",
          "sha": "8784b6afdc423479314f663c5796c20ea538235a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8784b6afdc423479314f663c5796c20ea538235a"
        }
      ],
      "message": "refactor: Use util::Result class in LoadChainstate and VerifyLoadedChainstate",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:35Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-07-21T04:46:20Z"
      },
      "sha": "0acf5cf9cd4f26ed1fd4a186c4b0e7f32462638a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY2MTE4YjcyNGM1ZDkwNzZjZWY1YTA3MDliMmQ0YTQxNzMxODk5ODU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f6118b724c5d9076cef5a0709b2d4a4173189985",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f6118b724c5d9076cef5a0709b2d4a4173189985",
      "tree": {
        "sha": "69dfec08b2e214d55db1f9314450f3acd00ff051",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/69dfec08b2e214d55db1f9314450f3acd00ff051"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 69dfec08b2e214d55db1f9314450f3acd00ff051\nparent 0acf5cf9cd4f26ed1fd4a186c4b0e7f32462638a\nauthor Ryan Ofsky <ryan@ofsky.org> 1658173684 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865236 +0100\n\nrefactor: Add util::Result multiple error and warning messages\n\nAdd util::Result support for returning warning messages and multiple errors,\nnot just a single error string. This provides a way for functions to report\nerrors and warnings in a standard way, and simplifies interfaces.\n\nThe functionality is unit tested here, and put to use in followup PR\nhttps://github.com/bitcoin/bitcoin/pull/25722\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u1QACgkQm3m0VpHb\nQXPW/xAAv+rAe9z88vsx73ObkbFHESG0zEGK3wYnEoAwp7CfPhkYodM7rPu/W7HY\n9Flq1GLuCHkLC6SIyayfNVYx30Hoby8Xf+BXcL4DlpQG02M/g+JUpqyRVN38XtJ3\n9yj/E9e15NXdtTKnCVjcWPAuylgtVfwaeDbrupmXF9mPHK1283pxLyLQEHsOvyuD\nWTBAHZz1WuvaM+NbuXCsGUdlV5vtOS0nvl6u4eYX3L3uvnsGCmu0KczGlDxKCRnT\nQ7j6JWdiG4/NGWqqx3dq488WOduhK7R+6EFVrs/g/urAOOiAXMXpokzsFXbf5ipC\nlSIWSeFtx9jYWeot1UfWOtbFVX5vkyDWpjdrSDg0r3cQeuo+iPkaWXG9T1CGRHV7\nLiGnrH1p1vDktM28TMkGOmweGOyi/kBe6Teyv3FEBCCCyFipIi2WRkQiyRt6P1m/\nv0cXSjgTwv4JKDjJuxKew3adohLJIRyHp+ht5q0vD84J7XFZXAUBss+Gc4+r842M\nmWy9rL+PNXPjX91yedvDFQsJ9Is8ZPZn4PMxwGyz+AeqRnEePhxMic3LA7mXeBK/\nAjXEWOEFj6J2xWELtPUMm0azhm2o6QlJV2cLzpZpY4YNOuRqi8DHXug89BuvD5Kq\nJQoL4yLYH+MixOBaJd8h1soJFj626xJxyo9nQ03TVaz2o7PPzWI=\n=edBF\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0acf5cf9cd4f26ed1fd4a186c4b0e7f32462638a",
          "sha": "0acf5cf9cd4f26ed1fd4a186c4b0e7f32462638a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0acf5cf9cd4f26ed1fd4a186c4b0e7f32462638a"
        }
      ],
      "message": "refactor: Add util::Result multiple error and warning messages\n\nAdd util::Result support for returning warning messages and multiple errors,\nnot just a single error string. This provides a way for functions to report\nerrors and warnings in a standard way, and simplifies interfaces.\n\nThe functionality is unit tested here, and put to use in followup PR\nhttps://github.com/bitcoin/bitcoin/pull/25722",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:36Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-07-18T19:48:04Z"
      },
      "sha": "f6118b724c5d9076cef5a0709b2d4a4173189985"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVlODBmODhiY2I3ODE1YjJlMDllZDZjYjZhMjI4YjQyNjZhMjBhMTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ee80f88bcb7815b2e09ed6cb6a228b4266a20a10",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ee80f88bcb7815b2e09ed6cb6a228b4266a20a10",
      "tree": {
        "sha": "8ff13ef9c108c1ead9c08913706d5b426549d146",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8ff13ef9c108c1ead9c08913706d5b426549d146"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8ff13ef9c108c1ead9c08913706d5b426549d146\nparent f6118b724c5d9076cef5a0709b2d4a4173189985\nauthor Ryan Ofsky <ryan@ofsky.org> 1689875560 -0400\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865238 +0100\n\ntest: add static test for util::Result memory usage\n\nSuggested by Martin Leitner-Ankerl <martin.ankerl@gmail.com>\nhttps://github.com/bitcoin/bitcoin/pull/25722#discussion_r1174298529\n\nCo-authored-by: Martin Leitner-Ankerl <martin.ankerl@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u1YACgkQm3m0VpHb\nQXMp2BAAzlBPHkHkBQnhrVSdmeMoU/kkHlNfkjCWq9ylrvnKrGplp2kDlsocPzy3\nCw9YV/4+KKXW0LZrdp5uUyHmNS6qFIKCXPKIq+mYVgEVmtm9dQk8bHyg8FVIdQPM\nfKzxq1JgNlCyCsePAFkCRPNf9Pz3cWr5aTuR1aM+ELodn5u27D6ZSVsN8UvSpWm4\n8ExuN4uQpVQwlJz9frDpZt8N24Cd+l5Y04MDk+SmnhNbwz74oDABFRJva6C2Bb/i\nEw8VU+aSMq63f4bJnR1TMjBv6CDz55RK29yol/CY4Wm2TiV5M5NuxpHArbqfCRG5\nfKdP4fRb8Yl1PQtz0c0mdt5BgnqJ9PQuIt67O/EJ5lyMzywS1eqvqAha1aEIFYh1\n/1tev7g9pzEMhZxyb26MYvYFxgHSaXJ6dw7bEiaL8IvCSat1OFPYEimTbVg222n5\nveZxA9DlnEvpj/SEB9dwC/tDUIa3Qd2qvGl3K2Wy3eQAURwsP12EJHyf/HwMG8ZT\nLW1qKokE9YhVYpz4EJ/Bvt7lYqR1xym1o1la3Yj4mOc/4uOB9cI2F6Jriyq8AXAt\n9GWyKwz3prZdSkwCYZ0CXqg4S31oGJE8rW/CqQSyd7s6WWJaquszFWiwyuEB1xuM\nmhM349WTddkWHlp5SicyxZCI1cNFhk7/2B5A267TUaOMmLMFxCA=\n=vRa7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f6118b724c5d9076cef5a0709b2d4a4173189985",
          "sha": "f6118b724c5d9076cef5a0709b2d4a4173189985",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f6118b724c5d9076cef5a0709b2d4a4173189985"
        }
      ],
      "message": "test: add static test for util::Result memory usage\n\nSuggested by Martin Leitner-Ankerl <martin.ankerl@gmail.com>\nhttps://github.com/bitcoin/bitcoin/pull/25722#discussion_r1174298529\n\nCo-authored-by: Martin Leitner-Ankerl <martin.ankerl@gmail.com>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:38Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2023-07-20T17:52:40Z"
      },
      "sha": "ee80f88bcb7815b2e09ed6cb6a228b4266a20a10"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE0ZTI4M2E5NTBmNDQzNGRlYWM1MTFjYTgwZjFiMDVjMGU1ZmM5ODI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/14e283a950f4434deac511ca80f1b05c0e5fc982",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/14e283a950f4434deac511ca80f1b05c0e5fc982",
      "tree": {
        "sha": "79975929c1eea0a1e8367fa3749c914277c0c414",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/79975929c1eea0a1e8367fa3749c914277c0c414"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 79975929c1eea0a1e8367fa3749c914277c0c414\nparent ee80f88bcb7815b2e09ed6cb6a228b4266a20a10\nauthor TheCharlatan <seb.kung@gmail.com> 1709191563 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865240 +0100\n\nAdd bitcoin-fatal-error clang-tidy check\n\nThe check warns about incorrect usage of util::Result<T, FatalError>.\nThe check enforces the following rules:\n\n1. If a function calls another function with a util::Result<T,\nFatalCondition> return type, its return type has to be util::Result<T,\nFatalCondition> too, or it has to handle the value returned by the\nfunction with one of \"CheckFatal\", \"HandleFatalError\",\n\"UnwrapFatalError\", \"CheckFatalFailure\".\n\n2. In functions returning a util::Result<T, FatalCondition> a call to a\nfunction returning a util::Result<T, FatalCondition> needs to propagate\nthe value by either:\n a) Returning it immediately\n b) Assigning it immediately to an existing result with .MoveMessages()\n    or .Set()\n c) Eventually passing it as an arugment to a .MoveMessages() call\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u1gACgkQm3m0VpHb\nQXPJqw/9G3+h+/XgqHFXQHXKwj3vGEWL5oQm2xoYl7gMZUO7jutBmhqbC1zowy/F\nRnadoomHqywt8KxM8FJtl9nEnsGTMBUJeUDzHDtRA6ThxbTw/0U61c6T7F/hTagw\nNiDk50P8Ab0JtaV8dHuxAyaoZmai2WEHQIEBxg/DVeRGrutdRhan0BVs/51RFIxH\nVXm7dulzIcOvjbOeF0PClloHK461pAyeE3WVTDUZFwBc81T47UAye23iqxJ4qjMV\negqUZ/TyDmcs4fkVOn7dyNitXyCJA+p7YJimvfc//s3EQj8YZTp6zfe83wi7eDrQ\ngynVmdiHBJiN/vTCnL/s/yDmovzq5mARpTCG28EAKIw8H2+IaD+ba3XL0jztQ7/M\nAPGhW5zsReCiNr0mxrIhoxIs3fHbhsPOSKsgZ+VcDGbUZBKlofLmKp6WJq/ZXXp8\n7KB80XUYA6M+RIdS3PffqF/gIPJ4Hg5MJDdXRIbyxdiG6YV91gvgEhVFm9H1iTHQ\n7KZE0WUxL6FsOwQqOygpCVIP/ojE5ZDL32iGrc7WcsFnCioCexymNud9qNVWGaMK\nEWPvkRaagkaZR/PCSbXxS/jzvB9JMtUoYhT/JayG8fLJSyhVdWk2JfP5N9m6X53h\nmePvYb0DlLaZsiB+tnokzuoySHLhMqAogqKUsCuLPrw32qhzROg=\n=Maob\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ee80f88bcb7815b2e09ed6cb6a228b4266a20a10",
          "sha": "ee80f88bcb7815b2e09ed6cb6a228b4266a20a10",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ee80f88bcb7815b2e09ed6cb6a228b4266a20a10"
        }
      ],
      "message": "Add bitcoin-fatal-error clang-tidy check\n\nThe check warns about incorrect usage of util::Result<T, FatalError>.\nThe check enforces the following rules:\n\n1. If a function calls another function with a util::Result<T,\nFatalCondition> return type, its return type has to be util::Result<T,\nFatalCondition> too, or it has to handle the value returned by the\nfunction with one of \"CheckFatal\", \"HandleFatalError\",\n\"UnwrapFatalError\", \"CheckFatalFailure\".\n\n2. In functions returning a util::Result<T, FatalCondition> a call to a\nfunction returning a util::Result<T, FatalCondition> needs to propagate\nthe value by either:\n a) Returning it immediately\n b) Assigning it immediately to an existing result with .MoveMessages()\n    or .Set()\n c) Eventually passing it as an arugment to a .MoveMessages() call",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:40Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-29T07:26:03Z"
      },
      "sha": "14e283a950f4434deac511ca80f1b05c0e5fc982"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE1ZDdkNTg4MDNhMzc3N2FjZjI4ZWMyNTZjOTEwOGVjNjBkYjlhNjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/15d7d58803a3777acf28ec256c9108ec60db9a66",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/15d7d58803a3777acf28ec256c9108ec60db9a66",
      "tree": {
        "sha": "071838cf283dd4a516a524fe5408830d7b1bf20e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/071838cf283dd4a516a524fe5408830d7b1bf20e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 071838cf283dd4a516a524fe5408830d7b1bf20e\nparent 14e283a950f4434deac511ca80f1b05c0e5fc982\nauthor TheCharlatan <seb.kung@gmail.com> 1686820380 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865241 +0100\n\nkernel: Handle ImportBlocks fatal errors with Result<T, FatalError>\n\nThis introduces a new FatalError enum class whose semantics when used as\na failure type in a util::Result<T, FatalError> are controlled by the\npreviously introduced bitcoin-fatal-error clang-tidy plugin.\n\nThe kernel's `UnwrapFatalError` method is meant to be used in unit and\nfuzz tests, while production code should use `CheckFatal` to handle\nfatal errors.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u1kACgkQm3m0VpHb\nQXMVXxAAqmlMFo4XPAwzDa9DSNEAt+99vO8H5hVD1hxfRKO/+SrJW+qQB521/KMC\nSHlX88pvyr4/zkOSz6elT3XWOvedlRN2oOP32ayjn0iiPEHZOg8mb/J0+gaBoCiY\nknGNVrpqF4VCcpY58c/QbhzVIjQM42+Cjp5mdZiGkSMWN268J1SS1ixj8tDvaiFI\npuVo2ejIkOsZWx/75w1i1+HotmPbj62rY88YnFm/ourJ0iYHz3jnePUmxr6ueFzw\nImhq7dGRvloM1I4KcV/qQK0K6w2neHRPJdQ1nAq3OUZ0GraGRlEQDsKAvNtMitOY\nm0xHnFgej7oDJ8OomdSR5V5MrkR7KFBbAnGW1R6eZJihkiNOaQk81Ugu9ZcrMg0s\nkJNsysaqJUe+W1QBqao9LjjK86zUYSzdkbWkmVQaiJiVeP19aU495z+Vg+rm34Zw\nfbU3wBwlLIgJ0jstykswKONd8EEZJCUrzV8vI49cKoHbo1pAf9cAT9uuRkR9uHH0\nziSFkhjnwt1ree2txbUBhNm6sERui0e06OA048+5kgTiMnSshxwIbpd7vNQgl0d4\nIuCha5ZSd7AtIzFW7xvwvgP8o+yKbmyuDPTVRgO2XZQy2V7bTz1NKub24/71oFeO\nonlZApBUnOpcZA1lDvrWRhnTs6Lnwz6vm5iilMFgJYUX09Wpda8=\n=SUgy\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/14e283a950f4434deac511ca80f1b05c0e5fc982",
          "sha": "14e283a950f4434deac511ca80f1b05c0e5fc982",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/14e283a950f4434deac511ca80f1b05c0e5fc982"
        }
      ],
      "message": "kernel: Handle ImportBlocks fatal errors with Result<T, FatalError>\n\nThis introduces a new FatalError enum class whose semantics when used as\na failure type in a util::Result<T, FatalError> are controlled by the\npreviously introduced bitcoin-fatal-error clang-tidy plugin.\n\nThe kernel's `UnwrapFatalError` method is meant to be used in unit and\nfuzz tests, while production code should use `CheckFatal` to handle\nfatal errors.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:41Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-15T09:13:00Z"
      },
      "sha": "15d7d58803a3777acf28ec256c9108ec60db9a66"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE3N2NkMDA1MWUxMGIwMmI1MDJjYTc1NmQ1ZTM3MWI3N2RlZjExNWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/177cd0051e10b02b502ca756d5e371b77def115e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/177cd0051e10b02b502ca756d5e371b77def115e",
      "tree": {
        "sha": "2702a00e71e7fac2ca0057f071c76a7516591fac",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2702a00e71e7fac2ca0057f071c76a7516591fac"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2702a00e71e7fac2ca0057f071c76a7516591fac\nparent 15d7d58803a3777acf28ec256c9108ec60db9a66\nauthor TheCharlatan <seb.kung@gmail.com> 1708588083 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865242 +0100\n\nrefactor: Replace call to fatalError with AbortNode in init\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u1oACgkQm3m0VpHb\nQXNy+xAAqajMxrvf+/fjaTLjnMwvL89IWZwSdbx4azhFwi0QYTMywZ9TS9OUWl03\n4l0Sz4oL/BromrQqnMcNqRSu/KInV/kXG7/kKVo0M7xGNq/Nl9YYhcWM53jw5FGj\n57zBxA8TS8tvSjhwzFV0mlhbDsQJ/5tW4rCE/nIs2qP+tfG6zRQehuC26py0If7/\nT0Jgi4Iakn0Pke6f4cxdGLIrOSYruK2hlaSLLzkPwWcN+I9mQfMbmy++ltU68Cqn\nf4wdZGvTCWoVnRrSIKq+5d4A2Z8gZpmKp+a/8kiYf3ojCEN4nID4XaSYIY+pefCH\n8UCsuvyU9fql7dY2dZ/KriScQlBqi4UEYAz4YCf6+MLR9TaiNOzr9ZMyFiAi+lid\ntAI6ZRs/bgSK+fhqLp+xHcfjshw1NDdcNrCqnjUIZ2S0oMrYv+TyipQjCterXhjU\n7zIaJQupqLqqgqgg0NNjF2TyIunbOlRPkZ+AwJ0BUpgF694sg5jViH8B0/TR/1Do\n2f6qyTX/+o0tpiNqquA58Y/SnutVJPi9mkTu+a7eGSzzkYYxj6ZfCVEWmMSnjKvx\nAF25b6BdubpT4JdfsIp7Q0BlReRoDmB04UIt7LRa81ukijrE88PC8NbzUqjhgP6/\nSxYo9tJBeWJdvu816T7fwdfWiw0NaSG4IAEKGwntKhUAbbrEfaQ=\n=elMB\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/15d7d58803a3777acf28ec256c9108ec60db9a66",
          "sha": "15d7d58803a3777acf28ec256c9108ec60db9a66",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/15d7d58803a3777acf28ec256c9108ec60db9a66"
        }
      ],
      "message": "refactor: Replace call to fatalError with AbortNode in init",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:42Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-22T07:48:03Z"
      },
      "sha": "177cd0051e10b02b502ca756d5e371b77def115e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVmZDJlMmQ1Y2M5OTcxY2FkODVmMTkxNmEzMDE5ZTdmOTgwYjZiNzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/efd2e2d5cc9971cad85f1916a3019e7f980b6b72",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/efd2e2d5cc9971cad85f1916a3019e7f980b6b72",
      "tree": {
        "sha": "1de1eef164736a2a86348af77065bfc2f38ba4d7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1de1eef164736a2a86348af77065bfc2f38ba4d7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1de1eef164736a2a86348af77065bfc2f38ba4d7\nparent 177cd0051e10b02b502ca756d5e371b77def115e\nauthor TheCharlatan <seb.kung@gmail.com> 1686820941 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865244 +0100\n\nkernel: Handle LoadExternalBlockFile fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u1wACgkQm3m0VpHb\nQXMA5A/+PU7wn4hP4NkZklszcAB/FAcdD5K+wJqi7GbsxhdxxjyY3YvN2eDO27Be\nQgO2ujLyrDVjLiohEYRvMc4hXdmWlcPMjVmpzHd3saqUCr4EEyFxSfsQxVmNBb1o\nOBOQY6gyyIwX80gSMiqMEOJ/KJP/Cq3JiZHMsmWAbo/JfHYq39DvZIUInYYlxDcT\nKt0ShPJPgoscNguLh4mMCD6BcHW7FdOtQJYYToEVc+dPof9WYbZbR54PwaABb7Xh\nBEFOcultBVzNE8s43Ds0+3NurtcDry/KPXJiEQ9n7QyLADavH02TF3J96SglVSAV\nrgFf0aHzx6WCp15R0mZIEuu0zDkW5+JFgCRihRgAyj87dMOyO4odupPjOqzP8xBD\nLjyW+7r2lH/sFaZw3rrHEjos/g6prllRKrZhdhFYnPSfM+da0mA2hB7lciyJxQGb\nP1i8Cdf7HiXpc84IN/dtDIru1C7daOqEl4Zhgm41dnMgYC3ZV2ZaKdtrOlI+y/0A\npuVeWS8rpod4mlOeiMOUO7+FyM8MjhgDXYiWBGPiNdjINMr/qXKpkmYXl71ZJiW4\nq45WnHDQIWeF0mKj5RK+poAa4kskVlMVISxA8aRpICdcj4YpAz4ump+y4zOrJWrY\ne4WMTlS0HhsoUE6Rgla6J234Gp5aqDdqq8cWP9gIBuA94Lp6S+A=\n=UG9y\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/177cd0051e10b02b502ca756d5e371b77def115e",
          "sha": "177cd0051e10b02b502ca756d5e371b77def115e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/177cd0051e10b02b502ca756d5e371b77def115e"
        }
      ],
      "message": "kernel: Handle LoadExternalBlockFile fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:44Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-15T09:22:21Z"
      },
      "sha": "efd2e2d5cc9971cad85f1916a3019e7f980b6b72"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ1MzU5NTM1NTZkNDA1ZDU2NmU0MGE3ZWI3YTQ1ODFmZDdiY2YwMzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d535953556d405d566e40a7eb7a4581fd7bcf030",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d535953556d405d566e40a7eb7a4581fd7bcf030",
      "tree": {
        "sha": "7a2fff9bcc0720e25f41653f0cabfd1a21b428d5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7a2fff9bcc0720e25f41653f0cabfd1a21b428d5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7a2fff9bcc0720e25f41653f0cabfd1a21b428d5\nparent efd2e2d5cc9971cad85f1916a3019e7f980b6b72\nauthor TheCharlatan <seb.kung@gmail.com> 1686821838 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865245 +0100\n\nkernel: Handle ActivateSnapshot fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u10ACgkQm3m0VpHb\nQXPmZRAApKoBTXiBRzISGn5eq40v+3g3ejBb5U3pJ0G1Jr+9lt1I/mYPtzQPHWa7\nnBHOIrLwE7F++/eDLcL1/jKhB50kJfti4Y8PcDIZnwhJ+aa2eU9bH8M26XAnTxdl\n++4pYxEYVe/qPwB+dbVZ2iaLCXmi4NeFnXyqcpdEnQe0rpPxmwKacfSoAK/81oFw\nia0TwF6nO85or7mmuCoyL0CGwDOmwjGgWaILNk9cKTYYE+HxVOay1bfNbzrt1VyK\no9OvtN95+j7Mt/67UPaQAsSR23k0Ubrr6ZxZFBuvHQZu3PA4qn3EOKge6IwoiHyD\npFOmmvY7fP/C5zvn8gAkCDq9ihPTb+EqFEo039KhQnf8bTz8KKcsDkZMUrQwi9nB\nneWS4D6TueCqFoZKTc+DSnZekyX8SuS8yvwGz6VqJrIWmxLwgoO2mD2TS6Dk5GBP\nsEckXiFdt6NYGtRm2mfm2rVnPDim0T1wi4kbfdA7om5S1hCHQfcdiHpeQ6xpznTC\nmKdd39yzpNxmC8ssJVpdEbUQz5TQQ05+UkVck3CHGzHhCFqlYeCjbeZuCbeojxWI\nDshq2hw7hT6F0mGXaq4gkn7t0pUz0fcvyakxwLvUo7DzR0O7ZjEmalkRht6Ev9mC\nDfY57LZaWtk005LeQf7mkBmLjdNFHX/IghTZ1wc8BEUEP7oqVns=\n=cZ+B\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/efd2e2d5cc9971cad85f1916a3019e7f980b6b72",
          "sha": "efd2e2d5cc9971cad85f1916a3019e7f980b6b72",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/efd2e2d5cc9971cad85f1916a3019e7f980b6b72"
        }
      ],
      "message": "kernel: Handle ActivateSnapshot fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:45Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-15T09:37:18Z"
      },
      "sha": "d535953556d405d566e40a7eb7a4581fd7bcf030"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGViYzA3YjRkOTYwNDZkZTYzMzU0NTk1MjdlNWQ5MjFiY2JhYzcwNzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ebc07b4d96046de6335459527e5d921bcbac7078",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ebc07b4d96046de6335459527e5d921bcbac7078",
      "tree": {
        "sha": "3b2cee2bec07c557211fa9b4343d5c6c8e98997f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3b2cee2bec07c557211fa9b4343d5c6c8e98997f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3b2cee2bec07c557211fa9b4343d5c6c8e98997f\nparent d535953556d405d566e40a7eb7a4581fd7bcf030\nauthor TheCharlatan <seb.kung@gmail.com> 1686835077 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865246 +0100\n\nkernel: Add [[nodiscard]] attribute for LoadChainstate\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u14ACgkQm3m0VpHb\nQXOgXg//QbwwmzA7qSDg6EaSQ0lPY6vZaa8JuwYfdCKHuYsyksusoSGqEtjMAaZz\nea+WTasIZ9DmfSOgC/gH7xbBaAv29kDCyUVC5JPCU9/Y6xaHWv2B/+9h4PngcPsi\nACWZQybgZaPpM0ynQYkog4Hu+dBpvsJjNfVJc6DcEIQQwCDdWu3AKpuygqKB1bPl\nsk45Q6NeMOevZFQ/JGoLPKgkqCe6PbnmTgszXe4DKomf6Q2qH3+SEogaC41s3y6m\nLGYzlk9fwF5+GHhiSQS7KvK4wohDRN3t+vF69hemdWACfOatBDLqpPlaEf94wPgY\nCsYM7W+KSRmo4DBRIqbHH/AK8qp1yO+KsngxFTXrOlFJRakFE9x/XHJWF27kyOyx\nm+/fn3TtQJpGhKUSJJ9YPSQNIf5OEclT4GgA/OTrae8FYby9+tM18XW+qQ3UTnuj\n7QGrrZaMdjhjvFwCbKMgLXlnHog2YZO0fiSZffmVbvji88D5yKj1Gj4c+Yc90cal\nNakN1CT3rXUci3u7ssTwq6kXfACTanv7m2qqNMYknJzttZimpXyjzSAUKEQA1v20\n00iW9yLxcDFDgrOw3PeuF8+ml9hH3iIK2lYOm2erzTnweOVG/pwwD9ZDHD4tLyeQ\n9izMoZ/EKX2Wca5nm1xJKH7VzhgsaBjYyTdFzp5r9sdw6QV8TFg=\n=syD3\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d535953556d405d566e40a7eb7a4581fd7bcf030",
          "sha": "d535953556d405d566e40a7eb7a4581fd7bcf030",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d535953556d405d566e40a7eb7a4581fd7bcf030"
        }
      ],
      "message": "kernel: Add [[nodiscard]] attribute for LoadChainstate",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:46Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-15T13:17:57Z"
      },
      "sha": "ebc07b4d96046de6335459527e5d921bcbac7078"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg3MjgzNDMzMmYzODE4ZWNkZjIyOTE1NzIyMzFhYzMyOTI1OTFiMGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/872834332f3818ecdf2291572231ac3292591b0d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/872834332f3818ecdf2291572231ac3292591b0d",
      "tree": {
        "sha": "77d36826e97a2fe9ed7984789c620850da9ccc4a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/77d36826e97a2fe9ed7984789c620850da9ccc4a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 77d36826e97a2fe9ed7984789c620850da9ccc4a\nparent ebc07b4d96046de6335459527e5d921bcbac7078\nauthor TheCharlatan <seb.kung@gmail.com> 1686836590 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865247 +0100\n\nkernel: Handle ValidatedSnapshotCleanup fatal errors with Result<T, FatalError>\n\nThis slightly refactors the method to return the FatalError instead of\nthrowing.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u18ACgkQm3m0VpHb\nQXMJ3g/7BPxNbqRNa+h3ykK8/ncwBdKOvV5yjTiBZRKYkeGmnNJTmGWgbEoImr2F\n3/bh+mLPRJbvEM0B3bxzR8D3aPvUzrmn3f7jNXSxWKzxfqM4YDlnAAH6NYcZX8Q5\n9q7BGAEgu+Tb6mSfuJK10NeMParptA5+vgkSHhFhscOWSOzbvg2iwVFC/8eQYvzB\nDWPZFe0MHRaAm8eaGUegfRzRdp0pc0eeQjo7e2HRrtLKGj75PE4tU5LIvD73K1DA\n2+fH9AU+Z/xWL5FyKm8rCbe9P2OgxJNRY04+ZA8w8UMTgcGrjjqq58+DvcPBpVXH\nSG8n0g6CN7tSjbOv/H7YdP9/7/BzOCqpCIzavHy3cwkGi1GkZvVsKGUCAvYpA8Tb\nBFREyeD0vEI4RcZQsfd/3H58siHZdS/P3vW4CWm4BjlEatFC7LFoFrIyr8JoYgLx\niHyTduXs//7+LDkzCtpH5DQLI6Wuc6Dbtlw8EKJx11s97NytLB4e8WaWDPgOer2U\njR1dbNzJHcxMnc0XVxNWbhvuH3jVtwMceslQ5YChp+2a0ugVF+JLbxdp847+vaQu\n5rmpwY4ffEyY/jKS4EszMX2vDiVpBPzmhLj+Az2S+IwLiNjtBqOwYuJEzJcDM8Bb\nyoKINI5QF70EvHvy10A5gc9HRlUpLTpg2OGw7JjWKMrY999SMlo=\n=+Nio\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ebc07b4d96046de6335459527e5d921bcbac7078",
          "sha": "ebc07b4d96046de6335459527e5d921bcbac7078",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ebc07b4d96046de6335459527e5d921bcbac7078"
        }
      ],
      "message": "kernel: Handle ValidatedSnapshotCleanup fatal errors with Result<T, FatalError>\n\nThis slightly refactors the method to return the FatalError instead of\nthrowing.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:47Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-15T13:43:10Z"
      },
      "sha": "872834332f3818ecdf2291572231ac3292591b0d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI5MGE4ZGMyZmExYmMyMDg3ZDI0NzdlYThkMGI1NGY5YTFmY2VmMDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b90a8dc2fa1bc2087d2477ea8d0b54f9a1fcef02",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b90a8dc2fa1bc2087d2477ea8d0b54f9a1fcef02",
      "tree": {
        "sha": "9f236a51068ef96f367a7c6bd2c5a0111282a20f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9f236a51068ef96f367a7c6bd2c5a0111282a20f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9f236a51068ef96f367a7c6bd2c5a0111282a20f\nparent 872834332f3818ecdf2291572231ac3292591b0d\nauthor TheCharlatan <seb.kung@gmail.com> 1686899168 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865249 +0100\n\nkernel: Handle MaybeCompleteSnapshotValidation fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u2EACgkQm3m0VpHb\nQXMS0g//bYQsFXzLopY57wKeZgC8BDeCk+Wi9IT3r41VZKJ/ToYOL2xAHUxwoZnl\nkOfay4JuAV1lPzAIYv3y7zlN76lXK1Y7g+waPSjnyc80qK8JsfWdSFzQ5T6W+Phv\neQ47onNi8bmpAgFDErwvCxAZKF8MrzJrZ4xvWVNbmJaMFMgovaXM+FV6MttN8JSz\nIKYt0BbXnPo3Ynuf8fi2PEWnF7uPXbbeq8LiOmN4+Uj5MCf/LyzU09VmRwd+wLZf\njCM3YqxH8LofMAiJs+ZO3l/qyr9ralmSTDABvbyhMiEOHMjLECAua5e8SNQ7Wdvn\npx+TWXSFlqpGs6Hcx+gZqKhElCOWdEmxRFaKDUaOsSb13bC7IFwKmq8r8Ij4/qIq\nmZRkl6RCmyHZbWrvIETj+y4goBOWU5pPH27k7VO8nACo2znv48yQnb2Mr2a1LFKp\nepeiemiJ+yWkf3PkLPpycAFy5WpjWiEI4ZAMrzZfZ5JQGH1ioSEJh2OwmvxghX8W\nIpfR3hqFukL0p3sZH+dGCrNDZTdblRhSdCkeJy+rpS8lBNVIo4V5KMfCOnMciLfE\n9DrK5bzSuXzFTpSnMw2Ya8avDbMV4QobOQXh7lWlIJEE4OYkfP8BIqm2itf1Wb8Q\nMg8SbW1ghW+FpLoqkHbSCxgs7yI51rSLACkeAnyy8yVsG63syMg=\n=12HL\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/872834332f3818ecdf2291572231ac3292591b0d",
          "sha": "872834332f3818ecdf2291572231ac3292591b0d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/872834332f3818ecdf2291572231ac3292591b0d"
        }
      ],
      "message": "kernel: Handle MaybeCompleteSnapshotValidation fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:49Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-16T07:06:08Z"
      },
      "sha": "b90a8dc2fa1bc2087d2477ea8d0b54f9a1fcef02"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDViZWNmNTdlMDQ2MDRhMjIzNTRlNzgzY2FjOGMxYzRhNzdiNTBkMTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5becf57e04604a22354e783cac8c1c4a77b50d13",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5becf57e04604a22354e783cac8c1c4a77b50d13",
      "tree": {
        "sha": "4ab40c9d47798b48af4ccfd4326d3bf21bc57727",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4ab40c9d47798b48af4ccfd4326d3bf21bc57727"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4ab40c9d47798b48af4ccfd4326d3bf21bc57727\nparent b90a8dc2fa1bc2087d2477ea8d0b54f9a1fcef02\nauthor TheCharlatan <seb.kung@gmail.com> 1686899463 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865250 +0100\n\nkernel: Handle AcceptBlock fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to\nInvalidateCoinsDBOnDisk and AcceptBlock.\n\nThe net_processing module now has to handle a FatalError, so introduce\nshutdown and exit_status member variables for to be able to abort.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u2IACgkQm3m0VpHb\nQXP0hg/9He8tMWnFQrp/621CWhPDr1/pYUnAuUsNs0Xm7oEVCC+hKgB57Wd/Glnj\ndFiBxnzVG8zz8b3R6VXhCMvDpngF/ol23qpE5BqX4R4RzKab9hmsphEjPL+Q5Ya2\nmD+Sqj6efl4OhMRomKkYy8phQMmmchWhpZi6yycSWqhSkRRK2n+GWMCeW3Wy722K\nHZxrCNX7qVX4XJ/tpX8zih6mCeZLXQKAclXCdteDjr5zIJqrGn2difV0+WdJ7szi\nZ1hImFM1siL/eBwV1ERILraqZvWOpyROchjuzwfQs/orKBBbvDiDpanUK1tTickz\nd5OtmqauiRc4Qh2To/ee+cv1zc9MOf6a8kCSXn5Z0jPIrdMJTPfdC3zF5g+MXeZh\nuOTB+s9YeHZ8TQrkBIkkAltA5uzYAoWjv7A7HG4QB+WzfjF8j/KEQGwzrfO81Ut1\nMFEFNyBVzz+YR9XfGHChbTvlhpVZ1zo8yjq7uvZYUSnLKLZ7v0IcfJcTKco9AwRH\npJgreqNJosVNZbcj/WCexteZAFtIXYotQIA98rKvHjGjA049oHzIGRkJYbDSIBmu\n5osR8LolHthgKchrguiJ/ql3/O/rNIQr6cBPV1NTU+PD1r4QHg3eMS2beJPMR7XS\nvWZT5Ooz4c1yXwOUutqpDtlcnZh2BLXUjbLz7WvSFVZAHsAwG44=\n=Xe3K\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b90a8dc2fa1bc2087d2477ea8d0b54f9a1fcef02",
          "sha": "b90a8dc2fa1bc2087d2477ea8d0b54f9a1fcef02",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b90a8dc2fa1bc2087d2477ea8d0b54f9a1fcef02"
        }
      ],
      "message": "kernel: Handle AcceptBlock fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to\nInvalidateCoinsDBOnDisk and AcceptBlock.\n\nThe net_processing module now has to handle a FatalError, so introduce\nshutdown and exit_status member variables for to be able to abort.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:50Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-16T07:11:03Z"
      },
      "sha": "5becf57e04604a22354e783cac8c1c4a77b50d13"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNiMjg4ZGNmYjMxZmYwYjg0NTljZDVjNjM1ZGNjZDk1ZDFmNWYzZDU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3b288dcfb31ff0b8459cd5c635dccd95d1f5f3d5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3b288dcfb31ff0b8459cd5c635dccd95d1f5f3d5",
      "tree": {
        "sha": "d1a37930d38171d3cf02bb78ca13d0bf2875ec09",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d1a37930d38171d3cf02bb78ca13d0bf2875ec09"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d1a37930d38171d3cf02bb78ca13d0bf2875ec09\nparent 5becf57e04604a22354e783cac8c1c4a77b50d13\nauthor TheCharlatan <seb.kung@gmail.com> 1708705971 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865251 +0100\n\nkernel: Handle ActivateBestChainStep fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to PreciousBlock and\nActivateBestChain.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u2MACgkQm3m0VpHb\nQXNfkw/+M8aqWWVsNWCGFivnuYWJhtTE71UVgIv/pbsFiBJ/ayGPJuGECUieIYQo\nZUKiO5Nul6mr/6OOOCmTIRX23Nc0h6QW4HEne9weklBN81uzC025gCZnxGE0Jvg7\nR3NJzC+kZ30UtbBOBcQ2AgSoMyDj2QuhJu49Kf3GYdDafCub826g/mwFd3OZAi+F\n+MaZRSw4B6yb+FA0g3/CWv8MKvrzy5w37BGMVCrI78qx+neR2moMQAfwS0hFvmE+\nnkoHiLDWGSLR4aZ85CUlq5umNRcw3r1PRFZyulHxwP2ExHOUeHqCTh+e5I61Dojc\n5QW4bh4eb1/rF/dw8axVo2fQz9//leB8u0P/AxVAGIMJIl6/6NTJtR1TxJKdevJu\ncqr1+0eGXzMhiGWv7efvFZ7C7WIs0LC+W4BcdAFN4JVkN8hExo1eE/LiCJxGQtFp\ncMYTod+LpNM9iaTqS0R8wdg5MNC6JZNs20PGLrgnSzFZQYv+aRalfL5sFybfx7LD\nhHz0RL4FSiElDklCjLhxDvM4Jc8nXjggg2w/+VuHBAt8e44zfcnwtIVT7RTGsghD\njSuDnRuW9ja5wvBY08FEGNjVv2L4K2i1QMzHGRsIhtLP7t5OHgTQsu9o3EBq428P\nfKbwTnn4waknq9X6El4i0Diy/IDStsihWXNzMi8CJDI8frTyQ/4=\n=3isq\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5becf57e04604a22354e783cac8c1c4a77b50d13",
          "sha": "5becf57e04604a22354e783cac8c1c4a77b50d13",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5becf57e04604a22354e783cac8c1c4a77b50d13"
        }
      ],
      "message": "kernel: Handle ActivateBestChainStep fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to PreciousBlock and\nActivateBestChain.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:51Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-23T16:32:51Z"
      },
      "sha": "3b288dcfb31ff0b8459cd5c635dccd95d1f5f3d5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdkOThmOTViZTk2ZDdiZTllYjAwMjMwZjlmYTU4ZDI4ODkzNmIyYjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7d98f95be96d7be9eb00230f9fa58d288936b2b1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7d98f95be96d7be9eb00230f9fa58d288936b2b1",
      "tree": {
        "sha": "e4994e4c1fab8568329b8aa273fe911cfdca9caf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e4994e4c1fab8568329b8aa273fe911cfdca9caf"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e4994e4c1fab8568329b8aa273fe911cfdca9caf\nparent 3b288dcfb31ff0b8459cd5c635dccd95d1f5f3d5\nauthor TheCharlatan <seb.kung@gmail.com> 1708708224 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1710865252 +0100\n\nkernel: Handle ConnectTip fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5u2QACgkQm3m0VpHb\nQXPctxAAseQDf1OZ9VFr0qSRd48MpoJg/lx+csM8ncAmIrD5xDkwbGRhYjq126EK\nt7/eKJR2DnDTDKbBYZ1iCeHlz900beyYCWfll92wBGahAodA6fMmBvFy4JjN3NZ0\neCLL7e5mpXJgxmu6NI7Pwlom8VW+zKttUsaZhg/tn2f4UMlSM1SubYyaKwhmaCBb\nau5qgC5VUBB7m0DuwBdpeHEEKeCHMakry7rdhEKoo1rIO8f1bIztoNVYLL/G4xXi\n9dm3TimoP/woFm7TyHwl8CiKGsvaZ/0/sIK8hTUMNU7uQzzAnSoNDaGwngQA/Pdt\n2rOvrfskfWaKv6Y+KUdRhK4FKL5Oz4mTjoTmMngWm7wx7s124XRXSBa52myeqY6x\n1r6pShnaUyaxnheDU5OkSdIt7YS5e4ip0S62LuOA6EBEuypr/QGod86g8oVJEE4m\nd+xY5jOewtHOZYo2nl2/BEmpjXdl8XmfsPjZu46mML7cdC0aTrnFMjA3OWZDjXt+\n4NrLVk4LndB76RcE7C0s+ajJzcXAtk3tZf0Zm7t2XuFAxPmPGsO7OsZuAKtFqHUv\ny72MPw9cOYlLT3/a+lySAKxuR4zX9Nj7GbgruFbEqCSSfgV+Rh8qyxJmQaANCL9Z\nxqa7Kvd5M7KQo09uI1DyozyNUIDRRXoXs1LjAUdvYwJBvtaM6ow=\n=hyTq\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3b288dcfb31ff0b8459cd5c635dccd95d1f5f3d5",
          "sha": "3b288dcfb31ff0b8459cd5c635dccd95d1f5f3d5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3b288dcfb31ff0b8459cd5c635dccd95d1f5f3d5"
        }
      ],
      "message": "kernel: Handle ConnectTip fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:20:52Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-23T17:10:24Z"
      },
      "sha": "7d98f95be96d7be9eb00230f9fa58d288936b2b1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJkNDJhZDc3ZTE3Y2M2MTE4NjA2YWMzOGFlYWUxNzgwYzc2ZjBmMWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd42ad77e17cc6118606ac38aeae1780c76f0f1e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bd42ad77e17cc6118606ac38aeae1780c76f0f1e",
      "tree": {
        "sha": "a0349e03611fcc2fe847019f10ceeeb0f29b7b03",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a0349e03611fcc2fe847019f10ceeeb0f29b7b03"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a0349e03611fcc2fe847019f10ceeeb0f29b7b03\nparent 7d98f95be96d7be9eb00230f9fa58d288936b2b1\nauthor TheCharlatan <seb.kung@gmail.com> 1687039111 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1710866549 +0100\n\nkernel: Handle FlushStateToDisk fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to PruneBlockFilesManual,\nAcceptToMemoryPool, ProcessNewPackage, ResizeCoinsCaches,\nForceFlushStateToDisk, PruneAndFlush, DisconnectTip, InvalidateBlock,\nMaybeUpdateMempoolForReorg, ProcessTransaction, MaybeRebalanceCaches,\nLoadMempool\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5wHYACgkQm3m0VpHb\nQXP2xQ/+LJJQrTlWsNPT7GAsAjnrM6QmX8ZcXWseghqLxhga8xWORxJYdK2yJXlq\ny00Kg+SmwYXAXGVb6Xaul1jYBx+NnhQHnplLqHuBcCWZgR550QeCuyQuPWlZuJl1\n3tOwwsx7/q4Uj9AxJ1SkzHTgBBbERDwguV0xa/Ln9heVT0h6nVNOB0NqLPQ4iZWW\nvMM+nmgDIJ6oh5JVjeOxoS22ic4RVzyLFxUu1U02Fb6oFgYMFTSjb6fmWId/FHvT\n325AIAjf8SWbLgmnlf8eKjG4dktOqFqMbzh5anr5/s0VaUDKoPTuZPW6pG36EYYT\nMF/N08aEHlzUJmshNR89UHPYH6YVpE7pmsHa0URF0HXbu7hqK03DVuvqeM1g29g7\njzO3Nhg7iNY8oBrO8B5UE04Z87i8nkK+y4oosYJYSF88fBcSqHbTnqaLW6U3DJCS\nGjkRYguERlQml8QPRBqoUhkFxDa3ZPzdAqY26vYSU2S6P+1STluWvovJFXbK+FnL\nHjIEn/4D8sl7j+fffexULxaK8O+hWvTfxiFzsuwcIokVVV1Pb6imqxNok2Iq3k90\nyrNCMO4P6SFuUwTx5b5Htf1WwI4oxosWAF16ogme9EZxRXzEBZg79zL/6VbA+TsS\n2AHP/rn+tadmD6tbEI6d9omyEXrXCIA1fZ4Rk2l/CljxYHh5fSw=\n=vaN6\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7d98f95be96d7be9eb00230f9fa58d288936b2b1",
          "sha": "7d98f95be96d7be9eb00230f9fa58d288936b2b1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7d98f95be96d7be9eb00230f9fa58d288936b2b1"
        }
      ],
      "message": "kernel: Handle FlushStateToDisk fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to PruneBlockFilesManual,\nAcceptToMemoryPool, ProcessNewPackage, ResizeCoinsCaches,\nForceFlushStateToDisk, PruneAndFlush, DisconnectTip, InvalidateBlock,\nMaybeUpdateMempoolForReorg, ProcessTransaction, MaybeRebalanceCaches,\nLoadMempool",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:42:29Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-17T21:58:31Z"
      },
      "sha": "bd42ad77e17cc6118606ac38aeae1780c76f0f1e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY3MmI4N2M2MzNmOTk5NDQ0YmM2YjMyNDA4M2ViNmM0MTQ5YmI0MTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/672b87c633f999444bc6b324083eb6c4149bb418",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/672b87c633f999444bc6b324083eb6c4149bb418",
      "tree": {
        "sha": "1c1569bde29579fe0d0d824bbd70c73117dffba9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1c1569bde29579fe0d0d824bbd70c73117dffba9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1c1569bde29579fe0d0d824bbd70c73117dffba9\nparent bd42ad77e17cc6118606ac38aeae1780c76f0f1e\nauthor TheCharlatan <seb.kung@gmail.com> 1708532801 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1710866553 +0100\n\nkernel: Handle ConnectBlock fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to VerifyDB and\nTestBlockValidity.\n\nThe miner module now has to handle a FatalError, so introduce shutdown\nand exit_status member variables for it to be able to abort.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5wHkACgkQm3m0VpHb\nQXNCAQ//SfCpBn0M016/Vn/6KXu82PQ4ysEs0u6Zr12RW0XVvGbi2Swv0Y93JhCj\nXvhLyAo9+PMchLp4gxMYXqNeb6YjfWoBFLBLL5YVWtipDSR+zN0DAL1NTKdHdVvA\naMGAPDLG4DVqtmzxiQCRwSLlgWaKMk0+ir0KgPjQGWQKQkvzuLkO6Fuis5Gd1G7r\n+rYlc3gESytOjZT86ZLhSOLmGjk9IEfOeVqGFoG2Ri/T8mRsylXTAhIb2CQDLT83\nBWKwmL3KSSaGro6waL7eZu8uy0C2Q5kMCCiYkKE9ydWtoqziF5KXAnd557cep3Xs\nB97Ad2/gDQY4uNZ7TGL4wcZkPH1F9Td6Hz2UAkaaSetm06BL4Xa5qrFKl1wQ+bX1\n2v5cItLfcauGsrNO3t2RLugKoryogTShqA57XjWxrSM7oZMzfULFCJl8KHptm0yB\npBSxI6ht3z4sT/kGg3bLy/kVyIJhLKo0RFFxJy0KGh+K3EnV7hlqdK301Mkb9q3k\nXOE8jFq8Frv74/J+3GRK0rYCEHd3Oe/XPWjexWHitld6VAlX1RiDhwU+h7uOjm/9\nQXwjQx17TMc/US/m0GPqm7PsIaKvg44sPlMRBqQCHSwCvpc1Xnaol1IYF984D2kt\niwrg/liRpC9qUQdK5DflboIweq2eaicUcFNcBdR01i8AIrv3EFo=\n=K1B2\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd42ad77e17cc6118606ac38aeae1780c76f0f1e",
          "sha": "bd42ad77e17cc6118606ac38aeae1780c76f0f1e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bd42ad77e17cc6118606ac38aeae1780c76f0f1e"
        }
      ],
      "message": "kernel: Handle ConnectBlock fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to VerifyDB and\nTestBlockValidity.\n\nThe miner module now has to handle a FatalError, so introduce shutdown\nand exit_status member variables for it to be able to abort.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:42:33Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-21T16:26:41Z"
      },
      "sha": "672b87c633f999444bc6b324083eb6c4149bb418"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhlZTExZDYzZDg1ZGIxYTdjMDBkZmNmNmY2MGZmYmY3NzI1Yzg5YTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ee11d63d85db1a7c00dfcf6f60ffbf7725c89a0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8ee11d63d85db1a7c00dfcf6f60ffbf7725c89a0",
      "tree": {
        "sha": "d74a85cbe8f5cfc0d19598337a0351368062d035",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d74a85cbe8f5cfc0d19598337a0351368062d035"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d74a85cbe8f5cfc0d19598337a0351368062d035\nparent 672b87c633f999444bc6b324083eb6c4149bb418\nauthor TheCharlatan <seb.kung@gmail.com> 1710192877 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1710866555 +0100\n\nkernel: Handle SaveBlockToDisk fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to LoadGenesisBlock.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5wHsACgkQm3m0VpHb\nQXNxvBAAmFBIuYikajWsZq3AF2TWzWCwhXgZarAH01d9y+20loTXCUY4uwN3hgo6\nBU1Cpfk6vsD+FoQSkZhz7Jq4CB6C5GzoNwfdmnBC4po2nAALOkjfXQvBgeayyUMf\n0zzLkxY+jq5nTSouywd8asrWfq/YB7VCiQCtueFJRO1cErKZ9/HxWdt02VB72BjK\nz/lwkZQFAAoGD2At3PB5RY+UUz+OlBbEkYlLoToN0SodJk1Vcoe4y2cRZOBHQrun\nqVsGYpw8fTX/usIaE5Q3swPmpi6Pmk8lO10otIRbJDLKhp7zyrYKtxYodDeA//fM\nEMr5SdDw3yMRGx8/rGGtQjbu/eGewt2SJ8SiCTe2IKjhLaevkW0i4mjImrpZy5KN\nRmw1DzEwwvY+fJAzF96v2kBavMXjcbCRhxFCGX8gsahsEjR2QEB26DdU9lrrAtiM\nV90LNgiL8HKQ9mBngMuFG+ZeAzmgp65DhdsBt08eIBP9KIK6LRR4g1HxuZKS1m0a\npFq6EyLL2iyqSgSS87402rZfRSxnB5Lmk3yOqslpYpRkmvtdkstqlUGQ8yklvZwk\nF2k5WwD2BjameXXiu1SsNee4+PzgW5AqfBbuyaMjwjPploBjxDNYCnRwwETPkM3T\n6Jg2iN03HGG1LDu83YL1zPBNERSezkoWpkGfyFicTnuSuJUit9Y=\n=lHNf\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/672b87c633f999444bc6b324083eb6c4149bb418",
          "sha": "672b87c633f999444bc6b324083eb6c4149bb418",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/672b87c633f999444bc6b324083eb6c4149bb418"
        }
      ],
      "message": "kernel: Handle SaveBlockToDisk fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to LoadGenesisBlock.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:42:35Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-11T21:34:37Z"
      },
      "sha": "8ee11d63d85db1a7c00dfcf6f60ffbf7725c89a0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZmYjczZTFhYWYxNjQ5YzgwZmQ5ZWI2NmU1NWI0YmM4ZDVjZjg5ZDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ffb73e1aaf1649c80fd9eb66e55b4bc8d5cf89d8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ffb73e1aaf1649c80fd9eb66e55b4bc8d5cf89d8",
      "tree": {
        "sha": "50d22b0aefec960911c756c236b2df77fa959f69",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/50d22b0aefec960911c756c236b2df77fa959f69"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 50d22b0aefec960911c756c236b2df77fa959f69\nparent 8ee11d63d85db1a7c00dfcf6f60ffbf7725c89a0\nauthor TheCharlatan <seb.kung@gmail.com> 1710193464 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1710866556 +0100\n\nkernel: Handle FindBlockPos fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5wHwACgkQm3m0VpHb\nQXM6bRAAzNMfPZbAsRaN4CP0yDo2kC1xXRb14a4zsieaMERseuSdi3KgAcGOmsYg\nmzywSPY/j13xPD83Nj3437P+wlgWFsFK8SEoa4QlcI8nQOfxWNOueB3QaGWLf/nx\ns6C3EoNWEg9hFuGfi4HVYj5sKgeAsgzKeJqw5/bM3SEewOeS2hTVqi5d2Mg4rwOh\n2BWew1CrxRfg9TpW5nIWxjkr7SXBOlvobZrm+llPeIJ1IUfdbDUN/mfXrYQA7DIU\nBbMN3RuHtlF9bMFkwwwFhHJBGYq+h80eKE+YU3Y1rxMbxnWnDtn852Lzsddg9tMG\nlD4IZzAKmy7rwFB4Dh2BgehSxVC2a4omHthwpVnXSBjL4/eZlhT7Ufyl7zBAHq/I\nC9PNYh6zSuoGHKvr4yUkMkEU/2wtfqiZwRCKqo2oEfYNilrpTzeDFPQ7gKOwU8Uy\nk5yOYb5xo8i6T0uYA6U7HVmk2UPuTjg1ZMaaumxtJyDHS24+vdN2mx4X/DiQxAak\nNbPbVCl6VQPEFIYn+FrfiJhIokDDWUgtWR5EpxzkIHP+hDzKXbNJD4k47nR8pWZp\ngbcx2PuHuaMffPGk14+wWZxSqXrI1O32aeaUqgpV6he/LGMKOHeGc9GV4kFD5EUj\nxKB1qFNlIxzvAsXz+r8gcXYkOUuv02XZV3P6oLX83dzavd85evc=\n=NWxs\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ee11d63d85db1a7c00dfcf6f60ffbf7725c89a0",
          "sha": "8ee11d63d85db1a7c00dfcf6f60ffbf7725c89a0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8ee11d63d85db1a7c00dfcf6f60ffbf7725c89a0"
        }
      ],
      "message": "kernel: Handle FindBlockPos fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:42:36Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-11T21:44:24Z"
      },
      "sha": "ffb73e1aaf1649c80fd9eb66e55b4bc8d5cf89d8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRkNjAxYjFmMTg5MTkwOGI2MTE5OWQ4MTE0ZGNkYjYyMTZlNDUwOWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4d601b1f1891908b61199d8114dcdb6216e4509e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4d601b1f1891908b61199d8114dcdb6216e4509e",
      "tree": {
        "sha": "6360cea550646b2cf6623ef45f9ef3becfac50aa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6360cea550646b2cf6623ef45f9ef3becfac50aa"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6360cea550646b2cf6623ef45f9ef3becfac50aa\nparent ffb73e1aaf1649c80fd9eb66e55b4bc8d5cf89d8\nauthor TheCharlatan <seb.kung@gmail.com> 1710194400 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1710866557 +0100\n\nkernel: Handle FlushBlockFile fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to\nFlushChainstateBlockFile.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5wH0ACgkQm3m0VpHb\nQXNApg/+PbK9Zyx9F6mSxvv/Vu8DhJJid0RpfcZozgmPbIbpYseso6YtNPZeCb0g\nefWi4eE2Mfx/DI5/rzS5KY+Awn33W6/rGrp0lcGn29uRUlTwUBqJjjYnb3hmuQnr\nBjDkSbpkYPSVsHI2xKwZuNdxFL5dTiacaVBOiai7uu5oDF8outLZG96/Omv1Sl7V\nRWGrbntpYHPENh31lCLpKk2UR51744bD3bnFx/iG13fcgS4j1QUdslRLFb9m9/7m\nZ1fF4AGTXl4bhpy7+JuU+2dZSGBGVF6vlWvUSogtA93LeBHJJSAnqTM+cCbV1Y0k\nBtLNVokN44jktpej1yjRBptiDJT81UJzL+ixRklJRFKURKiFpLyHmy7OrbrGOp4B\nqiGp7lBBaAmPmsggGtZRJdEVlr6LEpT3ddsVUgkiMvHtJy5ZWCQoMIOdrkoMjPPy\nsoDKhN8IwyqHpvHFZa3wkDeRyeHMuCfG0ZILds3Ee8c6Zd+K1pWe6DMO72YXYKLt\neDLYM8vK4zUrEYYeJl+71wY7Bv9hPaVFyvU5VLmwxR6IGpCpcyfZwtA3WCGbBFJs\nqiYPT6vCYvvX+FQBiD03/fNev5P/fXpxzgok76xXIP8VULSj3HGwp3xJGPCIN6C6\n/bIQxsMuWcWbZl+l3GVBsICdkBKO3h3xJFF4LtRJijsWRfl2bNo=\n=j4C7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ffb73e1aaf1649c80fd9eb66e55b4bc8d5cf89d8",
          "sha": "ffb73e1aaf1649c80fd9eb66e55b4bc8d5cf89d8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ffb73e1aaf1649c80fd9eb66e55b4bc8d5cf89d8"
        }
      ],
      "message": "kernel: Handle FlushBlockFile fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to\nFlushChainstateBlockFile.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:42:37Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-11T22:00:00Z"
      },
      "sha": "4d601b1f1891908b61199d8114dcdb6216e4509e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ5NTE4M2U1NGJhMzAyNTIxZGEwNjk1YzUxODMzOGRmYTkxMWQ3YmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/495183e54ba302521da0695c518338dfa911d7bb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/495183e54ba302521da0695c518338dfa911d7bb",
      "tree": {
        "sha": "a6370fb70bbe83afe671a2fe6269d71b35562966",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a6370fb70bbe83afe671a2fe6269d71b35562966"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a6370fb70bbe83afe671a2fe6269d71b35562966\nparent 4d601b1f1891908b61199d8114dcdb6216e4509e\nauthor TheCharlatan <seb.kung@gmail.com> 1710238414 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1710866559 +0100\n\nkernel: Handle WriteUndoDataForBlock fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5wH8ACgkQm3m0VpHb\nQXNI7hAAwfjkwLCXrRJH6q+RHEHv5bKgtk5jk+OuoDObLWoezOgah47K62RSvQB1\nODjsP0qMFAAQrZUckdnrmwMIcXXkeK0f55pndmqxMTclha/ajh9u6TKADIoOCUgm\nlP8q5kXagVAdq6mWq9xyBHE0FK7zjHMTodAoh3/RjbtDmVKpPYNKsUK/lJLE8Av5\nE74MSpsCQiZnByTNLUEnzEE+WIx9aNxDZ5yYwM5GmtwP4r7jogxVabs9G7cAqGzJ\n96a2fLmzv5phhKj5PZqUyfFU9peQZKeORpUE+z0WU+xGIzLKPgrTfVaPhNtrQiuR\n7O81ukc+uK9i2sOn2wkrlGvKub69DvFSLfmGqqxY/DbCb4Ozb3wdnO7bUE1OQtAl\ns1YZlH8Y44knQU3AHCnxVNw1jgYQ30WCTKXBjUmXVTJZHbkYzP9dISAOLNUbDCPA\n/mF/eDYhuF2Lso0Wl8XXUs8BPekJGR5y02PsRQ3cLfQMxfGw5xlLAIMnWqDlwWWp\nOgMV5JcHX6I8fKkleY/im4EFFkJ3MZpTfNi16WYy8cLtGzgrrhggr0q7aOYukbjP\nOt4qtp3EP1c7oSPDJ8ULOlGG/fGgy0YCIKUt5Uh2JeBxg/3djqnRfrDsEyYu9qsp\npFqaJRidhuBYonLuj1TiWr4MjjQjTxIgLCWyJzPZ3gORBsekL4o=\n=EPHy\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4d601b1f1891908b61199d8114dcdb6216e4509e",
          "sha": "4d601b1f1891908b61199d8114dcdb6216e4509e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4d601b1f1891908b61199d8114dcdb6216e4509e"
        }
      ],
      "message": "kernel: Handle WriteUndoDataForBlock fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:42:39Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-12T10:13:34Z"
      },
      "sha": "495183e54ba302521da0695c518338dfa911d7bb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAyZjdiNzYzOGUzOWE4MmJjYWMwNzNmYjllMjM0YzM0OTc2NmUxNmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/02f7b7638e39a82bcac073fb9e234c349766e16f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/02f7b7638e39a82bcac073fb9e234c349766e16f",
      "tree": {
        "sha": "69bbfe54190c2fce7b99c2ff2aa509bf3f1c1263",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/69bbfe54190c2fce7b99c2ff2aa509bf3f1c1263"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 69bbfe54190c2fce7b99c2ff2aa509bf3f1c1263\nparent 495183e54ba302521da0695c518338dfa911d7bb\nauthor TheCharlatan <seb.kung@gmail.com> 1687077917 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1710866561 +0100\n\nkernel: Handle FlushUndoFile fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5wIEACgkQm3m0VpHb\nQXO5aQ/+P7UWBKRnZzqVIWT8dwKGlcrZO9A7t9vZzvanyF+7Z1yLYGT3r9tp2IbK\nO7maYmQkoddItMirE0fMQFKvEdlgoV6zpNXabS5Szp2hWOhjtU57XWRmDZk4sJwO\ndEzg8GDkbyIkRqHGYhuF1GAjk496AhJUlcW5p9wrjHE0RQHkMAULWc71lGEqbDEZ\nerUrYVK9/Xg4ttlkSmtnu+5sRew3Kojt5NspeFInSEuavmWwcZ7sJxP1YZBIW99S\npNdR7zdYy60jMqJzZobIuJOXRVhnpZbqnXZMrrh+GSN7a3KJpO/ygznmsC6tp1Ly\nFCyx5Z4HnfaTb0J4Tc10B5hxKKPsofPUgBcDYE1A1W1sRTs9bSSE+yQ944n6Qs5L\nkIFRD34CF/OKZNjwciBAeshTwBe08oZcyop887EaWO+zaOt9G66lb71AfhNoU+gt\ndegtdH/BLwknWKOdf+07Xzqrzy6c5kV5NHYjfH9063z/M8t60nIthAOTOwVZg02o\ni8HKhZxU+KpFN9Q8wvb/pdDFS0cwY7qt9vHe8KDF8B7yqUmgJlJeEX6efmdmtPXQ\nzcchhmto1FOVN7KFkrXR8pIJfgagD58AQurO2A6ucXtAn7pOtraMcjJMmocXY+Yy\nPgbGDXEB+6Ea7q/ot1p84GqRD9W7ax0+9Lpfl160s7ifvZJnCjs=\n=qT4E\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/495183e54ba302521da0695c518338dfa911d7bb",
          "sha": "495183e54ba302521da0695c518338dfa911d7bb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/495183e54ba302521da0695c518338dfa911d7bb"
        }
      ],
      "message": "kernel: Handle FlushUndoFile fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:42:41Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-18T08:45:17Z"
      },
      "sha": "02f7b7638e39a82bcac073fb9e234c349766e16f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk3MWZmNmFhMzg1ZmI0OWRmYzIwNGVlY2U0OGM0MjNiNWY0M2NiNmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/971ff6aa385fb49dfc204eece48c423b5f43cb6a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/971ff6aa385fb49dfc204eece48c423b5f43cb6a",
      "tree": {
        "sha": "506e8b91be1a9423eaa462684225543c6e938f35",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/506e8b91be1a9423eaa462684225543c6e938f35"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 506e8b91be1a9423eaa462684225543c6e938f35\nparent 02f7b7638e39a82bcac073fb9e234c349766e16f\nauthor TheCharlatan <seb.kung@gmail.com> 1687079242 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1710866563 +0100\n\nkernel: Handle FindUndoPos fatal errors with Result<T, FatalError>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5wIMACgkQm3m0VpHb\nQXPOaA/8C37tnIVEPqfqhmI/PygnKg/d9ZeOWQTVTAxg2TgN9uSzqZLW5ZheynAo\nKPfccU9U6O7qRS9kb7Uq8j4mHLrNx5TCnjPkhDuVEYPYF7YqMpSDKobdXhqH/Gza\nynZwtUeuk2xD8jI8mZtERs2JGV4gTFRPb7ZnECzv5DTfK24B9FnooVEN9PQjkS78\nZSlHe9tQxklGqap+8BQv25iM0aU8U/pIAOvvPGGsQzM598nGUhbFBtutTptu32ZQ\nCu8X/Fm6udO0Cy3ImPbZJRBvsAMJfgh/W1P0V4lQhM78S2NuZ2hOP4mLotoeCvw7\ngpZ+dkcxKGCMZv+yEiK0kUGiMJJT8kanWrOR2O3ZGdIg3+IWbx4q21bkYSbPe9hD\nvdf1172h7YDK32wRBFLRQfWZIKRVMOKgwZKpk4S3V9DKQzXU07SXijfMNkPFH4ot\n/fXBgPAR5e8vZy38dqu2d0PWtlpm5R0vdkAHR4SjCea4VqABqLeGPNLVh3YPEbow\nKPmdUYJAn6AOgryEOaIDYzBA5fw/UVm9vkeSlV/o1JDFa8cZ219tDJflVTCkNui9\nPcEusXl+dzLDT5Is9QsnioPugJJCqGNQ1szalYd91UYNoWtRb75gIgffZYwewnHn\npZwmaIBbRzNoLeTob2q/Y/yfw2ORFfAe0Jli1sqRDnRED7YQ2kY=\n=1wgr\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/02f7b7638e39a82bcac073fb9e234c349766e16f",
          "sha": "02f7b7638e39a82bcac073fb9e234c349766e16f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/02f7b7638e39a82bcac073fb9e234c349766e16f"
        }
      ],
      "message": "kernel: Handle FindUndoPos fatal errors with Result<T, FatalError>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:42:43Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2023-06-18T09:07:22Z"
      },
      "sha": "971ff6aa385fb49dfc204eece48c423b5f43cb6a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVjMjc2NmMwMjlkZGQyZDBhODE2YTE0YTc4NTY0Y2QzZDA2OTM2ZjM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ec2766c029ddd2d0a816a14a78564cd3d06936f3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ec2766c029ddd2d0a816a14a78564cd3d06936f3",
      "tree": {
        "sha": "155d6fdbc30d4a1782a7dfb673253a4dad5619f1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/155d6fdbc30d4a1782a7dfb673253a4dad5619f1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 155d6fdbc30d4a1782a7dfb673253a4dad5619f1\nparent 971ff6aa385fb49dfc204eece48c423b5f43cb6a\nauthor TheCharlatan <seb.kung@gmail.com> 1708769159 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1710866564 +0100\n\nkernel: Handle LoadBlockIndex fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to LoadBlockIndexDB.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5wIQACgkQm3m0VpHb\nQXMe4Q/+J42orS3aIUpTDEK4o00Tis1SoodHe/vSRx4RUGKuLC3vBypPZ8F1CzGn\nF8Ry8noOZOIIE6n5qOZ5aahZbKrDOYkiXMn4ToCxqsYDFVqV2aHb9MpbRxE1R89u\nCxNQkjCF0AvAV7TdphejHIwlNkq5cDUxQypU/ohfW3ZYstU5PrPGDr0LMoY/Ztxi\nCNkeEKSSlfhFZ/6PknRF9pWcUz0vgi78SyCeniNICp/ZjA25DsukE4zFT/OdzqE7\n3BfXRlNba8+tvTFkl2NxtcPoke9F8D9E4+fg9C4VMGCj58dEYGeBh/26uKlB7KQQ\ng4/ziAhr7BRY2TNGMq8oMG66qumwOwzJLXKHJHwIpPUwZhtR+ngnmA/zjv0IjMDp\nbozAaVqwUpK50u2v78wZ7fzfOuT+dU+zTv+WH8dUZZdYc1F5jocACadbfG5TcE2S\ngX9+1oKNFX2xTcwYqKp++5212KafAFUpkX1DyRwC5v3ZIGEH8X6JXtSGRhsK4Wzi\nNSMNrZuIBT7KWbmxB/CMRnfX1Jdaleb3VlNKPs3mxJbKpDPLVRANFaoJFMqDMtyW\nU49cet+sRt4FSEUkkfYDfhsuE6WtbcsIL17I88g0aNpkXmQr/Hx+tVlDBqmAuhdu\n3EA8GNW+AKcn0WlodfZQPu5wncIkhGSM+TXnIb3TzuowPnHkov4=\n=4Ydl\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/971ff6aa385fb49dfc204eece48c423b5f43cb6a",
          "sha": "971ff6aa385fb49dfc204eece48c423b5f43cb6a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/971ff6aa385fb49dfc204eece48c423b5f43cb6a"
        }
      ],
      "message": "kernel: Handle LoadBlockIndex fatal errors with Result<T, FatalError>\n\nTo propagate the FatalError, also add the type to LoadBlockIndexDB.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:42:44Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-24T10:05:59Z"
      },
      "sha": "ec2766c029ddd2d0a816a14a78564cd3d06936f3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYyNTE3NjEwMzYyMzFmZTBjNmY5MmQ1YWY3NWY2NTA3YTE3NDA4YTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f251761036231fe0c6f92d5af75f6507a17408a4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f251761036231fe0c6f92d5af75f6507a17408a4",
      "tree": {
        "sha": "2d58aba4da1f77fd2a459c772d4cbf55412422a5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2d58aba4da1f77fd2a459c772d4cbf55412422a5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2d58aba4da1f77fd2a459c772d4cbf55412422a5\nparent ec2766c029ddd2d0a816a14a78564cd3d06936f3\nauthor TheCharlatan <seb.kung@gmail.com> 1708769405 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1710866593 +0100\n\nRemove flushError, fatalError from kernel notifications\n\nAlso add using declarations where now possible.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmX5wKIACgkQm3m0VpHb\nQXOtKhAAtK7s6Pjdp7HOs/vbtJ8Wk8jGR2mG6/713VAXp0KnhJFNFU4yCAP2jsHF\noqehMb35s6oMIvglx4W10Al+Ta+l0hBomdaD/BRb8a5J2zG4cytqvRT/vRaybVTJ\nlkHMSKD7zirQb8MDWt4kdliW6wjp58zPW5uyBcz59uRHT8EFJk4MxVxi4dsB+8nt\nPnM0NCEXbbz7dOnTSiYoEbol7c/390uvA2nGzQg5ZzbKcdtj/Bktpjz0/+7QG6Wf\nGjfPCkSJYyptaUNUPKg0dJmWnt7jShXb2r74n+5hfjwlVZuRViYa3XQx0jK4bg+v\nC3BGCo+HSVa6i1P1mRqu5Mw/e2soZHzVXJ7pv6JECEUkD/4kmViyGzZ9O6rlWDm6\n133Hw4NNdFDg+joE1rNFLLqvwKlj039Bkx183L/KEgR4nr/l7BsGjjGcHx3VR1Ne\nMGEjE1saYwdyNTy0nQYT3L0bMpn66tP8paQ9qnpeuhHZwVz7Con1xZ+kaxWsIfYW\nUdFBpO903dJEEEGuClVR+RPdlekXIleF+UDu6bvsR1Oh/xh3gK+8k8CoYj3fTEjj\nD9UmyyPVhwu+eH0rxqWFJVW2pGIpHuLKoFQpAnEPl7kIoBWjbsZAGbu62xX+COIp\nN7Cee8UthmYNGPdgq8vsfMT7PuktveBOfRYn+xiXiXZMMxOHIOQ=\n=DWWl\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ec2766c029ddd2d0a816a14a78564cd3d06936f3",
          "sha": "ec2766c029ddd2d0a816a14a78564cd3d06936f3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ec2766c029ddd2d0a816a14a78564cd3d06936f3"
        }
      ],
      "message": "Remove flushError, fatalError from kernel notifications\n\nAlso add using declarations where now possible.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-03-19T16:43:13Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-02-24T10:10:05Z"
      },
      "sha": "f251761036231fe0c6f92d5af75f6507a17408a4"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12172583655,
      "node_id": "HRFPE_lADOABII586CGcByzwAAAALViuLn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12172583655",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T16:48:32Z"
    },
    {
      "event": "unlabeled",
      "id": 12173610454,
      "node_id": "UNLE_lADOABII586CGcByzwAAAALVmo3W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12173610454",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T18:06:15Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2007906431,
      "node_id": "IC_kwDOABII5853rjh_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2007906431",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T18:53:10Z",
      "updated_at": "2024-03-19T18:53:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, it is better for a function to return an error status than set a flag, initiate a global shutdown, and not return a success or failure value.\r\n\r\nBut the [FatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/kernel/fatal_error.h#L12-L35) enum and [HandleFatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L24-L32) / [CheckFatal](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L34-L46) / [clang-tidy](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/contrib/devtools/bitcoin-tidy/fatal_error.cpp) machinery do not seem very friendly to use, and I don't see what benefits they offer over just using `util::Result` and `[[nodiscard]]`.\r\n\r\nIt also seems like it would be nice to have local enums for functions like `ProcessTransaction` and `ActivateBestChain` that just have 2 or 3 error codes instead of 22 error codes like `FatalError`.\r\n\r\nAlso, I understand the goal of this is to improve the libbitcoinkernel interface, but I'm not sure this should mean moving AbortNode calls out of kernel code into net_processing code. I think it would be probably be better if the net_processing functions could return success/failure as well, and AbortNode calls could move to an even higher level. Or if AbortNode calls could just be left where they are and this could be a pure refactoring that just adds missing return values.\r\n\r\nI guess my main question is would it be possible to make a stripped down version of this PR that just adds `[[nodiscard]]` to all functions where `fatalError`/`flushError` are called, and bubbles up `util::Result` values, and is just a plain refactoring that doesn't change behavior, and doesn't add the FatalError type and handlers? It seems like could make the PR smaller, and make libbitcoinkernel act like a normal library that can return errors, without changing other things.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2007906431",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "commented",
      "id": 2007981964,
      "node_id": "IC_kwDOABII5853r1-M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2007981964",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T19:40:12Z",
      "updated_at": "2024-03-19T19:40:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I don't see what benefits they offer over just using `util::Result` and `[[nodiscard]]`\r\n\r\nI guess I figured out the answer to this question while I was writing the rest of the rest of my comment. The benefit of adding all the [FatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/kernel/fatal_error.h#L12-L35)/[HandleFatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L24-L32)/[CheckFatal](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L34-L46)/[clang-tidy](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/contrib/devtools/bitcoin-tidy/fatal_error.cpp) stuff is that it can replace the [fatalError and flushError](https://github.com/bitcoin/bitcoin/blob/3d216baf91ca754e46e89788205513a956ec6d0a/src/kernel/notifications_interface.h#L45-L60) notifications and ensure that new kernel code nevers trigger a shutdown without also returning an error code.\r\n\r\nBut IMO the benefit of enforcing that errors are always returned doesn't clearly outweigh the costs, so am wondering about about a more lightweight approach that just bubbles up errors from existing fatalError/flushError calls.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2007981964",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "commented",
      "id": 2009349275,
      "node_id": "IC_kwDOABII5853xDyb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2009349275",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T11:27:34Z",
      "updated_at": "2024-03-20T11:27:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2007906431 and https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2007981964\r\n\r\n> ensure that new kernel code nevers trigger a shutdown without also returning an error code.\r\n\r\nYes, that is the goal of this pull request. I first wrote the error handling and then the tidy plugin. The plugin helped uncover a handful of bugs that were not immediately obvious to me, so I do think it is useful beyond `[[nodiscard]]`. It also uncovered some cases where the current handling of the fatal errors is questionable. I don't think the helper functions are all that complicated, though their naming sure could be improved to make it more obvious what they do. They also only form a small part of what the linter enforces. If reviewers view the linter as too specialized, it could be dropped from the PR, but still used to validate the work.\r\n\r\n> The benefit of adding all the [FatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/kernel/fatal_error.h#L12-L35)/[HandleFatalError](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L24-L32)/[CheckFatal](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/src/node/abort.h#L34-L46)/[clang-tidy](https://github.com/TheCharlatan/bitcoin/blob/f251761036231fe0c6f92d5af75f6507a17408a4/contrib/devtools/bitcoin-tidy/fatal_error.cpp) stuff is that it can replace the [fatalError and flushError](https://github.com/bitcoin/bitcoin/blob/3d216baf91ca754e46e89788205513a956ec6d0a/src/kernel/notifications_interface.h#L45-L60) notifications\r\n\r\nTo me this is more the logical conclusion of the PR than its goal. The goal is to bubble up an error code. Adding an error code next to the existing fatalError and flushError notifications in validation that is not used by production code for the sake of not changing things too much seems unfortunate though. The PR already tries hard to keep the rest of the behavior when a fatal error is encountered the same. Having three different fatal mechanisms seems more confusing than one consistent one that is enforced with a linter and is very mechanical. I also feel like having multiple ways to achieve the same outcome is bad API design. Removing the notifications could be done at a later point, but I don't think it makes this PR significantly harder to review and it would leave things in an inconclusive state.\r\n\r\n> It also seems like it would be nice to have local enums for functions like ProcessTransaction and ActivateBestChain that just have 2 or 3 error codes instead of 22 error codes like FatalError.\r\n\r\nThe code has always treated fatal errors as their own weird separate thing, so putting them in a a single enum does not really feel that unnatural to me. However this PR could also be realized with more specialized types. What benefit do you see with such an approach?",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2009349275",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "labeled",
      "id": 12188425812,
      "node_id": "LE_lADOABII586CGcByzwAAAALWfJ5U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12188425812",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T17:08:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2010092887,
      "node_id": "IC_kwDOABII5853z5VX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2010092887",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T17:08:08Z",
      "updated_at": "2024-03-20T17:08:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n🐙 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2010092887",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    },
    {
      "event": "commented",
      "id": 2010662998,
      "node_id": "IC_kwDOABII58532EhW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2010662998",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T21:22:26Z",
      "updated_at": "2024-03-20T21:22:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for explanations. So as I understand it, this PR is trying to do 3 things:\r\n\r\n(1) Ensure that if an error happens while calling a function, the error is returned to the caller.\r\n(2) Ensure if that if an error happens while calling a function, and the node will be shutting down as a result of that error, the fact node is shutting down will be returned to the caller.\r\n(3) Fix a \"handful of bugs\" in error handling.\r\n\r\nI think (1) is great and definitely worth doing, but I don't think this PR is doing an ideal job in its implementation. I can describe the specific problems I see there currently below.\r\n\r\nI don't really think (2) is a worthwhile goal, because it should have no effect on libbitcoinkernel users and I don't really see how it could catch any significant internal bugs. But if there is a way to implement it without negatively impacting libbitcoinkernel API, I think it would be fine to pursue.\r\n\r\nI'm extremely wary of (3). I fully believe there are bugs in error handling and many things that could be improved, but I don't think those changes can be effectively reviewed as part of a big refactoring PR like this. I think it can be ok to combine behavior changes with refactoring when the combining these simplifies things, but in this case I only see adding return information at the same time as changing error handling making things more complicated. (If there are counterexamples, though, I could be convinced otherwise.)\r\n\r\n---\r\n\r\nThe specific problems I see with error reporting in this PR have to do with the `FatalError` enum. I think it is a bad developer experience to have a bunch of functions returning an enum with 20 possible error values, and not knowing which functions might return which values, and not having a suggestion of how different values need to be handled. I'm also skeptical that \"fatal errors\" are a concept that should be exposed to libbitcoinkernel callers, since not all callers will be implementing nodes that need to shut down, and normally library functions should be able to report errors without requiring they be handled in a certain way. Also, I think the fact that error type is an enum type rather than something more general like a std::variant means that it might be hard to return add useful metadata to the result value (like which block could not be read if a block read failed).\r\n\r\nI was experimenting today with a change to just return \\[\\[nodiscard]] util::Result from every function calling fatalError or flushError, and I think is mostly complete (validation.cpp and blockstorage.cpp compile) which I think could be a simpler approach, providing a better API for libbitcoinkernel callers, and also being easier to review. I think other improvements could be made on top of it but maybe it is a simpler starting point. Commit is bc1055157b2e6458683953a41a7b243f27f77d98 and I can work on getting the rest of it compiling and then splitting it up.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29642#issuecomment-2010662998",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642"
    }
  ],
  "comments": []
}