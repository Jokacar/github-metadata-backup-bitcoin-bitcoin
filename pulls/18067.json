{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18067",
    "id": 371087956,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzcxMDg3OTU2",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18067",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/18067.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/18067.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18067",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18067/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18067/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18067/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/a304a3632f0437f4d0f04589a2200e2da91624a7",
    "number": 18067,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "wallet: Improve LegacyScriptPubKeyMan::CanProvide script recognition",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Make `LegacyScriptPubKeyMan::CanProvide` method able to recognize p2sh scripts when the redeem script is present in the `mapScripts` map without the p2sh script also having to be added to the `mapScripts` map. This restores behavior prior to #17261, which I think broke backwards compatibility with old wallet files by no longer treating addresses created by `addmultisigaddress` calls before #17261 as solvable.\r\n\r\nThe reason why tests didn't fail with the CanProvide implementation in #17261 is because of a workaround added in 4a7e43e8460127a40a7895519587399feff3b682 \"Store p2sh scripts in AddAndGetDestinationForScript\", which masked the problem for new `addmultisigaddress` RPC calls without fixing it for multisig addresses already created in old wallet files.\r\n\r\nThis change adds a lot of comments and allows reverting commit 4a7e43e8460127a40a7895519587399feff3b682 \"Store p2sh scripts in AddAndGetDestinationForScript\", so the `AddAndGetDestinationForScript()` function, `CanProvide()` method, and `mapScripts` map should all be more comprehensible",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2020-02-04T22:44:28Z",
    "updated_at": "2022-02-15T10:58:02Z",
    "closed_at": "2020-02-19T01:29:30Z",
    "mergeable_state": "unknown",
    "merged_at": "2020-02-19T01:29:30Z",
    "merge_commit_sha": "a304a3632f0437f4d0f04589a2200e2da91624a7",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "ryanofsky:pr/provide",
      "ref": "pr/provide",
      "sha": "a304a3632f0437f4d0f04589a2200e2da91624a7",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 69901633,
        "node_id": "MDEwOlJlcG9zaXRvcnk2OTkwMTYzMw==",
        "name": "bitcoin",
        "full_name": "ryanofsky/bitcoin",
        "owner": {
          "login": "ryanofsky",
          "id": 7133040,
          "node_id": "MDQ6VXNlcjcxMzMwNDA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ryanofsky",
          "html_url": "https://github.com/ryanofsky",
          "followers_url": "https://api.github.com/users/ryanofsky/followers",
          "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
          "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
          "repos_url": "https://api.github.com/users/ryanofsky/repos",
          "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/ryanofsky/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/ryanofsky/bitcoin",
        "archive_url": "https://api.github.com/repos/ryanofsky/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/ryanofsky/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/ryanofsky/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/ryanofsky/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/ryanofsky/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/ryanofsky/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/ryanofsky/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/ryanofsky/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/ryanofsky/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/ryanofsky/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/ryanofsky/bitcoin/events",
        "forks_url": "https://api.github.com/repos/ryanofsky/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/ryanofsky/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/ryanofsky/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/ryanofsky/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/ryanofsky/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/ryanofsky/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/ryanofsky/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/ryanofsky/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/ryanofsky/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/ryanofsky/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/ryanofsky/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/ryanofsky/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/ryanofsky/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:ryanofsky/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/ryanofsky/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/ryanofsky/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/ryanofsky/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/ryanofsky/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/ryanofsky/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/ryanofsky/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/ryanofsky/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/ryanofsky/bitcoin/hooks",
        "svn_url": "https://github.com/ryanofsky/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 8,
        "stargazers_count": 9,
        "watchers_count": 9,
        "size": 231874,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T19:06:27Z",
        "created_at": "2016-10-03T19:05:43Z",
        "updated_at": "2023-07-28T06:57:01Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "2bdc476d4d23256d8396bb9051a511f540d87392",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T19:06:37Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18067"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 123,
    "deletions": 21,
    "changed_files": 6,
    "commits": 3,
    "review_comments": 0,
    "comments": 6
  },
  "events": [
    {
      "event": "labeled",
      "id": 3007990572,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMwMDc5OTA1NzI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3007990572",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-04T22:44:58Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "review_requested",
      "id": 3007990998,
      "node_id": "MDIwOlJldmlld1JlcXVlc3RlZEV2ZW50MzAwNzk5MDk5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3007990998",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-04T22:45:09Z",
      "requested_reviewer": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-05T15:52:52Z",
      "updated_at": "2020-02-05T15:52:52Z",
      "source": {
        "issue": {
          "id": 560462612,
          "node_id": "MDU6SXNzdWU1NjA0NjI2MTI=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18075",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18075/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18075/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18075/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/18075",
          "number": 18075,
          "state": "closed",
          "state_reason": "completed",
          "title": "wallet: #17261 regression: addmultisigaddress addresses not treated as solvable",
          "body": "Filing this issue to record steps to reproduce a small regression from #17261, which is fixed in #18067. Reproducing the bug has to be done manually because we don't have a framework for writing wallet backwards compatibility tests (#12134 is stuck in review)\r\n\r\n# Steps to reproduce\r\n\r\n```sh\r\nMERGE=2d6e76af240969aa284cd4c3d376493988e218c2 # 17261 merge commit\r\nPK1=0296b538e853519c726a2c91e61ec11600ae1390813a627c66fb8be7947be63c52 # key from wallet_address_types.py\r\nPK2=037211a824f55b505228e4c3d5194c1fcfaa15a456abdf37f9b9d97a4040afc073 # key from wallet_address_types.py\r\n\r\ngit checkout $MERGE^\r\nmake\r\nsrc/bitcoind -regtest &\r\nADDRESS=$(src/bitcoin-cli -regtest addmultisigaddress 1 \"[\\\"$PK1\\\", \\\"$PK2\\\"]\" true legacy | jq -r .address)\r\nsrc/bitcoin-cli -regtest stop\r\n\r\ngit checkout $MERGE\r\nmake -C src bitcoind\r\nsrc/bitcoind -regtest &\r\nsrc/bitcoin-cli -regtest getaddressinfo $ADDRESS | jq .solvable # BUG: expect true, actual false\r\nsrc/bitcoin-cli -regtest stop\r\n```\r\n\r\n# Expected behavior\r\n\r\ngetaddressinfo reports multisig address is solvable\r\n\r\n# Actual behavior\r\n\r\ngetaddressinfo returns `\"solvable\": false`\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            },
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 2,
          "closed_at": "2020-02-19T01:46:31Z",
          "created_at": "2020-02-05T15:52:52Z",
          "updated_at": "2022-02-15T11:15:49Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 584235535,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU4NDIzNTUzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/584235535",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-10T17:23:11Z",
      "updated_at": "2020-02-10T17:23:11Z",
      "author_association": "MEMBER",
      "body": "ACK 891b0ee0167dbc7c3d149da92bf987e18d383fc2\r\n\r\nConfirms this fixes #18075",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18067#issuecomment-584235535",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18067"
    },
    {
      "event": "reviewed",
      "id": 356121500,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MTIxNTAw",
      "url": null,
      "actor": null,
      "commit_id": "891b0ee0167dbc7c3d149da92bf987e18d383fc2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18067#pullrequestreview-356121500",
      "submitted_at": "2020-02-10T17:23:41Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18067"
    },
    {
      "event": "review_requested",
      "id": 3024878848,
      "node_id": "MDIwOlJldmlld1JlcXVlc3RlZEV2ZW50MzAyNDg3ODg0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3024878848",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-11T00:30:50Z",
      "requested_reviewer": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-11T18:16:52Z",
      "updated_at": "2020-02-11T18:16:52Z",
      "source": {
        "issue": {
          "id": 464441403,
          "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk0NzE4ODM5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16341",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16341/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16341/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16341/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/16341",
          "number": 16341,
          "state": "closed",
          "state_reason": null,
          "title": "Introduce ScriptPubKeyMan interface and use it for key and script management (aka wallet boxes)",
          "body": "Introducing the `ScriptPubKeyMan` (short for ScriptPubKeyManager) for managing scriptPubKeys and their associated scripts and keys. This functionality is moved over from `CWallet`. Instead, `CWallet` will have a pointer to a `ScriptPubKeyMan` for every possible address type, internal and external. It will fetch the correct `ScriptPubKeyMan` as necessary. When fetching new addresses, it chooses the `ScriptPubKeyMan` based on address type and whether it is change. For signing, it takes the script and asks each `ScriptPubKeyMan` for whether that `ScriptPubKeyMan` considers that script `IsMine`, whether it has that script, or whether it is able to produce a signature for it. If so, the `ScriptPubKeyMan` will provide a `SigningProvider` to the caller which will use that in order to sign.\r\n\r\nThere is currently one `ScriptPubKeyMan` - the `LegacyScriptPubKeyMan`. Each `CWallet` will have only one `LegacyScriptPubKeyMan` with the pointers for all of the address types and change pointing to this `LegacyScriptPubKeyMan`. It is created when the wallet is loaded and all keys and metadata are loaded into it instead of `CWallet`. The `LegacyScriptPubKeyMan` is primarily made up of all of the key and script management that used to be in `CWallet`. For convenience, `CWallet` has a `GetLegacyScriptPubKeyMan` which will return the `LegacyScriptPubKeyMan` or a `nullptr` if it does not have one (not yet implemented, but callers will check for the `nullptr`). For purposes of signing, `LegacyScriptPubKeyMan`'s `GetSigningProvider` will return itself rather than a separate `SigningProvider`. This will be different for future `ScriptPubKeyMan`s.\r\n\r\nThe `LegacyScriptPubKeyMan` will also handle the importing and exporting of keys and scripts instead of `CWallet`. As such, a number of RPCs have been limited to work only if a `LegacyScriptPubKeyMan` can be retrieved from the wallet. These RPCs are `sethdseed`, `addmultisigaddress`, `importaddress`, `importprivkey`, `importpubkey`, `importmulti`, `dumpprivkey`, and `dumpwallet`. Other RPCs which relied on the wallet for scripts and keys have been modified in order to take the `SigningProvider` retrieved from the `ScriptPubKeyMan` for a given script.\r\n\r\nOverall, these changes should not effect how everything actually works and the user should experience no difference between having this change and not having it. As such, no functional tests were changed, and the only unit tests changed were those that were directly accessing `CWallet` functions that have been removed.\r\n\r\nThis PR is the last step in the [Wallet Structure Changes](https://github.com/bitcoin-core/bitcoin-devwiki/wiki/Wallet-Class-Structure-Changes).\r\n\r\nThe commits are organized as follows:\r\n* Miscellaneous changes that don't necessarily make sense outside of this PR\r\n  * Move wallet enums to walletutil.h\r\n  * List output types in an array in order to be iterated over\r\n  * Always try to sign for all pubkeys in multisig\r\n* Interface definitions and miscellaneous changes in preparation for `ScriptPubKeyMan` integration\r\n  * Introduce both ScriptPubKeyMan as an interface and LegacyScriptPubKeyMan as a dummy class\r\n  * Add LegacyScriptPubKeyMan to CWallet\r\n  * Add function callbacks for wallet flags and versions and wallet database\r\n  * Fetch the SigningProvider for a script from the wallet\r\n  * Fetch the ScriptPubKeyMan for given output type and internal-ness, or a given script, or ScriptPubKeyMan id\r\n* Implementation of `LegacyScriptPubKeyMan` by copying existing code from `CWallet`. These will pass all tests and do not affect `CWallet`\r\n  * Implement GetSigningProvider in LegacyScriptPubKeyMan\r\n  * Implement function to connect ScriptPubKeyMan's NotifyCanGetAddessesChanged and NotifyWatchOnlyChanged to CWallet's\r\n  * Implement IsLocked and IsCrypted in LegacyScriptPubKeyMan\r\n  * Implement LoadCryptedKey and AddCryptedKey in LegacyScriptPubKeyMan\r\n  * Implement UpdateTimeFirstKey, and GetTimeFirstKey in LegacyScriptPubKeyMan\r\n  * Implement AddWatchOnly, RemoveWatchOnly, HaveWatchOnly, and LoadWatchOnly in LegacyScriptPubKeyMan\r\n  * Implement AddKeyPubKey and LoadKey in LegacyScriptPubKeyMan\r\n  * Implement WalletLogPrintf in LegacyScriptPubKeyMan\r\n  * Implement SetHDCHain, and IsHDEnabled in LegacyScriptPubKeyMan\r\n  * Implement LoadCScript in LegacyScriptPubKeyMan\r\n  * Implement LoadKeyMetadata and LoadScriptMetadata in LegacyScriptPubKeyMan\r\n  * Implement GetKey, HaveKey, and GetPubKey in LegacyScriptPubKeyMan\r\n  * Implement GenerateNewKey in LegacyScriptPubKeyMan\r\n  * Implement LoadKeyPool in LegacyScriptPubKeyMan\r\n  * Implement GetOldestKeyPoolTime, KeypoolCountExternalKeys, and GetKeypoolSize in LegacyScriptPubKeyMan\r\n  * Implement CanGetAddresses, CanGenerateKeys, and HavePrivateKeys in LegacyScriptPubKeyMan\r\n  * Implement GenerateNewSeed, DeriveNewSeed, and SetHDSeed for LegacyScriptPubKeyMan\r\n  * Implement TopUpKeypool, TopUp, and NewKeyPool in LegacyScriptPubKeyMan\r\n  * Implement ReturnAddress, and KeepKey in LegacyScriptPubKeyMan\r\n  * Implement GetNewAddress, and GetReservedAddress in LegacyScriptPubKeyMan\r\n  * Implement MarkUnusedAddresses in LegacyScriptPubKeyMan\r\n  * Implement IsMine in LegacyScriptPubKeyMan\r\n  * Implement UpgradeKeyMetaData, SetupGeneration, IsFirstRun, Upgrade, RewriteDB in LegacyScriptPubKeyMan\r\n  * Implement Unlock, Lock, and Encrypt and LegacyScriptPubKeyMan\r\n  * Implement ImporScripts, ImportPrivKeys, ImportPubKeys, and ImportScriptPubKeys in LegacyScriptPubKeyMan\r\n  * Implement GetMetadata in LegacyScriptPubKeyMan\r\n  * Implement GetKeyOrigin in LegacyScriptPubKeyMan\r\n  * Implement actually loading everything into LegacyScriptPubKeyMan\r\n  * Implement CanProvide in LegacyScriptPubKeyMan\r\n* Replacing `CWallet` functions and RPC things with calls to `ScriptPubKeyMan` or `LegacyScriptPubKeyMan`. These will compile but are not expected to pass tests hence the `[ci skip]`.\r\n  * [ci skip] Remove CWallet from IsMine and have CWallet always use ScriptPubKeyMan's IsMine\r\n  * [ci skip] moveonly: move ismine stuff to be a module of LegacyScriptPubKeyMan\r\n  * [ci skip] Have GetNewAddress, GetNewChangeAddress, and ReserveAddress use ScriptPubKeyMan\r\n  * [ci skip] Mark used addresses in ScriptPubKeyMan\r\n  * [ci skip] Call UpgradeKeyMetaData for each ScriptPubKeyMan\r\n  * [ci skip] Sign using SigningProvider from ScriptPubKeyMan when signing within CWallet\r\n  * [ci skip] Do not allow import*, dump*, and addmultisigaddress RPCs when wallet is not backed by LegacyScriptPubKeyMan\r\n  * [ci skip] Change Imports to use LegacyScriptPubKeyMan Imports\r\n  * [ci skip] Use SigningProviders and ScriptPubKeyMans in listunspent, signmessage, signrawtransactionwithwallet, and getaddressinfo\r\n  * [ci skip] Use LegacyScriptPubKeyMan in addmultisigaddress and sethdseed\r\n  * [ci skip] Use LegacyScriptPubKeyMan for hdseedid in getwalletinfo\r\n  * [ci skip] Change KeypoolCountExternal and GetKeypoolSize to get aggregate sizes from ScriptPubKeyMans\r\n  * [ci skip] Have IsHDEnabled fetch from ScriptPubKeyMans\r\n  * [ci skip] Fetch oldest keypool time from ScriptPubKeyMans\r\n  * [ci skip] have TopUpKeyPool call TopUp in each ScriptPubKeyMan\r\n  * [ci skip] Have EncryptWallet, Lock, and Unlock call their respective functions in ScriptPubKeyMans\r\n  * [ci skip] Use LegacyScriptPubKeyMan throughout psbt_wallet_tests\r\n  * [ci skip] Use LegacyScriptPubKeyMan throughout wallettool\r\n  * [ci skip] Use ScriptPubKeyMans' Setup and Upgrade functions when loading or creating a wallet\r\n  * [ci skip] Define first run as having no ScriptPubKeyMans\r\n  * [ci skip] Use RewriteDB action when DB needs rewrite\r\n  * [ci skip] Use GetTimeFirstKey instead of nTimeFirstKey\r\n  * [ci skip] Use LegacyScriptPubKeyMan for in wallet_tests\r\n  * [ci skip] Use LegacyScriptPubKeyMan in dumpprivkey and dumpwallet\r\n  * [ci skip] Change CanGetAddresses to fetch from ScriptPubKeyMan\r\n  * [ci skip] Fetch the correct SigningProvider for signing PSBTs\r\n  * [ci skip] Use LegacyScriptPubKeyMan in test util\r\n  * [ci skip] Use LegacyScriptPubKeyMan in some parts of getbalances and createwallet\r\n  * [ci skip] Have getPubKey and getPrivKey use SigningProvider\r\n  * [ci skip] Use LegacyScriptPubKeyMan in benchmarks involving the wallet\r\n  * [ci skip] Store p2sh scripts in AddAndGetDestinationForScript\r\n* Tying everything together and removing the `CWallet` functions.\r\n  * Remove unused functions and switch CWallet to use ScriptPubKeyMan",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 35,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16341",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/16341",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/16341.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/16341.patch"
          },
          "closed_at": "2019-10-25T21:09:34Z",
          "created_at": "2019-07-05T03:01:15Z",
          "updated_at": "2022-02-15T10:58:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-11T19:05:54Z",
      "updated_at": "2020-02-11T19:05:54Z",
      "source": {
        "issue": {
          "id": 287204826,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTYxOTU3NDkz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12134",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12134/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12134/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12134/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/12134",
          "number": 12134,
          "state": "closed",
          "state_reason": null,
          "title": "Build previous releases and run functional tests ",
          "body": "This PR adds binaries for 0.17, 0.18 and 0.19 to Travis and runs a basic block propagation test.\r\n\r\nIncludes test for upgrading v0.17.1 wallets and opening master wallets with older versions.\r\n\r\nUsage:\r\n\r\n```sh\r\ncontrib/devtools/previous_release.sh -f -b v0.19.0.1 v0.18.1 v0.17.1\r\ntest/functional/backwards_compatibility.py\r\n```\r\n\r\nTravis caches these earlier releases, so it should be able to run these tests with little performance impact.\r\n\r\nAdditional scenarios where it might be useful to run tests against earlier releases:\r\n\r\n* creating a wallet with #11403's segwit implementation, copying it to an older node and making sure the user didn't lose any funds (although this PR doesn't support `v0.15.1`)\r\n* future consensus changes\r\n* P2P changes (e.g. to make sure we don't accidentally ban old nodes)\r\n",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/42",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/42",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/42/labels",
            "id": 4116761,
            "node_id": "MDk6TWlsZXN0b25lNDExNjc2MQ==",
            "number": 42,
            "state": "closed",
            "title": "0.20.0",
            "description": "",
            "creator": {
              "login": "MarcoFalke",
              "id": 6399679,
              "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/MarcoFalke",
              "html_url": "https://github.com/MarcoFalke",
              "followers_url": "https://api.github.com/users/MarcoFalke/followers",
              "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
              "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
              "repos_url": "https://api.github.com/users/MarcoFalke/repos",
              "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 91,
            "created_at": "2019-03-06T20:02:40Z",
            "updated_at": "2020-06-02T07:55:47Z",
            "closed_at": "2020-06-02T07:55:47Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 52,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12134",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/12134",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/12134.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/12134.patch"
          },
          "closed_at": "2020-02-12T14:24:58Z",
          "created_at": "2018-01-09T19:35:58Z",
          "updated_at": "2022-02-15T10:27:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 584834871,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU4NDgzNDg3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/584834871",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-11T20:26:48Z",
      "updated_at": "2020-02-11T20:27:33Z",
      "author_association": "MEMBER",
      "body": "Tested ACK 891b0ee. Thanks for adding all the clarifications and `scriptpubkeyman_tests`.\r\n\r\nSo IIUC the reason we didn't see addresses added with `addmultisigaddress` in older wallets, is that `AddAndGetMultisigDestination` calls `AddAndGetDestinationForScript` which in turn called `AddCScript` on the multisig p2sh script, but _not the public keys and private keys_. Without those keys it's considered `ISMINE_NO`. When `CanProvide` looks at the P2SH address, it calls `IsMine` which calls `IsMineInner` with `recurse_scripthash = true`. Starting at the TOP level `IsMineInner` it identifies the address as `TX_SCRIPTHASH`. It would then try to find the script and run it through `IsMineInner` at the `IsMineSigVersion::P2SH` level. There it would be recognised as a `TX_MULTISIG`, which requires _all_ (private) keys, but we have none (or maybe one in a more realistic wallet).\r\n\r\nI'm still not entirely clear what the workaround in 4a7e43e8460127a40a7895519587399feff3b682 did other than \"pass the tests\", but it clearly doesn't solve the above, since it still doesn't add (private) keys.\r\n\r\nIn this PR `CanProvide` uses `recurse_scripthash = false` in `IsMineInner`, and we modified that to consider a `TX_SCRIPTHASH` or `TX_WITNESS_V0_SCRIPTHASH` to be `SPENDABLE`.\r\n\r\nMeanwhile the RPC uses `pwallet->IsMine(dest)` which uses the original \"need all keys\" behaviour under `recurse_scripthash = true`. So we slightly expand what's covered by `CanProvide` without adding stuff to the wallet.\r\n\r\n@sipa does this many any sense?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18067#issuecomment-584834871",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18067"
    },
    {
      "event": "mentioned",
      "id": 3028096951,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzAyODA5Njk1MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3028096951",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-11T20:26:48Z"
    },
    {
      "event": "subscribed",
      "id": 3028096958,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDMwMjgwOTY5NTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3028096958",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-11T20:26:48Z"
    },
    {
      "event": "commented",
      "id": 585227568,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTIyNzU2OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/585227568",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-12T14:21:12Z",
      "updated_at": "2020-02-12T14:21:12Z",
      "author_association": "MEMBER",
      "body": "Would be nice to rebase and cherry-pick Sjors@bacf559 into this",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18067#issuecomment-585227568",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18067"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMDVmOGE5MmNjYjViYzEwYzhkYWExMDZkNzVlMWMyMTM5MDQ2MWQz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/005f8a92ccb5bc10c8daa106d75e1c21390461d3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/005f8a92ccb5bc10c8daa106d75e1c21390461d3",
      "tree": {
        "sha": "e31c354d46ed2095e63202a96bbedb29a5b34d6d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e31c354d46ed2095e63202a96bbedb29a5b34d6d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2bdc476d4d23256d8396bb9051a511f540d87392",
          "sha": "2bdc476d4d23256d8396bb9051a511f540d87392",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2bdc476d4d23256d8396bb9051a511f540d87392"
        }
      ],
      "message": "wallet: Improve LegacyScriptPubKeyMan::CanProvide script recognition\n\nMake LegacyScriptPubKeyMan::CanProvide method able to recognize p2sh scripts\nwhen the redeem script is present in the mapScripts map without the p2sh script\nalso having to be added to the mapScripts map. This restores behavior prior to\nhttps://github.com/bitcoin/bitcoin/pull/17261, which I think broke backwards\ncompatibility with old wallet files by no longer treating addresses created by\n`addmultisigaddress` calls before #17261 as solvable.\n\nThe reason why tests didn't fail with the CanProvide implementation in #17261\nis because of a workaround added in 4a7e43e8460127a40a7895519587399feff3b682\n\"Store p2sh scripts in AddAndGetDestinationForScript\", which masked the problem\nfor new `addmultisigaddress` RPC calls without fixing it for multisig addresses\nalready created in old wallet files.\n\nThis change adds a lot of comments and allows reverting commit\n4a7e43e8460127a40a7895519587399feff3b682 \"Store p2sh scripts in\nAddAndGetDestinationForScript\", so the AddAndGetDestinationForScript() function,\nCanProvide() method, and mapScripts map should all be more comprehensible",
      "committer": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2020-02-12T16:48:30Z"
      },
      "author": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2020-02-04T22:24:48Z"
      },
      "sha": "005f8a92ccb5bc10c8daa106d75e1c21390461d3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplYjdkOGE1YjA3ZTg5MTMzYTVmYjQ2NWFkMWI3OTMzNjJlNzQzOWY3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eb7d8a5b07e89133a5fb465ad1b793362e7439f7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/eb7d8a5b07e89133a5fb465ad1b793362e7439f7",
      "tree": {
        "sha": "fbde53988414f0a6dba330ee520e307f256ecef0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fbde53988414f0a6dba330ee520e307f256ecef0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/005f8a92ccb5bc10c8daa106d75e1c21390461d3",
          "sha": "005f8a92ccb5bc10c8daa106d75e1c21390461d3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/005f8a92ccb5bc10c8daa106d75e1c21390461d3"
        }
      ],
      "message": "[test] check for addmultisigaddress regression",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2020-02-12T16:48:30Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2020-02-11T18:59:24Z"
      },
      "sha": "eb7d8a5b07e89133a5fb465ad1b793362e7439f7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzphMzA0YTM2MzJmMDQzN2Y0ZDBmMDQ1ODlhMjIwMGUyZGE5MTYyNGE3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a304a3632f0437f4d0f04589a2200e2da91624a7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a304a3632f0437f4d0f04589a2200e2da91624a7",
      "tree": {
        "sha": "8174dc5ca5461d09b0147187d0952b7e55b54c7f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8174dc5ca5461d09b0147187d0952b7e55b54c7f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eb7d8a5b07e89133a5fb465ad1b793362e7439f7",
          "sha": "eb7d8a5b07e89133a5fb465ad1b793362e7439f7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/eb7d8a5b07e89133a5fb465ad1b793362e7439f7"
        }
      ],
      "message": "Revert \"Store p2sh scripts in AddAndGetDestinationForScript\"\n\nThis reverts commit 4a7e43e8460127a40a7895519587399feff3b682.",
      "committer": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2020-02-12T16:48:30Z"
      },
      "author": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2020-02-04T22:27:41Z"
      },
      "sha": "a304a3632f0437f4d0f04589a2200e2da91624a7"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3031915209,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzAzMTkxNTIwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3031915209",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-12T18:19:15Z"
    },
    {
      "event": "commented",
      "id": 585355711,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTM1NTcxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/585355711",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-12T18:39:58Z",
      "updated_at": "2020-02-12T18:39:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 891b0ee0167dbc7c3d149da92bf987e18d383fc2 -> a304a3632f0437f4d0f04589a2200e2da91624a7 ([`pr/provide.1`](https://github.com/ryanofsky/bitcoin/commits/pr/provide.1) -> [`pr/provide.2`](https://github.com/ryanofsky/bitcoin/commits/pr/provide.2), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/provide.1-rebase..pr/provide.2)) on top of #12134, also editing the mapScripts comment and cherry-picking Sjors' test commit\r\n\r\nThank you Sjors for the great test case and bug description in https://github.com/bitcoin/bitcoin/pull/18067#issuecomment-584834871! I'm really glad to see the test framework in #12134 merged, too.\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/18067#issuecomment-584834871\r\n> I'm still not entirely clear what the workaround in [4a7e43e](https://github.com/bitcoin/bitcoin/commit/4a7e43e8460127a40a7895519587399feff3b682) did other than \"pass the tests\", but it clearly doesn't solve the above, since it still doesn't add (private) keys.\r\n\r\nThe reason why the workaround in 4a7e43e8460127a40a7895519587399feff3b682 was able to mask the problem is because of this condition in `LegacyScriptPubKeyMan::CanProvide`:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/2bdc476d4d23256d8396bb9051a511f540d87392/src/wallet/scriptpubkeyman.cpp#L482-L484\r\n\r\nThe first commit in this PR drops this condition so it is breaking the workaround at the same time as making the workaround unnecessary by fixing the bug.\r\n\r\nI was a little on the fence about whether to remove this condition, but I think it's better not to have it, so `CanProvide` just wraps the `IsMine` and `ProduceSignature` code instead of trying to be its own third IsMine implementation.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18067#issuecomment-585355711",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18067"
    },
    {
      "event": "commented",
      "id": 585388656,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTM4ODY1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/585388656",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-12T19:54:43Z",
      "updated_at": "2020-02-12T19:54:43Z",
      "author_association": "MEMBER",
      "body": "re-ACK a304a3632f0437f4d0f04589a2200e2da91624a7 (rebase, slight text changes and my test)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18067#issuecomment-585388656",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18067"
    },
    {
      "event": "commented",
      "id": 585400282,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTQwMDI4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/585400282",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-12T20:23:10Z",
      "updated_at": "2020-02-12T20:23:10Z",
      "author_association": "MEMBER",
      "body": "re-ACK a304a3632f0437f4d0f04589a2200e2da91624a7",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18067#issuecomment-585400282",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18067"
    },
    {
      "event": "reviewed",
      "id": 360159476,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwMTU5NDc2",
      "url": null,
      "actor": null,
      "commit_id": "a304a3632f0437f4d0f04589a2200e2da91624a7",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "utACK a304a3632f0437f4d0f04589a2200e2da91624a7",
      "user": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18067#pullrequestreview-360159476",
      "submitted_at": "2020-02-18T08:54:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18067"
    },
    {
      "event": "referenced",
      "id": 3049908205,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMwNDk5MDgyMDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3049908205",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "68e841e0af223a220d1f037e4c5680c1b228aa3e",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/68e841e0af223a220d1f037e4c5680c1b228aa3e",
      "created_at": "2020-02-19T01:29:16Z"
    },
    {
      "event": "merged",
      "id": 3049909106,
      "node_id": "MDExOk1lcmdlZEV2ZW50MzA0OTkwOTEwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3049909106",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a304a3632f0437f4d0f04589a2200e2da91624a7",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a304a3632f0437f4d0f04589a2200e2da91624a7",
      "created_at": "2020-02-19T01:29:30Z"
    },
    {
      "event": "closed",
      "id": 3049909117,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzA0OTkwOTExNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3049909117",
      "actor": {
        "login": "meshcollider",
        "id": 3211283,
        "node_id": "MDQ6VXNlcjMyMTEyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3211283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/meshcollider",
        "html_url": "https://github.com/meshcollider",
        "followers_url": "https://api.github.com/users/meshcollider/followers",
        "following_url": "https://api.github.com/users/meshcollider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/meshcollider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/meshcollider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
        "organizations_url": "https://api.github.com/users/meshcollider/orgs",
        "repos_url": "https://api.github.com/users/meshcollider/repos",
        "events_url": "https://api.github.com/users/meshcollider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/meshcollider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-02-19T01:29:30Z"
    },
    {
      "event": "referenced",
      "id": 3050102857,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDMwNTAxMDI4NTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3050102857",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3a89bee2596bbcf12197f94a64faf969defbd919",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/3a89bee2596bbcf12197f94a64faf969defbd919",
      "created_at": "2020-02-19T03:15:29Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-03-02T19:57:09Z",
      "updated_at": "2020-03-02T19:57:09Z",
      "source": {
        "issue": {
          "id": 573694249,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzgyMTU0ODQz",
          "url": "https://api.github.com/repos/bitcoin-core/HWI/issues/311",
          "repository_url": "https://api.github.com/repos/bitcoin-core/HWI",
          "labels_url": "https://api.github.com/repos/bitcoin-core/HWI/issues/311/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/HWI/issues/311/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/HWI/issues/311/events",
          "html_url": "https://github.com/bitcoin-core/HWI/pull/311",
          "number": 311,
          "state": "closed",
          "state_reason": null,
          "title": "Update firmware build scripts and tests to work with new firmwares",
          "body": "For the past 2 weeks, travis has been failing because hardware wallet vendors have been updating their firmware (and emulators) in a way that was incompatible with the HWI tests. I've finally gotten around to fixing that.\r\n\r\nThings that were updated:\r\n* Keepkey build script. They switched to Python 3 and require a newer version of nanopb. Some other build commands had to be modified.\r\n* Trezor 1 build script. `script/setup` needs to be run in the pipenv.\r\n* Trezor T master branch incompatibility. Trezor T has made some major change that makes HWI incompatible with their current master branch (and probably future firmware versions too). For now, we checkout the 2.2.0 (latest as of this PR) firmware for testing.\r\n* Speculos command line arguments. Speculos changed their command line argument names.\r\n* Speculos patched to just do the key presses internally. Instead of having us to run another thread to send the correct key presses at the right time, we modify speculos to do that itself.\r\n* Coldcard command line arguments. Coldcard changed some command line argument names.\r\n* Some ismine thing is \"broken\" in Core, added a workaround for that.\r\n* Each devices tests are run with their own test runner. Global emulators will only be run for their device's tests.\r\n* MacOS build will use travis' defaul xcode version so that we don't run into issues with it being outdated and no longer supported by travis",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/HWI/pulls/311",
            "html_url": "https://github.com/bitcoin-core/HWI/pull/311",
            "diff_url": "https://github.com/bitcoin-core/HWI/pull/311.diff",
            "patch_url": "https://github.com/bitcoin-core/HWI/pull/311.patch"
          },
          "closed_at": "2020-03-19T23:45:10Z",
          "created_at": "2020-03-02T03:35:46Z",
          "updated_at": "2020-03-26T21:11:57Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "MarkLTZ",
        "id": 43173987,
        "node_id": "MDQ6VXNlcjQzMTczOTg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/43173987?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarkLTZ",
        "html_url": "https://github.com/MarkLTZ",
        "followers_url": "https://api.github.com/users/MarkLTZ/followers",
        "following_url": "https://api.github.com/users/MarkLTZ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarkLTZ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarkLTZ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarkLTZ/subscriptions",
        "organizations_url": "https://api.github.com/users/MarkLTZ/orgs",
        "repos_url": "https://api.github.com/users/MarkLTZ/repos",
        "events_url": "https://api.github.com/users/MarkLTZ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarkLTZ/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-04T12:11:56Z",
      "updated_at": "2020-04-04T12:11:56Z",
      "source": {
        "issue": {
          "id": 593801920,
          "node_id": "MDU6SXNzdWU1OTM4MDE5MjA=",
          "url": "https://api.github.com/repos/litecoinz-core/litecoinz/issues/14",
          "repository_url": "https://api.github.com/repos/litecoinz-core/litecoinz",
          "labels_url": "https://api.github.com/repos/litecoinz-core/litecoinz/issues/14/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/litecoinz-core/litecoinz/issues/14/comments",
          "events_url": "https://api.github.com/repos/litecoinz-core/litecoinz/issues/14/events",
          "html_url": "https://github.com/litecoinz-core/litecoinz/issues/14",
          "number": 14,
          "state": "closed",
          "state_reason": "completed",
          "title": "Bitcoin PR tracking",
          "body": "The main purpose of this issue is to keep track of Pull Requests on Bitcoin since version 0.19.1 identifying those which make a porting LitecoinZ.",
          "user": {
            "login": "MarkLTZ",
            "id": 43173987,
            "node_id": "MDQ6VXNlcjQzMTczOTg3",
            "avatar_url": "https://avatars.githubusercontent.com/u/43173987?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarkLTZ",
            "html_url": "https://github.com/MarkLTZ",
            "followers_url": "https://api.github.com/users/MarkLTZ/followers",
            "following_url": "https://api.github.com/users/MarkLTZ/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarkLTZ/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarkLTZ/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarkLTZ/subscriptions",
            "organizations_url": "https://api.github.com/users/MarkLTZ/orgs",
            "repos_url": "https://api.github.com/users/MarkLTZ/repos",
            "events_url": "https://api.github.com/users/MarkLTZ/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarkLTZ/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 1680652548,
              "node_id": "MDU6TGFiZWwxNjgwNjUyNTQ4",
              "url": "https://api.github.com/repos/litecoinz-core/litecoinz/labels/enhancement",
              "name": "enhancement",
              "description": "New feature or request",
              "color": "a2eeef",
              "default": true
            },
            {
              "id": 1680652550,
              "node_id": "MDU6TGFiZWwxNjgwNjUyNTUw",
              "url": "https://api.github.com/repos/litecoinz-core/litecoinz/labels/help%20wanted",
              "name": "help wanted",
              "description": "Extra attention is needed",
              "color": "008672",
              "default": true
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "milestone": {
            "url": "https://api.github.com/repos/litecoinz-core/litecoinz/milestones/5",
            "html_url": "https://github.com/litecoinz-core/litecoinz/milestone/5",
            "labels_url": "https://api.github.com/repos/litecoinz-core/litecoinz/milestones/5/labels",
            "id": 6207680,
            "node_id": "MDk6TWlsZXN0b25lNjIwNzY4MA==",
            "number": 5,
            "state": "closed",
            "title": "v3.0.0",
            "description": "",
            "creator": {
              "login": "MarkLTZ",
              "id": 43173987,
              "node_id": "MDQ6VXNlcjQzMTczOTg3",
              "avatar_url": "https://avatars.githubusercontent.com/u/43173987?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/MarkLTZ",
              "html_url": "https://github.com/MarkLTZ",
              "followers_url": "https://api.github.com/users/MarkLTZ/followers",
              "following_url": "https://api.github.com/users/MarkLTZ/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/MarkLTZ/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/MarkLTZ/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/MarkLTZ/subscriptions",
              "organizations_url": "https://api.github.com/users/MarkLTZ/orgs",
              "repos_url": "https://api.github.com/users/MarkLTZ/repos",
              "events_url": "https://api.github.com/users/MarkLTZ/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/MarkLTZ/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 26,
            "created_at": "2020-12-13T12:46:49Z",
            "updated_at": "2020-12-13T12:56:25Z",
            "closed_at": "2020-12-13T12:54:02Z"
          },
          "locked": false,
          "comments": 10,
          "closed_at": "2020-12-13T12:56:10Z",
          "created_at": "2020-04-04T11:24:26Z",
          "updated_at": "2020-12-13T13:34:11Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 3980858793,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM5ODA4NTg3OTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3980858793",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "93fde6adc936a5e222a069a23da5834ed6fdde81",
      "commit_url": "https://api.github.com/repos/syscoin-core/syscoin/commits/93fde6adc936a5e222a069a23da5834ed6fdde81",
      "created_at": "2020-11-10T20:39:50Z"
    },
    {
      "event": "referenced",
      "id": 4280458608,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQyODA0NTg2MDg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4280458608",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "20fe6bd3a7b91913b0f10c1b2d818b3d2b368580",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/20fe6bd3a7b91913b0f10c1b2d818b3d2b368580",
      "created_at": "2021-02-02T16:59:16Z"
    },
    {
      "event": "locked",
      "id": 6073972483,
      "node_id": "LOE_lADOABII584hYUpTzwAAAAFqCXcD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6073972483",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T10:58:02Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": []
}