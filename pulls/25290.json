{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
    "id": 959800944,
    "node_id": "PR_kwDOABII5845NWZw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/25290",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/25290.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/25290.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/d1684beabe5b738c2cc83de83e1aaef11a761b69",
    "number": 25290,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "[kernel 3a/n] Decouple `CTxMemPool` from `ArgsManager`",
    "user": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is part of the `libbitcoinkernel` project: #24303, https://github.com/bitcoin/bitcoin/projects/18\r\n\r\n-----\r\n\r\nAs mentioned in the Stage 1 Step 2 description of [the `libbitcoinkernel` project](https://github.com/bitcoin/bitcoin/issues/24303), `ArgsManager` will not be part of `libbitcoinkernel`. Therefore, it is important that we remove any dependence on `ArgsManager` by code that will be part of `libbitcoinkernel`. This is the first in a series of PRs aiming to achieve this.\r\n\r\nThis PR removes `CTxMemPool+MempoolAccept`'s dependency on `ArgsManager` by introducing a `CTxMemPool::Options` struct, which is used to specify `CTxMemPool`'s various options at construction time.\r\n\r\nThese options are:\r\n- `-maxmempool` -> `CTxMemPool::Options::max_size`\r\n- `-mempoolexpiry` -> `CTxMemPool::Options::expiry`\r\n- `-limitancestorcount` -> `CTxMemPool::Options::limits::ancestor_count`\r\n- `-limitancestorsize` -> `CTxMemPool::Options::limits::ancestor_size`\r\n- `-limitdescendantcount` -> `CTxMemPool::Options::limits::descendant_count`\r\n- `-limitdescendantsize` -> `CTxMemPool::Options::limits::descendant_size`\r\n\r\nMore context can be gleaned from the commit messages. The important commits are:\r\n\r\n- 56eb479ded8bfb2ef635bb6f3b484f9d5952c70d \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\"\r\n- a1e08b70f3068f4e8def1c630d8f50cd54da7832 \"mempool: Pass in -maxmempool instead of referencing gArgs\"\r\n- 6f4bf3ede5812b374828f08fc728ceded2f10024 \"mempool: Pass in -mempoolexpiry instead of referencing gArgs\"\r\n- 5958a7fe4806599fc620ee8c1a881ca10fa2dd16 \"mempool: Introduce (still-unused) MemPoolLimits\"\r\n\r\nReviewers: Help needed in the following commits (see commit messages):\r\n- a1e08b70f3068f4e8def1c630d8f50cd54da7832 \"mempool: Pass in -maxmempool instead of referencing gArgs\"\r\n- 0695081a797e9a5d7787b78b0f8289dafcc6bff7 \"node/ifaces: Use existing MemPoolLimits\"\r\n\r\nNote to Reviewers: There are perhaps an infinite number of ways to architect `CTxMemPool::Options`, the current one tries to keep it simple, usable, and flexible. I hope we don't spend too much time arguing over the design here since that's not the point. In the case that you're 100% certain that a different design is strictly better than this one in every regard, please show us a fully-implemented branch.\r\n\r\n-----\r\n\r\nTODO:\r\n- [x] Use the more ergonomic `CTxMemPool::Options` where appropriate\r\n- [x] Doxygen comments for `ApplyArgsManOptions`, `MemPoolOptions`\r\n\r\n-----\r\n\r\nQuestions for Reviewers:\r\n1. Should we use `std::chrono::seconds` for `CTxMemPool::Options::expiry` and `CTxMemPool::m_expiry` instead of an `int64_t`? Something else? (`std::chrono::hours`?)\r\n2. Should I merge `CTxMemPool::Limits` inside `CTxMemPool::Options`?\r\n",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "created_at": "2022-06-07T01:59:02Z",
    "updated_at": "2024-01-17T12:25:29Z",
    "closed_at": "2022-06-29T07:17:19Z",
    "mergeable_state": "unknown",
    "merged_at": "2022-06-29T07:17:19Z",
    "merge_commit_sha": "e4e201dfd9a9dbd8e22cac688dbbde16234cd937",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "dongcarl:2022-02-libbitcoinkernel-argsman-mempool",
      "ref": "2022-02-libbitcoinkernel-argsman-mempool",
      "sha": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 97671618,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NzY3MTYxOA==",
        "name": "bitcoin",
        "full_name": "dongcarl/bitcoin",
        "owner": {
          "login": "dongcarl",
          "id": 3445290,
          "node_id": "MDQ6VXNlcjM0NDUyOTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/dongcarl",
          "html_url": "https://github.com/dongcarl",
          "followers_url": "https://api.github.com/users/dongcarl/followers",
          "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
          "organizations_url": "https://api.github.com/users/dongcarl/orgs",
          "repos_url": "https://api.github.com/users/dongcarl/repos",
          "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/dongcarl/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/dongcarl/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/dongcarl/bitcoin",
        "archive_url": "https://api.github.com/repos/dongcarl/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/dongcarl/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/dongcarl/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/dongcarl/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/dongcarl/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/dongcarl/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/dongcarl/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/dongcarl/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/dongcarl/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/dongcarl/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/dongcarl/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/dongcarl/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/dongcarl/bitcoin/events",
        "forks_url": "https://api.github.com/repos/dongcarl/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/dongcarl/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/dongcarl/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/dongcarl/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/dongcarl/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/dongcarl/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/dongcarl/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/dongcarl/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/dongcarl/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/dongcarl/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/dongcarl/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/dongcarl/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/dongcarl/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/dongcarl/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/dongcarl/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/dongcarl/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:dongcarl/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/dongcarl/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/dongcarl/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/dongcarl/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/dongcarl/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/dongcarl/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/dongcarl/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/dongcarl/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/dongcarl/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/dongcarl/bitcoin/hooks",
        "svn_url": "https://github.com/dongcarl/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 204504,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-05-28T17:13:06Z",
        "created_at": "2017-07-19T04:07:18Z",
        "updated_at": "2022-06-03T10:08:14Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "480d8069d7da954301fbb5c96b766e91b139fe5b",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36525,
        "stargazers_count": 73379,
        "watchers_count": 73379,
        "size": 247622,
        "default_branch": "master",
        "open_issues_count": 686,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-01-17T12:57:14Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-01-17T12:19:10Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 397,
    "deletions": 117,
    "changed_files": 31,
    "commits": 16,
    "review_comments": 141,
    "comments": 16
  },
  "events": [
    {
      "event": "head_ref_force_pushed",
      "id": 6757289989,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGSxBAF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6757289989",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T02:07:19Z"
    },
    {
      "event": "labeled",
      "id": 6757311260,
      "node_id": "LE_lADOABII585LQhlPzwAAAAGSxGMc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6757311260",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T02:13:29Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "commented",
      "id": 1148365806,
      "node_id": "IC_kwDOABII585Ecqvu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1148365806",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T08:32:59Z",
      "updated_at": "2022-06-27T17:12:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25386](https://github.com/bitcoin/bitcoin/pull/25386) (refactor: Extract MIB_BYTES constant for init.cpp by Empact)\n* [#25308](https://github.com/bitcoin/bitcoin/pull/25308) (refactor: Reduce number of LoadChainstate parameters and return values by ryanofsky)\n* [#25285](https://github.com/bitcoin/bitcoin/pull/25285) (Add AutoFile without ser-type and ser-version and use it where possible by MarcoFalke)\n* [#25193](https://github.com/bitcoin/bitcoin/pull/25193) (indexes: Read the locator's top block during init, allow interaction with reindex-chainstate by mzumsande)\n* [#24513](https://github.com/bitcoin/bitcoin/pull/24513) (CChainState -> Chainstate by jamesob)\n* [#24158](https://github.com/bitcoin/bitcoin/pull/24158) (Optimize Mempool Reorg logic using Epochs, improving memory usage and runtime. by JeremyRubin)\n* [#23443](https://github.com/bitcoin/bitcoin/pull/23443) (p2p: Erlay support signaling by naumenkogs)\n* [#13990](https://github.com/bitcoin/bitcoin/pull/13990) (Allow fee estimation to work with lower fees by ajtowns)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1148365806",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T09:00:26Z",
      "updated_at": "2022-06-07T09:00:26Z",
      "source": {
        "issue": {
          "id": 1262048674,
          "node_id": "PR_kwDOABII5845LYad",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25285",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25285/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25285/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25285/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25285",
          "number": 25285,
          "state": "closed",
          "state_reason": null,
          "title": "Add AutoFile without ser-type and ser-version and use it where possible",
          "body": "This was done in the context of https://github.com/bitcoin/bitcoin/pull/25284 , but I think it also makes sense standalone.\r\n\r\nThe basic idea is that serialization type should not be initialized when it is not needed. Same for the serialization version.\r\n\r\nSo do this here for `AutoFile`. `CAutoFile` remains in places where it is not yet possible.",
          "user": {
            "login": "maflcko",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maflcko",
            "html_url": "https://github.com/maflcko",
            "followers_url": "https://api.github.com/users/maflcko/followers",
            "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
            "organizations_url": "https://api.github.com/users/maflcko/orgs",
            "repos_url": "https://api.github.com/users/maflcko/repos",
            "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/maflcko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25285",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25285",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25285.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25285.patch"
          },
          "closed_at": "2022-07-20T08:32:32Z",
          "created_at": "2022-06-06T16:04:53Z",
          "updated_at": "2023-07-20T10:13:45Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T10:09:21Z",
      "updated_at": "2022-06-07T10:09:21Z",
      "source": {
        "issue": {
          "id": 1253844234,
          "node_id": "PR_kwDOABII5844vZis",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25254",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25254/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25254/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25254/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25254",
          "number": 25254,
          "state": "closed",
          "state_reason": null,
          "title": "Move minRelayTxFee to policy/settings",
          "body": "Seems a bit confusing to put policy stuff into validation, so fix that.\r\n\r\nAlso fix includes via `iwyu`.",
          "user": {
            "login": "maflcko",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maflcko",
            "html_url": "https://github.com/maflcko",
            "followers_url": "https://api.github.com/users/maflcko/followers",
            "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
            "organizations_url": "https://api.github.com/users/maflcko/orgs",
            "repos_url": "https://api.github.com/users/maflcko/repos",
            "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/maflcko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25254",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25254",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25254.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25254.patch"
          },
          "closed_at": "2022-06-07T09:34:24Z",
          "created_at": "2022-05-31T13:08:29Z",
          "updated_at": "2023-06-07T10:05:15Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 6760221182,
      "node_id": "LE_lADOABII585LQhlPzwAAAAGS8Mn-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6760221182",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T11:00:18Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T12:44:14Z",
      "updated_at": "2022-06-07T12:44:14Z",
      "source": {
        "issue": {
          "id": 1227937592,
          "node_id": "PR_kwDOABII5843az-B",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25077",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25077/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25077/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25077/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25077",
          "number": 25077,
          "state": "closed",
          "state_reason": null,
          "title": "Fix chain tip data race and corrupt rest response",
          "body": "This fixes two issues:\r\n\r\n* A data race in `ActiveChain`, which returns a reference to the chain (a `std::vector`), which is not thread safe. See also below traceback.\r\n* A corrupt rest response, which returns a blockheight and blockhash, which are unrelated to each other and to the result, as the chain might advance between each call without cs_main held.\r\n\r\nThe issues are fixed by taking cs_main and holding it for the required time.\r\n\r\n\r\n\r\n```\r\n==================\r\nWARNING: ThreadSanitizer: data race (pid=32335)\r\n  Write of size 8 at 0x7b3c000008f0 by thread T22 (mutexes: write M131626, write M151, write M131553):\r\n    #0 std::__1::enable_if<(is_move_constructible<CBlockIndex**>::value) && (is_move_assignable<CBlockIndex**>::value), void>::type std::__1::swap<CBlockIndex**>(CBlockIndex**&, CBlockIndex**&) /usr/lib/llvm-13/bin/../include/c++/v1/__utility/swap.h:39:7 (bitcoind+0x501239)\r\n    #1 std::__1::vector<CBlockIndex*, std::__1::allocator<CBlockIndex*> >::__swap_out_circular_buffer(std::__1::__split_buffer<CBlockIndex*, std::__1::allocator<CBlockIndex*>&>&) /usr/lib/llvm-13/bin/../include/c++/v1/vector:977:5 (bitcoind+0x501239)\r\n    #2 std::__1::vector<CBlockIndex*, std::__1::allocator<CBlockIndex*> >::__append(unsigned long) /usr/lib/llvm-13/bin/../include/c++/v1/vector:1117:9 (bitcoind+0x501239)\r\n    #3 std::__1::vector<CBlockIndex*, std::__1::allocator<CBlockIndex*> >::resize(unsigned long) /usr/lib/llvm-13/bin/../include/c++/v1/vector:2046:15 (bitcoind+0x4ffe29)\r\n    #4 CChain::SetTip(CBlockIndex*) src/chain.cpp:19:12 (bitcoind+0x4ffe29)\r\n    #5 CChainState::ConnectTip(BlockValidationState&, CBlockIndex*, std::__1::shared_ptr<CBlock const> const&, ConnectTrace&, DisconnectedBlockTransactions&) src/validation.cpp:2748:13 (bitcoind+0x475d00)\r\n    #6 CChainState::ActivateBestChainStep(BlockValidationState&, CBlockIndex*, std::__1::shared_ptr<CBlock const> const&, bool&, ConnectTrace&) src/validation.cpp:2884:18 (bitcoind+0x47739e)\r\n    #7 CChainState::ActivateBestChain(BlockValidationState&, std::__1::shared_ptr<CBlock const>) src/validation.cpp:3011:22 (bitcoind+0x477baf)\r\n    #8 node::ThreadImport(ChainstateManager&, std::__1::vector<fs::path, std::__1::allocator<fs::path> >, ArgsManager const&) src/node/blockstorage.cpp:883:30 (bitcoind+0x23cd74)\r\n    #9 AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7::operator()() const src/init.cpp:1657:9 (bitcoind+0x15863e)\r\n    #10 decltype(static_cast<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&>(fp)()) std::__1::__invoke<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&>(AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&) /usr/lib/llvm-13/bin/../include/c++/v1/type_traits:3918:1 (bitcoind+0x15863e)\r\n    #11 void std::__1::__invoke_void_return_wrapper<void, true>::__call<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&>(AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&) /usr/lib/llvm-13/bin/../include/c++/v1/__functional/invoke.h:61:9 (bitcoind+0x15863e)\r\n    #12 std::__1::__function::__alloc_func<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7, std::__1::allocator<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7>, void ()>::operator()() /usr/lib/llvm-13/bin/../include/c++/v1/__functional/function.h:171:16 (bitcoind+0x15863e)\r\n    #13 std::__1::__function::__func<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7, std::__1::allocator<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7>, void ()>::operator()() /usr/lib/llvm-13/bin/../include/c++/v1/__functional/function.h:345:12 (bitcoind+0x15863e)\r\n    #14 std::__1::__function::__value_func<void ()>::operator()() const /usr/lib/llvm-13/bin/../include/c++/v1/__functional/function.h:498:16 (bitcoind+0x88891f)\r\n    #15 std::__1::function<void ()>::operator()() const /usr/lib/llvm-13/bin/../include/c++/v1/__functional/function.h:1175:12 (bitcoind+0x88891f)\r\n    #16 util::TraceThread(char const*, std::__1::function<void ()>) src/util/thread.cpp:18:9 (bitcoind+0x88891f)\r\n    #17 decltype(static_cast<void (*>(fp)(static_cast<char const*>(fp0), static_cast<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7>(fp0))) std::__1::__invoke<void (*)(char const*, std::__1::function<void ()>), char const*, AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7>(void (*&&)(char const*, std::__1::function<void ()>), char const*&&, AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&&) /usr/lib/llvm-13/bin/../include/c++/v1/type_traits:3918:1 (bitcoind+0x157e6a)\r\n    #18 void std::__1::__thread_execute<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void (*)(char const*, std::__1::function<void ()>), char const*, AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7, 2ul, 3ul>(std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void (*)(char const*, std::__1::function<void ()>), char const*, AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7>&, std::__1::__tuple_indices<2ul, 3ul>) /usr/lib/llvm-13/bin/../include/c++/v1/thread:280:5 (bitcoind+0x157e6a)\r\n    #19 void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void (*)(char const*, std::__1::function<void ()>), char const*, AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7> >(void*) /usr/lib/llvm-13/bin/../include/c++/v1/thread:291:5 (bitcoind+0x157e6a)\r\n  Previous read of size 8 at 0x7b3c000008f0 by main thread:\r\n    #0 std::__1::vector<CBlockIndex*, std::__1::allocator<CBlockIndex*> >::size() const /usr/lib/llvm-13/bin/../include/c++/v1/vector:680:61 (bitcoind+0x15179d)\r\n    #1 CChain::Tip() const src/./chain.h:449:23 (bitcoind+0x15179d)\r\n    #2 ChainstateManager::ActiveTip() const src/./validation.h:927:59 (bitcoind+0x15179d)\r\n    #3 AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*) src/init.cpp:1841:35 (bitcoind+0x15179d)\r\n    #4 AppInit(node::NodeContext&, int, char**) src/bitcoind.cpp:231:43 (bitcoind+0x133fd2)\r\n    #5 main src/bitcoind.cpp:275:13 (bitcoind+0x133fd2)\r\n  Location is heap block of size 232 at 0x7b3c00000870 allocated by main thread:\r\n    #0 operator new(unsigned long) <null> (bitcoind+0x132668)\r\n    #1 ChainstateManager::InitializeChainstate(CTxMemPool*, std::__1::optional<uint256> const&) src/validation.cpp:4851:21 (bitcoind+0x48e26b)\r\n    #2 node::LoadChainstate(bool, ChainstateManager&, CTxMemPool*, bool, Consensus::Params const&, bool, long, long, long, bool, bool, std::__1::function<bool ()>, std::__1::function<void ()>) src/node/chainstate.cpp:31:14 (bitcoind+0x24de07)\r\n    #3 AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*) src/init.cpp:1438:32 (bitcoind+0x14e994)\r\n    #4 AppInit(node::NodeContext&, int, char**) src/bitcoind.cpp:231:43 (bitcoind+0x133fd2)\r\n    #5 main src/bitcoind.cpp:275:13 (bitcoind+0x133fd2)\r\n  Mutex M131626 (0x7b3c00000898) created at:\r\n    #0 pthread_mutex_lock <null> (bitcoind+0xda898)\r\n    #1 std::__1::mutex::lock() <null> (libc++.so.1+0x49f35)\r\n    #2 node::ThreadImport(ChainstateManager&, std::__1::vector<fs::path, std::__1::allocator<fs::path> >, ArgsManager const&) src/node/blockstorage.cpp:883:30 (bitcoind+0x23cd74)\r\n    #3 AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7::operator()() const src/init.cpp:1657:9 (bitcoind+0x15863e)\r\n    #4 decltype(static_cast<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&>(fp)()) std::__1::__invoke<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&>(AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&) /usr/lib/llvm-13/bin/../include/c++/v1/type_traits:3918:1 (bitcoind+0x15863e)\r\n    #5 void std::__1::__invoke_void_return_wrapper<void, true>::__call<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&>(AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&) /usr/lib/llvm-13/bin/../include/c++/v1/__functional/invoke.h:61:9 (bitcoind+0x15863e)\r\n    #6 std::__1::__function::__alloc_func<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7, std::__1::allocator<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7>, void ()>::operator()() /usr/lib/llvm-13/bin/../include/c++/v1/__functional/function.h:171:16 (bitcoind+0x15863e)\r\n    #7 std::__1::__function::__func<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7, std::__1::allocator<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7>, void ()>::operator()() /usr/lib/llvm-13/bin/../include/c++/v1/__functional/function.h:345:12 (bitcoind+0x15863e)\r\n    #8 std::__1::__function::__value_func<void ()>::operator()() const /usr/lib/llvm-13/bin/../include/c++/v1/__functional/function.h:498:16 (bitcoind+0x88891f)\r\n    #9 std::__1::function<void ()>::operator()() const /usr/lib/llvm-13/bin/../include/c++/v1/__functional/function.h:1175:12 (bitcoind+0x88891f)\r\n    #10 util::TraceThread(char const*, std::__1::function<void ()>) src/util/thread.cpp:18:9 (bitcoind+0x88891f)\r\n    #11 decltype(static_cast<void (*>(fp)(static_cast<char const*>(fp0), static_cast<AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7>(fp0))) std::__1::__invoke<void (*)(char const*, std::__1::function<void ()>), char const*, AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7>(void (*&&)(char const*, std::__1::function<void ()>), char const*&&, AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&&) /usr/lib/llvm-13/bin/../include/c++/v1/type_traits:3918:1 (bitcoind+0x157e6a)\r\n    #12 void std::__1::__thread_execute<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void (*)(char const*, std::__1::function<void ()>), char const*, AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7, 2ul, 3ul>(std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void (*)(char const*, std::__1::function<void ()>), char const*, AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7>&, std::__1::__tuple_indices<2ul, 3ul>) /usr/lib/llvm-13/bin/../include/c++/v1/thread:280:5 (bitcoind+0x157e6a)\r\n    #13 void* std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct, std::__1::default_delete<std::__1::__thread_struct> >, void (*)(char const*, std::__1::function<void ()>), char const*, AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7> >(void*) /usr/lib/llvm-13/bin/../include/c++/v1/thread:291:5 (bitcoind+0x157e6a)\r\n  Mutex M151 (0x55aacb8ea030) created at:\r\n    #0 pthread_mutex_init <null> (bitcoind+0xbed2f)\r\n    #1 std::__1::recursive_mutex::recursive_mutex() <null> (libc++.so.1+0x49fb3)\r\n    #2 __libc_start_main <null> (libc.so.6+0x29eba)\r\n  Mutex M131553 (0x7b4c000042e0) created at:\r\n    #0 pthread_mutex_init <null> (bitcoind+0xbed2f)\r\n    #1 std::__1::recursive_mutex::recursive_mutex() <null> (libc++.so.1+0x49fb3)\r\n    #2 std::__1::__unique_if<CTxMemPool>::__unique_single std::__1::make_unique<CTxMemPool, CBlockPolicyEstimator*, int const&>(CBlockPolicyEstimator*&&, int const&) /usr/lib/llvm-13/bin/../include/c++/v1/__memory/unique_ptr.h:728:32 (bitcoind+0x15c81d)\r\n    #3 AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*) src/init.cpp:1426:24 (bitcoind+0x14e7b4)\r\n    #4 AppInit(node::NodeContext&, int, char**) src/bitcoind.cpp:231:43 (bitcoind+0x133fd2)\r\n    #5 main src/bitcoind.cpp:275:13 (bitcoind+0x133fd2)\r\n  Thread T22 'b-loadblk' (tid=32370, running) created by main thread at:\r\n    #0 pthread_create <null> (bitcoind+0xbd5bd)\r\n    #1 std::__1::__libcpp_thread_create(unsigned long*, void* (*)(void*), void*) /usr/lib/llvm-13/bin/../include/c++/v1/__threading_support:443:10 (bitcoind+0x155e06)\r\n    #2 std::__1::thread::thread<void (*)(char const*, std::__1::function<void ()>), char const (&) [8], AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7, void>(void (*&&)(char const*, std::__1::function<void ()>), char const (&) [8], AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)::$_7&&) /usr/lib/llvm-13/bin/../include/c++/v1/thread:307:16 (bitcoind+0x155e06)\r\n    #3 AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*) src/init.cpp:1656:29 (bitcoind+0x150164)\r\n    #4 AppInit(node::NodeContext&, int, char**) src/bitcoind.cpp:231:43 (bitcoind+0x133fd2)\r\n    #5 main src/bitcoind.cpp:275:13 (bitcoind+0x133fd2)\r\nSUMMARY: ThreadSanitizer: data race /usr/lib/llvm-13/bin/../include/c++/v1/__utility/swap.h:39:7 in std::__1::enable_if<(is_move_constructible<CBlockIndex**>::value) && (is_move_assignable<CBlockIndex**>::value), void>::type std::__1::swap<CBlockIndex**>(CBlockIndex**&, CBlockIndex**&)\r\n==================\r\n```\r\n\r\nFrom https://cirrus-ci.com/task/5612886578954240?logs=ci#L4868",
          "user": {
            "login": "maflcko",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maflcko",
            "html_url": "https://github.com/maflcko",
            "followers_url": "https://api.github.com/users/maflcko/followers",
            "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
            "organizations_url": "https://api.github.com/users/maflcko/orgs",
            "repos_url": "https://api.github.com/users/maflcko/repos",
            "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/maflcko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/54",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54/labels",
            "id": 7150037,
            "node_id": "MI_kwDOABII584AbRnV",
            "number": 54,
            "state": "closed",
            "title": "24.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 159,
            "created_at": "2021-09-14T08:27:02Z",
            "updated_at": "2022-11-29T15:44:44Z",
            "closed_at": "2022-11-29T15:44:44Z"
          },
          "locked": false,
          "comments": 16,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25077",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25077",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25077.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25077.patch"
          },
          "closed_at": "2022-08-17T14:04:24Z",
          "created_at": "2022-05-06T14:25:41Z",
          "updated_at": "2023-02-23T17:08:03Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T12:46:58Z",
      "updated_at": "2022-06-07T12:46:58Z",
      "source": {
        "issue": {
          "id": 1227793381,
          "node_id": "PR_kwDOABII5843aWL3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25073",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25073/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25073/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25073/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25073",
          "number": 25073,
          "state": "closed",
          "state_reason": null,
          "title": "test: Cleanup miner_tests",
          "body": "This cleans up the miner tests:\r\n\r\n* Removes duplicate/redundant and thus confusing chainparams object.\r\n* Uses a fresh mempool for each subtest instead of using the \"global\" one from the testing setup. This makes it easier to follow the tests in smaller scopes. Also it makes sure the mempool is truly cleared by reconstructing it. Finally, this removes calls to `clear`, see https://github.com/bitcoin/bitcoin/pull/19909",
          "user": {
            "login": "maflcko",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maflcko",
            "html_url": "https://github.com/maflcko",
            "followers_url": "https://api.github.com/users/maflcko/followers",
            "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
            "organizations_url": "https://api.github.com/users/maflcko/orgs",
            "repos_url": "https://api.github.com/users/maflcko/repos",
            "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/maflcko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25073",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25073",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25073.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25073.patch"
          },
          "closed_at": "2022-10-10T08:46:47Z",
          "created_at": "2022-05-06T12:17:25Z",
          "updated_at": "2023-10-10T12:13:48Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T15:08:51Z",
      "updated_at": "2022-06-07T15:08:51Z",
      "source": {
        "issue": {
          "id": 1164262817,
          "node_id": "PR_kwDOABII5840MF26",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24513",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24513/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24513/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24513/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24513",
          "number": 24513,
          "state": "closed",
          "state_reason": null,
          "title": "CChainState -> Chainstate",
          "body": "Alright alright alright, I know: we hate refactors. We especially hate cosmetic refactors. \r\n\r\nNobody knows better than I that changing broad swaths of code out from under our already-abused collaborators, only to send a cascade of rebase bankruptcies, is annoying at best and sadistic at worst. And for a rename! The indignation!\r\n\r\nBut just for a second, imagine yourself. Programming `bitcoin/bitcoin`, on a sandy beach beneath a lapis lazuli sky. You go to type the name of what is probably the most commonly used data structure in the codebase, and you *only hit shift once*. \r\n\r\nWhat could you do in such a world? You could do anything. [The only limit is yourself.](https://zombo.com/)\r\n\r\n---\r\n\r\nSo maybe you like the idea of this patch but really don't want to deal with rebasing. You're in luck! \r\n\r\nHere're the commands that will bail you out of rebase bankruptcy:\r\n\r\n```sh\r\ngit rebase -i $(git merge-base HEAD master) \\\r\n  -x 'sed -i \"s/CChainState/Chainstate/g\" $(git ls-files | grep -E \".*\\.(py|cpp|h)$\") && git commit --amend --no-edit'\r\n# <commit changed?>\r\ngit add -u && git rebase --continue\r\n```\r\n\r\n---\r\n\r\n~~Anyway I'm not sure how serious I am about this, but I figured it was worth proposing.~~ I have decided I am very serious about this.\r\n\r\nMaybe we can have nice things every once in a while?\r\n",
          "user": {
            "login": "jamesob",
            "id": 73197,
            "node_id": "MDQ6VXNlcjczMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamesob",
            "html_url": "https://github.com/jamesob",
            "followers_url": "https://api.github.com/users/jamesob/followers",
            "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
            "organizations_url": "https://api.github.com/users/jamesob/orgs",
            "repos_url": "https://api.github.com/users/jamesob/repos",
            "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jamesob/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 17,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24513",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24513",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24513.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24513.patch"
          },
          "closed_at": "2022-09-13T14:43:18Z",
          "created_at": "2022-03-09T17:56:35Z",
          "updated_at": "2023-09-13T12:10:43Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T16:23:05Z",
      "updated_at": "2022-06-07T16:23:05Z",
      "source": {
        "issue": {
          "id": 1114557435,
          "node_id": "PR_kwDOABII584xl81H",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24158",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24158/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24158/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24158/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24158",
          "number": 24158,
          "state": "closed",
          "state_reason": null,
          "title": "Optimize Mempool Reorg logic using Epochs, improving memory usage and runtime.",
          "body": "This is a follow up PR to #21464 which improves the memory usage and runtime of the reorg update logic. The main changes are:\r\n\r\n1. Use std::vector<txiter> in cacheMap instead of std::set<txiter> which makes (iirc) entries go from > ~64 bytes to just 8 bytes\r\n2.  Don't look up in cacheMap the updateIt N times, look it up once and directly write the vector with known length (saves resizing)\r\n3. Use epochs to de-duplicate (saves N log N lookups)\r\n4. trimming from setExclude in a hotter loop\r\n\r\n",
          "user": {
            "login": "JeremyRubin",
            "id": 886523,
            "node_id": "MDQ6VXNlcjg4NjUyMw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/886523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JeremyRubin",
            "html_url": "https://github.com/JeremyRubin",
            "followers_url": "https://api.github.com/users/JeremyRubin/followers",
            "following_url": "https://api.github.com/users/JeremyRubin/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/JeremyRubin/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/JeremyRubin/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
            "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
            "repos_url": "https://api.github.com/users/JeremyRubin/repos",
            "events_url": "https://api.github.com/users/JeremyRubin/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24158",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24158",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24158.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24158.patch"
          },
          "closed_at": "2022-10-12T19:02:20Z",
          "created_at": "2022-01-26T02:20:47Z",
          "updated_at": "2023-10-12T12:14:06Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T17:07:45Z",
      "updated_at": "2022-06-07T17:07:45Z",
      "source": {
        "issue": {
          "id": 1092704681,
          "node_id": "PR_kwDOABII584weiJt",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23962",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23962/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23962/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23962/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23962",
          "number": 23962,
          "state": "closed",
          "state_reason": null,
          "title": "Use `int32_t` type for most transaction size/weight values",
          "body": "From bitcoin/bitcoin#23957 which has been incorporated into this PR:\r\n> A file-wide suppression is problematic because it will wave through future violations, potentially bugs.\r\n> \r\n> Fix that by using per-statement casts.\r\n> \r\n> This refactor doesn't change behavior because the now explicit casts were previously done implicitly.\r\n> \r\n> Similar to commit 8b5a4de904b414fb3a818732cd0a2c90b91bc275",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 192202000,
              "node_id": "MDU6TGFiZWwxOTIyMDIwMDA=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Consensus",
              "name": "Consensus",
              "color": "009800",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 35,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23962",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23962",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23962.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23962.patch"
          },
          "closed_at": "2023-06-13T14:37:47Z",
          "created_at": "2022-01-03T17:58:00Z",
          "updated_at": "2023-07-20T13:29:45Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T21:38:21Z",
      "updated_at": "2022-06-07T21:38:21Z",
      "source": {
        "issue": {
          "id": 541348481,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzU2MDE2MTI5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17786",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17786/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17786/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17786/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/17786",
          "number": 17786,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Nuke policy/fees->mempool circular dependencies",
          "body": "This PR:\r\n- gets rid of the `policy/fees` -> `txmempool` -> `policy/fees` circular dependency\r\n- is an alternative to #13949, which nukes only one circular dependency",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 45,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17786",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/17786",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/17786.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/17786.patch"
          },
          "closed_at": "2022-11-19T01:05:22Z",
          "created_at": "2019-12-21T17:08:37Z",
          "updated_at": "2023-11-30T12:20:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6765079187,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGTOuqT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6765079187",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T22:06:45Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T22:07:09Z",
      "updated_at": "2022-06-07T22:07:09Z",
      "source": {
        "issue": {
          "id": 351101488,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjA4Nzc5MDg2",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/13990",
          "number": 13990,
          "state": "closed",
          "state_reason": null,
          "title": "Allow fee estimation to work with lower fees",
          "body": "Changes the minimum bucket for fee estimation from 1000 satoshi per kilobyte to 4 satoshi per kilobyte, and upgrades any saved fee estimation data.",
          "user": {
            "login": "ajtowns",
            "id": 127186,
            "node_id": "MDQ6VXNlcjEyNzE4Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ajtowns",
            "html_url": "https://github.com/ajtowns",
            "followers_url": "https://api.github.com/users/ajtowns/followers",
            "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
            "organizations_url": "https://api.github.com/users/ajtowns/orgs",
            "repos_url": "https://api.github.com/users/ajtowns/repos",
            "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ajtowns/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 749416508,
              "node_id": "MDU6TGFiZWw3NDk0MTY1MDg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Up%20for%20grabs",
              "name": "Up for grabs",
              "color": "99a810",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 27,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/13990",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/13990.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/13990.patch"
          },
          "closed_at": "2023-09-23T16:37:47Z",
          "created_at": "2018-08-16T08:16:00Z",
          "updated_at": "2023-09-23T16:37:47Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6765240304,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGTPV_w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6765240304",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T22:48:08Z"
    },
    {
      "event": "unlabeled",
      "id": 6765395240,
      "node_id": "UNLE_lADOABII585LQhlPzwAAAAGTP70o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6765395240",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-07T23:35:31Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "added_to_project",
      "id": 6765709696,
      "node_id": "ATPE_lADOABII585LQhlPzwAAAAGTRImA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6765709696",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-08T00:52:31Z",
      "project_card": {
        "id": 82934993,
        "url": "https://api.github.com/projects/columns/cards/82934993",
        "project_id": 14269697,
        "project_url": "https://api.github.com/projects/14269697",
        "column_name": "WIP PRs"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-08T01:07:23Z",
      "updated_at": "2022-06-08T01:07:23Z",
      "source": {
        "issue": {
          "id": 1263467803,
          "node_id": "PR_kwDOABII5845QLQr",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25295",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25295/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25295/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25295/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25295",
          "number": 25295,
          "state": "closed",
          "state_reason": null,
          "title": "Move DEFAULT_ANCESTOR_LIMIT to policy/settings",
          "body": "This is a follow up commit from https://github.com/bitcoin/bitcoin/pull/25254#discussion_r890595318\r\n\r\nThis commit moves ancestor limit from validation to policy/settings.",
          "user": {
            "login": "ghost",
            "id": 10137,
            "node_id": "MDQ6VXNlcjEwMTM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ghost",
            "html_url": "https://github.com/ghost",
            "followers_url": "https://api.github.com/users/ghost/followers",
            "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
            "organizations_url": "https://api.github.com/users/ghost/orgs",
            "repos_url": "https://api.github.com/users/ghost/repos",
            "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ghost/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": true,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25295",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25295",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25295.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25295.patch"
          },
          "closed_at": "2022-06-15T08:41:12Z",
          "created_at": "2022-06-07T15:18:05Z",
          "updated_at": "2023-06-16T10:06:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-08T02:49:19Z",
      "updated_at": "2022-06-08T02:49:19Z",
      "source": {
        "issue": {
          "id": 1238159102,
          "node_id": "PR_kwDOABII58437rQt",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25152",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25152/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25152/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25152/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25152",
          "number": 25152,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Split util/system into exception, shell, and fs-specific files",
          "body": "This is an attempt to significantly improve code organization while making changes as simple as possible to review.\r\n\r\nHere I split four files out of `util/system`:\r\n* `util/exception`, holding `PrintExceptionContinue`\r\n* `util/shell`, holding `ShellEscape`, `runCommand`\r\n* `util/fs`, holding various file, folder, and path-specific functions (building on `fs.h` and `filesystem`)\r\n* `util/args`, holding `ArgsManager` and related functions\r\n\r\nThe goal was to minimize review burden, so I made an effort to minimize the diffs and only modify the code when it was easy to confirm that the change would not have negative consequences.\r\n\r\nThat said, sourcing all of the windows-related headers was not straightforward, so I expect I'll need to touch this up to correct any issues there.",
          "user": {
            "login": "Empact",
            "id": 5470,
            "node_id": "MDQ6VXNlcjU0NzA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Empact",
            "html_url": "https://github.com/Empact",
            "followers_url": "https://api.github.com/users/Empact/followers",
            "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
            "organizations_url": "https://api.github.com/users/Empact/orgs",
            "repos_url": "https://api.github.com/users/Empact/repos",
            "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Empact/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25152",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25152",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25152.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25152.patch"
          },
          "closed_at": "2023-03-14T11:37:18Z",
          "created_at": "2022-05-17T06:52:25Z",
          "updated_at": "2023-03-14T11:37:19Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-13T16:17:26Z",
      "updated_at": "2022-06-13T16:17:26Z",
      "source": {
        "issue": {
          "id": 1248756551,
          "node_id": "PR_kwDOABII5844erUO",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25215",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25215/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25215/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25215/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25215",
          "number": 25215,
          "state": "closed",
          "state_reason": null,
          "title": "[kernel 2d/n] Reduce CTxMemPool constructor call sites",
          "body": "This is part of the `libbitcoinkernel` project: #24303, https://github.com/bitcoin/bitcoin/projects/18\r\n\r\nThis PR reduces the number of call sites where we explicitly construct CTxMemPool. This is done in preparation for later PRs which decouple the mempool module from `ArgsManager`, eventually all of libbitcoinkernel will be decoupled from `ArgsManager`.\r\n\r\nThe changes in this PR:\r\n\r\n- Allows us to have less code churn as we modify `CTxMemPool`'s constructor in later PRs\r\n- In many cases, we can make use of existing `CTxMemPool` instances, getting rid of extraneous constructions\r\n- In other cases, we construct a `ChainTestingSetup` and use the `CTxMemPool` there, so that we can rely on the logic in `setup_common` to set things up correctly\r\n\r\n## Notes for Reviewers\r\n\r\n### A note on using existing mempools\r\n\r\nWhen evaluating whether or not it's appropriate to use an existing mempool in a `*TestingSetup` struct, the key is to make sure that the mempool has the same lifetime as the `*TestingSetup` struct.\r\n\r\nExample 1: In [`src/fuzz/tx_pool.cpp`](https://github.com/bitcoin/bitcoin/blob/b4f686952a60bbadc7ed2250651d0d6af0959f4d/src/test/fuzz/tx_pool.cpp), the `TestingSetup` is initialized in `initialize_tx_pool` and lives as a static global, while the `CTxMemPool` is in the `tx_pool_standard` fuzz target, meaning that each time the `tx_pool_standard` fuzz target gets run, a new `CTxMemPool` is created. If we were to use the static global `TestingSetup`'s CTxMemPool we might run into problems since its `CTxMemPool` will carry state between subsequent runs. This is why we don't modify `src/fuzz/tx_pool.cpp` in this PR.\r\n\r\nExample 2: In [`src/bench/mempool_eviction.cpp`](https://github.com/bitcoin/bitcoin/blob/b4f686952a60bbadc7ed2250651d0d6af0959f4d/src/bench/mempool_eviction.cpp), we see that the `TestingSetup` is in the same scope as the constructed `CTxMemPool`, so it is safe to use its `CTxMemPool`.\r\n\r\n### A note on checking `CTxMemPool` ctor call sites\r\n\r\nAfter the \"tree-wide: clang-format CTxMemPool references\" commit, you can find all `CTxMemPool` ctor call sites with the following command:\r\n\r\n```sh\r\ngit grep -E -e 'make_unique<CTxMemPool>' \\\r\n            -e '\\bCTxMemPool\\s+[^({;]+[({]' \\\r\n            -e '\\bCTxMemPool\\s+[^;]+;' \\\r\n            -e '\\bnew\\s+CTxMemPool\\b'\r\n```\r\n\r\nAt the end of the PR, you will find that there are still quite a few call sites that we can seemingly get rid of:\r\n\r\n```sh\r\n$ git grep -E -e 'make_unique<CTxMemPool>' -e '\\bCTxMemPool\\s+[^({;]+[({]' -e '\\bCTxMemPool\\s+[^;]+;' -e '\\bnew\\s+CTxMemPool\\b'\r\n# rearranged for easier explication\r\nsrc/init.cpp:        node.mempool = std::make_unique<CTxMemPool>(node.fee_estimator.get(), mempool_check_ratio);\r\nsrc/test/util/setup_common.cpp:    m_node.mempool = std::make_unique<CTxMemPool>(m_node.fee_estimator.get(), 1);\r\nsrc/rpc/mining.cpp:        CTxMemPool empty_mempool;\r\nsrc/test/util/setup_common.cpp:    CTxMemPool empty_pool;\r\nsrc/bench/mempool_stress.cpp:    CTxMemPool pool;\r\nsrc/bench/mempool_stress.cpp:    CTxMemPool pool;\r\nsrc/test/fuzz/rbf.cpp:    CTxMemPool pool;\r\nsrc/test/fuzz/tx_pool.cpp:    CTxMemPool tx_pool_{/*estimator=*/nullptr, /*check_ratio=*/1};\r\nsrc/test/fuzz/tx_pool.cpp:    CTxMemPool tx_pool_{/*estimator=*/nullptr, /*check_ratio=*/1};\r\nsrc/test/fuzz/validation_load_mempool.cpp:    CTxMemPool pool{};\r\nsrc/txmempool.h:    /** Create a new CTxMemPool.\r\n```\r\nLet's break them down one by one:\r\n\r\n```\r\nsrc/init.cpp:        node.mempool = std::make_unique<CTxMemPool>(node.fee_estimator.get(), mempool_check_ratio);\r\nsrc/test/util/setup_common.cpp:    m_node.mempool = std::make_unique<CTxMemPool>(m_node.fee_estimator.get(), 1);\r\n```\r\n\r\nNecessary\r\n\r\n-----\r\n\r\n```\r\nsrc/rpc/mining.cpp:        CTxMemPool empty_mempool;\r\nsrc/test/util/setup_common.cpp:    CTxMemPool empty_pool;\r\n```\r\n\r\nThese are fixed in #25223 where we stop requiring the `BlockAssembler` to have a `CTxMemPool` if it's not going to consult it anyway (as is the case in these two call sites)\r\n\r\n-----\r\n\r\n```\r\nsrc/bench/mempool_stress.cpp:    CTxMemPool pool;\r\nsrc/bench/mempool_stress.cpp:    CTxMemPool pool;\r\n```\r\n\r\nFixed in #24927.\r\n\r\n-----\r\n\r\n```\r\nsrc/test/fuzz/rbf.cpp:    CTxMemPool pool;\r\nsrc/test/fuzz/tx_pool.cpp:    CTxMemPool tx_pool_{/*estimator=*/nullptr, /*check_ratio=*/1};\r\nsrc/test/fuzz/tx_pool.cpp:    CTxMemPool tx_pool_{/*estimator=*/nullptr, /*check_ratio=*/1};\r\nsrc/test/fuzz/validation_load_mempool.cpp:    CTxMemPool pool{};\r\n```\r\n\r\nThese are all cases where we don't want the `CTxMemPool` state to persist between runs, see the previous section \"A note on using existing mempools\"\r\n\r\n-----\r\n\r\n```\r\nsrc/txmempool.h:    /** Create a new CTxMemPool.\r\n```\r\n\r\nIt's a comment (someone link me to a grep that understands syntax plz thx)",
          "user": {
            "login": "dongcarl",
            "id": 3445290,
            "node_id": "MDQ6VXNlcjM0NDUyOTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dongcarl",
            "html_url": "https://github.com/dongcarl",
            "followers_url": "https://api.github.com/users/dongcarl/followers",
            "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
            "organizations_url": "https://api.github.com/users/dongcarl/orgs",
            "repos_url": "https://api.github.com/users/dongcarl/repos",
            "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dongcarl/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25215",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25215",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25215.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25215.patch"
          },
          "closed_at": "2022-06-16T17:49:52Z",
          "created_at": "2022-05-25T21:31:15Z",
          "updated_at": "2023-06-16T10:06:41Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6798090525,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGVMqEd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6798090525",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-13T17:50:53Z"
    },
    {
      "event": "commented",
      "id": 1154212042,
      "node_id": "IC_kwDOABII585Ey-DK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1154212042",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-13T17:53:22Z",
      "updated_at": "2022-06-13T17:53:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "Pushed 532f83872d3921030fc4240fa8a8c4f6a1aaacf0 -> 4bbc2e0cfc2e395649a20e616648937c81dca377\r\n- Added doxygen comments for `MemPoolOptions`, `MemPoolLimits`, `ApplyArgsManOptions`\r\n- Use `CTxMemPool::{Options,Limits}` instead of `MemPool{Options,Limits}` wherever possible\r\n- Move `ApplyArgsManOptions(const ArgsManager&, MemPoolLimits&)` to an anonymous namespace in  `mempool_args.cpp`",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1154212042",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6798227866,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGVNLma",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6798227866",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-13T18:13:22Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-15T08:40:40Z",
      "updated_at": "2022-06-15T08:40:40Z",
      "source": {
        "issue": {
          "id": 1268757646,
          "node_id": "PR_kwDOABII5845hs79",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25353",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25353/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25353/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25353/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25353",
          "number": 25353,
          "state": "closed",
          "state_reason": null,
          "title": "Add a `-mempoolfullrbf` node setting",
          "body": "This is ready for review.\r\n\r\nRecent discussions among LN devs have brought back on the surface concerns about the security of multi-party funded transactions against pinnings attacks and other mempool-based nuisances. The lack of full-rbf transaction-relay topology connected to miners open the way to cheap and naive DoS against multi-party funded transactions (e.g coinjoins, dual-funded channels, on-chain DLCs, ...) without solutions introducing an overhead cost or centralization vectors afaik . For more details, see [0]. \r\n\r\nThis PR implements a simple `fullrbf` setting, where the node always allows transaction replacement, ignoring BIP125 opt-in flag. The default value of the setting stays **false**, therefore opt-in replacement is still the default Bitcoin Core replacement policy. Contrary to a previous proposal of mine and listening to feedbacks collected since then [1], I think this new setting simply offers more flexibility in a node transaction-relay policy suiting one's application requirements, without arguing a change of the default behavior. \r\n\r\nI [posted](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-June/020557.html) on the ML to invite operators with a bitcoin application sensitive to full-rbf (e.g dual-funded LN channels service providers) or mempool researchers to join a bootstrapped full-rbf activated peers network for experimentation and learning. If people have strong opinions against the existence of such full-rbf transaction-relay network, I'm proposing to express them on the future thread.\r\n\r\n[0] https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-May/003033.html\r\n[1] https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-June/019074.html\r\n\r\nFollow-up suggestions :\r\n- soft-enable opt-in RBF in the wallet : https://github.com/bitcoin/bitcoin/pull/25353#issuecomment-1154918789\r\n- p2p discovery and additional outbound connection to full-rbf peers : https://github.com/bitcoin/bitcoin/pull/25353#issuecomment-1156044401\r\n- follow-ups: https://github.com/bitcoin/bitcoin/pull/25575",
          "user": {
            "login": "ariard",
            "id": 23310655,
            "node_id": "MDQ6VXNlcjIzMzEwNjU1",
            "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ariard",
            "html_url": "https://github.com/ariard",
            "followers_url": "https://api.github.com/users/ariard/followers",
            "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
            "organizations_url": "https://api.github.com/users/ariard/orgs",
            "repos_url": "https://api.github.com/users/ariard/repos",
            "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ariard/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/54",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/54/labels",
            "id": 7150037,
            "node_id": "MI_kwDOABII584AbRnV",
            "number": 54,
            "state": "closed",
            "title": "24.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 159,
            "created_at": "2021-09-14T08:27:02Z",
            "updated_at": "2022-11-29T15:44:44Z",
            "closed_at": "2022-11-29T15:44:44Z"
          },
          "locked": true,
          "comments": 36,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25353",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25353",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25353.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25353.patch"
          },
          "closed_at": "2022-07-08T09:08:31Z",
          "created_at": "2022-06-13T00:57:53Z",
          "updated_at": "2022-07-24T08:16:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-16T07:32:05Z",
      "updated_at": "2022-06-16T07:32:05Z",
      "source": {
        "issue": {
          "id": 1273097730,
          "node_id": "PR_kwDOABII5845wIiV",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25386",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25386/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25386/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25386/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25386",
          "number": 25386,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Extract MIB_BYTES constant for init.cpp",
          "body": "This is a common concept which is more communicative and explicit if articulated, IMO.\r\n\r\nThis could be applied elsewhere if there is a better place to reference it in common, but I don't see it. \r\n\r\nPulled from #25315 to ease review there.",
          "user": {
            "login": "Empact",
            "id": 5470,
            "node_id": "MDQ6VXNlcjU0NzA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Empact",
            "html_url": "https://github.com/Empact",
            "followers_url": "https://api.github.com/users/Empact/followers",
            "following_url": "https://api.github.com/users/Empact/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Empact/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Empact/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
            "organizations_url": "https://api.github.com/users/Empact/orgs",
            "repos_url": "https://api.github.com/users/Empact/repos",
            "events_url": "https://api.github.com/users/Empact/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Empact/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25386",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25386",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25386.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25386.patch"
          },
          "closed_at": "2023-04-25T15:41:05Z",
          "created_at": "2022-06-16T06:09:20Z",
          "updated_at": "2023-04-25T15:41:06Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-16T15:07:44Z",
      "updated_at": "2022-06-16T15:07:44Z",
      "source": {
        "issue": {
          "id": 1273280491,
          "node_id": "PR_kwDOABII5845wvM7",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25388",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25388/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25388/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25388/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25388",
          "number": 25388,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: move policy constants to policy",
          "body": "Picks up #25295. Which was a follow up to [a comment in #25254](https://github.com/bitcoin/bitcoin/pull/25254#discussion_r890595318).\r\nMoves policy constants from validation.h to policy.h.",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25388",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25388",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25388.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25388.patch"
          },
          "closed_at": "2022-06-20T18:14:07Z",
          "created_at": "2022-06-16T09:11:46Z",
          "updated_at": "2023-06-20T10:07:17Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6823163492,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGWsTZk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6823163492",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-16T18:19:51Z"
    },
    {
      "event": "commented",
      "id": 1157998298,
      "node_id": "IC_kwDOABII585FBaba",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1157998298",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-16T18:21:07Z",
      "updated_at": "2022-06-16T18:21:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "Pushed f803134e4cf1f2566858e0c597fcd19e29afed3f -> c98d5f1744dc3beed116ff708e3d4d8dcfe53eae\r\n- Rebased after merge of #25215 and #25223 (thanks all reviewers!)\r\n- Marking as Ready for Review as all dependent PRs have been merged",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1157998298",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "ready_for_review",
      "id": 6823170348,
      "node_id": "RFRE_lADOABII585LQhlPzwAAAAGWsVEs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6823170348",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-16T18:21:11Z"
    },
    {
      "event": "commented",
      "id": 1158704967,
      "node_id": "IC_kwDOABII585FEG9H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158704967",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-17T09:50:07Z",
      "updated_at": "2022-06-17T09:50:07Z",
      "author_association": "MEMBER",
      "body": "https://cirrus-ci.com/task/6709025164230656:\r\n```bash\r\nTraceback (most recent call last):\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_node.py\", line 552, in assert_start_raises_init_error\r\n                                       ret = self.process.wait(timeout=self.rpc_timeout)\r\n                                     File \"/usr/lib/python3.6/subprocess.py\", line 1469, in wait\r\n                                       raise TimeoutExpired(self.args, timeout)\r\n                                   subprocess.TimeoutExpired: Command '['/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/bitcoind', '-datadir=/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_\\u20bf_🏃_20220616_191835/mempool_limit_214/node0', '-logtimemicros', '-debug', '-debugexclude=libevent', '-debugexclude=leveldb', '-uacomment=testnode0', '-logthreadnames', '-logsourcelocations', '-maxmempool=4']' timed out after 2400 seconds\r\n                                   During handling of the above exception, another exception occurred:\r\n                                   Traceback (most recent call last):\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 133, in main\r\n                                       self.run_test()\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/mempool_limit.py\", line 82, in run_test\r\n                                       self.nodes[0].assert_start_raises_init_error([\"-maxmempool=4\"], \"Error: -maxmempool must be at least 5 MB\")\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_node.py\", line 582, in assert_start_raises_init_error\r\n                                       self._raise_assertion_error(assert_msg)\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_node.py\", line 167, in _raise_assertion_error\r\n                                       raise AssertionError(self._node_msg(msg))\r\n                                   AssertionError: [node 0] bitcoind should have exited within 2400s with expected error Error: -maxmempool must be at least 5 MB\r\n```",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1158704967",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "reviewed",
      "id": 1010370124,
      "node_id": "PRR_kwDOABII5848OQZM",
      "url": null,
      "actor": null,
      "commit_id": "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nRe: \"Should I merge CTxMemPool::Limits inside CTxMemPool::Options?\"\r\n\r\n(TLDR imo keeping them separate is fine).\r\nWould it be accurate to think of `Limits` as policy (used externally in `MemPoolAccept`) while `Options` is related to managing the data structure of `CTxMemPool` itself (i.e. it knows its own check ratio and max size)? Imo separating the ancestor/descendant limits makes sense because they're not just internal to `CTxMemPool`; they're also used by `MemPoolAccept` to implement carveouts. For example, it will override them by adding +1 to the descendant limit and setting ancestor limit = 2 for CPFP carve out: https://github.com/bitcoin/bitcoin/blob/874529665c1c326fc86fc0d0d6c3512fab087ab8/src/validation.cpp#L906-L908\r\n",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1010370124",
      "submitted_at": "2022-06-17T12:42:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1010718583,
      "node_id": "PRR_kwDOABII5848Pld3",
      "url": null,
      "actor": null,
      "commit_id": "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Conditional code review ACK c98d5f1744dc3beed116ff708e3d4d8dcfe53eae if CI error is fixed. Feel free to ignore all the suggestions, this basically looks good.\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1010718583",
      "submitted_at": "2022-06-17T19:09:38Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1012643320,
      "node_id": "PRR_kwDOABII5848W7X4",
      "url": null,
      "actor": null,
      "commit_id": "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK. I'd like to take another look at the mempool limits changes, but i agree it looks good modulo the dropped `* 40` pointed by Gloria.\r\n\r\n> Should I merge `CTxMemPool::Limits` inside `CTxMemPool::Options`?\r\n\r\nRebasing after #25388 makes introducing `mempool_limits.h` just for the `MemPoolLimits` struct, but on the other hand those limits really are policy and i agree with Gloria it's preferable to not mix them with options internal to the mempool. So i too think it's fine as is.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1012643320",
      "submitted_at": "2022-06-20T18:49:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1012622917,
      "node_id": "PRR_kwDOABII5848W2ZF",
      "url": null,
      "actor": null,
      "commit_id": "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "SGTM modulo I think this [comment](https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900059562) and this other [one](https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900405188) to fix.\r\n\r\n> Should I merge CTxMemPool::Limits inside CTxMemPool::Options?\r\n\r\nI think it's better to keep them split as it might be interesting to give the transaction/package-related limits to the wallet component, even in the lack of a mempool. It would solve the discussion around `getPackageLimits()`.  ",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1012622917",
      "submitted_at": "2022-06-20T19:01:09Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "labeled",
      "id": 6841789627,
      "node_id": "LE_lADOABII585LQhlPzwAAAAGXzWy7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6841789627",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-20T19:53:20Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6843713196,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGX6sas",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6843713196",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T03:28:32Z"
    },
    {
      "event": "unlabeled",
      "id": 6843953750,
      "node_id": "UNLE_lADOABII585LQhlPzwAAAAGX7nJW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6843953750",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T04:15:56Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6847529513,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGYJQIp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6847529513",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T13:33:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6847561171,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGYJX3T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6847561171",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T13:37:25Z"
    },
    {
      "event": "reviewed",
      "id": 1013931781,
      "node_id": "PRR_kwDOABII5848b18F",
      "url": null,
      "actor": null,
      "commit_id": "125c198efe1b2157a669758e7dadd1d15fbec368",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code Review ACK 125c198e\r\n\r\nChanges since last review:\r\n- add MB suffix to `DEFAULT_MAX_MEMPOOL_SIZE`\r\n- add comments in `MemPoolOptions`\r\n- one-lining `mempool_max_size_mb` assignment in `ApplyArgsManOptions`\r\n- add bytes suffix to `max_size`\r\n- make `DEFAULT_MEMPOOL_EXPIRY` constexpr\r\n- add vbytes suffix to `ancestor/descendant_size`\r\n- change SI of `DEFAULT_ANCESTOR_SIZE_LIMIT` from KB to KVB\r\n- return default package limits in lack of mempool in `getPackageLimits()`\r\n- use correct `descendant_limit_bytes` to evaluate min mempool max size\r\n\r\nI don't know about the compilation warning, if you get ride of it in another `libbitcoinkernel` PR.",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1013931781",
      "submitted_at": "2022-06-21T16:47:08Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6849900647,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGYSTBn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6849900647",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T18:21:51Z"
    },
    {
      "event": "commented",
      "id": 1162163832,
      "node_id": "IC_kwDOABII585FRTZ4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1162163832",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-21T18:30:54Z",
      "updated_at": "2022-06-21T18:30:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "Push c98d5f1744dc3beed116ff708e3d4d8dcfe53eae -> 167076739f02ddcf754200b378d504d320d0ff22\r\n- Resolved most of the review comments (Thanks Gloria, Ryan, and Antoine^2) ☺️ ",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1162163832",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "reviewed",
      "id": 1014085467,
      "node_id": "PRR_kwDOABII5848cbdb",
      "url": null,
      "actor": null,
      "commit_id": "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1014085467",
      "submitted_at": "2022-06-21T18:48:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1014832386,
      "node_id": "PRR_kwDOABII5848fR0C",
      "url": null,
      "actor": null,
      "commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Looks very good, but I think commit 7e90c69f1be6f8ba52e1f24b983379d00aad2f65 doesn't work.\r\n\r\nreview ACK 167076739f02ddcf754200b378d504d320d0ff22 📽\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nreview ACK 167076739f02ddcf754200b378d504d320d0ff22 📽\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUh5rAwApjNyIo4vWTlBPYX0A7LPHtMuhGjhptrfleuzrHmFNmrtt0af0IF4wdDw\r\nQ2p4O4h2b+tdGfwahr4aW9RJ8/UXUkyNnLDtRhiGwl3Km5u0wWhgMtBbCAoIDs9k\r\noBbOnSlG1Fry+sey7dPCpvFcfcPBV3ldPvG6M1Bi2lWWFrLVVCnIsQYzUfC52Roz\r\nRIsBtEr2u7kX0i3cmklWpSps25yDSIWnwxCbrwnqfVYfw2ntZN7PGT3PdIu6kFuK\r\nqcAwEHe7GR3hZjCVlr2uo9QPGbTNFYhPX+zgjDjZVATmoR0rqL++bVrv/EiGBcNZ\r\nQApyOuattxjPBbqBYgj8WQ2rYr/QfB+1WPMCmmibtC5ghkfFRiu5iEvrKqicU7f4\r\nZpRdH/chVY4xUvXbDgGBevaCDW6m0Jlu2Y0TVYXA7HzDP1novRtr7qQoUBhJW+f6\r\nWAmRfwf02VjVRGLbeTesbTpKnZ0/u6R4RZI41xlaGtB/KgMt3S72tvbby/De9aEI\r\nYkeDfTK9\r\n=P9lh\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1014832386",
      "submitted_at": "2022-06-22T11:34:16Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1015020076,
      "node_id": "PRR_kwDOABII5848f_os",
      "url": null,
      "actor": null,
      "commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1015020076",
      "submitted_at": "2022-06-22T11:39:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1015632300,
      "node_id": "PRR_kwDOABII5848iVGs",
      "url": null,
      "actor": null,
      "commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code Review ACK https://github.com/bitcoin/bitcoin/pull/25290/commits/167076739f02ddcf754200b378d504d320d0ff22\r\n\r\n. `MemPoolOptions`, `MemPoolLimits` and `ApplyArgsManOptions` make the mempool code more modularized.\r\n. Adding SI and time units improves code readability.\r\n. Replacing `est_filepath` by `CBlockPolicyEstimator::m_estimation_filepath` decouples this class from `ArgsManager gArgs`.",
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1015632300",
      "submitted_at": "2022-06-22T17:33:58Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZjMDJmNzdjYTYwNGYwMjIxMTcxYmZkZTMwNTliMzRmNWQwZmIxY2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc02f77ca604f0221171bfde3059b34f5d0fb1cd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fc02f77ca604f0221171bfde3059b34f5d0fb1cd",
      "tree": {
        "sha": "e1afcf97d71a2e0508803874f3490cab7e13de14",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e1afcf97d71a2e0508803874f3490cab7e13de14"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/57a491bee17af88f75c2cea8c109d93b1cdbc9a8",
          "sha": "57a491bee17af88f75c2cea8c109d93b1cdbc9a8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/57a491bee17af88f75c2cea8c109d93b1cdbc9a8"
        }
      ],
      "message": "ArgsMan: Add Get*Arg functions returning optional\n\nThis allows the caller to not provide a default at all and just check\ninside the optional to see if the arg was set or not.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-22T22:18:52Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-10-24T06:26:19Z"
      },
      "sha": "fc02f77ca604f0221171bfde3059b34f5d0fb1cd"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNjYmFmNTQ2YTY4ZDZjZGE4ZWQzZWZkMDU5OGMwZTQxMjFiMzY2YmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ccbaf546a68d6cda8ed3efd0598c0e4121b366bb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ccbaf546a68d6cda8ed3efd0598c0e4121b366bb",
      "tree": {
        "sha": "5c810ca46787004d3386f66abb073b042ad5bb55",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5c810ca46787004d3386f66abb073b042ad5bb55"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc02f77ca604f0221171bfde3059b34f5d0fb1cd",
          "sha": "fc02f77ca604f0221171bfde3059b34f5d0fb1cd",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fc02f77ca604f0221171bfde3059b34f5d0fb1cd"
        }
      ],
      "message": "scripted-diff: Rename DEFAULT_MAX_MEMPOOL_SIZE to indicate SI unit\n\nBetter to be explicit when it comes to sizes to avoid unintentional\nbugs. We use MB and KB all over the place.\n\n-BEGIN VERIFY SCRIPT-\nfind_regex=\"DEFAULT_MAX_MEMPOOL_SIZE\" \\\n    && git grep -l -E \"$find_regex\" \\\n        | xargs sed -i -E \"s@$find_regex@\\0_MB@g\"\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-22T22:18:56Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-18T16:12:04Z"
      },
      "sha": "ccbaf546a68d6cda8ed3efd0598c0e4121b366bb"
    },
    {
      "event": "reviewed",
      "id": 1016226429,
      "node_id": "PRR_kwDOABII5848kmJ9",
      "url": null,
      "actor": null,
      "commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code Review ACK 1670767\r\n\r\nChanges since last review, adding more bytes suffix, switching `m_expiry` from std::chrono::hours to std::chrono::seconds and correcting some comments from kb to vkb.",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1016226429",
      "submitted_at": "2022-06-23T01:24:17Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1016207144,
      "node_id": "PRR_kwDOABII5848khco",
      "url": null,
      "actor": null,
      "commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Conditional code review ACK 167076739f02ddcf754200b378d504d320d0ff22 if negative mempool size InitError is fixed: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903619629. \r\n\r\nI'd probably fix this by just making option types `int64_t` instead of `size_t` since GetintArg is returning `int64_t` anyway. This would also facilitate moving error handling into the mempool constructor in the future (https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900272797, https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900420112)",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1016207144",
      "submitted_at": "2022-06-23T17:47:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "added_to_project",
      "id": 6868932056,
      "node_id": "ATPE_lADOABII585LQhlPzwAAAAGZa5XY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6868932056",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-23T19:13:43Z",
      "project_card": {
        "id": 83519709,
        "url": "https://api.github.com/projects/columns/cards/83519709",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6869008110,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGZbL7u",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6869008110",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-23T19:27:37Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6869021185,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGZbPIB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6869021185",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-23T19:29:51Z"
    },
    {
      "event": "reviewed",
      "id": 1018158518,
      "node_id": "PRR_kwDOABII5848r922",
      "url": null,
      "actor": null,
      "commit_id": "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Some style fixups, but the bug is still there, I think.\r\n\r\n\r\nre-ACK 468ee5b9a8 🎨\r\n\r\nChanges:\r\n* Style fixups (less verbose code) in the first commit\r\n* Set mempool_opts.estimator = nullptr in the tx_pool fuzz target\r\n* Style: Use 1'000'000 over 1000000, and 1'000 over 1000\r\n* Style: Less verbose code in getPackageLimits\r\n* Doc: Remove leftover code comment\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nre-ACK 468ee5b9a8 🎨\r\n\r\nChanges:\r\n* Style fixups (less verbose code) in the first commit\r\n* Set mempool_opts.estimator = nullptr in the tx_pool fuzz target\r\n* Style: Use 1'000'000 over 1000000, and 1'000 over 1000\r\n* Style: Less verbose code in getPackageLimits\r\n* Doc: Remove leftover code comment\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUjJswwAyoo1eM+cuPf2dyA2ZXSC9fYwq0geBB/rpaUzr1tYTPiD1NTDcKcYEPh5\r\nMkFgcPzCl65QbxbLsqH2H6WQ5y8ITuYsL6tqQaqqgg+4XLAK1fIO0mBH4/nGmivv\r\n8Tq5AMolDwqroSYhHqa4x4sVnOg/YG6mCi+BzqgfR4hRRWbGayTTKAapm6LCyLmI\r\nanMlIh6jItYQ7Vzy5HUPkQrNsxad29FrG8Jldy9Sfz8kbz84KRe3D/yHsL5bzkYH\r\nTOsPBjouLQK7YEXQiqri/3SSCvO557zhI1Fg3CiEuoZrYLz6+PxNTba40kVxV2X/\r\n3oVQAObfQ5a2D60sVYKeaMweLs2xx/+9lFojD7AyYEeobEqMi+nCJipAdvv3EEHU\r\n1doqX9XyMw/E1PQXCb73l2YGpp5Q1ear66584cIMYT4vM2UXy0jF+a4lpFBSDCT+\r\nnk2tNSiH6JcZUj+LT8i9tCZoQBonf5thKUBphoh9w0E5TFYdDboiDyPGM9Q8DSN7\r\nsA1kGAEa\r\n=32vq\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1018158518",
      "submitted_at": "2022-06-24T08:28:47Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6876073967,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGZ2I_v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6876073967",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-24T18:22:53Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6876609525,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGZ4Lv1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6876609525",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-24T20:19:08Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6876667846,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGZ4Z_G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6876667846",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-24T20:32:21Z"
    },
    {
      "event": "commented",
      "id": 1165951176,
      "node_id": "IC_kwDOABII585FfwDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165951176",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-24T21:23:30Z",
      "updated_at": "2022-06-24T21:25:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "I'm having some challenges with using `int64_t` vs `size_t` for `CTxMemPool::Options::max_size_bytes`. From my cursory reading, it seems like overflow of signed integral types are UB, so I'm not sure what the first check here is doing:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/1da1c0dd66265b6a610bf6c21bf2090910cb4fb3/src/init.cpp#L934\r\n\r\nIs it to somehow catch the platforms where the apparent behaviour is to wrap around to negative when signed integral types overflow? That doesn't seem right to me and I'm likely missing something.\r\n\r\nIn my mind, ideally we would eventually have `ApplyArgsManOptions` check that the command line arguments that require multiplication fit within their destination integral types after multiplication. This is a safety check that's not done even prior to this PR.\r\n\r\nThere's also the fact that prior to this PR, `-maxmempool` was passed to many functions as `size_t`, which could have underflowed...\r\n\r\nGiven that this PR is already a little bloaty, how about this: we use `int64_t` wherever we replace `GetIntArg` for now, which will make sure that there's no unintentional behaviour change, and we follow up with a PR adding bounds checked multiplication in `ApplyArgsManOptions` and propagate errors up?",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1165951176",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6877094593,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGZ6CLB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6877094593",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-24T22:21:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6877563788,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGZ70uM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6877563788",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-24T23:28:54Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-25T04:56:04Z",
      "updated_at": "2022-06-25T04:56:04Z",
      "source": {
        "issue": {
          "id": 1264757913,
          "node_id": "PR_kwDOABII5845Ufwe",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25308",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25308/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25308/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25308/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25308",
          "number": 25308,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Reduce number of LoadChainstate parameters and return values",
          "body": "Replace long LoadChainstate parameters list with options struct. Replace long list of return values with simpler error strings.\r\n\r\nNo changes in behavior. Motivation is just to make libbitcoin_kernel API easier to use and more future-proof, and make internal code clearer and more maintainable.",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25308",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25308",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25308.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25308.patch"
          },
          "closed_at": "2022-07-20T05:51:04Z",
          "created_at": "2022-06-08T13:31:03Z",
          "updated_at": "2023-07-20T10:13:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-25T05:39:19Z",
      "updated_at": "2022-06-25T05:39:19Z",
      "source": {
        "issue": {
          "id": 1245716041,
          "node_id": "PR_kwDOABII5844Umrw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25193",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25193/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25193/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25193/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25193",
          "number": 25193,
          "state": "closed",
          "state_reason": null,
          "title": "indexes: Read the locator's top block during init, allow interaction with reindex-chainstate",
          "body": "This makes two improvements to the index init phase:\r\n\r\n**1) Prevent index corruption in case a reorg happens when the index was switched off**:\r\nThis is done by reading in the top block stored in the locator instead of looking for a fork point already in `BaseIndex::Init()`.\r\nBefore, we'd just go back to the fork point by calling `FindForkInGlobalIndex()`, which would have corrupted the coinstatsindex because its saved muhash needs to be reverted step by step by un-applying all blocks in between, which wasn't done before. This is now being done a bit later in  `ThreadSync()`, which has existing logic to call the custom `Rewind()` method when going back along the chain to the forking point (thanks ryanofsky for pointing this out to me!).\r\n\r\n**2) Allow using the `-reindex-chainstate` option without needing to disabling indexes**:\r\nWith `BaseIndex::Init()` not calling `FindForkInGlobalIndex()` anymore, we can allow `reindex-chainstate` with active indexes. `reindex-chainstate` deletes the chain and rebuilds it later in `ThreadImport`, so there is no chain available during `BaseIndex::Init()`, which would lead to problems (see #24789).\r\nBut now we'll only need the chain a bit later in `BaseIndex::ThreadSync`, which will wait for the reindex-chainstate in `ThreadImport` to finish and will continue syncing after that.",
          "user": {
            "login": "mzumsande",
            "id": 48763452,
            "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mzumsande",
            "html_url": "https://github.com/mzumsande",
            "followers_url": "https://api.github.com/users/mzumsande/followers",
            "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
            "organizations_url": "https://api.github.com/users/mzumsande/orgs",
            "repos_url": "https://api.github.com/users/mzumsande/repos",
            "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/mzumsande/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 97470796,
              "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
              "name": "UTXO Db and Indexes",
              "color": "fbca04",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25193",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25193",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25193.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25193.patch"
          },
          "closed_at": "2023-05-17T17:27:55Z",
          "created_at": "2022-05-23T21:27:22Z",
          "updated_at": "2023-09-16T08:26:41Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-25T09:57:38Z",
      "updated_at": "2022-06-25T09:57:38Z",
      "source": {
        "issue": {
          "id": 1045818438,
          "node_id": "PR_kwDOABII584uJavG",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23443",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23443/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23443/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23443/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23443",
          "number": 23443,
          "state": "closed",
          "state_reason": null,
          "title": "p2p: Erlay support signaling",
          "body": "This is a part of the Erlay project:\r\n- [parent PR](https://github.com/bitcoin/bitcoin/pull/21515)\r\n- [associated BIP-330](https://github.com/bitcoin/bips/pull/1376).\r\n\r\n-------\r\n\r\nThis PR adds a new p2p message `sendtxrcncl` signaling for reconciliation support.\r\nBefore sending that message, a node is supposed to \"pre-register\" the peer by generating and storing an associated reconciliation salt component.\r\nOnce the salts are exchanged within this new message, nodes \"register\" each other for future reconciliations by computing and storing the aggregate salt, along with the reconciliation parameters based on the connection direction.",
          "user": {
            "login": "naumenkogs",
            "id": 7975071,
            "node_id": "MDQ6VXNlcjc5NzUwNzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/naumenkogs",
            "html_url": "https://github.com/naumenkogs",
            "followers_url": "https://api.github.com/users/naumenkogs/followers",
            "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
            "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
            "repos_url": "https://api.github.com/users/naumenkogs/repos",
            "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 33,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23443",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23443",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23443.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23443.patch"
          },
          "closed_at": "2022-10-17T17:11:41Z",
          "created_at": "2021-11-05T12:51:10Z",
          "updated_at": "2023-10-25T12:15:46Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1167172152,
      "node_id": "IC_kwDOABII585FkaI4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167172152",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T10:23:24Z",
      "updated_at": "2022-06-27T10:23:24Z",
      "author_association": "MEMBER",
      "body": "> so I'm not sure what the first check here is doing:\r\n\r\nIt is simply checking that the mempool is at least +4MB. It doesn't check for overflow or truncation later on, which can still happen. If you want to fix that, sounds good, but I'd say it is not required.\r\n\r\nin b61080b1993c10d953352701a54067955ca7401b: Please add a ***not***, see my original comment, which does have a \"not\": https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903529958\r\n\r\nre-ACK 7e4f61b2901c8e1506a7b3246a4518e2aa4061f5 🥐\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nre-ACK 7e4f61b2901c8e1506a7b3246a4518e2aa4061f5 🥐\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUjuagwAsUkOT4dLcniGY3SR8K3PuOKlb4e3U6wMnwfNERnevJKXF89YraytloFJ\r\nQlLm6TEK9RM1NYwSApTwngC8hQIjc6uxS/JotfxrsZUJn529Njdw1jbi2Ecz/STY\r\nEaBODMg8hWBecn+RNzYTN/oRrqBg1MK0tPDyIX+3HbQ/CjpbnWsdjRS1habaikEi\r\nzQ21Xh7rvlRzDViA9pbevkQEHSNFItDoGVn4SdLpZbSV21AcsfO9y/g9iF0YjyJm\r\nByyHO08HE9FJr+S8JwXNPXHsqANPGnNTk+gtkzZIq3STD4mv9asIGFeS2IhGXM3Y\r\nmCDsPQLYAqbMEvZdsM5icazI1uHthYR4V1HgmJivQvW9e+yvptuOP1uDXCw/n7dZ\r\n52YY8hvE5gAY1NTukSJ9o3PZ3H6ijXIHyoFMwwma+wEu5aAlrm/L4l31xTQKmf/0\r\n9bq2t+DRey/ZwTN4oILdt27xorSdIfW6Vvz6c8tbD4SGs9CA6LTBnGt//4Dte2qG\r\neL+dryIC\r\n=vFr5\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167172152",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "reviewed",
      "id": 1020371246,
      "node_id": "PRR_kwDOABII58480aEu",
      "url": null,
      "actor": null,
      "commit_id": "7e4f61b2901c8e1506a7b3246a4518e2aa4061f5",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 7e4f61b2901c8e1506a7b3246a4518e2aa4061f5. Many cleanups since last review, main one is constructing mempools more consistently in test. Also `max_size_bytes` and `MemPoolLimits` are now `int64_t` instead of `size_t` to avoid an unintended change in behavior. `m_max_size_bytes` is still `size_t`\r\n\r\n---\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1165951176\r\n\r\n> it seems like overflow of signed integral types are UB, so I'm not sure what the first check here is doing:\r\n> https://github.com/bitcoin/bitcoin/blob/1da1c0dd66265b6a610bf6c21bf2090910cb4fb3/src/init.cpp#L932-L934\r\n\r\nI think it's just needed to show an error in the case where both options are passed negative values.\r\n",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1020371246",
      "submitted_at": "2022-06-27T16:27:52Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAxOTliZDM1YmI0NGUzMmVlMGRiOWI1MWM5ZDFiZDc1MThjMjZmMTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0199bd35bb44e32ee0db9b51c9d1bd7518c26f19",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0199bd35bb44e32ee0db9b51c9d1bd7518c26f19",
      "tree": {
        "sha": "7b92162c380cf7259b055bc6af0fff80fe454ad0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7b92162c380cf7259b055bc6af0fff80fe454ad0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ccbaf546a68d6cda8ed3efd0598c0e4121b366bb",
          "sha": "ccbaf546a68d6cda8ed3efd0598c0e4121b366bb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ccbaf546a68d6cda8ed3efd0598c0e4121b366bb"
        }
      ],
      "message": "fuzz/rbf: Add missing TestingSetup\n\nMarcoFalke mentioned that this is likely a bug since \"any log messages\nshould be muted, not accumulated and turned into an OOM when fuzzing for\na long time\".",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-27T18:06:47Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-24T16:30:14Z"
      },
      "sha": "0199bd35bb44e32ee0db9b51c9d1bd7518c26f19"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T18:11:36Z",
      "updated_at": "2022-06-27T18:11:36Z",
      "source": {
        "issue": {
          "id": 1129004032,
          "node_id": "I_kwDOABII585DSzwA",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24303",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24303/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24303/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24303/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/24303",
          "number": 24303,
          "state": "closed",
          "state_reason": "completed",
          "title": "The `libbitcoinkernel` Project",
          "body": "**Project Board**: https://github.com/bitcoin/bitcoin/projects/18\r\n\r\nThis is the main tracking issue for the `libbitcoinkernel` project.\r\n\r\nThe `libbitcoinkernel` project is a new attempt at extracting out our consensus engine. The `kernel` part of the name highlights one of the key functional differences from `libbitcoinconsensus` and in fact, most libraries: it is a stateful library that can spawn threads, do caching, do I/O, and many other things which one may not normally expect from a library.\r\n\r\nThis statefulness is necessary for `libbitcoinkernel`'s decidedly incremental approach to extracting our consensus engine. This approach favors:\r\n\r\n1. Reusing existing code\r\n   ...which allows us to be continually integrated with Bitcoin Core and benefit from our extensive test suite\r\n2. Incremental decoupling instead of building from scratch\r\n   ...which allows us to avoid having to prematurely optimizing for a \"perfect\" boundary or API (tends to be highly subjective, non-obvious, may lead to unproductive bike-shedding before we've even done anything meaningful)\r\n\r\nI believe that the work of extracting out our consensus engine into a library and making the API ergonomic is likely to be a multi-release project involving multiple contributors. The incremental approach takes this into account, and respects the sheer size of work (both in writing code and getting it through review) that needs to be undertaken.\r\n\r\n## PRs\r\n\r\nPlease see the Project Board: https://github.com/bitcoin/bitcoin/projects/18\r\n\r\n## Project-wide TODOs\r\n\r\n- [x] Remove `blockfilter.cpp` and `index/blockfilterindex.cpp` from `{bitcoin_chainstate,libbitcoinkernel_la}_SOURCES` after merge of #21726\r\n- [x] Place ChainstateManageOpts under `kernel::` namespace: https://github.com/bitcoin/bitcoin/pull/25065#pullrequestreview-993560535\r\n- [ ] Various followups for #25065\r\n  - [ ] Marco's post-merge review comments: https://github.com/bitcoin/bitcoin/pull/25065#pullrequestreview-996614232\r\n  - [ ] Cory's `kernel::Context` cleanup suggestions: https://github.com/bitcoin/bitcoin/pull/25065#discussion_r882182549\r\n- [ ] Ryan's post-merge review comment: https://github.com/bitcoin/bitcoin/pull/25223#discussion_r898164322\r\n- [ ] Various followups for #25290\r\n  - [ ] Perform gArgs checking in `ApplyArgsManOptions`: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907535652\r\n  - [ ] Perform `CTxMemPool::Options` checking in `CTxMemPool` constructor: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900272797\r\n  - [x] Change `CalculateMemPoolAncestors` to take in `CTxMemPool::Limits` instead: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905260891\r\n- [ ] Various followups for #25487\r\n  - [ ] Improve `DumpMempool`'s mutex: https://github.com/bitcoin/bitcoin/pull/25487#discussion_r916228022\r\n  - [ ] Change `LoadMempool`'s semantics: https://github.com/bitcoin/bitcoin/pull/25487#discussion_r916044902\r\n  - [ ] Make LoadMempool less foot-gunny: https://github.com/bitcoin/bitcoin/pull/25487#discussion_r921234107, https://github.com/bitcoin/bitcoin/pull/25487/commits/c4249c1243981f42091950d1295c2be6bd4bf118\r\n\r\n## The Game Plan\r\n\r\n### Stage 1: Extracting out a usable `libbitcoinkernel.{so,dylib,dll}`\r\n\r\n#### Step 1: Introduce internal `bitcoin-chainstate` and `libbitcoinkernel`\r\n##### a.k.a. What `.cpp` files do we need?\r\n\r\nThis `bitcoin-chainstate` executable uses our consensus engine and its build system code will reveal the minimal set of files we need to link in to use our consensus engine as-is. It is important to note that this list of files will serve as a guiding \"North Star\" for this first stage of the plan: as we decouple more and more modules of the codebase from our consensus engine, this list will grow shorter and shorter.\r\n\r\nThis list of files (the `_SOURCES` in `Automake` speak) then serves as the basis for a `libbitcoinkernel`, which `bitcoin-chainstate` will be linked against.\r\n\r\n**Key Result:** Any further coupling of our consensus engine with non-consensus modules will result in linker errors, preventing this project from becoming a sisyphean task of battling coupling regressions.\r\n\r\n#### Step 2: Decouple most non-consensus code from `libbitcoinkernel`\r\n##### a.k.a. Prune the unnecessary `.cpp` files!\r\n\r\nThere are many modules which do not logically belong in `libbitcoinkernel` (e.g. `index/*.cpp`, `netaddress.cpp`), but are nevertheless necessary to be included in its `_SOURCES` for `bitcoin-chainstate` to link correctly. This is because Bitcoin Core's existing codebase is full of unnecessary dependencies/couplings that need to be untangled/decoupled/broken up.\r\n\r\nThis step is where we do the decoupling for:\r\n1. `netaddress.cpp`\r\n2. Parts of `timedata.cpp`\r\n3. Parts of `init/common.cpp`\r\n4. `ArgsManager` (this one's a doozy)\r\n5. `index/*.cpp`\r\n6. `shutdown.cpp`\r\n7. `logging.cpp`\r\n\r\n**Developer Note:** We do not decouple the mempool *yet* because most users of `libbitcoinkernel` may want to have an embedded mempool with Bitcoin Core's policies and we can decouple it later.\r\n\r\n#### Step 3: Introduce an external `bitcoin-chainstate`\r\n##### a.k.a. What `.h` files do we need?\r\n\r\nBefore this step, `bitcoin-chainstate` has been an internal executable managed by our build system with access to all files and headers. In this step, we add an external `bitcoin-chainstate` with a separate build system to reveal the minimal set of headers we need to ship in order to make the `libbitcoinkernel` library usable.\r\n\r\n#### Step 4: Decouple most non-consensus headers from `libbitcoinkernel`\r\n##### a.k.a. Prune the unnecessary `.h` files!\r\n\r\nSimilar to Step 2, there are lots of small decoupling of the header dependency tree here. A notable piece of this step is to remove `leveldb` includes from our headers to avoid needing to re-ship `leveldb` headers.\r\n\r\n\r\n### Stage 2: Polishing the API / Continual De-coupling\r\n\r\nAt this point, we have a usable `libbitcoinkernel` that is _somewhat_ minimally linked. However, it has a very idiosyncratic, Bitcoin Core-specific C++ interface. The goal of this stage is to incrementally make the `libbitcoinkernel` API more ergonomic for users outside of Bitcoin Core. Bindings to other languages (first C, then others) should be introduced.\r\n\r\nPersonally, I have near-zero experience with library API design and langauge bindings, so I think ***it would be wise for other contributors to lead this stage***. Ideally, they would be able to work with users looking to integrate with `libbitcoinkernel` who can give an accurate account of the API ergonomics from the library user's point of view. \r\n\r\n\r\n## Getting `libbitcoinkernel` Through Review\r\n\r\nMost of the changes to be made are \"move only\", but there are a lot of these \"move only\" changes to be made. Of course comments/reviews regarding correctness are always more than welcome, but I want very much to avoid losing momentum on this project because of style or style-adjacent comments/reviews.\r\n\r\nI propose the following ground rules to make this process more streamlined for all parties involved and a few things that I can do to help:\r\n\r\n1. Any outstanding comments/reviews not pertinent to the main thrust of PRs should not delay/block the merging of the core functionality of PRs. I will make sure to open a separate issue tracking all the leftover comments/reviews so that they won't be missed and can be addressed one by one.\r\n2. Whenever the PR reaches a stage where there are only leftover comments/reviews left, I will make a comment saying so. This might make it easier for maintainers to determine roughly where the PR is at in its lifecycle (ofc don't trust me, verify :smile:).\r\n\r\n## Action Items\r\n\r\n1. If you have any questions, please post them below!\r\n2. If you plan on reviewing `libbitcoinkernel` or are a maintainer:\r\n    1. Please make sure you've read the \"Getting `libbitcoinkernel` Through Review\" section above.\r\n    2. Please let me know if there's anything else I can do to help streamline the review process.\r\n3. If you would like to take the lead on \"Stage 2: Polishing the API / Continual De-coupling\", please leave a comment below, I'd love to talk!",
          "user": {
            "login": "dongcarl",
            "id": 3445290,
            "node_id": "MDQ6VXNlcjM0NDUyOTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dongcarl",
            "html_url": "https://github.com/dongcarl",
            "followers_url": "https://api.github.com/users/dongcarl/followers",
            "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
            "organizations_url": "https://api.github.com/users/dongcarl/orgs",
            "repos_url": "https://api.github.com/users/dongcarl/repos",
            "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dongcarl/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 22,
          "closed_at": "2023-05-10T14:46:11Z",
          "created_at": "2022-02-09T20:45:22Z",
          "updated_at": "2023-05-10T14:46:11Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6887791564,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGai1vM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6887791564",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T18:57:17Z"
    },
    {
      "event": "commented",
      "id": 1167758807,
      "node_id": "IC_kwDOABII585FmpXX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167758807",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T18:58:00Z",
      "updated_at": "2022-06-27T18:58:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "@MarcoFalke \r\n\r\n> in [b61080b](https://github.com/bitcoin/bitcoin/commit/b61080b1993c10d953352701a54067955ca7401b): Please add a _**not**_, see my original comment, which does have a \"not\": [#25290 (comment)](https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903529958)\r\n\r\n😅 That is definitely my bad, fixed in latest push!",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167758807",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "mentioned",
      "id": 6887796967,
      "node_id": "MEE_lADOABII585LQhlPzwAAAAGai3Dn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6887796967",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T18:58:00Z"
    },
    {
      "event": "subscribed",
      "id": 6887796980,
      "node_id": "SE_lADOABII585LQhlPzwAAAAGai3D0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6887796980",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T18:58:00Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6888264489,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGakpMp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6888264489",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T20:14:52Z"
    },
    {
      "event": "commented",
      "id": 1167849771,
      "node_id": "IC_kwDOABII585Fm_kr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167849771",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T20:26:08Z",
      "updated_at": "2022-06-27T20:27:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "Pushed 7e4f61b2901c8e1506a7b3246a4518e2aa4061f5 -> 54913736701ed336a2be94feb0f77fae21226ba4\r\n- Fixed quoting Marco: https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167172152\r\n- Added comment about `CChainState::GetCoinsCacheSizeState()` correctness (thanks James!): https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907438710\r\n- Made `CTxMemPool::m_max_size_bytes` also `int64_t` to avoid an unintended change in behavior (thanks for pointing this one out Ryan!). Added to project TODO a task to add bounds checking in `ApplyArgsManOptions(..., MemPoolOptions&)` so that we can safely transition `CTxMemPool::{Options,Limits}` to using unsigned types for sizes.\r\n- Added commit \"mempool: Make GetMinFee() with custom size protected\" addressing: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903552020",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167849771",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "commented",
      "id": 1167853355,
      "node_id": "IC_kwDOABII585FnAcr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167853355",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T20:29:18Z",
      "updated_at": "2022-06-27T20:29:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "Maintainers: All reviews have been addressed, I think this PR is in a good place for merge pending CI pass.",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167853355",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "commented",
      "id": 1167997582,
      "node_id": "IC_kwDOABII585FnjqO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167997582",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T22:39:32Z",
      "updated_at": "2022-06-27T22:39:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "I believe the CI failure in wallet_reorgsrestore.py is spurious: https://cirrus-ci.com/task/6073861945950208?logs=ci#L560\r\n\r\nI've run `FILE_ENV=./ci/test/00_setup_env_native_asan.sh ./ci/test_run_all.sh` locally and am unable to reproduce the error.",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167997582",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "reviewed",
      "id": 1020872673,
      "node_id": "PRR_kwDOABII58482Ufh",
      "url": null,
      "actor": null,
      "commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code Review ACK 5491373\r\n\r\nChanges since last review:\r\n- moving `mempool_optjons.h` under the `kernel` namespace\r\n- adding `MemPoolOptionsForTest` in `src/test/util/setup_common.cpp`\r\n- initializing `CTxMemPool` with `MemPoolOptionsForTest`\r\n- moving `MemPoolOptions::max_size_bytes` from `size_t` to `int64_t`\r\n- moving `CTxMemPool::m_max_size_bytes` from `size_t` to `int64_t`\r\n- renaming `DEFAULT_MEMPOOL_EXPIRY` to `DEFAULT_MEMPOOL_EXPIRY_HOURS`\r\n- using ternary in `getPackageLimits()`\r\n- adding comments in `MemPoolLimits`\r\n- making `descendant_limits_bytes` in `src/init.cpp` a `int64_t`\r\n- adding new `policy/fes_args.cpp` and the fee estimator path constructor `FeeestPath`",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1020872673",
      "submitted_at": "2022-06-27T22:49:43Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-27T23:35:16Z",
      "updated_at": "2022-06-27T23:35:16Z",
      "source": {
        "issue": {
          "id": 1286565113,
          "node_id": "PR_kwDOABII5846dNPb",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25487",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25487/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25487/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25487/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25487",
          "number": 25487,
          "state": "closed",
          "state_reason": null,
          "title": "[kernel 3b/n] Decouple `{Dump,Load}Mempool` from `ArgsManager`",
          "body": "This is part of the `libbitcoinkernel` project: #24303, https://github.com/bitcoin/bitcoin/projects/18\r\n\r\n-----\r\n\r\nThis PR moves `{Dump,Load}Mempool` into its own `kernel/mempool_persist` module and introduces `ArgsManager` `node::` helpers in `node/mempool_persist_args`to remove the scattered calls to `GetBoolArg(\"-persistmempool\", DEFAULT_PERSIST_MEMPOOL)`.\r\n\r\nMore context can be gleaned from the commit messages.\r\n\r\n-----\r\n\r\nOne thing I was reflecting on as I wrote this was that in the long run, I think we should probably invert the validation <-> mempool relationship. Instead of mempool not depending on validation, it might make more sense to have validation not depend on mempool. Not super urgent since `libbitcoinkernel` will include both validation and mempool, but perhaps something for the future.",
          "user": {
            "login": "dongcarl",
            "id": 3445290,
            "node_id": "MDQ6VXNlcjM0NDUyOTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dongcarl",
            "html_url": "https://github.com/dongcarl",
            "followers_url": "https://api.github.com/users/dongcarl/followers",
            "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
            "organizations_url": "https://api.github.com/users/dongcarl/orgs",
            "repos_url": "https://api.github.com/users/dongcarl/repos",
            "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dongcarl/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignee": {
            "login": "glozow",
            "id": 25183001,
            "node_id": "MDQ6VXNlcjI1MTgzMDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/glozow",
            "html_url": "https://github.com/glozow",
            "followers_url": "https://api.github.com/users/glozow/followers",
            "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
            "organizations_url": "https://api.github.com/users/glozow/orgs",
            "repos_url": "https://api.github.com/users/glozow/repos",
            "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/glozow/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "glozow",
              "id": 25183001,
              "node_id": "MDQ6VXNlcjI1MTgzMDAx",
              "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/glozow",
              "html_url": "https://github.com/glozow",
              "followers_url": "https://api.github.com/users/glozow/followers",
              "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
              "organizations_url": "https://api.github.com/users/glozow/orgs",
              "repos_url": "https://api.github.com/users/glozow/repos",
              "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/glozow/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 21,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25487",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25487",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25487.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25487.patch"
          },
          "closed_at": "2022-07-18T15:09:56Z",
          "created_at": "2022-06-27T23:35:15Z",
          "updated_at": "2023-07-26T10:16:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1021437004,
      "node_id": "PRR_kwDOABII58484eRM",
      "url": null,
      "actor": null,
      "commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "light code review ACK 5491373670. Very happy with the reduced querying of gArgs for mempool options, agree with the code organization, I'm much less familiar with init than mempool but stepped through each commit and the code looks correct to me.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1021437004",
      "submitted_at": "2022-06-28T09:40:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1021494652,
      "node_id": "PRR_kwDOABII58484sV8",
      "url": null,
      "actor": null,
      "commit_id": "fc02f77ca604f0221171bfde3059b34f5d0fb1cd",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1021494652",
      "submitted_at": "2022-06-28T10:24:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1021547158,
      "node_id": "PRR_kwDOABII584845KW",
      "url": null,
      "actor": null,
      "commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1021547158",
      "submitted_at": "2022-06-28T11:08:48Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1021548644,
      "node_id": "PRR_kwDOABII584845hk",
      "url": null,
      "actor": null,
      "commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1021548644",
      "submitted_at": "2022-06-28T11:10:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1021555724,
      "node_id": "PRR_kwDOABII584847QM",
      "url": null,
      "actor": null,
      "commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1021555724",
      "submitted_at": "2022-06-28T11:15:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6895300850,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGa_fDy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6895300850",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-28T15:51:33Z"
    },
    {
      "event": "reviewed",
      "id": 1022071889,
      "node_id": "PRR_kwDOABII584865RR",
      "url": null,
      "actor": null,
      "commit_id": "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "lgtm\r\n\r\nreview ACK 54913736701ed336a2be94feb0f77fae21226ba4 📏\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nreview ACK 54913736701ed336a2be94feb0f77fae21226ba4 📏\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUijogv8D4DYVC5hv7qOlIEMk+Yj7ZthU8aCSgXn6bhN611QGGuj40G9dfTNtOZ5\r\noLKTttz9W1ML68IdlN+syYL112EN9lcJi+jls5wdof3dr1qrKZJEdBEi/sL+CBjt\r\nh1vr8zHHWSCw2IYhEtHmQMj8oNbtID4NCG3ngyAEh9xzw7UGrzM9bxUI0qJhQJ1n\r\n/AXxVZZ32sM+5G2YYa1Pc+HoxmpcPhZuF5sWCxTDGeDkwA8DEbvyJUOwP+ibO65x\r\nhMDvsoLIwYsVkXCw9LQFG2nUB2uWKujmi4AgGqsOr/+mO6foxsMqwrZLhXyZn39U\r\nJWBtkWkizU69fYMBdr5+ku0BdH6c6EL/esfsTQ8n16W+Dlq/1Pm0sgVwQmGOF8F2\r\nrdrxKl4YSodH7vX8ChNxNxaASBqKoLltSOxJ7QWdB9py4F7c1yd/dAA1GpUVz8g6\r\nBVcxDbpa0JTkYU2a3yUx02vs3SUPb+P2ZTz+gsxbDmw/gT/J8RZ3RDwNQKafhTzZ\r\n9imCuWxg\r\n=vOeM\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1022071889",
      "submitted_at": "2022-06-28T18:45:57Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "reviewed",
      "id": 1022259404,
      "node_id": "PRR_kwDOABII58487nDM",
      "url": null,
      "actor": null,
      "commit_id": "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920. Commit message and comment cleanups since last review, and m_max_size_bytes is changed from size_t to int64_t",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1022259404",
      "submitted_at": "2022-06-28T19:06:56Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYxOTQxZThiZmQyZWVjYzQ3OGM3NjYwNDM0YjFlYmY2YTY0MDk1YTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f1941e8bfd2eecc478c7660434b1ebf6a64095a0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f1941e8bfd2eecc478c7660434b1ebf6a64095a0",
      "tree": {
        "sha": "bd3c9f57159ed94b8a99c80774b52be0c5d20389",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bd3c9f57159ed94b8a99c80774b52be0c5d20389"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0199bd35bb44e32ee0db9b51c9d1bd7518c26f19",
          "sha": "0199bd35bb44e32ee0db9b51c9d1bd7518c26f19",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0199bd35bb44e32ee0db9b51c9d1bd7518c26f19"
        }
      ],
      "message": "pool: Add and use MemPoolOptions, ApplyArgsManOptions\n\nReviewers: Note that CTxMemPool now requires a non-defaulted\nCTxMemPool::Options for its constructor. Meaning that there's no need to\nworry about a stray CTxMemPool constructor somewhere defaulting to\nsomething incorrect. All instances of CTxMemPool construction are\naddressed here in this commit.\n\nWe set options for CTxMemPool and construct it in many different ways. A\ngood example can be seen in how we determine CTxMemPool's check_ratio in\nAppInitMain(...).\n\n1. We first set the default based on chainparams's\n   DefaultConsistencyChecks()\n2. Then, we apply the ArgsManager option on top of that default\n3. Finally, we clamp the result of that between 0 and 1 Million\n\nWith this patch, most CTxMemPool construction are along the lines of:\n\n    MemPoolOptions mempool_opts{...default overrides...};\n    ApplyArgsManOptions(argsman, mempool_opts);\n    ...hard overrides...\n    CTxMemPool pool{mempool_opts};\n\nThis \"compositional\" style of building options means that we can omit\nunnecessary/irrelevant steps wherever we want but also maintain full\ncustomizability.\n\nFor example:\n\n- For users of libbitcoinkernel, where we eventually want to remove\n  ArgsManager, they simply won't call (or even know about)\n  ApplyArgsManOptions.\n\n- See src/init.cpp to see how the check_ratio CTxMemPool option works\n  after this change.\n\nA MemPoolOptionsForTest helper was also added and used by tests/fuzz\ntests where a local CTxMemPool needed to be created.\n\nThe change in src/test/fuzz/tx_pool.cpp seemingly changes behaviour by\napplying ArgsManager options on top of the CTxMemPool::Options defaults.\nHowever, in future commits where we introduce flags like -maxmempool,\nthe call to ApplyArgsManOptions is actually what preserves the existing\nbehaviour. Previously, although it wasn't obvious, our CTxMemPool would\nconsult gArgs for flags like -maxmempool when it needed it, so it\nalready relied on ArgsManager information. This patchset just laid bare\nthe obfuscatory perils of globals.\n\n[META] As this patchset progresses, we will move more and more\n       CTxMemPool-relevant options into MemPoolOptions and add their\n       ArgsMan-related logic to ApplyArgsManOptions.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:30:05Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-03-18T17:51:37Z"
      },
      "sha": "f1941e8bfd2eecc478c7660434b1ebf6a64095a0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgyZjAwZGU3YTZhNjBjYmM5YWQwYzZlMWQwZmZiMWJjNzBjNDlhZjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/82f00de7a6a60cbc9ad0c6e1d0ffb1bc70c49af5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/82f00de7a6a60cbc9ad0c6e1d0ffb1bc70c49af5",
      "tree": {
        "sha": "1a034d8f11035bf508c82a9cac2c8d935c648d03",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1a034d8f11035bf508c82a9cac2c8d935c648d03"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f1941e8bfd2eecc478c7660434b1ebf6a64095a0",
          "sha": "f1941e8bfd2eecc478c7660434b1ebf6a64095a0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f1941e8bfd2eecc478c7660434b1ebf6a64095a0"
        }
      ],
      "message": "mempool: Pass in -maxmempool instead of referencing gArgs\n\n- Store the mempool size limit (-maxmempool) in CTxMemPool as a member.\n\n- Remove the requirement to explicitly specify a mempool size limit for\n  CTxMemPool::GetMinFee(...) and LimitMempoolSize(...), just use the\n  stored mempool size limit where possible.\n\n- Remove all now-unnecessary instances of:\n    gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000\n\nThe code change in CChainState::GetCoinsCacheSizeState() is correct\nsince the coinscache should not repurpose \"extra\" mempool memory\nheadroom for itself if the mempool doesn't even exist.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:36:18Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-10-28T17:46:19Z"
      },
      "sha": "82f00de7a6a60cbc9ad0c6e1d0ffb1bc70c49af5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM4NmM5NDcyYzg3NjQ3MzgyODJlNmQxNjNiNDJlMTVhOGZlZGE3ZWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/386c9472c8764738282e6d163b42e15a8feda7ea",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/386c9472c8764738282e6d163b42e15a8feda7ea",
      "tree": {
        "sha": "e1598d961ceba7cee592cfd3234633e8e66ff99c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e1598d961ceba7cee592cfd3234633e8e66ff99c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/82f00de7a6a60cbc9ad0c6e1d0ffb1bc70c49af5",
          "sha": "82f00de7a6a60cbc9ad0c6e1d0ffb1bc70c49af5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/82f00de7a6a60cbc9ad0c6e1d0ffb1bc70c49af5"
        }
      ],
      "message": "mempool: Make GetMinFee() with custom size protected\n\nThe version of GetMinFee() with a custom size specification is and\nshould only be used by tests. Mark it as protected and use a derived\nclass exposing GetMinFee() as public in tests.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:36:36Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-27T19:47:00Z"
      },
      "sha": "386c9472c8764738282e6d163b42e15a8feda7ea"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUxYzdhNDFhNWViNmZjYjYwMzMzODEyYzc3MGQ4MDIyN2NmN2I2NGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/51c7a41a5eb6fcb60333812c770d80227cf7b64d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/51c7a41a5eb6fcb60333812c770d80227cf7b64d",
      "tree": {
        "sha": "7685046b0be97b6f060241aedb8ffd7830151c93",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7685046b0be97b6f060241aedb8ffd7830151c93"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/386c9472c8764738282e6d163b42e15a8feda7ea",
          "sha": "386c9472c8764738282e6d163b42e15a8feda7ea",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/386c9472c8764738282e6d163b42e15a8feda7ea"
        }
      ],
      "message": "init: Only determine maxmempool once\n\nNow that MemPoolOptions has a correctly-determined max_size member, use\nthat instead of redetermining it to print the log line.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:39:31Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-18T15:48:29Z"
      },
      "sha": "51c7a41a5eb6fcb60333812c770d80227cf7b64d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFhOTE0MWNkODE4NWNiN2FkNTMyYmMxNmZlYjlkMzAyYjA1ZDk2OTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aa9141cd8185cb7ad532bc16feb9d302b05d9697",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aa9141cd8185cb7ad532bc16feb9d302b05d9697",
      "tree": {
        "sha": "18dad4b3fcdeb21bcfd473528e1764a78fffd2b9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/18dad4b3fcdeb21bcfd473528e1764a78fffd2b9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/51c7a41a5eb6fcb60333812c770d80227cf7b64d",
          "sha": "51c7a41a5eb6fcb60333812c770d80227cf7b64d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/51c7a41a5eb6fcb60333812c770d80227cf7b64d"
        }
      ],
      "message": "mempool: Pass in -mempoolexpiry instead of referencing gArgs\n\n- Store the mempool expiry (-mempoolexpiry) in CTxMemPool as a\n  std::chrono::seconds member.\n\n- Remove the requirement to explicitly specify a mempool expiry for\n  LimitMempoolSize(...), just use the newly-introduced member.\n\n- Remove all now-unnecessary instances of:\n    std::chrono::hours{gArgs.GetIntArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY)}",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:42:23Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-10-28T18:13:04Z"
      },
      "sha": "aa9141cd8185cb7ad532bc16feb9d302b05d9697"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFlY2M3NzMyMWRlYjYxYjlmNjg4OGU0ZTEwNzUyYjlkOTcyZmQyNmU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1ecc77321deb61b9f6888e4e10752b9d972fd26e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1ecc77321deb61b9f6888e4e10752b9d972fd26e",
      "tree": {
        "sha": "dd7b4c8f4800c3d250c2c7cd477c7d0080bda8e7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dd7b4c8f4800c3d250c2c7cd477c7d0080bda8e7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aa9141cd8185cb7ad532bc16feb9d302b05d9697",
          "sha": "aa9141cd8185cb7ad532bc16feb9d302b05d9697",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/aa9141cd8185cb7ad532bc16feb9d302b05d9697"
        }
      ],
      "message": "scripted-diff: Rename DEFAULT_MEMPOOL_EXPIRY to indicate time unit\n\nBetter to be explicit when it comes to time to avoid unintentional bugs.\n\n-BEGIN VERIFY SCRIPT-\nfind_regex=\"DEFAULT_MEMPOOL_EXPIRY\" \\\n    && git grep -l -E \"$find_regex\" \\\n        | xargs sed -i -E \"s@$find_regex@\\0_HOURS@g\"\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:42:40Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-21T14:37:10Z"
      },
      "sha": "1ecc77321deb61b9f6888e4e10752b9d972fd26e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcxNmJiNWZiZDMxMDc3YmJlOTlkMTFhNTRkNmMyYzI1MGFmYzgwODU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/716bb5fbd31077bbe99d11a54d6c2c250afc8085",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/716bb5fbd31077bbe99d11a54d6c2c250afc8085",
      "tree": {
        "sha": "e645c1e5c83297d4edf0eff2fdecb84e4917e130",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e645c1e5c83297d4edf0eff2fdecb84e4917e130"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1ecc77321deb61b9f6888e4e10752b9d972fd26e",
          "sha": "1ecc77321deb61b9f6888e4e10752b9d972fd26e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1ecc77321deb61b9f6888e4e10752b9d972fd26e"
        }
      ],
      "message": "scripted-diff: Rename anc/desc size limit vars to indicate SI unit\n\nBetter to be explicit when it comes to sizes to avoid unintentional\nbugs. We use MB and KB all over the place.\n\n-BEGIN VERIFY SCRIPT-\nfind_regex=\"DEFAULT_(ANCESTOR|DESCENDANT)_SIZE_LIMIT\" \\\n    && git grep -l -E \"$find_regex\" \\\n        | xargs sed -i -E \"s@$find_regex@\\0_KVB@g\"\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:42:40Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-03-18T01:54:40Z"
      },
      "sha": "716bb5fbd31077bbe99d11a54d6c2c250afc8085"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkzMzM0MjcwMTQ2OTVhYzIzNWM5NmQ0ODc5MTA5ODE2OGRmZGM5ZGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9333427014695ac235c96d48791098168dfdc9db",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9333427014695ac235c96d48791098168dfdc9db",
      "tree": {
        "sha": "07ad5f9e9837a97418739be0a09e896a3ced829e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/07ad5f9e9837a97418739be0a09e896a3ced829e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/716bb5fbd31077bbe99d11a54d6c2c250afc8085",
          "sha": "716bb5fbd31077bbe99d11a54d6c2c250afc8085",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/716bb5fbd31077bbe99d11a54d6c2c250afc8085"
        }
      ],
      "message": "mempool: Introduce (still-unused) MemPoolLimits\n\nThey live as a CTxMemPool member.\n\n[META] These limits will be used in subsequent commits to replace calls\n       to gArgs.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:46:10Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-03-18T02:09:05Z"
      },
      "sha": "9333427014695ac235c96d48791098168dfdc9db"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM4YWYyYmNmMzU4YTcyYjk0NTdkMzcwMjgyZTU3ZjRiZTFjNWM4NDk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/38af2bcf358a72b9457d370282e57f4be1c5c849",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/38af2bcf358a72b9457d370282e57f4be1c5c849",
      "tree": {
        "sha": "2cdc8a30c4c048622262777cec48db88000f1419",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2cdc8a30c4c048622262777cec48db88000f1419"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9333427014695ac235c96d48791098168dfdc9db",
          "sha": "9333427014695ac235c96d48791098168dfdc9db",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9333427014695ac235c96d48791098168dfdc9db"
        }
      ],
      "message": "mempoolaccept: Use limits from mempool in constructor",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:46:20Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-07T01:19:50Z"
      },
      "sha": "38af2bcf358a72b9457d370282e57f4be1c5c849"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDllOTNiMTAzMDE4MmVmZjkyZWY5MTE4MWUxN2M3ZGQ0OThjN2UxNjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9e93b1030182eff92ef91181e17c7dd498c7e164",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9e93b1030182eff92ef91181e17c7dd498c7e164",
      "tree": {
        "sha": "4c131e6f28b17c130903fbea7bbb894bfecbc553",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4c131e6f28b17c130903fbea7bbb894bfecbc553"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/38af2bcf358a72b9457d370282e57f4be1c5c849",
          "sha": "38af2bcf358a72b9457d370282e57f4be1c5c849",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/38af2bcf358a72b9457d370282e57f4be1c5c849"
        }
      ],
      "message": "node/ifaces: Use existing MemPoolLimits",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:46:20Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-18T18:43:59Z"
      },
      "sha": "9e93b1030182eff92ef91181e17c7dd498c7e164"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZjNWM2MGM0MTI0MjkzZDk0ODczNTc1NmY4NGVmYzg1MjYyZWE2NmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6c5c60c4124293d948735756f84efc85262ea66f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6c5c60c4124293d948735756f84efc85262ea66f",
      "tree": {
        "sha": "65d8b406df73768dfc440731258f44f6ee2c513a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/65d8b406df73768dfc440731258f44f6ee2c513a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9e93b1030182eff92ef91181e17c7dd498c7e164",
          "sha": "9e93b1030182eff92ef91181e17c7dd498c7e164",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9e93b1030182eff92ef91181e17c7dd498c7e164"
        }
      ],
      "message": "mempool: Use m_limit for UpdateTransactionsFromBlock\n\nSince:\n\n- UpdateTransactionsFromBlock is only called by\n  MaybeUpdateMempoolForReorg, which calls it with the gArgs-determined\n  ancestor limits\n- UpdateForDescendants is only called by UpdateTransactionsFromBlock\n  with the ancestor limits unchanged\n\nWe can remove the requirement to specify the ancestor limits for both\nUpdateTransactionsFromBlock and UpdateForDescendants and just use the\nvalues in the m_limits member.\n\nAlso move some removed comments to MemPoolLimits struct members.\n\nThe uint64_t cast in UpdateForDescendants is not new behavior,\nsee the diff in CChainState::MaybeUpdateMempoolForReorg for where they\nwere previously.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:49:15Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-05-18T18:44:25Z"
      },
      "sha": "6c5c60c4124293d948735756f84efc85262ea66f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDlhM2Q4MjVjMzBlOGU2MTE4ZDc0YTRlNTY4NzQ0Y2I5ZDAzZjdmNWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9a3d825c30e8e6118d74a4e568744cb9d03f7f5d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9a3d825c30e8e6118d74a4e568744cb9d03f7f5d",
      "tree": {
        "sha": "0b18725efed5617b13a42ae0aca3f24f1e165b0b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0b18725efed5617b13a42ae0aca3f24f1e165b0b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6c5c60c4124293d948735756f84efc85262ea66f",
          "sha": "6c5c60c4124293d948735756f84efc85262ea66f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6c5c60c4124293d948735756f84efc85262ea66f"
        }
      ],
      "message": "init: Remove redundant -*mempool*, -limit* queries\n\nNow that MemPoolOptions has correctly-determined max_size and limits\nmembers, perform sanity checks on that instead of re-determining the\noptions.",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T19:53:45Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-06T21:14:39Z"
      },
      "sha": "9a3d825c30e8e6118d74a4e568744cb9d03f7f5d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQxNjg0YmVhYmU1YjczOGMyY2M4M2RlODNlMWFhZWYxMWE3NjFiNjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "tree": {
        "sha": "78a19775e3c20969688f8cfee621efdb4049f736",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/78a19775e3c20969688f8cfee621efdb4049f736"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9a3d825c30e8e6118d74a4e568744cb9d03f7f5d",
          "sha": "9a3d825c30e8e6118d74a4e568744cb9d03f7f5d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9a3d825c30e8e6118d74a4e568744cb9d03f7f5d"
        }
      ],
      "message": "fees: Pass in a filepath instead of referencing gArgs",
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2022-06-28T20:08:34Z"
      },
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-12-08T21:19:31Z"
      },
      "sha": "d1684beabe5b738c2cc83de83e1aaef11a761b69"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6896991758,
      "node_id": "HRFPE_lADOABII585LQhlPzwAAAAGbF74O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6896991758",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-28T20:09:26Z"
    },
    {
      "event": "commented",
      "id": 1169182868,
      "node_id": "IC_kwDOABII585FsFCU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169182868",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-28T20:10:04Z",
      "updated_at": "2022-06-28T20:10:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "Pushed b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920 -> d1684beabe5b738c2cc83de83e1aaef11a761b69\r\n- Addressed some of Marco's review comments",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1169182868",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "commented",
      "id": 1169185167,
      "node_id": "IC_kwDOABII585FsFmP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169185167",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-28T20:12:22Z",
      "updated_at": "2022-06-28T20:18:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "I'm likely not going to repush for nits from this point forwards, since there's quite a lot of Code Review ACKs already and I want to reduce re-review burden. I hope that's understandable. We can always follow up in future PRs.\r\n\r\n-----\r\n\r\nPlease ignore the GitHub Project noise of me moving this PR across columns, I just forgot to do so earlier.",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1169185167",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "moved_columns_in_project",
      "id": 6897027654,
      "node_id": "MCIPE_lADOABII585LQhlPzwAAAAGbGEpG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6897027654",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-28T20:15:39Z",
      "project_card": {
        "id": 82934993,
        "url": "https://api.github.com/projects/columns/cards/82934993",
        "project_id": 14269697,
        "project_url": "https://api.github.com/projects/14269697",
        "column_name": "Ready for Review PRs",
        "previous_column_name": "WIP PRs"
      }
    },
    {
      "event": "reviewed",
      "id": 1022356835,
      "node_id": "PRR_kwDOABII58487-1j",
      "url": null,
      "actor": null,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK d1684beabe5b738c2cc83de83e1aaef11a761b69. Just minor cleanups since last review, mostly switching to brace initialization",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#pullrequestreview-1022356835",
      "submitted_at": "2022-06-28T20:22:08Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
    },
    {
      "event": "commented",
      "id": 1169617891,
      "node_id": "IC_kwDOABII585FtvPj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169617891",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-29T07:12:59Z",
      "updated_at": "2022-06-29T07:12:59Z",
      "author_association": "MEMBER",
      "body": "ACK d1684beabe5b738c2cc83de83e1aaef11a761b69 🍜\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK d1684beabe5b738c2cc83de83e1aaef11a761b69 🍜\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYEACgkQzit1aX5p\r\npUgupwv9G/2wfNggsXuzCwHm6yNWsM5mmsQMgwhxAAWWFG0O+Wa3rbImNzW04Qp5\r\nLcHOWPiZ4nx/aLL5TtvzEPYJ5iy3inLU/ekMLEzRoRJgdWaPAnXUzXEyK6/wXAie\r\nJ2Oa1RZTpJ/HuaqnrQ8grupoFHkLw7RQ3j4uhOn1aROUREz+C4JragufIQtXCnMJ\r\nEBAMn0MnNo3TWmeLEVxdpjkk6Hhuln4Kqv1/MGo9g+CLu6zFsLssBMCO2lGP/2up\r\n5p/HKyPVYh/8lqBjGW2JH7YsHj5pnS614okonpzOEKN6Qktx/YAXnnMjJyW3SvmP\r\nlVdYjNW38nekegQNSiceliYQauO6SiwmmEL4r921ytAR/zKjYEvKrpj2+w8XclU2\r\ns/KGZX2x9LqtxkL7rK0HBTqOL4ELmcp2cDqeYiPnL5FHgmERODnE+uACNszpYCHR\r\nwaRWtqkJE5tVYn7gJ3frICTDUWQFbcR5+ofdDDQPWahKfqZwSiRAd68R7x4tL6Dp\r\nPKfpIgo5\r\n=seCw\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1169617891",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "merged",
      "id": 6899765648,
      "node_id": "ME_lADOABII585LQhlPzwAAAAGbQhGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6899765648",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e4e201dfd9a9dbd8e22cac688dbbde16234cd937",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e4e201dfd9a9dbd8e22cac688dbbde16234cd937",
      "created_at": "2022-06-29T07:17:19Z"
    },
    {
      "event": "closed",
      "id": 6899765681,
      "node_id": "CE_lADOABII585LQhlPzwAAAAGbQhGx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6899765681",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-29T07:17:20Z"
    },
    {
      "event": "moved_columns_in_project",
      "id": 6899765752,
      "node_id": "MCIPE_lADOABII585LQhlPzwAAAAGbQhH4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6899765752",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-29T07:17:20Z",
      "project_card": {
        "id": 82934993,
        "url": "https://api.github.com/projects/columns/cards/82934993",
        "project_id": 14269697,
        "project_url": "https://api.github.com/projects/14269697",
        "column_name": "Done or Closed or Rethinking",
        "previous_column_name": "Ready for Review PRs"
      }
    },
    {
      "event": "commented",
      "id": 1169623869,
      "node_id": "IC_kwDOABII585Ftws9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169623869",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-29T07:19:57Z",
      "updated_at": "2022-06-29T07:19:57Z",
      "author_association": "MEMBER",
      "body": "Let me know if you want to follow-up for https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908811064 or want me to do it. I see that you have a follow-up already open, so I don't want to duplicate work or queue up merge conflicts.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1169623869",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "commented",
      "id": 1170135810,
      "node_id": "IC_kwDOABII585FvtsC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1170135810",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-29T15:36:54Z",
      "updated_at": "2022-06-29T15:36:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "@MarcoFalke Answered in: https://github.com/bitcoin/bitcoin/pull/25487#issuecomment-1170132932",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1170135810",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25290"
    },
    {
      "event": "mentioned",
      "id": 6903577523,
      "node_id": "MEE_lADOABII585LQhlPzwAAAAGbfDuz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6903577523",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-29T15:36:54Z"
    },
    {
      "event": "subscribed",
      "id": 6903577539,
      "node_id": "SE_lADOABII585LQhlPzwAAAAGbfDvD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6903577539",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-29T15:36:54Z"
    },
    {
      "event": "referenced",
      "id": 6904833456,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAGbj2Ww",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6904833456",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f6895b4ddded24afcfd4656dc98325fa58b33920",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/f6895b4ddded24afcfd4656dc98325fa58b33920",
      "created_at": "2022-06-29T18:25:17Z"
    },
    {
      "event": "referenced",
      "id": 7206737366,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAGtjhXW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7206737366",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ba91ffa1ce09f8732cb9dbb0c7eddc3199c81b9d",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/ba91ffa1ce09f8732cb9dbb0c7eddc3199c81b9d",
      "created_at": "2022-08-17T14:47:58Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-17T14:51:35Z",
      "updated_at": "2022-08-17T14:51:35Z",
      "source": {
        "issue": {
          "id": 1341891304,
          "node_id": "PR_kwDOABII5849VJRd",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25862",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25862/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25862/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25862/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25862",
          "number": 25862,
          "state": "closed",
          "state_reason": null,
          "title": "refactor, kernel: Remove gArgs accesses from dbwrapper and txdb",
          "body": "Code in the libbitcoin_kernel library should not be calling `ArgsManager` methods or trying to read options from the command line. Instead it should just get options values from simple structs and function arguments that are passed in externally. This PR removes `gArgs` accesses from `dbwrapper` and `txdb` modules by defining appropriate options structs, and is a followup to PR's #25290 #25487 #25527 which remove other `ArgsManager` calls from kernel modules.\r\n\r\nThis PR does not change behavior in any way. It is a simpler alternative to #25623 because the only thing it does is remove `gArgs` references from kernel code. It avoids other unnecessary changes like adding options to the kernel API (they can be added separately later).",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25862",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25862.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25862.patch"
          },
          "closed_at": "2023-02-17T21:55:24Z",
          "created_at": "2022-08-17T14:51:35Z",
          "updated_at": "2023-02-17T21:55:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 7207192261,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAGtlQbF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7207192261",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d98d2aa19f9f86d1b1af731e6ea2004abb182395",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/d98d2aa19f9f86d1b1af731e6ea2004abb182395",
      "created_at": "2022-08-17T15:41:58Z"
    },
    {
      "event": "referenced",
      "id": 7207192487,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAGtlQen",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7207192487",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "841c3a1205befa4882cc2d2014229df9b27c38a1",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/841c3a1205befa4882cc2d2014229df9b27c38a1",
      "created_at": "2022-08-17T15:42:00Z"
    },
    {
      "event": "referenced",
      "id": 7207402407,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAGtmDun",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7207402407",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b86aabc5207af8347307ee66b9a783a1e94e13ba",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/b86aabc5207af8347307ee66b9a783a1e94e13ba",
      "created_at": "2022-08-17T16:05:24Z"
    },
    {
      "event": "referenced",
      "id": 7207992151,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAGtoTtX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7207992151",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "13d466e247e77ea9f603d0205e484726508d7b99",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/13d466e247e77ea9f603d0205e484726508d7b99",
      "created_at": "2022-08-17T17:36:17Z"
    },
    {
      "event": "referenced",
      "id": 7214761129,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAGuCISp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7214761129",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "370189fe960924bf254591316ab03971cef98335",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/370189fe960924bf254591316ab03971cef98335",
      "created_at": "2022-08-18T14:09:47Z"
    },
    {
      "event": "referenced",
      "id": 7234905240,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAGvO-SY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7234905240",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a6b3dbeca462f224fb66d06e513752f6a4350c57",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/a6b3dbeca462f224fb66d06e513752f6a4350c57",
      "created_at": "2022-08-22T17:32:01Z"
    },
    {
      "event": "referenced",
      "id": 7234905363,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAGvO-UT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7234905363",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "1c77e2e0dbf18043175fbb9b8632a64b74672678",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/1c77e2e0dbf18043175fbb9b8632a64b74672678",
      "created_at": "2022-08-22T17:32:02Z"
    },
    {
      "event": "referenced",
      "id": 7269310201,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAGxSN75",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7269310201",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a76f6285851ca4e80c748ea38c20607b5ee5b00b",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/a76f6285851ca4e80c748ea38c20607b5ee5b00b",
      "created_at": "2022-08-26T17:36:25Z"
    },
    {
      "event": "referenced",
      "id": 7269310263,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAGxSN83",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7269310263",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "4e65b3b2224562c90e2ab16a7bd319bdf19da1a8",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/4e65b3b2224562c90e2ab16a7bd319bdf19da1a8",
      "created_at": "2022-08-26T17:36:25Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-15T19:32:12Z",
      "updated_at": "2022-09-15T19:32:12Z",
      "source": {
        "issue": {
          "id": 1374989332,
          "node_id": "PR_kwDOABII584_DMhm",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26103",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26103/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26103/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26103/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26103",
          "number": 26103,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: mempool: use CTxMemPool::Limits",
          "body": "Mempool currently considers 4 limits regarding ancestor and descendant count and size, which get passed around between functions quite a bit. This PR uses `CTxMemPool::Limits` introduced in https://github.com/bitcoin/bitcoin/pull/25290 to simplify those signatures and callsites.\r\n\r\nThe purpose of this PR is to improve readability and maintenance, without behaviour change.\r\n\r\nAs noted in the first commit \"refactor: mempool: change MemPoolLimits members to uint\", we currently have an underflow issue where a user could pass a negative `-limitancestorsize`, which is eventually cast to an unsigned integer. This behaviour already exists. Because it's orthogonal and to minimize scope, I think this should be fixed in a separate PR.",
          "user": {
            "login": "stickies-v",
            "id": 69010457,
            "node_id": "MDQ6VXNlcjY5MDEwNDU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stickies-v",
            "html_url": "https://github.com/stickies-v",
            "followers_url": "https://api.github.com/users/stickies-v/followers",
            "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
            "organizations_url": "https://api.github.com/users/stickies-v/orgs",
            "repos_url": "https://api.github.com/users/stickies-v/repos",
            "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stickies-v/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26103",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26103.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26103.patch"
          },
          "closed_at": "2022-10-09T14:28:57Z",
          "created_at": "2022-09-15T19:32:12Z",
          "updated_at": "2023-10-09T12:13:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-24T15:32:56Z",
      "updated_at": "2022-09-24T15:32:56Z",
      "source": {
        "issue": {
          "id": 1384716435,
          "node_id": "PR_kwDOBaFKMM4_iyBt",
          "url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/4",
          "repository_url": "https://api.github.com/repos/TheCharlatan/bitcoin",
          "labels_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/4/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/4/comments",
          "events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/4/events",
          "html_url": "https://github.com/TheCharlatan/bitcoin/pull/4",
          "number": 4,
          "state": "closed",
          "state_reason": null,
          "title": "refactor / kernel: Move non-gArgs chainparams functionality to kernel",
          "body": "This pull request is mostly a code-move of chainparams related functionality into the kernel library. @dongcarl is the original author of this patchset, these commits were taken from https://github.com/dongcarl/bitcoin/tree/2022-03-libbitcoinkernel-chainparams-args-only. \r\n\r\n#### Context \r\n\r\nThe bitcoin kernel library currently relies on code containing user configurations through the `ArgsManager`. This is not optimal, since as a stand-alone library it should not rely on most of the user-defined configuration. Instead, its interfaces should accept control and options structs that control the kernel library's desired configuration.\r\n\r\nA lot of tweakable parameters are defined within `CChainParams` and depend on access on global `ArgsManager gArgs` instance. \r\n\r\n#### Changes\r\n\r\nThis PR splits the chainparams code of chainparams.cpp/h and chainparamsbase.cpp/h into parts depending on `gArgs` access and parts that don't. These are then moved into separate files within the kernel/ directory.\r\n\r\nThough a lot of code had to be moved and reshuffled to accommodate to the validation of both `gArgs` and options structs, the behavior should not change by the hand of this PR. \r\n\r\nSimilar work towards decoupling the `ArgsManager` from the kernel has been done in \r\nhttps://github.com/bitcoin/bitcoin/pull/25290, https://github.com/bitcoin/bitcoin/pull/25487 and https://github.com/bitcoin/bitcoin/pull/25527. Similar PR's are open in https://github.com/bitcoin/bitcoin/pull/25862 and https://github.com/bitcoin/bitcoin/pull/25152. \r\n\r\n#### Currently Identified Drawbacks\r\n\r\nThere is no patch done yet introducing the kernel/chainparams.cpp/h into the kernel namespace. Such a change would be very intrusive to the entire codebase and hard to review as part of this patch set. Due to its intrusiveness, I am not sure whether this is the correct path forward or not. \r\n\r\nThe `globalChainBaseParams` global had to be moved into the kernel in order to allow calls to `BaseParams()` from contexts without access to gArgs. This is not ideal, but was the only way forward I could think of so far without basing this pull request on more prior work decoupling `gArgs` from the various call sites of `BaseParams()`.",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "OWNER",
          "locked": false,
          "comments": 0,
          "pull_request": {
            "url": "https://api.github.com/repos/TheCharlatan/bitcoin/pulls/4",
            "html_url": "https://github.com/TheCharlatan/bitcoin/pull/4",
            "diff_url": "https://github.com/TheCharlatan/bitcoin/pull/4.diff",
            "patch_url": "https://github.com/TheCharlatan/bitcoin/pull/4.patch"
          },
          "closed_at": "2023-03-17T16:11:23Z",
          "created_at": "2022-09-24T15:32:56Z",
          "updated_at": "2023-03-17T16:11:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-24T15:42:36Z",
      "updated_at": "2022-09-24T15:42:36Z",
      "source": {
        "issue": {
          "id": 1384719233,
          "node_id": "PR_kwDOABII584_iyfL",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26177/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26177",
          "number": 26177,
          "state": "closed",
          "state_reason": null,
          "title": "refactor / kernel: Move non-gArgs chainparams functionality to kernel",
          "body": "This pull request is part of the `libbitcoinkernel` project https://github.com/bitcoin/bitcoin/issues/24303 https://github.com/bitcoin/bitcoin/projects/18 and more specifically its \"Step 2: Decouple most non-consensus code from libbitcoinkernel\". dongcarl is the original author of this patchset, these commits were taken from https://github.com/dongcarl/bitcoin/tree/2022-03-libbitcoinkernel-chainparams-args-only. \r\n\r\n#### Context \r\n\r\nThe bitcoin kernel library currently relies on code containing user configurations through the `ArgsManager`. This is not optimal, since as a stand-alone library it should not rely on bitcoind's argument parsing logic. Instead, its interfaces should accept control and options structs that control the kernel library's desired configuration.\r\n\r\n\r\nSimilar work towards decoupling the `ArgsManager` from the kernel has been done in \r\nhttps://github.com/bitcoin/bitcoin/pull/25290, https://github.com/bitcoin/bitcoin/pull/25487, https://github.com/bitcoin/bitcoin/pull/25527 and https://github.com/bitcoin/bitcoin/pull/25862.\r\n\r\n#### Changes\r\n\r\nBy moving the `CChainParams` class definition into the kernel and giving it new factory functions `CChainParams::{RegTest,SigNet,Main,TestNet}`it can be constructed without an `ArgsManager` reference, unlike the current factory function `CreateChainParams`.\r\n\r\nThe first few commits remove uses of `ArgsManager` within `CChainParams`. Then the `CChainParams` definition is moved to a new file in the `kernel/` subdirectory.\r\n\r\n\r\n",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 23,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26177",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26177",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26177.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26177.patch"
          },
          "closed_at": "2023-03-16T13:56:49Z",
          "created_at": "2022-09-24T15:42:36Z",
          "updated_at": "2023-03-17T15:30:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 7549476409,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAHB-945",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7549476409",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d33c5894e97556c73578ec5a6397501d65a23284",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/d33c5894e97556c73578ec5a6397501d65a23284",
      "created_at": "2022-10-09T14:28:47Z"
    },
    {
      "event": "referenced",
      "id": 7593106521,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAHElZxZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7593106521",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "cf0b02fb274d86ff77f6099d155978758510ac05",
      "commit_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits/cf0b02fb274d86ff77f6099d155978758510ac05",
      "created_at": "2022-10-14T20:04:39Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-14T21:38:35Z",
      "updated_at": "2022-10-14T21:38:35Z",
      "source": {
        "issue": {
          "id": 230539233,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTIxODgwMDE0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10443/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/10443",
          "number": 10443,
          "state": "closed",
          "state_reason": null,
          "title": "Add fee_est tool for debugging fee estimation code",
          "body": "This PR adds an `-estlog` option for saving live fee estimation data from a bitcoin node, and a `fee_est` command line tool for processing the data and testing fee estimation code.\r\n\r\nThe idea is to make it easier to test improvements to fee estimation like https://github.com/bitcoin/bitcoin/pull/10199 in a more systematic and reproducible way.\r\n\r\nSome documentation is in [`src/test/fee_est/README.md`](https://github.com/ryanofsky/bitcoin/blob/pr/fee/src/test/fee_est/README.md)\r\n\r\nSample log file: [`est.log.xz`](https://storage.googleapis.com/ryanofsky/est.log.xz) (65M)\r\n\r\nSample [`fee_est.cpp`](https://github.com/ryanofsky/bitcoin/blob/pr/fee/src/test/fee_est/fee_est.cpp)  graph output: \r\n\r\n![graph](https://cloud.githubusercontent.com/assets/7133040/26331057/f2de8d0c-3f1c-11e7-99ea-de1801d13b05.png)\r\n\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            },
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 22,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10443",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/10443",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/10443.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/10443.patch"
          },
          "closed_at": "2023-09-19T11:38:20Z",
          "created_at": "2017-05-22T22:40:55Z",
          "updated_at": "2023-09-19T11:38:21Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 8551314690,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAH9srUC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8551314690",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9321df4487682b9693691132d9cf3f6b158b4c0a",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9321df4487682b9693691132d9cf3f6b158b4c0a",
      "created_at": "2023-02-17T21:55:18Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-10T10:59:27Z",
      "updated_at": "2023-03-10T10:59:27Z",
      "source": {
        "issue": {
          "id": 1618790798,
          "node_id": "PR_kwDOABII585LwelC",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27238",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27238/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27238/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27238/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27238",
          "number": 27238,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Split logging utilities from system.h",
          "body": "This pull request is part of the `libbitcoinkernel` project https://github.com/bitcoin/bitcoin/issues/24303 https://github.com/bitcoin/bitcoin/projects/18 and more specifically its \"Step 2: Decouple most non-consensus code from libbitcoinkernel\". These commits were originally authored by empact and are taken from their parent PR #25152.\r\n\r\n#### Context\r\n\r\nThere is an ongoing effort to decouple the `ArgsManager` used for command line parsing user-provided arguments from the libbitcoinkernel library (https://github.com/bitcoin/bitcoin/pull/25290, https://github.com/bitcoin/bitcoin/pull/25487, https://github.com/bitcoin/bitcoin/pull/25527, https://github.com/bitcoin/bitcoin/pull/25862, https://github.com/bitcoin/bitcoin/pull/26177, and https://github.com/bitcoin/bitcoin/pull/27125). The `ArgsManager` is defined in `system.h`.\r\n\r\n#### Changes\r\n\r\nNext to providing better code organization, this PR removes some reliance of the tree of libbitcoinkernel header includes on `system.h` (and thus the `ArgsManager` definition) by moving some logging functions out of the `system.*` files.\r\n\r\nFurther commits splitting more functionality out of `system.h` are still in #25152 and will be submitted in separate PRs once this PR has been processed.\r\n",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27238",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27238",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27238.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27238.patch"
          },
          "closed_at": "2023-03-14T08:56:59Z",
          "created_at": "2023-03-10T10:59:26Z",
          "updated_at": "2023-03-14T17:37:36Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 8740797334,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAII_fuW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8740797334",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b175bdb9b25c0a95cc6d2340cf756f17aaa435fb",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/b175bdb9b25c0a95cc6d2340cf756f17aaa435fb",
      "created_at": "2023-03-14T08:56:49Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T11:11:00Z",
      "updated_at": "2023-03-14T11:11:00Z",
      "source": {
        "issue": {
          "id": 1623253674,
          "node_id": "PR_kwDOABII585L_JCH",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27254",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27254/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27254/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27254/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27254",
          "number": 27254,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Extract util/fs from util/system",
          "body": "This pull request is part of the `libbitcoinkernel` project https://github.com/bitcoin/bitcoin/issues/24303 https://github.com/bitcoin/bitcoin/projects/18 and more specifically its \"Step 2: Decouple most non-consensus code from libbitcoinkernel\". This commit was originally authored by empact and is taken from its parent PR #25152.\r\n\r\n#### Context\r\n\r\nThere is an ongoing effort to decouple the `ArgsManager` used for command line parsing user-provided arguments from the libbitcoinkernel library (https://github.com/bitcoin/bitcoin/pull/25290, https://github.com/bitcoin/bitcoin/pull/25487, https://github.com/bitcoin/bitcoin/pull/25527, https://github.com/bitcoin/bitcoin/pull/25862, https://github.com/bitcoin/bitcoin/pull/26177, and https://github.com/bitcoin/bitcoin/pull/27125). The `ArgsManager` is defined in `system.h`. A similar pull request extracting functionality from `system.h` has been merged in https://github.com/bitcoin/bitcoin/pull/27238.\r\n\r\n#### Changes\r\n\r\nNext to providing better code organization, this PR removes some reliance of the tree of libbitcoinkernel header includes on `system.h` (and thus the `ArgsManager` definition) by moving filesystem related functions out of the `system.*` files. \r\n\r\nThere is already a pair of `fs.h` / `fs.cpp` in the top-level `src/` directory. They were not combined with the files introduced here, to keep the patch cleaner and more importantly because they are often included without the utility functions. The new files are therefore named `fs_helpers` and the existing `fs` files are moved into the util directory.\r\n\r\nFurther commits splitting more functionality out of `system.h` are still in #25152 and will be submitted in separate PRs once this PR has been processed.",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27254",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27254",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27254.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27254.patch"
          },
          "closed_at": "2023-04-03T13:41:34Z",
          "created_at": "2023-03-14T11:11:00Z",
          "updated_at": "2023-04-03T13:41:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 8767678123,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAIKmCar",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8767678123",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e695d8536e534f1e59de4a62a0d87a93e7a73456",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e695d8536e534f1e59de4a62a0d87a93e7a73456",
      "created_at": "2023-03-16T13:56:44Z"
    },
    {
      "event": "referenced",
      "id": 8913155660,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAITQ_ZM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8913155660",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "369d4c03b7084de967576759545ba36a17fc18bb",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/369d4c03b7084de967576759545ba36a17fc18bb",
      "created_at": "2023-04-03T13:41:32Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-06T08:27:18Z",
      "updated_at": "2023-05-06T08:27:18Z",
      "source": {
        "issue": {
          "id": 1698534450,
          "node_id": "I_kwDOABII585lPZQy",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27587",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27587/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27587/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27587/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/27587",
          "number": 27587,
          "state": "open",
          "state_reason": null,
          "title": "Libbitcoinkernel Project Tracking",
          "body": "#### Project Board: https://github.com/orgs/bitcoin/projects/3\r\n\r\nThis is the tracking issue for the `libbitcoinkernel` project. The original tracking issue is found in https://github.com/bitcoin/bitcoin/issues/24303. This issue contains much of the content written by Carl Dong in the original issue but is more regularly updated.\r\n\r\nThe libbitcoinkernel project is a new attempt at extracting our consensus engine. The kernel part of the name highlights one of the key functional differences from libbitcoinconsensus and in fact, most libraries: it is a stateful library that can spawn threads, do caching, do I/O, and many other things that one may not normally expect from a library.\r\n\r\nThis statefulness is necessary for libbitcoinkernel's decidedly incremental approach to extracting our consensus engine. This approach favors:\r\n\r\n1. Reusing existing code\r\n...which allows us to be continually integrated with Bitcoin Core and benefit from our extensive test suite\r\n    \r\n2. Incremental decoupling instead of building from scratch\r\n ...which allows us to avoid having to prematurely optimize for a \"perfect\" boundary or API (tends to be highly subjective, non-obvious, may lead to unproductive bike-shedding before we've even done anything meaningful)\r\n\r\nThe work of extracting our consensus engine into a library and making the API ergonomic is likely to be a multi-release project involving multiple contributors. The incremental approach takes this into account and respects the sheer size of work (both in writing code and getting it through review) that needs to be undertaken.\r\n\r\n## PRs\r\n\r\nPlease see the project board: https://github.com/orgs/bitcoin/projects/3\r\n\r\n## The Game Plan\r\n\r\n* [ ] Stage 1\r\n    * [x] Step 1\r\n    * [x] Step 2\r\n    * [ ] Step 3\r\n    * [ ] Step 4\r\n* [ ] Stage 2\r\n\r\n### Stage 1: Extracting out a usable `libbitcoinkernel.{so,dylib,dll}`\r\n#### Step 1: Introduce internal `bitcoin-chainstate` and `libbitcoinkernel`\r\n##### a.k.a. What `.cpp` files do we need?\r\n\r\nThis `bitcoin-chainstate` executable uses our consensus engine and its build system code revealed the minimal set of files needed to link in to use the consensus engine as-is. It is important to note that this list of files will serve as a guiding \"North Star\" for this first stage of the plan: as more and more modules of the codebase are decoupled from the consensus engine, the list will grow shorter and shorter.\r\n\r\nThis list of files (the `_SOURCES` in `Automake` speak) then serves as the basis for a `libbitcoinkernel`, which `bitcoin-chainstate` will be linked against.\r\n\r\n**Key Result:** Any further coupling of our consensus engine with non-consensus modules will result in linker errors, preventing this project from becoming a Sisyphean task of battling coupling regressions.\r\n#### Step 2: Decouple most non-consensus code from `libbitcoinkernel`\r\n##### a.k.a. Prune the unnecessary `.cpp` files (and their respective headers)!\r\n\r\nIn this step many modules were removed from the `libbitcoinkernel` that do not logically belong in `libbitcoinkernel` (e.g. `index/*.cpp`, `netaddress.cpp`), but are nevertheless necessary to be included in its `_SOURCES` for `bitcoin-chainstate` to link correctly.\r\n\r\n**Developer Note:** We do not decouple the mempool _yet_ because most users of `libbitcoinkernel` may want to have an embedded mempool with Bitcoin Core's policies and we can decouple it later. This stage is more about extracting obvious non-kernel functionality, like argument parsing, or shutdown handling, than it is about extracting Bitcoin Core specific functionality like assumevalid, assumeutxo, checkpoints, or the mempool. Such extractions fall under stage 2.\r\n\r\nCompleting handling of the shutdown code might run parallel to the remaining steps, or even extend to stage 2. The problem is that a user of the library might trigger a fatal error, without the function returning an error code. The user might then call further functions, which could be unsafe.\r\n\r\n#### Step 3: Decouple most non-consensus headers from `libbitcoinkernel`\r\n##### a.k.a. Prune the unnecessary `.h` files!\r\n\r\nThe goal of this step is to allow users of the `libbitcoinkernel` to include its header files without having to include headers of external dependencies, platform-specific definitions, or non-consensus related definitions. Pruning _all_ non-consensus related code from the headers is not the goal of this step though, and falls more towards stage 2 of the project. The reason for this is that pruning all these headers without having a clear API goal in mind would lead to scope creep.\r\n\r\nSimilar to Stage 1 Step 2, this entails lots of small decoupling of the header dependency tree. A notable piece of this step is removing the `boost` multiindex includes currently required by our mempool headers.\r\n\r\n* [x] Prune boost/signal headers\r\n* [x] Prune leveldb headers\r\n* [ ] Prune boost/multiindex headers\r\n* [x] Prune clientversion.h\r\n* [x] Prune protocol.h\r\n* [x] Prune netaddress.h\r\n* [ ] Prune bitcoin-config.h\r\n* [x] Prune compat.h\r\n* [x] Prune univalue includes\r\n\r\n#### Step 4: Use the `libbitcoinkernel` library for internal compilation\r\n\r\nNow that `libbitcoinkernel` contains some minimal set of source files, it should also be used as an internal library for `libbitcoin_node`. The desired library organization is shown in [doc/design/libraries.md](https://github.com/bitcoin/bitcoin/blob/master/doc/design/libraries.md).\r\n\r\n### Stage 2: Polishing the API / Continual De-coupling\r\n\r\nAt this point, we have a usable `libbitcoinkernel` that is _somewhat_ minimally linked. However, it has a very idiosyncratic, Bitcoin Core-specific C++ interface. The goal of this stage is to incrementally make the `libbitcoinkernel` API more ergonomic for users outside of Bitcoin Core. Bindings to other languages (first C, then others) should be introduced. Note though, that there is a possible dichotomy here between optimizing the library interface for external users and for the internal interface within Bitcoin Core.\r\n\r\nIt is crucial that multiple contributors collaboratively lead this stage. Ideally, they would be able to work with users looking to integrate with `libbitcoinkernel` who can give an accurate account of the API ergonomics from the library user's point of view.\r\n\r\n\r\n## Getting `libbitcoinkernel` Through Review\r\n\r\nThe following ground rules were proposed to make this process more streamlined for all parties involved and a few things this tracking issue can help with:\r\n\r\n1. Any outstanding comments/reviews not pertinent to the main thrust of PRs should not delay/block the merging of the core functionality of PRs. Any leftover comments/reviews not tackled in the PR will be taken note of in the TODO section below and then either triaged in an issue or addressed in a separate PR.     \r\n2. Whenever the PR reaches a stage where there are only leftover comments/reviews left, the author should make a comment saying so. This might make it easier for maintainers to determine roughly where the PR is at in its lifecycle.\r\n\r\n\r\n## Action Items\r\n\r\n1. If you have any questions, please post them below!\r\n 2. If you plan on reviewing `libbitcoinkernel` or are a maintainer:       \r\n       1. Please make sure you've read the \"Getting `libbitcoinkernel` Through Review\" section above.\r\n       2. Please let me know if there's anything else I can do to help streamline the review process.\r\n3. If you have any ideas for the future direction of \"Stage 2: Polishing the API / Continual De-coupling\", please leave a comment below, I'd love to talk!\r\n\r\n\r\n## Project-wide TODOs\r\n\r\nThese are suggestions for further cleanup and improvements that came up during review:\r\n\r\n* [ ]  Various followups for [[kernel 2c/n] Introduce `kernel::Context`, encapsulate global init/teardown #25065](https://github.com/bitcoin/bitcoin/pull/25065)\r\n  * [x]  ~Marco's post-merge review comments: [[kernel 2c/n] Introduce `kernel::Context`, encapsulate global init/teardown #25065 (review)](https://github.com/bitcoin/bitcoin/pull/25065#pullrequestreview-996614232)~\r\n  * [ ]  Cory's `kernel::Context` cleanup suggestions: [[kernel 2c/n] Introduce `kernel::Context`, encapsulate global init/teardown #25065 (comment)](https://github.com/bitcoin/bitcoin/pull/25065#discussion_r882182549)\r\n* [ ]  Russell's post-merge review comment: [[kernel 2e/n] miner: Make `mempool` optional, stop constructing temporary empty mempools #25223 (comment)](https://github.com/bitcoin/bitcoin/pull/25223#discussion_r898164322)\r\n* [ ]  Various followups for [[kernel 3a/n] Decouple `CTxMemPool` from `ArgsManager` #25290](https://github.com/bitcoin/bitcoin/pull/25290)\r\n  * [x]  ~Perform gArgs checking in `ApplyArgsManOptions`: [[kernel 3a/n] Decouple `CTxMemPool` from `ArgsManager` #25290 (comment)](https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907535652)~\r\n  * [ ]  Perform `CTxMemPool::Options` checking in `CTxMemPool` constructor: [[kernel 3a/n] Decouple `CTxMemPool` from `ArgsManager` #25290 (comment)](https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900272797)\r\n  * [x]  ~Change `CalculateMemPoolAncestors` to take in `CTxMemPool::Limits` instead: [[kernel 3a/n] Decouple `CTxMemPool` from `ArgsManager` #25290 (comment)](https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905260891)~\r\n* [ ]  Various followups for [[kernel 3b/n] Decouple `{Dump,Load}Mempool` from `ArgsManager` #25487](https://github.com/bitcoin/bitcoin/pull/25487)\r\n  * [x] ~Improve `DumpMempool`'s mutex: [[kernel 3b/n] Decouple `{Dump,Load}Mempool` from `ArgsManager` #25487 (comment)](https://github.com/bitcoin/bitcoin/pull/25487#discussion_r916228022).~ Won't fix, see [comment](https://github.com/bitcoin/bitcoin/pull/25487#discussion_r923360777).\r\n  * [ ]  Change `LoadMempool`'s semantics: [[kernel 3b/n] Decouple `{Dump,Load}Mempool` from `ArgsManager` #25487 (comment)](https://github.com/bitcoin/bitcoin/pull/25487#discussion_r916044902)\r\n  * [ ]  Make LoadMempool less foot-gunny: [[kernel 3b/n] Decouple `{Dump,Load}Mempool` from `ArgsManager` #25487 (comment)](https://github.com/bitcoin/bitcoin/pull/25487#discussion_r921234107), [c4249c1](https://github.com/bitcoin/bitcoin/commit/c4249c1243981f42091950d1295c2be6bd4bf118)\r\n* [ ] Various followups for [refactor, kernel: Decouple ArgsManager from blockstorage #27125](https://github.com/bitcoin/bitcoin/pull/27125)\r\n  * [ ] Martin's request for a follow-up fixing the docstring: https://github.com/bitcoin/bitcoin/pull/27125#discussion_r1190350876\r\n* [ ]  Followups for [kernel: Remove util/system from kernel library, interface_ui from validation #27636](https://github.com/bitcoin/bitcoin/pull/27636)\r\n  * [ ] Cory's request for cleaning up the kernel interface functions of pointer and reference types: https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1202937682\r\n  \r\n#### Other various items that arose during review and should be tracked\r\n* Marco's request for a minimal iwyu memory include false positive example: https://github.com/bitcoin/bitcoin/pull/27125#discussion_r1184832621\r\n* Marcos' request for unrolling the reindex loop: https://github.com/bitcoin/bitcoin/pull/27125#discussion_r1183633068\r\n* Marco's request for getting rid of exceptions in the `ArgsManager`: https://github.com/bitcoin/bitcoin/pull/27491#discussion_r1189586654\r\n* Russell's request for eliminating the BlockNotify signal: https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193904693\r\n* Russell's request for getting rid of `fWarned`: https://github.com/bitcoin/bitcoin/pull/27636#discussion_r1193969953\r\n* Aj's request for a simpler std::array serialization routine and c++20: https://github.com/bitcoin/bitcoin/pull/28423#discussion_r1325169578",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 4,
          "created_at": "2023-05-06T08:27:17Z",
          "updated_at": "2023-12-03T04:27:14Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T07:50:24Z",
      "updated_at": "2023-05-31T07:50:24Z",
      "source": {
        "issue": {
          "id": 1696736253,
          "node_id": "PR_kwDOABII585P0RGI",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27576",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27576/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27576/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27576/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27576",
          "number": 27576,
          "state": "closed",
          "state_reason": null,
          "title": "kernel: Remove args, settings, chainparams, chainparamsbase from kernel library",
          "body": "This pull request is part of the `libbitcoinkernel` project https://github.com/bitcoin/bitcoin/issues/27587 https://github.com/bitcoin/bitcoin/projects/18 and more specifically its \"Step 2: Decouple most non-consensus code from libbitcoinkernel\".\r\n\r\n---\r\n\r\nThis completes the removal of the node's chainparams, chainparamsbase, args and settings files and their respective classes from the kernel library. This is the last pull request in a long series working towards decoupling the `ArgsManager` and the `gArgs` global from kernel code. These prior pull requests are: https://github.com/bitcoin/bitcoin/pull/26177 https://github.com/bitcoin/bitcoin/pull/27125 https://github.com/bitcoin/bitcoin/pull/25527 https://github.com/bitcoin/bitcoin/pull/25487 https://github.com/bitcoin/bitcoin/pull/25290\r\n\r\n",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27576",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27576",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27576.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27576.patch"
          },
          "closed_at": "2023-06-09T18:59:02Z",
          "created_at": "2023-05-04T21:36:34Z",
          "updated_at": "2023-06-13T13:22:49Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 9487369812,
      "node_id": "REFE_lADOABII585LQhlPzwAAAAI1fcZU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9487369812",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "153a6882f42fff3fdc63bf770d4c86a62c46c448",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/153a6882f42fff3fdc63bf770d4c86a62c46c448",
      "created_at": "2023-06-09T18:59:01Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T11:24:02Z",
      "updated_at": "2023-11-09T11:24:02Z",
      "source": {
        "issue": {
          "id": 1985417135,
          "node_id": "PR_kwDOABII585fBgeM",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28830",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28830/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28830/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28830/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28830",
          "number": 28830,
          "state": "open",
          "state_reason": null,
          "title": "[refactor] Check CTxMemPool options in ctor",
          "body": "The tests should run the same checks on the mempool options that the init code also applies. The downside to this patch is that the log line may now be printed more than once in the for loop.\r\n\r\nThis was originally noticed here https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900272797.\r\n",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28830",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28830",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28830.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28830.patch"
          },
          "created_at": "2023-11-09T11:24:01Z",
          "updated_at": "2024-01-16T21:02:53Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 11510750683,
      "node_id": "LOE_lADOABII585LQhlPzwAAAAKuGB3b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11510750683",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-17T12:25:29Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900028022",
      "pull_request_review_id": 1010370124,
      "id": 900028022,
      "node_id": "PRRC_kwDOABII5841pVZ2",
      "diff_hunk": "@@ -539,9 +539,9 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-stopafterblockimport\", strprintf(\"Stop running after importing blocks from disk (default: %u)\", DEFAULT_STOPAFTERBLOCKIMPORT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-stopatheight\", strprintf(\"Stop running after reaching the given height in the main chain (default: %u)\", DEFAULT_STOPATHEIGHT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitancestorcount=<n>\", strprintf(\"Do not accept transactions if number of in-mempool ancestors is <n> or more (default: %u)\", DEFAULT_ANCESTOR_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "85aa9d85a6903f9f85e5f609175206aed0b09410",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in 85aa9d85a6903f9f85e5f609175206aed0b09410 \"scripted-diff: Rename anc/desc size limit vars to indicate SI unit \"\r\n\r\nThis is possibly out of scope/nitty but since you're adding the KB unit, I think it's worth noting that it's kilo virtual bytes, not kilobytes. So perhaps `DEFAULT_ANCESTOR_SIZE_LIMIT_KVB` is more accurate\r\n\r\n(see https://github.com/bitcoin/bitcoin/blob/874529665c1c326fc86fc0d0d6c3512fab087ab8/src/txmempool.h#L98,\r\nhttps://github.com/bitcoin/bitcoin/blob/874529665c1c326fc86fc0d0d6c3512fab087ab8/src/txmempool.cpp#L232-L243)",
      "created_at": "2022-06-17T11:24:49Z",
      "updated_at": "2022-06-17T12:42:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900028022",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900028022"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 542,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900056871",
      "pull_request_review_id": 1010370124,
      "id": 900056871,
      "node_id": "PRRC_kwDOABII5841pccn",
      "diff_hunk": "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "95430b611c6562845143669e88e07fcde770d1af",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in 95430b611c6562845143669e88e07fcde770d1af \"node/ifaces: Use existing MemPoolLimits\"\r\n\r\nI see your \"Question for Reviewers: Is the default for limit_ancestor_count and limit_descendant_count in getPackageLimits correct?\" in the commit message. To clarify, are you asking whether this has a behavior change, or are you asking if the change is better?\r\n\r\nIIUC This returns limits = 0 when there is no mempool, where it would have previously returned the results of querying gArgs / defaults. This makes logical sense to me: if there's no mempool, then there's no mempool limits. It seems the one use for `getPackageLimits` is in `SelectCoins`, and the wallet understands it can still make an unconfirmed transaction (i.e. anc/desc count = 1) so it's fine: https://github.com/bitcoin/bitcoin/blob/874529665c1c326fc86fc0d0d6c3512fab087ab8/src/wallet/spend.cpp#L509-L511\r\n\r\nI guess a future `-nomempool` option would just need to be consistent with this.",
      "created_at": "2022-06-17T12:09:31Z",
      "updated_at": "2022-06-17T12:42:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900056871",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900056871"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 657,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 658,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900059562",
      "pull_request_review_id": 1010370124,
      "id": 900059562,
      "node_id": "PRRC_kwDOABII5841pdGq",
      "diff_hunk": "@@ -932,10 +932,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     }\n \n     // mempool limits\n-    int64_t nMempoolSizeMax = args.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000;\n-    int64_t nMempoolSizeMin = args.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000 * 40;",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In efcbd12767d87b33b6c6deb86d441292ff681b13 \"init: Remove redundant -*mempool*, -limit* queries \"\r\n\r\nSeems like you've dropped a `* 40` here? Is that maybe what's causing the CI failure?",
      "created_at": "2022-06-17T12:13:30Z",
      "updated_at": "2022-06-17T12:42:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900059562",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900059562"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 936,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900272797",
      "pull_request_review_id": 1010718583,
      "id": 900272797,
      "node_id": "PRRC_kwDOABII5841qRKd",
      "diff_hunk": "@@ -1426,10 +1429,16 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     assert(!node.mempool);\n     assert(!node.chainman);\n-    const int mempool_check_ratio = std::clamp<int>(args.GetIntArg(\"-checkmempool\", chainparams.DefaultConsistencyChecks() ? 1 : 0), 0, 1000000);\n+\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) node.fee_estimator.get(),\n+        Desig(check_ratio) chainparams.DefaultConsistencyChecks() ? 1 : 0,\n+    };\n+    ApplyArgsManOptions(args, mempool_opts);\n+    mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c318c982f62610d1c937ab803346307d5458f877",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (c318c982f62610d1c937ab803346307d5458f877)\r\n\r\nI think the clamping and the \"mempool must be at least %d MB\" error checking that is moved here later should be part of mempool code, not init code, so initializing the mempool is straightforward, consistent across bitcoind code and test code and future kernel code, and the same error checking and conveniences are provided in every case.\r\n\r\nEasiest way to do this would be to move the `std::clamp` call to the `CTxMemPool::CTxMemPool` constructor and add a `std::optional<string>& error` output parameter to the constructor so it can provide feedback about invalid options instead of causing problems later.",
      "created_at": "2022-06-17T15:43:54Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900272797",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900272797"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 1435,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1431,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900332212",
      "pull_request_review_id": 1010718583,
      "id": 900332212,
      "node_id": "PRRC_kwDOABII5841qfq0",
      "diff_hunk": "@@ -121,6 +123,14 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+static inline CTxMemPool MakeMempool(const ArgsManager& argsman)\n+{\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(argsman, mempool_opts);",
      "path": "src/test/fuzz/tx_pool.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c318c982f62610d1c937ab803346307d5458f877",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (c318c982f62610d1c937ab803346307d5458f877)\r\n\r\nApplying command line options to tx_pool fuzz test appears to be a change in behavior that is only obliquely referenced in the commit message. Would be good to say up front how exactly behavior is supposed to be changing in the commit up front.",
      "created_at": "2022-06-17T16:52:07Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900332212",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900332212"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900368651",
      "pull_request_review_id": 1010718583,
      "id": 900368651,
      "node_id": "PRRC_kwDOABII5841qokL",
      "diff_hunk": "@@ -10,4 +10,7 @@\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    auto mempool_max_size_mb = argsman.GetIntArg(\"-maxmempool\");\n+    if (mempool_max_size_mb) mempool_opts.max_size = *mempool_max_size_mb * 1000000;",
      "path": "src/mempool_args.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5b733c301debc3119872d436c555f1bf67deb00d",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"mempool: Pass in -maxmempool instead of referencing gArgs\" (5b733c301debc3119872d436c555f1bf67deb00d)\r\n\r\nI think long local variable names like `mempool_max_size_mb` that differ from each other only a few characters make code frustrating to read and make it easy for mistakes to slip through. Would suggest less verbose code and short visually distinct names like:\r\n\r\n```c++\r\nif (auto mb = argsman.GetIntArg(\"-maxmempool\")) mempool_opts.max_size = mb * 1000000;\r\n```\r\n\r\ninstead of \r\n\r\n```c++\r\nauto mempool_max_size_mb = argsman.GetIntArg(\"-maxmempool\");\r\nif (mempool_max_size_mb) mempool_opts.max_size = *mempool_max_size_mb * 1000000;\r\n```",
      "created_at": "2022-06-17T17:17:19Z",
      "updated_at": "2022-06-17T19:10:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900368651",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900368651"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 14,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900378684",
      "pull_request_review_id": 1010718583,
      "id": 900378684,
      "node_id": "PRRC_kwDOABII5841qrA8",
      "diff_hunk": "@@ -2298,7 +2296,7 @@ CoinsCacheSizeState CChainState::GetCoinsCacheSizeState()\n     AssertLockHeld(::cs_main);\n     return this->GetCoinsCacheSizeState(\n         m_coinstip_cache_size_bytes,\n-        gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000);\n+        m_mempool ? m_mempool->m_max_size : 0);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 57,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5b733c301debc3119872d436c555f1bf67deb00d",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"mempool: Pass in -maxmempool instead of referencing gArgs\" (5b733c301debc3119872d436c555f1bf67deb00d)\r\n\r\nWould be good if commit message said first thing how behavior is and isn't supposed to be changing. There's a reviewer hint to look at this but it's vague.",
      "created_at": "2022-06-17T17:31:13Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900378684",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900378684"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2287,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900381329",
      "pull_request_review_id": 1010718583,
      "id": 900381329,
      "node_id": "PRRC_kwDOABII5841qrqR",
      "diff_hunk": "@@ -5,11 +5,14 @@\n #define BITCOIN_MEMPOOL_OPTIONS_H\n \n #include <cstddef>\n+#include <cstdint>\n \n class CBlockPolicyEstimator;\n \n /** Default for -maxmempool, maximum megabytes of mempool memory usage */\n static const unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB = 300;\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static const unsigned int DEFAULT_MEMPOOL_EXPIRY = 336;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 11,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"mempool: Pass in -mempoolexpiry instead of referencing gArgs\" (98be1b84126e3a40f0a45fcd289b1073bdb10361)\r\n\r\nSeems fine, but is there intentionally not a scripted diff to change this to `DEFAULT_MEMPOOL_EXPIRY_HOURS` similar to the other ones?",
      "created_at": "2022-06-17T17:35:10Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900381329",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900381329"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900383275",
      "pull_request_review_id": 1010718583,
      "id": 900383275,
      "node_id": "PRRC_kwDOABII5841qsIr",
      "diff_hunk": "@@ -16,6 +21,7 @@ class CBlockPolicyEstimator;\n struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n+    size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 18,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5b733c301debc3119872d436c555f1bf67deb00d",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"mempool: Pass in -maxmempool instead of referencing gArgs\" (5b733c301debc3119872d436c555f1bf67deb00d)\r\n\r\nFor this new member and the new mempool member `max_size_bytes` would seem like a nicer name than `max_size` for making code understandable and preventing bugs, especially as mb and kb and vbytes are used elsewhere.",
      "created_at": "2022-06-17T17:38:21Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900383275",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900383275"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900386875",
      "pull_request_review_id": 1010718583,
      "id": 900386875,
      "node_id": "PRRC_kwDOABII5841qtA7",
      "diff_hunk": "@@ -22,6 +25,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n     size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;\n+    int64_t expiry = DEFAULT_MEMPOOL_EXPIRY;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 19,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"mempool: Pass in -mempoolexpiry instead of referencing gArgs\" (98be1b84126e3a40f0a45fcd289b1073bdb10361)\r\n\r\nTo clarify this option and prevent bugs it would seem better to use `std::chrono::hours` type instead of `int64_t` type for this or call the variable `expiry_hours`.",
      "created_at": "2022-06-17T17:43:08Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900386875",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900386875"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900395221",
      "pull_request_review_id": 1010718583,
      "id": 900395221,
      "node_id": "PRRC_kwDOABII5841qvDV",
      "diff_hunk": "@@ -0,0 +1,31 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+\n+/** Default for -limitancestorcount, max number of in-mempool ancestors */\n+static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n+/** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT_KB = 101;\n+/** Default for -limitdescendantcount, max number of in-mempool descendants */\n+static const unsigned int DEFAULT_DESCENDANT_LIMIT = 25;\n+/** Default for -limitdescendantsize, maximum kilobytes of in-mempool descendants */\n+static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KB = 101;\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size = DEFAULT_ANCESTOR_SIZE_LIMIT_KB * 1000;",
      "path": "src/mempool_limits.h",
      "position": null,
      "original_position": 26,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "2fdb45f17188b3983c9f60e73342b4d1571cb629",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"mempool: Introduce (still-unused) MemPoolLimits\" (2fdb45f17188b3983c9f60e73342b4d1571cb629)\r\n\r\nWould be good to add units to these names like `ancestor_size_vbytes` `descendant_size_vbytes` to distinguish from other size units used in mempool code and init code",
      "created_at": "2022-06-17T17:56:11Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900395221",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900395221"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900405188",
      "pull_request_review_id": 1010718583,
      "id": 900405188,
      "node_id": "PRRC_kwDOABII5841qxfE",
      "diff_hunk": "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "95430b611c6562845143669e88e07fcde770d1af",
      "in_reply_to_id": 900056871,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"node/ifaces: Use existing MemPoolLimits\" (95430b611c6562845143669e88e07fcde770d1af)\r\n\r\nI don't think think it is a good idea to return 0 for these. Seems like that would mess up wallet coin selection when the mempool is disabled for no benefit. Seems better to just use mempool values when mempool is present and use default values when mempool is not present like\r\n\r\n```c++\r\nlimit_ancestor_count = DEFAULT_ANCESTOR_LIMIT;\r\nlimit_descendant_count = DEFAULT_DESCENDANT_LIMIT;\r\nif (!m_node.mempool) return;\r\n```\r\n\r\nso the wallet is not doing something crazy when there is no mempool",
      "created_at": "2022-06-17T18:10:49Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900405188",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900405188"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 657,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 658,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900409517",
      "pull_request_review_id": 1010718583,
      "id": 900409517,
      "node_id": "PRRC_kwDOABII5841qyit",
      "diff_hunk": "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;\n+\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+        limit_ancestor_count = limits.ancestor_count;\n+        limit_descendant_count = limits.descendant_count;\n     }\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n         if (!m_node.mempool) return true;\n         LockPoints lp;\n         CTxMemPoolEntry entry(tx, 0, 0, 0, false, 0, lp);\n         CTxMemPool::setEntries ancestors;\n-        auto limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        auto limit_ancestor_size = gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB) * 1000;\n-        auto limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n-        auto limit_descendant_size = gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000;\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         std::string unused_error_string;\n         LOCK(m_node.mempool->cs);\n         return m_node.mempool->CalculateMemPoolAncestors(",
      "path": "src/node/interfaces.cpp",
      "position": 26,
      "original_position": 34,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "95430b611c6562845143669e88e07fcde770d1af",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"node/ifaces: Use existing MemPoolLimits\" (95430b611c6562845143669e88e07fcde770d1af)\r\n\r\nWould be nice to pass MemPoolLimits struct instead of these separate parameters",
      "created_at": "2022-06-17T18:17:24Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900409517",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900409517"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 672,
      "original_line": 672,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900410357",
      "pull_request_review_id": 1010718583,
      "id": 900410357,
      "node_id": "PRRC_kwDOABII5841qyv1",
      "diff_hunk": "@@ -431,10 +431,10 @@ class MemPoolAccept\n {\n public:\n     explicit MemPoolAccept(CTxMemPool& mempool, CChainState& active_chainstate) : m_pool(mempool), m_view(&m_dummy), m_viewmempool(&active_chainstate.CoinsTip(), m_pool), m_active_chainstate(active_chainstate),\n-        m_limit_ancestors(gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT)),\n-        m_limit_ancestor_size(gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB)*1000),\n-        m_limit_descendants(gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT)),\n-        m_limit_descendant_size(gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB)*1000) {\n+        m_limit_ancestors(m_pool.m_limits.ancestor_count),\n+        m_limit_ancestor_size(m_pool.m_limits.ancestor_size),\n+        m_limit_descendants(m_pool.m_limits.descendant_count),\n+        m_limit_descendant_size(m_pool.m_limits.descendant_size) {",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "084fd3d78e272dc1d75e3e17a046b6dfa798da7d",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"mempoolaccept: Use limits from mempool in constructor\" (084fd3d78e272dc1d75e3e17a046b6dfa798da7d)\r\n\r\nWould be nice to use MemPoolLimits struct instead of having these separate duplicate members.",
      "created_at": "2022-06-17T18:18:55Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900410357",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900410357"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 434,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 437,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900416043",
      "pull_request_review_id": 1010718583,
      "id": 900416043,
      "node_id": "PRRC_kwDOABII5841q0Ir",
      "diff_hunk": "@@ -932,10 +932,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     }\n \n     // mempool limits\n-    int64_t nMempoolSizeMax = args.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000;\n-    int64_t nMempoolSizeMin = args.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000 * 40;",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "in_reply_to_id": 900059562,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"init: Remove redundant -*mempool*, -limit* queries\" (efcbd12767d87b33b6c6deb86d441292ff681b13)\r\n\r\nNice catch. Using explicit units would also have helped here (`max_size_bytes < descendant_size_vbytes` is more obviously wrong than `max_size < descendant_size`)\r\n\r\n",
      "created_at": "2022-06-17T18:28:22Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900416043",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900416043"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 936,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900420112",
      "pull_request_review_id": 1010718583,
      "id": 900420112,
      "node_id": "PRRC_kwDOABII5841q1IQ",
      "diff_hunk": "@@ -1434,6 +1430,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+    if (mempool_opts.max_size < 0 || mempool_opts.max_size < mempool_opts.limits.descendant_size) {\n+        return InitError(strprintf(_(\"-maxmempool must be at least %d MB\"), std::ceil(mempool_opts.limits.descendant_size / 1000000.0)));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"init: Remove redundant -*mempool*, -limit* queries\" (efcbd12767d87b33b6c6deb86d441292ff681b13)\r\n\r\nAs mentioned previously, I think it would be good to have mempool actually do it's own error checking instead of putting this responsibility on init code, and think this could be easily accomplished giving the constructor a `std::optional<std::string>& error` output parameter.",
      "created_at": "2022-06-17T18:35:08Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900420112",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900420112"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900422282",
      "pull_request_review_id": 1010718583,
      "id": 900422282,
      "node_id": "PRRC_kwDOABII5841q1qK",
      "diff_hunk": "@@ -1293,7 +1293,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     assert(!node.fee_estimator);\n     // Don't initialize fee estimation with old data if we don't relay transactions,\n     // as they would never get updated.\n-    if (!ignores_incoming_txs) node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n+    if (!ignores_incoming_txs) node.fee_estimator = std::make_unique<CBlockPolicyEstimator>(gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"fees: Pass in a filepath instead of referencing gArgs\" (c98d5f1744dc3beed116ff708e3d4d8dcfe53eae)\r\n\r\nPrefer `args` instead of `gArgs` here for consistency with surrounding code",
      "created_at": "2022-06-17T18:38:48Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900422282",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900422282"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1296,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900423962",
      "pull_request_review_id": 1010718583,
      "id": 900423962,
      "node_id": "PRRC_kwDOABII5841q2Ea",
      "diff_hunk": "@@ -163,7 +163,7 @@ ChainTestingSetup::ChainTestingSetup(const std::string& chainName, const std::ve\n     m_node.scheduler->m_service_thread = std::thread(util::TraceThread, \"scheduler\", [&] { m_node.scheduler->serviceQueue(); });\n     GetMainSignals().RegisterBackgroundSignalScheduler(*m_node.scheduler);\n \n-    m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n+    m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>(gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME);",
      "path": "src/test/util/setup_common.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"fees: Pass in a filepath instead of referencing gArgs\" (c98d5f1744dc3beed116ff708e3d4d8dcfe53eae)\r\n\r\nPrefer `*m_node.args` instead of `gArgs` here for consistency with surrounding code",
      "created_at": "2022-06-17T18:41:11Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900423962",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900423962"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 166,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900433731",
      "pull_request_review_id": 1010718583,
      "id": 900433731,
      "node_id": "PRRC_kwDOABII5841q4dD",
      "diff_hunk": "@@ -22,7 +22,7 @@ FUZZ_TARGET_INIT(policy_estimator_io, initialize_policy_estimator_io)\n     FuzzedAutoFileProvider fuzzed_auto_file_provider = ConsumeAutoFile(fuzzed_data_provider);\n     CAutoFile fuzzed_auto_file = fuzzed_auto_file_provider.open();\n     // Re-using block_policy_estimator across runs to avoid costly creation of CBlockPolicyEstimator object.\n-    static CBlockPolicyEstimator block_policy_estimator;\n+    static CBlockPolicyEstimator block_policy_estimator{gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME};",
      "path": "src/test/fuzz/policy_estimator_io.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"fees: Pass in a filepath instead of referencing gArgs\" (c98d5f1744dc3beed116ff708e3d4d8dcfe53eae)\r\n\r\nI guess `gArgs` is used in some fuzz tests, but it could break if or when BasicTestingSetup ever switches to using local args instead of global args. This is alright in its current form but could consider following `const TestingSetup* g_setup;` `g_setup = testing_setup.get()` `g_setup->m_node.args->...` pattern of other fuzz tests",
      "created_at": "2022-06-17T18:57:10Z",
      "updated_at": "2022-06-17T19:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900433731",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900433731"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901898069",
      "pull_request_review_id": 1012622917,
      "id": 901898069,
      "node_id": "PRRC_kwDOABII5841wd9V",
      "diff_hunk": "@@ -560,15 +561,14 @@ class CTxMemPool\n     indirectmap<COutPoint, const CTransaction*> mapNextTx GUARDED_BY(cs);\n     std::map<uint256, CAmount> mapDeltas GUARDED_BY(cs);\n \n+    using Options = MemPoolOptions;\n+\n     /** Create a new CTxMemPool.\n      * Sanity checks will be off by default for performance, because otherwise\n      * accepting transactions becomes O(N^2) where N is the number of transactions\n      * in the pool.\n-     *\n-     * @param[in] estimator is used to estimate appropriate transaction fees.\n-     * @param[in] check_ratio is the ratio used to determine how often sanity checks will run.",
      "path": "src/txmempool.h",
      "position": 38,
      "original_position": 20,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c318c982f62610d1c937ab803346307d5458f877",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit c318c982. \" pool: Add and use MemPoolOptions, ApplyArgsManOptions\"\r\n\r\nnit: The comment here could be transposed to the corresponding members in `MemPoolOptions`, as they don't have default just above informing about their usage. ",
      "created_at": "2022-06-20T17:55:15Z",
      "updated_at": "2022-06-20T19:01:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901898069",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901898069"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 569,
      "original_line": 569,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901919273",
      "pull_request_review_id": 1012622917,
      "id": 901919273,
      "node_id": "PRRC_kwDOABII5841wjIp",
      "diff_hunk": "@@ -61,20 +61,20 @@ struct Params;\n /** Default for -limitancestorcount, max number of in-mempool ancestors */\n static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n /** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 101;\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT_KB = 101;\n /** Default for -limitdescendantcount, max number of in-mempool descendants */\n static const unsigned int DEFAULT_DESCENDANT_LIMIT = 25;\n /** Default for -limitdescendantsize, maximum kilobytes of in-mempool descendants */\n-static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT = 101;\n+static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KB = 101;",
      "path": "src/validation.h",
      "position": null,
      "original_position": 10,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "85aa9d85a6903f9f85e5f609175206aed0b09410",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit 85aa9d8 \"scripted-diff: Rename anc/desc size limit vars to indicate SI unit \"\r\n\r\nIf you take glozow suggestion above, about the SI from KB to KvB, would be nice to update comments in consequence here.",
      "created_at": "2022-06-20T18:13:40Z",
      "updated_at": "2022-06-20T19:01:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901919273",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901919273"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901924194",
      "pull_request_review_id": 1012643320,
      "id": 901924194,
      "node_id": "PRRC_kwDOABII5841wkVi",
      "diff_hunk": "@@ -4,8 +4,13 @@\n #ifndef BITCOIN_MEMPOOL_OPTIONS_H\n #define BITCOIN_MEMPOOL_OPTIONS_H\n \n+#include <cstddef>\n+\n class CBlockPolicyEstimator;\n \n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static const unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB = 300;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 9,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5b733c301debc3119872d436c555f1bf67deb00d",
      "in_reply_to_id": null,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: maybe make it (along with the expiry one) `constexpr`?",
      "created_at": "2022-06-20T18:23:40Z",
      "updated_at": "2022-06-20T18:49:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901924194",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901924194"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901934113",
      "pull_request_review_id": 1012622917,
      "id": 901934113,
      "node_id": "PRRC_kwDOABII5841wmwh",
      "diff_hunk": "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "95430b611c6562845143669e88e07fcde770d1af",
      "in_reply_to_id": 900056871,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit 95430b61, \"node/ifaces: Use existing MemPoolLimits\"\r\n\r\nI think the wallet relying on `getPackageLimits` is to blame here, as eventually the wallet should be able to evaluate the propagation odds of its issued transactions even in a future `-nomempool` setting. I think it's a rational for a node operator to run without mempool on let's say a low-performance host, however this operator still eager to verify if the wallet transactions are compliant with the most-widely deployed policies on the network. So a future direction could be to rename `MemPoolLimits` as something like `TransactionPolicy` and ship potentially different instances to the wallet and mempool component.\r\n\r\nI think for now, I'll go with Russ suggestion as otherwise it would be a behavior change. I don't think it would fail `AttemptSelection()` as the latest call in `SelectCoins()` ignore ancestors/descendants limits though it might severely delay the selection or alter the set of yielded UTXOs in a detrimental way.",
      "created_at": "2022-06-20T18:43:38Z",
      "updated_at": "2022-06-20T19:01:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901934113",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901934113"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 657,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 658,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901939358",
      "pull_request_review_id": 1012622917,
      "id": 901939358,
      "node_id": "PRRC_kwDOABII5841woCe",
      "diff_hunk": "@@ -1434,6 +1430,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+    if (mempool_opts.max_size < 0 || mempool_opts.max_size < mempool_opts.limits.descendant_size) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit efcbd127, \"init: Remove redundant -*mempool*, -limit* queries \"\r\n\r\nI got a compilation warning here as an unsigned int should not be inferior to 0.",
      "created_at": "2022-06-20T18:54:15Z",
      "updated_at": "2022-06-20T19:01:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901939358",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901939358"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1433,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902608414",
      "pull_request_review_id": 1013587580,
      "id": 902608414,
      "node_id": "PRRC_kwDOABII5841zLYe",
      "diff_hunk": "@@ -539,9 +539,9 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-stopafterblockimport\", strprintf(\"Stop running after importing blocks from disk (default: %u)\", DEFAULT_STOPAFTERBLOCKIMPORT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-stopatheight\", strprintf(\"Stop running after reaching the given height in the main chain (default: %u)\", DEFAULT_STOPATHEIGHT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitancestorcount=<n>\", strprintf(\"Do not accept transactions if number of in-mempool ancestors is <n> or more (default: %u)\", DEFAULT_ANCESTOR_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "85aa9d85a6903f9f85e5f609175206aed0b09410",
      "in_reply_to_id": 900028022,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 67ad3f84b1e69ad830ee27b25e0b6a33519e1d0b",
      "created_at": "2022-06-21T13:18:11Z",
      "updated_at": "2022-06-21T13:18:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902608414",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902608414"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 542,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902609094",
      "pull_request_review_id": 1013588555,
      "id": 902609094,
      "node_id": "PRRC_kwDOABII5841zLjG",
      "diff_hunk": "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "95430b611c6562845143669e88e07fcde770d1af",
      "in_reply_to_id": 900056871,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 4825207fc6c15fce4cc1cb9b14a66a51f3b5a47b, feel free to reopen if still a problem!",
      "created_at": "2022-06-21T13:18:48Z",
      "updated_at": "2022-06-21T13:18:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902609094",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902609094"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 657,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 658,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902631718",
      "pull_request_review_id": 1013621014,
      "id": 902631718,
      "node_id": "PRRC_kwDOABII5841zREm",
      "diff_hunk": "@@ -932,10 +932,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     }\n \n     // mempool limits\n-    int64_t nMempoolSizeMax = args.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000;\n-    int64_t nMempoolSizeMin = args.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000 * 40;",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "in_reply_to_id": 900059562,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 4a50089d8c3421f2e37869a2344cd7143a2c393e 😅 ",
      "created_at": "2022-06-21T13:38:05Z",
      "updated_at": "2022-06-21T13:38:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902631718",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902631718"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 936,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902634911",
      "pull_request_review_id": 1013625541,
      "id": 902634911,
      "node_id": "PRRC_kwDOABII5841zR2f",
      "diff_hunk": "@@ -0,0 +1,31 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+\n+/** Default for -limitancestorcount, max number of in-mempool ancestors */\n+static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n+/** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT_KB = 101;\n+/** Default for -limitdescendantcount, max number of in-mempool descendants */\n+static const unsigned int DEFAULT_DESCENDANT_LIMIT = 25;\n+/** Default for -limitdescendantsize, maximum kilobytes of in-mempool descendants */\n+static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KB = 101;\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size = DEFAULT_ANCESTOR_SIZE_LIMIT_KB * 1000;",
      "path": "src/mempool_limits.h",
      "position": null,
      "original_position": 26,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "2fdb45f17188b3983c9f60e73342b4d1571cb629",
      "in_reply_to_id": 900395221,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 291b605e21b5f4eb739cd20418ca1fc6f467fcab",
      "created_at": "2022-06-21T13:40:45Z",
      "updated_at": "2022-06-21T13:40:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902634911",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902634911"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902635618",
      "pull_request_review_id": 1013626532,
      "id": 902635618,
      "node_id": "PRRC_kwDOABII5841zSBi",
      "diff_hunk": "@@ -1293,7 +1293,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     assert(!node.fee_estimator);\n     // Don't initialize fee estimation with old data if we don't relay transactions,\n     // as they would never get updated.\n-    if (!ignores_incoming_txs) node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n+    if (!ignores_incoming_txs) node.fee_estimator = std::make_unique<CBlockPolicyEstimator>(gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "in_reply_to_id": 900422282,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at": "2022-06-21T13:41:19Z",
      "updated_at": "2022-06-21T13:41:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902635618",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902635618"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1296,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902636077",
      "pull_request_review_id": 1013627087,
      "id": 902636077,
      "node_id": "PRRC_kwDOABII5841zSIt",
      "diff_hunk": "@@ -163,7 +163,7 @@ ChainTestingSetup::ChainTestingSetup(const std::string& chainName, const std::ve\n     m_node.scheduler->m_service_thread = std::thread(util::TraceThread, \"scheduler\", [&] { m_node.scheduler->serviceQueue(); });\n     GetMainSignals().RegisterBackgroundSignalScheduler(*m_node.scheduler);\n \n-    m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n+    m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>(gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME);",
      "path": "src/test/util/setup_common.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "in_reply_to_id": 900423962,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at": "2022-06-21T13:41:31Z",
      "updated_at": "2022-06-21T13:41:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902636077",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902636077"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 166,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902636617",
      "pull_request_review_id": 1013627761,
      "id": 902636617,
      "node_id": "PRRC_kwDOABII5841zSRJ",
      "diff_hunk": "@@ -4,8 +4,13 @@\n #ifndef BITCOIN_MEMPOOL_OPTIONS_H\n #define BITCOIN_MEMPOOL_OPTIONS_H\n \n+#include <cstddef>\n+\n class CBlockPolicyEstimator;\n \n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static const unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB = 300;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 9,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5b733c301debc3119872d436c555f1bf67deb00d",
      "in_reply_to_id": 901924194,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 52349ea72f58b4057a88890fe0c7b722698e3fac",
      "created_at": "2022-06-21T13:41:53Z",
      "updated_at": "2022-06-21T13:41:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902636617",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902636617"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902637213",
      "pull_request_review_id": 1013628594,
      "id": 902637213,
      "node_id": "PRRC_kwDOABII5841zSad",
      "diff_hunk": "@@ -560,15 +561,14 @@ class CTxMemPool\n     indirectmap<COutPoint, const CTransaction*> mapNextTx GUARDED_BY(cs);\n     std::map<uint256, CAmount> mapDeltas GUARDED_BY(cs);\n \n+    using Options = MemPoolOptions;\n+\n     /** Create a new CTxMemPool.\n      * Sanity checks will be off by default for performance, because otherwise\n      * accepting transactions becomes O(N^2) where N is the number of transactions\n      * in the pool.\n-     *\n-     * @param[in] estimator is used to estimate appropriate transaction fees.\n-     * @param[in] check_ratio is the ratio used to determine how often sanity checks will run.",
      "path": "src/txmempool.h",
      "position": 38,
      "original_position": 20,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c318c982f62610d1c937ab803346307d5458f877",
      "in_reply_to_id": 901898069,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "created_at": "2022-06-21T13:42:22Z",
      "updated_at": "2022-06-21T13:42:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902637213",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902637213"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 569,
      "original_line": 569,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902637726",
      "pull_request_review_id": 1013629311,
      "id": 902637726,
      "node_id": "PRRC_kwDOABII5841zSie",
      "diff_hunk": "@@ -61,20 +61,20 @@ struct Params;\n /** Default for -limitancestorcount, max number of in-mempool ancestors */\n static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n /** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 101;\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT_KB = 101;\n /** Default for -limitdescendantcount, max number of in-mempool descendants */\n static const unsigned int DEFAULT_DESCENDANT_LIMIT = 25;\n /** Default for -limitdescendantsize, maximum kilobytes of in-mempool descendants */\n-static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT = 101;\n+static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KB = 101;",
      "path": "src/validation.h",
      "position": null,
      "original_position": 10,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "85aa9d85a6903f9f85e5f609175206aed0b09410",
      "in_reply_to_id": 901919273,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 67ad3f84b1e69ad830ee27b25e0b6a33519e1d0b",
      "created_at": "2022-06-21T13:42:46Z",
      "updated_at": "2022-06-21T13:42:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902637726",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902637726"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902695271",
      "pull_request_review_id": 1013714101,
      "id": 902695271,
      "node_id": "PRRC_kwDOABII5841zgln",
      "diff_hunk": "@@ -22,6 +25,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n     size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;\n+    int64_t expiry = DEFAULT_MEMPOOL_EXPIRY;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 19,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "in_reply_to_id": 900386875,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "How about `std::chrono::seconds`? It seems that's how it's used/compared in our code anyway",
      "created_at": "2022-06-21T14:28:55Z",
      "updated_at": "2022-06-21T14:28:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902695271",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902695271"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902734719",
      "pull_request_review_id": 1013771204,
      "id": 902734719,
      "node_id": "PRRC_kwDOABII5841zqN_",
      "diff_hunk": "@@ -22,6 +25,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n     size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;\n+    int64_t expiry = DEFAULT_MEMPOOL_EXPIRY;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 19,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "in_reply_to_id": 900386875,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No opinion on what unit should be used. Just saying using some explicit time unit in the variable name or type could make code more readable and prevent bugs.",
      "created_at": "2022-06-21T15:00:44Z",
      "updated_at": "2022-06-21T15:00:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902734719",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902734719"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902739820",
      "pull_request_review_id": 1013778841,
      "id": 902739820,
      "node_id": "PRRC_kwDOABII5841zrds",
      "diff_hunk": "@@ -22,6 +25,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n     size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;\n+    int64_t expiry = DEFAULT_MEMPOOL_EXPIRY;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 19,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "in_reply_to_id": 900386875,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It could be `NodeClock::duration` with the reason that the value is compared against the value of `GetTime()`, which is deprecated in favour of (and an alias to) `NodeClock::now()`.",
      "created_at": "2022-06-21T15:05:10Z",
      "updated_at": "2022-06-21T15:05:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902739820",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902739820"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902827767",
      "pull_request_review_id": 1013903303,
      "id": 902827767,
      "node_id": "PRRC_kwDOABII58410A73",
      "diff_hunk": "@@ -1434,6 +1430,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+    if (mempool_opts.max_size < 0 || mempool_opts.max_size < mempool_opts.limits.descendant_size) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "in_reply_to_id": 901939358,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I still got a compilation warning, is that issue on your local host or misconfigs of my compiler flags ?\r\n\r\n```\r\ninit.cpp: In function ‘bool AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)’:\r\ninit.cpp:1435:37: warning: comparison of unsigned expression in ‘< 0’ is always false [-Wtype-limits]\r\n 1435 |     if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {\r\n      |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~\r\n```\r\n\r\n\r\n",
      "created_at": "2022-06-21T16:26:45Z",
      "updated_at": "2022-06-21T16:26:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902827767",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902827767"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1433,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902840978",
      "pull_request_review_id": 1013923008,
      "id": 902840978,
      "node_id": "PRRC_kwDOABII58410EKS",
      "diff_hunk": "@@ -431,10 +431,10 @@ class MemPoolAccept\n {\n public:\n     explicit MemPoolAccept(CTxMemPool& mempool, CChainState& active_chainstate) : m_pool(mempool), m_view(&m_dummy), m_viewmempool(&active_chainstate.CoinsTip(), m_pool), m_active_chainstate(active_chainstate),\n-        m_limit_ancestors(gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT)),\n-        m_limit_ancestor_size(gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB)*1000),\n-        m_limit_descendants(gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT)),\n-        m_limit_descendant_size(gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB)*1000) {\n+        m_limit_ancestors(m_pool.m_limits.ancestor_count),\n+        m_limit_ancestor_size(m_pool.m_limits.ancestor_size),\n+        m_limit_descendants(m_pool.m_limits.descendant_count),\n+        m_limit_descendant_size(m_pool.m_limits.descendant_size) {",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 11,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "084fd3d78e272dc1d75e3e17a046b6dfa798da7d",
      "in_reply_to_id": 900410357,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Unfortunately `MemPoolAccept` needs to hold `m_limit_descendant{s,_size}` as non-`const` since they change:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/34869114a72435b9d8364385abaefed70d703fa8/src/validation.cpp#L880-L881\r\n\r\nIf we just had a `MemPoolLimits` struct that would enforce `const`-uniformity across its members and I think it would still be good to keep `m_limit_ancestor{s,_size}` as `const`.",
      "created_at": "2022-06-21T16:40:13Z",
      "updated_at": "2022-06-21T16:40:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902840978",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902840978"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 434,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 437,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936206",
      "pull_request_review_id": 1014057373,
      "id": 902936206,
      "node_id": "PRRC_kwDOABII58410baO",
      "diff_hunk": "@@ -10,4 +10,7 @@\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    auto mempool_max_size_mb = argsman.GetIntArg(\"-maxmempool\");\n+    if (mempool_max_size_mb) mempool_opts.max_size = *mempool_max_size_mb * 1000000;",
      "path": "src/mempool_args.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5b733c301debc3119872d436c555f1bf67deb00d",
      "in_reply_to_id": 900368651,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 8c81736608e05607d0d84a6edb7ef6b66e46857c, 846a47db00c76b76115fb882aa9e032d234b0a5e, and 6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "created_at": "2022-06-21T18:23:57Z",
      "updated_at": "2022-06-21T18:23:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902936206",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936206"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 14,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936485",
      "pull_request_review_id": 1014057773,
      "id": 902936485,
      "node_id": "PRRC_kwDOABII58410bel",
      "diff_hunk": "@@ -5,11 +5,14 @@\n #define BITCOIN_MEMPOOL_OPTIONS_H\n \n #include <cstddef>\n+#include <cstdint>\n \n class CBlockPolicyEstimator;\n \n /** Default for -maxmempool, maximum megabytes of mempool memory usage */\n static const unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB = 300;\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static const unsigned int DEFAULT_MEMPOOL_EXPIRY = 336;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 11,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "in_reply_to_id": 900381329,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 5fae7725822771b76825f1e0452d8583141e54e3",
      "created_at": "2022-06-21T18:24:18Z",
      "updated_at": "2022-06-21T18:24:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902936485",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936485"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936739",
      "pull_request_review_id": 1014058166,
      "id": 902936739,
      "node_id": "PRRC_kwDOABII58410bij",
      "diff_hunk": "@@ -16,6 +21,7 @@ class CBlockPolicyEstimator;\n struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n+    size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 18,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5b733c301debc3119872d436c555f1bf67deb00d",
      "in_reply_to_id": 900383275,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "created_at": "2022-06-21T18:24:39Z",
      "updated_at": "2022-06-21T18:24:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902936739",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936739"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902937994",
      "pull_request_review_id": 1014059786,
      "id": 902937994,
      "node_id": "PRRC_kwDOABII58410b2K",
      "diff_hunk": "@@ -22,6 +25,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n     size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;\n+    int64_t expiry = DEFAULT_MEMPOOL_EXPIRY;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 19,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "in_reply_to_id": 900386875,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I used `std::chrono::seconds` in 846a47db00c76b76115fb882aa9e032d234b0a5e. I think for the mempool at least we want to use something that isn't platform-specific. Feel free to reopen if still a problem!",
      "created_at": "2022-06-21T18:26:06Z",
      "updated_at": "2022-06-21T18:26:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902937994",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902937994"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902939657",
      "pull_request_review_id": 1014062166,
      "id": 902939657,
      "node_id": "PRRC_kwDOABII58410cQJ",
      "diff_hunk": "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;\n+\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+        limit_ancestor_count = limits.ancestor_count;\n+        limit_descendant_count = limits.descendant_count;\n     }\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n         if (!m_node.mempool) return true;\n         LockPoints lp;\n         CTxMemPoolEntry entry(tx, 0, 0, 0, false, 0, lp);\n         CTxMemPool::setEntries ancestors;\n-        auto limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        auto limit_ancestor_size = gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB) * 1000;\n-        auto limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n-        auto limit_descendant_size = gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000;\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         std::string unused_error_string;\n         LOCK(m_node.mempool->cs);\n         return m_node.mempool->CalculateMemPoolAncestors(",
      "path": "src/node/interfaces.cpp",
      "position": 26,
      "original_position": 34,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "95430b611c6562845143669e88e07fcde770d1af",
      "in_reply_to_id": 900409517,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Do you mean something like below? This convenience method would really only benefit this one call site due to the limitations I mentioned here: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902840978\r\n\r\n```diff\r\ndiff --git a/src/node/interfaces.cpp b/src/node/interfaces.cpp\r\nindex cd2ad1f6a2..9977968775 100644\r\n--- a/src/node/interfaces.cpp\r\n+++ b/src/node/interfaces.cpp\r\n@@ -674,8 +674,7 @@ public:\r\n         std::string unused_error_string;\r\n         LOCK(m_node.mempool->cs);\r\n         return m_node.mempool->CalculateMemPoolAncestors(\r\n-            entry, ancestors, limits.ancestor_count, limits.ancestor_size_vbytes,\r\n-            limits.descendant_count, limits.descendant_size_vbytes, unused_error_string);\r\n+            entry, ancestors, limits, unused_error_string);\r\n     }\r\n     CFeeRate estimateSmartFee(int num_blocks, bool conservative, FeeCalculation* calc) override\r\n     {\r\ndiff --git a/src/txmempool.cpp b/src/txmempool.cpp\r\nindex baf5718a8d..878e828b65 100644\r\n--- a/src/txmempool.cpp\r\n+++ b/src/txmempool.cpp\r\n@@ -295,6 +295,20 @@ bool CTxMemPool::CheckPackageLimits(const Package& package,\r\n     return ret;\r\n }\r\n \r\n+bool CTxMemPool::CalculateMemPoolAncestors(const CTxMemPoolEntry& entry,\r\n+                                           setEntries& setAncestors,\r\n+                                           const CTxMemPool::Limits& limits,\r\n+                                           std::string& errString,\r\n+                                           bool fSearchForParents /* = true */) const\r\n+{\r\n+    return CalculateMemPoolAncestors(entry, setAncestors,\r\n+                                     limits.ancestor_count,\r\n+                                     limits.ancestor_size_vbytes,\r\n+                                     limits.descendant_count,\r\n+                                     limits.descendant_size_vbytes,\r\n+                                     errString, fSearchForParents);\r\n+}\r\n+\r\n bool CTxMemPool::CalculateMemPoolAncestors(const CTxMemPoolEntry &entry,\r\n                                            setEntries &setAncestors,\r\n                                            uint64_t limitAncestorCount,\r\ndiff --git a/src/txmempool.h b/src/txmempool.h\r\nindex 76f51e9d1e..a71c80e2b8 100644\r\n--- a/src/txmempool.h\r\n+++ b/src/txmempool.h\r\n@@ -669,7 +669,19 @@ public:\r\n      *  fSearchForParents = whether to search a tx's vin for in-mempool parents, or\r\n      *    look up parents from mapLinks. Must be true for entries not in the mempool\r\n      */\r\n-    bool CalculateMemPoolAncestors(const CTxMemPoolEntry& entry, setEntries& setAncestors, uint64_t limitAncestorCount, uint64_t limitAncestorSize, uint64_t limitDescendantCount, uint64_t limitDescendantSize, std::string& errString, bool fSearchForParents = true) const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n+    bool CalculateMemPoolAncestors(const CTxMemPoolEntry& entry,\r\n+                                   setEntries& setAncestors,\r\n+                                   const CTxMemPool::Limits& limits,\r\n+                                   std::string& errString,\r\n+                                   bool fSearchForParents = true) const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n+    bool CalculateMemPoolAncestors(const CTxMemPoolEntry& entry,\r\n+                                   setEntries& setAncestors,\r\n+                                   uint64_t limitAncestorCount,\r\n+                                   uint64_t limitAncestorSize,\r\n+                                   uint64_t limitDescendantCount,\r\n+                                   uint64_t limitDescendantSize,\r\n+                                   std::string& errString,\r\n+                                   bool fSearchForParents = true) const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n \r\n     /** Calculate all in-mempool ancestors of a set of transactions not already in the mempool and\r\n      * check ancestor and descendant limits. Heuristics are used to estimate the ancestor and\r\n```",
      "created_at": "2022-06-21T18:28:12Z",
      "updated_at": "2022-06-21T18:28:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902939657",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902939657"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 672,
      "original_line": 672,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902955883",
      "pull_request_review_id": 1014085467,
      "id": 902955883,
      "node_id": "PRRC_kwDOABII58410gNr",
      "diff_hunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "path": "src/mempool_limits.h",
      "position": null,
      "original_position": 20,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "in_reply_to_id": null,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Reviewers: What do people think about using `uint64_t` here instead of `size_t`? It seems like there's no obvious need for these to differ from platform to platform and it might be better to not have to worry about them being inconsistent across platforms.",
      "created_at": "2022-06-21T18:48:41Z",
      "updated_at": "2022-06-21T18:50:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902955883",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902955883"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902958138",
      "pull_request_review_id": 1014088623,
      "id": 902958138,
      "node_id": "PRRC_kwDOABII58410gw6",
      "diff_hunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "path": "src/mempool_limits.h",
      "position": null,
      "original_position": 20,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "in_reply_to_id": 902955883,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ping @glozow, we might also have to change the member vars in `MemPoolAccept` if you think this is an okay idea?",
      "created_at": "2022-06-21T18:51:19Z",
      "updated_at": "2022-06-21T18:51:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902958138",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902958138"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903082825",
      "pull_request_review_id": 1014264709,
      "id": 903082825,
      "node_id": "PRRC_kwDOABII58410_NJ",
      "diff_hunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "path": "src/mempool_limits.h",
      "position": null,
      "original_position": 20,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "in_reply_to_id": 902955883,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You have a point, but I don't know. All the array/vector size functions return size_t, right? So making these `uint64_t` introduces implicit casts. That while they're unlikely to ever be outside the range of `uint32_t` anyway.",
      "created_at": "2022-06-21T21:25:27Z",
      "updated_at": "2022-06-21T21:25:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903082825",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903082825"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903473968",
      "pull_request_review_id": 1014794266,
      "id": 903473968,
      "node_id": "PRRC_kwDOABII58412esw",
      "diff_hunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "path": "src/mempool_limits.h",
      "position": null,
      "original_position": 20,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "in_reply_to_id": 902955883,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> What do people think about using uint64_t here instead of size_t? It seems like there's no obvious need for these to differ from platform to platform and it might be better to not have to worry about them being inconsistent across platforms.\r\n\r\nYeah makes sense. Do you mean to do those in this PR? It seems there are thoughts about changing all virtual size representation to int64_t or int32_t across the board (signed because we do arithmetic with them). See #23962 and #23957",
      "created_at": "2022-06-22T08:56:17Z",
      "updated_at": "2022-06-22T08:56:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903473968",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903473968"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903501033",
      "pull_request_review_id": 1014832386,
      "id": 903501033,
      "node_id": "PRRC_kwDOABII58412lTp",
      "diff_hunk": "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "a64c96f861d2d2658704085d42463ab03b1e6350",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in a64c96f861d2d2658704085d42463ab03b1e6350: I think this can be written shorter by dropping the `else` and nesting.\r\n\r\n```cpp\r\nif (value.isNull()) return std::nullopt;\r\n...\r\nif (value.IsNum()) return value.getValStr();\r\nreturn value.get_str();",
      "created_at": "2022-06-22T09:22:46Z",
      "updated_at": "2022-06-22T11:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903501033",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903501033"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 627,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 637,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903501198",
      "pull_request_review_id": 1014832386,
      "id": 903501198,
      "node_id": "PRRC_kwDOABII58412lWO",
      "diff_hunk": "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }\n }\n \n std::string SettingToString(const util::SettingsValue& value, const std::string& strDefault)\n {\n-    return value.isNull() ? strDefault : value.isFalse() ? \"0\" : value.isTrue() ? \"1\" : value.isNum() ? value.getValStr() : value.get_str();\n+    return SettingToString(value).value_or(strDefault);\n }\n \n int64_t ArgsManager::GetIntArg(const std::string& strArg, int64_t nDefault) const\n+{\n+    return GetIntArg(strArg).value_or(nDefault);\n+}\n+\n+std::optional<int64_t> ArgsManager::GetIntArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToInt(value, nDefault);\n+    return SettingToInt(value);\n+}\n+\n+std::optional<int64_t> SettingToInt(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return 0;\n+    } else if (value.isTrue()) {\n+        return 1;\n+    } else if (value.isNum()) {\n+        return value.getInt<int64_t>();\n+    } else {\n+        return LocaleIndependentAtoi<int64_t>(value.get_str());\n+    }",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 60,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "a64c96f861d2d2658704085d42463ab03b1e6350",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same",
      "created_at": "2022-06-22T09:22:55Z",
      "updated_at": "2022-06-22T11:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903501198",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903501198"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 668,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903503790",
      "pull_request_review_id": 1014832386,
      "id": 903503790,
      "node_id": "PRRC_kwDOABII58412l-u",
      "diff_hunk": "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }\n }\n \n std::string SettingToString(const util::SettingsValue& value, const std::string& strDefault)\n {\n-    return value.isNull() ? strDefault : value.isFalse() ? \"0\" : value.isTrue() ? \"1\" : value.isNum() ? value.getValStr() : value.get_str();\n+    return SettingToString(value).value_or(strDefault);\n }\n \n int64_t ArgsManager::GetIntArg(const std::string& strArg, int64_t nDefault) const\n+{\n+    return GetIntArg(strArg).value_or(nDefault);\n+}\n+\n+std::optional<int64_t> ArgsManager::GetIntArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToInt(value, nDefault);\n+    return SettingToInt(value);\n+}\n+\n+std::optional<int64_t> SettingToInt(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return 0;\n+    } else if (value.isTrue()) {\n+        return 1;\n+    } else if (value.isNum()) {\n+        return value.getInt<int64_t>();\n+    } else {\n+        return LocaleIndependentAtoi<int64_t>(value.get_str());\n+    }\n }\n \n int64_t SettingToInt(const util::SettingsValue& value, int64_t nDefault)\n {\n-    return value.isNull() ? nDefault : value.isFalse() ? 0 : value.isTrue() ? 1 : value.isNum() ? value.getInt<int64_t>() : LocaleIndependentAtoi<int64_t>(value.get_str());\n+    return SettingToInt(value).value_or(nDefault);\n }\n \n bool ArgsManager::GetBoolArg(const std::string& strArg, bool fDefault) const\n+{\n+    return GetBoolArg(strArg).value_or(fDefault);\n+}\n+\n+std::optional<bool> ArgsManager::GetBoolArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToBool(value, fDefault);\n+    return SettingToBool(value);\n+}\n+\n+std::optional<bool> SettingToBool(const util::SettingsValue& value)\n+{\n+    return value.isNull() ? std::nullopt : std::make_optional(value.isBool() ? value.get_bool() : InterpretBool(value.get_str()));",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 83,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "a64c96f861d2d2658704085d42463ab03b1e6350",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same. Also any reason to use `if` above, but `?+std::make_optional` here?\r\n\r\n```cpp\r\nif (value.isNull()) return std::nullopt;\r\nif (value.isBool()) return value.get_bool();\r\nreturn InterpretBool(...);",
      "created_at": "2022-06-22T09:25:21Z",
      "updated_at": "2022-06-22T11:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903503790",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903503790"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 689,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903529958",
      "pull_request_review_id": 1014832386,
      "id": 903529958,
      "node_id": "PRRC_kwDOABII58412sXm",
      "diff_hunk": "@@ -23,7 +24,7 @@ FUZZ_TARGET(rbf)\n     if (!mtx) {\n         return;\n     }\n-    CTxMemPool pool;\n+    CTxMemPool pool{{}};",
      "path": "src/test/fuzz/rbf.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "unrelated comment in 7e6d2d72368631b03d00c8fc7689a670ba92e4ac: \r\n\r\n* It is probably a bug that no argsmanager is set up. (any log messages should be muted, not accumulated and turned into an OOM when fuzzing for a long time)\r\n* Using `{{}}` seems fine.",
      "created_at": "2022-06-22T09:51:16Z",
      "updated_at": "2022-06-22T11:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903529958",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903529958"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903532071",
      "pull_request_review_id": 1014832386,
      "id": 903532071,
      "node_id": "PRRC_kwDOABII58412s4n",
      "diff_hunk": "@@ -30,7 +32,10 @@ FUZZ_TARGET_INIT(validation_load_mempool, initialize_validation_load_mempool)\n     SetMockTime(ConsumeTime(fuzzed_data_provider));\n     FuzzedFileProvider fuzzed_file_provider = ConsumeFile(fuzzed_data_provider);\n \n-    CTxMemPool pool{};\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(*g_setup->m_node.args, mempool_opts);\n+    CTxMemPool pool{mempool_opts};",
      "path": "src/test/fuzz/validation_load_mempool.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "question in 7e6d2d72368631b03d00c8fc7689a670ba92e4ac: \r\n\r\nI think `{{}}` should also work here?\r\n\r\nIf not it might be good to mention in the commit message why this was chosen. Presumably the goal is to add the no-op argsman stuff here is that if settings are supplied in the future, they are not ignored.",
      "created_at": "2022-06-22T09:53:28Z",
      "updated_at": "2022-06-22T11:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903532071",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903532071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903536072",
      "pull_request_review_id": 1014832386,
      "id": 903536072,
      "node_id": "PRRC_kwDOABII58412t3I",
      "diff_hunk": "@@ -121,6 +123,14 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+static inline CTxMemPool MakeMempool(const ArgsManager& argsman)\n+{\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(argsman, mempool_opts);",
      "path": "src/test/fuzz/tx_pool.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c318c982f62610d1c937ab803346307d5458f877",
      "in_reply_to_id": 900332212,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "7e6d2d72368631b03d00c8fc7689a670ba92e4ac:\r\n\r\n> Applying command line options to tx_pool fuzz test appears to be a change in behavior that is only obliquely referenced in the commit message. Would be good to say up front how exactly behavior is supposed to be changing in the commit up front.\r\n\r\nI don't think this changes behaviour, as the argsman doesn't have any stuff set. (A config setting is only forced in `ChainTestingSetup`).\r\n\r\nI think the goal to add the no-op argsman stuff here is that if settings are supplied in the future, they are not ignored.",
      "created_at": "2022-06-22T09:56:58Z",
      "updated_at": "2022-06-22T11:34:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903536072",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903536072"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903544784",
      "pull_request_review_id": 1014832386,
      "id": 903544784,
      "node_id": "PRRC_kwDOABII58412v_Q",
      "diff_hunk": "@@ -10,4 +10,6 @@\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    if (auto mb = argsman.GetIntArg(\"-maxmempool\")) mempool_opts.max_size_bytes = *mb * 1000000;",
      "path": "src/mempool_args.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 8c81736608e05607d0d84a6edb7ef6b66e46857c:\r\n\r\nCould use `1'000'000`?",
      "created_at": "2022-06-22T10:06:10Z",
      "updated_at": "2022-06-22T11:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903544784",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903544784"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903552020",
      "pull_request_review_id": 1014832386,
      "id": 903552020,
      "node_id": "PRRC_kwDOABII58412xwU",
      "diff_hunk": "@@ -701,6 +703,9 @@ class CTxMemPool\n       *  takes the fee rate to go back down all the way to 0. When the feerate\n       *  would otherwise be half of this, it is set to 0 instead.\n       */\n+    CFeeRate GetMinFee() const {\n+        return GetMinFee(m_max_size_bytes);\n+    }\n     CFeeRate GetMinFee(size_t sizelimit) const;",
      "path": "src/txmempool.h",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "8c81736608e05607d0d84a6edb7ef6b66e46857c:\r\n\r\nI am not a fan of exposing this test-only method to normal code. What about removing it and allowing unit tests to modify `m_max_size_bytes` (or something like that)?\r\n\r\n(Note: GetMinFee is marked const, but actually a *setter* of the rolling fee",
      "created_at": "2022-06-22T10:14:00Z",
      "updated_at": "2022-06-22T11:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903552020",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903552020"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 711,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903554269",
      "pull_request_review_id": 1014832386,
      "id": 903554269,
      "node_id": "PRRC_kwDOABII58412yTd",
      "diff_hunk": "@@ -657,9 +657,8 @@ UniValue MempoolInfoToJSON(const CTxMemPool& pool)\n     ret.pushKV(\"bytes\", (int64_t)pool.GetTotalTxSize());\n     ret.pushKV(\"usage\", (int64_t)pool.DynamicMemoryUsage());\n     ret.pushKV(\"total_fee\", ValueFromAmount(pool.GetTotalFee()));\n-    int64_t maxmempool{gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000};\n-    ret.pushKV(\"maxmempool\", maxmempool);\n-    ret.pushKV(\"mempoolminfee\", ValueFromAmount(std::max(pool.GetMinFee(maxmempool), ::minRelayTxFee).GetFeePerK()));\n+    ret.pushKV(\"maxmempool\", (int64_t)pool.m_max_size_bytes);",
      "path": "src/rpc/mempool.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit 8c81736608e05607d0d84a6edb7ef6b66e46857c: Maybe use a `int64_t(...)` cast if a cast is needed?",
      "created_at": "2022-06-22T10:16:25Z",
      "updated_at": "2022-06-22T11:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903554269",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903554269"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 660,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903579169",
      "pull_request_review_id": 1014832386,
      "id": 903579169,
      "node_id": "PRRC_kwDOABII584124Yh",
      "diff_hunk": "@@ -18,6 +23,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     /* The ratio used to determine how often sanity checks will run.  */\n     int check_ratio = 0;\n+    size_t max_size_bytes = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 18,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in https://github.com/bitcoin/bitcoin/commit/8c81736608e05607d0d84a6edb7ef6b66e46857c: `1'000'000`?",
      "created_at": "2022-06-22T10:41:00Z",
      "updated_at": "2022-06-22T11:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903579169",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903579169"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903597129",
      "pull_request_review_id": 1014832386,
      "id": 903597129,
      "node_id": "PRRC_kwDOABII584128xJ",
      "diff_hunk": "@@ -178,6 +178,9 @@ BITCOIN_CORE_H = \\\n   logging.h \\\n   logging/timer.h \\\n   mapport.h \\\n+  mempool_args.h \\\n+  mempool_limits.h \\\n+  mempool_options.h \\",
      "path": "src/Makefile.am",
      "position": null,
      "original_position": 6,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "chainstatemanager_opts.h is located in `kernel/`, but this not. why?",
      "created_at": "2022-06-22T11:02:27Z",
      "updated_at": "2022-06-22T11:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903597129",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903597129"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 183,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903607265",
      "pull_request_review_id": 1014832386,
      "id": 903607265,
      "node_id": "PRRC_kwDOABII58412_Ph",
      "diff_hunk": "@@ -0,0 +1,32 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <mempool_args.h>\n+\n+#include <mempool_options.h>\n+#include <util/system.h>\n+\n+namespace {\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolLimits& mempool_limits)\n+{\n+    mempool_limits.ancestor_count = argsman.GetIntArg(\"-limitancestorcount\", mempool_limits.ancestor_count);",
      "path": "src/mempool_args.cpp",
      "position": 18,
      "original_position": 13,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 6843403a15cab34bc4e1e7acf7a0e509a2d437df:\r\n\r\n```suggestion\r\n    if (auto cnt = argsman.GetIntArg(\"-limitancestorcount\") mempool_limits.ancestor_count = *cnt;\r\n```\r\n\r\nAny reason to use a different style for those, when it is less code to keep the style consistent with the other parsing?",
      "created_at": "2022-06-22T11:13:40Z",
      "updated_at": "2022-06-22T11:34:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903607265",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903607265"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 18,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903608166",
      "pull_request_review_id": 1014832386,
      "id": 903608166,
      "node_id": "PRRC_kwDOABII58412_dm",
      "diff_hunk": "@@ -0,0 +1,32 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <mempool_args.h>\n+\n+#include <mempool_options.h>\n+#include <util/system.h>\n+\n+namespace {\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolLimits& mempool_limits)\n+{\n+    mempool_limits.ancestor_count = argsman.GetIntArg(\"-limitancestorcount\", mempool_limits.ancestor_count);\n+\n+    if (auto vkb = argsman.GetIntArg(\"-limitancestorsize\")) mempool_limits.ancestor_size_vbytes = *vkb * 1000;\n+\n+    mempool_limits.descendant_count = argsman.GetIntArg(\"-limitdescendantcount\", mempool_limits.descendant_count);\n+\n+    if (auto vkb = argsman.GetIntArg(\"-limitdescendantsize\")) mempool_limits.descendant_size_vbytes = *vkb * 1000;\n+}\n+}\n+\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n+{\n+    mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);",
      "path": "src/mempool_args.cpp",
      "position": 30,
      "original_position": 25,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "same nit:\r\n\r\n```suggestion\r\n    if (auto ratio = argsman.GetIntArg(\"-checkmempool\") mempool_opts.check_ratio = *ratio;\r\n```",
      "created_at": "2022-06-22T11:14:48Z",
      "updated_at": "2022-06-22T11:34:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903608166",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903608166"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 30,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903614723",
      "pull_request_review_id": 1014832386,
      "id": 903614723,
      "node_id": "PRRC_kwDOABII58413BED",
      "diff_hunk": "@@ -653,24 +654,28 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        if (!m_node.mempool) {\n+            const CTxMemPool::Limits limits{};\n+            limit_ancestor_count = limits.ancestor_count;\n+            limit_descendant_count = limits.descendant_count;\n+        } else {\n+            const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+            limit_ancestor_count = limits.ancestor_count;\n+            limit_descendant_count = limits.descendant_count;\n+        }",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in b810f102c47c61f276ffa2f9a78a3b86ad5a88b8 for less code:\r\n\r\n```suggestion\r\n            const CTxMemPool::Limits default_limits{};\r\n            \r\n            const CTxMemPool::Limits& limits{m_node.mempool?m_node.mempool->m_limits:default_limits};\r\n            limit_ancestor_count = limits.ancestor_count;\r\n            limit_descendant_count = limits.descendant_count;\r\n```",
      "created_at": "2022-06-22T11:21:40Z",
      "updated_at": "2022-06-22T11:34:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903614723",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903614723"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 657,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 665,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903617180",
      "pull_request_review_id": 1014832386,
      "id": 903617180,
      "node_id": "PRRC_kwDOABII58413Bqc",
      "diff_hunk": "@@ -932,10 +932,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     }\n \n     // mempool limits",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 3,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "7e90c69f1be6f8ba52e1f24b983379d00aad2f65 : forgot to remove this?",
      "created_at": "2022-06-22T11:24:34Z",
      "updated_at": "2022-06-22T11:34:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903617180",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903617180"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 934,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903619629",
      "pull_request_review_id": 1014832386,
      "id": 903619629,
      "node_id": "PRRC_kwDOABII58413CQt",
      "diff_hunk": "@@ -1434,6 +1430,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    size_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;\n+    if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {",
      "path": "src/init.cpp",
      "position": 100,
      "original_position": 17,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "7e90c69f1be6f8ba52e1f24b983379d00aad2f65:\r\n\r\nthis doesn't work. You can't parse a signed integer and assign it to an unsigned type, then use `< 0` to check if it originally was negative.",
      "created_at": "2022-06-22T11:26:56Z",
      "updated_at": "2022-06-22T11:34:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903619629",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903619629"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1434,
      "original_line": 1434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903620266",
      "pull_request_review_id": 1014832386,
      "id": 903620266,
      "node_id": "PRRC_kwDOABII58413Caq",
      "diff_hunk": "@@ -1434,6 +1430,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    size_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;\n+    if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {\n+        return InitError(strprintf(_(\"-maxmempool must be at least %d MB\"), std::ceil(descendant_limit_bytes / 1000000.0)));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "7e90c69f1be6f8ba52e1f24b983379d00aad2f65: Maybe use `1'000'000.0` (not sure if that compiles?)",
      "created_at": "2022-06-22T11:27:42Z",
      "updated_at": "2022-06-22T11:34:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903620266",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903620266"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1436,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903623969",
      "pull_request_review_id": 1014832386,
      "id": 903623969,
      "node_id": "PRRC_kwDOABII58413DUh",
      "diff_hunk": "@@ -19,6 +20,8 @@\n #include <string>\n #include <vector>\n \n+extern const char* FEE_ESTIMATES_FILENAME;",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 12,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "167076739f02ddcf754200b378d504d320d0ff22:\r\n\r\nInstead of exporting this, what about exporting a function that calculates the path?\r\n\r\n```\r\nfs::path FeeestPath(ArgsManager&);\r\n```\r\n\r\nSo caller could call `FeeestPath(gArgs)` instead of `gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME`",
      "created_at": "2022-06-22T11:32:04Z",
      "updated_at": "2022-06-22T11:34:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903623969",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903623969"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903632309",
      "pull_request_review_id": 1015020076,
      "id": 903632309,
      "node_id": "PRRC_kwDOABII58413FW1",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_OPTIONS_H\n+#define BITCOIN_MEMPOOL_OPTIONS_H\n+\n+#include <mempool_limits.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <cstdint>\n+\n+class CBlockPolicyEstimator;\n+\n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static constexpr unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB{300};\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static constexpr unsigned int DEFAULT_MEMPOOL_EXPIRY_HOURS{336};\n+\n+/**\n+ * Options struct containing options for constructing a CTxMemPool. Default\n+ * constructor populates the struct with sane default values which can be\n+ * modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Options.\n+ */\n+struct MemPoolOptions {\n+    /* Used to estimate appropriate transaction fees. */\n+    CBlockPolicyEstimator* const estimator = nullptr;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 29,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "For all commits: Any reason to not use `{}` over `=` in this struct for C++11 member inits?",
      "created_at": "2022-06-22T11:39:19Z",
      "updated_at": "2022-06-22T11:39:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903632309",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903632309"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903790214",
      "pull_request_review_id": 1015244220,
      "id": 903790214,
      "node_id": "PRRC_kwDOABII58413r6G",
      "diff_hunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "path": "src/mempool_limits.h",
      "position": null,
      "original_position": 20,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "in_reply_to_id": 902955883,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Okay, as the PR currently stands there are a few other integral type changes. Given that they're somewhat tricky to reason about (overflows and such), I'm going to revert them to their original types and leave the changing for other PRs.\r\n\r\nAs for this specific one... It seems that we take `ancestor_size_limit` as `uint64_t` in most `CTxMemPool` function declarations, `unsigned int` in interface, and `size_t` in `MemPoolAccept`. Not exactly sure which one to choose for `MemPoolOptions`...",
      "created_at": "2022-06-22T14:04:17Z",
      "updated_at": "2022-06-22T14:10:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903790214",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903790214"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903813442",
      "pull_request_review_id": 1015278025,
      "id": 903813442,
      "node_id": "PRRC_kwDOABII58413xlC",
      "diff_hunk": "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }\n }\n \n std::string SettingToString(const util::SettingsValue& value, const std::string& strDefault)\n {\n-    return value.isNull() ? strDefault : value.isFalse() ? \"0\" : value.isTrue() ? \"1\" : value.isNum() ? value.getValStr() : value.get_str();\n+    return SettingToString(value).value_or(strDefault);\n }\n \n int64_t ArgsManager::GetIntArg(const std::string& strArg, int64_t nDefault) const\n+{\n+    return GetIntArg(strArg).value_or(nDefault);\n+}\n+\n+std::optional<int64_t> ArgsManager::GetIntArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToInt(value, nDefault);\n+    return SettingToInt(value);\n+}\n+\n+std::optional<int64_t> SettingToInt(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return 0;\n+    } else if (value.isTrue()) {\n+        return 1;\n+    } else if (value.isNum()) {\n+        return value.getInt<int64_t>();\n+    } else {\n+        return LocaleIndependentAtoi<int64_t>(value.get_str());\n+    }\n }\n \n int64_t SettingToInt(const util::SettingsValue& value, int64_t nDefault)\n {\n-    return value.isNull() ? nDefault : value.isFalse() ? 0 : value.isTrue() ? 1 : value.isNum() ? value.getInt<int64_t>() : LocaleIndependentAtoi<int64_t>(value.get_str());\n+    return SettingToInt(value).value_or(nDefault);\n }\n \n bool ArgsManager::GetBoolArg(const std::string& strArg, bool fDefault) const\n+{\n+    return GetBoolArg(strArg).value_or(fDefault);\n+}\n+\n+std::optional<bool> ArgsManager::GetBoolArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToBool(value, fDefault);\n+    return SettingToBool(value);\n+}\n+\n+std::optional<bool> SettingToBool(const util::SettingsValue& value)\n+{\n+    return value.isNull() ? std::nullopt : std::make_optional(value.isBool() ? value.get_bool() : InterpretBool(value.get_str()));",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 83,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "a64c96f861d2d2658704085d42463ab03b1e6350",
      "in_reply_to_id": 903503790,
      "user": {
        "login": "w0xlt",
        "id": 94266259,
        "node_id": "U_kgDOBZ5jkw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/w0xlt",
        "html_url": "https://github.com/w0xlt",
        "followers_url": "https://api.github.com/users/w0xlt/followers",
        "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
        "organizations_url": "https://api.github.com/users/w0xlt/orgs",
        "repos_url": "https://api.github.com/users/w0xlt/repos",
        "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/w0xlt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I also think using `if` makes the code clearer and more readable.",
      "created_at": "2022-06-22T14:21:56Z",
      "updated_at": "2022-06-22T14:21:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903813442",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903813442"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 689,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904425171",
      "pull_request_review_id": 1016207144,
      "id": 904425171,
      "node_id": "PRRC_kwDOABII58416G7T",
      "diff_hunk": "@@ -121,6 +123,14 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+static inline CTxMemPool MakeMempool(const ArgsManager& argsman)\n+{\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(argsman, mempool_opts);",
      "path": "src/test/fuzz/tx_pool.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c318c982f62610d1c937ab803346307d5458f877",
      "in_reply_to_id": 900332212,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> I don't think this changes behaviour, as the argsman doesn't have any stuff set. (A config setting is only forced in `ChainTestingSetup`).\r\n\r\nYou're right. I was misinterpreting a comment about the other fuzz test in the commit description, thinking it applied to this test. I thought that options passed to the fuzzer would be ignored previously and now applied. But now I notice `SetMempoolConstraints` setting argsman options above, so I think this is exactly preserving existing behavior.\r\n\r\nStill would be nice if commit said explicitly if it's not intended to change behavior or is intended to change something. Easier to check if code matches intent than to work backwards and figure out what intent is supposed to be.",
      "created_at": "2022-06-23T00:48:01Z",
      "updated_at": "2022-06-23T17:47:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904425171",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904425171"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904428190",
      "pull_request_review_id": 1016207144,
      "id": 904428190,
      "node_id": "PRRC_kwDOABII58416Hqe",
      "diff_hunk": "@@ -30,7 +32,10 @@ FUZZ_TARGET_INIT(validation_load_mempool, initialize_validation_load_mempool)\n     SetMockTime(ConsumeTime(fuzzed_data_provider));\n     FuzzedFileProvider fuzzed_file_provider = ConsumeFile(fuzzed_data_provider);\n \n-    CTxMemPool pool{};\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(*g_setup->m_node.args, mempool_opts);\n+    CTxMemPool pool{mempool_opts};",
      "path": "src/test/fuzz/validation_load_mempool.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "in_reply_to_id": 903532071,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> If not it might be good to mention in the commit message why this was chosen. Presumably the goal is to add the no-op argsman stuff here is that if settings are supplied in the future, they are not ignored.\r\n\r\nAgree it would be good to document, but I think it would be preferable to say in a code comment instead of a commit message if you're explaining reasoning behind code, so people reading the code can see the explanation.",
      "created_at": "2022-06-23T00:55:56Z",
      "updated_at": "2022-06-23T17:47:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904428190",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904428190"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904437939",
      "pull_request_review_id": 1016225066,
      "id": 904437939,
      "node_id": "PRRC_kwDOABII58416KCz",
      "diff_hunk": "@@ -1434,6 +1430,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    size_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;\n+    if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {",
      "path": "src/init.cpp",
      "position": 100,
      "original_position": 17,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "in_reply_to_id": 903619629,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Already reported here : https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902827767, get caught as a compilation warning.",
      "created_at": "2022-06-23T01:21:49Z",
      "updated_at": "2022-06-23T01:21:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904437939",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904437939"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1434,
      "original_line": 1434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904529037",
      "pull_request_review_id": 1016345755,
      "id": 904529037,
      "node_id": "PRRC_kwDOABII58416gSN",
      "diff_hunk": "@@ -1434,6 +1430,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    size_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;\n+    if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {",
      "path": "src/init.cpp",
      "position": 100,
      "original_position": 17,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "in_reply_to_id": 903619629,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "To solve, it would either need to be cast back with `int64_t(...) < 0` or the type changed.",
      "created_at": "2022-06-23T05:20:36Z",
      "updated_at": "2022-06-23T05:20:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904529037",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904529037"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1434,
      "original_line": 1434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905228991",
      "pull_request_review_id": 1016207144,
      "id": 905228991,
      "node_id": "PRRC_kwDOABII58419LK_",
      "diff_hunk": "@@ -161,7 +164,12 @@ ChainTestingSetup::ChainTestingSetup(const std::string& chainName, const std::ve\n     GetMainSignals().RegisterBackgroundSignalScheduler(*m_node.scheduler);\n \n     m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n-    m_node.mempool = std::make_unique<CTxMemPool>(m_node.fee_estimator.get(), m_node.args->GetIntArg(\"-checkmempool\", 1));\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) m_node.fee_estimator.get(),\n+        Desig(check_ratio) 1,",
      "path": "src/test/util/setup_common.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (7e6d2d72368631b03d00c8fc7689a670ba92e4ac)\r\n\r\nMaybe would be good to mention this is intentionally ignoring chainparams.DefaultConsistencyChecks(), and always enabling checking regardless of current network for test purposes.",
      "created_at": "2022-06-23T16:21:19Z",
      "updated_at": "2022-06-23T17:47:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905228991",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905228991"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 169,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905239669",
      "pull_request_review_id": 1016207144,
      "id": 905239669,
      "node_id": "PRRC_kwDOABII58419Nx1",
      "diff_hunk": "@@ -23,7 +24,7 @@ FUZZ_TARGET(rbf)\n     if (!mtx) {\n         return;\n     }\n-    CTxMemPool pool;\n+    CTxMemPool pool{{}};",
      "path": "src/test/fuzz/rbf.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "in_reply_to_id": 903529958,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (7e6d2d72368631b03d00c8fc7689a670ba92e4ac)\r\n\r\nThis seems ok, but maybe later it would be better to use `const TestingSetup* g_setup;` pattern and `g_setup->m_node->mempool` to use a mempool that has check_ratio enabled (and has the muted log messages)",
      "created_at": "2022-06-23T16:32:17Z",
      "updated_at": "2022-06-23T17:47:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905239669",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905239669"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905244054",
      "pull_request_review_id": 1016207144,
      "id": 905244054,
      "node_id": "PRRC_kwDOABII58419O2W",
      "diff_hunk": "@@ -142,7 +152,7 @@ FUZZ_TARGET_INIT(tx_pool_standard, initialize_tx_pool)\n     // The sum of the values of all spendable outpoints\n     constexpr CAmount SUPPLY_TOTAL{COINBASE_MATURITY * 50 * COIN};\n \n-    CTxMemPool tx_pool_{/*estimator=*/nullptr, /*check_ratio=*/1};\n+    CTxMemPool tx_pool_{MakeMempool(*node.args)};",
      "path": "src/test/fuzz/tx_pool.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (7e6d2d72368631b03d00c8fc7689a670ba92e4ac)\r\n\r\nAny idea why this test is creating separate mempools instead of using `g_setup->m_node->mempool`? If there's a reason, would be good to mention in a code comment.\r\n\r\nI guess same question also applies to the other `validation_load_mempool.cpp` fuzz test below",
      "created_at": "2022-06-23T16:37:16Z",
      "updated_at": "2022-06-23T17:47:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905244054",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905244054"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905260891",
      "pull_request_review_id": 1016207144,
      "id": 905260891,
      "node_id": "PRRC_kwDOABII58419S9b",
      "diff_hunk": "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;\n+\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+        limit_ancestor_count = limits.ancestor_count;\n+        limit_descendant_count = limits.descendant_count;\n     }\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n         if (!m_node.mempool) return true;\n         LockPoints lp;\n         CTxMemPoolEntry entry(tx, 0, 0, 0, false, 0, lp);\n         CTxMemPool::setEntries ancestors;\n-        auto limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        auto limit_ancestor_size = gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB) * 1000;\n-        auto limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n-        auto limit_descendant_size = gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000;\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         std::string unused_error_string;\n         LOCK(m_node.mempool->cs);\n         return m_node.mempool->CalculateMemPoolAncestors(",
      "path": "src/node/interfaces.cpp",
      "position": 26,
      "original_position": 34,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "95430b611c6562845143669e88e07fcde770d1af",
      "in_reply_to_id": 900409517,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "re: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902939657\r\n\r\n> Do you mean something like below?\r\n\r\nNot really, I'm suggesting existing `CalculateMemPoolAncestors` method could to be changed to take fewer parameters, not that a wrapper could be added around it taking fewer parameters. Even if callers don't already have the struct they could pass a struct literal and parameter list would be better organized. Not very important though.",
      "created_at": "2022-06-23T16:56:40Z",
      "updated_at": "2022-06-23T17:47:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905260891",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905260891"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 672,
      "original_line": 672,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905273518",
      "pull_request_review_id": 1016207144,
      "id": 905273518,
      "node_id": "PRRC_kwDOABII58419WCu",
      "diff_hunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {",
      "path": "src/mempool_limits.h",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"mempool: Introduce (still-unused) MemPoolLimits\" (6843403a15cab34bc4e1e7acf7a0e509a2d437df)\r\n\r\nMight be good to document these members using documentation that is deleted in later commit \"mempool: Use m_limit for UpdateTransactionsFromBlock\" (7375ec6b6ada8f45b585f272ab20f1b9c1328ed6). Like for \"The maximum allowed number of transactions including the entry and its ancestors\" interesting to know the count is inclusive.",
      "created_at": "2022-06-23T17:11:39Z",
      "updated_at": "2022-06-23T17:47:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905273518",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905273518"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384793",
      "pull_request_review_id": 1017538221,
      "id": 905384793,
      "node_id": "PRRC_kwDOABII58419xNZ",
      "diff_hunk": "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "a64c96f861d2d2658704085d42463ab03b1e6350",
      "in_reply_to_id": 903501033,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of fc02f77ca6",
      "created_at": "2022-06-23T19:29:04Z",
      "updated_at": "2022-06-23T19:29:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905384793",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384793"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 627,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 637,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384862",
      "pull_request_review_id": 1017538328,
      "id": 905384862,
      "node_id": "PRRC_kwDOABII58419xOe",
      "diff_hunk": "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }\n }\n \n std::string SettingToString(const util::SettingsValue& value, const std::string& strDefault)\n {\n-    return value.isNull() ? strDefault : value.isFalse() ? \"0\" : value.isTrue() ? \"1\" : value.isNum() ? value.getValStr() : value.get_str();\n+    return SettingToString(value).value_or(strDefault);\n }\n \n int64_t ArgsManager::GetIntArg(const std::string& strArg, int64_t nDefault) const\n+{\n+    return GetIntArg(strArg).value_or(nDefault);\n+}\n+\n+std::optional<int64_t> ArgsManager::GetIntArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToInt(value, nDefault);\n+    return SettingToInt(value);\n+}\n+\n+std::optional<int64_t> SettingToInt(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return 0;\n+    } else if (value.isTrue()) {\n+        return 1;\n+    } else if (value.isNum()) {\n+        return value.getInt<int64_t>();\n+    } else {\n+        return LocaleIndependentAtoi<int64_t>(value.get_str());\n+    }",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 60,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "a64c96f861d2d2658704085d42463ab03b1e6350",
      "in_reply_to_id": 903501198,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of fc02f77ca6",
      "created_at": "2022-06-23T19:29:11Z",
      "updated_at": "2022-06-23T19:29:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905384862",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384862"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 668,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384921",
      "pull_request_review_id": 1017538407,
      "id": 905384921,
      "node_id": "PRRC_kwDOABII58419xPZ",
      "diff_hunk": "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }\n }\n \n std::string SettingToString(const util::SettingsValue& value, const std::string& strDefault)\n {\n-    return value.isNull() ? strDefault : value.isFalse() ? \"0\" : value.isTrue() ? \"1\" : value.isNum() ? value.getValStr() : value.get_str();\n+    return SettingToString(value).value_or(strDefault);\n }\n \n int64_t ArgsManager::GetIntArg(const std::string& strArg, int64_t nDefault) const\n+{\n+    return GetIntArg(strArg).value_or(nDefault);\n+}\n+\n+std::optional<int64_t> ArgsManager::GetIntArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToInt(value, nDefault);\n+    return SettingToInt(value);\n+}\n+\n+std::optional<int64_t> SettingToInt(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return 0;\n+    } else if (value.isTrue()) {\n+        return 1;\n+    } else if (value.isNum()) {\n+        return value.getInt<int64_t>();\n+    } else {\n+        return LocaleIndependentAtoi<int64_t>(value.get_str());\n+    }\n }\n \n int64_t SettingToInt(const util::SettingsValue& value, int64_t nDefault)\n {\n-    return value.isNull() ? nDefault : value.isFalse() ? 0 : value.isTrue() ? 1 : value.isNum() ? value.getInt<int64_t>() : LocaleIndependentAtoi<int64_t>(value.get_str());\n+    return SettingToInt(value).value_or(nDefault);\n }\n \n bool ArgsManager::GetBoolArg(const std::string& strArg, bool fDefault) const\n+{\n+    return GetBoolArg(strArg).value_or(fDefault);\n+}\n+\n+std::optional<bool> ArgsManager::GetBoolArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToBool(value, fDefault);\n+    return SettingToBool(value);\n+}\n+\n+std::optional<bool> SettingToBool(const util::SettingsValue& value)\n+{\n+    return value.isNull() ? std::nullopt : std::make_optional(value.isBool() ? value.get_bool() : InterpretBool(value.get_str()));",
      "path": "src/util/system.cpp",
      "position": null,
      "original_position": 83,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "a64c96f861d2d2658704085d42463ab03b1e6350",
      "in_reply_to_id": 903503790,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of fc02f77ca6",
      "created_at": "2022-06-23T19:29:16Z",
      "updated_at": "2022-06-23T19:29:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905384921",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384921"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 689,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385410",
      "pull_request_review_id": 1017539112,
      "id": 905385410,
      "node_id": "PRRC_kwDOABII58419xXC",
      "diff_hunk": "@@ -10,4 +10,6 @@\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    if (auto mb = argsman.GetIntArg(\"-maxmempool\")) mempool_opts.max_size_bytes = *mb * 1000000;",
      "path": "src/mempool_args.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "in_reply_to_id": 903544784,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of 468ee5b9a8",
      "created_at": "2022-06-23T19:29:56Z",
      "updated_at": "2022-06-23T19:29:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385410",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385410"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385523",
      "pull_request_review_id": 1017539270,
      "id": 905385523,
      "node_id": "PRRC_kwDOABII58419xYz",
      "diff_hunk": "@@ -18,6 +23,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     /* The ratio used to determine how often sanity checks will run.  */\n     int check_ratio = 0;\n+    size_t max_size_bytes = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 18,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "in_reply_to_id": 903579169,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of 468ee5b9a8",
      "created_at": "2022-06-23T19:30:05Z",
      "updated_at": "2022-06-23T19:30:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385523",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385523"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385701",
      "pull_request_review_id": 1017539516,
      "id": 905385701,
      "node_id": "PRRC_kwDOABII58419xbl",
      "diff_hunk": "@@ -653,24 +654,28 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        if (!m_node.mempool) {\n+            const CTxMemPool::Limits limits{};\n+            limit_ancestor_count = limits.ancestor_count;\n+            limit_descendant_count = limits.descendant_count;\n+        } else {\n+            const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+            limit_ancestor_count = limits.ancestor_count;\n+            limit_descendant_count = limits.descendant_count;\n+        }",
      "path": "src/node/interfaces.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": 903614723,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of d669b93469",
      "created_at": "2022-06-23T19:30:19Z",
      "updated_at": "2022-06-23T19:30:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385701",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385701"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 657,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 665,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385834",
      "pull_request_review_id": 1017539730,
      "id": 905385834,
      "node_id": "PRRC_kwDOABII58419xdq",
      "diff_hunk": "@@ -932,10 +932,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     }\n \n     // mempool limits",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 3,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "in_reply_to_id": 903617180,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of a956afedfe",
      "created_at": "2022-06-23T19:30:31Z",
      "updated_at": "2022-06-23T19:30:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385834",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385834"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 934,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905386083",
      "pull_request_review_id": 1017540107,
      "id": 905386083,
      "node_id": "PRRC_kwDOABII58419xhj",
      "diff_hunk": "@@ -1434,6 +1430,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    size_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;\n+    if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {\n+        return InitError(strprintf(_(\"-maxmempool must be at least %d MB\"), std::ceil(descendant_limit_bytes / 1000000.0)));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "in_reply_to_id": 903620266,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It does! Fixed as of a956afedfe",
      "created_at": "2022-06-23T19:30:53Z",
      "updated_at": "2022-06-23T19:30:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905386083",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905386083"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1436,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905396148",
      "pull_request_review_id": 1017554764,
      "id": 905396148,
      "node_id": "PRRC_kwDOABII58419z-0",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_OPTIONS_H\n+#define BITCOIN_MEMPOOL_OPTIONS_H\n+\n+#include <mempool_limits.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <cstdint>\n+\n+class CBlockPolicyEstimator;\n+\n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static constexpr unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB{300};\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static constexpr unsigned int DEFAULT_MEMPOOL_EXPIRY_HOURS{336};\n+\n+/**\n+ * Options struct containing options for constructing a CTxMemPool. Default\n+ * constructor populates the struct with sane default values which can be\n+ * modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Options.\n+ */\n+struct MemPoolOptions {\n+    /* Used to estimate appropriate transaction fees. */\n+    CBlockPolicyEstimator* const estimator = nullptr;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 29,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": 903632309,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nope! Is `{}` preferred?",
      "created_at": "2022-06-23T19:45:06Z",
      "updated_at": "2022-06-23T19:45:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905396148",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905396148"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905398043",
      "pull_request_review_id": 1017557527,
      "id": 905398043,
      "node_id": "PRRC_kwDOABII584190cb",
      "diff_hunk": "@@ -0,0 +1,32 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <mempool_args.h>\n+\n+#include <mempool_options.h>\n+#include <util/system.h>\n+\n+namespace {\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolLimits& mempool_limits)\n+{\n+    mempool_limits.ancestor_count = argsman.GetIntArg(\"-limitancestorcount\", mempool_limits.ancestor_count);",
      "path": "src/mempool_args.cpp",
      "position": 18,
      "original_position": 13,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": 903607265,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I wanted to make visually clear the cases where we directly use the `ArgsMan` arg in `CTxMemPool::Options` and which cases get transformed before getting set in `CTxMemPool::Options`. However, I don't feel strongly so let me know if you prefer the consistency instead!",
      "created_at": "2022-06-23T19:47:43Z",
      "updated_at": "2022-06-23T19:47:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905398043",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905398043"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 18,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905398130",
      "pull_request_review_id": 1017557667,
      "id": 905398130,
      "node_id": "PRRC_kwDOABII584190dy",
      "diff_hunk": "@@ -0,0 +1,32 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <mempool_args.h>\n+\n+#include <mempool_options.h>\n+#include <util/system.h>\n+\n+namespace {\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolLimits& mempool_limits)\n+{\n+    mempool_limits.ancestor_count = argsman.GetIntArg(\"-limitancestorcount\", mempool_limits.ancestor_count);\n+\n+    if (auto vkb = argsman.GetIntArg(\"-limitancestorsize\")) mempool_limits.ancestor_size_vbytes = *vkb * 1000;\n+\n+    mempool_limits.descendant_count = argsman.GetIntArg(\"-limitdescendantcount\", mempool_limits.descendant_count);\n+\n+    if (auto vkb = argsman.GetIntArg(\"-limitdescendantsize\")) mempool_limits.descendant_size_vbytes = *vkb * 1000;\n+}\n+}\n+\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n+{\n+    mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);",
      "path": "src/mempool_args.cpp",
      "position": 30,
      "original_position": 25,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": 903608166,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905398043",
      "created_at": "2022-06-23T19:47:50Z",
      "updated_at": "2022-06-23T19:47:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905398130",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905398130"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 30,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905402508",
      "pull_request_review_id": 1017563969,
      "id": 905402508,
      "node_id": "PRRC_kwDOABII584191iM",
      "diff_hunk": "@@ -701,6 +703,9 @@ class CTxMemPool\n       *  takes the fee rate to go back down all the way to 0. When the feerate\n       *  would otherwise be half of this, it is set to 0 instead.\n       */\n+    CFeeRate GetMinFee() const {\n+        return GetMinFee(m_max_size_bytes);\n+    }\n     CFeeRate GetMinFee(size_t sizelimit) const;",
      "path": "src/txmempool.h",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "in_reply_to_id": 903552020,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems that only the version of `GetMinFee` with a custom size limit is test-only... Perhaps we make that version protected in `CTxMemPool` and have the tests use a:\r\n\r\n```cpp\r\nclass CMemPoolTest : public CTxMemPool\r\n{\r\npublic:\r\n    using CTxMemPool::GetMinFee;\r\n};\r\n```\r\n\r\nOr did you have something else in mind? I'm hoping it's just a small change here since it's already existing behaviour...",
      "created_at": "2022-06-23T19:53:56Z",
      "updated_at": "2022-06-23T19:53:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905402508",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905402508"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 711,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905844443",
      "pull_request_review_id": 1018162428,
      "id": 905844443,
      "node_id": "PRRC_kwDOABII5841_hbb",
      "diff_hunk": "@@ -701,6 +703,9 @@ class CTxMemPool\n       *  takes the fee rate to go back down all the way to 0. When the feerate\n       *  would otherwise be half of this, it is set to 0 instead.\n       */\n+    CFeeRate GetMinFee() const {\n+        return GetMinFee(m_max_size_bytes);\n+    }\n     CFeeRate GetMinFee(size_t sizelimit) const;",
      "path": "src/txmempool.h",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "in_reply_to_id": 903552020,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`class MemPoolTest` sounds fine",
      "created_at": "2022-06-24T08:32:08Z",
      "updated_at": "2022-06-24T08:32:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905844443",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905844443"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 711,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905845900",
      "pull_request_review_id": 1018164540,
      "id": 905845900,
      "node_id": "PRRC_kwDOABII5841_hyM",
      "diff_hunk": "@@ -0,0 +1,32 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <mempool_args.h>\n+\n+#include <mempool_options.h>\n+#include <util/system.h>\n+\n+namespace {\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolLimits& mempool_limits)\n+{\n+    mempool_limits.ancestor_count = argsman.GetIntArg(\"-limitancestorcount\", mempool_limits.ancestor_count);",
      "path": "src/mempool_args.cpp",
      "position": 18,
      "original_position": 13,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": 903607265,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't care too much. My suggestion uses less code, but this is only a style nit.",
      "created_at": "2022-06-24T08:33:57Z",
      "updated_at": "2022-06-24T08:33:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905845900",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905845900"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 18,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905847287",
      "pull_request_review_id": 1018166511,
      "id": 905847287,
      "node_id": "PRRC_kwDOABII5841_iH3",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_OPTIONS_H\n+#define BITCOIN_MEMPOOL_OPTIONS_H\n+\n+#include <mempool_limits.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <cstdint>\n+\n+class CBlockPolicyEstimator;\n+\n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static constexpr unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB{300};\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static constexpr unsigned int DEFAULT_MEMPOOL_EXPIRY_HOURS{336};\n+\n+/**\n+ * Options struct containing options for constructing a CTxMemPool. Default\n+ * constructor populates the struct with sane default values which can be\n+ * modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Options.\n+ */\n+struct MemPoolOptions {\n+    /* Used to estimate appropriate transaction fees. */\n+    CBlockPolicyEstimator* const estimator = nullptr;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 29,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": 903632309,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, for new code it is preferred style. `{}` has narrowing warnings enabled, as opposed to `=` or `()`, which do not.",
      "created_at": "2022-06-24T08:35:37Z",
      "updated_at": "2022-06-24T08:35:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905847287",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905847287"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906180247",
      "pull_request_review_id": 1018651953,
      "id": 906180247,
      "node_id": "PRRC_kwDOABII5842AzaX",
      "diff_hunk": "@@ -2298,7 +2296,7 @@ CoinsCacheSizeState CChainState::GetCoinsCacheSizeState()\n     AssertLockHeld(::cs_main);\n     return this->GetCoinsCacheSizeState(\n         m_coinstip_cache_size_bytes,\n-        gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000);\n+        m_mempool ? m_mempool->m_max_size : 0);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 57,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5b733c301debc3119872d436c555f1bf67deb00d",
      "in_reply_to_id": 900378684,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It was a bit hard for me to discern the original intent here, so this is definitely something we want to look into. From what I can tell, we're allowing the CoinsView to use some of mempool's memory quota when the mempool's memory usage is low? Perhaps @jamesob can shed some light on this logic and help determine what the best solution is here.",
      "created_at": "2022-06-24T15:35:58Z",
      "updated_at": "2022-06-24T15:35:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r906180247",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906180247"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2287,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906215658",
      "pull_request_review_id": 1018702494,
      "id": 906215658,
      "node_id": "PRRC_kwDOABII5842A8Dq",
      "diff_hunk": "@@ -142,7 +152,7 @@ FUZZ_TARGET_INIT(tx_pool_standard, initialize_tx_pool)\n     // The sum of the values of all spendable outpoints\n     constexpr CAmount SUPPLY_TOTAL{COINBASE_MATURITY * 50 * COIN};\n \n-    CTxMemPool tx_pool_{/*estimator=*/nullptr, /*check_ratio=*/1};\n+    CTxMemPool tx_pool_{MakeMempool(*node.args)};",
      "path": "src/test/fuzz/tx_pool.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "in_reply_to_id": 905244054,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this is required for all fuzz tests since the `initialize` function is run once but the body is run multiple times. Using `g_setup->m_node->mempool` would mean that mempool state would persist between runs. So we have to set up a fresh mempool each time.\r\n\r\nDo you think we should put in a comment along the lines of: \"Use a local mempool instead of g_setup's so that mempool state does not persist across runs\"?",
      "created_at": "2022-06-24T16:21:29Z",
      "updated_at": "2022-06-24T16:21:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r906215658",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906215658"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906420329",
      "pull_request_review_id": 1018998568,
      "id": 906420329,
      "node_id": "PRRC_kwDOABII5842BuBp",
      "diff_hunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "path": "src/mempool_limits.h",
      "position": null,
      "original_position": 20,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "in_reply_to_id": 902955883,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See: https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1165951176",
      "created_at": "2022-06-24T21:26:11Z",
      "updated_at": "2022-06-24T21:26:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r906420329",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906420329"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907228336",
      "pull_request_review_id": 1019962474,
      "id": 907228336,
      "node_id": "PRRC_kwDOABII5842EzSw",
      "diff_hunk": "@@ -0,0 +1,37 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_OPTIONS_H\n+#define BITCOIN_MEMPOOL_OPTIONS_H\n+\n+#include <mempool_limits.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <cstdint>\n+\n+class CBlockPolicyEstimator;\n+\n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static constexpr unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB{300};\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static constexpr unsigned int DEFAULT_MEMPOOL_EXPIRY_HOURS{336};\n+\n+/**\n+ * Options struct containing options for constructing a CTxMemPool. Default\n+ * constructor populates the struct with sane default values which can be\n+ * modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Options.\n+ */\n+struct MemPoolOptions {\n+    /* Used to estimate appropriate transaction fees. */\n+    CBlockPolicyEstimator* const estimator = nullptr;",
      "path": "src/mempool_options.h",
      "position": null,
      "original_position": 29,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": 903632309,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Closing as resolved",
      "created_at": "2022-06-27T10:25:37Z",
      "updated_at": "2022-06-27T10:25:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907228336",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907228336"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907228448",
      "pull_request_review_id": 1019962647,
      "id": 907228448,
      "node_id": "PRRC_kwDOABII5842EzUg",
      "diff_hunk": "@@ -19,6 +20,8 @@\n #include <string>\n #include <vector>\n \n+extern const char* FEE_ESTIMATES_FILENAME;",
      "path": "src/policy/fees.h",
      "position": null,
      "original_position": 12,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "167076739f02ddcf754200b378d504d320d0ff22",
      "in_reply_to_id": 903623969,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Closing as resolved",
      "created_at": "2022-06-27T10:25:44Z",
      "updated_at": "2022-06-27T10:25:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907228448",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907228448"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907229787",
      "pull_request_review_id": 1019964453,
      "id": 907229787,
      "node_id": "PRRC_kwDOABII5842Ezpb",
      "diff_hunk": "@@ -23,7 +24,7 @@ FUZZ_TARGET(rbf)\n     if (!mtx) {\n         return;\n     }\n-    CTxMemPool pool;\n+    CTxMemPool pool{{}};",
      "path": "src/test/fuzz/rbf.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "in_reply_to_id": 903529958,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Closing as resolved",
      "created_at": "2022-06-27T10:27:16Z",
      "updated_at": "2022-06-27T10:27:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907229787",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907229787"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907438710",
      "pull_request_review_id": 1020269632,
      "id": 907438710,
      "node_id": "PRRC_kwDOABII5842Fmp2",
      "diff_hunk": "@@ -2298,7 +2296,7 @@ CoinsCacheSizeState CChainState::GetCoinsCacheSizeState()\n     AssertLockHeld(::cs_main);\n     return this->GetCoinsCacheSizeState(\n         m_coinstip_cache_size_bytes,\n-        gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000);\n+        m_mempool ? m_mempool->m_max_size : 0);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 57,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5b733c301debc3119872d436c555f1bf67deb00d",
      "in_reply_to_id": 900378684,
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think as-written, this is the right behavior if no mempool exists. The argument passed here (see https://github.com/bitcoin/bitcoin/pull/16945/commits/b17e91d842724d2888a179a73585cc4c2ef1dc21#diff-97c3a52bc5fad452d82670a7fd291800bae20c7bc35bb82686c2c0a4ea7b5b98R2203-R2204 for more context) ultimately just accounts for the fact that we repurpose \"extra\" mempool headroom for the coinscache (see https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L1425).",
      "created_at": "2022-06-27T14:13:30Z",
      "updated_at": "2022-06-27T14:14:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907438710",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907438710"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2287,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907509842",
      "pull_request_review_id": 1020371246,
      "id": 907509842,
      "node_id": "PRRC_kwDOABII5842F4BS",
      "diff_hunk": "@@ -121,6 +124,19 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+CTxMemPool MakeMempool(const NodeContext& node)\n+{\n+    // Take the default options for tests...\n+    CTxMemPool::Options mempool_opts{MemPoolOptionsForTest(node)};\n+\n+    // ...override specific options for this specific fuzz suite\n+    mempool_opts.estimator = nullptr;\n+    mempool_opts.check_ratio = 1;",
      "path": "src/test/fuzz/tx_pool.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "479807a5440660ded0932232a51280eabc1f6b7f",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (479807a5440660ded0932232a51280eabc1f6b7f)\r\n\r\nNote sure if this is intentional. The comment says \"override\" but this is just setting the same value. Ok if it is intentional ",
      "created_at": "2022-06-27T15:21:43Z",
      "updated_at": "2022-06-27T16:27:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907509842",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907509842"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 134,
      "original_line": 134,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907535652",
      "pull_request_review_id": 1020371246,
      "id": 907535652,
      "node_id": "PRRC_kwDOABII5842F-Uk",
      "diff_hunk": "@@ -13,4 +13,6 @@ using kernel::MemPoolOptions;\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    if (auto mb = argsman.GetIntArg(\"-maxmempool\")) mempool_opts.max_size_bytes = *mb * 1'000'000;",
      "path": "src/mempool_args.cpp",
      "position": 32,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "1471293c698330354cd7c319c1a12b9c69c0dbdb",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"mempool: Pass in -maxmempool instead of referencing gArgs\" (1471293c698330354cd7c319c1a12b9c69c0dbdb)\r\n\r\nIMO, this function would be an ideal place to check `-maxmempool` is `>0`, let `MemPoolOptions::max_size_bytes` be a `size_t` instead of an `int64_t` so it matches the `CTxMemPool::m_max_size_bytes`, return an error string, and follow good general practice of handling errors early. As is, these checks are done separately in `src/init.cpp` though so lack of error checking here is not actually a bug",
      "created_at": "2022-06-27T15:49:06Z",
      "updated_at": "2022-06-27T16:27:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907535652",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907535652"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 32,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907665535",
      "pull_request_review_id": 1020593699,
      "id": 907665535,
      "node_id": "PRRC_kwDOABII5842GeB_",
      "diff_hunk": "@@ -13,4 +13,6 @@ using kernel::MemPoolOptions;\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    if (auto mb = argsman.GetIntArg(\"-maxmempool\")) mempool_opts.max_size_bytes = *mb * 1'000'000;",
      "path": "src/mempool_args.cpp",
      "position": 32,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "1471293c698330354cd7c319c1a12b9c69c0dbdb",
      "in_reply_to_id": 907535652,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yup, absolutely agree. Added to project-wide TODOs.",
      "created_at": "2022-06-27T18:11:49Z",
      "updated_at": "2022-06-27T18:11:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907665535",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907665535"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 32,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907672217",
      "pull_request_review_id": 1020603243,
      "id": 907672217,
      "node_id": "PRRC_kwDOABII5842GfqZ",
      "diff_hunk": "@@ -121,6 +124,19 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+CTxMemPool MakeMempool(const NodeContext& node)\n+{\n+    // Take the default options for tests...\n+    CTxMemPool::Options mempool_opts{MemPoolOptionsForTest(node)};\n+\n+    // ...override specific options for this specific fuzz suite\n+    mempool_opts.estimator = nullptr;\n+    mempool_opts.check_ratio = 1;",
      "path": "src/test/fuzz/tx_pool.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "479807a5440660ded0932232a51280eabc1f6b7f",
      "in_reply_to_id": 907509842,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "For `.estimator`, it's overriding since `MemPoolOptionsForTest` would have set it.\r\nFor `.check_ratio`, yeah it's setting the same value, but it's essentially being explicit in case some day `MemPoolOptionsForTest` is changed.",
      "created_at": "2022-06-27T18:20:10Z",
      "updated_at": "2022-06-27T18:20:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907672217",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907672217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 134,
      "original_line": 134,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907705242",
      "pull_request_review_id": 1020649506,
      "id": 907705242,
      "node_id": "PRRC_kwDOABII5842Gnua",
      "diff_hunk": "@@ -1434,6 +1430,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+    if (mempool_opts.max_size < 0 || mempool_opts.max_size < mempool_opts.limits.descendant_size) {",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "in_reply_to_id": 901939358,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed by making `mempool_opts.max_size_bytes` a `int64_t` to avoid an unintended change in behavior",
      "created_at": "2022-06-27T18:59:53Z",
      "updated_at": "2022-06-27T18:59:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907705242",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907705242"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1433,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907706332",
      "pull_request_review_id": 1020651081,
      "id": 907706332,
      "node_id": "PRRC_kwDOABII5842Gn_c",
      "diff_hunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "path": "src/mempool_limits.h",
      "position": null,
      "original_position": 20,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "in_reply_to_id": 902955883,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Made these `int64_t`s to avoid an unintended change in behavior. Added a project-wide TODO to have bounds checking in `ApplyArgsManOptions`",
      "created_at": "2022-06-27T19:01:16Z",
      "updated_at": "2022-06-27T19:01:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907706332",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907706332"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 17,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707577",
      "pull_request_review_id": 1020652786,
      "id": 907707577,
      "node_id": "PRRC_kwDOABII5842GoS5",
      "diff_hunk": "@@ -161,7 +164,12 @@ ChainTestingSetup::ChainTestingSetup(const std::string& chainName, const std::ve\n     GetMainSignals().RegisterBackgroundSignalScheduler(*m_node.scheduler);\n \n     m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n-    m_node.mempool = std::make_unique<CTxMemPool>(m_node.fee_estimator.get(), m_node.args->GetIntArg(\"-checkmempool\", 1));\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) m_node.fee_estimator.get(),\n+        Desig(check_ratio) 1,",
      "path": "src/test/util/setup_common.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "in_reply_to_id": 905228991,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "created_at": "2022-06-27T19:02:45Z",
      "updated_at": "2022-06-27T19:02:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907707577",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707577"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 169,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707798",
      "pull_request_review_id": 1020653114,
      "id": 907707798,
      "node_id": "PRRC_kwDOABII5842GoWW",
      "diff_hunk": "@@ -142,7 +152,7 @@ FUZZ_TARGET_INIT(tx_pool_standard, initialize_tx_pool)\n     // The sum of the values of all spendable outpoints\n     constexpr CAmount SUPPLY_TOTAL{COINBASE_MATURITY * 50 * COIN};\n \n-    CTxMemPool tx_pool_{/*estimator=*/nullptr, /*check_ratio=*/1};\n+    CTxMemPool tx_pool_{MakeMempool(*node.args)};",
      "path": "src/test/fuzz/tx_pool.cpp",
      "position": null,
      "original_position": 29,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "in_reply_to_id": 905244054,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Closing, feel free to reopen if still a problem!",
      "created_at": "2022-06-27T19:03:02Z",
      "updated_at": "2022-06-27T19:03:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907707798",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707798"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907708286",
      "pull_request_review_id": 1020653818,
      "id": 907708286,
      "node_id": "PRRC_kwDOABII5842God-",
      "diff_hunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {",
      "path": "src/mempool_limits.h",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "in_reply_to_id": 905273518,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done as of 5759f4af1f2e788de369c4998611bfb1bbf6a705",
      "created_at": "2022-06-27T19:03:40Z",
      "updated_at": "2022-06-27T19:03:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907708286",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907708286"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907709101",
      "pull_request_review_id": 1020655077,
      "id": 907709101,
      "node_id": "PRRC_kwDOABII5842Goqt",
      "diff_hunk": "@@ -121,6 +123,14 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+static inline CTxMemPool MakeMempool(const ArgsManager& argsman)\n+{\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(argsman, mempool_opts);",
      "path": "src/test/fuzz/tx_pool.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c318c982f62610d1c937ab803346307d5458f877",
      "in_reply_to_id": 900332212,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "created_at": "2022-06-27T19:04:51Z",
      "updated_at": "2022-06-27T19:04:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907709101",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907709101"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 129,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907710360",
      "pull_request_review_id": 1020656913,
      "id": 907710360,
      "node_id": "PRRC_kwDOABII5842Go-Y",
      "diff_hunk": "@@ -2298,7 +2296,7 @@ CoinsCacheSizeState CChainState::GetCoinsCacheSizeState()\n     AssertLockHeld(::cs_main);\n     return this->GetCoinsCacheSizeState(\n         m_coinstip_cache_size_bytes,\n-        gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000);\n+        m_mempool ? m_mempool->m_max_size : 0);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 57,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5b733c301debc3119872d436c555f1bf67deb00d",
      "in_reply_to_id": 900378684,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for the help James! 😄",
      "created_at": "2022-06-27T19:06:35Z",
      "updated_at": "2022-06-27T19:06:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907710360",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907710360"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2287,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907711107",
      "pull_request_review_id": 1020658005,
      "id": 907711107,
      "node_id": "PRRC_kwDOABII5842GpKD",
      "diff_hunk": "@@ -22,7 +22,7 @@ FUZZ_TARGET_INIT(policy_estimator_io, initialize_policy_estimator_io)\n     FuzzedAutoFileProvider fuzzed_auto_file_provider = ConsumeAutoFile(fuzzed_data_provider);\n     CAutoFile fuzzed_auto_file = fuzzed_auto_file_provider.open();\n     // Re-using block_policy_estimator across runs to avoid costly creation of CBlockPolicyEstimator object.\n-    static CBlockPolicyEstimator block_policy_estimator;\n+    static CBlockPolicyEstimator block_policy_estimator{gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME};",
      "path": "src/test/fuzz/policy_estimator_io.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "in_reply_to_id": 900433731,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of 4846995a06ee1886693f096f17cce6005b3cf796",
      "created_at": "2022-06-27T19:07:38Z",
      "updated_at": "2022-06-27T19:07:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907711107",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907711107"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907712185",
      "pull_request_review_id": 1020659530,
      "id": 907712185,
      "node_id": "PRRC_kwDOABII5842Gpa5",
      "diff_hunk": "@@ -1426,10 +1429,16 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     assert(!node.mempool);\n     assert(!node.chainman);\n-    const int mempool_check_ratio = std::clamp<int>(args.GetIntArg(\"-checkmempool\", chainparams.DefaultConsistencyChecks() ? 1 : 0), 0, 1000000);\n+\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) node.fee_estimator.get(),\n+        Desig(check_ratio) chainparams.DefaultConsistencyChecks() ? 1 : 0,\n+    };\n+    ApplyArgsManOptions(args, mempool_opts);\n+    mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c318c982f62610d1c937ab803346307d5458f877",
      "in_reply_to_id": 900272797,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this is a fine idea but out of the scope of this PR, adding to project-wide TODOs!",
      "created_at": "2022-06-27T19:09:03Z",
      "updated_at": "2022-06-27T19:09:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907712185",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907712185"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": 1435,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1431,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907713498",
      "pull_request_review_id": 1020661424,
      "id": 907713498,
      "node_id": "PRRC_kwDOABII5842Gpva",
      "diff_hunk": "@@ -1434,6 +1430,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+    if (mempool_opts.max_size < 0 || mempool_opts.max_size < mempool_opts.limits.descendant_size) {\n+        return InitError(strprintf(_(\"-maxmempool must be at least %d MB\"), std::ceil(mempool_opts.limits.descendant_size / 1000000.0)));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "in_reply_to_id": 900420112,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "See: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907712185",
      "created_at": "2022-06-27T19:10:46Z",
      "updated_at": "2022-06-27T19:10:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907713498",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907713498"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1434,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907744608",
      "pull_request_review_id": 1020705376,
      "id": 907744608,
      "node_id": "PRRC_kwDOABII5842GxVg",
      "diff_hunk": "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;\n+\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+        limit_ancestor_count = limits.ancestor_count;\n+        limit_descendant_count = limits.descendant_count;\n     }\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n         if (!m_node.mempool) return true;\n         LockPoints lp;\n         CTxMemPoolEntry entry(tx, 0, 0, 0, false, 0, lp);\n         CTxMemPool::setEntries ancestors;\n-        auto limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        auto limit_ancestor_size = gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB) * 1000;\n-        auto limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n-        auto limit_descendant_size = gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000;\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         std::string unused_error_string;\n         LOCK(m_node.mempool->cs);\n         return m_node.mempool->CalculateMemPoolAncestors(",
      "path": "src/node/interfaces.cpp",
      "position": 26,
      "original_position": 34,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "95430b611c6562845143669e88e07fcde770d1af",
      "in_reply_to_id": 900409517,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Lots of call sites so not going to do in this PR, added to project-wide TODOs!",
      "created_at": "2022-06-27T19:52:52Z",
      "updated_at": "2022-06-27T19:52:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907744608",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907744608"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 672,
      "original_line": 672,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771533",
      "pull_request_review_id": 1020744451,
      "id": 907771533,
      "node_id": "PRRC_kwDOABII5842G36N",
      "diff_hunk": "@@ -701,6 +703,9 @@ class CTxMemPool\n       *  takes the fee rate to go back down all the way to 0. When the feerate\n       *  would otherwise be half of this, it is set to 0 instead.\n       */\n+    CFeeRate GetMinFee() const {\n+        return GetMinFee(m_max_size_bytes);\n+    }\n     CFeeRate GetMinFee(size_t sizelimit) const;",
      "path": "src/txmempool.h",
      "position": null,
      "original_position": 16,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "in_reply_to_id": 903552020,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in 0019650c1b",
      "created_at": "2022-06-27T20:29:36Z",
      "updated_at": "2022-06-27T20:29:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907771533",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771533"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 711,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771658",
      "pull_request_review_id": 1020744661,
      "id": 907771658,
      "node_id": "PRRC_kwDOABII5842G38K",
      "diff_hunk": "@@ -657,9 +657,8 @@ UniValue MempoolInfoToJSON(const CTxMemPool& pool)\n     ret.pushKV(\"bytes\", (int64_t)pool.GetTotalTxSize());\n     ret.pushKV(\"usage\", (int64_t)pool.DynamicMemoryUsage());\n     ret.pushKV(\"total_fee\", ValueFromAmount(pool.GetTotalFee()));\n-    int64_t maxmempool{gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000};\n-    ret.pushKV(\"maxmempool\", maxmempool);\n-    ret.pushKV(\"mempoolminfee\", ValueFromAmount(std::max(pool.GetMinFee(maxmempool), ::minRelayTxFee).GetFeePerK()));\n+    ret.pushKV(\"maxmempool\", (int64_t)pool.m_max_size_bytes);",
      "path": "src/rpc/mempool.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "in_reply_to_id": 903554269,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No longer needed as of 5491373670",
      "created_at": "2022-06-27T20:29:48Z",
      "updated_at": "2022-06-27T20:29:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907771658",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771658"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 660,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771959",
      "pull_request_review_id": 1020745079,
      "id": 907771959,
      "node_id": "PRRC_kwDOABII5842G4A3",
      "diff_hunk": "@@ -2298,7 +2296,7 @@ CoinsCacheSizeState CChainState::GetCoinsCacheSizeState()\n     AssertLockHeld(::cs_main);\n     return this->GetCoinsCacheSizeState(\n         m_coinstip_cache_size_bytes,\n-        gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000);\n+        m_mempool ? m_mempool->m_max_size : 0);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 57,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5b733c301debc3119872d436c555f1bf67deb00d",
      "in_reply_to_id": 900378684,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added some context in commit message of 710b30a02b",
      "created_at": "2022-06-27T20:30:12Z",
      "updated_at": "2022-06-27T20:30:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907771959",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771959"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2287,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908312207",
      "pull_request_review_id": 1021494652,
      "id": 908312207,
      "node_id": "PRRC_kwDOABII5842I76P",
      "diff_hunk": "@@ -365,6 +372,7 @@ class ArgsManager\n      * @return command-line argument or default value\n      */\n     bool GetBoolArg(const std::string& strArg, bool fDefault) const;\n+    std::optional<bool> GetBoolArg(const std::string& strArg) const;",
      "path": "src/util/system.h",
      "position": 34,
      "original_position": 34,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "fc02f77ca604f0221171bfde3059b34f5d0fb1cd",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I like the idea of this commit.\r\nMy original idea for the future of defaults was to make ArgsManager handle them internally at registration time, and get rid of the `default` arguments to these functions (at query time) in that way. But this works.",
      "created_at": "2022-06-28T10:24:41Z",
      "updated_at": "2022-06-28T10:27:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908312207",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908312207"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 375,
      "original_line": 375,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908349364",
      "pull_request_review_id": 1021547158,
      "id": 908349364,
      "node_id": "PRRC_kwDOABII5842JE-0",
      "diff_hunk": "@@ -0,0 +1,15 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_ARGS_H\n+#define BITCOIN_POLICY_FEES_ARGS_H\n+\n+#include <fs.h>\n+\n+class ArgsManager;\n+\n+fs::path FeeestPath(const ArgsManager& argsman);\n+\n+",
      "path": "src/policy/fees_args.h",
      "position": null,
      "original_position": 14,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: extra newline?",
      "created_at": "2022-06-28T11:08:47Z",
      "updated_at": "2022-06-28T11:08:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908349364",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908349364"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908350413",
      "pull_request_review_id": 1021548644,
      "id": 908350413,
      "node_id": "PRRC_kwDOABII5842JFPN",
      "diff_hunk": "@@ -0,0 +1,15 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_ARGS_H\n+#define BITCOIN_POLICY_FEES_ARGS_H\n+\n+#include <fs.h>\n+\n+class ArgsManager;\n+\n+fs::path FeeestPath(const ArgsManager& argsman);",
      "path": "src/policy/fees_args.h",
      "position": 13,
      "original_position": 12,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Please add a doc comment for this function. E.g.\r\n```\r\n/** Return path of fee estimates data file. */\r\n```",
      "created_at": "2022-06-28T11:10:02Z",
      "updated_at": "2022-06-28T11:10:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908350413",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908350413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 13,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908355331",
      "pull_request_review_id": 1021555724,
      "id": 908355331,
      "node_id": "PRRC_kwDOABII5842JGcD",
      "diff_hunk": "@@ -11,9 +12,14 @@\n #include <cstdint>\n #include <vector>\n \n+namespace {\n+const BasicTestingSetup* g_setup;\n+} // namespace\n+\n void initialize_policy_estimator_io()\n {\n     static const auto testing_setup = MakeNoLogFileContext<>();\n+    g_setup = testing_setup.get();",
      "path": "src/test/fuzz/policy_estimator_io.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "in_reply_to_id": null,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Having a global dangling pointer here is kind of ugly. Is there really no other way to get this information in?\r\nIf you need a global, what about storing the path in the global instead of a pointer. It seems slightly safer at least.",
      "created_at": "2022-06-28T11:15:52Z",
      "updated_at": "2022-06-28T11:15:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908355331",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908355331"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908651573",
      "pull_request_review_id": 1021993601,
      "id": 908651573,
      "node_id": "PRRC_kwDOABII5842KOw1",
      "diff_hunk": "@@ -0,0 +1,15 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_ARGS_H\n+#define BITCOIN_POLICY_FEES_ARGS_H\n+\n+#include <fs.h>\n+\n+class ArgsManager;\n+\n+fs::path FeeestPath(const ArgsManager& argsman);\n+\n+",
      "path": "src/policy/fees_args.h",
      "position": null,
      "original_position": 14,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "in_reply_to_id": 908349364,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at": "2022-06-28T15:52:34Z",
      "updated_at": "2022-06-28T15:52:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908651573",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908651573"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908651785",
      "pull_request_review_id": 1021993960,
      "id": 908651785,
      "node_id": "PRRC_kwDOABII5842KO0J",
      "diff_hunk": "@@ -0,0 +1,15 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_ARGS_H\n+#define BITCOIN_POLICY_FEES_ARGS_H\n+\n+#include <fs.h>\n+\n+class ArgsManager;\n+\n+fs::path FeeestPath(const ArgsManager& argsman);",
      "path": "src/policy/fees_args.h",
      "position": 13,
      "original_position": 12,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "in_reply_to_id": 908350413,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed as of b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at": "2022-06-28T15:52:45Z",
      "updated_at": "2022-06-28T15:52:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908651785",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908651785"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 13,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908653004",
      "pull_request_review_id": 1021996192,
      "id": 908653004,
      "node_id": "PRRC_kwDOABII5842KPHM",
      "diff_hunk": "@@ -11,9 +12,14 @@\n #include <cstdint>\n #include <vector>\n \n+namespace {\n+const BasicTestingSetup* g_setup;\n+} // namespace\n+\n void initialize_policy_estimator_io()\n {\n     static const auto testing_setup = MakeNoLogFileContext<>();\n+    g_setup = testing_setup.get();",
      "path": "src/test/fuzz/policy_estimator_io.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "in_reply_to_id": 908355331,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We could just store the path, but this is sort of the pattern that most fuzz tests take, and we might want something else from the testingsetup in the future :-/",
      "created_at": "2022-06-28T15:53:52Z",
      "updated_at": "2022-06-28T15:53:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908653004",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908653004"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908672840",
      "pull_request_review_id": 1022035184,
      "id": 908672840,
      "node_id": "PRRC_kwDOABII5842KT9I",
      "diff_hunk": "@@ -11,9 +12,14 @@\n #include <cstdint>\n #include <vector>\n \n+namespace {\n+const BasicTestingSetup* g_setup;\n+} // namespace\n+\n void initialize_policy_estimator_io()\n {\n     static const auto testing_setup = MakeNoLogFileContext<>();\n+    g_setup = testing_setup.get();",
      "path": "src/test/fuzz/policy_estimator_io.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "in_reply_to_id": 908355331,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, this is the general pattern. Let me know if there is a better way.\r\n\r\nAnd there should be no risk in doing \"risky\" stuff in the unit or fuzz tests, such as globals, raw pointers/memory, \"wild\" casts, etc..., as they are run in sanitizers that should detect any issue if it arises. (As opposed to real code, which is not 100% covered by sanitizers)",
      "created_at": "2022-06-28T16:13:26Z",
      "updated_at": "2022-06-28T16:13:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908672840",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908672840"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908695728",
      "pull_request_review_id": 1022071889,
      "id": 908695728,
      "node_id": "PRRC_kwDOABII5842KZiw",
      "diff_hunk": "@@ -451,8 +451,9 @@ void CTxMemPoolEntry::UpdateAncestorState(int64_t modifySize, CAmount modifyFee,\n     assert(int(nSigOpCostWithAncestors) >= 0);\n }\n \n-CTxMemPool::CTxMemPool(CBlockPolicyEstimator* estimator, int check_ratio)\n-    : m_check_ratio(check_ratio), minerPolicyEstimator(estimator)\n+CTxMemPool::CTxMemPool(const Options& opts)\n+    : m_check_ratio(opts.check_ratio),\n+      minerPolicyEstimator(opts.estimator)",
      "path": "src/txmempool.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7:\r\n\r\nCould use `{}` over `()` for additional compiler checks?",
      "created_at": "2022-06-28T16:32:34Z",
      "updated_at": "2022-06-28T18:45:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908695728",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908695728"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 456,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908709685",
      "pull_request_review_id": 1022071889,
      "id": 908709685,
      "node_id": "PRRC_kwDOABII5842Kc81",
      "diff_hunk": "@@ -1426,10 +1428,16 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     assert(!node.mempool);\n     assert(!node.chainman);\n-    const int mempool_check_ratio = std::clamp<int>(args.GetIntArg(\"-checkmempool\", chainparams.DefaultConsistencyChecks() ? 1 : 0), 0, 1000000);\n+\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) node.fee_estimator.get(),\n+        Desig(check_ratio) chainparams.DefaultConsistencyChecks() ? 1 : 0,\n+    };\n+    ApplyArgsManOptions(args, mempool_opts);\n+    mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7:\r\n\r\nCould use `1'000'000`?",
      "created_at": "2022-06-28T16:41:10Z",
      "updated_at": "2022-06-28T18:45:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908709685",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908709685"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1437,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908711442",
      "pull_request_review_id": 1022071889,
      "id": 908711442,
      "node_id": "PRRC_kwDOABII5842KdYS",
      "diff_hunk": "@@ -16,6 +16,12 @@ BOOST_FIXTURE_TEST_SUITE(mempool_tests, TestingSetup)\n ",
      "path": "src/test/mempool_tests.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "0019650c1b56b65262b75dd284040848aaaec129",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "commit message of 0019650c1b56b65262b75dd284040848aaaec129:\r\n\r\n\r\ndrived -> derived?",
      "created_at": "2022-06-28T16:42:12Z",
      "updated_at": "2022-06-28T18:45:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908711442",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908711442"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908736746",
      "pull_request_review_id": 1022106609,
      "id": 908736746,
      "node_id": "PRRC_kwDOABII5842Kjjq",
      "diff_hunk": "@@ -11,9 +12,14 @@\n #include <cstdint>\n #include <vector>\n \n+namespace {\n+const BasicTestingSetup* g_setup;\n+} // namespace\n+\n void initialize_policy_estimator_io()\n {\n     static const auto testing_setup = MakeNoLogFileContext<>();\n+    g_setup = testing_setup.get();",
      "path": "src/test/fuzz/policy_estimator_io.cpp",
      "position": 19,
      "original_position": 19,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "54913736701ed336a2be94feb0f77fae21226ba4",
      "in_reply_to_id": 908355331,
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ok, that's a good point. I was mainly afraid of false positives/negatives due to pointers pointing to the wrong memory. But yes, the sanitizers should catch that.",
      "created_at": "2022-06-28T16:58:24Z",
      "updated_at": "2022-06-28T16:58:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908736746",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908736746"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 22,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908811064",
      "pull_request_review_id": 1022071889,
      "id": 908811064,
      "node_id": "PRRC_kwDOABII5842K1s4",
      "diff_hunk": "@@ -4645,7 +4641,7 @@ static const uint64_t MEMPOOL_DUMP_VERSION = 1;\n \n bool LoadMempool(CTxMemPool& pool, CChainState& active_chainstate, FopenFn mockable_fopen_function)\n {\n-    int64_t nExpiryTimeout = gArgs.GetIntArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60;\n+    int64_t nExpiryTimeout = std::chrono::seconds{pool.m_expiry}.count();",
      "path": "src/validation.cpp",
      "position": 104,
      "original_position": 51,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "e741c49716a65b624fcf91db0de6dd11617675ad",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in e741c49716a65b624fcf91db0de6dd11617675ad: Might be nice to make `nExpiryTimeout` type-safe in a follow-up.",
      "created_at": "2022-06-28T18:26:07Z",
      "updated_at": "2022-06-28T18:45:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908811064",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908811064"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4642,
      "original_line": 4642,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908812827",
      "pull_request_review_id": 1022071889,
      "id": 908812827,
      "node_id": "PRRC_kwDOABII5842K2Ib",
      "diff_hunk": "@@ -0,0 +1,25 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_KERNEL_MEMPOOL_LIMITS_H\n+#define BITCOIN_KERNEL_MEMPOOL_LIMITS_H\n+\n+#include <cstdint>\n+#include <policy/policy.h>",
      "path": "src/kernel/mempool_limits.h",
      "position": 7,
      "original_position": 8,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "1ad4268e1a7da0e97a97fa677f7b50f226d084b4",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 1ad4268e1a7da0e97a97fa677f7b50f226d084b4: Usually std-includes come last in a separate paragraph ",
      "created_at": "2022-06-28T18:28:18Z",
      "updated_at": "2022-06-28T18:45:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908812827",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908812827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 7,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908818810",
      "pull_request_review_id": 1022071889,
      "id": 908818810,
      "node_id": "PRRC_kwDOABII5842K3l6",
      "diff_hunk": "@@ -148,15 +147,15 @@ void CTxMemPool::UpdateForDescendants(txiter updateIt, cacheMap& cachedDescendan\n             // Don't directly remove the transaction here -- doing so would\n             // invalidate iterators in cachedDescendants. Mark it for removal\n             // by inserting into descendants_to_remove.\n-            if (descendant.GetCountWithAncestors() > ancestor_count_limit || descendant.GetSizeWithAncestors() > ancestor_size_limit) {\n+            if (descendant.GetCountWithAncestors() > uint64_t(m_limits.ancestor_count) || descendant.GetSizeWithAncestors() > uint64_t(m_limits.ancestor_size_vbytes)) {\n                 descendants_to_remove.insert(descendant.GetTx().GetHash());\n             }\n         }\n     }\n     mapTx.modify(updateIt, update_descendant_state(modifySize, modifyFee, modifyCount));\n }\n \n-void CTxMemPool::UpdateTransactionsFromBlock(const std::vector<uint256> &vHashesToUpdate, uint64_t ancestor_size_limit, uint64_t ancestor_count_limit)\n+void CTxMemPool::UpdateTransactionsFromBlock(const std::vector<uint256> &vHashesToUpdate)",
      "path": "src/txmempool.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5a3d18eb2c12e046d35d628dc67daa9e2bb343b3",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 5a3d18eb2c12e046d35d628dc67daa9e2bb343b3: Can update format while touching this line?",
      "created_at": "2022-06-28T18:35:47Z",
      "updated_at": "2022-06-28T18:45:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908818810",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908818810"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 158,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908822087",
      "pull_request_review_id": 1022071889,
      "id": 908822087,
      "node_id": "PRRC_kwDOABII5842K4ZH",
      "diff_hunk": "@@ -1433,6 +1428,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    int64_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;",
      "path": "src/init.cpp",
      "position": 99,
      "original_position": 17,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "470347d2ffd462d635fdf344e38332a4eb4b8ad3",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 470347d2ffd462d635fdf344e38332a4eb4b8ad3: could add a `{}` scope to avoid leaking this symbol into the full `AppInitMain` scope?",
      "created_at": "2022-06-28T18:40:04Z",
      "updated_at": "2022-06-28T18:45:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908822087",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908822087"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1433,
      "original_line": 1433,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908900777",
      "pull_request_review_id": 1022346361,
      "id": 908900777,
      "node_id": "PRRC_kwDOABII5842LLmp",
      "diff_hunk": "@@ -451,8 +451,9 @@ void CTxMemPoolEntry::UpdateAncestorState(int64_t modifySize, CAmount modifyFee,\n     assert(int(nSigOpCostWithAncestors) >= 0);\n }\n \n-CTxMemPool::CTxMemPool(CBlockPolicyEstimator* estimator, int check_ratio)\n-    : m_check_ratio(check_ratio), minerPolicyEstimator(estimator)\n+CTxMemPool::CTxMemPool(const Options& opts)\n+    : m_check_ratio(opts.check_ratio),\n+      minerPolicyEstimator(opts.estimator)",
      "path": "src/txmempool.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "in_reply_to_id": 908695728,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in f1941e8bfd and others",
      "created_at": "2022-06-28T20:12:47Z",
      "updated_at": "2022-06-28T20:12:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908900777",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908900777"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 456,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901075",
      "pull_request_review_id": 1022346699,
      "id": 908901075,
      "node_id": "PRRC_kwDOABII5842LLrT",
      "diff_hunk": "@@ -1426,10 +1428,16 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     assert(!node.mempool);\n     assert(!node.chainman);\n-    const int mempool_check_ratio = std::clamp<int>(args.GetIntArg(\"-checkmempool\", chainparams.DefaultConsistencyChecks() ? 1 : 0), 0, 1000000);\n+\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) node.fee_estimator.get(),\n+        Desig(check_ratio) chainparams.DefaultConsistencyChecks() ? 1 : 0,\n+    };\n+    ApplyArgsManOptions(args, mempool_opts);\n+    mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "in_reply_to_id": 908709685,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in f1941e8bfd",
      "created_at": "2022-06-28T20:13:05Z",
      "updated_at": "2022-06-28T20:13:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901075",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901075"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1437,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901262",
      "pull_request_review_id": 1022346926,
      "id": 908901262,
      "node_id": "PRRC_kwDOABII5842LLuO",
      "diff_hunk": "@@ -16,6 +16,12 @@ BOOST_FIXTURE_TEST_SUITE(mempool_tests, TestingSetup)\n ",
      "path": "src/test/mempool_tests.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "0019650c1b56b65262b75dd284040848aaaec129",
      "in_reply_to_id": 908711442,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 386c9472c8",
      "created_at": "2022-06-28T20:13:15Z",
      "updated_at": "2022-06-28T20:13:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901262",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901262"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 16,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901643",
      "pull_request_review_id": 1022347252,
      "id": 908901643,
      "node_id": "PRRC_kwDOABII5842LL0L",
      "diff_hunk": "@@ -4645,7 +4641,7 @@ static const uint64_t MEMPOOL_DUMP_VERSION = 1;\n \n bool LoadMempool(CTxMemPool& pool, CChainState& active_chainstate, FopenFn mockable_fopen_function)\n {\n-    int64_t nExpiryTimeout = gArgs.GetIntArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60;\n+    int64_t nExpiryTimeout = std::chrono::seconds{pool.m_expiry}.count();",
      "path": "src/validation.cpp",
      "position": 104,
      "original_position": 51,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "e741c49716a65b624fcf91db0de6dd11617675ad",
      "in_reply_to_id": 908811064,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "True! Not addressing in this PR. Leaving open for posterity.",
      "created_at": "2022-06-28T20:13:34Z",
      "updated_at": "2022-06-28T20:13:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901643",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901643"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 4642,
      "original_line": 4642,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901851",
      "pull_request_review_id": 1022347474,
      "id": 908901851,
      "node_id": "PRRC_kwDOABII5842LL3b",
      "diff_hunk": "@@ -0,0 +1,25 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_KERNEL_MEMPOOL_LIMITS_H\n+#define BITCOIN_KERNEL_MEMPOOL_LIMITS_H\n+\n+#include <cstdint>\n+#include <policy/policy.h>",
      "path": "src/kernel/mempool_limits.h",
      "position": 7,
      "original_position": 8,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "1ad4268e1a7da0e97a97fa677f7b50f226d084b4",
      "in_reply_to_id": 908812827,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 9333427014",
      "created_at": "2022-06-28T20:13:46Z",
      "updated_at": "2022-06-28T20:13:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901851",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 7,
      "original_line": 7,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908902197",
      "pull_request_review_id": 1022347901,
      "id": 908902197,
      "node_id": "PRRC_kwDOABII5842LL81",
      "diff_hunk": "@@ -148,15 +147,15 @@ void CTxMemPool::UpdateForDescendants(txiter updateIt, cacheMap& cachedDescendan\n             // Don't directly remove the transaction here -- doing so would\n             // invalidate iterators in cachedDescendants. Mark it for removal\n             // by inserting into descendants_to_remove.\n-            if (descendant.GetCountWithAncestors() > ancestor_count_limit || descendant.GetSizeWithAncestors() > ancestor_size_limit) {\n+            if (descendant.GetCountWithAncestors() > uint64_t(m_limits.ancestor_count) || descendant.GetSizeWithAncestors() > uint64_t(m_limits.ancestor_size_vbytes)) {\n                 descendants_to_remove.insert(descendant.GetTx().GetHash());\n             }\n         }\n     }\n     mapTx.modify(updateIt, update_descendant_state(modifySize, modifyFee, modifyCount));\n }\n \n-void CTxMemPool::UpdateTransactionsFromBlock(const std::vector<uint256> &vHashesToUpdate, uint64_t ancestor_size_limit, uint64_t ancestor_count_limit)\n+void CTxMemPool::UpdateTransactionsFromBlock(const std::vector<uint256> &vHashesToUpdate)",
      "path": "src/txmempool.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "5a3d18eb2c12e046d35d628dc67daa9e2bb343b3",
      "in_reply_to_id": 908818810,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed in 6c5c60c412",
      "created_at": "2022-06-28T20:14:09Z",
      "updated_at": "2022-06-28T20:14:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908902197",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908902197"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 158,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908902762",
      "pull_request_review_id": 1022348567,
      "id": 908902762,
      "node_id": "PRRC_kwDOABII5842LMFq",
      "diff_hunk": "@@ -1433,6 +1428,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    int64_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;",
      "path": "src/init.cpp",
      "position": 99,
      "original_position": 17,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "470347d2ffd462d635fdf344e38332a4eb4b8ad3",
      "in_reply_to_id": 908822087,
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not going to do this in this PR, feel free to follow up.",
      "created_at": "2022-06-28T20:14:45Z",
      "updated_at": "2022-06-28T20:14:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908902762",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908902762"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1433,
      "original_line": 1433,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1072313012",
      "pull_request_review_id": 1251712261,
      "id": 1072313012,
      "node_id": "PRRC_kwDOABII584_6jK0",
      "diff_hunk": "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;\n+\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+        limit_ancestor_count = limits.ancestor_count;\n+        limit_descendant_count = limits.descendant_count;\n     }\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n         if (!m_node.mempool) return true;\n         LockPoints lp;\n         CTxMemPoolEntry entry(tx, 0, 0, 0, false, 0, lp);\n         CTxMemPool::setEntries ancestors;\n-        auto limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        auto limit_ancestor_size = gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB) * 1000;\n-        auto limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n-        auto limit_descendant_size = gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000;\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         std::string unused_error_string;\n         LOCK(m_node.mempool->cs);\n         return m_node.mempool->CalculateMemPoolAncestors(",
      "path": "src/node/interfaces.cpp",
      "position": 26,
      "original_position": 34,
      "commit_id": "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "original_commit_id": "95430b611c6562845143669e88e07fcde770d1af",
      "in_reply_to_id": 900409517,
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The move to using a `Limits` struct for `CalculateMemPoolAncestors` was done in #26103.",
      "created_at": "2023-01-17T14:55:40Z",
      "updated_at": "2023-01-17T14:55:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r1072313012",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1072313012"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 672,
      "original_line": 672,
      "side": "RIGHT"
    }
  ]
}