{
  "type": "issue",
  "issue": {
    "id": 2066296124,
    "node_id": "I_kwDOABII5857KS08",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29183",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29183/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29183/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29183/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/29183",
    "number": 29183,
    "state": "open",
    "state_reason": null,
    "title": "Prune Node Rescan Project Tracking",
    "body": "This issue will be edited frequently to reflect the current status of the project.\r\n\r\n#### What should I review now? \r\n\r\n👇 👇 👇 👇 \r\n-- #27837 --\r\n☝️ ☝️ ☝️ ☝️\r\n\r\n\r\nThe goal of this project is to enable complete blockchain rescan capability on prune nodes, allowing these storage-limited nodes to import new wallet descriptors and update existing ones at any time, as well as loading external and un-synced wallets with a birth-time older than 48 hours. This, in turn, enables the monitoring of new addresses/scripts and tracking balance changes without the need to repeatedly download the entire blockchain.\r\n\r\nThe first project milestone introduces the feature for prune nodes that construct and maintain a local block filters set database. The node will request and keep track of the missing historical blocks that match the wallet scripts filters set to subsequently perform the rescan.\r\n\r\n#### The following sections are ordered by their PRs dependencies:\r\n\r\n##### Net: Single Block Requests Tracking System and On Download Failure Retry Mechanism\r\n* [x] #28170\r\n* [x] #28120\r\n* [x] #30118\r\n* [ ] #27837\r\n\r\n##### Indexes Stability and Performance Improvements\r\n* [X] #27607\r\n* [X] #27720\r\n* [x] #28955\r\n* [ ] #26966\r\n\r\n##### Wallet Rescan (depends on the net section)\r\n* [X] #27469\r\n* [ ] Cache wallet filters' set and connect it to the current wallet rescan functionality. (Pending)\r\n* [ ] Wallet: implement \"rescan status\" class to track the progress and retrieve it via an RPC command. (Pending)\r\n* [ ] Wallet: introduce prune node rescan functionality. (Pending - depends on net changes)\r\n\r\n#### Issues Solved By This Work\r\n\r\n* [ ] #21267\r\n* [ ] #23727\r\n* [ ] #27188\r\n* [ ] #27652\r\n* [ ] #27939\r\n* [ ] https://github.com/sparrowwallet/sparrow/issues/1111#issuecomment-2054204911",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 6,
    "created_at": "2024-01-04T20:31:51Z",
    "updated_at": "2024-07-27T21:55:22Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 1906895178,
      "node_id": "IC_kwDOABII585xqOlK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1906895178",
      "actor": {
        "login": "chrisguida",
        "id": 7445670,
        "node_id": "MDQ6VXNlcjc0NDU2NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7445670?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisguida",
        "html_url": "https://github.com/chrisguida",
        "followers_url": "https://api.github.com/users/chrisguida/followers",
        "following_url": "https://api.github.com/users/chrisguida/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/chrisguida/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/chrisguida/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/chrisguida/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisguida/orgs",
        "repos_url": "https://api.github.com/users/chrisguida/repos",
        "events_url": "https://api.github.com/users/chrisguida/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/chrisguida/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-23T20:49:49Z",
      "updated_at": "2024-01-23T20:49:49Z",
      "author_association": "NONE",
      "body": "Does `scanblocks` work on pruned nodes yet? If not, does this project aim to add that capability?",
      "user": {
        "login": "chrisguida",
        "id": 7445670,
        "node_id": "MDQ6VXNlcjc0NDU2NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7445670?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisguida",
        "html_url": "https://github.com/chrisguida",
        "followers_url": "https://api.github.com/users/chrisguida/followers",
        "following_url": "https://api.github.com/users/chrisguida/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/chrisguida/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/chrisguida/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/chrisguida/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisguida/orgs",
        "repos_url": "https://api.github.com/users/chrisguida/repos",
        "events_url": "https://api.github.com/users/chrisguida/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/chrisguida/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29183#issuecomment-1906895178",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29183"
    },
    {
      "event": "commented",
      "id": 1906996240,
      "node_id": "IC_kwDOABII585xqnQQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1906996240",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-23T22:04:49Z",
      "updated_at": "2024-01-23T22:04:49Z",
      "author_association": "MEMBER",
      "body": "> Does `scanblocks` work on pruned nodes yet? If not, does this project aim to add that capability?\r\n\r\n`scanblocks` always worked on pruned nodes. Just need to enable `-blockfilterindex` since the node's inception.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29183#issuecomment-1906996240",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29183"
    },
    {
      "event": "commented",
      "id": 1908843014,
      "node_id": "IC_kwDOABII585xxqIG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1908843014",
      "actor": {
        "login": "chrisguida",
        "id": 7445670,
        "node_id": "MDQ6VXNlcjc0NDU2NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7445670?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisguida",
        "html_url": "https://github.com/chrisguida",
        "followers_url": "https://api.github.com/users/chrisguida/followers",
        "following_url": "https://api.github.com/users/chrisguida/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/chrisguida/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/chrisguida/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/chrisguida/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisguida/orgs",
        "repos_url": "https://api.github.com/users/chrisguida/repos",
        "events_url": "https://api.github.com/users/chrisguida/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/chrisguida/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-24T20:10:31Z",
      "updated_at": "2024-01-24T20:10:31Z",
      "author_association": "NONE",
      "body": "Excellent, thanks!!",
      "user": {
        "login": "chrisguida",
        "id": 7445670,
        "node_id": "MDQ6VXNlcjc0NDU2NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7445670?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisguida",
        "html_url": "https://github.com/chrisguida",
        "followers_url": "https://api.github.com/users/chrisguida/followers",
        "following_url": "https://api.github.com/users/chrisguida/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/chrisguida/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/chrisguida/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/chrisguida/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisguida/orgs",
        "repos_url": "https://api.github.com/users/chrisguida/repos",
        "events_url": "https://api.github.com/users/chrisguida/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/chrisguida/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29183#issuecomment-1908843014",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29183"
    },
    {
      "event": "commented",
      "id": 1908844984,
      "node_id": "IC_kwDOABII585xxqm4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1908844984",
      "actor": {
        "login": "chrisguida",
        "id": 7445670,
        "node_id": "MDQ6VXNlcjc0NDU2NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7445670?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisguida",
        "html_url": "https://github.com/chrisguida",
        "followers_url": "https://api.github.com/users/chrisguida/followers",
        "following_url": "https://api.github.com/users/chrisguida/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/chrisguida/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/chrisguida/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/chrisguida/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisguida/orgs",
        "repos_url": "https://api.github.com/users/chrisguida/repos",
        "events_url": "https://api.github.com/users/chrisguida/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/chrisguida/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-24T20:11:53Z",
      "updated_at": "2024-01-24T20:11:53Z",
      "author_association": "NONE",
      "body": "What's the process for building the blockfilterindex on an already-synced pruned node? Enable blockfilterindex, reindex?",
      "user": {
        "login": "chrisguida",
        "id": 7445670,
        "node_id": "MDQ6VXNlcjc0NDU2NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7445670?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisguida",
        "html_url": "https://github.com/chrisguida",
        "followers_url": "https://api.github.com/users/chrisguida/followers",
        "following_url": "https://api.github.com/users/chrisguida/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/chrisguida/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/chrisguida/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/chrisguida/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisguida/orgs",
        "repos_url": "https://api.github.com/users/chrisguida/repos",
        "events_url": "https://api.github.com/users/chrisguida/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/chrisguida/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29183#issuecomment-1908844984",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29183"
    },
    {
      "event": "commented",
      "id": 1909019274,
      "node_id": "IC_kwDOABII585xyVKK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1909019274",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-24T22:30:25Z",
      "updated_at": "2024-01-24T22:30:25Z",
      "author_association": "MEMBER",
      "body": "> What's the process for building the blockfilterindex on an already-synced pruned node? Enable blockfilterindex, reindex?\r\n\r\nYes. For further node support, please come to IRC or use bitcoin.stackexchange. This is a project tracking issue.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29183#issuecomment-1909019274",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29183"
    },
    {
      "event": "commented",
      "id": 1935076754,
      "node_id": "IC_kwDOABII585zVu2S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1935076754",
      "actor": {
        "login": "shovas",
        "id": 429805,
        "node_id": "MDQ6VXNlcjQyOTgwNQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/429805?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shovas",
        "html_url": "https://github.com/shovas",
        "followers_url": "https://api.github.com/users/shovas/followers",
        "following_url": "https://api.github.com/users/shovas/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shovas/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shovas/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shovas/subscriptions",
        "organizations_url": "https://api.github.com/users/shovas/orgs",
        "repos_url": "https://api.github.com/users/shovas/repos",
        "events_url": "https://api.github.com/users/shovas/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shovas/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-08T23:11:19Z",
      "updated_at": "2024-02-08T23:12:25Z",
      "author_association": "NONE",
      "body": "Here from #27188. I'm presently experimenting with wallets for bitcoin, litecoin, dogecoin, and bitcoin cash using linux cli tools so if I can help I'll try.",
      "user": {
        "login": "shovas",
        "id": 429805,
        "node_id": "MDQ6VXNlcjQyOTgwNQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/429805?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shovas",
        "html_url": "https://github.com/shovas",
        "followers_url": "https://api.github.com/users/shovas/followers",
        "following_url": "https://api.github.com/users/shovas/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/shovas/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/shovas/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/shovas/subscriptions",
        "organizations_url": "https://api.github.com/users/shovas/orgs",
        "repos_url": "https://api.github.com/users/shovas/repos",
        "events_url": "https://api.github.com/users/shovas/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/shovas/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29183#issuecomment-1935076754",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29183"
    },
    {
      "event": "subscribed",
      "id": 11757193019,
      "node_id": "SE_lADOABII5857KS08zwAAAAK8yIc7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11757193019",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-09T12:05:39Z"
    }
  ]
}