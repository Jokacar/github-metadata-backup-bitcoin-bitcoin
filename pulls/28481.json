{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481",
    "id": 1515773081,
    "node_id": "PR_kwDOABII585aWNyZ",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28481",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28481.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28481.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28481",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28481/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
    "number": 28481,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "txorphanage: add size accounting, use wtxids, support multiple announcers",
    "user": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This PR contains changes to `TxOrphanage` needed for package relay stuff. See #27463 for project tracking and #28031 for how this code is used.\r\n\r\nSeparating this PR was suggested in https://github.com/bitcoin/bitcoin/pull/28031#discussion_r1261414179.\r\n\r\nChanges here:\r\n- Change params to wtxid instead of txid.\r\n- Track total size (`CTransaction::GetTotalSize()` of orphans stored, as well as the size per peer.\r\n- Support having multiple announcers for the same tx. This helps us retry resolving the same orphan with multiple peers if it fails the first time.\r\n- Store the deduplicated missing parent txids in `OrphanTx` so that we don't need to calculate them again later on.\r\n- Return the erased wtxids from `EraseForBlock` which includes orphans that conflicted with the block. This helps us delete those orphan resolution attempts from our tracker.\r\n- Enable limiting the total size of orphans instead of just the total count. No new limits are introduced, the default is maximum count * maximum tx size.\r\n- Unit tests + fuzzer.",
    "labels": [
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-09-14T13:59:45Z",
    "updated_at": "2023-09-27T13:59:29Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "413b23de3c76483261b15de2d3cff735017070d0",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "glozow:2023-08-orphanage-additions",
      "ref": "2023-08-orphanage-additions",
      "sha": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 244262754,
        "node_id": "MDEwOlJlcG9zaXRvcnkyNDQyNjI3NTQ=",
        "name": "bitcoin",
        "full_name": "glozow/bitcoin",
        "owner": {
          "login": "glozow",
          "id": 25183001,
          "node_id": "MDQ6VXNlcjI1MTgzMDAx",
          "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/glozow",
          "html_url": "https://github.com/glozow",
          "followers_url": "https://api.github.com/users/glozow/followers",
          "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
          "organizations_url": "https://api.github.com/users/glozow/orgs",
          "repos_url": "https://api.github.com/users/glozow/repos",
          "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/glozow/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/glozow/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/glozow/bitcoin",
        "archive_url": "https://api.github.com/repos/glozow/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/glozow/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/glozow/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/glozow/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/glozow/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/glozow/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/glozow/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/glozow/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/glozow/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/glozow/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/glozow/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/glozow/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/glozow/bitcoin/events",
        "forks_url": "https://api.github.com/repos/glozow/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/glozow/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/glozow/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/glozow/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/glozow/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/glozow/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/glozow/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/glozow/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/glozow/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/glozow/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/glozow/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/glozow/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/glozow/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/glozow/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/glozow/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/glozow/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:glozow/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/glozow/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/glozow/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/glozow/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/glozow/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/glozow/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/glozow/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/glozow/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/glozow/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/glozow/bitcoin/hooks",
        "svn_url": "https://github.com/glozow/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 2,
        "stargazers_count": 10,
        "watchers_count": 10,
        "size": 231887,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-09-27T10:22:13Z",
        "created_at": "2020-03-02T02:31:56Z",
        "updated_at": "2023-08-30T16:39:28Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "c9f288244b8d183e09a917025922b99e3368ef78",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35760,
        "stargazers_count": 71492,
        "watchers_count": 71492,
        "size": 240185,
        "default_branch": "master",
        "open_issues_count": 640,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-09-27T13:39:36Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-09-27T13:47:08Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
      }
    },
    "author_association": "MEMBER",
    "draft": true,
    "additions": 610,
    "deletions": 52,
    "changed_files": 6,
    "commits": 9,
    "review_comments": 14,
    "comments": 5
  },
  "events": [
    {
      "event": "commented",
      "id": 1719511734,
      "node_id": "IC_kwDOABII585mfaq2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1719511734",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T13:59:48Z",
      "updated_at": "2023-09-27T13:59:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28031](https://github.com/bitcoin/bitcoin/pull/28031) (Package Relay 1/3: Introduce TxDownloadManager and improve orphan-handling by glozow)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#issuecomment-1719511734",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28481"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T14:02:39Z",
      "updated_at": "2023-09-14T14:02:39Z",
      "source": {
        "issue": {
          "id": 1668056618,
          "node_id": "I_kwDOABII585jbIYq",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27463",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27463/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27463/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27463/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/27463",
          "number": 27463,
          "state": "open",
          "state_reason": null,
          "title": "Package Relay Project Tracking",
          "body": "This issue will be edited frequently to reflect the current status of the project.\r\n\r\n**What should I review now?**\r\n:point_down: :point_down: :point_down: :point_down: :point_down: :point_down: :point_down:\r\n#28450\r\n:point_up: :point_up: :point_up: :point_up: :point_up: :point_up: :point_up:\r\n\r\n**Mempool, Policy, Validation**\r\n- [x] Enable validation of multiple transactions in MemPoolAccept\r\n  - [x] Dependency: #21062\r\n  - [x] Dependency: #23381\r\n  - [x] Main feature: #20833\r\n  - [x] Followup: #22084\r\n- [x] #21800\r\n- [x] Enable package CPFP\r\n  - [x] Main feature 1/2: #22674\r\n  - [x] Followup: #24310\r\n  - [x] Followup: #23804\r\n  - [x] Main feature 2/2: #24152\r\n- [x] #24836 \r\n- [x] #26646\r\n- [x] Bug fix: avoid the risk of below-minrelaytxfee transactions hanging around forever in the mempool (currently only possible through reorgs and replacements after package CPFP).\r\n   - [x] Don't ever allow v1 and v2 txs below minrelaytxfee (#26933)\r\n   - Alternative: (long-term) #27677.\r\n- [x] Bug fix: #28251\r\n- [x] Bug fix: #28471\r\n- [x] Bug fix: #28472\r\n- [ ] Handle arbitrary ancestor packages. Enables us to safely validate any packages we receive from peers.\r\n  - [ ] Dependency: #28450  \r\n  - [ ] Main feature: #26711\r\n- [ ] (Maybe?) #27609\r\n\r\n**P2P, Net Processing**\r\nFull implementation: #27742\r\n- [ ] BIP 331 (bitcoin/bips/pull/1382)\r\n- [ ] Milestone 1/3: Modularize transaction downloads. Make orphan handling more robust.\r\n  - [x] Dependency: #28199\r\n  - [x] Dependency: #28364\r\n  - [ ] Dependency: #28481\r\n  - [ ] Main feature 1/2: TxDownloadManager + testing\r\n  - [ ] Main feature 2/2: Retry orphan resolution with all announcers. #28031\r\n- [ ] Milestone 2/3: Ancestor package information\r\n  - Main feature: Negotiate package relay support with peers, gated by config flag (`sendpackages`). Request ancestor package information for orphans (`MSG_ANCPKGINFO`, `ancpkginfo`).\r\n  - WIP, see #27742\r\n- [ ] Milestone 3/3: Full package relay, enables CPFP'd transactions below mempool minimum feerates to propagate.\r\n  - Main feature 1/2: Introduce a mechanism for protecting orphan transactions from eviction.\r\n  - Main feature 2/2: Using package info, request (`getpkgtxns`), download (`pkgtxns`), and submit packages together.\r\n  - WIP, see #27742\r\n- [ ] Default `-packagerelay` config flag to true.\r\n\r\n**Additional Policy**\r\n- [ ] Add v3 rules that make transactions/packages easier to work with\r\n  - [ ] Main feature: #25038\r\n- [ ] Introduce a Miner Incentive Compatibility Score rule to RBF\r\n  - v3-only: #25038\r\n  - all transactions: #27677\r\n- [ ] Enable Package RBF. Enables things like LN to sign things 0-fee, add fees at broadcast, and avoid pinning attacks (assuming package relay is available)\r\n   - [x] Dependency: #22796 \r\n   - [x] Dependency: #22675 \r\n   - [x] Dependency: #22855\r\n   - [ ] Main feature (v3 only): #25038\r\n- [ ] Add Ephemeral Anchors rules for v3 transactions. Enables things like LN symmetry and 0-value anchors.\r\n  - [ ] Main feature: #26403\r\n\r\n<details><summary>See also:</summary>\r\n\r\n- [x] #16400 \r\n- #16401 \r\n- #14895 \r\n- #19621 \r\n- https://gist.github.com/sdaftuar/8756699bfcad4d3806ba9f3396d4e66a\r\n- #27018\r\n- #27476\r\n</details>",
          "user": {
            "login": "glozow",
            "id": 25183001,
            "node_id": "MDQ6VXNlcjI1MTgzMDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/glozow",
            "html_url": "https://github.com/glozow",
            "followers_url": "https://api.github.com/users/glozow/followers",
            "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
            "organizations_url": "https://api.github.com/users/glozow/orgs",
            "repos_url": "https://api.github.com/users/glozow/repos",
            "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/glozow/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            },
            {
              "id": 64584,
              "node_id": "MDU6TGFiZWw2NDU4NA==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
              "name": "Brainstorming",
              "color": "ebd775",
              "default": false
            },
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 12,
          "created_at": "2023-04-14T11:14:50Z",
          "updated_at": "2023-09-27T10:03:36Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10372906822,
      "node_id": "HRFPE_lADOABII585xDHgmzwAAAAJqRf9G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10372906822",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T14:10:53Z"
    },
    {
      "event": "labeled",
      "id": 10372908127,
      "node_id": "LE_lADOABII585xDHgmzwAAAAJqRgRf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10372908127",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T14:10:59Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10373662893,
      "node_id": "HRFPE_lADOABII585xDHgmzwAAAAJqUYit",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10373662893",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T15:10:07Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T15:10:46Z",
      "updated_at": "2023-09-14T15:10:46Z",
      "source": {
        "issue": {
          "id": 1871687992,
          "node_id": "PR_kwDOABII585ZCWLJ",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28364",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28364/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28364/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28364/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28364",
          "number": 28364,
          "state": "closed",
          "state_reason": null,
          "title": "log: log wtxids when possible, add TXPACKAGES category",
          "body": "This was taken from #28031 (see #27463 for project tracking).\r\n\r\n- Log wtxids in addition to txids when possible. This allows us to track the fate of a transaction from inv to mempool accept/reject through logs.\r\n- Additional orphan-related logging to make testing and debugging easier. Suggested in https://github.com/bitcoin/bitcoin/pull/28031#pullrequestreview-1531022386 and https://github.com/bitcoin/bitcoin/pull/28031#discussion_r1269622220\r\n- Add `TXPACKAGES` category for logging.\r\n- Move a nearby comment block that was in the wrong place.",
          "user": {
            "login": "glozow",
            "id": 25183001,
            "node_id": "MDQ6VXNlcjI1MTgzMDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/glozow",
            "html_url": "https://github.com/glozow",
            "followers_url": "https://api.github.com/users/glozow/followers",
            "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
            "organizations_url": "https://api.github.com/users/glozow/orgs",
            "repos_url": "https://api.github.com/users/glozow/repos",
            "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/glozow/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28364",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28364",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28364.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28364.patch"
          },
          "closed_at": "2023-08-31T16:55:55Z",
          "created_at": "2023-08-29T13:32:45Z",
          "updated_at": "2023-09-14T15:10:46Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T15:11:19Z",
      "updated_at": "2023-09-14T15:11:19Z",
      "source": {
        "issue": {
          "id": 1789806361,
          "node_id": "PR_kwDOABII585Ut7YI",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28031",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28031/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28031/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28031/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28031",
          "number": 28031,
          "state": "open",
          "state_reason": null,
          "title": "Package Relay 1/3: Introduce TxDownloadManager and improve orphan-handling",
          "body": "This is milestone 1 of package relay p2p changes. See #27463 for full project tracking.\r\n\r\nPlease see #27742 for how this PR fits into the big picture. I strongly suggest that reviewers look at that PR first to decide if they are comfortable with the overall approach.\r\n\r\nThis PR is mainly refactors, with a few behavior changes and improvements:\r\n- Introduces `TxDownloadManager`, which handles all transaction downloading. It contains the `TxRequestTracker`, `TxOrphanage`, and filters for `AlreadyHaveTx`.\r\n- Updates logs for tx {validation, relay, orphans} to include both txid and wtxid when possible.\r\n- Adds a new log category, `TXPACKAGES`. Logging in the orphanage is changed from `MEMPOOL` to `TXPACKAGES`.\r\n- Adds support for tracking when multiple peers provided the same tx in the orphanage.\r\n- Makes `TxDownloadManager` responsible for tracking the orphans we need to resolve and deciding how/when to resolve them.\r\n- Adds all announcers of an orphan as potential resolution candidates. This tracker is a `TxDownloadManager` which helps us schedule requests.\r\n   - In this PR, \"orphan resolution\" means requesting missing parents by `getdata(MSG_TX | MSG_WITNESS_FLAG, missing_txid)`.\r\n    - In a future PR, we'll add another resolution method, requesting ancestor wtxids using `getdata(MSG_ANCPKGINFO, orphan_wtxid)`.",
          "user": {
            "login": "glozow",
            "id": 25183001,
            "node_id": "MDQ6VXNlcjI1MTgzMDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/glozow",
            "html_url": "https://github.com/glozow",
            "followers_url": "https://api.github.com/users/glozow/followers",
            "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
            "organizations_url": "https://api.github.com/users/glozow/orgs",
            "repos_url": "https://api.github.com/users/glozow/repos",
            "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/glozow/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28031",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28031",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28031.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28031.patch"
          },
          "created_at": "2023-07-05T15:30:40Z",
          "updated_at": "2023-09-21T19:59:08Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1719678408,
      "node_id": "IC_kwDOABII585mgDXI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1719678408",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T15:29:35Z",
      "updated_at": "2023-09-14T15:39:06Z",
      "author_association": "MEMBER",
      "body": "```sh\r\n$ echo \"Af//////Oqf/AP8TAf8AEPr/AQAApZL6/wEA/1sB/wBbAAClkpJ4eP//S0tL/Q==\" | base64 -d > orphanage_crash\r\n$ FUZZ=txorphan ./src/test/fuzz/fuzz orphanage_crash\r\n...\r\ntest/fuzz/txorphan.cpp:98 operator(): Assertion `orphanage.BytesFromPeer(peer_id) >= ref->GetTotalSize()' failed.\r\n...\r\n```",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#issuecomment-1719678408",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28481"
    },
    {
      "event": "commented",
      "id": 1720773834,
      "node_id": "IC_kwDOABII585mkOzK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1720773834",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-15T06:58:09Z",
      "updated_at": "2023-09-15T06:58:09Z",
      "author_association": "MEMBER",
      "body": "```\r\n28: error: argument name 'max_count' in comment does not match parameter name 'max_orphans' [bugprone-argument-comment,-warnings-as-errors]\r\n    orphanage.LimitOrphans(/*max_count=*/10, DEFAULT_MAX_ORPHAN_TOTAL_SIZE);\r\n                           ^\r\n./txorphanage.h:58:52: note: 'max_orphans' declared here\r\n    std::vector<uint256> LimitOrphans(unsigned int max_orphans, unsigned int max_total_size = DEFAULT_MAX_ORPHAN_TOTAL_SIZE)\r\n                                                   ^",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#issuecomment-1720773834",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28481"
    },
    {
      "event": "reviewed",
      "id": 1629373268,
      "node_id": "PRR_kwDOABII585hHkNU",
      "url": null,
      "actor": null,
      "commit_id": "6101c601f5b4312c6d30cf0f7fc5db87a32b1ea2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "initial comments, reviewed everything, also replicated the same fuzzer crash locally",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#pullrequestreview-1629373268",
      "submitted_at": "2023-09-15T17:55:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
    },
    {
      "event": "commented",
      "id": 1723790847,
      "node_id": "IC_kwDOABII585mvvX_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1723790847",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-18T15:54:12Z",
      "updated_at": "2023-09-18T15:54:12Z",
      "author_association": "MEMBER",
      "body": "Putting this in draft to focus review attention on the mempool stuff.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#issuecomment-1723790847",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28481"
    },
    {
      "event": "convert_to_draft",
      "id": 10399936216,
      "node_id": "CTDE_lADOABII585xDHgmzwAAAAJr4m7Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10399936216",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-18T15:54:18Z"
    },
    {
      "event": "reviewed",
      "id": 1628750832,
      "node_id": "PRR_kwDOABII585hFMPw",
      "url": null,
      "actor": null,
      "commit_id": "6101c601f5b4312c6d30cf0f7fc5db87a32b1ea2",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "add this to the first line of array or a bolleyan function and then to the first line of paragraph..\r\n",
      "user": {
        "login": "Yugthakkar04",
        "id": 145057669,
        "node_id": "U_kgDOCKVnhQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/145057669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Yugthakkar04",
        "html_url": "https://github.com/Yugthakkar04",
        "followers_url": "https://api.github.com/users/Yugthakkar04/followers",
        "following_url": "https://api.github.com/users/Yugthakkar04/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Yugthakkar04/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Yugthakkar04/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Yugthakkar04/subscriptions",
        "organizations_url": "https://api.github.com/users/Yugthakkar04/orgs",
        "repos_url": "https://api.github.com/users/Yugthakkar04/repos",
        "events_url": "https://api.github.com/users/Yugthakkar04/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Yugthakkar04/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#pullrequestreview-1628750832",
      "submitted_at": "2023-09-18T17:55:15Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
    },
    {
      "event": "reviewed",
      "id": 1631677942,
      "node_id": "PRR_kwDOABII585hQW32",
      "url": null,
      "actor": null,
      "commit_id": "6101c601f5b4312c6d30cf0f7fc5db87a32b1ea2",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "make this a transidental function and then work upon it and mechanically assert it up than.",
      "user": {
        "login": "Yugthakkar04",
        "id": 145057669,
        "node_id": "U_kgDOCKVnhQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/145057669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Yugthakkar04",
        "html_url": "https://github.com/Yugthakkar04",
        "followers_url": "https://api.github.com/users/Yugthakkar04/followers",
        "following_url": "https://api.github.com/users/Yugthakkar04/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Yugthakkar04/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Yugthakkar04/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Yugthakkar04/subscriptions",
        "organizations_url": "https://api.github.com/users/Yugthakkar04/orgs",
        "repos_url": "https://api.github.com/users/Yugthakkar04/repos",
        "events_url": "https://api.github.com/users/Yugthakkar04/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Yugthakkar04/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#pullrequestreview-1631677942",
      "submitted_at": "2023-09-18T17:56:50Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
    },
    {
      "event": "commented",
      "id": 1731718135,
      "node_id": "IC_kwDOABII585nN-v3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1731718135",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-22T16:35:58Z",
      "updated_at": "2023-09-22T16:35:58Z",
      "author_association": "MEMBER",
      "body": "Going to resolve comments + fuzz failure, and then add a `getorphanagestats` RPC before taking out of draft.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#issuecomment-1731718135",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28481"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGEyNDkzMWZkNWJkYTkzYzFlZjdiMmMzOTgxNDc3YWNmNjJlNTg0ZTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a24931fd5bda93c1ef7b2c3981477acf62e584e0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a24931fd5bda93c1ef7b2c3981477acf62e584e0",
      "tree": {
        "sha": "63aeecf5f854962c0ea1dc3f0765664bc0dcdb67",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/63aeecf5f854962c0ea1dc3f0765664bc0dcdb67"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dcfbf3c2107c3cb9d343ebfa0eee78278dea8d66",
          "sha": "dcfbf3c2107c3cb9d343ebfa0eee78278dea8d66",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dcfbf3c2107c3cb9d343ebfa0eee78278dea8d66"
        }
      ],
      "message": "[txorphange] erase and get orphans by wtxid instead of txid\n\nWtxids are better because they disambiguate between transactions with\nthe same txid but different witnesses. The package relay logic will work\nwith wtxids, e.g. upon receipt of an ancpkginfo containing wtxids of\ntransactions, it will look for those transactions in the orphanage.",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-27T10:04:56Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-07-24T15:10:01Z"
      },
      "sha": "a24931fd5bda93c1ef7b2c3981477acf62e584e0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg0OWI4YTFmNDRlZjQxZGFmZmQyNTAyZWI5MTg4OTI3ZWMyYzVjNGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/849b8a1f44ef41daffd2502eb9188927ec2c5c4e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/849b8a1f44ef41daffd2502eb9188927ec2c5c4e",
      "tree": {
        "sha": "378e18fd3b64a7cd608e47f4b02162cfe65f5cc8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/378e18fd3b64a7cd608e47f4b02162cfe65f5cc8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a24931fd5bda93c1ef7b2c3981477acf62e584e0",
          "sha": "a24931fd5bda93c1ef7b2c3981477acf62e584e0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a24931fd5bda93c1ef7b2c3981477acf62e584e0"
        }
      ],
      "message": "[txorphanage] track size of stored orphans, total and by peer\n\nNo effect for now, just additional tracking. Enables:\n- load balance orphan resolution, limit per-peer orphanage usage\n- limit the total size of orphans instead of just the count",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-27T10:07:20Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-03-31T09:58:09Z"
      },
      "sha": "849b8a1f44ef41daffd2502eb9188927ec2c5c4e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI3MzJlN2ZlNmIxOTZmYThlMzE0ZjBkNjgxYTRjMDBkYjhjMmQ1YmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b732e7fe6b196fa8e314f0d681a4c00db8c2d5bb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b732e7fe6b196fa8e314f0d681a4c00db8c2d5bb",
      "tree": {
        "sha": "57096ecc6f4e5d9b0ffc59d67971f01d23e90218",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/57096ecc6f4e5d9b0ffc59d67971f01d23e90218"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/849b8a1f44ef41daffd2502eb9188927ec2c5c4e",
          "sha": "849b8a1f44ef41daffd2502eb9188927ec2c5c4e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/849b8a1f44ef41daffd2502eb9188927ec2c5c4e"
        }
      ],
      "message": "[txorphanage] support multiple announcers\n\nAdd ability to add and track multiple announcers per orphan transaction,\nerasing announcers but not the entire orphan.",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-27T10:07:21Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-04-18T15:02:58Z"
      },
      "sha": "b732e7fe6b196fa8e314f0d681a4c00db8c2d5bb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDMyOGY3NzAxOWExMmY1YWRkNGU2Mzk2MDJmMDY4NDA4YWNhNWZkM2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/328f77019a12f5add4e639602f068408aca5fd3c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/328f77019a12f5add4e639602f068408aca5fd3c",
      "tree": {
        "sha": "c5e6e99b8b5ad0a0a48e15148310574ebdd9edc4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c5e6e99b8b5ad0a0a48e15148310574ebdd9edc4"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b732e7fe6b196fa8e314f0d681a4c00db8c2d5bb",
          "sha": "b732e7fe6b196fa8e314f0d681a4c00db8c2d5bb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b732e7fe6b196fa8e314f0d681a4c00db8c2d5bb"
        }
      ],
      "message": "[txorphanage] store parent txids in OrphanTx",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-27T10:10:44Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-07-27T10:27:16Z"
      },
      "sha": "328f77019a12f5add4e639602f068408aca5fd3c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJmY2Q4OTYzMTk1ZGZlMTFmZTU1OGE0ODAwMDBkZjA4ZWY2NzQzNmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bfcd8963195dfe11fe558a480000df08ef67436f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bfcd8963195dfe11fe558a480000df08ef67436f",
      "tree": {
        "sha": "7496d6954d8c891fd5465cd2033fe0ef205fb5a9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7496d6954d8c891fd5465cd2033fe0ef205fb5a9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/328f77019a12f5add4e639602f068408aca5fd3c",
          "sha": "328f77019a12f5add4e639602f068408aca5fd3c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/328f77019a12f5add4e639602f068408aca5fd3c"
        }
      ],
      "message": "[txorphanage] return erased wtxids from EraseForBlock\n\nThis information is already known; returning it is essentially free. A\nlater commit uses these wtxids to remove conflicted transactions from\nthe orphan resolution tracker.",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-27T10:10:57Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-02-20T09:59:14Z"
      },
      "sha": "bfcd8963195dfe11fe558a480000df08ef67436f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFhZTlmZTA5M2JjMjZjMDQxMTQxMmVlYTlmZWEwNTg0YjdlYWEzMTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aae9fe093bc26c0411412eea9fea0584b7eaa310",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aae9fe093bc26c0411412eea9fea0584b7eaa310",
      "tree": {
        "sha": "583ee45301d5c9da6494f0434c9f18a16b6daa8c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/583ee45301d5c9da6494f0434c9f18a16b6daa8c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bfcd8963195dfe11fe558a480000df08ef67436f",
          "sha": "bfcd8963195dfe11fe558a480000df08ef67436f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bfcd8963195dfe11fe558a480000df08ef67436f"
        }
      ],
      "message": "[txorphanage] include maximum total size in LimitOrphans",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-27T10:11:59Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-14T13:03:52Z"
      },
      "sha": "aae9fe093bc26c0411412eea9fea0584b7eaa310"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFlYTYyZjY3ZjY2NTRlNmQyYTljOGU2MzJiYzk4MjYyMWE3OWY5MmU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aea62f67f6654e6d2a9c8e632bc982621a79f92e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aea62f67f6654e6d2a9c8e632bc982621a79f92e",
      "tree": {
        "sha": "ca27bdc0c385b642cc63450e2fd3c1a6ceacb5db",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ca27bdc0c385b642cc63450e2fd3c1a6ceacb5db"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aae9fe093bc26c0411412eea9fea0584b7eaa310",
          "sha": "aae9fe093bc26c0411412eea9fea0584b7eaa310",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/aae9fe093bc26c0411412eea9fea0584b7eaa310"
        }
      ],
      "message": "[unit test] orphanage: multiple announcers, eviction",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-27T10:12:24Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-04-18T18:12:35Z"
      },
      "sha": "aea62f67f6654e6d2a9c8e632bc982621a79f92e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMwNTU5YTg0MjIxODNhNjg0MTRhMzdmNmYzYmYyYWNiM2JjNGM1NWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c0559a8422183a68414a37f6f3bf2acb3bc4c55e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c0559a8422183a68414a37f6f3bf2acb3bc4c55e",
      "tree": {
        "sha": "3f61745d0a25d588bef09ee48a5a6c8de5dfeef2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3f61745d0a25d588bef09ee48a5a6c8de5dfeef2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aea62f67f6654e6d2a9c8e632bc982621a79f92e",
          "sha": "aea62f67f6654e6d2a9c8e632bc982621a79f92e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/aea62f67f6654e6d2a9c8e632bc982621a79f92e"
        }
      ],
      "message": "[fuzz] test new orphanage methods",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-27T10:12:24Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-04T11:04:45Z"
      },
      "sha": "c0559a8422183a68414a37f6f3bf2acb3bc4c55e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk0OGNhNDU4YzZkZmI0ZmZkNWE2ZmM0YmViZmRiZGZlNzAxMmJiNWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "tree": {
        "sha": "6705872a0c82b41fdcc7290d1f1e4564bd6648c3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6705872a0c82b41fdcc7290d1f1e4564bd6648c3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c0559a8422183a68414a37f6f3bf2acb3bc4c55e",
          "sha": "c0559a8422183a68414a37f6f3bf2acb3bc4c55e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c0559a8422183a68414a37f6f3bf2acb3bc4c55e"
        }
      ],
      "message": "wip rpcs",
      "committer": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-27T10:12:24Z"
      },
      "author": {
        "name": "glozow",
        "email": "gloriajzhao@gmail.com",
        "date": "2023-09-26T14:41:23Z"
      },
      "sha": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10485569983,
      "node_id": "HRFPE_lADOABII585xDHgmzwAAAAJw_Rm_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10485569983",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-27T10:22:18Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327162369",
      "pull_request_review_id": 1628750832,
      "id": 1327162369,
      "node_id": "PRRC_kwDOABII585PGuQB",
      "diff_hunk": "@@ -2982,7 +2982,7 @@ bool PeerManagerImpl::ProcessOrphanTx(Peer& peer)\n                     m_recent_rejects.insert(porphanTx->GetHash());\n                 }\n             }\n-            m_orphanage.EraseTx(orphanHash);\n+            m_orphanage.EraseTx(orphan_wtxid);",
      "path": "src/net_processing.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "6101c601f5b4312c6d30cf0f7fc5db87a32b1ea2",
      "in_reply_to_id": null,
      "user": {
        "login": "Yugthakkar04",
        "id": 145057669,
        "node_id": "U_kgDOCKVnhQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/145057669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Yugthakkar04",
        "html_url": "https://github.com/Yugthakkar04",
        "followers_url": "https://api.github.com/users/Yugthakkar04/followers",
        "following_url": "https://api.github.com/users/Yugthakkar04/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Yugthakkar04/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Yugthakkar04/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Yugthakkar04/subscriptions",
        "organizations_url": "https://api.github.com/users/Yugthakkar04/orgs",
        "repos_url": "https://api.github.com/users/Yugthakkar04/repos",
        "events_url": "https://api.github.com/users/Yugthakkar04/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Yugthakkar04/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "use a r-lambda function here to ease things up.\n",
      "created_at": "2023-09-15T11:29:48Z",
      "updated_at": "2023-09-18T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327162369",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327162369"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2985,
      "original_line": 2985,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327559516",
      "pull_request_review_id": 1629373268,
      "id": 1327559516,
      "node_id": "PRRC_kwDOABII585PIPNc",
      "diff_hunk": "@@ -33,8 +36,8 @@ class TxOrphanage {\n      */\n     CTransactionRef GetTxToReconsider(NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n-    /** Erase an orphan by txid */\n-    int EraseTx(const uint256& txid) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);",
      "path": "src/txorphanage.h",
      "position": 41,
      "original_position": 15,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "4d6b839616c65b0ca5fefdb50ce0b8b1ffad8947",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Need to also rename arg for `EraseTxNoLock` to wtxid",
      "created_at": "2023-09-15T16:50:49Z",
      "updated_at": "2023-09-15T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327559516",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327559516"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 37,
      "original_line": 37,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327560918",
      "pull_request_review_id": 1629373268,
      "id": 1327560918,
      "node_id": "PRRC_kwDOABII585PIPjW",
      "diff_hunk": "@@ -33,8 +36,8 @@ class TxOrphanage {\n      */\n     CTransactionRef GetTxToReconsider(NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n-    /** Erase an orphan by txid */\n-    int EraseTx(const uint256& txid) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);",
      "path": "src/txorphanage.h",
      "position": 41,
      "original_position": 15,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "4d6b839616c65b0ca5fefdb50ce0b8b1ffad8947",
      "in_reply_to_id": 1327559516,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "4d6b839616c65b0ca5fefdb50ce0b8b1ffad8947\r\n\r\n`txorphan.cpp` fuzzer needs to change for all `EraseTx()` call sites because they're still using txid",
      "created_at": "2023-09-15T16:52:16Z",
      "updated_at": "2023-09-15T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327560918",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327560918"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 37,
      "original_line": 37,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327577864",
      "pull_request_review_id": 1629373268,
      "id": 1327577864,
      "node_id": "PRRC_kwDOABII585PITsI",
      "diff_hunk": "@@ -118,6 +139,8 @@ void TxOrphanage::EraseForPeer(NodeId peer)\n         }\n     }\n     if (nErased > 0) LogPrint(BCLog::TXPACKAGES, \"Erased %d orphan tx from peer=%d\\n\", nErased, peer);\n+    if (!Assume(m_peer_bytes_used.count(peer) == 0)) m_peer_bytes_used.erase(peer);",
      "path": "src/txorphanage.cpp",
      "position": 140,
      "original_position": 46,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "ee2063496b1ca846e9584619591bb4410ec0c871",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "leave a comment that this is belt-and-suspenders only, the condition should fail since the item should have been already erased",
      "created_at": "2023-09-15T17:08:45Z",
      "updated_at": "2023-09-15T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327577864",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327577864"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 168,
      "original_line": 168,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327596144",
      "pull_request_review_id": 1629373268,
      "id": 1327596144,
      "node_id": "PRRC_kwDOABII585PIYJw",
      "diff_hunk": "@@ -22,7 +22,7 @@ class TxOrphanage {\n public:\n     /** Add a new orphan transaction. If the tx already exists, add this peer to its list of announcers.\n       @returns true if the transaction was added as a new orphan. */\n-    bool AddTx(const CTransactionRef& tx, NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    bool AddTx(const CTransactionRef& tx, NodeId peer, const std::vector<uint256>& parent_txids) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);",
      "path": "src/txorphanage.h",
      "position": 26,
      "original_position": 5,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "05ea6fabe36d728b69a736b6f82a136f4403d7bf",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should describe the new argument as something like \"all unique parent transaction txids\". I kind of wish this was generated inside `AddTx` but realize you're avoiding double the work...",
      "created_at": "2023-09-15T17:28:46Z",
      "updated_at": "2023-09-15T17:55:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327596144",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327596144"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 29,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327599163",
      "pull_request_review_id": 1629373268,
      "id": 1327599163,
      "node_id": "PRRC_kwDOABII585PIY47",
      "diff_hunk": "@@ -92,6 +92,9 @@ class TxOrphanage {\n      * remove this peer's entry from the map. */\n     void SubtractOrphanBytes(unsigned int size, NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(m_mutex);\n \n+    /** Get an orphan's parent_txids, or std::nullopt if the orphan is not present. */",
      "path": "src/txorphanage.h",
      "position": 94,
      "original_position": 30,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "05ea6fabe36d728b69a736b6f82a136f4403d7bf",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```Suggestion\r\n    /** Get an orphan's unique parent_txids, or std::nullopt if the orphan is not present. */\r\n```",
      "created_at": "2023-09-15T17:32:12Z",
      "updated_at": "2023-09-15T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327599163",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327599163"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 94,
      "original_line": 94,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327599946",
      "pull_request_review_id": 1629373268,
      "id": 1327599946,
      "node_id": "PRRC_kwDOABII585PIZFK",
      "diff_hunk": "@@ -45,13 +45,13 @@ class TxOrphanage {\n \n     /** Maybe erase all orphans announced by a peer (eg, after that peer disconnects). If an orphan\n      * has been announced by another peer, don't erase, just remove this peer from the list of announcers. */\n-    void EraseForPeer(NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    std::vector<uint256> EraseForPeer(NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n     /** Erase all orphans included in or invalidated by a new block */\n     void EraseForBlock(const CBlock& block) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n-    /** Limit the orphanage to the given maximum */\n-    void LimitOrphans(unsigned int max_orphans) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    /** Limit the orphanage to the given maximum. Returns all expired entries. */",
      "path": "src/txorphanage.h",
      "position": 57,
      "original_position": 21,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "05ea6fabe36d728b69a736b6f82a136f4403d7bf",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```Suggestion\r\n    /** Limit the orphanage to the given maximum. Returns all expired entries by wtxid. */\r\n```",
      "created_at": "2023-09-15T17:33:07Z",
      "updated_at": "2023-09-15T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327599946",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327599946"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 57,
      "original_line": 57,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327600222",
      "pull_request_review_id": 1629373268,
      "id": 1327600222,
      "node_id": "PRRC_kwDOABII585PIZJe",
      "diff_hunk": "@@ -169,10 +171,11 @@ void TxOrphanage::EraseForPeer(NodeId peer)\n     return wtxids;\n }\n \n-void TxOrphanage::LimitOrphans(unsigned int max_orphans)\n+std::vector<uint256> TxOrphanage::LimitOrphans(unsigned int max_orphans)\n {\n     LOCK(m_mutex);\n \n+    std::vector<uint256> expired;",
      "path": "src/txorphanage.cpp",
      "position": null,
      "original_position": 49,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "05ea6fabe36d728b69a736b6f82a136f4403d7bf",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "s/expired/expired_wtxids/",
      "created_at": "2023-09-15T17:33:26Z",
      "updated_at": "2023-09-15T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327600222",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327600222"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 178,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327600963",
      "pull_request_review_id": 1629373268,
      "id": 1327600963,
      "node_id": "PRRC_kwDOABII585PIZVD",
      "diff_hunk": "@@ -169,10 +171,11 @@ void TxOrphanage::EraseForPeer(NodeId peer)\n     return wtxids;\n }\n \n-void TxOrphanage::LimitOrphans(unsigned int max_orphans)\n+std::vector<uint256> TxOrphanage::LimitOrphans(unsigned int max_orphans)\n {\n     LOCK(m_mutex);\n \n+    std::vector<uint256> expired;\n     unsigned int nEvicted = 0;",
      "path": "src/txorphanage.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "05ea6fabe36d728b69a736b6f82a136f4403d7bf",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "can remove this and use size of `expired(_wtxids)` set isntead",
      "created_at": "2023-09-15T17:34:17Z",
      "updated_at": "2023-09-15T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327600963",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327600963"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 175,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327605904",
      "pull_request_review_id": 1629373268,
      "id": 1327605904,
      "node_id": "PRRC_kwDOABII585PIaiQ",
      "diff_hunk": "@@ -33,40 +44,75 @@ class TxOrphanage {\n      */\n     CTransactionRef GetTxToReconsider(NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n-    /** Erase an orphan by txid */\n-    int EraseTx(const uint256& txid) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    /** Erase an orphan by wtxid */\n+    int EraseTx(const uint256& wtxid) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n \n-    /** Erase all orphans announced by a peer (eg, after that peer disconnects) */\n-    void EraseForPeer(NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\n+    /** Maybe erase all orphans announced by a peer (eg, after that peer disconnects). If an orphan\n+     * has been announced by another peer, don't erase, just remove this peer from the list of announcers. */\n+    std::vector<uint256> EraseForPeer(NodeId peer) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);",
      "path": "src/txorphanage.h",
      "position": null,
      "original_position": 49,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "6101c601f5b4312c6d30cf0f7fc5db87a32b1ea2",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "please remove this return https://github.com/bitcoin/bitcoin/pull/28031#discussion_r1326094730",
      "created_at": "2023-09-15T17:39:17Z",
      "updated_at": "2023-09-15T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327605904",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327605904"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327611365",
      "pull_request_review_id": 1629373268,
      "id": 1327611365,
      "node_id": "PRRC_kwDOABII585PIb3l",
      "diff_hunk": "@@ -278,7 +278,7 @@ bool TxOrphanage::HaveTxToReconsider(NodeId peer)\n     return false;\n }\n \n-void TxOrphanage::EraseForBlock(const CBlock& block)\n+std::vector<uint256> TxOrphanage::EraseForBlock(const CBlock& block)",
      "path": "src/txorphanage.cpp",
      "position": 203,
      "original_position": 5,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "1630da019bd57885d5c52095cc76905a3c57dffa",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "unused in this PR, but is exercised in tests so I'm happy for it to be used later :+1: ",
      "created_at": "2023-09-15T17:45:18Z",
      "updated_at": "2023-09-15T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327611365",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327611365"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 275,
      "original_line": 275,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327617380",
      "pull_request_review_id": 1629373268,
      "id": 1327617380,
      "node_id": "PRRC_kwDOABII585PIdVk",
      "diff_hunk": "@@ -38,14 +38,66 @@ class TxOrphanageTest : public TxOrphanage\n     }\n };\n \n-static void MakeNewKeyWithFastRandomContext(CKey& key)\n+static void MakeNewKeyWithFastRandomContext(CKey& key, FastRandomContext& rand_ctx = g_insecure_rand_ctx)\n {\n     std::vector<unsigned char> keydata;\n-    keydata = g_insecure_rand_ctx.randbytes(32);\n+    keydata = rand_ctx.randbytes(32);\n     key.Set(keydata.data(), keydata.data() + keydata.size(), /*fCompressedIn=*/true);\n     assert(key.IsValid());\n }\n \n+static CTransactionRef MakeLargeOrphan()\n+{\n+    CKey key;\n+    MakeNewKeyWithFastRandomContext(key);\n+    CMutableTransaction tx;\n+    tx.vout.resize(1);\n+    tx.vout[0].nValue = CENT;\n+    tx.vout[0].scriptPubKey = GetScriptForDestination(PKHash(key.GetPubKey()));\n+    tx.vin.resize(80);\n+    for (unsigned int j = 0; j < tx.vin.size(); j++) {\n+        tx.vin[j].prevout.n = j;\n+        tx.vin[j].prevout.hash = GetRandHash();\n+        tx.vin[j].scriptWitness.stack.reserve(100);\n+        for (int i = 0; i < 100; ++i) {\n+            tx.vin[j].scriptWitness.stack.push_back(std::vector<unsigned char>(j));\n+        }\n+    }\n+    return MakeTransactionRef(tx);\n+}\n+\n+static CTransactionRef MakeTransactionSpending(const std::vector<COutPoint>& outpoints, FastRandomContext& det_rand)\n+{\n+    CKey key;\n+    MakeNewKeyWithFastRandomContext(key, det_rand);\n+    CMutableTransaction tx;\n+    // If no outpoints are given, create a random one.\n+    if (outpoints.empty()) {\n+        tx.vin.emplace_back(CTxIn{COutPoint{det_rand.rand256(), 0}});\n+    } else {\n+        for (const auto& outpoint : outpoints) {\n+            tx.vin.emplace_back(CTxIn(outpoint));\n+        }\n+    }\n+    // Ensure txid != wtxid",
      "path": "src/test/orphanage_tests.cpp",
      "position": 55,
      "original_position": 47,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "95fcb16ac42bc13c2e7311def77343a026f16380",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "could this get mechanically asserted as extra-belt-and-suspender",
      "created_at": "2023-09-15T17:51:57Z",
      "updated_at": "2023-09-15T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327617380",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327617380"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 82,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327618110",
      "pull_request_review_id": 1629373268,
      "id": 1327618110,
      "node_id": "PRRC_kwDOABII585PIdg-",
      "diff_hunk": "@@ -127,14 +136,33 @@ FUZZ_TARGET(txorphan, .init = initialize_orphanage)\n                 },\n                 [&] {\n                     orphanage.EraseForPeer(peer_id);\n+                    Assert(orphanage.BytesFromPeer(peer_id) == 0);\n                 },\n                 [&] {\n                     // test mocktime and expiry\n                     SetMockTime(ConsumeTime(fuzzed_data_provider));\n-                    auto limit = fuzzed_data_provider.ConsumeIntegral<unsigned int>();\n-                    orphanage.LimitOrphans(limit);\n-                    Assert(orphanage.Size() <= limit);\n+                    auto count_limit = fuzzed_data_provider.ConsumeIntegral<unsigned int>();\n+                    auto size_limit = fuzzed_data_provider.ConsumeIntegral<unsigned int>();\n+                    orphanage.LimitOrphans(count_limit, size_limit);\n+                    Assert(orphanage.Size() <= count_limit);\n+                    Assert(orphanage.TotalOrphanBytes() <= size_limit);\n+                },\n+                [&] {\n+                    // check EraseForBlock\n+                    CBlock block;\n+                    block.vtx.emplace_back(tx);\n+                    orphanage.EraseForBlock(block);",
      "path": "src/test/fuzz/txorphan.cpp",
      "position": 63,
      "original_position": 57,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "6101c601f5b4312c6d30cf0f7fc5db87a32b1ea2",
      "in_reply_to_id": null,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "might as well capture the return and check it here too",
      "created_at": "2023-09-15T17:52:43Z",
      "updated_at": "2023-09-15T17:55:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1327618110",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1327618110"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 154,
      "original_line": 154,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1334605356",
      "pull_request_review_id": 1640311576,
      "id": 1334605356,
      "node_id": "PRRC_kwDOABII585PjHYs",
      "diff_hunk": "@@ -2982,7 +2982,7 @@ bool PeerManagerImpl::ProcessOrphanTx(Peer& peer)\n                     m_recent_rejects.insert(porphanTx->GetHash());\n                 }\n             }\n-            m_orphanage.EraseTx(orphanHash);\n+            m_orphanage.EraseTx(orphan_wtxid);",
      "path": "src/net_processing.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "948ca458c6dfb4ffd5a6fc4bebfdbdfe7012bb5c",
      "original_commit_id": "6101c601f5b4312c6d30cf0f7fc5db87a32b1ea2",
      "in_reply_to_id": 1327162369,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Uh, unsure what a r-lambda function is and pretty sure calling something else doesn't make sense so I'm resolving this comment.",
      "created_at": "2023-09-22T16:35:04Z",
      "updated_at": "2023-09-22T16:35:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28481#discussion_r1334605356",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1334605356"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28481"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2985,
      "original_line": 2985,
      "side": "RIGHT"
    }
  ]
}