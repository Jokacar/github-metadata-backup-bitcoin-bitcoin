{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071",
    "id": 1236533145,
    "node_id": "PR_kwDOABII585Js_-Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/27071",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/27071.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/27071.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/8b495486e2e94559f0e1099eef08182e540f82c0",
    "number": 27071,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Handle CJDNS from LookupSubNet()",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`LookupSubNet()` would treat addresses that start with `fc` as IPv6 even if `-cjdnsreachable` is set. This creates the following problems where it is called:\r\n\r\n* `NetWhitelistPermissions::TryParse()`: otherwise `-whitelist=` fails to white list CJDNS addresses: when a CJDNS peer connects to us, it will be matched against IPv6 `fc...` subnet and the match will never succeed.\r\n\r\n* `BanMapFromJson()`: CJDNS bans are stored as just IPv6 addresses in `banlist.json`. Upon reading from disk they have to be converted back to CJDNS, otherwise, after restart, a ban entry like (`fc00::1`, IPv6) would not match a peer (`fc00::1`, CJDNS).\r\n    \r\n* `RPCConsole::unbanSelectedNode()`: in the GUI the ban entries go through `CSubNet::ToString()` and back via `LookupSubNet()`. Then it must match whatever is stored in `BanMan`, otherwise it is impossible to unban via the GUI.\r\n\r\nThese were uncovered by https://github.com/bitcoin/bitcoin/pull/26859.\r\n\r\nThus, flip the result of `LookupSubNet()` to CJDNS if the network base address starts with `fc` and `-cjdnsreachable` is set. Since subnetting/masking does not make sense for CJDNS (the address is \"random\" bytes, like Tor and I2P, there is no hierarchy) treat `fc.../mask` as an invalid `CSubNet`.\r\n\r\nTo achieve that, `MaybeFlipIPv6toCJDNS()` has to be moved from `net` to `netbase` and thus also `IsReachable()`. In the process of moving `IsReachable()`, `SetReachable()` and `vfLimited[]` encapsulate those in a class.",
    "labels": [
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-02-10T11:20:45Z",
    "updated_at": "2023-07-13T19:25:53Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "fc91dcee5fedbc7d50bf3170465a10a66702b994",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "vasild:lookup_subnet_cjdns",
      "ref": "lookup_subnet_cjdns",
      "sha": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 120608826,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjA2MDg4MjY=",
        "name": "bitcoin",
        "full_name": "vasild/bitcoin",
        "owner": {
          "login": "vasild",
          "id": 266751,
          "node_id": "MDQ6VXNlcjI2Njc1MQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/vasild",
          "html_url": "https://github.com/vasild",
          "followers_url": "https://api.github.com/users/vasild/followers",
          "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
          "organizations_url": "https://api.github.com/users/vasild/orgs",
          "repos_url": "https://api.github.com/users/vasild/repos",
          "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/vasild/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/vasild/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/vasild/bitcoin",
        "archive_url": "https://api.github.com/repos/vasild/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/vasild/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/vasild/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/vasild/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/vasild/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/vasild/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/vasild/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/vasild/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/vasild/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/vasild/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/vasild/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/vasild/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/vasild/bitcoin/events",
        "forks_url": "https://api.github.com/repos/vasild/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/vasild/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/vasild/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/vasild/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/vasild/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/vasild/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/vasild/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/vasild/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/vasild/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/vasild/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/vasild/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/vasild/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/vasild/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/vasild/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/vasild/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/vasild/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:vasild/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/vasild/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/vasild/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/vasild/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/vasild/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/vasild/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/vasild/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/vasild/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/vasild/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/vasild/bitcoin/hooks",
        "svn_url": "https://github.com/vasild/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 214063,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T12:37:14Z",
        "created_at": "2018-02-07T11:52:47Z",
        "updated_at": "2023-01-31T16:56:52Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "2026301405f83c925ca68db6a3cd5134ed619ca7",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 673,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-03T00:03:27Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 158,
    "deletions": 126,
    "changed_files": 14,
    "commits": 6,
    "review_comments": 25,
    "comments": 15
  },
  "events": [
    {
      "event": "commented",
      "id": 1425658309,
      "node_id": "IC_kwDOABII585U-dHF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1425658309",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-10T11:20:48Z",
      "updated_at": "2023-07-04T05:53:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [mzumsande](https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1294785408), [brunoerg](https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1371196157) |\n| Stale ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1443962823) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27557](https://github.com/bitcoin/bitcoin/pull/27557) (net: call getaddrinfo() in detachable thread to prevent stalling by pinheadmz)\n* [#27411](https://github.com/bitcoin/bitcoin/pull/27411) (p2p: Restrict self-advertisements with privacy networks to avoid fingerprinting by mzumsande)\n* [#27375](https://github.com/bitcoin/bitcoin/pull/27375) (net: support unix domain sockets for -proxy and -onion by pinheadmz)\n* [#26859](https://github.com/bitcoin/bitcoin/pull/26859) (fuzz: extend ConsumeNetAddr() to return I2P and CJDNS addresses by vasild)\n* [#25390](https://github.com/bitcoin/bitcoin/pull/25390) (sync: introduce a thread-safe generic container and use it to remove a bunch of \"GlobalMutex\"es by vasild)\n* [#24034](https://github.com/bitcoin/bitcoin/pull/24034) (p2p: delete anchors.dat after trying to connect to that peers by brunoerg)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1425658309",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-10T11:21:46Z",
      "updated_at": "2023-02-10T11:21:46Z",
      "source": {
        "issue": {
          "id": 1525989830,
          "node_id": "PR_kwDOABII585G_3G-",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26859",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26859/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26859/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26859/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26859",
          "number": 26859,
          "state": "open",
          "state_reason": null,
          "title": "fuzz: extend ConsumeNetAddr() to return I2P and CJDNS addresses",
          "body": "In the process of doing so, refactor `ConsumeNetAddr()` to generate the addresses from IPv4, IPv6, Tor, I2P and CJDNS networks in the same way - by preparing some random stream and deserializing from it. Similar code was already found in `RandAddr()`.\r\n\r\n",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26859",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26859",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26859.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26859.patch"
          },
          "created_at": "2023-01-09T17:14:28Z",
          "updated_at": "2023-07-28T11:35:47Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-10T23:04:10Z",
      "updated_at": "2023-02-10T23:04:10Z",
      "source": {
        "issue": {
          "id": 1398072802,
          "node_id": "PR_kwDOABII585AOrOs",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26261/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26261/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26261/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26261",
          "number": 26261,
          "state": "closed",
          "state_reason": null,
          "title": "p2p: cleanup `LookupIntern`, `Lookup` and `LookupHost`",
          "body": "Continuation of #26078.\r\n\r\nTo improve readability instead of returning a bool and passing stuff by reference, this PR changes:\r\n\r\n- `LookupHost` to return `std::vector<CNetAddr>`\r\n- `LookupHost` to return `std::optional<CNetAddr>`\r\n- `Lookup` to return `std::vector<CService>`\r\n- `Lookup` to return `std::optional<CService>`.\r\n- `LookupIntern` to return `std::vector<CNetAddr>`\r\n\r\nAs discussed in #26078, it would be better to avoid using `optional` in some cases, but for specific `Lookup` and `LookupHost` functions it's necessary to use `optional` to verify if they were able to catch some data from their overloaded function.\r\n\r\n\r\n\r\n\r\n",
          "user": {
            "login": "brunoerg",
            "id": 19480819,
            "node_id": "MDQ6VXNlcjE5NDgwODE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brunoerg",
            "html_url": "https://github.com/brunoerg",
            "followers_url": "https://api.github.com/users/brunoerg/followers",
            "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
            "organizations_url": "https://api.github.com/users/brunoerg/orgs",
            "repos_url": "https://api.github.com/users/brunoerg/repos",
            "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/brunoerg/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 22,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26261",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26261.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26261.patch"
          },
          "closed_at": "2023-05-30T15:40:23Z",
          "created_at": "2022-10-05T16:35:08Z",
          "updated_at": "2023-05-30T15:40:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-11T00:36:31Z",
      "updated_at": "2023-02-11T00:36:31Z",
      "source": {
        "issue": {
          "id": 1306008117,
          "node_id": "PR_kwDOABII5847eDJ6",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25619/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25619",
          "number": 25619,
          "state": "closed",
          "state_reason": null,
          "title": "net: avoid overriding non-virtual ToString() in CService and use better naming",
          "body": "Before this PR we had the somewhat confusing combination of methods:\r\n\r\n`CNetAddr::ToStringIP()`\r\n`CNetAddr::ToString()` (duplicate of the above)\r\n`CService::ToStringIPPort()`\r\n`CService::ToString()` (duplicate of the above, overrides a non-virtual method from `CNetAddr`)\r\n`CService::ToStringPort()`\r\n\r\nAvoid [overriding non-virtual methods](https://github.com/bitcoin/bitcoin/pull/25349/#issuecomment-1185226396).\r\n\r\n\"IP\" stands for \"Internet Protocol\" and while sometimes \"IP addresses\" are called just \"IPs\", it is incorrect to call Tor or I2P addresses \"IPs\". Thus use \"Addr\" instead of \"IP\".\r\n\r\nChange the above to:\r\n\r\n`CNetAddr::ToStringAddr()`\r\n`CService::ToStringAddrPort()`\r\n\r\nThe changes touch a lot of files, but are mostly mechanical.",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25619",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25619",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25619.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25619.patch"
          },
          "closed_at": "2023-02-17T18:34:58Z",
          "created_at": "2022-07-15T12:58:23Z",
          "updated_at": "2023-02-20T09:48:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-11T00:51:38Z",
      "updated_at": "2023-02-11T00:51:38Z",
      "source": {
        "issue": {
          "id": 1273517561,
          "node_id": "PR_kwDOABII5845xiLt",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25390",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25390/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25390/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25390/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25390",
          "number": 25390,
          "state": "open",
          "state_reason": null,
          "title": "sync: introduce a thread-safe generic container and use it to remove a bunch of \"GlobalMutex\"es",
          "body": "Introduce a generic container that provides a thread-safe access to any object by using a mutex which is acquired every time the object accessed.\r\n\r\nFor example:\r\n\r\n```cpp\r\nSynced<std::unordered_map<int, int>> m{{3, 9}, {4, 16}};\r\n\r\n{\r\n    SYNCED_LOCK(m, m_locked);\r\n\r\n    // m_locked represents the internal object, i.e. std::unordered_map,\r\n    // while m_locked is in scope the internal mutex is locked.\r\n\r\n    auto it = m_locked->find(3);\r\n    if (it != m_locked->end()) {\r\n        std::cout << it->second << std::endl;\r\n    }\r\n\r\n    for (auto& [k, v] : *m_locked) {\r\n        std::cout << k << \", \" << v << std::endl;\r\n    }\r\n}\r\n\r\nWITH_SYNCED_LOCK(m, p, p->emplace(5, 25));\r\n```\r\n\r\nRemove the global mutexes `g_maplocalhost_mutex`, `g_deadline_timers_mutex`, `cs_dir_locks`, `g_loading_wallet_mutex`, `g_wallet_release_mutex` and use `Synced<T>` instead.\r\n\r\n## Benefits\r\n\r\n_copied from a [comment below](https://github.com/bitcoin/bitcoin/pull/25390#issuecomment-1169788319):_\r\n\r\nThe `Synced<T>` abstraction is similar to what is suggested in [this comment](https://github.com/bitcoin/bitcoin/pull/24931#discussion_r890636987) but it does so in a generic way to avoid code repetition. Its benefit is:\r\n\r\n1. It avoids code repetition at the implementation sites. See [PR#26151](https://github.com/bitcoin/bitcoin/pull/26151) for a live example. Namely this:\r\n\r\n<details>\r\n<summary>Lots of repetitions (92 lines)</summary>\r\n\r\n```cpp\r\nclass Foo\r\n{\r\npublic:\r\n    void PushBack(x)\r\n    {\r\n        LOCK(m_mutex);\r\n        m_data.push_back(x);\r\n    }\r\n\r\n    size_t Size()\r\n    {\r\n        LOCK(m_mutex);\r\n        return m_data.size();\r\n    }\r\n\r\n    // maybe also other methods if needed...\r\n\r\n    auto Lock()\r\n    {\r\n        return DebugLock<Mutex>{m_mutex, \"Foo::m_mutex\", __FILE__, __LINE__};\r\n    }\r\n\r\nprivate:\r\n    Mutex m_mutex;\r\n    std::vector<int> m_data;\r\n};\r\n\r\nclass Bar\r\n{\r\npublic:\r\n    void PushBack(x)\r\n    {\r\n        LOCK(m_mutex);\r\n        m_data.push_back(x);\r\n    }\r\n\r\n    size_t Size()\r\n    {\r\n        LOCK(m_mutex);\r\n        return m_data.size();\r\n    }\r\n\r\n    // maybe also other methods if needed...\r\n\r\n    auto Lock()\r\n    {\r\n        return DebugLock<Mutex>{m_mutex, \"Bar::m_mutex\", __FILE__, __LINE__};\r\n    }\r\n\r\nprivate:\r\n    Mutex m_mutex;\r\n    std::vector<std::string> m_data;\r\n};\r\n\r\nclass Baz\r\n{\r\npublic:\r\n    void Insert(x)\r\n    {\r\n        LOCK(m_mutex);\r\n        m_data.insert(x);\r\n    }\r\n\r\n    size_t Size()\r\n    {\r\n        LOCK(m_mutex);\r\n        return m_data.size();\r\n    }\r\n\r\n    // maybe also other methods if needed...\r\n\r\n    auto Lock()\r\n    {\r\n        return DebugLock<Mutex>{m_mutex, \"Baz::m_mutex\", __FILE__, __LINE__};\r\n    }\r\n\r\nprivate:\r\n    Mutex m_mutex;\r\n    std::set<std::string> m_data;\r\n};\r\n```\r\n</details>\r\n\r\nbecomes this:\r\n\r\n<details>\r\n<summary>Short (3 lines)</summary>\r\n\r\n```cpp\r\nSynced<std::vector<int>> Foo;\r\nSynced<std::vector<std::string>> Bar;\r\nSynced<std::set<std::string>> Baz;\r\n```\r\n</details>\r\n\r\n2. The mutex is properly encapsulated. With a global mutex and a global variable annotated with `GUARDED_BY()` it is indeed not possible to add new code that accesses the variable without protection (if using Clang and `-Wthread-safety-analysis` and `-Werror`), but it is possible to abuse the mutex and start using it to protect some more, possibly unrelated stuff (we already have this in the current code).\r\n",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 25,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25390",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25390",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25390.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25390.patch"
          },
          "created_at": "2022-06-16T12:46:53Z",
          "updated_at": "2023-07-22T14:06:27Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-11T01:58:48Z",
      "updated_at": "2023-02-11T01:58:48Z",
      "source": {
        "issue": {
          "id": 1099131945,
          "node_id": "PR_kwDOABII584wzA76",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24034",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24034/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24034/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24034/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24034",
          "number": 24034,
          "state": "open",
          "state_reason": null,
          "title": "p2p: delete anchors.dat after trying to connect to that peers",
          "body": "In the current scenario, `anchors.dat` is deleted right after reading it, however, if my node stops before trying to connect to the anchors peers, it will create an empty `anchors.dat`. This PR changes it to delete `anchors.dat` after trying to connect to the peers from it. So, if my node stops (**in a clean way**) before trying to connect to that peers, the `anchors.dat` file will be preserved and a dump won't happen.",
          "user": {
            "login": "brunoerg",
            "id": 19480819,
            "node_id": "MDQ6VXNlcjE5NDgwODE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brunoerg",
            "html_url": "https://github.com/brunoerg",
            "followers_url": "https://api.github.com/users/brunoerg/followers",
            "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
            "organizations_url": "https://api.github.com/users/brunoerg/orgs",
            "repos_url": "https://api.github.com/users/brunoerg/repos",
            "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/brunoerg/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24034",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24034",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24034.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24034.patch"
          },
          "created_at": "2022-01-11T13:08:59Z",
          "updated_at": "2023-07-14T22:25:39Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1294785408,
      "node_id": "PRR_kwDOABII585NLNuA",
      "url": null,
      "actor": null,
      "commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK to fixing this - however, I'm unsure about how the approach fits into the larger architecture:\r\n\r\nI think of `netbase` as a module for mostly context-free basic low-level methods - this PR moves `IsReachable` to it and saves its state in a global variable, accessing it both from different threads within the node and the GUI. Shouldn't the information flow between the Node and the GUI rather go through `node/interfaces` instead of having a shared global variable?\r\n\r\nDid you consider the alternative approach of letting banman be agnostic of CJDNS (everything stays IPv6, CJDNS addresses get a /128 netmask just like single IPv6 addresses), and add special \"flipping\" logic to the points where we need to compare actual addresses from peers with the results from banman? I didn't try it yet so not sure if viable, but that was my first idea of how to fix the issue of not being able to ban CJDNS peers.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1294785408",
      "submitted_at": "2023-02-13T15:51:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "reviewed",
      "id": 1296128737,
      "node_id": "PRR_kwDOABII585NQVrh",
      "url": null,
      "actor": null,
      "commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1296128737",
      "submitted_at": "2023-02-13T17:25:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "reviewed",
      "id": 1296130709,
      "node_id": "PRR_kwDOABII585NQWKV",
      "url": null,
      "actor": null,
      "commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1296130709",
      "submitted_at": "2023-02-13T17:26:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "commented",
      "id": 1428383348,
      "node_id": "IC_kwDOABII585VI2Z0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428383348",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T17:41:41Z",
      "updated_at": "2023-02-13T17:41:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I think of `netbase` as a module for mostly context-free basic low-level methods - this PR moves `IsReachable` to it and saves its state in a global variable,\r\n\r\nI was thinking about the same, but `netbase` is already stateful - `proxyInfo`, `nameProxy`, `nConnectTimeout`, `fNameLookup`, `g_socks5_recv_timeout`, `interruptSocks5Recv` are global variables that keep state, which influence the output of the functions defined in `netbase`, making them context-dependent.\r\n\r\n`SetProxy()`, `GetProxy()` (already defined in `netbase`) are very similar to the `SetReachable()`, `IsReachable()` functions (which this PR moves into `netbase`). Thus I think the move is appropriate.\r\n\r\n> accessing it both from different threads within the node and the GUI. Shouldn't the information flow between the Node and the GUI rather go through `node/interfaces` instead of having a shared global variable?\r\n\r\nI am not sure `IsReachable()` fits into that. It is not like that in `master` where there is the global variable `vfLimited[]`.\r\n\r\n> Did you consider the alternative approach of letting banman be agnostic of CJDNS (everything stays IPv6, CJDNS addresses get a /128 netmask just like single IPv6 addresses), and add special \"flipping\" logic to the points where we need to compare actual addresses from peers with the results from banman? I didn't try it yet so not sure if viable, but that was my first idea of how to fix the issue of not being able to ban CJDNS peers.\r\n\r\n`banman` is using `CSubNet::Match()`. This would mean in that method we should match IPv6 vs CJDNS. I did not like the idea because `CSubNet` is used also elsewhere and it could influence other parts of the code. But in general it feels wrong to \"pretend\" that an address from network X belongs to a subnet from network Y. I even coded that, but eventually decided to avoid it:\r\n\r\n<details>\r\n<summary>CSubNet::Match() mix IPv6 and CJDNS</summary>\r\n\r\n```diff\r\n--- a/src/netaddress.cpp\r\n+++ b/src/netaddress.cpp\r\n@@ -1039,24 +1039,40 @@ CSubNet::CSubNet(const CNetAddr& addr) : CSubNet()\r\n /**\r\n  * @returns True if this subnet is valid, the specified address is valid, and\r\n  *          the specified address belongs in this subnet.\r\n  */\r\n bool CSubNet::Match(const CNetAddr &addr) const\r\n {\r\n-    if (!valid || !addr.IsValid() || network.m_net != addr.m_net)\r\n+    if (!valid || !addr.IsValid()) {\r\n         return false;\r\n+    }\r\n \r\n-    switch (network.m_net) {\r\n+    Network subnet_net = network.m_net;\r\n+    Network addr_net = addr.m_net;\r\n+\r\n+    if ((subnet_net == NET_IPV6 && addr_net == NET_CJDNS) ||\r\n+        (subnet_net == NET_CJDNS && addr_net == NET_IPV6)) {\r\n+        // Treat both as CJDNS.\r\n+        subnet_net = NET_CJDNS;\r\n+        addr_net = NET_CJDNS;\r\n+    }\r\n+\r\n+    if (subnet_net != addr_net) {\r\n+        return false;\r\n+    }\r\n+\r\n+    switch (subnet_net) {\r\n     case NET_IPV4:\r\n     case NET_IPV6:\r\n         break;\r\n     case NET_ONION:\r\n     case NET_I2P:\r\n-    case NET_CJDNS:\r\n     case NET_INTERNAL:\r\n         return addr == network;\r\n+    case NET_CJDNS:\r\n+        return addr.m_addr == network.m_addr;\r\n     case NET_UNROUTABLE:\r\n     case NET_MAX:\r\n         return false;\r\n     }\r\n \r\n     assert(network.m_addr.size() == addr.m_addr.size());\r\n```\r\n</details>\r\n\r\nNote also that the current PR also resolves two other issues, in addition to the banman one - listed as items in the OP.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1428383348",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "commented",
      "id": 1428473660,
      "node_id": "IC_kwDOABII585VJMc8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428473660",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T18:47:20Z",
      "updated_at": "2023-02-13T18:47:20Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I am not sure `IsReachable()` fits into that. It is not like that in `master` where there is the global variable `vfLimited[]`.\r\n\r\nYes, within `Node` it's still one of several global variables, so this is not a change wrt master.\r\nHowever, `vfLimited` wasn't accessed by the GUI because it wasn't part of `LookupSubnet()` before, while `g_reachable_nets` is. So I'm curious if this would work well together with multiprocess (see #10102, fyi @ryanofsky ).\r\nI think most of the data in `vfLimited` is determined during `init` and does not change later (so it might be initialised at the fork point?) - but `torcontrol` calling `SetReachable()` later could be an exception? ",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1428473660",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8507750577,
      "node_id": "MEE_lADOABII585eJVUczwAAAAH7Gfix",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8507750577",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T18:47:21Z"
    },
    {
      "event": "subscribed",
      "id": 8507750584,
      "node_id": "SE_lADOABII585eJVUczwAAAAH7Gfi4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8507750584",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-13T18:47:21Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8516019340,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAH7mCSM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8516019340",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-14T14:19:28Z"
    },
    {
      "event": "commented",
      "id": 1430090612,
      "node_id": "IC_kwDOABII585VPXN0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1430090612",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-14T17:09:19Z",
      "updated_at": "2023-02-14T17:09:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "`9b656a5...7a93d7b`: rebase and address suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1430090612",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "reviewed",
      "id": 1298409472,
      "node_id": "PRR_kwDOABII585NZCgA",
      "url": null,
      "actor": null,
      "commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK. (Edit: it looks like the fixed issues could use test coverage, if feasible.)",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1298409472",
      "submitted_at": "2023-02-14T21:14:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T09:32:01Z",
      "updated_at": "2023-02-15T09:32:01Z",
      "source": {
        "issue": {
          "id": 541055269,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzU1NzgwNTc3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17783",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17783/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17783/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17783/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/17783",
          "number": 17783,
          "state": "open",
          "state_reason": null,
          "title": "util: Fix -norpcwhitelist, -norpcallowip, and similar corner case behavior",
          "body": "**This is based on #16545 + #17580.** The non-base commits are:\r\n\r\n- [`a746ae052004` Fix nonsensical -norpcwhitelist, -norpcallowip and related behavior](https://github.com/bitcoin/bitcoin/pull/17783/commits/a746ae0520048f6290fb06347d4d303df4c1ccde)\r\n- [`f59bfafcc8f3` Fix nonsensical bitcoin-cli -norpcwallet behavior](https://github.com/bitcoin/bitcoin/pull/17783/commits/f59bfafcc8f3bf73d9e5c70669fff354f29b261b)\r\n\r\n---\r\n\r\nMake negating list options act the same as not specifying list options for `-norpcallowip`, `-norpcbind`, `-nobind`, `-nowhitebind`, `-noconnect`, `-noexternalip`, `-noonlynet`, `-nosignetchallenge`, `-nosignetseednode`, `-norpcwallet`. Instead of using `IsArgSet()` use `!GetArgs().empty()` so negation does not produce unexpected side effects, which are detailed in commit messages.",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17783",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/17783",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/17783.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/17783.patch"
          },
          "created_at": "2019-12-20T15:36:53Z",
          "updated_at": "2023-05-09T16:37:43Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8528316171,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAH8U8cL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8528316171",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T17:05:33Z"
    },
    {
      "event": "commented",
      "id": 1431696802,
      "node_id": "IC_kwDOABII585VVfWi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431696802",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-15T17:05:47Z",
      "updated_at": "2023-02-15T17:05:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "`7a93d7b0f9...8991ed2c6e`: address suggestions",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1431696802",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "reviewed",
      "id": 1300143653,
      "node_id": "PRR_kwDOABII585Nfp4l",
      "url": null,
      "actor": null,
      "commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 8991ed2c6e38a35199725b6296a615733f948f87\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1300143653",
      "submitted_at": "2023-02-15T19:06:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "commented",
      "id": 1432702025,
      "node_id": "IC_kwDOABII585VZUxJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1432702025",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-16T08:29:57Z",
      "updated_at": "2023-02-16T08:29:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "Just thinking aloud:\r\n\r\n1. Subnetting does not make sense for tor/i2p/cjdns\r\n2. `BanMan` entries are always subnets (`CSubNet` objects), even for single host bans\r\n\r\nIt follows that banman is doing something that does not make sense (e.g. subnetting tor). This is the root of the problem. I think if that is eradicated, then the rest will untangle by itself.\r\n\r\nWhat this means - store two ban maps in `BanMan` - one for single hosts and one for subnets (only for IPv[46] subnets). This way also lookup will be faster for single hosts - if a hash table is used for the single host bans, then lookup will be `O(1)`. Right now we iterate over all ban entries and check if `CSubNet::Match()` is `true` (which is `O(number of bans)`).\r\n\r\nHmm...",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1432702025",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "commented",
      "id": 1435079192,
      "node_id": "IC_kwDOABII585ViZIY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435079192",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-17T18:34:23Z",
      "updated_at": "2023-02-17T18:34:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Subnetting does not make sense for tor/i2p/cjdns\r\n> It follows that banman is doing something that does not make sense (e.g. subnetting tor). This is the root of the problem. I think if that is eradicated, then the rest will untangle by itself.\r\n\r\n`CConnman::DisconnectNode` also handles addresses as subnets. Is this a problem?\r\n\r\n \r\n",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1435079192",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "labeled",
      "id": 8550139093,
      "node_id": "LE_lADOABII585eJVUczwAAAAH9oMTV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8550139093",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-17T19:08:42Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1437113256,
      "node_id": "IC_kwDOABII585VqJuo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1437113256",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-20T14:30:06Z",
      "updated_at": "2023-02-20T14:30:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "> `CConnman::DisconnectNode` also handles addresses as subnets. Is this a problem?\r\n\r\nWell, it works, but since it does something nonsensical (e.g. subnetting tor) it could be a source of confusion or ultimately, bugs. IMO it shouldn't be doing that. I think the existence and implementation of `CConnman::DisconnectNode(const CSubNet& subnet)` is ok - it will/should disconnect any IPv[46] address that matches the given IPv[46] subnet. But this one:\r\n\r\n```cpp\r\nbool CConnman::DisconnectNode(const CNetAddr& addr)\r\n{\r\n    return DisconnectNode(CSubNet(addr));\r\n}\r\n```\r\n\r\nwould better iterate `m_nodes` and check for equality between the given `addr` and `CNode::addr`.\r\n\r\nI will try to allow only IPv[46] `CSubNet`s and see if everything blows up in a spectacular way... :bomb: :confetti_ball: ",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1437113256",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "reviewed",
      "id": 1306226674,
      "node_id": "PRR_kwDOABII585N22_y",
      "url": null,
      "actor": null,
      "commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "> It follows that banman is doing something that does not make sense (e.g. subnetting tor). This is the root of the problem.\r\n\r\nNot sure if I agree that this is the root of the problem - I think conceptually it's fine to internally treat single addresses as a special case of a subnet (like `<ipv4>/32 or <ipv6>/128`), and just prevent nonsensical things during user input.\r\n\r\nIn my opinion, the root of the problem is that `fc...` addresses are sometimes interpreted as CJDNS, and sometimes as IPv6, depending on startup options. Since large parts of the networking code were designed before CJDNS support was introduced, this makes workarounds like `MaybeFlipIPv6toCJDNS()` and global availability of reachability necessary.\r\n\r\nHowever, I still feel strongly that having a global, non-constant variable shared by the GUI and node is something we should absolutely avoid. \r\nAnother possibility to achieve this would be to  pass a bool `cjdnsreachable` as a variable to `LookupSubNet()` and add `IsReachable()` to `node/interfaces.cpp`. With this, there could still be a global `g_reachable_nets` used for the call sites within `node`, but the information to the GUI would flow through the interface.\r\nA similar approach was chosen for the proxy, which is also state from `netbase`: The GUI code calls `getProxy` from `node/interfaces`, which then calls `GetProxy()` to retrieve the proxy info from `netbase`. The GUI doesn't use `GetProxy()` directly.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1306226674",
      "submitted_at": "2023-02-20T18:46:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8602301507,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAIAvLRD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602301507",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T14:15:17Z"
    },
    {
      "event": "unlabeled",
      "id": 8602815884,
      "node_id": "UNLE_lADOABII585eJVUczwAAAAIAxI2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602815884",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:04:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8602989326,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAIAxzMO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602989326",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:19:28Z"
    },
    {
      "event": "commented",
      "id": 1443837012,
      "node_id": "IC_kwDOABII585WDzRU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1443837012",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:20:04Z",
      "updated_at": "2023-02-24T15:29:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "`8991ed2c6e...c2a86ba667`: rebase due to conflicts and address suggestion\r\n\r\nInvalidates ACK from @jonatack \r\n\r\n@mzumsande, actually there are two problems - I am talking about Tor subnets and you are talking about a global variable used by the GUI. I will try to mimic the proxy in order to address the latter.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1443837012",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8602994987,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIAx0kr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602994987",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:20:05Z"
    },
    {
      "event": "subscribed",
      "id": 8602995007,
      "node_id": "SE_lADOABII585eJVUczwAAAAIAx0k_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8602995007",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:20:05Z"
    },
    {
      "event": "mentioned",
      "id": 8603100728,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIAyOY4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8603100728",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:29:41Z"
    },
    {
      "event": "subscribed",
      "id": 8603100746,
      "node_id": "SE_lADOABII585eJVUczwAAAAIAyOZK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8603100746",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T15:29:41Z"
    },
    {
      "event": "commented",
      "id": 1443962823,
      "node_id": "IC_kwDOABII585WER_H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1443962823",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T16:30:01Z",
      "updated_at": "2023-02-24T16:31:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I will try to mimic the proxy in order to address the latter.\r\n\r\nIn case you plan to do that, or the Tor subnets issue, in a follow-up:\r\n\r\nre-ACK c2a86ba6674008996552830877d66a1bf888fad1 per `git range-diff be2e748 8991ed2 c2a86ba6`\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1443962823",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "commented",
      "id": 1456152963,
      "node_id": "IC_kwDOABII585WyyGD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456152963",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T13:38:35Z",
      "updated_at": "2023-03-06T13:38:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "@mzumsande, it is possible to avoid calling `LookupSubNet()` from the GUI, see https://github.com/bitcoin-core/gui/pull/717. If that gets merged then this PR will be simplified - no need to touch the GUI code from here.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1456152963",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8674419840,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIFCSSA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8674419840",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T13:38:35Z"
    },
    {
      "event": "subscribed",
      "id": 8674419859,
      "node_id": "SE_lADOABII585eJVUczwAAAAIFCSST",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8674419859",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T13:38:35Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T13:39:54Z",
      "updated_at": "2023-03-06T13:39:54Z",
      "source": {
        "issue": {
          "id": 1611429684,
          "node_id": "PR_kwDOEEET9c5LXn_f",
          "url": "https://api.github.com/repos/bitcoin-core/gui/issues/717",
          "repository_url": "https://api.github.com/repos/bitcoin-core/gui",
          "labels_url": "https://api.github.com/repos/bitcoin-core/gui/issues/717/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/gui/issues/717/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/gui/issues/717/events",
          "html_url": "https://github.com/bitcoin-core/gui/pull/717",
          "number": 717,
          "state": "closed",
          "state_reason": null,
          "title": "Use the stored CSubNet entry when unbanning",
          "body": "The previous code visualized the `CSubNet` object as string, then parsed that string back to `CSubNet`. This is sub-optimal given that the original `CSubNet` object can be used directly instead.\r\n\r\nThis avoids calling `LookupSubNet()` from the GUI.\r\n",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/gui/pulls/717",
            "html_url": "https://github.com/bitcoin-core/gui/pull/717",
            "diff_url": "https://github.com/bitcoin-core/gui/pull/717.diff",
            "patch_url": "https://github.com/bitcoin-core/gui/pull/717.patch"
          },
          "closed_at": "2023-03-09T13:49:37Z",
          "created_at": "2023-03-06T13:27:21Z",
          "updated_at": "2023-05-16T14:47:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1462108897,
      "node_id": "IC_kwDOABII585XJgLh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462108897",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-09T13:54:56Z",
      "updated_at": "2023-03-09T13:54:56Z",
      "author_association": "MEMBER",
      "body": "> @mzumsande, it is possible to avoid calling `LookupSubNet()` from the GUI, see [bitcoin-core/gui#717](https://github.com/bitcoin-core/gui/pull/717). If that gets merged then this PR will be simplified - no need to touch the GUI code from here.\r\n\r\nhttps://github.com/bitcoin-core/gui/pull/717 has just been merged.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1462108897",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8708419248,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIHD-6w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8708419248",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-09T13:54:56Z"
    },
    {
      "event": "subscribed",
      "id": 8708419273,
      "node_id": "SE_lADOABII585eJVUczwAAAAIHD-7J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8708419273",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-09T13:54:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8758311522,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAIKCTpi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8758311522",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:39:06Z"
    },
    {
      "event": "commented",
      "id": 1470477392,
      "node_id": "IC_kwDOABII585XpbRQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1470477392",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:41:30Z",
      "updated_at": "2023-03-15T17:59:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "`c2a86ba667...fcd4d34b96`: rebase even though it is not strictly necessary. Now (after https://github.com/bitcoin-core/gui/pull/717 is merged) the GUI does not call `LookupSubNet()`.\r\n\r\nInvalidates ACK from @jonatack\r\n\r\nI still think not using `CSubNet` for Tor, I2P and CJDNS (which are not sub-nettable) makes sense and should be done. That looks like a bigger change and can be done after this PR or independently of it. It would Introduce a class that holds a list of addresses:\r\n\r\n```cpp\r\nclass NetAddrList\r\n{\r\npublic:\r\n    bool Contains(const CNetAddr& addr) const;\r\n\r\n    void InsertAddr(const CNetAddr& addr);\r\n\r\n    void InsertSubnet(const CSubNet& subnet); // must be only IPv4 or IPv6\r\n\r\nprivate:\r\n    std::unordered_set<CSubNet> m_subnets;\r\n    std::unordered_set<CNetAddr> m_addresses;\r\n}\r\n```\r\n\r\nand use that in some (all?) places where `CSubNet` is used now. `LookupSubNet()` should be changed to check if the input contains `/`, then require it to be IP subnet - that is, return either `CSubNet` or `CNetAddr` or maybe have that as a method of the above `NetAddrList`: `void InsertString(const std::string& addr)` which would add an entry to `m_subnets` or `m_addresses`.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1470477392",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "mentioned",
      "id": 8758333270,
      "node_id": "MEE_lADOABII585eJVUczwAAAAIKCY9W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8758333270",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:41:30Z"
    },
    {
      "event": "subscribed",
      "id": 8758333294,
      "node_id": "SE_lADOABII585eJVUczwAAAAIKCY9u",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8758333294",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-15T17:41:31Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-31T17:36:45Z",
      "updated_at": "2023-03-31T17:36:45Z",
      "source": {
        "issue": {
          "id": 1647804131,
          "node_id": "PR_kwDOABII585NRZKe",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27374",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27374/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27374/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27374/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27374",
          "number": 27374,
          "state": "closed",
          "state_reason": null,
          "title": "p2p: skip netgroup diversity of new connections for tor/i2p/cjdns",
          "body": "Follow up for #27264.\r\n\r\nIn order to make sure that our persistent outbound slots belong to different netgroups, distinct net groups of our peers are added to `setConnected`. We’d only open a persistent outbound connection to peers which have a different netgroup compared to those netgroups present in `setConnected`.\r\n\r\nCurrent `GetGroup()` logic assumes route-based diversification behaviour for tor/i2p/cjdns addresses (addresses are public key based and not route-based). Distinct netgroups possible (according to the current `GetGroup()` logic) for:\r\n1. tor => 030f, 031f, .. 03ff (16 possibilities)\r\n2. i2p => 040f, 041f, .. 04ff (16 possibilities)\r\n3. cjdns => 05fc0f, 05fc1f, ... 05fcff (16 possibilities)\r\n\r\n`setConnected` is used in `ThreadOpenConnections()` before making [outbound](https://github.com/bitcoin/bitcoin/blob/84f4ac39fda7ffa5dc84e92d92dd1eeeb5e20f8c/src/net.cpp#L1846) and [anchor](https://github.com/bitcoin/bitcoin/blob/84f4ac39fda7ffa5dc84e92d92dd1eeeb5e20f8c/src/net.cpp#L1805) connections to new peers so that they belong to distinct netgroups.\r\n\r\n**behaviour on master**\r\n\r\n- if we run a node only on tor/i2p/cjdns\r\n\t- we wouldn't be able to open more than 16 outbound connections(manual, block-relay-only anchor, outbound full relay, block-relay-only connections) because we run out of possible netgroups.\r\n\t- see https://github.com/bitcoin/bitcoin/pull/27264#issuecomment-1481322628\r\n\t- tested by changing `MAX_OUTBOUND_FULL_RELAY_CONNECTIONS` to 17 with `onlynet=onion` and observed how node wouldn't make more than 16 outbound connections.\r\n\r\n**behaviour on PR**\r\n\r\n- netgroup diversity checks are skipped for tor/i2p/cjdns addresses. \r\n- we don't insert tor/i2p/cjdns address in `setConnected` and `GetGroup` doesn't get called on tor/i2p/cjdns(see #27369)\r\n",
          "user": {
            "login": "stratospher",
            "id": 44024636,
            "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
            "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stratospher",
            "html_url": "https://github.com/stratospher",
            "followers_url": "https://api.github.com/users/stratospher/followers",
            "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
            "organizations_url": "https://api.github.com/users/stratospher/orgs",
            "repos_url": "https://api.github.com/users/stratospher/repos",
            "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stratospher/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/56",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/56",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/56/labels",
            "id": 7733968,
            "node_id": "MI_kwDOABII584AdgLQ",
            "number": 56,
            "state": "closed",
            "title": "25.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 38,
            "created_at": "2022-03-03T18:51:29Z",
            "updated_at": "2023-05-25T13:24:42Z",
            "closed_at": "2023-05-25T13:24:42Z"
          },
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27374",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27374",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27374.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27374.patch"
          },
          "closed_at": "2023-04-13T22:22:15Z",
          "created_at": "2023-03-30T14:59:39Z",
          "updated_at": "2023-04-14T19:19:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1371196157,
      "node_id": "PRR_kwDOABII585Rusr9",
      "url": null,
      "actor": null,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1371196157",
      "submitted_at": "2023-04-04T15:00:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-13T01:33:28Z",
      "updated_at": "2023-04-13T01:33:28Z",
      "source": {
        "issue": {
          "id": 1652681372,
          "node_id": "PR_kwDOABII585NhcBe",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27411",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27411/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27411/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27411/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27411",
          "number": 27411,
          "state": "closed",
          "state_reason": null,
          "title": "p2p: Restrict self-advertisements with privacy networks to avoid fingerprinting",
          "body": "The current logic for self-advertisements works such that we detect as many local addresses as we can, and then, using the scoring matrix from `CNetAddr::GetReachabilityFrom()`, self-advertise with the address that fits best to our peer.\r\nIt is in general not hard for our peers to distinguish our self-advertisements from other addrs we send them, because we self-advertise every ~24h and because the first addr we send over a connection is likely our self-advertisement. \r\n\r\n`GetReachabilityFrom()` currently only takes into account actual reachability, but not whether we'd _want_ to announce our identity for one network to peers from other networks, which is not straightforward in connection with privacy networks. \r\n\r\nWhile the general approach is to prefer self-advertising with the address for the network our peer is on, there are several special situations in which we don't have one, and as a result could allow self-advertise other local addresses, for example:\r\n\r\nA) We run i2p and clearnet, use `-i2pacceptincoming=0` (so we have no local i2p address), and we have a local ipv4 address. In this case, we'd advertise the ipv4 address to our outbound i2p peers.\r\n\r\nB) Our `-discover` logic cannot detect any local clearnet addresses in our network environment, but we are actually reachable over clearnet. If we ran bitcoind clearnet-only, we'd always advertise the address our peer sees us with instead, and could get inbound peers this way. Now, if we also have an onion service running (but aren't using tor as a proxy for clearnet connections), we could advertise our onion address to clearnet peers, so that they would be able to connect our clearnet and onion identities. \r\n\r\nThis PR tries to avoid these situations by \r\n1.) never advertising our local Tor or I2P address to peers from other networks.\r\n2.) never advertising local addresses from non-anonymity networks to peers from Tor or I2P\r\n\r\nNote that this affects only our own self-advertisements, the rules to forward other people's addrs are not changed.\r\n\r\n[Edit] after Initial [discussion](https://github.com/bitcoin/bitcoin/pull/27411#issuecomment-1497176155): CJDNS is not being treated like Tor and I2P at least for now, because it has different privacy properties and for the practical reason that it has still very few bitcoin nodes.\r\n",
          "user": {
            "login": "mzumsande",
            "id": 48763452,
            "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mzumsande",
            "html_url": "https://github.com/mzumsande",
            "followers_url": "https://api.github.com/users/mzumsande/followers",
            "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
            "organizations_url": "https://api.github.com/users/mzumsande/orgs",
            "repos_url": "https://api.github.com/users/mzumsande/repos",
            "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/mzumsande/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27411",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27411",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27411.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27411.patch"
          },
          "closed_at": "2023-07-13T17:51:24Z",
          "created_at": "2023-04-03T19:56:42Z",
          "updated_at": "2023-07-14T18:18:56Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-13T22:16:04Z",
      "updated_at": "2023-04-13T22:16:04Z",
      "source": {
        "issue": {
          "id": 1648191920,
          "node_id": "PR_kwDOABII585NSsIR",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27375",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27375/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27375/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27375/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27375",
          "number": 27375,
          "state": "open",
          "state_reason": null,
          "title": "net: support unix domain sockets for -proxy and -onion",
          "body": "Closes https://github.com/bitcoin/bitcoin/issues/27252\r\n\r\nUNIX domain sockets are a mechanism for inter-process communication that are faster than local TCP ports (because there is no need for TCP overhead) and potentially more secure because access is managed by the filesystem instead of serving an open port on the system.\r\n\r\nThere has been work on [unix domain sockets before](https://github.com/bitcoin/bitcoin/pull/9979) but for now I just wanted to start on this single use-case which is enabling unix sockets from the client side, specifically connecting to a local Tor proxy (Tor can listen on unix sockets and even enforces strict curent-user-only access permission before binding) configured by `-onion=` or `-proxy=`\r\n\r\nI copied the prefix `unix:` usage from Tor. With this patch built locally you can test with your own filesystem path (example):\r\n\r\n`tor --SocksPort unix:/Users/matthewzipkin/torsocket/x`\r\n\r\n`bitcoind -proxy=unix:/Users/matthewzipkin/torsocket/x`\r\n\r\nPrep work for this feature includes:\r\n- Moving where and how we create `sockaddr` and `Sock` to accommodate `AF_UNIX` without disturbing `CService`\r\n- Expanding `Proxy` class to represent either a `CService` or a UNIX socket (by its file path)\r\n\r\nFuture work:\r\n- Enable UNIX sockets for ZMQ (https://github.com/bitcoin/bitcoin/pull/27679)\r\n- Enable UNIX sockets for I2P SAM proxy (some code is included in this PR but not tested or exposed to user options yet)\r\n- Enable UNIX sockets on windows where supported\r\n- Update Network Proxies dialog in GUI to support UNIX sockets\r\n",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27375",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27375",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27375.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27375.patch"
          },
          "created_at": "2023-03-30T19:29:32Z",
          "updated_at": "2023-07-19T16:32:29Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1391138211,
      "node_id": "PRR_kwDOABII585S6xWj",
      "url": null,
      "actor": null,
      "commit_id": "fcd4d34b9633288262ca6c70243c0e059a641120",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "ewiseg",
        "id": 110210038,
        "node_id": "U_kgDOBpGr9g",
        "avatar_url": "https://avatars.githubusercontent.com/u/110210038?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ewiseg",
        "html_url": "https://github.com/ewiseg",
        "followers_url": "https://api.github.com/users/ewiseg/followers",
        "following_url": "https://api.github.com/users/ewiseg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ewiseg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ewiseg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ewiseg/subscriptions",
        "organizations_url": "https://api.github.com/users/ewiseg/orgs",
        "repos_url": "https://api.github.com/users/ewiseg/repos",
        "events_url": "https://api.github.com/users/ewiseg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ewiseg/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1391138211",
      "submitted_at": "2023-04-19T01:30:15Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T01:11:22Z",
      "updated_at": "2023-04-21T01:11:22Z",
      "source": {
        "issue": {
          "id": 1677432252,
          "node_id": "PR_kwDOABII585Ozh_T",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27505",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27505/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27505/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27505/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27505",
          "number": 27505,
          "state": "closed",
          "state_reason": null,
          "title": "net: use interruptible async getaddrinfo wrapper from libevent for DNS",
          "body": "Closes https://github.com/bitcoin/bitcoin/issues/16778\r\n\r\nBitcoin uses `getaddrinfo` to make DNS requests for DNS seed servers and for adding peers with `-addnode`, `-seednode` and `-connect`. Depending on the platform this can be clunky and a system issue could prevent name resolution from completing at all, blocking the thread and in some cases preventing a clean shutdown.\r\n\r\nAn attempt was made to switch to the asynchronous `getaddrinfo_a` in https://github.com/bitcoin/bitcoin/pull/4421 but that was reverted in https://github.com/bitcoin/bitcoin/pull/9229 after discovering that function has a segfault!\r\n\r\nTaking BlueMatt's suggestion in https://github.com/bitcoin/bitcoin/pull/10215#issue-221886328, this PR modifies our `g_dns_lookup` function to use `evdns_getaddrinfo()` from [libevent](https://libevent.org/libevent-book/Ref9_dns.html). This is an asynchronous function but I've implemented it in a polling loop so it still blocks -- but now will timeout after 2 seconds.\r\n\r\nTODO:\r\n- [ ] We could make the polling loop interruptible but I'm not sure the best approach to that, since these functions don't live in a class with a flag like `interruptNet` \r\n- [ ] Is it possible to add functional tests that mess with DNS? Probably not.\r\n- [ ] The unit test I added makes a live DNS request for `nic.com` that test will fail the platform has no DNS\r\n\r\nFuture work:\r\n- libevent has more low-level DNS functions as well, we could ultimately use those to (for example) request `TXT` records with onion addresses from our DNS seeders\r\n\r\n",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27505",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27505",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27505.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27505.patch"
          },
          "closed_at": "2023-05-02T18:29:36Z",
          "created_at": "2023-04-20T21:07:11Z",
          "updated_at": "2023-05-02T18:29:37Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-02T22:45:50Z",
      "updated_at": "2023-05-02T22:45:50Z",
      "source": {
        "issue": {
          "id": 1692901383,
          "node_id": "PR_kwDOABII585PnKTi",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27557",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27557/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27557/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27557/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27557",
          "number": 27557,
          "state": "open",
          "state_reason": null,
          "title": "net: call getaddrinfo() in detachable thread to prevent stalling",
          "body": "Closes https://github.com/bitcoin/bitcoin/issues/16778\r\nReplaces https://github.com/bitcoin/bitcoin/pull/27505\r\n\r\nThe library call `getaddrinfo()` has no internal timeout and depending on the user's system may wait indefinitely for a response when looking up a hostname in the DNS. By making that call in a separate thread, we can abandon it completely after some timeout (currently in this PR, 2 seconds).\r\n\r\nTODO:\r\n\r\n- [ ] We could make the polling loop interruptible but I'm not sure the best approach to that, since these functions don't live in a class with a flag like interruptNet\r\n\r\n\r\n",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27557",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27557",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27557.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27557.patch"
          },
          "created_at": "2023-05-02T18:28:32Z",
          "updated_at": "2023-07-14T04:18:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T01:40:19Z",
      "updated_at": "2023-05-17T01:40:19Z",
      "source": {
        "issue": {
          "id": 1712671682,
          "node_id": "PR_kwDOABII585QpmkI",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27679",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27679/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27679/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27679/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27679",
          "number": 27679,
          "state": "open",
          "state_reason": null,
          "title": "ZMQ: Support UNIX domain sockets",
          "body": "This is a follow-up to https://github.com/bitcoin/bitcoin/pull/27375, allowing ZMQ notifications to be published to a UNIX domain socket, adding one more commit.\r\n\r\nFortunately, libzmq handles unix sockets already, all we really have to do to support it is allow the format in the actual option. libzmq uses the prefix `ipc://` as opposed to `unix:` which is used by Tor and by #27375 so, for now I'm testing with both being allowed. \r\n\r\nExample:\r\n\r\n`bitcoind -zmqpubhashblock=ipc:///tmp/subscriber_socket`",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27679",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27679",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27679.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27679.patch"
          },
          "created_at": "2023-05-16T20:08:15Z",
          "updated_at": "2023-07-27T21:16:25Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 9380262714,
      "node_id": "LE_lADOABII585eJVUczwAAAAIvG3M6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9380262714",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-30T15:55:28Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhYjAwNDcyMTk1Mjc4MDY4Y2JlZTVhOGZmMjk0MjNmMjRhODUwNjM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab00472195278068cbee5a8ff29423f24a85063",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fab00472195278068cbee5a8ff29423f24a85063",
      "tree": {
        "sha": "ea0a16da855761852a36a46f096d57db5a9e1232",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ea0a16da855761852a36a46f096d57db5a9e1232"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ea0a16da855761852a36a46f096d57db5a9e1232\nparent 2026301405f83c925ca68db6a3cd5134ed619ca7\nauthor Vasil Dimov <vd@FreeBSD.org> 1676471183 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1686211027 +0200\n\nnet: put CJDNS prefix byte in a constant\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSBidMACgkQVN8G9ktV\ny7/NOh//RncRXba2Ktax+eYb6bUcpUW2JEVIcWW7RZMXmc7j9MXbwYJL47bFL28n\nvnNgLhhex7p7P/N9QqVX4YytrZlmBs7ZzhZSSlKCPXrCoQeaki32PmJruVd+kds5\n6VrSw1beWHGxKwn7EP7EKo/oWekJAea4SqfyRlzpblOFj4ffcpQmG9Z3GVlA5nNq\nTYV82DjPH+7B95hxb61xj6cieVT15r/9zAQRgteaCJ4gN7jNA4Vg8EC+GPITbRqi\nyawmUnaxpiy/YbJv2KXm/qgGXhUfzUABbSezu7KnCQkWH8UpPKcxXttjX8XbuIHl\nI/gboysoxPQApFjOSRt8nkwQ9+t81GDFNxjpX4oM8CRS7/24qydykre41nq+kXdO\nMgUkv0H6mecgCkCq6K22XH6uJb7LxrbbVxXWQdDGpLnZgJMqmQvAfYkC4q+qo70D\nKxGY4EdsuZ1H9svt/ZP9kC0GeBDS/q3hMK0imZvXdieHxgFps/zZ7CVpXnV8sg6B\nXIrr6KLDh0YXX7NKmsMGRNiqH7ZwvJJw0xkMd0hb2hVNoWkl/xqqrJsr7ZaLr/Vv\nO1Ynd6q5qUTZJgej5dVf+Wapi8LEmTC51nibykFaLX4yoo01T1DC9XluTSxvTPIe\neOEGFtIkBI5Yloie3FW9h+Zs+DtrW7aOS4ZlRy2okborYr1SjgjGHKvN9XZrLnO0\nGCg54Dpx+p1kSj0g8C/OHWpnN+pCSZZZn3fvjJYzBw8QSHkiqCc8P7/Ul9ecEmeq\nGj1rG3gQ33r4zZVM4BscjMwFWA4iPzgbyPrEz9MGBDcHY/n2ethgkh/sLt7Ml6SJ\n7rSnUpYHJ/+BjhanuO8f0VWCmXaIHOxJTLl+l5YZQuEHcCBUdsckBsrn6jF5lcfz\nKNfH2BxRIOLDX2lZl52Fyux8K6l9gFPbG0qJg3p2H+uhZJdGAxGGVUjM7t3HDtXl\nNCvlKUKpUVMay0Pb0QTGNVEHdOhA+iKL5jFtEraYWh8AluGOyWDDMN3CM+/1rdd/\nhzzIEgjuBarvx8y4GVnm2VwIsFpfJGVR764IAhOTp2YdzHpNx0xbVTMubqT4Py69\nxSW9IuIlS7nFwHhsVNjeD+S1iVI8VpV3TNzmzXpZiCJ5JKBU1uSmiLqav/t91SfX\nmXRC+b/Vv+cyRcZZIwHODK7wqrP0BTLAO+QeD1AtJnTBqeUEkNblI++2IYpnqO+k\nNM829ScTiRjm/XmAtkVbVfsRdlWi4H7s/SvT8KKYygWbj6AEH/qxUYXu4re10pOh\nemSVQVVmjWXKjflJgnZ0aExcTsNpIGE+fBZs5UyXsZUD4UeSdUJn3r1QpYiWKzn6\n/qlHxigzRqx3d3teBJQrJ3X22T4D5w==\n=WnLE\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2026301405f83c925ca68db6a3cd5134ed619ca7",
          "sha": "2026301405f83c925ca68db6a3cd5134ed619ca7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2026301405f83c925ca68db6a3cd5134ed619ca7"
        }
      ],
      "message": "net: put CJDNS prefix byte in a constant",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-08T07:57:07Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-15T14:26:23Z"
      },
      "sha": "fab00472195278068cbee5a8ff29423f24a85063"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDViZjViMzFhOGVmMzVmNzIyM2ZmMzRlMWRiODNlMmY0YTczMWZlZmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5bf5b31a8ef35f7223ff34e1db83e2f4a731fefc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5bf5b31a8ef35f7223ff34e1db83e2f4a731fefc",
      "tree": {
        "sha": "9b1d734fcd7da2e88c61acfdaf92989ee24d64f9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9b1d734fcd7da2e88c61acfdaf92989ee24d64f9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9b1d734fcd7da2e88c61acfdaf92989ee24d64f9\nparent fab00472195278068cbee5a8ff29423f24a85063\nauthor Vasil Dimov <vd@FreeBSD.org> 1675947821 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1686211031 +0200\n\nfuzz: ConsumeNetAddr(): avoid IPv6 addresses that look like CJDNS\n\nThe fuzz testing framework runs as if `-cjdnsreachable` is set and in\nthis case addresses like `{net=IPv6, addr=fc...}` are not possible.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSBidgACgkQVN8G9ktV\ny7+upB//fB1a7aMRwN1aMGWTWdmWu09oU5LvhlnQGrUWrQitCpdX0m+ZR/+EeRZy\n4NcWGQ0npea+HgrxbVscXVsMAj56e733r371uuZvRcqOd6TFsJX65exo1WMisCKW\nXoeISWXkxXIns/E9npeWNzeO5nBl226ht/TqgFM80YTX0SVzRPoclQYVo0lPWae+\nQZ03wWrqVCyZkJz1CBv0Xf4RMAxkgfSwtV4OX4ZkT4Dw8lA8bxez0ZKE2D3qhYEt\n1C3uklFRmflJtQqUk8pKqGrNlGPzH4md68NcrylQJm3BzM3qr0f+vetQyLRBP49e\negI13ZDV6RgHMFCeps7OuFNXI6/vbURncyeeEBWHnruflqxQducFPSEJRVEvLxyL\nB/z7kJLaiZLEK7bscwd09MXaTZrh1DmgflQ+8iQ3DjBKz51SNmbMJkMzsocOn4/q\nyLEQiyRmN7ABrcwN1g12snOBfUsnPLt0dMNMs1bityLZdDnaV+ArZWiS2XyMiyoq\np0wlKJ/C6N+2ukWHzDlplzwj3CElHMpppIRf9TI+zKxSe/KuUMp9TieKso6ycLMg\ngCBRB4cKSEGIXxLzUMkNjEtnA8qRH9h5D8JUkUYtgy3PcLdi+LWKtYJ2SPp50daL\ns/S0X0H1ct57aQilKCoLnp990FjoAbMiLLBowy0N8r3Ff5APexDmcFYSbQbCE9TK\n24nFygJx1klozoG8FHEFFYYNN5WH8uSb3k3K1ECJMXVZGbei9e6MgOnqI6xpgpYD\nFhAO/UAomTNqBYSCyMzIxUnFkgPdQdHBVXKQu3k9NW+4C1VdSaFKjgOUwInX5FBI\nCa6w+iROgWK8JLNuo1biNGgafNvf6Ff8aMZETINP5Hi7vOPv0tx4OoTY8EZhbXO/\nxptyyUx7BclvR+E87/xOfDAnoHtHrbX28jd6iqLMO4X+oxZ8WwxLMtZH4oP6QjM7\nM5BMzaoxzm1NQjuxb0fmTgL18CmcTWwAxWFIJd5SqV94HJniilU6ujpJ3pSvuNfQ\nrvnM1CKrDK7UbYVtjTnO9ZWaWIQKFIn4Lk0MrbEbdsqR8uqknC3jHMgg8b3vb0iY\nmEdMPPe+QWsCbRvOxTJfLaK8J2KJdqH/g9eyanvXmfvtXz2Xb0Vit0v4IKLwb7Bc\nc4iN29jEywPtN2vkBWvgNDWnIgEc0t69sf4C+639dREp2sgmkgYPadth+tkNud2l\nkVH0BCS8x9BF/ORWTbluLnKMffooKyhaWtzwJzS390Vzb1DR0zmA9kwVHOmAaUeW\n6NWjFD4Im7jXNhvpIuMHuuJk0CMXw8iJz0ncUEYPuCprHugsApzwNcAFbSusPq8X\ntK4gxFhyMfz5BsavWJRpRE9QszGObg==\n=XmYY\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab00472195278068cbee5a8ff29423f24a85063",
          "sha": "fab00472195278068cbee5a8ff29423f24a85063",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fab00472195278068cbee5a8ff29423f24a85063"
        }
      ],
      "message": "fuzz: ConsumeNetAddr(): avoid IPv6 addresses that look like CJDNS\n\nThe fuzz testing framework runs as if `-cjdnsreachable` is set and in\nthis case addresses like `{net=IPv6, addr=fc...}` are not possible.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-08T07:57:11Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-09T13:03:41Z"
      },
      "sha": "5bf5b31a8ef35f7223ff34e1db83e2f4a731fefc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIyYTc0YTg2NjkxYmNjZmVjNWRmNzhjMWU1Y2E5N2E5ZjllMzQyZTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b2a74a86691bccfec5df78c1e5ca97a9f9e342e5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b2a74a86691bccfec5df78c1e5ca97a9f9e342e5",
      "tree": {
        "sha": "1e7d0cd07ebe6ae5bd41ff93aad4b2e6cbf5443d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1e7d0cd07ebe6ae5bd41ff93aad4b2e6cbf5443d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1e7d0cd07ebe6ae5bd41ff93aad4b2e6cbf5443d\nparent 5bf5b31a8ef35f7223ff34e1db83e2f4a731fefc\nauthor Vasil Dimov <vd@FreeBSD.org> 1675773037 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1686211032 +0200\n\nnet: move IsReachable() code to netbase and encapsulate it\n\n`vfLimited`, `IsReachable()`, `SetReachable()` need not be in the `net`\nmodule. Move them to `netbase` because they will be needed in\n`LookupSubNet()` to possibly flip the result to CJDNS (if that network\nis reachable).\n\nIn the process, encapsulate them in a class.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSBidkACgkQVN8G9ktV\ny791hh/9EJ2O+gBnkUwu6nJE3W3vYXPxTmtyO5MpLCEEqUFC3BFQN3dloZ4NYl/2\ngod4RUStgAZEsQdogYaQvLmC/Tv5Kh71jS+HLAURxkaU/EaNJARypRcPDHCQ4Aoj\nL5vB4y+PR5a15DG0gi9V2Q4aqhhyHUa2Y1s3xW34pzO2+LS8RKnz/8q45PL3APxQ\nc06nhnhffoOhD+cmfc1uuBFEkMjRxuVH0xLKRmCiAhb8OAwugS2XchSqhx6xqNPI\niLMPpyfspmkYknUOoUesL47yK9F+dFktjhuTn/tscIkdXLJoVO8S9Zfnluok1Ht1\nBMWDnKBSwS/QlSDSPGAYgQSmXa6SST/wCBW70km8JSnjCwBAe5jQvjPYWcnCjGD2\naD0vl1QN2BAY9iZEx18dWzhuJhrSSaYXwwVTP1sDYALL5Zpqk8uQ7tW0OYIkC2O6\nOyuQ8ozoQFhyNWputmVK8Dh/nGb/Hw5Vj0hydV5iKnBHHa1LCTft+yaJNKy70hH5\n0E6a/kO3PTP+pEcyOphckjcnEzPcGAd7Nvhf9O/xI7kUIG/qrHFgL1FJM/c/w7QK\nECzb+8I99GSWCMfQKV8Bon6JTuliOqxp1wmS00D/8RIdR2kNmu6+/wm/RnpJNLLe\n4Txsti30ccSATUoias+P73zVqompp3rt5pKZGSwlPzjyU49FX7zcCOds5c3h11PO\ngqrDOHAb1vkqbeYgFNXvXTfOdOyAM5OUk47kz1kvnEscSWXafgmdjad93g/GB4jH\n2PHuyMBw78GU7t2o0NdZbW4ETazSHxDGLsizznj+4jADo5iFx1+amwG87/Ae4dYX\nlP8EKZ8BH2+3BiAFs2Ye9irEVjj0F1eZCsogKTR2SyxIjp4QndsAi/xh2W01szXd\njAzrnTyCmDuNgzNaaT3Erv8l2UlOA8dYYkfHmNpzTh+GXV7lHliC/ljR3nevANJB\nFoPxIhZMkCDDRZ/ohJqxg/HqEXNVMzmWHfDPjwbeLLBzgCrZpeAJj2qf9mlgWVkO\nWYQhMfF6CY8N8jBjR/qOHiX06+BUn9S6TIgai8UkOpYH2zdLecxzoFHlDkCn44V+\nGaPJvSXbLvxPyhyhVR1Ri8u6YKpIqGcRuG8ztqs7BfluTyP41hpSiFfTxFNV39kT\nPahPFkKNtXPBP1qeD6y2kk5TWJrrNkXlgWyMIWcubw5NjtARkxwtVZ27DjXGFV+y\nCCedcY8PzP/jKeFuq5t/lIV6nB0Y5ooyGR8f45bPgk/SVj+ho14us0LUqICoUACI\nHUU+QpiHWoo8aMhOpuDyDIQiUNBoB1RQUXsTQFlyjlIQxhijaQS1k7jMrdWQdose\ncyThixW4mqNJMb7fV32QJLlQn67hBg==\n=a++s\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5bf5b31a8ef35f7223ff34e1db83e2f4a731fefc",
          "sha": "5bf5b31a8ef35f7223ff34e1db83e2f4a731fefc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5bf5b31a8ef35f7223ff34e1db83e2f4a731fefc"
        }
      ],
      "message": "net: move IsReachable() code to netbase and encapsulate it\n\n`vfLimited`, `IsReachable()`, `SetReachable()` need not be in the `net`\nmodule. Move them to `netbase` because they will be needed in\n`LookupSubNet()` to possibly flip the result to CJDNS (if that network\nis reachable).\n\nIn the process, encapsulate them in a class.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-08T07:57:12Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T12:30:37Z"
      },
      "sha": "b2a74a86691bccfec5df78c1e5ca97a9f9e342e5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE0NzJiZDI0NjJlNzE5OWJiYTk2Y2ViNDlkMjA0NjJkNzUwNTQzYWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1472bd2462e7199bba96ceb49d20462d750543ae",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1472bd2462e7199bba96ceb49d20462d750543ae",
      "tree": {
        "sha": "6790db7b4eae9bbc78a71a58806201737a0757e4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6790db7b4eae9bbc78a71a58806201737a0757e4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6790db7b4eae9bbc78a71a58806201737a0757e4\nparent b2a74a86691bccfec5df78c1e5ca97a9f9e342e5\nauthor Vasil Dimov <vd@FreeBSD.org> 1675779201 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1686211033 +0200\n\nnet: move MaybeFlipIPv6toCJDNS() from net to netbase\n\nIt need not be in the `net` module and we need to call it from\n`LookupSubNet()`, thus move it to `netbase`.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSBidkACgkQVN8G9ktV\ny79EaB/5AX5Caya3o9aIuVVKwNGcDhY9GPgvtS1CTFuAHdYQHS6waPPVpioIusA+\nOOjXrD+7a5IO+iRbmgEYW0/2sRlG9DyG3huxjm8VJxzXjhIxTrzld7pCAIzCmK6W\nl2KHNcBKar9lxzEwgz4P3u9Gb4vgDMw0vHCk4fRSTgkX40zGniQ/rXg1Xhr0s7Yi\n68goyelHFS4pleFp1TF7IvcbMl/CrBFzeKFA5pRHvv5IwSSEXlkvqTO2riWqTwqv\n8FvlwZ2+R3BAoHhIvY7RfTzRPYLzNh6uFdLZMl1D/JtNoUiWPx3uPDS4rH3KxWHw\n9hSrvf27vSQzjQgLETZTIvr7ErbXNnZebbuwtu42pktWV4qWkl+8UcsbA+/Agj8H\nG/iZc0C2y/VVV4+7ir/O82Ru4XY2f2EoLHZOYRUAHG9aLOAH7UhBwR5W/9ONhj7r\nr6XY6sUs9tciKWZMCtoxc32xOT+6cgc8mW7JsW3qwINxLXjRvO0/gPfSE+VZi7tk\ngzC1+xRbecEbNES/Ta4hb4ez3JsCmXh/x3B9EQY3nz+j0VqbcaOkCH9pgifROfI1\nXxpCoKFIT1ICS/EUU7IiAPyCBrwTJrp6BKJj0zvpn7hv+ulkgfrPstSgFcfXey3S\nBis1IgI+OGTwml2XRw8V/YqdFWVioi47fh+tXXFDy6JyC7gR6ncmhsIDZAyHzKvV\nH4gtJZmFtaK8PzsPSyr1FMFCqLI+i/qrt6XoJ4y7oMtR/U9/uWLWHAa1UWXxDobY\nCKEcCeFm0NqNOd7gi2vAkuxH60deDEfQPm5ea2akx8Di0up34LSx61WXrWQxtatJ\nApHcK25r2QsivoPw6G+80gPeku3oSCnsGJTiUgT5tIuzKCJGuPhpF8nwVhl0dL0b\n+fkd6fvcgUrZyCXhmDhdpYtYu2hRsrBfNXzCG/NGAfWy4djLwBcoznolgRtfAjxK\nqkBcSWmtIaIPSt6Ohggm40E9SpwzYo4XXJRHhxI8xQ+pQNafUlhnXDXZOnmpNfWU\ne48dYr8WsM4buBLxNRA58SgN7PHom1yrk9qvStPaUwbS6GzcJf/CNlaGArV5gfRI\ngCq2DVZjoV9cWipxIvWmOWPiZLNy28EQ1T/QcNzWIKH/f41H4kqyZgLZX8rFR312\nKZzHbq18wJsOwV2yVYaOtpEMUms/pmmRz8MSaWskvNiPFrKA6hAojzbhuylS6O5R\nvwv4JUmNDiopVjW1tqACRTCfLc1wsslhPVrQY5/T0fOqV2DxRGX6yTN2MJACmsCu\nNN3PsuT5aLz6rPuo0q34uLtQVoT1HLfyZF5WyE98ZXnPgfSRpQ6LH6hinLPvZ7nD\nCrY3fLR70BGZwbwMVtqy0Frbu3qDOA==\n=WL7y\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b2a74a86691bccfec5df78c1e5ca97a9f9e342e5",
          "sha": "b2a74a86691bccfec5df78c1e5ca97a9f9e342e5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b2a74a86691bccfec5df78c1e5ca97a9f9e342e5"
        }
      ],
      "message": "net: move MaybeFlipIPv6toCJDNS() from net to netbase\n\nIt need not be in the `net` module and we need to call it from\n`LookupSubNet()`, thus move it to `netbase`.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-08T07:57:13Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T14:13:21Z"
      },
      "sha": "1472bd2462e7199bba96ceb49d20462d750543ae"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM4MWNmZThlY2RhNTllMDQyNmUyNTIyMzRhZmEwNGVlMTFkM2Y4NGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c81cfe8ecda59e0426e252234afa04ee11d3f84e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c81cfe8ecda59e0426e252234afa04ee11d3f84e",
      "tree": {
        "sha": "2126501cdcd5218f8e633b42c9105ca62bfd6d12",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2126501cdcd5218f8e633b42c9105ca62bfd6d12"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2126501cdcd5218f8e633b42c9105ca62bfd6d12\nparent 1472bd2462e7199bba96ceb49d20462d750543ae\nauthor Vasil Dimov <vd@FreeBSD.org> 1675779417 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1686211663 +0200\n\nnetbase: possibly change the result of LookupSubNet() to CJDNS\n\nAll callers of `LookupSubNet()` need the result to be of CJDNS type if\n`-cjdnsreachable` is set and the address begins with `fc`:\n\n* `NetWhitelistPermissions::TryParse()`: otherwise `-whitelist=` fails\n  to white list CJDNS addresses: when a CJDNS peer connects to us, it\n  will be matched against IPv6 `fc...` subnet and the match will never\n  succeed.\n\n* `BanMapFromJson()`: CJDNS bans are stored as just IPv6 addresses in\n  `banlist.json`. Upon reading from disk they have to be converted back\n  to CJDNS, otherwise, after restart, a ban entry like (`fc00::1`, IPv6)\n  would not match a peer (`fc00::1`, CJDNS).\n\n* `RPCConsole::unbanSelectedNode()`: in the GUI the ban entries go\n  through `CSubNet::ToString()` and back via `LookupSubNet()`. Then it\n  must match whatever is stored in `BanMan`, otherwise it is impossible\n  to unban via the GUI.\n\n* `setban()` (in `rpc/net.cpp`): otherwise `setban fc.../mask add` would\n  add an IPv6 entry to BanMan. Subnetting does not make sense for CJDNS\n  addresses, thus treat `fc.../mask` as invalid `CSubNet`. The result of\n  `LookupHost()` has to be converted for the case of banning a single\n  host.\n\n* `InitHTTPAllowList()`: not necessary since before this change\n  `-rpcallowip=fc...` would match IPv6 subnets against IPv6 peers even\n  if they started with `fc`. But because it is necessary for the above,\n  `HTTPRequest::GetPeer()` also has to be adjusted to return CJDNS peer,\n  so that now CJDNS peers are matched against CJDNS subnets.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSBjFYACgkQVN8G9ktV\ny7/ULR//QDZRKVZJ4tL2FfvAlWeS5/SJDEH2Ka1hFDiWz9UbxS3Mtd3KKosFpm7c\nnQI/1SBqKZtxUJEDxd0zslPw2gqL+AmRYkp8bMVLLBkYOwR9W3/bo0VWDgrl2d7R\nF0Ab3Zdesy4AR/wNLQCEBv6PnvkaOd8e8KyTLfUxDlDxxFX9j7QSEmPknzd7CqPm\nul9SQzxydxtfw9ZXPluQezHOYysVc2QeKHnh8EgpJVsiQQtPQlgHhfzzEzqzI0B4\nNTAjM/ytir9caMpRvRbhuBPP1IKYSHV8SNzy89iRXQORk4tyiifw8PbDmhDBMuTI\nZFsTQSRcOJKonWV+q+3tRH4i2JmVnhMlHxuU7N5E24vr+B+edbOaX8khBNdxCUgU\njGcozgnJHiORp/xgTk3Zswd2fzi2n3ElYL7rEGHrnInUc8+vL+9bb57xFSpVcFpM\nqEYifHLRbdzRLUAYmEPhDtVXPeEVLUmD1S1DRGoIGp3Y2SKTzEIKwsUetmp86775\nc9ptxdr4ZTf/aDD9kzKOd+fHTiitHs5YAQAexfL2WwMttXZYNWSYT+kszM7bvl2n\nWECg0fSA/EOF6ohgk0VRmav0DVpyyH/qZRz1rO6rbM+qaAPTaxgzoZeopG8SfqDP\nt5PFOjCJIojfEry97bsbZmzRIFUlK7XWD/hWzriMJ10XCUJqkJbG78zxfazmflsg\n2z6h2jxfJD+ZbVPHcsAAyNKHj7Os5HegEvNXTrqR+BSUfZzQYrehZ8dCx5G60dlZ\n2/ey/+iJslaxSJaYcjbwn2Z9mpUU75mRoXE6jjRrhUWXrC5raOQtFzyzPNpMcYCG\nDbSPbEQd6dUpN43/T7+uZuF+qcRqVIYCVF3JqwYR/wwxFVvucaj6qmmaYx4JIfka\n2QiCM2lzbFNXNoV8DdEb+7dcLn3l7KGARcyggXCDHTU6iDZeWj7f0P89aAYeaRQF\ngKs5al0loY5mcy7/CnSU81zsNEVREBG2KpfhUgoKJEkSHJXEl2K+HkO3vtCdLX2T\nmVB8Bil811O7IoQjdCwutpVj8WN1AFKJjXZmPOCaSzJQE9MpAzVWEraNcmllRkhA\nTYUB7vMNFi7T8DwK3XBdNCxgnb/sgIoacTRlPxlZZBNfODVFuL5pCG9n19OiMqAK\nj5v2z37jjvc3Z0C8OdEx7aDgDND/S+BZ/oEfrv37T/Vphpw6JPUKoyjeEfku59WU\n8/Sp+a5rNupZZlvVQMc2RkaQMiW5Xf51xTP+tRrk7+h6ygk3ytEm2CGaxr1zFDxB\npG4LrjA584++C8aX82eEXwCOq/pVUlfTAL5xXMf/T0umo9tqwtr7KT/aCmlPgleG\nW34VZGyYmykpIUDkBKVSR88la16xoA==\n=EMub\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1472bd2462e7199bba96ceb49d20462d750543ae",
          "sha": "1472bd2462e7199bba96ceb49d20462d750543ae",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1472bd2462e7199bba96ceb49d20462d750543ae"
        }
      ],
      "message": "netbase: possibly change the result of LookupSubNet() to CJDNS\n\nAll callers of `LookupSubNet()` need the result to be of CJDNS type if\n`-cjdnsreachable` is set and the address begins with `fc`:\n\n* `NetWhitelistPermissions::TryParse()`: otherwise `-whitelist=` fails\n  to white list CJDNS addresses: when a CJDNS peer connects to us, it\n  will be matched against IPv6 `fc...` subnet and the match will never\n  succeed.\n\n* `BanMapFromJson()`: CJDNS bans are stored as just IPv6 addresses in\n  `banlist.json`. Upon reading from disk they have to be converted back\n  to CJDNS, otherwise, after restart, a ban entry like (`fc00::1`, IPv6)\n  would not match a peer (`fc00::1`, CJDNS).\n\n* `RPCConsole::unbanSelectedNode()`: in the GUI the ban entries go\n  through `CSubNet::ToString()` and back via `LookupSubNet()`. Then it\n  must match whatever is stored in `BanMan`, otherwise it is impossible\n  to unban via the GUI.\n\n* `setban()` (in `rpc/net.cpp`): otherwise `setban fc.../mask add` would\n  add an IPv6 entry to BanMan. Subnetting does not make sense for CJDNS\n  addresses, thus treat `fc.../mask` as invalid `CSubNet`. The result of\n  `LookupHost()` has to be converted for the case of banning a single\n  host.\n\n* `InitHTTPAllowList()`: not necessary since before this change\n  `-rpcallowip=fc...` would match IPv6 subnets against IPv6 peers even\n  if they started with `fc`. But because it is necessary for the above,\n  `HTTPRequest::GetPeer()` also has to be adjusted to return CJDNS peer,\n  so that now CJDNS peers are matched against CJDNS subnets.",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-08T08:07:43Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T14:16:57Z"
      },
      "sha": "c81cfe8ecda59e0426e252234afa04ee11d3f84e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhiNDk1NDg2ZTJlOTQ1NTlmMGUxMDk5ZWVmMDgxODJlNTQwZjgyYzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8b495486e2e94559f0e1099eef08182e540f82c0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8b495486e2e94559f0e1099eef08182e540f82c0",
      "tree": {
        "sha": "7199fdcba063723e6f80e6c6361bc6666b9c6206",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7199fdcba063723e6f80e6c6361bc6666b9c6206"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7199fdcba063723e6f80e6c6361bc6666b9c6206\nparent c81cfe8ecda59e0426e252234afa04ee11d3f84e\nauthor Vasil Dimov <vd@FreeBSD.org> 1675783171 +0100\ncommitter Vasil Dimov <vd@FreeBSD.org> 1686211670 +0200\n\nnet: remove unused CConnman::FindNode(const CSubNet&)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQQzBAABCAAdFiEE5k2NRWFNsHVF2czBVN8G9ktVy78FAmSBjFYACgkQVN8G9ktV\ny7/qgx//QbyKoa/E0wrxiVTGOeJVDk8KS56CgO8Qecmty103IK14Z5sZtYMVyoBD\nVW0Kh+rS1QoLC8jWYBjHPWZfYvD/5FWDWQVyDpbnifhV0/iEd+QuQAgvJRn6L+jZ\nc912/RKhQ3kndyiO/fkm3x3PVJrs0cuCZTS3XurMO9ebrWeiG3OrEpUdB4FGghlf\n5m1weNq67yz8o7ME3mRhtxUKXDmwRKiD98Q36TW29boFJqSGKxy7l/norE2n3aLc\nUDigYl7Sm0B760rVLNRytSSi1oaRyQWEP6faRglwDKRqtqlNl6OmZ9RbXLxQ0/XV\nb73RLEsc7TMo+/gFK2cauAgWyqFQl+lRctDTXOm995zD4/S5kbeEZ8sWYitok6oS\n9SzduiAlilghL+wk4vbdCjOYg14H/fFYuKWv7OYARAu/2Q7kMNlR2kOn64Fgem19\n5mTC/6BbEb+9CdjV3ZrVMxHnzAp1fvqG/ZXriCLkFr+31QTGUPYy26kb9xAMbykT\nWz/x7M2nX9sr3F/SbmhD5z4SrjLPAyMHO/eX+Q2kcFQy1nKfqee6RwXPr14RueUL\nMqMmgzDgVeRsOqSn5eQ+iOXpbNHgseS4iz3ZxzLDpxWmCqK6b3YHzmWwlGGd8NPw\nxjLUIgvnuLkmmVcGOwQQdoPgygUqOTdduswjhQ+WpC44QWk/m9H/Uk8Itx2SJBdX\nOA9eWfhEvTTTMsFl9bXKiaqIlSuwUn6PcQ6OrfWlHlNGIs5l+gTQEQTR7DzQfZDE\nBM0vDATxU7AUqaB0ckdDMUIOCHYO8tybNXko6Zh3Sga4aXAIHBbcsX8hdfLCeMf9\nriaYByIBzL1mcFmfizEFL61WtKXS3OyezYoMa/V0KeBK5Wo8k0ks5CLDvCnxvTx6\nFpjKqAnki11Fz/lmXZjBZ4sDliRpGaC09sqGnD9VcluEaDXVqKRh72dYiH21KEqR\nl7nPyN1xTPk3OxMdt91vhLgWkKk3ZLwD6lhVTLMLwTC9dLC/2ozUeG7/3txXjOaH\nqFYkILr4aZtB9OKxiczeSqnL68WSx2ZGvNnxif1wpk5RzXml5Bj4v/LuFdmqxhSs\nRZ5fghgOdWMMGXgiBniSy7x2jCWc+6nA79tbFFFKegw+2e8gighKNJ5axlL67O7m\nj5wN2UmpC3vvx3GdNy8MSEppLB4fH426/716jg98VmeZSjb5da3Eln2oitDh+ghB\nWMxE9moVYRDyCbGNBAH+RbngpDyyHnG9LkMnJu0tuHaGEKgpZDYxjnTCopbQANqs\nEkTvVCkUFF20qW/ayD64Szs+ESbzpM3A9U93F6kXO0jkcoOMRfABYnSr/IR/+lXR\nXIoWRNje5F30gH6H0ILpSHbrHn97IQ==\n=dPgY\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c81cfe8ecda59e0426e252234afa04ee11d3f84e",
          "sha": "c81cfe8ecda59e0426e252234afa04ee11d3f84e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c81cfe8ecda59e0426e252234afa04ee11d3f84e"
        }
      ],
      "message": "net: remove unused CConnman::FindNode(const CSubNet&)",
      "committer": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-06-08T08:07:50Z"
      },
      "author": {
        "name": "Vasil Dimov",
        "email": "vd@FreeBSD.org",
        "date": "2023-02-07T15:19:31Z"
      },
      "sha": "8b495486e2e94559f0e1099eef08182e540f82c0"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9469098470,
      "node_id": "HRFPE_lADOABII585eJVUczwAAAAI0Zvnm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9469098470",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T08:10:51Z"
    },
    {
      "event": "commented",
      "id": 1582106400,
      "node_id": "IC_kwDOABII585eTQcg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1582106400",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T08:11:02Z",
      "updated_at": "2023-06-08T08:11:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "`fcd4d34b96...8b495486e2`: rebase due to conflicts",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1582106400",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    },
    {
      "event": "unlabeled",
      "id": 9469950459,
      "node_id": "UNLE_lADOABII585eJVUczwAAAAI0c_n7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9469950459",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T09:27:16Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1482580658,
      "node_id": "PRR_kwDOABII585YXmKy",
      "url": null,
      "actor": null,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "bitcoinfinancier",
        "id": 134175231,
        "node_id": "U_kgDOB_9Z_w",
        "avatar_url": "https://avatars.githubusercontent.com/u/134175231?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoinfinancier",
        "html_url": "https://github.com/bitcoinfinancier",
        "followers_url": "https://api.github.com/users/bitcoinfinancier/followers",
        "following_url": "https://api.github.com/users/bitcoinfinancier/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoinfinancier/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoinfinancier/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoinfinancier/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoinfinancier/orgs",
        "repos_url": "https://api.github.com/users/bitcoinfinancier/repos",
        "events_url": "https://api.github.com/users/bitcoinfinancier/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoinfinancier/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1482580658",
      "submitted_at": "2023-06-16T01:17:09Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "reviewed",
      "id": 1509591091,
      "node_id": "PRR_kwDOABII585Z-ogz",
      "url": null,
      "actor": null,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "nberlin1980",
        "id": 46171726,
        "node_id": "MDQ6VXNlcjQ2MTcxNzI2",
        "avatar_url": "https://avatars.githubusercontent.com/u/46171726?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nberlin1980",
        "html_url": "https://github.com/nberlin1980",
        "followers_url": "https://api.github.com/users/nberlin1980/followers",
        "following_url": "https://api.github.com/users/nberlin1980/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nberlin1980/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nberlin1980/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nberlin1980/subscriptions",
        "organizations_url": "https://api.github.com/users/nberlin1980/orgs",
        "repos_url": "https://api.github.com/users/nberlin1980/repos",
        "events_url": "https://api.github.com/users/nberlin1980/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nberlin1980/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#pullrequestreview-1509591091",
      "submitted_at": "2023-07-02T13:40:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
    },
    {
      "event": "labeled",
      "id": 9814842053,
      "node_id": "LE_lADOABII585eJVUczwAAAAJJAprF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9814842053",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-13T19:25:52Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1634780826,
      "node_id": "IC_kwDOABII585hcMaa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1634780826",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-13T19:25:53Z",
      "updated_at": "2023-07-13T19:25:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n🐙 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#issuecomment-1634780826",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27071"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103877367",
      "pull_request_review_id": 1294785408,
      "id": 1103877367,
      "node_id": "PRRC_kwDOABII585By9T3",
      "diff_hunk": "@@ -40,6 +40,8 @@ bool fNameLookup = DEFAULT_NAME_LOOKUP;\n int g_socks5_recv_timeout = 20 * 1000;\n static std::atomic<bool> interruptSocks5Recv(false);\n \n+ReachableNets g_reachable_nets;",
      "path": "src/netbase.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "573117f79aebe482dccd6c91366c79663a7d5f47",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does this need a Mutex, considering it's being accessed from both Node and GUI?",
      "created_at": "2023-02-12T21:18:01Z",
      "updated_at": "2023-02-13T15:51:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1103877367",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103877367"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104641668",
      "pull_request_review_id": 1294785408,
      "id": 1104641668,
      "node_id": "PRRC_kwDOABII585B136E",
      "diff_hunk": "@@ -694,6 +694,7 @@ bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n     CNetAddr addr;\n \n     if (LookupHost(str_addr, addr, /*fAllowLookup=*/false)) {\n+        addr = MaybeFlipIPv6toCJDNS(CService{addr, /*port=*/0});",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "45a79d48ca70e52e12a50eed8ff73ec772519b5e",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now that `MaybeFlipIPv6toCJDNS` is available in `netbase`, would it make sense (maybe in follow-ups) to also use it in the `Lookup()` functions, not just `LookupSubNet`) and reduce the number of occurrences we have to call `MaybeFlipIPv6toCJDNS` from outside it?",
      "created_at": "2023-02-13T15:38:11Z",
      "updated_at": "2023-02-13T15:51:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104641668",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104641668"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 697,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104785968",
      "pull_request_review_id": 1296108363,
      "id": 1104785968,
      "node_id": "PRRC_kwDOABII585B2bIw",
      "diff_hunk": "@@ -40,6 +40,8 @@ bool fNameLookup = DEFAULT_NAME_LOOKUP;\n int g_socks5_recv_timeout = 20 * 1000;\n static std::atomic<bool> interruptSocks5Recv(false);\n \n+ReachableNets g_reachable_nets;",
      "path": "src/netbase.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "573117f79aebe482dccd6c91366c79663a7d5f47",
      "in_reply_to_id": 1103877367,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It has inside, `ReachableNets::m_mutex`.",
      "created_at": "2023-02-13T17:12:47Z",
      "updated_at": "2023-02-13T17:12:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104785968",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104785968"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 43,
      "original_line": 43,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104803546",
      "pull_request_review_id": 1296128737,
      "id": 1104803546,
      "node_id": "PRRC_kwDOABII585B2fba",
      "diff_hunk": "@@ -36,7 +36,11 @@ CNetAddr ConsumeNetAddr(FuzzedDataProvider& fuzzed_data_provider) noexcept\n     } else if (network == Network::NET_IPV6) {\n         if (fuzzed_data_provider.remaining_bytes() >= 16) {\n             in6_addr v6_addr = {};\n-            memcpy(v6_addr.s6_addr, fuzzed_data_provider.ConsumeBytes<uint8_t>(16).data(), 16);\n+            auto addr_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(16);\n+            if (addr_bytes[0] == 0xFC) { // Avoid generating IPv6 addresses that look like CJDNS.\n+                addr_bytes[0] = 0x55;",
      "path": "src/test/fuzz/util/net.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In d9b95cb1eedb9f165df93dcae0aba96ede40767a, I could check that all CJDNS address starts with [OxFC](https://github.com/cjdelisle/cjdns/blob/master/doc/Whitepaper.md#pulling-it-all-together), so, it switches the first byte to `0x55` to avoid generating it that look like CJDNS. But why specifically `0x55`?",
      "created_at": "2023-02-13T17:25:14Z",
      "updated_at": "2023-02-13T17:25:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104803546",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104803546"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104805263",
      "pull_request_review_id": 1296130709,
      "id": 1104805263,
      "node_id": "PRRC_kwDOABII585B2f2P",
      "diff_hunk": "@@ -3635,14 +3635,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                 continue;\n             }\n             ++num_proc;\n-            bool fReachable = IsReachable(addr);\n+            const bool reachable = g_reachable_nets.Contains(addr);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "in_reply_to_id": null,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit:\r\n```suggestion\r\n            const bool reachable{g_reachable_nets.Contains(addr)};\r\n```",
      "created_at": "2023-02-13T17:26:28Z",
      "updated_at": "2023-02-13T17:26:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104805263",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104805263"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3638,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104836123",
      "pull_request_review_id": 1296173130,
      "id": 1104836123,
      "node_id": "PRRC_kwDOABII585B2nYb",
      "diff_hunk": "@@ -694,6 +694,7 @@ bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n     CNetAddr addr;\n \n     if (LookupHost(str_addr, addr, /*fAllowLookup=*/false)) {\n+        addr = MaybeFlipIPv6toCJDNS(CService{addr, /*port=*/0});",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "45a79d48ca70e52e12a50eed8ff73ec772519b5e",
      "in_reply_to_id": 1104641668,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, well. I feel like `MaybeFlipIPv6toCJDNS()` is warranted in some of the lower level `Lookup*()` functions. But they are called from so many places, the change would be very invasive. I have to gather some bravery in order to look into that. If that is to be done, maybe it should be preceded by some simplification of the `Lookup*()` family of functions. I get a headache every time I have to deal with:\r\n\r\n```cpp\r\nbool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool Lookup(const std::string& name, CService& addr, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nCService LookupNumeric(const std::string& name, uint16_t portDefault = 0, DNSLookupFn dns_lookup_function = g_dns_lookup);\r\nbool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function);\r\n```",
      "created_at": "2023-02-13T17:53:16Z",
      "updated_at": "2023-02-13T17:53:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1104836123",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104836123"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 697,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105886420",
      "pull_request_review_id": 1297697029,
      "id": 1105886420,
      "node_id": "PRRC_kwDOABII585B6nzU",
      "diff_hunk": "@@ -3635,14 +3635,15 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                 continue;\n             }\n             ++num_proc;\n-            bool fReachable = IsReachable(addr);\n+            const bool reachable = g_reachable_nets.Contains(addr);",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "9b656a5eb18f3a4c2f438bb3a4899db5441adb7f",
      "in_reply_to_id": 1104805263,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-02-14T14:19:38Z",
      "updated_at": "2023-02-14T14:19:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1105886420",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105886420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3638,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105887566",
      "pull_request_review_id": 1297698826,
      "id": 1105887566,
      "node_id": "PRRC_kwDOABII585B6oFO",
      "diff_hunk": "@@ -36,7 +36,11 @@ CNetAddr ConsumeNetAddr(FuzzedDataProvider& fuzzed_data_provider) noexcept\n     } else if (network == Network::NET_IPV6) {\n         if (fuzzed_data_provider.remaining_bytes() >= 16) {\n             in6_addr v6_addr = {};\n-            memcpy(v6_addr.s6_addr, fuzzed_data_provider.ConsumeBytes<uint8_t>(16).data(), 16);\n+            auto addr_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(16);\n+            if (addr_bytes[0] == 0xFC) { // Avoid generating IPv6 addresses that look like CJDNS.\n+                addr_bytes[0] = 0x55;",
      "path": "src/test/fuzz/util/net.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "in_reply_to_id": 1104803546,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "There is no reason for 0x55 specifically. I added a comment to clarify:\r\n\r\n`// Just an arbitrary number, anything != 0xFC would do.`",
      "created_at": "2023-02-14T14:20:31Z",
      "updated_at": "2023-02-14T14:20:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1105887566",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105887566"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106079939",
      "pull_request_review_id": 1297987720,
      "id": 1106079939,
      "node_id": "PRRC_kwDOABII585B7XDD",
      "diff_hunk": "@@ -36,7 +36,11 @@ CNetAddr ConsumeNetAddr(FuzzedDataProvider& fuzzed_data_provider) noexcept\n     } else if (network == Network::NET_IPV6) {\n         if (fuzzed_data_provider.remaining_bytes() >= 16) {\n             in6_addr v6_addr = {};\n-            memcpy(v6_addr.s6_addr, fuzzed_data_provider.ConsumeBytes<uint8_t>(16).data(), 16);\n+            auto addr_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(16);\n+            if (addr_bytes[0] == 0xFC) { // Avoid generating IPv6 addresses that look like CJDNS.\n+                addr_bytes[0] = 0x55;",
      "path": "src/test/fuzz/util/net.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "d9b95cb1eedb9f165df93dcae0aba96ede40767a",
      "in_reply_to_id": 1104803546,
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Got it, thank you!",
      "created_at": "2023-02-14T16:41:35Z",
      "updated_at": "2023-02-14T16:41:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106079939",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106079939"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106360822",
      "pull_request_review_id": 1298409472,
      "id": 1106360822,
      "node_id": "PRRC_kwDOABII585B8bn2",
      "diff_hunk": "@@ -1323,38 +1323,32 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     }\n \n     if (args.IsArgSet(\"-onlynet\")) {\n-        std::set<enum Network> nets;\n+        g_reachable_nets.RemoveAll();\n         for (const std::string& snet : args.GetArgs(\"-onlynet\")) {\n             enum Network net = ParseNetwork(snet);\n             if (net == NET_UNROUTABLE)\n                 return InitError(strprintf(_(\"Unknown network specified in -onlynet: '%s'\"), snet));\n-            nets.insert(net);",
      "path": "src/init.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit, while touching this it may be good to add the missing brackets to `if (net == NET_UNROUTABLE)`, feel free to ignore",
      "created_at": "2023-02-14T20:54:32Z",
      "updated_at": "2023-02-14T21:14:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106360822",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106360822"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1322,
      "original_line": 1322,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106373444",
      "pull_request_review_id": 1298409472,
      "id": 1106373444,
      "node_id": "PRRC_kwDOABII585B8etE",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == 0xfc && g_reachable_nets.Contains(NET_CJDNS)) {",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit, it may be nice to hoist `0xfc` used here and in `src/test/fuzz/util/net.cpp#L40-41` to a constexpr/constant, as grepping the codebase for it returns many unrelated false positives.",
      "created_at": "2023-02-14T21:04:20Z",
      "updated_at": "2023-02-14T21:14:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106373444",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106373444"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 820,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106375231",
      "pull_request_review_id": 1298409472,
      "id": 1106375231,
      "node_id": "PRRC_kwDOABII585B8fI_",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "9e4781805b5b59dc\r\n\r\nAdd `AssertLockNotHeld(m_mutex);` to the `RemoveAll()` and to both of the `Contains()` class methods?\r\n\r\nPerhaps also add `[[nodiscard]]` to the latter two declarations.",
      "created_at": "2023-02-14T21:05:54Z",
      "updated_at": "2023-02-14T21:35:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106375231",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106375231"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106381226",
      "pull_request_review_id": 1298409472,
      "id": 1106381226,
      "node_id": "PRRC_kwDOABII585B8gmq",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        return Contains(addr.GetNetwork());\n+    }\n+\n+private:\n+    mutable Mutex m_mutex;\n+\n+    std::unordered_set<Network> m_reachable GUARDED_BY(m_mutex){\n+        NET_UNROUTABLE,\n+        NET_IPV4,\n+        NET_IPV6,\n+        NET_ONION,\n+        NET_I2P,\n+        NET_CJDNS,\n+        NET_INTERNAL",
      "path": "src/netbase.h",
      "position": 63,
      "original_position": 62,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "9e4781805b5b59dc As BIP155 networks are added or removed over time, `m_reachable` could go out of sync with `enum Network` in `netaddress.h` ... perhaps construct it programmatically  from `enum Network` (now or in a follow-up)?",
      "created_at": "2023-02-14T21:10:13Z",
      "updated_at": "2023-02-15T00:52:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1106381226",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1106381226"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 119,
      "original_line": 119,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107408761",
      "pull_request_review_id": 1299941186,
      "id": 1107408761,
      "node_id": "PRRC_kwDOABII585CAbd5",
      "diff_hunk": "@@ -1323,38 +1323,32 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     }\n \n     if (args.IsArgSet(\"-onlynet\")) {\n-        std::set<enum Network> nets;\n+        g_reachable_nets.RemoveAll();\n         for (const std::string& snet : args.GetArgs(\"-onlynet\")) {\n             enum Network net = ParseNetwork(snet);\n             if (net == NET_UNROUTABLE)\n                 return InitError(strprintf(_(\"Unknown network specified in -onlynet: '%s'\"), snet));\n-            nets.insert(net);",
      "path": "src/init.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106360822,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ignoring to minimize the size of the diff.",
      "created_at": "2023-02-15T17:06:28Z",
      "updated_at": "2023-02-15T17:06:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107408761",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107408761"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1322,
      "original_line": 1322,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107409772",
      "pull_request_review_id": 1299943272,
      "id": 1107409772,
      "node_id": "PRRC_kwDOABII585CAbts",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == 0xfc && g_reachable_nets.Contains(NET_CJDNS)) {",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106373444,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-02-15T17:07:22Z",
      "updated_at": "2023-02-15T17:07:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107409772",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107409772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 820,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107422252",
      "pull_request_review_id": 1299963130,
      "id": 1107422252,
      "node_id": "PRRC_kwDOABII585CAews",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added `[[nodiscard]]` and one `AssertLockNotHeld()` where it is not immediately followed by `LOCK()`. I do not see the point in:\r\n\r\n```cpp\r\nAssertLockNotHeld(m); // the point of this is to crash if m is held\r\nLOCK(m); // but this will crash if m is held, so what is the point?\r\n```\r\n\r\nIf it is really desirable to have `AssertLockNotHeld()` before every `LOCK()`, then `AssertLockNotHeld()` should be put inside `LOCK()`.\r\n\r\nThis is another story:\r\n\r\n```cpp\r\nAssertLockNotHeld(m);\r\nif (x) {\r\n    LOCK(m);\r\n    ...\r\n}\r\n```\r\n\r\nbecause if it gets executed with `x == false` and `AssertLockNotHeld()` is missing then it will not catch the problem (by crashing).",
      "created_at": "2023-02-15T17:13:42Z",
      "updated_at": "2023-02-15T17:13:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107422252",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107422252"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107491391",
      "pull_request_review_id": 1300064718,
      "id": 1107491391,
      "node_id": "PRRC_kwDOABII585CAvo_",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> LOCK(m); // but this will crash if m is held, so what is the point?\r\n\r\nAh, I see that double lock detection at runtime was added by you in 95975dd08d8f.\r\n\r\n```diff\r\n+++ b/src/netbase.h\r\n@@ -73,6 +73,7 @@ public:\r\n     void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\r\n     {\r\n         AssertLockNotHeld(m_mutex);\r\n+        LOCK(m_mutex);\r\n         if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\r\n             LOCK(m_mutex);\r\n```\r\n```\r\n2023-02-15T17:48:41Z SetNetworkActive: true\r\n2023-02-15T17:48:41Z DOUBLE LOCK DETECTED\r\n2023-02-15T17:48:41Z Lock order:\r\n2023-02-15T17:48:41Z  (*) 'm_mutex' in netbase.h:76 (in thread 'init')\r\n2023-02-15T17:48:41Z  (*) 'm_mutex' in netbase.h:78 (in thread 'init')\r\nAssertion failed: detected double lock for 'm_mutex' in netbase.h:78 (in thread 'init'), details in debug log.\r\n```\r\n",
      "created_at": "2023-02-15T17:53:06Z",
      "updated_at": "2023-02-15T17:53:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107491391",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107491391"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107505114",
      "pull_request_review_id": 1300080160,
      "id": 1107505114,
      "node_id": "PRRC_kwDOABII585CAy_a",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> If it is really desirable to have `AssertLockNotHeld()` before every `LOCK()`\r\n\r\nI think the general idea is to have a runtime lock assertion corresponding to every thread safety annotation, where it makes sense (cf the developer notes).",
      "created_at": "2023-02-15T18:02:42Z",
      "updated_at": "2023-02-15T18:02:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107505114",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107505114"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107561322",
      "pull_request_review_id": 1300143653,
      "id": 1107561322,
      "node_id": "PRRC_kwDOABII585CBAtq",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\n+        ret.m_net = NET_CJDNS;\n+    }\n+    return ret;\n+}\n+",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "e1910f6743d73a extra newline at EOF\r\n\r\nUnrelated, would it be worth avoiding a `CService` copy in the most frequent case? (maybe returning `std::optional<CService>` if flipped to CJDNS could be a good idea too)\r\n\r\n```diff\r\n CService MaybeFlipIPv6toCJDNS(const CService& service)\r\n {\r\n+    if (service.m_net != NET_IPV6 || service.m_addr[0] != CJDNS_PREFIX || !g_reachable_nets.Contains(NET_CJDNS)) return service;\r\n     CService ret{service};\r\n-    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\r\n-        ret.m_net = NET_CJDNS;\r\n-    }\r\n+    ret.m_net = NET_CJDNS;\r\n     return ret;\r\n }\r\n-\r\n```\r\n",
      "created_at": "2023-02-15T18:46:25Z",
      "updated_at": "2023-02-16T17:19:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1107561322",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107561322"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 825,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108164412",
      "pull_request_review_id": 1300980766,
      "id": 1108164412,
      "node_id": "PRRC_kwDOABII585CDT88",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The double lock detection inside `LOCK()` is only if `DEBUG_LOCKORDER` is defined.\r\nEdit: and `AssertLockNotHeld()` is also only being done if `DEBUG_LOCKORDER` is defined.",
      "created_at": "2023-02-16T08:38:09Z",
      "updated_at": "2023-02-16T13:39:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1108164412",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1108164412"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109626265",
      "pull_request_review_id": 1303161230,
      "id": 1109626265,
      "node_id": "PRRC_kwDOABII585CI42Z",
      "diff_hunk": "@@ -64,6 +65,62 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();\n+    }\n+\n+    bool Contains(Network net) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        return m_reachable.count(net) > 0;\n+    }\n+\n+    bool Contains(const CNetAddr& addr) const EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {",
      "path": "src/netbase.h",
      "position": 48,
      "original_position": 48,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "7a93d7b0f922458ec904c35871afdcadf7447c63",
      "in_reply_to_id": 1106375231,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Opened https://github.com/bitcoin/bitcoin/pull/27116 to amend the docs.",
      "created_at": "2023-02-17T10:55:49Z",
      "updated_at": "2023-02-17T10:55:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1109626265",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109626265"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 104,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1117187548",
      "pull_request_review_id": 1313734861,
      "id": 1117187548,
      "node_id": "PRRC_kwDOABII585Clu3c",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\n+        ret.m_net = NET_CJDNS;\n+    }\n+    return ret;\n+}\n+",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "in_reply_to_id": 1107561322,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I tested this and there is one copy in either case. I guess the compiler is smart enough to avoid unnecessary copies.",
      "created_at": "2023-02-24T15:28:50Z",
      "updated_at": "2023-02-24T15:28:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1117187548",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1117187548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 825,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118693568",
      "pull_request_review_id": 1315514513,
      "id": 1118693568,
      "node_id": "PRRC_kwDOABII585CrejA",
      "diff_hunk": "@@ -810,3 +813,13 @@ bool IsBadPort(uint16_t port)\n     }\n     return false;\n }\n+\n+CService MaybeFlipIPv6toCJDNS(const CService& service)\n+{\n+    CService ret{service};\n+    if (ret.m_net == NET_IPV6 && ret.m_addr[0] == CJDNS_PREFIX && g_reachable_nets.Contains(NET_CJDNS)) {\n+        ret.m_net = NET_CJDNS;\n+    }\n+    return ret;\n+}\n+",
      "path": "src/netbase.cpp",
      "position": null,
      "original_position": 30,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "8991ed2c6e38a35199725b6296a615733f948f87",
      "in_reply_to_id": 1107561322,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also ran both variants in nanobench and there is no difference.",
      "created_at": "2023-02-27T12:49:13Z",
      "updated_at": "2023-02-27T12:49:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1118693568",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118693568"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 825,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1249523602",
      "pull_request_review_id": 1509591091,
      "id": 1249523602,
      "node_id": "PRRC_kwDOABII585KejeS",
      "diff_hunk": "@@ -64,6 +65,63 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+/**\n+ * List of reachable networks. Everything is reachable by default.\n+ */\n+class ReachableNets {\n+public:\n+    void Add(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.insert(net);\n+        }\n+    }\n+\n+    void Remove(Network net) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        AssertLockNotHeld(m_mutex);\n+        if (net != NET_UNROUTABLE && net != NET_INTERNAL) {\n+            LOCK(m_mutex);\n+            m_reachable.erase(net);\n+        }\n+    }\n+\n+    void RemoveAll() EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)\n+    {\n+        LOCK(m_mutex);\n+        m_reachable.clear();",
      "path": "src/netbase.h",
      "position": 38,
      "original_position": 38,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "in_reply_to_id": null,
      "user": {
        "login": "nberlin1980",
        "id": 46171726,
        "node_id": "MDQ6VXNlcjQ2MTcxNzI2",
        "avatar_url": "https://avatars.githubusercontent.com/u/46171726?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nberlin1980",
        "html_url": "https://github.com/nberlin1980",
        "followers_url": "https://api.github.com/users/nberlin1980/followers",
        "following_url": "https://api.github.com/users/nberlin1980/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nberlin1980/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nberlin1980/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nberlin1980/subscriptions",
        "organizations_url": "https://api.github.com/users/nberlin1980/orgs",
        "repos_url": "https://api.github.com/users/nberlin1980/repos",
        "events_url": "https://api.github.com/users/nberlin1980/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nberlin1980/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This will remove `NET_UNROUTABLE ` and `NET_INTERNAL`, after which they cannot be re-added. Is that intentional (the function name implies it is intentional)? I ask because the other accessors guard against their removal and insertion.",
      "created_at": "2023-07-02T13:21:29Z",
      "updated_at": "2023-07-02T13:40:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1249523602",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1249523602"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 94,
      "original_line": 94,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1249529700",
      "pull_request_review_id": 1509591091,
      "id": 1249529700,
      "node_id": "PRRC_kwDOABII585Kek9k",
      "diff_hunk": "@@ -720,47 +720,47 @@ BOOST_AUTO_TEST_CASE(get_local_addr_for_peer_port)\n \n BOOST_AUTO_TEST_CASE(LimitedAndReachable_Network)\n {\n-    BOOST_CHECK(IsReachable(NET_IPV4));\n-    BOOST_CHECK(IsReachable(NET_IPV6));\n-    BOOST_CHECK(IsReachable(NET_ONION));\n-    BOOST_CHECK(IsReachable(NET_I2P));\n-    BOOST_CHECK(IsReachable(NET_CJDNS));\n-\n-    SetReachable(NET_IPV4, false);\n-    SetReachable(NET_IPV6, false);\n-    SetReachable(NET_ONION, false);\n-    SetReachable(NET_I2P, false);\n-    SetReachable(NET_CJDNS, false);\n-\n-    BOOST_CHECK(!IsReachable(NET_IPV4));\n-    BOOST_CHECK(!IsReachable(NET_IPV6));\n-    BOOST_CHECK(!IsReachable(NET_ONION));\n-    BOOST_CHECK(!IsReachable(NET_I2P));\n-    BOOST_CHECK(!IsReachable(NET_CJDNS));\n-\n-    SetReachable(NET_IPV4, true);\n-    SetReachable(NET_IPV6, true);\n-    SetReachable(NET_ONION, true);\n-    SetReachable(NET_I2P, true);\n-    SetReachable(NET_CJDNS, true);\n-\n-    BOOST_CHECK(IsReachable(NET_IPV4));\n-    BOOST_CHECK(IsReachable(NET_IPV6));\n-    BOOST_CHECK(IsReachable(NET_ONION));\n-    BOOST_CHECK(IsReachable(NET_I2P));\n-    BOOST_CHECK(IsReachable(NET_CJDNS));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_CJDNS));\n+\n+    g_reachable_nets.Remove(NET_IPV4);\n+    g_reachable_nets.Remove(NET_IPV6);\n+    g_reachable_nets.Remove(NET_ONION);\n+    g_reachable_nets.Remove(NET_I2P);\n+    g_reachable_nets.Remove(NET_CJDNS);\n+\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(!g_reachable_nets.Contains(NET_CJDNS));\n+\n+    g_reachable_nets.Add(NET_IPV4);\n+    g_reachable_nets.Add(NET_IPV6);\n+    g_reachable_nets.Add(NET_ONION);\n+    g_reachable_nets.Add(NET_I2P);\n+    g_reachable_nets.Add(NET_CJDNS);\n+\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV4));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_IPV6));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_ONION));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_I2P));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_CJDNS));\n }\n \n BOOST_AUTO_TEST_CASE(LimitedAndReachable_NetworkCaseUnroutableAndInternal)\n {\n-    BOOST_CHECK(IsReachable(NET_UNROUTABLE));\n-    BOOST_CHECK(IsReachable(NET_INTERNAL));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_UNROUTABLE));\n+    BOOST_CHECK(g_reachable_nets.Contains(NET_INTERNAL));\n \n-    SetReachable(NET_UNROUTABLE, false);\n-    SetReachable(NET_INTERNAL, false);\n+    g_reachable_nets.Remove(NET_UNROUTABLE);\n+    g_reachable_nets.Remove(NET_INTERNAL);",
      "path": "src/test/net_tests.cpp",
      "position": 74,
      "original_position": 74,
      "commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "original_commit_id": "8b495486e2e94559f0e1099eef08182e540f82c0",
      "in_reply_to_id": null,
      "user": {
        "login": "nberlin1980",
        "id": 46171726,
        "node_id": "MDQ6VXNlcjQ2MTcxNzI2",
        "avatar_url": "https://avatars.githubusercontent.com/u/46171726?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nberlin1980",
        "html_url": "https://github.com/nberlin1980",
        "followers_url": "https://api.github.com/users/nberlin1980/followers",
        "following_url": "https://api.github.com/users/nberlin1980/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nberlin1980/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nberlin1980/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nberlin1980/subscriptions",
        "organizations_url": "https://api.github.com/users/nberlin1980/orgs",
        "repos_url": "https://api.github.com/users/nberlin1980/repos",
        "events_url": "https://api.github.com/users/nberlin1980/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nberlin1980/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps add test cases for `RemoveAll` as it relates to these two.",
      "created_at": "2023-07-02T13:33:19Z",
      "updated_at": "2023-07-02T13:40:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27071#discussion_r1249529700",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1249529700"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27071"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 760,
      "original_line": 760,
      "side": "RIGHT"
    }
  ]
}