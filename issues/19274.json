{
  "type": "issue",
  "issue": {
    "id": 638359698,
    "node_id": "MDU6SXNzdWU2MzgzNTk2OTg=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19274",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19274/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19274/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19274/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/19274",
    "number": 19274,
    "state": "closed",
    "state_reason": "completed",
    "title": "When Finding a corrupt block during re-index, download the corrupt block, continue reindex from volume",
    "body": "<!-- Describe the issue -->\r\nI recently had a corrupt bitcoin database.  I've been trying to re-index the blockchain as I have a full node and the entire blockchain downloaded to my volume.\r\n\r\nI'm seeing errors in the debug.log that I'm assuming are corrupt blocks.\r\nLoadExternalBlockFile: Deserialize or I/O error\r\n\r\nLoadExternalBlockFile: Deserialize or I/O error - CBufferedFile::Fill: end of file: unspecified iostream_category error\r\n\r\nLoadExternalBlockFile: Deserialize or I/O error - non-canonical ReadCompactSize(): unspecified iostream_category error\r\n\r\nWhen the re-index reaches one of those blocks, it stops trying to re-index the blockchain and begins to sync over the network.  It doesn't always stop immediately after finding the error.  Sometimes it will continue to re-index, but when looking for the best tip, it will begin syncing with the network after getting to that block.\r\n\r\nI'll delete the corrupt block, restart Bitcoin to re-index, hoping it will download the missing block and continue to re-index from my drive.  I haven't seen that happen.\r\n\r\n<!--- What behavior did you expect? -->\r\nWhen finding a corrupt or missing block, replace that one block and continue re-indexing from the volume.  Take priority for using blocks already on the volume rather than syncing over the network.\r\n\r\n<!-- What version of Bitcoin Core are you using, where did you get it (website, self-compiled, etc)? -->\r\n0.20\r\n\r\n<!-- What type of machine are you observing the error on (OS/CPU and disk type)? -->\r\n2010 Mac 5,1\r\n10.13.6 os\r\n2.8 GHz Quad-Core Intel Xeon\r\n24 GB 1066 MHz DDR3\r\nATI Radeon HD 5870 1024 MB\r\nblockchain stored on an attached DroboPro with 5 TB free storage.  The Drobo had a drive failure, I can lose another 2 drives before data loss.  Drobo is rebuilding.\r\n\r\n<!-- Any extra information that might be useful in the debugging process. -->\r\nTo test,  delete an early block and start Bitcoin.\r\n\r\n<!--- This is normally the contents of a `debug.log` or `config.log` file. Raw text or a link to a pastebin type site are preferred. -->\r\n\r\n\r\n2020-06-14T12:50:20Z Reindexing block file blk00163.dat...\r\n2020-06-14T12:51:03Z Loaded 518 blocks from external file in 42614ms\r\n2020-06-14T12:51:03Z Reindexing block file blk00164.dat...\r\n2020-06-14T12:51:26Z Loaded 606 blocks from external file in 22425ms\r\n2020-06-14T12:51:26Z Reindexing block file blk00165.dat...\r\n2020-06-14T12:52:04Z Loaded 492 blocks from external file in 38732ms\r\n2020-06-14T12:52:04Z Reindexing block file blk00166.dat...\r\n2020-06-14T12:52:29Z Loaded 518 blocks from external file in 24488ms\r\n2020-06-14T12:52:29Z Reindexing block file blk00167.dat...\r\n2020-06-14T12:53:10Z Loaded 595 blocks from external file in 41404ms\r\n2020-06-14T12:53:10Z Reindexing block file blk00168.dat...\r\n2020-06-14T12:53:32Z Loaded 573 blocks from external file in 22214ms\r\n2020-06-14T12:53:32Z Reindexing block file blk00169.dat...\r\n2020-06-14T12:53:37Z LoadExternalBlockFile: Deserialize or I/O error - CBufferedFile::Fill: end of file: unspecified iostream_category error\r\n2020-06-14T12:53:37Z Loaded 42 blocks from external file in 5048ms\r\n2020-06-14T12:53:37Z Reindexing block file blk00170.dat...\r\n2020-06-14T12:53:49Z Reindexing block file blk00171.dat...\r\n2020-06-14T12:54:05Z Reindexing block file blk00172.dat...\r\n2020-06-14T12:54:17Z Reindexing block file blk00173.dat...\r\n2020-06-14T12:54:29Z Reindexing block file blk00174.dat...\r\n2020-06-14T12:54:45Z Reindexing block file blk00175.dat...\r\n2020-06-14T12:54:57Z Reindexing block file blk00176.dat...\r\n2020-06-14T12:55:10Z Reindexing block file blk00177.dat...\r\n2020-06-14T12:55:25Z Reindexing block file blk00178.dat...\r\n2020-06-14T12:55:37Z Reindexing block file blk00179.dat...\r\n2020-06-14T12:55:54Z Reindexing block file blk00180.dat...\r\n2020-06-14T12:56:13Z Reindexing block file blk00181.dat...\r\n2020-06-14T12:56:31Z Reindexing block file blk00182.dat...\r\n2020-06-14T12:56:47Z Reindexing block file blk00183.dat...\r\n2020-06-14T12:57:01Z Reindexing block file blk00184.dat...\r\n2020-06-14T12:57:15Z Reindexing block file blk00185.dat...\r\n2020-06-14T12:57:32Z Reindexing block file blk00186.dat...\r\n2020-06-14T12:57:46Z Reindexing block file blk00187.dat...\r\n\r\n",
    "user": {
      "login": "spiralnova",
      "id": 23297019,
      "node_id": "MDQ6VXNlcjIzMjk3MDE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/23297019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spiralnova",
      "html_url": "https://github.com/spiralnova",
      "followers_url": "https://api.github.com/users/spiralnova/followers",
      "following_url": "https://api.github.com/users/spiralnova/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/spiralnova/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/spiralnova/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/spiralnova/subscriptions",
      "organizations_url": "https://api.github.com/users/spiralnova/orgs",
      "repos_url": "https://api.github.com/users/spiralnova/repos",
      "events_url": "https://api.github.com/users/spiralnova/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/spiralnova/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 5,
    "closed_at": "2023-09-21T16:31:51Z",
    "created_at": "2020-06-14T14:11:26Z",
    "updated_at": "2023-09-25T14:24:35Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 647548541,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzU0ODU0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647548541",
      "actor": {
        "login": "spiralnova",
        "id": 23297019,
        "node_id": "MDQ6VXNlcjIzMjk3MDE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/23297019?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/spiralnova",
        "html_url": "https://github.com/spiralnova",
        "followers_url": "https://api.github.com/users/spiralnova/followers",
        "following_url": "https://api.github.com/users/spiralnova/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/spiralnova/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/spiralnova/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/spiralnova/subscriptions",
        "organizations_url": "https://api.github.com/users/spiralnova/orgs",
        "repos_url": "https://api.github.com/users/spiralnova/repos",
        "events_url": "https://api.github.com/users/spiralnova/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/spiralnova/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T14:17:51Z",
      "updated_at": "2020-06-22T14:17:51Z",
      "author_association": "NONE",
      "body": "When performing a re-index, Bitcoin stops loading block files where it will begin to sync with network.  And still spends time reindexing each block file that I already have downloaded.  Example:\r\nDuring a re-index Bitcoin 1st reindexes all block files.  There is a confirmation message, Loaded x blocks from external file in x ms.  In my last -reindex pass at block file 865, I stopped seeing those confirmations.  And yet, bitcoin will continue to look at each file down to 2108, which is the last block file I have downloaded.  Then it begins to updateTip starting from the beginning blocks.  When it gets to file 865, it stops updateTip, and begins to re-download blocks from the network.  \r\n\r\nIdeally, Bitcoin would see all my local blocks, and only download if a block in the middle is not complete.  \r\nCheck local for block, if error, request network for download, check next local block.  \r\n\r\nInstead of, check local for block, error, download rest of blocks from network.  Or at least stop reindexing if it's going to ignore all those other blocks.\r\n\r\n\r\n\r\n2020-06-22T14:05:20Z Reindexing block file blk00862.dat...\r\n2020-06-22T14:05:26Z Loaded 112 blocks from external file in 6682ms\r\n2020-06-22T14:05:26Z Reindexing block file blk00863.dat...\r\n2020-06-22T14:05:34Z Loaded 146 blocks from external file in 7456ms\r\n2020-06-22T14:05:34Z Reindexing block file blk00864.dat...\r\n2020-06-22T14:05:40Z Loaded 119 blocks from external file in 6144ms\r\n2020-06-22T14:05:40Z Reindexing block file blk00865.dat...\r\n2020-06-22T14:05:45Z Reindexing block file blk00866.dat...\r\n2020-06-22T14:05:50Z Reindexing block file blk00867.dat...\r\n",
      "user": {
        "login": "spiralnova",
        "id": 23297019,
        "node_id": "MDQ6VXNlcjIzMjk3MDE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/23297019?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/spiralnova",
        "html_url": "https://github.com/spiralnova",
        "followers_url": "https://api.github.com/users/spiralnova/followers",
        "following_url": "https://api.github.com/users/spiralnova/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/spiralnova/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/spiralnova/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/spiralnova/subscriptions",
        "organizations_url": "https://api.github.com/users/spiralnova/orgs",
        "repos_url": "https://api.github.com/users/spiralnova/repos",
        "events_url": "https://api.github.com/users/spiralnova/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/spiralnova/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19274#issuecomment-647548541",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19274"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jmjatlanta",
        "id": 4626076,
        "node_id": "MDQ6VXNlcjQ2MjYwNzY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4626076?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmjatlanta",
        "html_url": "https://github.com/jmjatlanta",
        "followers_url": "https://api.github.com/users/jmjatlanta/followers",
        "following_url": "https://api.github.com/users/jmjatlanta/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmjatlanta/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmjatlanta/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmjatlanta/subscriptions",
        "organizations_url": "https://api.github.com/users/jmjatlanta/orgs",
        "repos_url": "https://api.github.com/users/jmjatlanta/repos",
        "events_url": "https://api.github.com/users/jmjatlanta/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmjatlanta/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-04T18:06:20Z",
      "updated_at": "2022-04-04T18:06:20Z",
      "source": {
        "issue": {
          "id": 1192133835,
          "node_id": "I_kwDOBokc4s5HDoTL",
          "url": "https://api.github.com/repos/KomodoPlatform/komodo/issues/537",
          "repository_url": "https://api.github.com/repos/KomodoPlatform/komodo",
          "labels_url": "https://api.github.com/repos/KomodoPlatform/komodo/issues/537/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/KomodoPlatform/komodo/issues/537/comments",
          "events_url": "https://api.github.com/repos/KomodoPlatform/komodo/issues/537/events",
          "html_url": "https://github.com/KomodoPlatform/komodo/issues/537",
          "number": 537,
          "state": "open",
          "state_reason": null,
          "title": "Detect and handle corrupt or missing blocks or indexes",
          "body": "### Situation:\r\nWhen a node encounters a problem, the block files or index files can become corrupted or have incomplete data.\r\n### Weapons:\r\nCorruption and missing data can be detected. Other nodes can provide the information the corrupted node lacks.\r\n### Objective:\r\nDetect the problem and repair it before allowing the node to report that it is fully synchronized.\r\n### Tactics:\r\n1. For the case of corrupted block files, the chain must be downloaded from the network starting from the point the corruption was detected.\r\n2. For missing block files, the chain must be downloaded and the node re-indexed.\r\n3. For corrupted or missing indexes, the problem must be accurately detected and the user must be prompted to restart the node with the `-reindex` option.\r\n### Where we are now:\r\nSome situations of block or index corruption are detected, others are not. \r\n\r\nAs an example, having the node crash after writing the block to disk but before the index file is written will lead to missing transactions when the node restarts. The node does restart, but the data is inaccurate. Looking for the block returns `nullptr` and looking for a transaction that was within that block returns that the transaction does not exist.\r\n\r\n### Additional Information:\r\nThe function `LoadIndexDB()` does some checks to verify the integrity of the block files. This may be a good place to add additional checks to verify that the blocks and the index are synchronized.\r\n\r\n**Note:** The attempt is to assist node operators when hardware/software issues make a mess within the persisted data on disk. Detecting malicious modification to distort data is not considered here.\r\n\r\n**Note:** Having a block who's previous block does not exist may not be an indication of corruption. It is a valid (temporary) situation that must be planned for.\r\n\r\nIn my testing:\r\n1. Having an incomplete index file (an entire entry about a block does not exist) is not detected, and the node starts with incomplete data.\r\n2. Having a corrupted index file (data truncated off the end) is not detected, and the node starts with a shortened chain. I have yet to test to see if it re-syncs correctly.\r\n3. Having an incomplete block file (an entire block does not exist but does exist in the index) is not detected, but would probably be a very rare occurrence. We could test for it, but we may not want to concentrate heavily on detecting/fixing it.\r\n4. Having a corrupted block file (block cannot be de-serialized) is detected. I have yet to test what options are available for a node operator beyond a full re-sync.\r\n### ToDo:\r\n- [ ] Verify the findings above are accurate for different combinations of corruption / missing data.\r\n- [ ] Run tests on a multi-node chain to determine current abilities for recovering from corruption.\r\n### See also:\r\n[Bitcoin issue 19274](https://github.com/bitcoin/bitcoin/issues/19274)\r\n",
          "user": {
            "login": "jmjatlanta",
            "id": 4626076,
            "node_id": "MDQ6VXNlcjQ2MjYwNzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4626076?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jmjatlanta",
            "html_url": "https://github.com/jmjatlanta",
            "followers_url": "https://api.github.com/users/jmjatlanta/followers",
            "following_url": "https://api.github.com/users/jmjatlanta/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jmjatlanta/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jmjatlanta/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jmjatlanta/subscriptions",
            "organizations_url": "https://api.github.com/users/jmjatlanta/orgs",
            "repos_url": "https://api.github.com/users/jmjatlanta/repos",
            "events_url": "https://api.github.com/users/jmjatlanta/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jmjatlanta/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 4,
          "created_at": "2022-04-04T18:06:20Z",
          "updated_at": "2022-04-05T14:42:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1729918149,
      "node_id": "IC_kwDOABII585nHHTF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1729918149",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T16:31:51Z",
      "updated_at": "2023-09-21T16:31:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "The problem is not easily reproducible.\r\n\r\nPlease open a new issue (or leave a comment in here if you want this re-opened) if you experience the problem again.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19274#issuecomment-1729918149",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19274"
    },
    {
      "event": "closed",
      "id": 10437955178,
      "node_id": "CE_lADOABII584mDJiSzwAAAAJuJo5q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10437955178",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T16:31:51Z"
    },
    {
      "event": "commented",
      "id": 1729933054,
      "node_id": "IC_kwDOABII585nHK7-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1729933054",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T16:39:43Z",
      "updated_at": "2023-09-21T16:39:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "seems similar suggestion as #17341. I still think that this might make sense, and with the `getblockfrompeer` rpc this should be possible without adding much code, especially after  #27652 would be resolved. ",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19274#issuecomment-1729933054",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19274"
    },
    {
      "event": "commented",
      "id": 1729941579,
      "node_id": "IC_kwDOABII585nHNBL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1729941579",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T16:45:11Z",
      "updated_at": "2023-09-21T16:45:11Z",
      "author_association": "MEMBER",
      "body": "Not sure if this is worth it. Block corruption should never happen or only rarely happen, so optimizing re-index doesn't seem worth it.\r\n\r\nIt seems better to optimize the hardware you are running on.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19274#issuecomment-1729941579",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19274"
    },
    {
      "event": "commented",
      "id": 1733817681,
      "node_id": "IC_kwDOABII585nV_VR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1733817681",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-25T14:24:34Z",
      "updated_at": "2023-09-25T14:24:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Not sure if this is worth it. Block corruption should never happen or only rarely happen, so optimizing re-index doesn't seem worth it.\r\n\r\nDoes it really happen less today than corruptions for which `-reindex` or `-reindex-chainstate` would help?\r\nAlso, it seems that the data integrity requirements for block storage are lower than for other types of data, since the data is mostly used to help others sync: For example, it's not uncommon to store the `/blocks` directory on a external drive which may be slower and of less quality than the drive the chainstate and wallet are on.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19274#issuecomment-1733817681",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19274"
    }
  ]
}