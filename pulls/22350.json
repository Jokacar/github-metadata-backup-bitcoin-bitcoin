{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350",
    "id": 678533820,
    "node_id": "MDExOlB1bGxSZXF1ZXN0Njc4NTMzODIw",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22350",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/22350.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/22350.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/13511cec51599fc5c95c6ececef0345aea6e6fcc",
    "number": 22350,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Rotate debug.log file",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "*EDIT*: Change the default behavior to be that log rotation is _not_ enabled.\r\n\r\nThis PR will mitigate a disk-fill DoS attack (although such an attack is not known to exist today).\r\n\r\nIf log rotation is enabled, then when the `debug.log` file reaches a certain size (default, 10 MB), rename it to a similar name that includes the current time, and reset (truncate) `debug.log`. Keep a limited number of rotated files. This provides a sliding window of debug messages so that disk space isn't consumed without limit. \r\n\r\nThis is similar to Unix `logrotate(8)` but requires no external tools and complex configuration, and works on Windows (which doesn't have `logrotate`).",
    "labels": [
      {
        "id": 241832923,
        "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
        "name": "Utils/log/libs",
        "description": "",
        "color": "5319e7",
        "default": false
      },
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      },
      {
        "id": 1648013533,
        "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
        "name": "Review club",
        "description": "",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2021-06-27T15:17:39Z",
    "updated_at": "2023-03-08T10:18:01Z",
    "closed_at": "2022-01-26T15:26:15Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "dc2eb24a94e9fccdc6c73199c0f8c898df435fa4",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "LarryRuane:2021-06-logrotate-timestamp",
      "ref": "2021-06-logrotate-timestamp",
      "sha": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 176543842,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNzY1NDM4NDI=",
        "name": "bitcoin",
        "full_name": "LarryRuane/bitcoin",
        "owner": {
          "login": "LarryRuane",
          "id": 8321330,
          "node_id": "MDQ6VXNlcjgzMjEzMzA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/LarryRuane",
          "html_url": "https://github.com/LarryRuane",
          "followers_url": "https://api.github.com/users/LarryRuane/followers",
          "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
          "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
          "repos_url": "https://api.github.com/users/LarryRuane/repos",
          "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/LarryRuane/bitcoin",
        "description": "Bitcore Bitcoin build with address indexes",
        "fork": true,
        "url": "https://api.github.com/repos/LarryRuane/bitcoin",
        "archive_url": "https://api.github.com/repos/LarryRuane/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/LarryRuane/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/LarryRuane/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/LarryRuane/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/LarryRuane/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/LarryRuane/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/LarryRuane/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/LarryRuane/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/LarryRuane/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/LarryRuane/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/LarryRuane/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/LarryRuane/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/LarryRuane/bitcoin/events",
        "forks_url": "https://api.github.com/repos/LarryRuane/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/LarryRuane/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/LarryRuane/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/LarryRuane/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/LarryRuane/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/LarryRuane/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/LarryRuane/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/LarryRuane/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/LarryRuane/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/LarryRuane/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/LarryRuane/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/LarryRuane/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/LarryRuane/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/LarryRuane/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/LarryRuane/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/LarryRuane/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:LarryRuane/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/LarryRuane/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/LarryRuane/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/LarryRuane/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/LarryRuane/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/LarryRuane/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/LarryRuane/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/LarryRuane/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/LarryRuane/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/LarryRuane/bitcoin/hooks",
        "svn_url": "https://github.com/LarryRuane/bitcoin",
        "homepage": "https://bitcore.io/bitcoin",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 220427,
        "default_branch": "0.12.1-bitcore",
        "open_issues_count": 9,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-28T23:12:35Z",
        "created_at": "2019-03-19T15:31:01Z",
        "updated_at": "2023-02-24T19:51:21Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "3facf0a8ae99a03f5e2fb709b8d86c47328d363c",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:41Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 171,
    "deletions": 11,
    "changed_files": 7,
    "commits": 5,
    "review_comments": 18,
    "comments": 19
  },
  "events": [
    {
      "event": "commented",
      "id": 869180173,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTE4MDE3Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/869180173",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-27T15:19:31Z",
      "updated_at": "2021-08-16T17:43:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "This is an alternative to #21603. That PR's motivation also applies to this PR:\r\n\r\n> A disk fill attack is an attack where an untrusted party (such as a peer) is able to cheaply make your node log to disk excessively. The excessive logging may fill your disk and thus make your node crash either cleanly (best case: if disk fill rate is relatively slow) or uncleanly (worst case: if disk fill rate is relatively fast).\r\n\r\nAn advantage I see with this approach is that it addresses the [concern](https://github.com/bitcoin/bitcoin/pull/21603#issuecomment-813901411) with log messages being dropped. With this approach, log messages are never dropped; they just don't go back an infinite amount of time :).\r\n\r\nAnother advantage that could prove very useful is that debug log categories can be enabled for an indefinite amount of time (#21603 sensibly does not limit debug logging). It's quite possible that a bug occurs rarely and at an unpredictable time. By the time the bug occurs, it's too late to enable the relevant debug log category. Also, it might be nice to not have to worry so much about adding more logging in general (without even having to condition it on a category). There may be useful stuff to log that we don't currently, because of this disk space concern.\r\n\r\nSome background information: Currently, `debug.log` grows unbounded until `bitcoind` restarts. During startup, if `debug.log` is greater than 11 MB, it's truncated to 10 MB (keeping only the most recent log messages). This PR will make this unnecessary.\r\n\r\nThe rotated log files are kept in a separate directory, to avoid cluttering up the data directory (see discussion below). This directory has the fixed name `debug-rotated` and is located in the same directory as the debug log file. That is, if you move the debug log file to a different location (using `-debuglogfile=path`), then `debug-rotated` also moves to the same directory as the debug log file. (This way they will be on the same file system, allowing renames.)\r\n\r\nAn easy way to manually test this without having to add artificial logging is to enable log rotation by adding these lines to `bitcoin.conf` (or specify on the command line):\r\n```\r\ndebuglogrotatekeep=10\r\ndebugloglimit=1\r\n```\r\nThen start `bitcoind -debug` (enable all debug categories), and observe the `debug.log` file and the rotated files:\r\n```\r\n$ cd .bitcoin\r\n$ ls -l debug.log\r\n-rw------- 1 larry larry     87513 Jun 27 09:11 debug.log\r\n$ ls -l debug-rotated\r\n-rw------- 1 larry larry   1000076 Jun 27 09:03 2021-06-27T15:03:56Z\r\n-rw------- 1 larry larry   1000190 Jun 27 09:05 2021-06-27T15:05:28Z\r\n-rw------- 1 larry larry   1000002 Jun 27 09:07 2021-06-27T15:07:09Z\r\n-rw------- 1 larry larry   1000042 Jun 27 09:07 2021-06-27T15:07:56Z\r\n-rw------- 1 larry larry   1000045 Jun 27 09:10 2021-06-27T15:10:55Z\r\n```\r\nThere's no harm in manually removing these rotated log files, even if `bitcoind` is running. So you could set up some kind of external agent that compresses the rotated files, or ships them off somewhere else, or whatever. (To prevent `bitcoind` from ever deleting rotated log files, set `debuglogrotatekeep=9999999` or something like that.)\r\n\r\nPlease comment or review: @jnewbery @practicalswift @dergoegge ",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-869180173",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "mentioned",
      "id": 4944039319,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDk0NDAzOTMxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944039319",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-27T15:19:32Z"
    },
    {
      "event": "subscribed",
      "id": 4944039320,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ5NDQwMzkzMjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944039320",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-27T15:19:32Z"
    },
    {
      "event": "mentioned",
      "id": 4944039321,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDk0NDAzOTMyMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944039321",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-27T15:19:32Z"
    },
    {
      "event": "subscribed",
      "id": 4944039322,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ5NDQwMzkzMjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944039322",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-27T15:19:32Z"
    },
    {
      "event": "mentioned",
      "id": 4944039323,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDk0NDAzOTMyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944039323",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-27T15:19:32Z"
    },
    {
      "event": "subscribed",
      "id": 4944039324,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ5NDQwMzkzMjQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944039324",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-27T15:19:32Z"
    },
    {
      "event": "reviewed",
      "id": 693428595,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjkzNDI4NTk1",
      "url": null,
      "actor": null,
      "commit_id": "91d796a21a8c0fbb57d13fb1ca48505bb8d52845",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#pullrequestreview-693428595",
      "submitted_at": "2021-06-27T15:36:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
    },
    {
      "event": "commented",
      "id": 869191643,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTE5MTY0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/869191643",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-27T16:40:45Z",
      "updated_at": "2021-10-15T06:01:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23203](https://github.com/bitcoin/bitcoin/pull/23203) ([POC] build: static musl libc based bitcoind (with LTO) by fanquake)\n* [#22937](https://github.com/bitcoin/bitcoin/pull/22937) (refactor: Forbid calling unsafe fs::path(std::string) constructor and fs::path::string() method by ryanofsky)\n* [#21603](https://github.com/bitcoin/bitcoin/pull/21603) (log: Mitigate disk filling attacks by rate limiting LogPrintf by dergoegge)\n* [#20744](https://github.com/bitcoin/bitcoin/pull/20744) (Use std::filesystem. Remove Boost Filesystem & System by fanquake)\n* [#15719](https://github.com/bitcoin/bitcoin/pull/15719) (Wallet passive startup by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-869191643",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4944335429,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDk0NDMzNTQyOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944335429",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-27T21:27:22Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-27T21:31:37Z",
      "updated_at": "2021-06-27T21:31:37Z",
      "source": {
        "issue": {
          "id": 850343512,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjA4OTMyOTkx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21603",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21603/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21603/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21603/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21603",
          "number": 21603,
          "state": "closed",
          "state_reason": null,
          "title": "log: Mitigate disk filling attacks by rate limiting LogPrintf",
          "body": "This picks up #19995 in an attempt to solve #21559.\r\n\r\nThe goal of this PR is to mitigate disk filling attacks by temporarily rate limiting `LogPrintf(…)`.\r\n\r\nA disk fill attack is an attack where an untrusted party (such as a peer) is able to cheaply make your node log to disk excessively. The excessive logging may fill your disk and thus make your node crash either cleanly (best case: if disk fill rate is relatively slow) or uncleanly (worst case: if disk fill rate is relatively fast).\r\n\r\n## Approach\r\n\r\nThe hourly logging quota is set **per source location**. Every single source location (say net_processing.cpp:418) gets a quota of 1 MB of logging per hour. Logging is only dropped from source locations that exceed the quota.\r\n\r\n- Only logging to disk is rate limited. Logging to console is not rate limited.\r\n- Only `LogPrintf(…)` is rate limited. `LogPrint(category, …)` (`-debug`) is not rate limited.\r\n- `UpdateTip: new best=[…]` is logged using `LogPrintfWithoutRateLimiting(…)` to avoid rate limiting. High log volume is expected for that source location during IBD.\r\n- When logging is restarted a tally of how many messages/bytes were dropped is printed.\r\n- Log rate limiting can be disabled with the `-ratelimitlogging` config option.\r\n- All logs will be prefixed with `[*]` if there is at least one source location that is currently being suppressed.\r\n\r\n### Alternatives\r\n\r\nIn a recent [PR Review Club meeting](https://bitcoincore.reviews/21603) we discussed this PR and evaluated alternative approaches.\r\n\r\n<details>\r\n<summary>Global rate limiting </summary>\r\n\r\n#### Global rate limiting\r\n\r\nThere was some discussion around an alternative approach which would be to globally rate limit `LogPrintf(…)`.  This approach was implemented in a competing PR #21706. The main point [1] in favor of global rate limiting is that it could be confusing to have incomplete logs when logs from one source location are dropped but not from others. The main point against global rate limiting is that it opens another attack vector where an attacker could trigger rate limiting and then execute a 2. attack which would then not be document in the logs at all. With regard to the attack vector on the global approach and the overall reviews the two approaches have gotten I have chosen to continue with the approach in this PR. \r\n(To address the concern of [1] i have chosen to prefix all logs with `[*]` if there is at least one source location that is currently being suppressed.)\r\n</details>\r\n\r\n<details>\r\n<summary>logrotate</summary>\r\n\r\n#### logrotate\r\n\r\nLarryRuane brought up [logrotate](https://linux.die.net/man/8/logrotate) which can be used on linux to monitor log files and perform actions (delete, compress, send somewhere, etc.) on them when a certain size or point in time is reached. `logrotate` could be used to rate limit log but since we would like log rate limiting to be enabled by default it is not the best solution. Also on windows an alternative would have to be used.\r\n\r\n</details>\r\n\r\n## Testing\r\n\r\nI have a written a unit test which is contained in this PR. (Not the greatest test, it currently does not work on windows thanks to `\\r\\n`. If someone has an idea how to improve the test i would appreciate it)\r\n\r\nFurther more I made a RPC [here](https://github.com/dergoegge/bitcoin/commit/8e6d15d6be06834d1f634f4a54ea646be8bc3491) that can log excessive amounts of \"a\"s from different locations which i have found useful during my own testing.\r\n`bitcoin-cli excessivelog <location (1-5)> <num_bytes>`\r\n\r\n⚠️One thing to note with that rpc is that the rate limiting logic still prints the last message that triggered the limiting to disk, so something like `bitcoin-cli excessivelog 1 536870912` would still log ~512MiB to disk. Logging to console is also never suppressed (unless -printtoconsole=0)  ⚠️\r\n\r\nA simple example to use the rpc:\r\n```bash\r\nbitcoin-cli -regtest setmocktime 1\r\nbitcoin-cli -regtest excessivelog 1 1048500 # log just under 1MiB\r\nbitcoin-cli -regtest excessivelog 1 100 # this should get the total amount logged above 1MiB\r\n                                        # and the rate limiting logic should kick in\r\nbitcoin-cli -regtest setmocktime 3602 # let 1 hour pass (only works in regtest)\r\nbitcoin-cli -regtest excessivelog 1 100 # this should trigger logging to resume\r\n```\r\n",
          "user": {
            "login": "dergoegge",
            "id": 8077169,
            "node_id": "MDQ6VXNlcjgwNzcxNjk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dergoegge",
            "html_url": "https://github.com/dergoegge",
            "followers_url": "https://api.github.com/users/dergoegge/followers",
            "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
            "organizations_url": "https://api.github.com/users/dergoegge/orgs",
            "repos_url": "https://api.github.com/users/dergoegge/repos",
            "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dergoegge/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 41,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21603",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21603",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21603.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21603.patch"
          },
          "closed_at": "2022-10-07T10:18:05Z",
          "created_at": "2021-04-05T12:47:33Z",
          "updated_at": "2022-10-07T10:18:05Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4944623779,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDk0NDYyMzc3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944623779",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-28T01:35:02Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4944643435,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDk0NDY0MzQzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4944643435",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-28T01:46:19Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-28T02:43:05Z",
      "updated_at": "2021-06-28T02:43:05Z",
      "source": {
        "issue": {
          "id": 483122923,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzA5MjYzNTM5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16673",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16673/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16673/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16673/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/16673",
          "number": 16673,
          "state": "closed",
          "state_reason": null,
          "title": "Relog configuration args on debug.log rotation",
          "body": "This PR was part of #16115 but reviewers requested that this be made into a separate PR. As explained in #16115, it's useful, maybe even crucial, for support, analysis, and debugging purposes for the configuration arguments to be present in the `debug.log` file, as that may be the only artifact provided to the developer or support team. That PR logs the configuration settings (command-line arguments and `bitcoin.conf` contents) when `bitcoind` starts. But sometime later, the debug log file may be \"rotated\" (a new `debug.log` file started so it doesn't grow unbounded in size) and this information would be lost unless the previous `debug.log` is preserved.\r\n\r\nThis PR re-logs the configuration information when the log rotates, ensuring that the current `debug.log` file contains this information. Reviewers had reservations about the previous approach (which you can see in #16115's discussion thread), so this PR implements this functionality in a simpler and (I believe) much better way.",
          "user": {
            "login": "LarryRuane",
            "id": 8321330,
            "node_id": "MDQ6VXNlcjgzMjEzMzA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LarryRuane",
            "html_url": "https://github.com/LarryRuane",
            "followers_url": "https://api.github.com/users/LarryRuane/followers",
            "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
            "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
            "repos_url": "https://api.github.com/users/LarryRuane/repos",
            "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16673",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/16673",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/16673.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/16673.patch"
          },
          "closed_at": "2022-10-12T18:01:56Z",
          "created_at": "2019-08-20T23:07:47Z",
          "updated_at": "2022-10-12T18:01:56Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 4945162337,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ5NDUxNjIzMzc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4945162337",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-28T05:20:14Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "commented",
      "id": 869557601,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTU1NzYwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/869557601",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-06-28T10:11:07Z",
      "updated_at": "2021-06-28T10:11:07Z",
      "author_association": "MEMBER",
      "body": "I think this is an interesting approach and i like the concept of log rotation but this is a bigger behavior change than [#21603](https://github.com/bitcoin/bitcoin/pull/21603) and i am not sure if always dropping (old) logs should be the default behavior. \r\n \r\n > An advantage I see with this approach is that it addresses the [concern](https://github.com/bitcoin/bitcoin/pull/21603#issuecomment-813901411) with log messages being dropped. With this approach, log messages are never dropped; they just don't go back an infinite amount of time :).\r\n \r\nContinuously dropping logs seems like an aggressive change to me because why drop the logs when there is no attack? I haven't had problems with logfile sizes in normal node operation. (maybe thats just me) \r\n\r\n> Some background information: Currently, `debug.log` grows unbounded until `bitcoind` restarts. During startup, if `debug.log` is greater than 11 MB, it's truncated to 10 MB (keeping only the most recent log messages). This PR will make this unnecessary.\r\n\r\nI think that the current behavior is actually quite useful because in case of an issue (e.g.: a crash) we have the entire log of the nodes lifespan.\r\n\r\nThis also seems to opens a similar attack vector as the global rate limiting did, an attacker (that knows of two bugs one of which is a disk filling bug) can execute an attack and then use the disk filling bug to rotate the logs out that had info about the attack.\r\n",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-869557601",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "reviewed",
      "id": 695354386,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Njk1MzU0Mzg2",
      "url": null,
      "actor": null,
      "commit_id": "b526922724eba3221db84d7ba6624b14c480a74e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#pullrequestreview-695354386",
      "submitted_at": "2021-06-29T18:14:16Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
    },
    {
      "event": "commented",
      "id": 874410976,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDQxMDk3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874410976",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-06T02:15:43Z",
      "updated_at": "2021-07-06T02:15:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Continuously dropping logs seems like an aggressive change to me because why drop the logs when there is no attack? I haven't had problems with logfile sizes in normal node operation. (maybe thats just me)\r\n\r\nI come from a storage system background, and dropping the oldest logs was standard practice. (This is why there's a `logrotate` facility on Unix and similar systems.) A general principle is that any demon process that can run for an arbitrary amount of time should not use resources in proportion to how long it's been running. Yes, resource usage can increase quickly early, and after reaching \"steady-state\" can go up and down over time. But the system shouldn't, for example, gradually use more memory or gradually require more CPU (requiring a restart to fix). The current logging design violates this principle as regards disk usage. So even without an active attack, we should be pruning the log file.\r\n\r\n> I think that the current behavior is actually quite useful because in case of an issue (e.g.: a crash) we have the entire log of the nodes lifespan.\r\n\r\nThat's true, but for reasons I already stated, that's not practical. The most useful information is likely to be in the most recent logs. The user can always increase the amount of logging (in effect, to infinity if needed). Or disable this feature (work as today). Consider another option the user has: Run some kind of small agent (even just a small shell script) that watches for new rotated debug log files, and copies them off to some other place with tons of storage. Or compresses them. Or filters out interesting stuff from them and deletes them.\r\n\r\n> This also seems to opens a similar attack vector as the global rate limiting did, an attacker (that knows of two bugs one of which is a disk filling bug) can execute an attack and then use the disk filling bug to rotate the logs out that had info about the attack.\r\n\r\nWell, this is unlikely-squared. This isn't something I'm worried about, but maybe I'm wrong.\r\n\r\nThanks for your comments!",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-874410976",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "commented",
      "id": 874977115,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDk3NzExNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874977115",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-06T18:12:54Z",
      "updated_at": "2021-07-06T18:12:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "Added commit d885f0b3fad93b10cf400c596d57063687d05efb to address @luke-jr's review comments (aside from \"[What if I want to rotate, but never delete](https://github.com/bitcoin/bitcoin/pull/22350#discussion_r660854364)\" because I'm not sure which is the best approach). There are no tests or release notes, because still looking for approach or concept ACK.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-874977115",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "mentioned",
      "id": 4984794807,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDk4NDc5NDgwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4984794807",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-06T18:12:54Z"
    },
    {
      "event": "subscribed",
      "id": 4984794809,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ5ODQ3OTQ4MDk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4984794809",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-06T18:12:54Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4985127457,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDk4NTEyNzQ1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4985127457",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-06T19:30:51Z"
    },
    {
      "event": "commented",
      "id": 875026591,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg3NTAyNjU5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/875026591",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-06T19:31:34Z",
      "updated_at": "2021-07-06T19:31:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "Force-pushed to fix CI failure (missing #include directive)",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-875026591",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4998012628,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDk5ODAxMjYyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4998012628",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-09T02:34:02Z"
    },
    {
      "event": "commented",
      "id": 876868239,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg3Njg2ODIzOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876868239",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-09T02:34:36Z",
      "updated_at": "2021-07-09T02:34:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "Force-pushed to fix CI failures, also added a functional test.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-876868239",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4998056802,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDk5ODA1NjgwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4998056802",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-09T02:54:31Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 4998155867,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NDk5ODE1NTg2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4998155867",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-09T03:37:51Z"
    },
    {
      "event": "reviewed",
      "id": 706529649,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzA2NTI5NjQ5",
      "url": null,
      "actor": null,
      "commit_id": "c82eece30c84605d6815b3014f57cc281cff7cbe",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "narula",
        "id": 177646,
        "node_id": "MDQ6VXNlcjE3NzY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/177646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/narula",
        "html_url": "https://github.com/narula",
        "followers_url": "https://api.github.com/users/narula/followers",
        "following_url": "https://api.github.com/users/narula/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/narula/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/narula/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/narula/subscriptions",
        "organizations_url": "https://api.github.com/users/narula/orgs",
        "repos_url": "https://api.github.com/users/narula/repos",
        "events_url": "https://api.github.com/users/narula/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/narula/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#pullrequestreview-706529649",
      "submitted_at": "2021-07-14T17:18:03Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
    },
    {
      "event": "labeled",
      "id": 5024575593,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDUwMjQ1NzU1OTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5024575593",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-15T10:29:50Z",
      "label": {
        "name": "Review club",
        "color": "0052cc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5126994559,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTEyNjk5NDU1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5126994559",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-08T20:09:42Z"
    },
    {
      "event": "commented",
      "id": 894860956,
      "node_id": "IC_kwDOABII5841Vn6c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894860956",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-08T21:56:13Z",
      "updated_at": "2021-08-08T22:16:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "There doesn't seem to be much support for this PR, and at least part of the problem may be that it changes default behavior, and that could surprise some users. So I force-pushed a small change so that by default, there is no functional change (preserve existing behavior). If you want to enable log rotation, add lines like these to your `bitcoin.conf` file:\r\n```\r\ndebuglogrotatekeep=10\r\ndebugloglimit=1\r\n```\r\n(This will retain 10 rotated files, each around 1 MB.) Starting with `-debug` will generate a lot more logging.\r\n\r\nI think this version is much safer; if log rotation proves to be popular, we can consider making it default behavior later.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-894860956",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "commented",
      "id": 896917204,
      "node_id": "IC_kwDOABII5841dd7U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/896917204",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-11T15:18:59Z",
      "updated_at": "2021-08-11T15:18:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nI strongly agree with the principle above:\r\n\r\n> A general principle is that any demon process that can run for an arbitrary amount of time should not use resources in proportion to how long it's been running. Yes, resource usage can increase quickly early, and after reaching \"steady-state\" can go up and down over time. But the system shouldn't, for example, gradually use more memory or gradually require more CPU (requiring a restart to fix). The current logging design violates this principle as regards disk usage. So even without an active attack, we should be pruning the log file.\r\n\r\nI also agree with the decision to make this optional for users (i.e it will not change default behavior). Having this as a config option would make me feel more comfortable running a node with `-debug`.\r\n\r\nAlso, not really important, but a personal preference: I like having logs split into timestamped files as it makes it much easier for me to search logs during the period where I believe the issue occurred as opposed to opening and searching a very large file",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-896917204",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "reviewed",
      "id": 727778945,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NzI3Nzc4OTQ1",
      "url": null,
      "actor": null,
      "commit_id": "7db585f34c3e8ddf9ff11aedd49cad0170989c8e",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "while testing, I noticed there were silent failures when I specified a name other than `debug.log` with log rotation requested and silent failures if I specified a `debugloglimit` of < 1 (but greater than zero). I see there is code to handle the filename error, but it doesn't appear to be working as intended.\r\n\r\nI agree with the concept of log rotation, but I'm not crazy about the approach of restricting the user to a hard coded name for the log file, especially since before this they could specify an arbitrary filename. Seems worth the effort to enable log rotation even with an arbitrary filename from the user, imo.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#pullrequestreview-727778945",
      "submitted_at": "2021-08-11T18:15:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
    },
    {
      "event": "convert_to_draft",
      "id": 5151496056,
      "node_id": "MDE5OkNvbnZlcnRUb0RyYWZ0RXZlbnQ1MTUxNDk2MDU2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5151496056",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-12T18:50:36Z"
    },
    {
      "event": "commented",
      "id": 898350416,
      "node_id": "IC_kwDOABII5841i71Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898350416",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T10:12:51Z",
      "updated_at": "2021-08-13T10:12:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "Strong Concept ACK\r\n\r\nI think one of the main reasons why restricting unlimited growth of the log file was never seen as particularly problematic in Bitcoin Core is the fact that running bitcoind with default parameters (that is, w/o pruning) already consumes (potentially) infinite disk space over time. Having a growth rate of > 1 GB per week of the block chain on mainnet, one would hardly be worried about the additional space consumption of relatively small log messages.\r\n\r\nThat said, I still fully agree that we should support log-rotating for the following reasons:\r\n* log file growth is less deterministic than block chain growth; there _could_ be a scenario that we are not aware of yet that leads to massive log ouputs, that an attacker could exploit\r\n* running pruned nodes will be more and more common in the future, and for those it makes even more sense to also limit the log-file size (I could imagine that users with very limited disk-space, running with `-prune=550` ran already into problems due to unexpected unlimited log file growth)\r\n* fulfilling the principle you mentioned: \r\n> [...] any demon process that can run for an arbitrary amount of time should not use resources in proportion to how long it's been running.\r\n\r\nI also think it's better to keep the default behaviour by now as it is. Maybe it's worth it mentioning in the docs that using this new feature is recommended for pruned node users?\r\n\r\nFeel free to tag me if this PR is out of draft, will be happy to review.",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-898350416",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmZGRjOTAwMDY1OWFlMTVkNGNlMjYzOWVjZWNhOWI2NTFjMjAwYjJl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fddc9000659ae15d4ce2639ececa9b651c200b2e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fddc9000659ae15d4ce2639ececa9b651c200b2e",
      "tree": {
        "sha": "7e89c177ef6bb924b215bfa8604fd05899a88a7c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7e89c177ef6bb924b215bfa8604fd05899a88a7c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3e306ee1d5c79eda64eb991fb2696bf530f0b30d",
          "sha": "3e306ee1d5c79eda64eb991fb2696bf530f0b30d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3e306ee1d5c79eda64eb991fb2696bf530f0b30d"
        }
      ],
      "message": "add FormatISO8601DateTimeBasic()\n\nSee https://en.wikipedia.org/wiki/ISO_8601#Times\nThis is needed because log file rotation filenames are constructed using\nthis \"basic\" format, because it has no \":\" (colon) characters, which\nWindows does not allow.",
      "committer": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2021-08-13T21:53:39Z"
      },
      "author": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2021-08-13T21:53:39Z"
      },
      "sha": "fddc9000659ae15d4ce2639ececa9b651c200b2e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0ZjUxMGRjMTkzOGRlYzQwNTk1NTI5MmNjZjU0Y2MwY2I3NWI4MDU3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4f510dc1938dec405955292ccf54cc0cb75b8057",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4f510dc1938dec405955292ccf54cc0cb75b8057",
      "tree": {
        "sha": "7c32ac0aa6853f9a3407dd473b23af1cad3953d9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7c32ac0aa6853f9a3407dd473b23af1cad3953d9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fddc9000659ae15d4ce2639ececa9b651c200b2e",
          "sha": "fddc9000659ae15d4ce2639ececa9b651c200b2e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fddc9000659ae15d4ce2639ececa9b651c200b2e"
        }
      ],
      "message": "Logger::StartLogging() returns an error string instead of bool\n\nNo functional change.",
      "committer": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2021-08-13T23:04:24Z"
      },
      "author": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2021-08-13T22:10:12Z"
      },
      "sha": "4f510dc1938dec405955292ccf54cc0cb75b8057"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5ZmIwNTI5YTlhMGZiZjJhNDU1NWE1MTFiNGRhZGIzNmEwNDU2Nzhh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9fb0529a9a0fbf2a4555a511b4dadb36a045678a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9fb0529a9a0fbf2a4555a511b4dadb36a045678a",
      "tree": {
        "sha": "4f17fa791c5859779cd7432b117201a1a9b1c7c2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4f17fa791c5859779cd7432b117201a1a9b1c7c2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4f510dc1938dec405955292ccf54cc0cb75b8057",
          "sha": "4f510dc1938dec405955292ccf54cc0cb75b8057",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4f510dc1938dec405955292ccf54cc0cb75b8057"
        }
      ],
      "message": "add log file rotation configuration arguments\n\n-debuglogrotatekeep: number of rotated log files to keep\n-debugloglimit: debug.log size (in MB) before it is rotated\n\nThe default -debuglogrotatekeep value is 0, which disables rotation.",
      "committer": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2021-08-13T23:05:06Z"
      },
      "author": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2021-08-13T22:23:34Z"
      },
      "sha": "9fb0529a9a0fbf2a4555a511b4dadb36a045678a"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5157965447,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTE1Nzk2NTQ0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5157965447",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T23:09:12Z"
    },
    {
      "event": "commented",
      "id": 898768311,
      "node_id": "IC_kwDOABII5841kh23",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898768311",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T23:32:42Z",
      "updated_at": "2021-08-13T23:32:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the concept review, @theStack, I just force-pushed a new version that's a lot better, I think, and implements the suggestions here: https://github.com/bitcoin/bitcoin/pull/22350#discussion_r687405694",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-898768311",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "mentioned",
      "id": 5158002434,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NTE1ODAwMjQzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5158002434",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T23:32:43Z"
    },
    {
      "event": "subscribed",
      "id": 5158002436,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDUxNTgwMDI0MzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5158002436",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T23:32:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5158015434,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTE1ODAxNTQzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5158015434",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T23:41:29Z"
    },
    {
      "event": "ready_for_review",
      "id": 5158017868,
      "node_id": "MDE5OlJlYWR5Rm9yUmV2aWV3RXZlbnQ1MTU4MDE3ODY4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5158017868",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-13T23:43:22Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-14T04:54:09Z",
      "updated_at": "2021-08-14T04:54:09Z",
      "source": {
        "issue": {
          "id": 772987536,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ0MTU4MDYz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20744",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20744/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20744/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20744/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20744",
          "number": 20744,
          "state": "closed",
          "state_reason": null,
          "title": "Use std::filesystem. Remove Boost Filesystem & System",
          "body": "This PR replaces our Boost Filesystem usage with [`std::filesystem`](https://en.cppreference.com/w/cpp/filesystem) and includes dropping Boost System as a dependency. It includes a squashed down version of the changes from #19245. \r\n\r\n[A macro has been added](https://github.com/bitcoin/bitcoin/commit/7002c4ade0148c3273659208ae517b79822b289d), modelling how we check for `-latomic` to facilitate linking with `-lstdc++fs` when required. This is  ~GCC < 9.1 & ~Clang < 9.0, however not always. i.e you could be using Clang 7 on top of a GCC 9 installation (i.e Ubuntu Focal) and use `<filesystem>` without passing any additional arguments. I've tested this with GCC 8 on Bionic, Clang 7 on Focal & with Apple Clang 12.0.0 on macOS.\r\n\r\nGuix build:\r\n```bash\r\nbash-5.1# find guix-build-$(git rev-parse --short=12 HEAD)/output/ -type f -print0 | env LC_ALL=C sort -z | xargs -r0 sha256sum\r\nc1f9b326f9be4140f00cebeae5ff8de428a2fb8ecced539fcc36c53f53bfecf4  guix-build-07269321f38e/output/aarch64-linux-gnu/SHA256SUMS.part\r\nb44aca3bcf5ea92a3a6c48c24d6f85576f425f59b73528d4d00c20e950cf2128  guix-build-07269321f38e/output/aarch64-linux-gnu/bitcoin-07269321f38e-aarch64-linux-gnu-debug.tar.gz\r\n27a5553f7bd14797293fc40c5fb131c91e98a61d5481a283f13a1d0497eb5ed8  guix-build-07269321f38e/output/aarch64-linux-gnu/bitcoin-07269321f38e-aarch64-linux-gnu.tar.gz\r\n99e55a88823f6095864a09c9eaa824e24d9ec527380eb394f751c7205b930f69  guix-build-07269321f38e/output/arm-linux-gnueabihf/SHA256SUMS.part\r\nb720b2724fa47fde584f58ed3b587f1d1183523540777fd367ab7e582605cfea  guix-build-07269321f38e/output/arm-linux-gnueabihf/bitcoin-07269321f38e-arm-linux-gnueabihf-debug.tar.gz\r\nc19c247f4e9e0d7f888ac8ba9de1c12d382f48fa828a685d4fe02818a18abd1f  guix-build-07269321f38e/output/arm-linux-gnueabihf/bitcoin-07269321f38e-arm-linux-gnueabihf.tar.gz\r\n55b49ccb38de03bb95101354a16fd8d2190abede5ccc0d9b00b40c0cd526a2f6  guix-build-07269321f38e/output/arm64-apple-darwin/SHA256SUMS.part\r\nbaa44752470a6be9acae1c2f8fd1b9bc37afb00971787ea11fbaeddc9ab7c4aa  guix-build-07269321f38e/output/arm64-apple-darwin/bitcoin-07269321f38e-arm64-apple-darwin.tar.gz\r\nad7df4d8026d5bcce1321cdccc2e1820e8a8bb7e1064ed16e20a7ea354057fd2  guix-build-07269321f38e/output/arm64-apple-darwin/bitcoin-07269321f38e-osx-unsigned.dmg\r\nf342066dc34a14d67c47779a2413a14633a996e8e7ddca89ae0184e23ef99efd  guix-build-07269321f38e/output/arm64-apple-darwin/bitcoin-07269321f38e-osx-unsigned.tar.gz\r\nf6905346a5d48f57805fb062d0247ab5007c89047070a0b3125941dd1a2b8aa6  guix-build-07269321f38e/output/dist-archive/bitcoin-07269321f38e.tar.gz\r\na1f6c4b2b118dbd89770801f0bcffd2218b82df408cd227e34c40493469bb7a2  guix-build-07269321f38e/output/powerpc64-linux-gnu/SHA256SUMS.part\r\nba8359426e523bf013d93579c1bedc57380214c8170a9743b64ec1a8a3bbccbf  guix-build-07269321f38e/output/powerpc64-linux-gnu/bitcoin-07269321f38e-powerpc64-linux-gnu-debug.tar.gz\r\nb0bb500c274a683ea28ecbc1e8f18c618a9f8acb00045f80ae43c515288402c0  guix-build-07269321f38e/output/powerpc64-linux-gnu/bitcoin-07269321f38e-powerpc64-linux-gnu.tar.gz\r\n38c85e9589e092cd3aa08996aa383c0ccd5c73208943389741355a6eb7f72537  guix-build-07269321f38e/output/powerpc64le-linux-gnu/SHA256SUMS.part\r\n50fcba7942ff48d91e84c093fda0affc17e46167fe1d5137c6e14c5c41f289d1  guix-build-07269321f38e/output/powerpc64le-linux-gnu/bitcoin-07269321f38e-powerpc64le-linux-gnu-debug.tar.gz\r\nfa08ef1ceca072e014faa95ffee945954b2976fa28f90926b87ab0e5f15f8ca5  guix-build-07269321f38e/output/powerpc64le-linux-gnu/bitcoin-07269321f38e-powerpc64le-linux-gnu.tar.gz\r\ne52dd80a9c306d6aeb544acaa1f4ed560b6b92b5184764a05026d45451aa2e94  guix-build-07269321f38e/output/riscv64-linux-gnu/SHA256SUMS.part\r\n864e0a16c485b4159cec3ee0a83b046f1b1c3bc821670011c5ac5cd09ddfb91f  guix-build-07269321f38e/output/riscv64-linux-gnu/bitcoin-07269321f38e-riscv64-linux-gnu-debug.tar.gz\r\n4a061172181322e7ad0cf06405bf74f4c8683eaba3a67ecfd46158cba7627f62  guix-build-07269321f38e/output/riscv64-linux-gnu/bitcoin-07269321f38e-riscv64-linux-gnu.tar.gz\r\n876d82251853205420dffe7237523fc6ee3d09f78bf74cc03dc71f548446f335  guix-build-07269321f38e/output/x86_64-apple-darwin/SHA256SUMS.part\r\n3f82b2e62c60eee68e7b8fc28e4792e069e3c2cd780ee2d67290ca422cdbc47c  guix-build-07269321f38e/output/x86_64-apple-darwin/bitcoin-07269321f38e-osx-unsigned.dmg\r\n4ccdd4c410cac9d627e54ce83ee4816608681735da3cb93c60c5eb70ca86337a  guix-build-07269321f38e/output/x86_64-apple-darwin/bitcoin-07269321f38e-osx-unsigned.tar.gz\r\n2179d36b2f60e28c15262d4e51f27465b5ae077f60e550345e125683ca611066  guix-build-07269321f38e/output/x86_64-apple-darwin/bitcoin-07269321f38e-osx64.tar.gz\r\nb377e72fe84b6a982b8d414d60c85e6319523dff50dc852a0ba907f6d850ddd0  guix-build-07269321f38e/output/x86_64-linux-gnu/SHA256SUMS.part\r\n8547e2f582ce05ae6a6224793b64efb2eb63f2816bf0bed5d53fcc4786274597  guix-build-07269321f38e/output/x86_64-linux-gnu/bitcoin-07269321f38e-x86_64-linux-gnu-debug.tar.gz\r\n83b64805aa39f31a6fa4c2ed41e029c3be084e6dea06b90fac1ebca5c95bce29  guix-build-07269321f38e/output/x86_64-linux-gnu/bitcoin-07269321f38e-x86_64-linux-gnu.tar.gz\r\n```",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/52",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/52",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/52/labels",
            "id": 6179837,
            "node_id": "MDk6TWlsZXN0b25lNjE3OTgzNw==",
            "number": 52,
            "state": "closed",
            "title": "23.0",
            "description": "",
            "creator": {
              "login": "MarcoFalke",
              "id": 6399679,
              "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/MarcoFalke",
              "html_url": "https://github.com/MarcoFalke",
              "followers_url": "https://api.github.com/users/MarcoFalke/followers",
              "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
              "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
              "repos_url": "https://api.github.com/users/MarcoFalke/repos",
              "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 123,
            "created_at": "2020-12-04T08:54:20Z",
            "updated_at": "2022-04-25T20:51:00Z",
            "closed_at": "2022-04-22T18:08:30Z"
          },
          "locked": true,
          "comments": 130,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20744",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20744",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20744.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20744.patch"
          },
          "closed_at": "2022-02-03T14:53:03Z",
          "created_at": "2020-12-22T14:27:54Z",
          "updated_at": "2023-06-17T10:06:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-14T07:02:47Z",
      "updated_at": "2021-08-14T07:02:47Z",
      "source": {
        "issue": {
          "id": 427922984,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjY2NDExMzEx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15719",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15719/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15719/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15719/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/15719",
          "number": 15719,
          "state": "closed",
          "state_reason": null,
          "title": "Wallet passive startup",
          "body": "Move wallet startup code closer to a simple model where the wallet attaches to the chain with a single chain.handleNotifications() call, and just starts passively receiving blocks and mempool notifications from the last update point, instead having to actively rescan blocks and request a mempool snapshot, and deal with the tip changing, and deal with early or stale notifications.\r\n\r\nAlso, stop locking the cs_wallet mutex and registering for validationinterface notifications before the rescan. This was new behavior since 6a72f26968cf931c985d8d4797b6264274cabd06 https://github.com/bitcoin/bitcoin/pull/16426 and is not ideal because it stops other wallets and rpcs and the gui from receiving new notifications until after the scan completes.\r\n\r\nThis change is a half-step towards implementing multiwallet scans (https://github.com/bitcoin/bitcoin/issues/11756), since it provides needed locator and birthday timestamp information to the Chain interface, and it rationalizes locking and event ordering in the startup code. The second half of implementing parallel rescans requires moving the ScanForWalletTransactions implementation (which this PR does not touch) from the wallet to the node.",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 26,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15719",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/15719",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/15719.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/15719.patch"
          },
          "closed_at": "2022-10-12T17:59:26Z",
          "created_at": "2019-04-01T21:35:48Z",
          "updated_at": "2022-10-12T17:59:26Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxZmQ5ZGUxNjkyMmUwYTA2ZTllZTQ4OTBlY2ZkYmI1YzFjY2M2NTdl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1fd9de16922e0a06e9ee4890ecfdbb5c1ccc657e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1fd9de16922e0a06e9ee4890ecfdbb5c1ccc657e",
      "tree": {
        "sha": "16ff6f90ad1a15a2de3428901da0f43a439a8002",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/16ff6f90ad1a15a2de3428901da0f43a439a8002"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9fb0529a9a0fbf2a4555a511b4dadb36a045678a",
          "sha": "9fb0529a9a0fbf2a4555a511b4dadb36a045678a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9fb0529a9a0fbf2a4555a511b4dadb36a045678a"
        }
      ],
      "message": "Implement debug.log file rotation\n\nNo functional change by default. Add support for log file rotation.\nIf enabled, then when the debug.log file reaches a certain size\n(default, 10MB), rename it to a file within a separate directory,\ndebug-rotate, named according to the current date and time, and\nrestart (truncate) debug.log. This keeps debug.log from growing\nunbounded. Retain a limited number of rotated files.",
      "committer": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2021-08-16T05:08:37Z"
      },
      "author": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2021-08-13T22:53:41Z"
      },
      "sha": "1fd9de16922e0a06e9ee4890ecfdbb5c1ccc657e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxMzUxMWNlYzUxNTk5ZmM1Yzk1YzZlY2VjZWYwMzQ1YWVhNmU2ZmNj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "tree": {
        "sha": "0876d9936ddb7077f22fa2a6698768524f83c4a3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0876d9936ddb7077f22fa2a6698768524f83c4a3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1fd9de16922e0a06e9ee4890ecfdbb5c1ccc657e",
          "sha": "1fd9de16922e0a06e9ee4890ecfdbb5c1ccc657e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1fd9de16922e0a06e9ee4890ecfdbb5c1ccc657e"
        }
      ],
      "message": "add release note",
      "committer": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2021-08-16T05:09:19Z"
      },
      "author": {
        "name": "Larry Ruane",
        "email": "larryruane@gmail.com",
        "date": "2021-08-13T23:36:13Z"
      },
      "sha": "13511cec51599fc5c95c6ececef0345aea6e6fcc"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5160913189,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50NTE2MDkxMzE4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5160913189",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-16T05:09:41Z"
    },
    {
      "event": "commented",
      "id": 899223185,
      "node_id": "IC_kwDOABII5841mQ6R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/899223185",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-16T05:23:00Z",
      "updated_at": "2021-08-16T05:23:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "Force-pushed a small change to ensure that rotated debug log files don't have partial lines. Each line is guaranteed to be a full line beginning with a timestamp. \r\n\r\nThis is an improvement over master, because with master (or with this PR without log rotation enabled), if the debug log file is larger than 11 MB when `bitcoind` starts, it will be truncated to exactly 10 MB, and this almost always results in the file beginning with a partial line. This can mess up attempts to parse the debug log file.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-899223185",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "commented",
      "id": 899539876,
      "node_id": "IC_kwDOABII5841neOk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/899539876",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-16T14:06:42Z",
      "updated_at": "2021-08-16T14:07:12Z",
      "author_association": "MEMBER",
      "body": "Concept ~0 on this. We always used to be against integrating log rotation because it can be handled by external tools (sure, on some operating systems this is more difficult, but I'm sure there are solutions for WIndows too). We should avoid the case where `bitcoind` becomes a systemd-like project that absorbs any possible functionality of a system. It's a maintainance nightmare.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-899539876",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "commented",
      "id": 899666761,
      "node_id": "IC_kwDOABII5841n9NJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/899666761",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-16T16:59:43Z",
      "updated_at": "2021-08-16T16:59:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "It seems to me bitcoind should manage _its own_ log file appropriately. In contrast, `systemd` supports _other_ components, outside itself. I also want to point out that the OS-specific calls added by this PR:\r\n\r\n- `fs::create_directories`\r\n- `fs::remove`\r\n- `fs::rename`\r\n\r\nare already being used elsewhere; we're not introducing any new dependencies on filesystem calls. So I don't know that maintenance would be more difficult.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-899666761",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "commented",
      "id": 899681244,
      "node_id": "IC_kwDOABII5841oAvc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/899681244",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-16T17:20:51Z",
      "updated_at": "2021-08-16T17:20:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "> It seems to me bitcoind should manage _its own_ log file appropriately\r\n\r\ni think it's also worth mentioning this isn't _only_ about log management and is (more importantly, imo) a solution to mitigate a disk fill attack\r\n\r\n> A disk fill attack is an attack where an untrusted party (such as a peer) is able to cheaply make your node log to disk excessively. The excessive logging may fill your disk and thus make your node crash either cleanly (best case: if disk fill rate is relatively slow) or uncleanly (worst case: if disk fill rate is relatively fast)\r\n\r\nas mentioned in the comments, a log rotation solution (as opposed to the rate limiting solution proposed in #21603 ) doesn't result in partial logs, which i think is important.\r\n\r\n@LarryRuane perhaps it would help to update the description of the PR to be more clear about how this is a mitigation for disk fill attacks (without the reviewer needing context from #21603 )",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-899681244",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "mentioned",
      "id": 5164446914,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NTE2NDQ0NjkxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5164446914",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-16T17:20:51Z"
    },
    {
      "event": "subscribed",
      "id": 5164446918,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDUxNjQ0NDY5MTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5164446918",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-16T17:20:51Z"
    },
    {
      "event": "commented",
      "id": 899958509,
      "node_id": "IC_kwDOABII5841pEbt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/899958509",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-08-17T03:07:59Z",
      "updated_at": "2021-08-17T07:15:13Z",
      "author_association": "MEMBER",
      "body": "> are already being used elsewhere; we're not introducing any new dependencies on filesystem calls. So I don't know that maintenance would be more difficult.\r\n\r\nThe point is less about what filesystem calls might be used, but the higher level observation that `bitcoind` (and this repository in general) should not be a catch-all for code and functionality that actually has nothing to-do with bitcoin. \r\n\r\nAdding and having to maintain large amounts, of sometimes complex code, to do non-bitcoin related things, i.e log management, settings parsing, cli's, ELF binary parsing, etc, adds a lot of (development) noise, maintenance, and back-compat overhead.\r\n\r\nIdeally this repository is moving in the opposite direction, where instead of adding more and more code, to do more and more things, we're actually removing more and more code, to the point where we end up with just the code that _is_ bitcoin, and more (useful) libconsensus type things. That effort is somewhat underway, i.e with the separation of the GUI development, de-globalization of the chainstate etc.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-899958509",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-10T09:40:41Z",
      "updated_at": "2021-09-10T09:40:41Z",
      "source": {
        "issue": {
          "id": 993014938,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzMxMjY1NDc1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22937",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22937/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22937/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22937/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22937",
          "number": 22937,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Forbid calling unsafe fs::path(std::string) constructor and fs::path::string() method",
          "body": "The `fs::path` class has a `std::string` constructor which will implicitly convert from strings. Implicit conversions like this are not great in general because they can hide complexity and inefficiencies in the code, but this case is especially bad, because after the transition from `boost::filesystem` to `std::filesystem` in #20744 the behavior of this constructor on windows will be more complicated and can mangle path strings. The `fs::path` class also has a `.string()` method which is inverse of the constructor and has the same problems.\r\n\r\nFix this by replacing the unsafe method calls with `PathToString` and `PathFromString` function calls, and by forbidding unsafe method calls in the future.",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 38,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22937",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22937",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22937.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22937.patch"
          },
          "closed_at": "2021-10-15T08:02:26Z",
          "created_at": "2021-09-10T08:35:32Z",
          "updated_at": "2022-08-09T07:39:20Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 929604155,
      "node_id": "IC_kwDOABII5843aKI7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929604155",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-28T20:33:56Z",
      "updated_at": "2021-09-28T20:33:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks, @fanquake and @laanwj! Very good points.\r\n\r\n> ... separation of the GUI ...\r\n\r\nYou've given me an idea, tell me what you think of this (also @jnewbery and @theStack) as an alternative to this PR:\r\n\r\nI just did a proof-of-concept experiment on Linux (I don't know if this would work on Windows):\r\n```\r\n$ mknod /tmp/bitcoind-log p # p means named pipe, super-user (root) permissions are not needed\r\n$ cat /tmp/bitcoind-log     # this will just wait\r\n```\r\n_In another window_\r\n```\r\n$ bitcoind -shrinkdebugfile=0 -debuglogfile=/tmp/bitcoind-log\r\n```\r\nYou'll see the `debug.log` messages emanating from the `cat` command. Named pipes are cool. (When the writer, i.e. `bitcoind`, exits, `cat` gets an end-of-file and cleanly exits too.)\r\n\r\nProposal: What do you think about adding a Python script to `contrib` that's just a wrapper around `bitcoind` -- it would create the named pipe, start `bitcoind` (with passed-in arguments plus the `-shrinkdebugfile=0 -debuglogfile=/tmp/bitcoind-log` arguments), and then reads from the named pipe and writes to `debug.log`. It would be an alternate, entirely optional way to run the client.\r\n\r\nThis would reproduce the current functionality (except for shrinking `debug.log` at startup, but it could do that too).\r\n\r\nBut this python script could be enhanced to do log rotation -- and in the future, maybe other stuff like compression, filtering, sending some kind of alert or notification if certain log messages appear, who knows -- all without any changes to `bitcoind`.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-929604155",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "mentioned",
      "id": 5376443856,
      "node_id": "MEE_lADOABII5843fT8QzwAAAAFAdgXQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5376443856",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-28T20:33:56Z"
    },
    {
      "event": "subscribed",
      "id": 5376443862,
      "node_id": "SE_lADOABII5843fT8QzwAAAAFAdgXW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5376443862",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-28T20:33:56Z"
    },
    {
      "event": "mentioned",
      "id": 5376443872,
      "node_id": "MEE_lADOABII5843fT8QzwAAAAFAdgXg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5376443872",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-28T20:33:56Z"
    },
    {
      "event": "subscribed",
      "id": 5376443874,
      "node_id": "SE_lADOABII5843fT8QzwAAAAFAdgXi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5376443874",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-28T20:33:56Z"
    },
    {
      "event": "mentioned",
      "id": 5376443884,
      "node_id": "MEE_lADOABII5843fT8QzwAAAAFAdgXs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5376443884",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-28T20:33:57Z"
    },
    {
      "event": "subscribed",
      "id": 5376443892,
      "node_id": "SE_lADOABII5843fT8QzwAAAAFAdgX0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5376443892",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-28T20:33:57Z"
    },
    {
      "event": "mentioned",
      "id": 5376443899,
      "node_id": "MEE_lADOABII5843fT8QzwAAAAFAdgX7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5376443899",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-28T20:33:57Z"
    },
    {
      "event": "subscribed",
      "id": 5376443905,
      "node_id": "SE_lADOABII5843fT8QzwAAAAFAdgYB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5376443905",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-28T20:33:57Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-14T21:42:23Z",
      "updated_at": "2021-10-14T21:42:23Z",
      "source": {
        "issue": {
          "id": 1017666014,
          "node_id": "PR_kwDOABII584sxFLj",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23203",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23203/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23203/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/23203/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/23203",
          "number": 23203,
          "state": "closed",
          "state_reason": null,
          "title": "[POC] build: static musl libc based bitcoind",
          "body": "This proof of concept is one approach to static [musl libc](https://musl.libc.org/) based builds. It leverages [musl-cross-make](https://github.com/richfelker/musl-cross-make) to compile a musl libc targeting toolchain, made up of GCC 10.3.0 + binutils 2.37 + musl libc 1.2.3, and then uses that toolchain to build our depends libraries, and ultimately `bitcoind`.\r\n\r\nMore than likely we'd take a different approach in Guix for (potentially) release builds, however, something like this could exist in depends, and provide an alternative to building against glibc outside Guix. Or, this may well end up being something we just throw away in favour of a better approach; still lots to be thought about here.\r\n\r\nOnly tested compiling on, for `x86_64-pc-linux-gnu` so far.\r\n\r\nYou can use it as follows:\r\n```bash\r\nmake -C depends/ -j9 NO_QT=1 NO_WALLET=1 NO_UPNP=1 NO_ZMQ=1 NO_NATPMP=1 USE_MUSL_LIBC=1 HOST=x86_64-linux-musl\r\n./autogen.sh\r\nCONFIG_SITE=/path/to/your/bitcoin/depends/x86_64-pc-linux-musl/share/config.site ./configure --enable-reduce-exports --enable-lto LDFLAGS=\"-Wl,-O2\" LIBTOOL_APP_LDFLAGS=\"-all-static\"\r\nmake src/bitcoind\r\n```\r\n\r\nThe end result (once stripped) is a ~10mb static `bitcoind`:\r\n```bash\r\nldd src/bitcoind\r\n\tstatically linked\r\n```\r\n\r\nIf you see:\r\n```bash\r\nterminate called after throwing an instance of 'std::runtime_error'\r\n  what():  locale::facet::_S_create_c_locale name not valid\r\nAborted (core dumped)\r\n```\r\nwhen running, pass `LC_ALL=C`. i.e `LC_ALL=C src/bitcoind`. \r\n\r\nI've taken the binary onto a few different system / inside VMs, and am running a full sync.\r\n\r\nNote that all dependencies do compile, except for Qt (build issue with FreeType I have not investigated), I've just excluded all optional dependencies from the depends build above.\r\n\r\nWhen building, you may see warnings about libraries, such as `libstdc++`, as having been moved, during linking, and/or other warnings, from dependencies, such as sqlite, due to `-flto` usage.\r\n\r\nRelated to #18110.",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64584,
              "node_id": "MDU6TGFiZWw2NDU4NA==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
              "name": "Brainstorming",
              "color": "ebd775",
              "default": false
            },
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 22,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/23203",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/23203",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/23203.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/23203.patch"
          },
          "closed_at": "2022-10-02T15:34:18Z",
          "created_at": "2021-10-06T07:21:21Z",
          "updated_at": "2022-10-02T15:34:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 5468807491,
      "node_id": "LE_lADOABII5843fT8QzwAAAAFF92FD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5468807491",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-15T09:39:55Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 944151542,
      "node_id": "IC_kwDOABII5844Rpv2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/944151542",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-10-15T09:39:56Z",
      "updated_at": "2021-10-15T09:39:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n🐙 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-944151542",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "commented",
      "id": 1022307783,
      "node_id": "IC_kwDOABII58487y3H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022307783",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-26T15:26:15Z",
      "updated_at": "2022-03-08T21:14:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "Closing due to insufficient support; I still think it would be valuable to implement what I described above https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-929604155 and that would be much less intrusive (only adds to `contrib/`), but that can be a new PR.",
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-1022307783",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22350"
    },
    {
      "event": "closed",
      "id": 5957493428,
      "node_id": "CE_lADOABII5843fT8QzwAAAAFjGCK0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5957493428",
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-26T15:26:15Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-29T04:25:51Z",
      "updated_at": "2022-04-29T04:25:51Z",
      "source": {
        "issue": {
          "id": 1212960351,
          "node_id": "PR_kwDOABII5842p9PA",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24950",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24950/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24950/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24950/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24950",
          "number": 24950,
          "state": "closed",
          "state_reason": null,
          "title": "Add config option to set max debug log size",
          "body": "This PR adds a new config option \"shrinkdebugfilesize=<n>\" which accepts an integer specifying the file size of the debug log in megabytes. This option can be specified alongside \"shrinkdebugfile=1\" (which is the default) and when shrinking the debug log, it will now shrink it to the size specified.\r\n\r\nThe default size for debug.log shrinking is still 10 MB.\r\n\r\nI was working on a tool to analyze IBD times and my log kept shrinking if I wanted to change settings or needed to reboot for some reason. This was causing lost data and I didn't want to let the log grow forever by setting shrinkdebugfile=0. That way I could leave it on passively and do post-analysis.",
          "user": {
            "login": "tehelsper",
            "id": 5722611,
            "node_id": "MDQ6VXNlcjU3MjI2MTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5722611?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tehelsper",
            "html_url": "https://github.com/tehelsper",
            "followers_url": "https://api.github.com/users/tehelsper/followers",
            "following_url": "https://api.github.com/users/tehelsper/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/tehelsper/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/tehelsper/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/tehelsper/subscriptions",
            "organizations_url": "https://api.github.com/users/tehelsper/orgs",
            "repos_url": "https://api.github.com/users/tehelsper/repos",
            "events_url": "https://api.github.com/users/tehelsper/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/tehelsper/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24950",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24950",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24950.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24950.patch"
          },
          "closed_at": "2022-10-12T19:23:15Z",
          "created_at": "2022-04-22T23:27:52Z",
          "updated_at": "2022-10-12T19:23:15Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-24T21:10:40Z",
      "updated_at": "2023-02-24T21:10:40Z",
      "source": {
        "issue": {
          "id": 1599279844,
          "node_id": "I_kwDOCoXYYs5fUxLk",
          "url": "https://api.github.com/repos/LarryRuane/bitcoin/issues/3",
          "repository_url": "https://api.github.com/repos/LarryRuane/bitcoin",
          "labels_url": "https://api.github.com/repos/LarryRuane/bitcoin/issues/3/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/LarryRuane/bitcoin/issues/3/comments",
          "events_url": "https://api.github.com/repos/LarryRuane/bitcoin/issues/3/events",
          "html_url": "https://github.com/LarryRuane/bitcoin/issues/3",
          "number": 3,
          "state": "open",
          "state_reason": null,
          "title": "rotate debug.log file using contrib/ python script",
          "body": "> Closing due to insufficient support; I still think it would be valuable to implement what I described above https://github.com/bitcoin/bitcoin/pull/22350#issuecomment-929604155 and that would be much less intrusive (only adds to contrib/), but that can be a new PR.\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/22350#issuecomment-1022307783\r\n\r\nOr, may be even better to just document how to use `logrotate`, and maybe even how to make `debug.log` a named pipe so that some daemon can filter or process on-the-fly. All these require no changes to `bitcoind`.",
          "user": {
            "login": "LarryRuane",
            "id": 8321330,
            "node_id": "MDQ6VXNlcjgzMjEzMzA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LarryRuane",
            "html_url": "https://github.com/LarryRuane",
            "followers_url": "https://api.github.com/users/LarryRuane/followers",
            "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
            "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
            "repos_url": "https://api.github.com/users/LarryRuane/repos",
            "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "OWNER",
          "locked": false,
          "comments": 0,
          "created_at": "2023-02-24T21:10:40Z",
          "updated_at": "2023-02-24T21:10:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 8695063254,
      "node_id": "LOE_lADOABII5843fT8QzwAAAAIGRCLW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8695063254",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-08T10:18:01Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/659337909",
      "pull_request_review_id": 693428595,
      "id": 659337909,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1OTMzNzkwOQ==",
      "diff_hunk": "@@ -273,17 +318,45 @@ void BCLog::Logger::LogPrintStr(const std::string& str, const std::string& loggi\n     if (m_print_to_file) {\n         assert(m_fileout != nullptr);\n \n-        // reopen the log file, if requested\n-        if (m_reopen_file) {\n-            m_reopen_file = false;\n+        auto reopen_file = [&]() {\n             FILE* new_fileout = fsbridge::fopen(m_file_path, \"a\");\n             if (new_fileout) {\n                 setbuf(new_fileout, nullptr); // unbuffered\n                 fclose(m_fileout);\n                 m_fileout = new_fileout;\n+                m_file_size = 0;\n             }\n+        };\n+\n+        // reopen the log file, if requested\n+        if (m_reopen_file) {\n+            m_reopen_file = false;\n+            reopen_file();\n         }\n         FileWriteStr(str_prefixed, m_fileout);\n+        m_file_size += str_prefixed.size();\n+\n+        // If debug.log is large, rotate it (rename and recreate).\n+        if (m_rotate_keep > 0 && m_file_size > m_file_limit * 1e6) {\n+            // Rename debug.log to a name like debug-2021-06-25T22:57:54.log\n+            int64_t seconds = GetTimeMicros()/1e6;\n+            // Don't rotate within the same second to avoid name conflict.\n+            if (m_last_rotate_time < seconds) {\n+                m_last_rotate_time = seconds;\n+                std::string now = FormatISO8601DateTime(seconds);\n+                fs::path rotate{m_file_path};\n+                rotate.remove_filename();\n+                rotate /= \"debug-\" +  now + \".log\";\n+                try {\n+                    fs::rename(m_file_path, rotate);\n+                } catch (const fs::filesystem_error&) {};",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 104,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "91d796a21a8c0fbb57d13fb1ca48505bb8d52845",
      "in_reply_to_id": null,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We're ignoring any error from `rename`, not sure that's right.",
      "created_at": "2021-06-27T15:26:58Z",
      "updated_at": "2021-06-27T15:36:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r659337909",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/659337909"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 365,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/659339194",
      "pull_request_review_id": 693428595,
      "id": 659339194,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1OTMzOTE5NA==",
      "diff_hunk": "@@ -273,17 +318,45 @@ void BCLog::Logger::LogPrintStr(const std::string& str, const std::string& loggi\n     if (m_print_to_file) {\n         assert(m_fileout != nullptr);\n \n-        // reopen the log file, if requested\n-        if (m_reopen_file) {\n-            m_reopen_file = false;\n+        auto reopen_file = [&]() {\n             FILE* new_fileout = fsbridge::fopen(m_file_path, \"a\");\n             if (new_fileout) {\n                 setbuf(new_fileout, nullptr); // unbuffered\n                 fclose(m_fileout);\n                 m_fileout = new_fileout;\n+                m_file_size = 0;\n             }\n+        };\n+\n+        // reopen the log file, if requested\n+        if (m_reopen_file) {\n+            m_reopen_file = false;\n+            reopen_file();",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 86,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "91d796a21a8c0fbb57d13fb1ca48505bb8d52845",
      "in_reply_to_id": null,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If `logrotate` is being used, sending a `SIGHUP` will continue to cause `debug.log` to be reopened (this PR doesn't change that behavior), but if the user wants to continue using that mechanism (`logrotate(8)`), they should disable this PR's log rotation (by setting `-debuglogrotatekeep=0` in the configuration). But if they forget (definitely need release notes on this), I _think_ it will be okay, because either this PR's log rotation will always happen (since it waits only until `debug.log` reaches 1 MB by default), or the `logrotate(8)` will happen (if the file size threshold is less than 1 MB). It would be confusing if both were happening! Maybe more thought is needed here.\r\n\r\nAn alternative might be to just remove this behavior (`SIGHUP` causing `debug.log` to be reopened), but then `logrotate(8)` will no longer work, and there may be existing users that are all set up to use `logrotate(8)`.",
      "created_at": "2021-06-27T15:36:20Z",
      "updated_at": "2021-06-27T15:45:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r659339194",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/659339194"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 334,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/660853801",
      "pull_request_review_id": 695354386,
      "id": 660853801,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2MDg1MzgwMQ==",
      "diff_hunk": "@@ -53,6 +86,17 @@ bool BCLog::Logger::StartLogging()\n         if (!m_fileout) {\n             return false;\n         }\n+        // Special files (e.g. device nodes) may not have a size.\n+        try {\n+            m_file_size = fs::file_size(m_file_path);\n+        } catch (const fs::filesystem_error&) {\n+            // We can't do log rotation if it's not a regular file.\n+            m_rotate_keep = 0;",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 56,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "b526922724eba3221db84d7ba6624b14c480a74e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This should probably error if the user has configured rotation explicitly.",
      "created_at": "2021-06-29T18:11:25Z",
      "updated_at": "2021-06-29T18:14:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r660853801",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/660853801"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 103,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/660854364",
      "pull_request_review_id": 695354386,
      "id": 660854364,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2MDg1NDM2NA==",
      "diff_hunk": "@@ -276,14 +320,43 @@ void BCLog::Logger::LogPrintStr(const std::string& str, const std::string& loggi\n         // reopen the log file, if requested\n         if (m_reopen_file) {\n             m_reopen_file = false;\n-            FILE* new_fileout = fsbridge::fopen(m_file_path, \"a\");\n-            if (new_fileout) {\n-                setbuf(new_fileout, nullptr); // unbuffered\n-                fclose(m_fileout);\n-                m_fileout = new_fileout;\n-            }\n+            ReopenFile();\n         }\n         FileWriteStr(str_prefixed, m_fileout);\n+        m_file_size += str_prefixed.size();\n+\n+        // If debug.log is large, rotate it (rename and recreate).\n+        if (m_rotate_keep > 0 && m_file_size > m_file_limit * 1e6) {",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 81,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "b526922724eba3221db84d7ba6624b14c480a74e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What if I want to rotate, but never delete?",
      "created_at": "2021-06-29T18:12:15Z",
      "updated_at": "2021-06-29T18:14:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r660854364",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/660854364"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 353,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/660854968",
      "pull_request_review_id": 695354386,
      "id": 660854968,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2MDg1NDk2OA==",
      "diff_hunk": "@@ -294,6 +367,9 @@ void BCLog::Logger::ShrinkDebugFile()\n \n     assert(!m_file_path.empty());\n \n+    // File rotation makes this unnecessary.\n+    if (m_rotate_keep > 0) return;",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 120,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "b526922724eba3221db84d7ba6624b14c480a74e",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Again, error if the user has configured both",
      "created_at": "2021-06-29T18:13:13Z",
      "updated_at": "2021-06-29T18:14:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r660854968",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/660854968"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 395,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664184552",
      "pull_request_review_id": 699476453,
      "id": 664184552,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2NDE4NDU1Mg==",
      "diff_hunk": "@@ -276,14 +320,43 @@ void BCLog::Logger::LogPrintStr(const std::string& str, const std::string& loggi\n         // reopen the log file, if requested\n         if (m_reopen_file) {\n             m_reopen_file = false;\n-            FILE* new_fileout = fsbridge::fopen(m_file_path, \"a\");\n-            if (new_fileout) {\n-                setbuf(new_fileout, nullptr); // unbuffered\n-                fclose(m_fileout);\n-                m_fileout = new_fileout;\n-            }\n+            ReopenFile();\n         }\n         FileWriteStr(str_prefixed, m_fileout);\n+        m_file_size += str_prefixed.size();\n+\n+        // If debug.log is large, rotate it (rename and recreate).\n+        if (m_rotate_keep > 0 && m_file_size > m_file_limit * 1e6) {",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 81,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "b526922724eba3221db84d7ba6624b14c480a74e",
      "in_reply_to_id": 660854364,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "> What if I want to rotate, but never delete?\r\n\r\n`-debuglogrotatekeep=9999999` or is that ugly? Should there be a separate `-debuglogenable` boolean (default true; if set to false, behave as today), and then `-debuglogrotatekeep=0` could mean \"never delete\". Would that be preferable? Or something else? Thanks for the comments!",
      "created_at": "2021-07-06T01:50:30Z",
      "updated_at": "2021-07-06T01:50:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r664184552",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664184552"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 353,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/669807029",
      "pull_request_review_id": 706529649,
      "id": 669807029,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2OTgwNzAyOQ==",
      "diff_hunk": "@@ -24,6 +25,8 @@ static const bool DEFAULT_LOGTIMESTAMPS = true;\n static const bool DEFAULT_LOGTHREADNAMES = false;\n static const bool DEFAULT_LOGSOURCELOCATIONS = false;\n extern const char * const DEFAULT_DEBUGLOGFILE;\n+static const int DEFAULT_DEBUGLOGROTATEKEEP = 10;\n+static const int DEFAULT_DEBUGLOGMB = 1;",
      "path": "src/logging.h",
      "position": null,
      "original_position": 13,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "c82eece30c84605d6815b3014f57cc281cff7cbe",
      "in_reply_to_id": null,
      "user": {
        "login": "narula",
        "id": 177646,
        "node_id": "MDQ6VXNlcjE3NzY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/177646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/narula",
        "html_url": "https://github.com/narula",
        "followers_url": "https://api.github.com/users/narula/followers",
        "following_url": "https://api.github.com/users/narula/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/narula/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/narula/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/narula/subscriptions",
        "organizations_url": "https://api.github.com/users/narula/orgs",
        "repos_url": "https://api.github.com/users/narula/repos",
        "events_url": "https://api.github.com/users/narula/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/narula/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "~To match current behavior, wouldn't you want `DEFAULT_DEBUGLOGMB` to be 10 and `DEFAULT_LOGROTATEKEEP` to be 1?~\r\n\r\nNevermind, that isn't current behavior either. Just curious about the constants.",
      "created_at": "2021-07-14T17:18:03Z",
      "updated_at": "2021-07-14T17:19:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r669807029",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/669807029"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/669907219",
      "pull_request_review_id": 706659062,
      "id": 669907219,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2OTkwNzIxOQ==",
      "diff_hunk": "@@ -24,6 +25,8 @@ static const bool DEFAULT_LOGTIMESTAMPS = true;\n static const bool DEFAULT_LOGTHREADNAMES = false;\n static const bool DEFAULT_LOGSOURCELOCATIONS = false;\n extern const char * const DEFAULT_DEBUGLOGFILE;\n+static const int DEFAULT_DEBUGLOGROTATEKEEP = 10;\n+static const int DEFAULT_DEBUGLOGMB = 1;",
      "path": "src/logging.h",
      "position": null,
      "original_position": 13,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "c82eece30c84605d6815b3014f57cc281cff7cbe",
      "in_reply_to_id": 669807029,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, @narula, that's still a good question. The idea of those defaults is that between 10 MB and 11 MB of log messages would be retained (just after a log rotation, 10 MB because there'd be 10 rotated files at 1 MB each plus an empty `debug.log`; just before log rotation, 10 MB for the same reason plus a 1 MB `debug.log`. This matches the current disk usage if `bitcoind` is restarted often (if not, then the `debug.log` size can increase without limit).\r\n\r\nIf the defaults were `DEFAULT_DEBUGLOGMB=10` and `DEFAULT_LOGROTATEKEEP=1` then the logging storage would vary from 10 MB (just after rotation) to 20 MB (just before rotation).\r\n\r\nOne could argue that the defaults could be quite a bit larger because the current default (10 MB minimum) was chosen when disks were smaller than they are typically today. But there could be that _one_ user whose disk is almost full, and upgrading to a release with this PR would soon run their disk out to space if the defaults were larger. (You might say that a node's disk space requirement  grows indefinitely anyway as more blocks are added to the blockchain, but that's not necessarily so because nodes can be configured with block pruning enabled.)",
      "created_at": "2021-07-14T19:51:10Z",
      "updated_at": "2021-07-14T19:51:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r669907219",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/669907219"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 29,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687051595",
      "pull_request_review_id": 727778945,
      "id": 687051595,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NzA1MTU5NQ==",
      "diff_hunk": "@@ -0,0 +1,18 @@\n+New settings\n+------------\n+\n+- The `debug.log` file grows without bound until the node\n+  is restarted, at which time it is trimmed to 10 MB. Beginning with this\n+  release, you can enable log file rotation. When the `debug.log` file\n+  reaches 1 MB, it's renamed to a name that includes the current date and\n+  time, such as `debug-2021-06-27T21:19:42Z.log` and `debug.log` is\n+  recreated as an empty file. Running `cat` or `grep` with an argument\n+  `debug*.log` accesses all debug log files, including the current one\n+  (`debug.log`) in time-order. The `-debuglogrotatekeep=n` configuration\n+  option specifies the number of rotated debug log files that are retained\n+  (default 0, log rotation disabled). The `-debugloglimit=n`\n+  configuration option specifies how large the `debug.log` file must\n+  become (in MB) before it is rotated (default is 10). If you enable\n+  log file rotation and specify an\n+  alternate debug log file name using `-debuglogfile=path`, the last\n+  component of the path must be `debug.log`. (#22350)",
      "path": "doc/release-notes-22350.md",
      "position": null,
      "original_position": 18,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "7db585f34c3e8ddf9ff11aedd49cad0170989c8e",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "previously when using `-debuglogfile=path`, i could specify any name for the file. now, if anything but `debug.log` is specified for the name, `bitcoind` fails to start without error (confirmed this while testing). \r\n\r\nimo, rotation should work regardless of the filename, but at the very least there should be an error if i don't specify `debug.log` with log rotation enabled",
      "created_at": "2021-08-11T17:53:42Z",
      "updated_at": "2021-08-11T18:15:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r687051595",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687051595"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687059559",
      "pull_request_review_id": 727778945,
      "id": 687059559,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NzA1OTU1OQ==",
      "diff_hunk": "@@ -51,8 +84,43 @@ bool BCLog::Logger::StartLogging()\n         assert(!m_file_path.empty());\n         m_fileout = fsbridge::fopen(m_file_path, \"a\");\n         if (!m_fileout) {\n-            return false;\n+            return strprintf(\"Could not open debug log file %s\", m_file_path.string());\n+        }\n+\n+        // Special files (e.g. device nodes) may not have a size.\n+        try {\n+            m_file_size = fs::file_size(m_file_path);\n+        } catch (const fs::filesystem_error&) {\n+            // We can't do log rotation if it's not a regular file.\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s does not appear to be a regular file; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a regular file \"\n+                    \"as the debug log file using -debuglogfile.\",\n+                    m_file_path.string());\n+            }\n+            m_rotate_keep = 0;\n+        }\n+        // It gets complicated to add a timestamp to an arbitrary file name,\n+        // so require \"debug.log\".\n+        if (m_file_path.filename() != \"debug.log\") {\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s is not named \\\"debug.log\\\"; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a debug log file \"\n+                    \"path that ends in \\\"/debug.log\\\" using -debuglogfile.\",\n+                    m_file_path.string());",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 81,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "7db585f34c3e8ddf9ff11aedd49cad0170989c8e",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "this output isn't showing (not sure why). i ran:\r\n\r\n```\r\n./src/bitcoind -daemon -debuglogrotatekeep=3 -debugloglimit=1 -debuglogfile=/home/josibake/bitcoin/j.log\r\n```\r\nand got \"Bitcoin Core Starting,\" but it fails to start without any errors.",
      "created_at": "2021-08-11T18:05:01Z",
      "updated_at": "2021-08-11T18:15:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r687059559",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687059559"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": 109,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687060618",
      "pull_request_review_id": 727778945,
      "id": 687060618,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NzA2MDYxOA==",
      "diff_hunk": "@@ -51,8 +84,43 @@ bool BCLog::Logger::StartLogging()\n         assert(!m_file_path.empty());\n         m_fileout = fsbridge::fopen(m_file_path, \"a\");\n         if (!m_fileout) {\n-            return false;\n+            return strprintf(\"Could not open debug log file %s\", m_file_path.string());\n+        }\n+\n+        // Special files (e.g. device nodes) may not have a size.\n+        try {\n+            m_file_size = fs::file_size(m_file_path);\n+        } catch (const fs::filesystem_error&) {\n+            // We can't do log rotation if it's not a regular file.\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s does not appear to be a regular file; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a regular file \"\n+                    \"as the debug log file using -debuglogfile.\",\n+                    m_file_path.string());\n+            }\n+            m_rotate_keep = 0;\n+        }\n+        // It gets complicated to add a timestamp to an arbitrary file name,\n+        // so require \"debug.log\".\n+        if (m_file_path.filename() != \"debug.log\") {\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s is not named \\\"debug.log\\\"; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a debug log file \"\n+                    \"path that ends in \\\"/debug.log\\\" using -debuglogfile.\",\n+                    m_file_path.string());\n+            }\n+            m_rotate_keep = 0;\n+        }\n+        if (m_file_limit == 0) {\n+            return strprintf(\n+                \"The debug log file %s size limit in MB must be greater than zero.\",\n+                m_file_path.string());",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 88,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "7db585f34c3e8ddf9ff11aedd49cad0170989c8e",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "i also got a silent failure trying to specify a logsize value < 1. i ran with `-debugloglimit=0.5`, got no errors, but the node failed to start. i also ran with `-debugloglimit=1.5` without issue so i dont think its the decimal",
      "created_at": "2021-08-11T18:06:48Z",
      "updated_at": "2021-08-11T18:15:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r687060618",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687060618"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": 120,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 121,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687405694",
      "pull_request_review_id": 728200485,
      "id": 687405694,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NzQwNTY5NA==",
      "diff_hunk": "@@ -0,0 +1,18 @@\n+New settings\n+------------\n+\n+- The `debug.log` file grows without bound until the node\n+  is restarted, at which time it is trimmed to 10 MB. Beginning with this\n+  release, you can enable log file rotation. When the `debug.log` file\n+  reaches 1 MB, it's renamed to a name that includes the current date and\n+  time, such as `debug-2021-06-27T21:19:42Z.log` and `debug.log` is\n+  recreated as an empty file. Running `cat` or `grep` with an argument\n+  `debug*.log` accesses all debug log files, including the current one\n+  (`debug.log`) in time-order. The `-debuglogrotatekeep=n` configuration\n+  option specifies the number of rotated debug log files that are retained\n+  (default 0, log rotation disabled). The `-debugloglimit=n`\n+  configuration option specifies how large the `debug.log` file must\n+  become (in MB) before it is rotated (default is 10). If you enable\n+  log file rotation and specify an\n+  alternate debug log file name using `-debuglogfile=path`, the last\n+  component of the path must be `debug.log`. (#22350)",
      "path": "doc/release-notes-22350.md",
      "position": null,
      "original_position": 18,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "7db585f34c3e8ddf9ff11aedd49cad0170989c8e",
      "in_reply_to_id": 687051595,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks so much for your comments; these are very useful.\r\n\r\n> ... rotation should work regardless of the filename ...\r\n\r\nI like your idea. After giving this more thought, perhaps the best approach is to let `-debuglogfile=path` to work as usual, but create a directory with a fixed name like `rotated-logs` (or `rotated-debug-logs`) and put all the _rotated_ log files within that directory. (The active debug log file, `debug.log` or as specified by `-debuglogfile`, would be as it is today, no change.) Because the rotated log files are in a directory with a specific purpose, they can have simple names like `2021-06-27T15:10:55Z.log`. They wouldn't have to be named according to the `-debuglogfile` argument.\r\n\r\nThis would have an added benefit: As I've been running this code to test it, my data directory now looks \"messy\" or polluted, with all these rotated log files that usually aren't very important -- why should they be so visible and prominent?\r\n```\r\n$ ls ~/.bitcoin\r\nbanlist.dat   debug-2021-06-27T21:19:42Z.log  fee_estimates.dat  signet\r\nbanlist.json  debug-2021-07-09T00:38:43Z.log  indexes            testnet3\r\nbitcoin.conf  debug-2021-07-14T16:32:30Z.log  mempool.dat        wallets\r\nbitcoind.pid  debug-2021-07-17T14:01:27Z.log  peers.dat          wallets-empty\r\nblocks        debug-2021-08-10T20:03:04Z.log  regtest\r\nchainstate    debug.log                       settings.json\r\n$\r\n```\r\n(And I've got only 5 rotated log files; there could be many more.) A small disadvantage is that it would be slightly more difficult to concatenate (or grep) all of the log files in time-order:\r\n```\r\n$ cat rotated-logs/* debug.log\r\n```\r\n(instead of just `cat debug*.log`) but that's not bad.\r\n\r\nSo unless there are objections, I'll make this change within the next few days.",
      "created_at": "2021-08-12T05:47:27Z",
      "updated_at": "2021-08-12T05:47:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r687405694",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687405694"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687405743",
      "pull_request_review_id": 728200534,
      "id": 687405743,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NzQwNTc0Mw==",
      "diff_hunk": "@@ -51,8 +84,43 @@ bool BCLog::Logger::StartLogging()\n         assert(!m_file_path.empty());\n         m_fileout = fsbridge::fopen(m_file_path, \"a\");\n         if (!m_fileout) {\n-            return false;\n+            return strprintf(\"Could not open debug log file %s\", m_file_path.string());\n+        }\n+\n+        // Special files (e.g. device nodes) may not have a size.\n+        try {\n+            m_file_size = fs::file_size(m_file_path);\n+        } catch (const fs::filesystem_error&) {\n+            // We can't do log rotation if it's not a regular file.\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s does not appear to be a regular file; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a regular file \"\n+                    \"as the debug log file using -debuglogfile.\",\n+                    m_file_path.string());\n+            }\n+            m_rotate_keep = 0;\n+        }\n+        // It gets complicated to add a timestamp to an arbitrary file name,\n+        // so require \"debug.log\".\n+        if (m_file_path.filename() != \"debug.log\") {\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s is not named \\\"debug.log\\\"; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a debug log file \"\n+                    \"path that ends in \\\"/debug.log\\\" using -debuglogfile.\",\n+                    m_file_path.string());",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 81,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "7db585f34c3e8ddf9ff11aedd49cad0170989c8e",
      "in_reply_to_id": 687059559,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think that's because you've started it with `-daemon`. It hasn't initialized the logging yet, so it has nowhere to write the error message. If you start without `-daemon` you should see the error.",
      "created_at": "2021-08-12T05:47:35Z",
      "updated_at": "2021-08-12T05:47:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r687405743",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687405743"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": 109,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687405780",
      "pull_request_review_id": 728200563,
      "id": 687405780,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NzQwNTc4MA==",
      "diff_hunk": "@@ -51,8 +84,43 @@ bool BCLog::Logger::StartLogging()\n         assert(!m_file_path.empty());\n         m_fileout = fsbridge::fopen(m_file_path, \"a\");\n         if (!m_fileout) {\n-            return false;\n+            return strprintf(\"Could not open debug log file %s\", m_file_path.string());\n+        }\n+\n+        // Special files (e.g. device nodes) may not have a size.\n+        try {\n+            m_file_size = fs::file_size(m_file_path);\n+        } catch (const fs::filesystem_error&) {\n+            // We can't do log rotation if it's not a regular file.\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s does not appear to be a regular file; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a regular file \"\n+                    \"as the debug log file using -debuglogfile.\",\n+                    m_file_path.string());\n+            }\n+            m_rotate_keep = 0;\n+        }\n+        // It gets complicated to add a timestamp to an arbitrary file name,\n+        // so require \"debug.log\".\n+        if (m_file_path.filename() != \"debug.log\") {\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s is not named \\\"debug.log\\\"; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a debug log file \"\n+                    \"path that ends in \\\"/debug.log\\\" using -debuglogfile.\",\n+                    m_file_path.string());\n+            }\n+            m_rotate_keep = 0;\n+        }\n+        if (m_file_limit == 0) {\n+            return strprintf(\n+                \"The debug log file %s size limit in MB must be greater than zero.\",\n+                m_file_path.string());",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 88,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "7db585f34c3e8ddf9ff11aedd49cad0170989c8e",
      "in_reply_to_id": 687060618,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "That's because it's parsing the argument as an integer, and when it gets to the decimal point, it stops parsing, interpreting the argument as zero. Specifying fractions of a megabyte is probably unnecessary, but maybe it should print a good error message. I'll see what I can do.",
      "created_at": "2021-08-12T05:47:40Z",
      "updated_at": "2021-08-12T05:47:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r687405780",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687405780"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": 120,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 121,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687524387",
      "pull_request_review_id": 728352526,
      "id": 687524387,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NzUyNDM4Nw==",
      "diff_hunk": "@@ -0,0 +1,18 @@\n+New settings\n+------------\n+\n+- The `debug.log` file grows without bound until the node\n+  is restarted, at which time it is trimmed to 10 MB. Beginning with this\n+  release, you can enable log file rotation. When the `debug.log` file\n+  reaches 1 MB, it's renamed to a name that includes the current date and\n+  time, such as `debug-2021-06-27T21:19:42Z.log` and `debug.log` is\n+  recreated as an empty file. Running `cat` or `grep` with an argument\n+  `debug*.log` accesses all debug log files, including the current one\n+  (`debug.log`) in time-order. The `-debuglogrotatekeep=n` configuration\n+  option specifies the number of rotated debug log files that are retained\n+  (default 0, log rotation disabled). The `-debugloglimit=n`\n+  configuration option specifies how large the `debug.log` file must\n+  become (in MB) before it is rotated (default is 10). If you enable\n+  log file rotation and specify an\n+  alternate debug log file name using `-debuglogfile=path`, the last\n+  component of the path must be `debug.log`. (#22350)",
      "path": "doc/release-notes-22350.md",
      "position": null,
      "original_position": 18,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "7db585f34c3e8ddf9ff11aedd49cad0170989c8e",
      "in_reply_to_id": 687051595,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "regarding many log files creating clutter in the root directory, i agree having a logs folder definitely makes sense. personally, i would prefer a `logs/` folder containing all the logs as this makes it clear to the user there is nothing special about the `debug.log` file vs what's in the logs directory. it also keeps things simple for concatenating and grepping. \r\n\r\nsince the debuglogfile custom name is known, wouldn't it be possible to attempt to split the filename into a name and extension (`<name>-<timestamp>.<ext>`), and then handle the special case where the user doesn't supply an extension (i.e `logs`, which would become `logs`, `logs-<timestamp>`)?\r\n\r\nalso, feel free to wait for more feedback from others before making changes :)",
      "created_at": "2021-08-12T08:59:57Z",
      "updated_at": "2021-08-12T08:59:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r687524387",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687524387"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687529537",
      "pull_request_review_id": 728359563,
      "id": 687529537,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NzUyOTUzNw==",
      "diff_hunk": "@@ -51,8 +84,43 @@ bool BCLog::Logger::StartLogging()\n         assert(!m_file_path.empty());\n         m_fileout = fsbridge::fopen(m_file_path, \"a\");\n         if (!m_fileout) {\n-            return false;\n+            return strprintf(\"Could not open debug log file %s\", m_file_path.string());\n+        }\n+\n+        // Special files (e.g. device nodes) may not have a size.\n+        try {\n+            m_file_size = fs::file_size(m_file_path);\n+        } catch (const fs::filesystem_error&) {\n+            // We can't do log rotation if it's not a regular file.\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s does not appear to be a regular file; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a regular file \"\n+                    \"as the debug log file using -debuglogfile.\",\n+                    m_file_path.string());\n+            }\n+            m_rotate_keep = 0;\n+        }\n+        // It gets complicated to add a timestamp to an arbitrary file name,\n+        // so require \"debug.log\".\n+        if (m_file_path.filename() != \"debug.log\") {\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s is not named \\\"debug.log\\\"; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a debug log file \"\n+                    \"path that ends in \\\"/debug.log\\\" using -debuglogfile.\",\n+                    m_file_path.string());",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 81,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "7db585f34c3e8ddf9ff11aedd49cad0170989c8e",
      "in_reply_to_id": 687059559,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "makes sense. i do think its important to throw an error when `-daemon` is used, else the user is likely to assume there node has started fine after seeing \"Bitcoin Core Starting.\" for example, if i try to start my node with:\r\n\r\n```bash\r\n./src/bitcoind -datadir=foo -daemon\r\n```\r\ni will get:\r\n```\r\nError: Specified data directory \"foo\" does not exist.\r\n```",
      "created_at": "2021-08-12T09:06:54Z",
      "updated_at": "2021-08-12T09:06:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r687529537",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687529537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": 109,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687533598",
      "pull_request_review_id": 728364606,
      "id": 687533598,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NzUzMzU5OA==",
      "diff_hunk": "@@ -51,8 +84,43 @@ bool BCLog::Logger::StartLogging()\n         assert(!m_file_path.empty());\n         m_fileout = fsbridge::fopen(m_file_path, \"a\");\n         if (!m_fileout) {\n-            return false;\n+            return strprintf(\"Could not open debug log file %s\", m_file_path.string());\n+        }\n+\n+        // Special files (e.g. device nodes) may not have a size.\n+        try {\n+            m_file_size = fs::file_size(m_file_path);\n+        } catch (const fs::filesystem_error&) {\n+            // We can't do log rotation if it's not a regular file.\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s does not appear to be a regular file; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a regular file \"\n+                    \"as the debug log file using -debuglogfile.\",\n+                    m_file_path.string());\n+            }\n+            m_rotate_keep = 0;\n+        }\n+        // It gets complicated to add a timestamp to an arbitrary file name,\n+        // so require \"debug.log\".\n+        if (m_file_path.filename() != \"debug.log\") {\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s is not named \\\"debug.log\\\"; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a debug log file \"\n+                    \"path that ends in \\\"/debug.log\\\" using -debuglogfile.\",\n+                    m_file_path.string());\n+            }\n+            m_rotate_keep = 0;\n+        }\n+        if (m_file_limit == 0) {\n+            return strprintf(\n+                \"The debug log file %s size limit in MB must be greater than zero.\",\n+                m_file_path.string());",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 88,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "7db585f34c3e8ddf9ff11aedd49cad0170989c8e",
      "in_reply_to_id": 687060618,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "i went back and confirmed, even with 1.5 it is still rotating in 1mb chunks. might be worth adding something to the option help that debugloglimit is in MB and must be specified as an integer ",
      "created_at": "2021-08-12T09:12:04Z",
      "updated_at": "2021-08-12T09:12:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r687533598",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/687533598"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": 120,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 121,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688822931",
      "pull_request_review_id": 730021971,
      "id": 688822931,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODgyMjkzMQ==",
      "diff_hunk": "@@ -51,8 +84,43 @@ bool BCLog::Logger::StartLogging()\n         assert(!m_file_path.empty());\n         m_fileout = fsbridge::fopen(m_file_path, \"a\");\n         if (!m_fileout) {\n-            return false;\n+            return strprintf(\"Could not open debug log file %s\", m_file_path.string());\n+        }\n+\n+        // Special files (e.g. device nodes) may not have a size.\n+        try {\n+            m_file_size = fs::file_size(m_file_path);\n+        } catch (const fs::filesystem_error&) {\n+            // We can't do log rotation if it's not a regular file.\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s does not appear to be a regular file; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a regular file \"\n+                    \"as the debug log file using -debuglogfile.\",\n+                    m_file_path.string());\n+            }\n+            m_rotate_keep = 0;\n+        }\n+        // It gets complicated to add a timestamp to an arbitrary file name,\n+        // so require \"debug.log\".\n+        if (m_file_path.filename() != \"debug.log\") {\n+            if (m_rotate_requested) {\n+                return strprintf(\n+                    \"The debug log file %s is not named \\\"debug.log\\\"; \"\n+                    \"this prevents log rotation. Please disable log rotation by \"\n+                    \"specifying -debuglogrotatekeep=0 or specify a debug log file \"\n+                    \"path that ends in \\\"/debug.log\\\" using -debuglogfile.\",\n+                    m_file_path.string());",
      "path": "src/logging.cpp",
      "position": null,
      "original_position": 81,
      "commit_id": "13511cec51599fc5c95c6ececef0345aea6e6fcc",
      "original_commit_id": "7db585f34c3e8ddf9ff11aedd49cad0170989c8e",
      "in_reply_to_id": 687059559,
      "user": {
        "login": "LarryRuane",
        "id": 8321330,
        "node_id": "MDQ6VXNlcjgzMjEzMzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LarryRuane",
        "html_url": "https://github.com/LarryRuane",
        "followers_url": "https://api.github.com/users/LarryRuane/followers",
        "following_url": "https://api.github.com/users/LarryRuane/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/LarryRuane/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/LarryRuane/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
        "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
        "repos_url": "https://api.github.com/users/LarryRuane/repos",
        "events_url": "https://api.github.com/users/LarryRuane/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@josibake \r\n> i do think its important to throw an error when -daemon is used ...\r\n\r\nI looked into this more, and it's not trivial to fix. The problem is that bitcoind has already \"daemonized\" itself by the time it gets around to initializing the logging, which is later than when it tries to open the data directory. This problem happens without the current PR:\r\n```\r\n$ src/bitcoind -daemon -debuglogfile=some/non-existent/path\r\nBitcoin Core starting\r\n$ \r\n```\r\nand there's no indication that anything went wrong (the exit status is even 0, success). So I think this can be fixed in a separate PR.",
      "created_at": "2021-08-13T23:17:37Z",
      "updated_at": "2021-08-13T23:17:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/22350#discussion_r688822931",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688822931"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22350"
        }
      },
      "start_line": null,
      "original_start_line": 109,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 77,
      "side": "RIGHT"
    }
  ]
}