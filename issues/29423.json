{
  "type": "issue",
  "issue": {
    "id": 2129135270,
    "node_id": "I_kwDOABII585-6Aam",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29423",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29423/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29423/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29423/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/29423",
    "number": 29423,
    "state": "open",
    "state_reason": null,
    "title": "Move from Static Dust Limit [330 / 546 sats] to Variable Dust Limit [= to TxFee]",
    "body": "### Please describe the feature you'd like to see added.\n\nThis is the basis for my proposal....\r\n\r\n\r\n![isDust](https://github.com/bitcoin/bitcoin/assets/155297644/22a76701-f93a-4aab-b794-97210adf5e0f)\r\n\r\n\n\n### Is your feature related to a problem, if so please describe it.\n\nBased on the number of Txs that have been unmovable, unspendable for nearly a solid year, it appears that the static dust limit is still permitting dust attacks, based on how the UTXO system works. Any entity with the ability to print infinite fiat or with the ability to cease hundreds of thousands of Bitcoin (or even miners that collude with or become those performing a dust attack, creating a circular loop of TxFees) could drive TxFees to \"unusable levels\" for an extended period of time. If TxFees are at 50,000 to 100,000 sats for a year, because there's 100 million 330 sat Txs, then it's safe to say that the static dust limit is not working as intended, in the eyes of those that are actually trying to _move_ their Satoshis as a store of value.\r\n\r\nIt's my belief that spam [and TxFees] have been dropping because people are starting to realize that these non-monetary Txs (those that cannot be moved because the UTXO is not large enough to pay for the TxFee) make zero sense from the point of being \"transferable NFTs\" or what have you, and any transfer of these dust Txs would need to take place off chain.\n\n### Describe the solution you'd like\n\nA **basic** coding example of this proposal is simply:\r\n\r\n`  if (Tx < TxFee) {isDust = True;} `  \r\n\r\nObviously, GetDustThreshold and other parts of the code would need to change to reflect this understanding.  Hopefully, someone is able to help me/us figure out how to make this basic understanding a reality... as dust attacks and a bloated UTXO set on lightweight nodes (incl. LN nodes) across the globe are a real concern.\n\n### Describe any alternatives you've considered\n\nRearden made these comments, which sound similar to what I'm proposing, yet I don't fully understand it or how it would be implemented, but perhaps it is an alternative solution??\r\n\r\n> I'd be supportive of a solid proposal to internalize the cost of net UTXO creation to tx fees, which would increase the cost of the most negatively impactful txs we're currently seeing.\r\n\r\n> I was thinking something more like a weight multiplier that is 1 for net out:in UTXO ratio <= 1 and increases exponentially as out:in UTXO ratio goes > 1.\n\n### Please leave any additional context\n\nThere are a few concerns that others have mentioned, which could more than likely be worked around one way or another:\r\n\r\n(1)  CPFP Txs.  These low sat Txs could be tied to the larger sat, parent Tx to THEN see if (TotalTx < TotalTxFees).\r\n(2)  LN is currently assuming that the static dust limits will always be valid Txs, so somehow they will need to assume that Txs will more liquidity.  Perhaps there can be some liquidity pooling solution to help with this?  Regardless, this is a LN problem, *NOT* a Core problem.\r\n(3)  LN Anchor Txs.  Similar to point (1), it seems like this low sat Tx could be tied to the earlier larger sat, parent Tx.  Not sure if these anchor Txs are actually using a CPFP type Tx, but surely there's a way to peg the latter Tx to the earlier Tx and total the cost of the Txs and TxFees.\r\n\r\n----------------------------\r\n\r\nElsewhere, someone asked me:\r\n> \"What would happen if there was a Tx with 1 input and 2 outputs, where the 1st output is larger than the TxFee but the 2nd output is smaller than the TxFee?\"\r\n\r\nThe end result is that the entire Tx would be invalid, as the 2nd output is dust.  This is precisely what would happen now if the 2nd output was only 1 sat.  The entire Tx would neither be relayed nor mined, because it's invalid [dust].",
    "user": {
      "login": "DoctorBuzz1",
      "id": 155297644,
      "node_id": "U_kgDOCUGnbA",
      "avatar_url": "https://avatars.githubusercontent.com/u/155297644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DoctorBuzz1",
      "html_url": "https://github.com/DoctorBuzz1",
      "followers_url": "https://api.github.com/users/DoctorBuzz1/followers",
      "following_url": "https://api.github.com/users/DoctorBuzz1/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/DoctorBuzz1/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/DoctorBuzz1/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/DoctorBuzz1/subscriptions",
      "organizations_url": "https://api.github.com/users/DoctorBuzz1/orgs",
      "repos_url": "https://api.github.com/users/DoctorBuzz1/repos",
      "events_url": "https://api.github.com/users/DoctorBuzz1/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/DoctorBuzz1/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 1,
    "created_at": "2024-02-11T19:33:06Z",
    "updated_at": "2024-02-13T18:07:13Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 11768030269,
      "node_id": "LE_lADOABII585-6AamzwAAAAK9beQ9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11768030269",
      "actor": {
        "login": "DoctorBuzz1",
        "id": 155297644,
        "node_id": "U_kgDOCUGnbA",
        "avatar_url": "https://avatars.githubusercontent.com/u/155297644?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DoctorBuzz1",
        "html_url": "https://github.com/DoctorBuzz1",
        "followers_url": "https://api.github.com/users/DoctorBuzz1/followers",
        "following_url": "https://api.github.com/users/DoctorBuzz1/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DoctorBuzz1/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DoctorBuzz1/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DoctorBuzz1/subscriptions",
        "organizations_url": "https://api.github.com/users/DoctorBuzz1/orgs",
        "repos_url": "https://api.github.com/users/DoctorBuzz1/repos",
        "events_url": "https://api.github.com/users/DoctorBuzz1/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DoctorBuzz1/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-11T19:33:06Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "renamed",
      "id": 11768054745,
      "node_id": "RTE_lADOABII585-6AamzwAAAAK9bkPZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11768054745",
      "actor": {
        "login": "DoctorBuzz1",
        "id": 155297644,
        "node_id": "U_kgDOCUGnbA",
        "avatar_url": "https://avatars.githubusercontent.com/u/155297644?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DoctorBuzz1",
        "html_url": "https://github.com/DoctorBuzz1",
        "followers_url": "https://api.github.com/users/DoctorBuzz1/followers",
        "following_url": "https://api.github.com/users/DoctorBuzz1/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DoctorBuzz1/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DoctorBuzz1/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DoctorBuzz1/subscriptions",
        "organizations_url": "https://api.github.com/users/DoctorBuzz1/orgs",
        "repos_url": "https://api.github.com/users/DoctorBuzz1/repos",
        "events_url": "https://api.github.com/users/DoctorBuzz1/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DoctorBuzz1/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-11T19:42:51Z",
      "rename": {
        "from": "Move from a Static Dust Limit [of 330 / 546 sats] to a Variable Dust Limit [= to TxFee]...",
        "to": "Move from Static Dust Limit [330 / 546 sats] to Variable Dust Limit [= to TxFee]"
      }
    },
    {
      "event": "commented",
      "id": 1942121280,
      "node_id": "IC_kwDOABII585zwmtA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942121280",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-13T18:07:12Z",
      "updated_at": "2024-02-13T18:07:12Z",
      "author_association": "MEMBER",
      "body": "Considering transactions as policy-invalid where any output amount is smaller than the total fee paid by the transaction is going to create issues for payment batching. See https://bitcoinops.org/en/payment-batching/. For example, if many recipients are paid in a large transaction, the fee may be higher than one of the recipients' amounts. If the payment creator is now forced to pay every recipient individually in a separate transaction, it will consume more block space overall and make the problem you are trying to solve worse. Also, while the fee on each separate transaction is less than the fee for the large batching transaction, the sum of all small fees is larger than the fee of the batch transaction.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29423#issuecomment-1942121280",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29423"
    }
  ]
}