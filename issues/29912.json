{
  "type": "issue",
  "issue": {
    "id": 2252776531,
    "node_id": "I_kwDOABII586GRqRT",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/29912",
    "number": 29912,
    "state": "open",
    "state_reason": null,
    "title": "RFC: Formal description of the RPC API",
    "body": "Currently (all?) clients manually implement the RPC API, which is problematic, because:\r\n\r\n* It leads to accidental implementation bugs, such as unit mistakes (s/vB vs BTC/kvB)\r\n* It is hard to maintain, when the API changes\r\n* It requires effort to implement in a new programming language\r\n\r\nSo it could make sense to have a formal specification.\r\n\r\nPlease leave a comment if there are additional aspects to consider here, or if you have ideas for a solution.\r\n\r\nOne solution for a formal description could be OpenAPI. Generators exist, such as (random example) https://github.com/microsoft/kiota?tab=readme-ov-file#supported-languages",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64584,
        "node_id": "MDU6TGFiZWw2NDU4NA==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
        "name": "Brainstorming",
        "color": "ebd775",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 9,
    "created_at": "2024-04-19T11:45:34Z",
    "updated_at": "2024-04-22T16:52:33Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 12537481427,
      "node_id": "LE_lADOABII586GRqRTzwAAAALrSsjT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12537481427",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T11:45:34Z",
      "label": {
        "name": "Brainstorming",
        "color": "ebd775"
      }
    },
    {
      "event": "labeled",
      "id": 12537481439,
      "node_id": "LE_lADOABII586GRqRTzwAAAALrSsjf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12537481439",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T11:45:34Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 2066435250,
      "node_id": "IC_kwDOABII5857K0yy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066435250",
      "actor": {
        "login": "nflatrea",
        "id": 120607606,
        "node_id": "U_kgDOBzBTdg",
        "avatar_url": "https://avatars.githubusercontent.com/u/120607606?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nflatrea",
        "html_url": "https://github.com/nflatrea",
        "followers_url": "https://api.github.com/users/nflatrea/followers",
        "following_url": "https://api.github.com/users/nflatrea/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nflatrea/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nflatrea/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nflatrea/subscriptions",
        "organizations_url": "https://api.github.com/users/nflatrea/orgs",
        "repos_url": "https://api.github.com/users/nflatrea/repos",
        "events_url": "https://api.github.com/users/nflatrea/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nflatrea/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T12:08:06Z",
      "updated_at": "2024-04-19T12:14:38Z",
      "author_association": "NONE",
      "body": "Don't we have plethora of well documented guides and specifications on the JSON-RPC api ?\r\n\r\nhttps://developer.bitcoin.org/reference/rpc/\r\nhttps://wbnns.github.io/bitcoin-dev-docs/reference/rpc/index.html\r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/JSON-RPC-interface.md\r\n\r\nhttps://en.bitcoin.it/wiki/API_reference_%28JSON-RPC%29\r\n\r\nConsidering your need for a state-of-the-art framework / wrapper, you can always find a suitable project on Github,\r\nYou have, for example, the [btcsuite](https://github.com/btcsuite) project allowing Go clients building on bitcoin easily. For JSON-RPC wrappers you have https://github.com/btcsuite/btcd/tree/master/rpcclient and the same on C/C++, Rust, Python, Ruby etc..\r\n\r\nBut it might be interesting to maintain a cross-language suite under the bitcoin core account authority\r\n",
      "user": {
        "login": "nflatrea",
        "id": 120607606,
        "node_id": "U_kgDOBzBTdg",
        "avatar_url": "https://avatars.githubusercontent.com/u/120607606?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nflatrea",
        "html_url": "https://github.com/nflatrea",
        "followers_url": "https://api.github.com/users/nflatrea/followers",
        "following_url": "https://api.github.com/users/nflatrea/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nflatrea/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nflatrea/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nflatrea/subscriptions",
        "organizations_url": "https://api.github.com/users/nflatrea/orgs",
        "repos_url": "https://api.github.com/users/nflatrea/repos",
        "events_url": "https://api.github.com/users/nflatrea/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nflatrea/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066435250",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2066477567,
      "node_id": "IC_kwDOABII5857K_H_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066477567",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T12:34:39Z",
      "updated_at": "2024-04-19T12:44:33Z",
      "author_association": "MEMBER",
      "body": "> Don't we have plethora of well documented guides and specifications on the JSON-RPC api ?\r\n\r\nNo. I'd highly doubt that there is a better source of the documentation and specification than Bitcoin Core itself. (If there is, then that is a bug in Bitcoin Core, which should be fixed)\r\n\r\n> https://developer.bitcoin.org/reference/rpc/\r\n\r\nThis example has many issues:\r\n\r\n* It is not machine readable\r\n* It does not indicate the version of Bitcoin Core that is documented\r\n* It is wrong and outdated. For example https://developer.bitcoin.org/reference/rpc/getrawtransaction.html#argument-2-verbose is wrong. The type should be `int`, not a `bool`. Also it is missing verbose=3.\r\n* It has all the problems that I mentioned in the original post.\r\n\r\n>  https://wbnns.github.io/bitcoin-dev-docs/reference/rpc/index.html\r\n\r\nThis is the same as above, just rendered differently.\r\n\r\n>  https://github.com/bitcoin/bitcoin/blob/master/doc/JSON-RPC-interface.md\r\n\r\nI am aware of the file, because I initially wrote it. It describes the concept of the interface, but it is not a specification.\r\n\r\n> https://en.bitcoin.it/wiki/API_reference_%28JSON-RPC%29\r\n\r\nThis is a wiki page that lists some manually maintained software projects, so all of them have the issues I mentioned in the original post. I don't have the time right now to list all the bugs they have, but if you spend enough time you will find that they are either not a specification, or that they are unmaintained for years, or that they have implementation errors.\r\n\r\nEdit: If there is a single software project out there, which currently correctly and fully implements the RPC API in a type-safe manner, it would be interesting to see how they approached it. But I doubt there is one?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066477567",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2066677901,
      "node_id": "IC_kwDOABII5857LwCN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066677901",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:13:55Z",
      "updated_at": "2024-04-19T14:13:55Z",
      "author_association": "MEMBER",
      "body": "Note that automatically generated RPC docs are also available for each major version at https://bitcoincore.org/en/doc/",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066677901",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2066720293,
      "node_id": "IC_kwDOABII5857L6Yl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066720293",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:36:50Z",
      "updated_at": "2024-04-19T14:36:50Z",
      "author_association": "MEMBER",
      "body": ">  https://bitcoincore.org/en/doc/\r\n\r\nYes, I am aware. They are based on the `help` RPC reply. However, they are not machine readable, at least not in a standard format, so I don't think it helps to solve the issues highlighted in the original post.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066720293",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2066724167,
      "node_id": "IC_kwDOABII5857L7VH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066724167",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:38:53Z",
      "updated_at": "2024-04-19T14:39:02Z",
      "author_association": "MEMBER",
      "body": "I vaguely recall an issue or discussion around machine-readable API specs in the past, but I cannot find it. I believe @laanwj commented on it.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066724167",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "mentioned",
      "id": 12540281610,
      "node_id": "MEE_lADOABII586GRqRTzwAAAALrdYMK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12540281610",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:38:54Z"
    },
    {
      "event": "subscribed",
      "id": 12540281633,
      "node_id": "SE_lADOABII586GRqRTzwAAAALrdYMh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12540281633",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:38:54Z"
    },
    {
      "event": "commented",
      "id": 2066731848,
      "node_id": "IC_kwDOABII5857L9NI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066731848",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T14:43:15Z",
      "updated_at": "2024-04-19T14:43:15Z",
      "author_association": "MEMBER",
      "body": "I can only recall the gRPC (https://github.com/bitcoin/bitcoin/issues/16719) and CBOR (https://github.com/bitcoin/bitcoin/issues/22866) discussions, but those are serialization related, not about a standardized machine-readable interface documentation and specification.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066731848",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2066874947,
      "node_id": "IC_kwDOABII5857MgJD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066874947",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-19T16:06:21Z",
      "updated_at": "2024-04-19T16:06:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "I think this is an interesting approach to consider. I'm quite fond of OpenAPI but I'm not sure how well it would lend itself to a JSON-RPC, but perhaps it works well enough? There is a sibling project specifically focused on JSON-RPC (https://open-rpc.org/  ) but it has less tooling and support.\r\n\r\nWould be cool if this means we could be spec-driven, build a tool that generates (server) header files from the spec so the RPC method implementations have compile time checks on parameters and responses etc.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2066874947",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2067767293,
      "node_id": "IC_kwDOABII5857P5_9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2067767293",
      "actor": {
        "login": "nflatrea",
        "id": 120607606,
        "node_id": "U_kgDOBzBTdg",
        "avatar_url": "https://avatars.githubusercontent.com/u/120607606?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nflatrea",
        "html_url": "https://github.com/nflatrea",
        "followers_url": "https://api.github.com/users/nflatrea/followers",
        "following_url": "https://api.github.com/users/nflatrea/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nflatrea/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nflatrea/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nflatrea/subscriptions",
        "organizations_url": "https://api.github.com/users/nflatrea/orgs",
        "repos_url": "https://api.github.com/users/nflatrea/repos",
        "events_url": "https://api.github.com/users/nflatrea/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nflatrea/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-20T19:54:16Z",
      "updated_at": "2024-04-20T19:54:16Z",
      "author_association": "NONE",
      "body": "> > Don't we have plethora of well documented guides and specifications on the JSON-RPC api ?\r\n> \r\n> No. I'd highly doubt that there is a better source of the documentation and specification than Bitcoin Core itself. (If there is, then that is a bug in Bitcoin Core, which should be fixed)\r\n> \r\n> > https://developer.bitcoin.org/reference/rpc/\r\n> \r\n> This example has many issues:\r\n> \r\n>     * It is not machine readable\r\n> \r\n>     * It does not indicate the version of Bitcoin Core that is documented\r\n> \r\n>     * It is wrong and outdated. For example https://developer.bitcoin.org/reference/rpc/getrawtransaction.html#argument-2-verbose is wrong. The type should be `int`, not a `bool`. Also it is missing verbose=3.\r\n> \r\n>     * It has all the problems that I mentioned in the original post.\r\n> \r\n> \r\n> > https://wbnns.github.io/bitcoin-dev-docs/reference/rpc/index.html\r\n> \r\n> This is the same as above, just rendered differently.\r\n> \r\n> > https://github.com/bitcoin/bitcoin/blob/master/doc/JSON-RPC-interface.md\r\n> \r\n> I am aware of the file, because I initially wrote it. It describes the concept of the interface, but it is not a specification.\r\n> \r\n> > https://en.bitcoin.it/wiki/API_reference_%28JSON-RPC%29\r\n> \r\n> This is a wiki page that lists some manually maintained software projects, so all of them have the issues I mentioned in the original post. I don't have the time right now to list all the bugs they have, but if you spend enough time you will find that they are either not a specification, or that they are unmaintained for years, or that they have implementation errors.\r\n> \r\n> Edit: If there is a single software project out there, which currently correctly and fully implements the RPC API in a type-safe manner, it would be interesting to see how they approached it. But I doubt there is one?\r\n\r\nI must have failed to understand your question, my apology 🧐\r\nYou just raised the fact that we need clear API specifications for core ? \r\n\r\nIf that so, I could be interesting to build something with OpenRPC close to OpenAPI https://open-rpc.org/\r\n\r\nWith a little bit of tweaking, we might also be able to use the Swagger UI originaly for REST API\r\n\r\nhttps://petstore.swagger.io/\r\nhttps://dev.to/vearutop/json-rpc-2-0-with-swagger-ui-2h3g",
      "user": {
        "login": "nflatrea",
        "id": 120607606,
        "node_id": "U_kgDOBzBTdg",
        "avatar_url": "https://avatars.githubusercontent.com/u/120607606?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nflatrea",
        "html_url": "https://github.com/nflatrea",
        "followers_url": "https://api.github.com/users/nflatrea/followers",
        "following_url": "https://api.github.com/users/nflatrea/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/nflatrea/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/nflatrea/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/nflatrea/subscriptions",
        "organizations_url": "https://api.github.com/users/nflatrea/orgs",
        "repos_url": "https://api.github.com/users/nflatrea/repos",
        "events_url": "https://api.github.com/users/nflatrea/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/nflatrea/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2067767293",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "commented",
      "id": 2070215202,
      "node_id": "IC_kwDOABII5857ZPoi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2070215202",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T16:52:31Z",
      "updated_at": "2024-04-22T16:52:31Z",
      "author_association": "MEMBER",
      "body": "> I vaguely recall an issue or discussion around machine-readable API specs in the past, but I cannot find it. I believe @laanwj commented on it.\r\n\r\nMuch of it is already there, just not exposed. The `RPCHelpMan`/`RPCResult` structure for `help` handling was intended to be a start of formalizing the API, and to have some form of introspection. E.g. types are already checked against the spec while testing. It could be extended to include other data that's needed.\r\n\r\nThe same data that's used for rendering help could be returned on the RPC in a raw, machine-readable structured format. Easiest would be to define our own format, but if there is a suitable standard format that will work for JSON-RPC that's of course preferable. I don't think there was at the time I looked into it, but who knows.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29912#issuecomment-2070215202",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29912"
    },
    {
      "event": "mentioned",
      "id": 12562973302,
      "node_id": "MEE_lADOABII586GRqRTzwAAAALsz8J2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12562973302",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T16:52:33Z"
    },
    {
      "event": "subscribed",
      "id": 12562973320,
      "node_id": "SE_lADOABII586GRqRTzwAAAALsz8KI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12562973320",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T16:52:33Z"
    }
  ]
}