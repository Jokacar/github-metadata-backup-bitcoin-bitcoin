{
  "type": "issue",
  "issue": {
    "id": 1811732361,
    "node_id": "I_kwDOABII585r_NeJ",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28104",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28104/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28104/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28104/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/28104",
    "number": 28104,
    "state": "open",
    "state_reason": null,
    "title": "win: non-static libssp in libbitcoinconsensus DLL",
    "body": "If you Guix build for Windows, and call objdump on `libbitcoinconsensus-0.dll`, you'll find it uses a non-static libssp:\r\n```bash\r\nobjdump -x src/.libs/libbitcoinconsensus-0.dll\r\n...\r\nThe Import Tables (interpreted .idata section contents)\r\n vma:            Hint    Time      Forward  DLL       First\r\n                 Table   Stamp     Chain    Name      Thunk\r\n 00263000\t00263050 00000000 00000000 0026409c 00263490\r\n\r\n\tDLL Name: libssp-0.dll\r\n\tvma:  Hint/Ord Member-Name Bound-To\r\n\t2638d0\t    3  __memcpy_chk\r\n\t2638e0\t    7  __stack_chk_fail\r\n\t2638f4\t    8  __stack_chk_guard\r\n```\r\n\r\nDLLs should be built with a static libgcc/stdc++/ssp:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/84c5416b03248c91aa7efe46555699f9f121d8a4/configure.ac#L724-L730\r\n\r\nThis has been an issue since we switched to using Guix for the 22.0 release.",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 234877,
        "node_id": "MDU6TGFiZWwyMzQ4Nzc=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Windows",
        "name": "Windows",
        "color": "884400",
        "default": false
      },
      {
        "id": 61889416,
        "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
        "name": "Build system",
        "color": "5319e7",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 0,
    "created_at": "2023-07-19T11:18:38Z",
    "updated_at": "2023-07-19T11:18:38Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 9861287162,
      "node_id": "LE_lADOABII585r_NeJzwAAAAJLx0z6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9861287162",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-19T11:18:38Z",
      "label": {
        "name": "Windows",
        "color": "884400"
      }
    },
    {
      "event": "labeled",
      "id": 9861287164,
      "node_id": "LE_lADOABII585r_NeJzwAAAAJLx0z8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9861287164",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-19T11:18:38Z",
      "label": {
        "name": "Build system",
        "color": "5319e7"
      }
    }
  ]
}