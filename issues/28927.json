{
  "type": "issue",
  "issue": {
    "id": 2006484738,
    "node_id": "I_kwDOABII5853mIcC",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28927",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28927/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28927/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28927/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/28927",
    "number": 28927,
    "state": "open",
    "state_reason": null,
    "title": "importing a wallet containing an hdseed overwrites target wallet hdseed",
    "body": "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Current behaviour\n\n\r\nMy basic idea was to have two nodes running with the same keys, if one fails, I can just rescan the blockchain on the other one and failover to it seamlessly.\r\n\r\nI made a wallet on Node1, generated a few thousands addresses, saved the dumpwallet. Now I want to import the same keys to Node2, but I want it to be an HD wallet from the same seed, to avoid the headache of sendtoaddress, when out of spare keys, creating a new change privkey that will not be backed up anywhere. With the hdseed those \"new\" change addresses should still be accessible to whomever owns the hdseed (right?)\r\n\r\nThis doesn't seem to work so well as importwallet on Node2 seems to get it rid of the hdseed I set to be the same as on Node1.\r\n\r\nI don't know if the resulting state of Node2 means that it still has an HD wallet. Doesn't look so from the dumpwallet ouput.\r\nImportwallet seems to overwrite hdseed, making it just a regular privkey, no longer being hdseed.\r\n\r\nNot sure this is working as intended.\r\n\r\n\r\n\n\n### Expected behaviour\n\nExpected behaviour: Node2 keeps its hdseed\n\n### Steps to reproduce\n\nNode1: has a wallet with hdseed=X\r\nNode1: dumpwallet, grab the hdseed privkey from the output\r\n\r\nNode2: createwallet \"test\" false true\r\nNode2: sethdseed to the above-obtained hdseed privkey X\r\nNode2: importwallet from the above dump\r\nNode2: dumpwallet. Result does not contain an hdseed=1 line. It does contain the private key, but just with a \"label=\"\r\nNode2: sethdseed again to the hdseed privkey fails with the message \"either already has an hdseed or it's a loose private key\"\r\n\n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nPre-built binaries\n\n### What version of Bitcoin Core are you using?\n\nv22.0\n\n### Operating system and version\n\nDebian 12\n\n### Machine specifications\n\n_No response_",
    "user": {
      "login": "quakemmo",
      "id": 39710297,
      "node_id": "MDQ6VXNlcjM5NzEwMjk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/39710297?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/quakemmo",
      "html_url": "https://github.com/quakemmo",
      "followers_url": "https://api.github.com/users/quakemmo/followers",
      "following_url": "https://api.github.com/users/quakemmo/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/quakemmo/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/quakemmo/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/quakemmo/subscriptions",
      "organizations_url": "https://api.github.com/users/quakemmo/orgs",
      "repos_url": "https://api.github.com/users/quakemmo/repos",
      "events_url": "https://api.github.com/users/quakemmo/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/quakemmo/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 0,
    "created_at": "2023-11-22T14:36:29Z",
    "updated_at": "2023-11-22T14:36:29Z"
  },
  "events": []
}