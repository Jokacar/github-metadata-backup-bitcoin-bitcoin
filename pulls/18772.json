{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772",
    "id": 409044699,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDA5MDQ0Njk5",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18772",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/18772.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/18772.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
    "number": 18772,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "rpc: calculate fees in getblock using BlockUndo data",
    "user": {
      "login": "robot-visions",
      "id": 63171930,
      "node_id": "MDQ6VXNlcjYzMTcxOTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robot-visions",
      "html_url": "https://github.com/robot-visions",
      "followers_url": "https://api.github.com/users/robot-visions/followers",
      "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
      "organizations_url": "https://api.github.com/users/robot-visions/orgs",
      "repos_url": "https://api.github.com/users/robot-visions/repos",
      "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/robot-visions/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This change is progress towards #18771 .  It adapts the fee calculation part of #16083 and addresses some feedback.  The additional \"verbosity level 3\" features are planned for a future PR.\r\n\r\n**Original PR description:**\r\n\r\n> Using block undo data (like in #14802) we can now show fee information for each transaction in a block without the need for additional -txindex and/or a ton of costly lookups. For a start we'll add transaction fee information to getblock verbosity level 2. This comes at a negligible speed penalty (<1%).",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2020-04-26T08:48:07Z",
    "updated_at": "2022-02-15T10:40:10Z",
    "closed_at": "2020-12-24T14:35:43Z",
    "mergeable_state": "unknown",
    "merged_at": "2020-12-24T14:35:43Z",
    "merge_commit_sha": "f656165e9c0d09e654efabd56e6581638e35c26c",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "robot-visions:getblock-fee",
      "ref": "getblock-fee",
      "sha": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "user": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 256459487,
        "node_id": "MDEwOlJlcG9zaXRvcnkyNTY0NTk0ODc=",
        "name": "bitcoin",
        "full_name": "robot-visions/bitcoin",
        "owner": {
          "login": "robot-visions",
          "id": 63171930,
          "node_id": "MDQ6VXNlcjYzMTcxOTMw",
          "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/robot-visions",
          "html_url": "https://github.com/robot-visions",
          "followers_url": "https://api.github.com/users/robot-visions/followers",
          "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
          "organizations_url": "https://api.github.com/users/robot-visions/orgs",
          "repos_url": "https://api.github.com/users/robot-visions/repos",
          "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/robot-visions/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/robot-visions/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/robot-visions/bitcoin",
        "archive_url": "https://api.github.com/repos/robot-visions/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/robot-visions/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/robot-visions/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/robot-visions/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/robot-visions/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/robot-visions/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/robot-visions/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/robot-visions/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/robot-visions/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/robot-visions/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/robot-visions/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/robot-visions/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/robot-visions/bitcoin/events",
        "forks_url": "https://api.github.com/repos/robot-visions/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/robot-visions/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/robot-visions/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/robot-visions/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/robot-visions/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/robot-visions/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/robot-visions/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/robot-visions/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/robot-visions/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/robot-visions/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/robot-visions/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/robot-visions/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/robot-visions/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/robot-visions/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/robot-visions/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/robot-visions/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:robot-visions/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/robot-visions/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/robot-visions/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/robot-visions/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/robot-visions/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/robot-visions/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/robot-visions/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/robot-visions/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/robot-visions/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/robot-visions/bitcoin/hooks",
        "svn_url": "https://github.com/robot-visions/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 153412,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2022-04-27T13:24:22Z",
        "created_at": "2020-04-17T09:27:30Z",
        "updated_at": "2020-05-03T07:30:06Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "12a1c3ad1a43634d2a98717e49e3f02c4acea2fe",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:41Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 85,
    "deletions": 11,
    "changed_files": 4,
    "commits": 2,
    "review_comments": 38,
    "comments": 14
  },
  "events": [
    {
      "event": "head_ref_force_pushed",
      "id": 3272711811,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzI3MjcxMTgxMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3272711811",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T08:51:23Z"
    },
    {
      "event": "renamed",
      "id": 3272711835,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzI3MjcxMTgzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3272711835",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T08:51:26Z",
      "rename": {
        "from": "rpc: calculate fee in getblock using BlockUndo data",
        "to": "rpc: calculate fees in getblock using BlockUndo data"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T08:52:47Z",
      "updated_at": "2020-04-26T08:52:47Z",
      "source": {
        "issue": {
          "id": 606894648,
          "node_id": "MDU6SXNzdWU2MDY4OTQ2NDg=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18771",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18771/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18771/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18771/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/18771",
          "number": 18771,
          "state": "closed",
          "state_reason": "completed",
          "title": "Pick up \"transaction fees in getblock\" pull request",
          "body": "#16083 has been abandoned, so it would be a good first issue to take the branch (https://github.com/bitcoin/bitcoin/pull/16083#issuecomment-570842798) and submit it as a new pull request.\r\n\r\n#### Useful skills:\r\n\r\nUnderstanding of undo data, the RPC interface and the functional tests.\r\n\r\n#### Want to work on this issue?\r\n\r\nThe purpose of the `good first issue` label is to highlight which issues are suitable for a new contributor without a deep understanding of the codebase.\r\n\r\nYou do not need to request permission to start working on this. You are encouraged to comment on the issue if you are planning to work on it. This will help other contributors monitor which issues are actively being addressed and is also an effective way to request assistance if and when you need it.\r\n\r\nFor guidance on contributing, please read [CONTRIBUTING.md](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md) before opening your pull request.\r\n",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 349312277,
              "node_id": "MDU6TGFiZWwzNDkzMTIyNzc=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/good%20first%20issue",
              "name": "good first issue",
              "color": "c2e0c6",
              "default": true
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 10,
          "closed_at": "2022-01-15T07:19:08Z",
          "created_at": "2020-04-26T01:43:39Z",
          "updated_at": "2023-01-15T10:07:57Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 619512534,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTUxMjUzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619512534",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T08:54:48Z",
      "updated_at": "2020-04-26T08:54:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "The documentation for `getblock` refers to the tx format of `getrawtransaction`.  Any thoughts on what would be a reasonable approach here?\r\n\r\n- Also update `getrawtransaction` (and the documentation) to include a fee if possible (this might be slow since the cost of loading undo data is no longer amortized over many transactions in a block)\r\n- Update the `getblock` documentation to mention that unlike `getrawtransaction`, it might also include fees\r\n- Leave the documentation alone and let the unfortunate user figure out the semantics themselves :)",
      "user": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-619512534",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3272715724,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzI3MjcxNTcyNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3272715724",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T08:56:26Z"
    },
    {
      "event": "labeled",
      "id": 3272720656,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMyNzI3MjA2NTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3272720656",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T09:02:04Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 619536994,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTUzNjk5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619536994",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T11:51:03Z",
      "updated_at": "2020-04-26T11:51:03Z",
      "author_association": "MEMBER",
      "body": "Please add the right co-author to your commit, if your work is based on someone else's work",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-619536994",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3273191506,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzI3MzE5MTUwNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3273191506",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T17:48:32Z"
    },
    {
      "event": "commented",
      "id": 619594112,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTU5NDExMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619594112",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T17:50:28Z",
      "updated_at": "2020-04-26T17:50:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated, thanks!  I didn't know about `Co-authored-by` feature before.",
      "user": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-619594112",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3273258878,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzI3MzI1ODg3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3273258878",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-26T18:57:09Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-30T17:57:50Z",
      "updated_at": "2020-04-30T17:57:50Z",
      "source": {
        "issue": {
          "id": 609773439,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDExMzAzNTI4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18826",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18826/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18826/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18826/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18826",
          "number": 18826,
          "state": "closed",
          "state_reason": null,
          "title": "Expose txinwitness for coinbase in JSON form from RPC",
          "body": "## Rationale\r\n\r\nThe CLI can provide you with everything about transactions and blocks that you need to reconstruct the block structure and raw block itself **except** for the witness commitment nonce which is stored in the `scriptWitness` of the coinbase and is not printed. You could manually parse the raw `\"hex\"` fields for transactions if you really wanted to, but this seems to defeat the point of having a JSONification of the raw block/transaction data.\r\n\r\nWithout the nonce you can't:\r\n\r\n1. calculate and validate the witness commitment yourself, you can generate the witness tx merkle root but you don't have the nonce to combine it with\r\n2. reconstruct the raw block form because you don't have `scriptWitness` stack associated with the coinbase (although you know how big it will be and can guess the common case of `[0x000...000]`)\r\n\r\nI'm building some archiving tooling for block data and being able to do a validated two-way conversion is very helpful.\r\n\r\n## What\r\n\r\nThis PR simply makes the `txinwitness` field not dependent on whether we are working with the coinbase or not. So you get it for the coinbase as well as the rest.\r\n\r\n## Examples\r\n\r\nCommon case of a `[0x000...000]` nonce: 00000000000000000000140a7289f3aada855dfd23b0bb13bb5502b0ca60cdd7\r\n\r\n```json\r\n      \"vin\": [\r\n        {\r\n          \"coinbase\": \"0368890904c1fe8d5e2f706f6f6c696e2e636f6d2ffabe6d6d5565843a681160cf7b08b1b74ac90a719e6d6ab28c16d336b924f0dc2fcabdc6010000000000000051bf2ad74af345dbe642154b2658931612a70d195e007add0100ffffffff\",\r\n          \"txinwitness\": [\r\n            \"0000000000000000000000000000000000000000000000000000000000000000\"\r\n          ],\r\n          \"sequence\": 4294967295\r\n        }\r\n      ],\r\n...\r\n```\r\n\r\nNovel nonce value: 000000000000000000008c31945b2012258366cc600a3e9a3ee0598e8f797731\r\n\r\n```json\r\n      \"vin\": [\r\n        {\r\n          \"coinbase\": \"031862082cfabe6d6d80c099b5e21f4c186d54eb292e17026932e52b1b807fa1380574c5adc1c843450200000000000000\",\r\n          \"txinwitness\": [\r\n            \"5b5032506f6f6c5d5b5032506f6f6c5d5b5032506f6f6c5d5b5032506f6f6c5d\"\r\n          ],\r\n          \"sequence\": 4294967295\r\n        }\r\n      ],\r\n...\r\n```\r\n\r\n## Alternatives\r\n\r\nThis field could be renamed for the coinbase, `\"witnessnonce\"` perhaps. It could also be omitted when null/zero (`0x000...000`).\r\n\r\n## Tests\r\n\r\nThis didn't break any tests and I couldn't find an obvious way to include a test for this. If this is desired I'd apreicate some pointers.",
          "user": {
            "login": "rvagg",
            "id": 495647,
            "node_id": "MDQ6VXNlcjQ5NTY0Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/495647?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rvagg",
            "html_url": "https://github.com/rvagg",
            "followers_url": "https://api.github.com/users/rvagg/followers",
            "following_url": "https://api.github.com/users/rvagg/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/rvagg/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/rvagg/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/rvagg/subscriptions",
            "organizations_url": "https://api.github.com/users/rvagg/orgs",
            "repos_url": "https://api.github.com/users/rvagg/repos",
            "events_url": "https://api.github.com/users/rvagg/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/rvagg/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18826",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18826",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18826.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18826.patch"
          },
          "closed_at": "2020-06-08T14:20:52Z",
          "created_at": "2020-04-30T09:53:18Z",
          "updated_at": "2022-02-15T10:32:01Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 622017678,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjAxNzY3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622017678",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-30T18:13:59Z",
      "updated_at": "2020-11-21T09:47:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20406 (util: Avoid invalid integer negation in FormatMoney and ValueFromAmount by practicalswift)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-622017678",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "commented",
      "id": 622339679,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjMzOTY3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622339679",
      "actor": {
        "login": "brakmic",
        "id": 56779,
        "node_id": "MDQ6VXNlcjU2Nzc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brakmic",
        "html_url": "https://github.com/brakmic",
        "followers_url": "https://api.github.com/users/brakmic/followers",
        "following_url": "https://api.github.com/users/brakmic/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brakmic/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brakmic/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
        "organizations_url": "https://api.github.com/users/brakmic/orgs",
        "repos_url": "https://api.github.com/users/brakmic/repos",
        "events_url": "https://api.github.com/users/brakmic/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brakmic/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-01T10:44:27Z",
      "updated_at": "2020-05-01T10:44:27Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 732554a8a64ad5c9d49505272d225626566898de\r\n\r\nBuilt, run and tested on macOS Catalina 10.15.4\r\n\r\n",
      "user": {
        "login": "brakmic",
        "id": 56779,
        "node_id": "MDQ6VXNlcjU2Nzc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brakmic",
        "html_url": "https://github.com/brakmic",
        "followers_url": "https://api.github.com/users/brakmic/followers",
        "following_url": "https://api.github.com/users/brakmic/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brakmic/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brakmic/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
        "organizations_url": "https://api.github.com/users/brakmic/orgs",
        "repos_url": "https://api.github.com/users/brakmic/repos",
        "events_url": "https://api.github.com/users/brakmic/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brakmic/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-622339679",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "reviewed",
      "id": 408756097,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NzU2MDk3",
      "url": null,
      "actor": null,
      "commit_id": "732554a8a64ad5c9d49505272d225626566898de",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Looks like it was based on the original PR rather than my rebase, and therefore missed some fixups.",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#pullrequestreview-408756097",
      "submitted_at": "2020-05-10T15:42:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
    },
    {
      "event": "commented",
      "id": 626358397,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjM1ODM5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/626358397",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-10T17:03:51Z",
      "updated_at": "2020-05-10T17:03:51Z",
      "author_association": "MEMBER",
      "body": "Proposed update: https://github.com/bitcoin/bitcoin/compare/master...luke-jr:getblock_fees-0.20",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-626358397",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "commented",
      "id": 626373459,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjM3MzQ1OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/626373459",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-10T19:01:43Z",
      "updated_at": "2020-05-10T19:01:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the review and the update @luke-jr !  I'm happy to go with your proposed update (we can close this PR).\r\n\r\nQuick notes:\r\n- I didn't include the verbosity 3 changes because I wanted to move things over incrementally\r\n- In your updates it might still be necessary to introduce some way to prevent the fuzz tests from failing (it was causing an integer overflow when adding a large value to `amt_total_out`); I added a halfhearted check (which you correctly pointed out doesn't always work) but maybe it makes more sense to just update the fuzz test",
      "user": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-626373459",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "mentioned",
      "id": 3320599419,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzMyMDU5OTQxOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3320599419",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-10T19:01:43Z"
    },
    {
      "event": "subscribed",
      "id": 3320599420,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDMzMjA1OTk0MjA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3320599420",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-10T19:01:43Z"
    },
    {
      "event": "commented",
      "id": 628349825,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyODM0OTgyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/628349825",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-14T02:35:15Z",
      "updated_at": "2020-05-14T02:35:15Z",
      "author_association": "MEMBER",
      "body": "We don't need to close this PR, you're doing fine.\r\n\r\nIf you want to adopt my branch as-is, you can just checkout yours, `git reset --hard 0b46eb7ac63`, and re-push it here.",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-628349825",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-15T21:42:56Z",
      "updated_at": "2020-05-15T21:42:56Z",
      "source": {
        "issue": {
          "id": 465350991,
          "node_id": "MDU6SXNzdWU0NjUzNTA5OTE=",
          "url": "https://api.github.com/repos/bitcoin-core-review-club/website/issues/14",
          "repository_url": "https://api.github.com/repos/bitcoin-core-review-club/website",
          "labels_url": "https://api.github.com/repos/bitcoin-core-review-club/website/issues/14/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core-review-club/website/issues/14/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core-review-club/website/issues/14/events",
          "html_url": "https://github.com/bitcoin-core-review-club/website/issues/14",
          "number": 14,
          "state": "closed",
          "state_reason": "completed",
          "title": "Future PRs",
          "body": "Please comment in this issue to request PRs to be covered in future review club meetings.",
          "user": {
            "login": "jnewbery",
            "id": 1063656,
            "node_id": "MDQ6VXNlcjEwNjM2NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jnewbery",
            "html_url": "https://github.com/jnewbery",
            "followers_url": "https://api.github.com/users/jnewbery/followers",
            "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
            "organizations_url": "https://api.github.com/users/jnewbery/orgs",
            "repos_url": "https://api.github.com/users/jnewbery/repos",
            "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jnewbery/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 52,
          "closed_at": "2022-01-08T20:24:06Z",
          "created_at": "2019-07-08T16:24:43Z",
          "updated_at": "2022-01-08T20:24:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3344768057,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzM0NDc2ODA1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3344768057",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-17T17:34:06Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-17T22:49:26Z",
      "updated_at": "2020-05-17T22:49:26Z",
      "source": {
        "issue": {
          "id": 589229249,
          "node_id": "MDExOlB1bGxSZXF1ZXN0Mzk0ODMyODU5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18450",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18450/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18450/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18450/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18450",
          "number": 18450,
          "state": "closed",
          "state_reason": null,
          "title": "util: Use locale independent ToString(…) instead of locale dependent strprintf(…) for low-level string formatting",
          "body": "Use locale independent `ToString(…)` instead of locale dependent `strprintf(…)` for low-level string formatting.\r\n\r\nContext: See sipas comment in https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-604727148.\r\n\r\nExample taken from #18281:\r\n\r\n> Low level functions `ScriptToAsmStr` (`core_io`), `i64tostr` (`strencodings`) and `itostr` (`strencodings`) are locale dependent:\r\n> \r\n> ```c++\r\n> const std::vector<uint8_t> b{0x6a, 0x4, 0xff, 0xff, 0xff, 0xff};\r\n> const CScript script{b.begin(), b.end()};\r\n> for (const std::string& locale_string : {\"C\", \"de_DE\"}) {\r\n>     std::locale::global(std::locale(locale_string));\r\n>     std::cout << \"[\" << locale_string << \"] ScriptToAsmStr(script, false) == \" \r\n>         << ScriptToAsmStr(script, false) << \"\\n\";\r\n> }\r\n> ```\r\n> \r\n> ```\r\n> [C] ScriptToAsmStr(script, false) == OP_RETURN -2147483647\r\n> [de_DE] ScriptToAsmStr(script, false) == OP_RETURN -2.147.483.647\r\n> ```\r\n\r\nFixes #18281.",
          "user": {
            "login": "practicalswift",
            "id": 7826565,
            "node_id": "MDQ6VXNlcjc4MjY1NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicalswift",
            "html_url": "https://github.com/practicalswift",
            "followers_url": "https://api.github.com/users/practicalswift/followers",
            "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
            "organizations_url": "https://api.github.com/users/practicalswift/orgs",
            "repos_url": "https://api.github.com/users/practicalswift/repos",
            "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/practicalswift/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18450",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18450",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18450.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18450.patch"
          },
          "closed_at": "2020-05-30T10:43:42Z",
          "created_at": "2020-03-27T15:52:00Z",
          "updated_at": "2022-08-16T17:19:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "WasanTantiwararom",
        "id": 61393578,
        "node_id": "MDQ6VXNlcjYxMzkzNTc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/61393578?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/WasanTantiwararom",
        "html_url": "https://github.com/WasanTantiwararom",
        "followers_url": "https://api.github.com/users/WasanTantiwararom/followers",
        "following_url": "https://api.github.com/users/WasanTantiwararom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/WasanTantiwararom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/WasanTantiwararom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/WasanTantiwararom/subscriptions",
        "organizations_url": "https://api.github.com/users/WasanTantiwararom/orgs",
        "repos_url": "https://api.github.com/users/WasanTantiwararom/repos",
        "events_url": "https://api.github.com/users/WasanTantiwararom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/WasanTantiwararom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-21T18:03:51Z",
      "updated_at": "2020-05-21T18:03:51Z",
      "source": {
        "issue": {
          "id": 448193316,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjgyMDMzMzEw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16083",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16083/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16083/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16083/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/16083",
          "number": 16083,
          "state": "closed",
          "state_reason": null,
          "title": "[WIP] transaction fees in getblock",
          "body": "Using block undo data (like in #14802) we can now show fee information for each transaction in a block without the need for additional `-txindex` and/or a ton of costly lookups. For a start we'll add transaction fee information to `getblock` verbosity level 2. This comes at a negligible speed penalty (<1%). Optimally, we add a \"prevout\" KV to each input spent, displaying additional information like `value`, `scriptPubKey` and `height` for each input spent. Because this involves calculating addresses it is a lot more costly (~ 22% slower) so new verbosity level 3 is introduced.\r\n\r\n```\r\nsrc/bitcoin-cli getblock 00000000000000000007fce39a80dc9110fe8709ee504c01e1f04f1f59be7bbf 2\r\n...\r\n      \"fees\": 0.00124850,\r\n...",
          "user": {
            "login": "FelixWeis",
            "id": 551068,
            "node_id": "MDQ6VXNlcjU1MTA2OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/551068?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/FelixWeis",
            "html_url": "https://github.com/FelixWeis",
            "followers_url": "https://api.github.com/users/FelixWeis/followers",
            "following_url": "https://api.github.com/users/FelixWeis/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/FelixWeis/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/FelixWeis/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/FelixWeis/subscriptions",
            "organizations_url": "https://api.github.com/users/FelixWeis/orgs",
            "repos_url": "https://api.github.com/users/FelixWeis/repos",
            "events_url": "https://api.github.com/users/FelixWeis/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/FelixWeis/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16083",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/16083",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/16083.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/16083.patch"
          },
          "closed_at": "2020-03-13T04:49:20Z",
          "created_at": "2019-05-24T14:12:41Z",
          "updated_at": "2022-02-15T10:36:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-07T23:35:32Z",
      "updated_at": "2020-06-07T23:35:32Z",
      "source": {
        "issue": {
          "id": 633446960,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDMwMDk1NTc1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19200",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19200/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19200/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19200/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19200",
          "number": 19200,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: remove deprecated getaddressinfo fields",
          "body": "These were deprecated in #17578 and #17585, with expected 0.21 removal notified in the 0.20 release notes.\r\n```\r\n- The `getaddressinfo` RPC has had its `label` field deprecated\r\n  (re-enable for this release using the configuration parameter\r\n  `-deprecatedrpc=label`).  The `labels` field is altered from returning\r\n  JSON objects to returning a JSON array of label names (re-enable\r\n  previous behavior for this release using the configuration parameter\r\n  `-deprecatedrpc=labelspurpose`).  Backwards compatibility using the\r\n  deprecated configuration parameters is expected to be dropped in the\r\n  0.21 release.  (#17585, #17578)\r\n```",
          "user": {
            "login": "jonatack",
            "id": 2415484,
            "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonatack",
            "html_url": "https://github.com/jonatack",
            "followers_url": "https://api.github.com/users/jonatack/followers",
            "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
            "organizations_url": "https://api.github.com/users/jonatack/orgs",
            "repos_url": "https://api.github.com/users/jonatack/repos",
            "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonatack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19200",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19200",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19200.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19200.patch"
          },
          "closed_at": "2020-06-21T09:07:36Z",
          "created_at": "2020-06-07T14:09:41Z",
          "updated_at": "2022-02-15T10:37:19Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 3420348562,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM0MjAzNDg1NjI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3420348562",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-08T14:28:38Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 427626897,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NjI2ODk3",
      "url": null,
      "actor": null,
      "commit_id": "0b46eb7ac63c7fc4105fb28f3886970565946fd1",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#pullrequestreview-427626897",
      "submitted_at": "2020-06-10T00:08:31Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
    },
    {
      "event": "reviewed",
      "id": 430250302,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMjUwMzAy",
      "url": null,
      "actor": null,
      "commit_id": "0b46eb7ac63c7fc4105fb28f3886970565946fd1",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#pullrequestreview-430250302",
      "submitted_at": "2020-06-14T20:55:01Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3757613341,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzc1NzYxMzM0MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3757613341",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-11T18:58:38Z"
    },
    {
      "event": "unlabeled",
      "id": 3757844972,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50Mzc1Nzg0NDk3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3757844972",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-11T20:04:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3758939718,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzc1ODkzOTcxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3758939718",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-12T06:10:48Z"
    },
    {
      "event": "reviewed",
      "id": 496419603,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2NDE5NjAz",
      "url": null,
      "actor": null,
      "commit_id": "1298f0fca79803f3bc91c052f901a4df63ae343a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Looks good. It'd be nice if the test checked that the fee returned was correct rather than just testing that any value is returned.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#pullrequestreview-496419603",
      "submitted_at": "2020-09-25T14:00:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
    },
    {
      "event": "reviewed",
      "id": 498859736,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4ODU5NzM2",
      "url": null,
      "actor": null,
      "commit_id": "a05fe7f59e211fcd4c128c775d15f0a493b196c4",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#pullrequestreview-498859736",
      "submitted_at": "2020-09-29T21:44:12Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
    },
    {
      "event": "commented",
      "id": 701511380,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMTUxMTM4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701511380",
      "actor": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-30T16:47:29Z",
      "updated_at": "2020-09-30T16:47:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK.\r\n\r\nReviewed changes, ran tests.  Need to manually test further. 💻 \r\n\r\nI agree with the previous review comments.\r\n\r\nFeel free to add a commit at the beginning cleaning up the code around your changes!\r\nFor example:\r\n* Fixing the strange lack of braces around the body of the `if` [here in core_write.cpp](https://github.com/robot-visions/bitcoin/blob/1298f0fca79803f3bc91c052f901a4df63ae343a/src/core_write.cpp#L202)\r\n* Changing to [brace initialization](https://stackoverflow.com/questions/18222926/why-is-list-initialization-using-curly-braces-better-than-the-alternatives) for lines like [this one](https://github.com/robot-visions/bitcoin/blob/1298f0fca79803f3bc91c052f901a4df63ae343a/src/core_write.cpp#L194)",
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-701511380",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "commented",
      "id": 702045431,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjA0NTQzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702045431",
      "actor": {
        "login": "Emzy",
        "id": 1223908,
        "node_id": "MDQ6VXNlcjEyMjM5MDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1223908?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Emzy",
        "html_url": "https://github.com/Emzy",
        "followers_url": "https://api.github.com/users/Emzy/followers",
        "following_url": "https://api.github.com/users/Emzy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Emzy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Emzy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Emzy/subscriptions",
        "organizations_url": "https://api.github.com/users/Emzy/orgs",
        "repos_url": "https://api.github.com/users/Emzy/repos",
        "events_url": "https://api.github.com/users/Emzy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Emzy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-01T10:34:51Z",
      "updated_at": "2020-10-01T10:34:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "I get following error:\r\n```\r\n$ bitcoin-cli getblock \"$(bitcoin-cli getblockhash 650684)\" 2\r\nerror code: -1\r\nerror message:\r\ncore_write.cpp:251 (TxToUniv)\r\nInternal bug detected: 'MoneyRange(fee)'\r\nYou may report this issue here: https://github.com/bitcoin/bitcoin/issues\r\n```\r\nA block with only a Coinbase transaction works, for example 650026.",
      "user": {
        "login": "Emzy",
        "id": 1223908,
        "node_id": "MDQ6VXNlcjEyMjM5MDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1223908?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Emzy",
        "html_url": "https://github.com/Emzy",
        "followers_url": "https://api.github.com/users/Emzy/followers",
        "following_url": "https://api.github.com/users/Emzy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Emzy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Emzy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Emzy/subscriptions",
        "organizations_url": "https://api.github.com/users/Emzy/orgs",
        "repos_url": "https://api.github.com/users/Emzy/repos",
        "events_url": "https://api.github.com/users/Emzy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Emzy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-702045431",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3831508104,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgzMTUwODEwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3831508104",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-01T21:22:58Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3831542445,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgzMTU0MjQ0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3831542445",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-01T21:34:23Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-02T01:13:41Z",
      "updated_at": "2020-10-02T01:13:41Z",
      "source": {
        "issue": {
          "id": 694197606,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDgwNjEwMDYw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19888",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19888/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19888/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19888/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19888",
          "number": 19888,
          "state": "closed",
          "state_reason": null,
          "title": "rpc, test: Improve getblockstats for unspendables",
          "body": "Fixes #19885\r\n\r\nThe genesis block does not have undo data saved to disk so the RPC errored because of that.",
          "user": {
            "login": "fjahr",
            "id": 1322187,
            "node_id": "MDQ6VXNlcjEzMjIxODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fjahr",
            "html_url": "https://github.com/fjahr",
            "followers_url": "https://api.github.com/users/fjahr/followers",
            "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
            "organizations_url": "https://api.github.com/users/fjahr/orgs",
            "repos_url": "https://api.github.com/users/fjahr/repos",
            "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fjahr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 21,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19888",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19888.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19888.patch"
          },
          "closed_at": "2022-12-05T22:47:13Z",
          "created_at": "2020-09-05T22:25:38Z",
          "updated_at": "2022-12-05T22:47:14Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3832460528,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgzMjQ2MDUyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3832460528",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-02T05:52:35Z"
    },
    {
      "event": "commented",
      "id": 702717475,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjcxNzQ3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702717475",
      "actor": {
        "login": "Emzy",
        "id": 1223908,
        "node_id": "MDQ6VXNlcjEyMjM5MDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1223908?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Emzy",
        "html_url": "https://github.com/Emzy",
        "followers_url": "https://api.github.com/users/Emzy/followers",
        "following_url": "https://api.github.com/users/Emzy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Emzy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Emzy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Emzy/subscriptions",
        "organizations_url": "https://api.github.com/users/Emzy/orgs",
        "repos_url": "https://api.github.com/users/Emzy/repos",
        "events_url": "https://api.github.com/users/Emzy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Emzy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-02T12:54:32Z",
      "updated_at": "2020-10-02T12:54:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I get following error:\r\n> \r\n> ```\r\n> $ bitcoin-cli getblock \"$(bitcoin-cli getblockhash 650684)\" 2\r\n> error code: -1\r\n> error message:\r\n> core_write.cpp:251 (TxToUniv)\r\n> Internal bug detected: 'MoneyRange(fee)'\r\n> You may report this issue here: https://github.com/bitcoin/bitcoin/issues\r\n> ```\r\n> \r\n> A block with only a Coinbase transaction works, for example 650026.\r\n\r\n8a7229e2e5c306e86a6a589c1ab0e4c58ea49545 fixed it.",
      "user": {
        "login": "Emzy",
        "id": 1223908,
        "node_id": "MDQ6VXNlcjEyMjM5MDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1223908?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Emzy",
        "html_url": "https://github.com/Emzy",
        "followers_url": "https://api.github.com/users/Emzy/followers",
        "following_url": "https://api.github.com/users/Emzy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Emzy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Emzy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Emzy/subscriptions",
        "organizations_url": "https://api.github.com/users/Emzy/orgs",
        "repos_url": "https://api.github.com/users/Emzy/repos",
        "events_url": "https://api.github.com/users/Emzy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Emzy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-702717475",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3836315596,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgzNjMxNTU5Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3836315596",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-03T07:19:27Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3836327904,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgzNjMyNzkwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3836327904",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-03T07:37:43Z"
    },
    {
      "event": "reviewed",
      "id": 501636226,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjM2MjI2",
      "url": null,
      "actor": null,
      "commit_id": "8e38a27c69e8ac8abf5d0c2ad29b8be41a140117",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "utACK 8ccfbde6fafa9f862bc21a8337a86f0cc465967f\r\n\r\nFeel free to ignore my comments unless you have to make other changes.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#pullrequestreview-501636226",
      "submitted_at": "2020-10-04T16:30:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3837870333,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzgzNzg3MDMzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3837870333",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-04T19:24:26Z"
    },
    {
      "event": "reviewed",
      "id": 501833820,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxODMzODIw",
      "url": null,
      "actor": null,
      "commit_id": "aae692c3e29f4d3cb654cb40f18d658b624fa870",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#pullrequestreview-501833820",
      "submitted_at": "2020-10-05T08:40:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3856387008,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzg1NjM4NzAwOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3856387008",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-08T16:37:09Z"
    },
    {
      "event": "commented",
      "id": 706084886,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjA4NDg4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706084886",
      "actor": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T09:49:31Z",
      "updated_at": "2020-10-09T09:49:31Z",
      "author_association": "MEMBER",
      "body": "utACK dd4ec0704c66c23d207bb7394823469a1b59b060\r\n\r\nSince the first commit is very different from the version in 16083, you should feel free to set yourself as the commit author and add felix as a co-author (or just add yourself as co-author).\r\n\r\nAlso feel free to set the review comments above as 'resolved' if you think they're addressed. I went through and resolved my own review comments, but didn't resolve comments from other reviewers. Setting all comments to resolved signals to other reviewers that you've addressed all the outstanding issues.",
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-706084886",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiZjdkNmUzMWIxMDYyYWI1ZjkwZTE0ZTgzYzU2MzA5ZjQ5OWZhMmU5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bf7d6e31b1062ab5f90e14e83c56309f499fa2e9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bf7d6e31b1062ab5f90e14e83c56309f499fa2e9",
      "tree": {
        "sha": "194625396c4479845f2e7b0617d44f278a733f47",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/194625396c4479845f2e7b0617d44f278a733f47"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cce151317909ab8eb56d3e5da522f43c7d7db077",
          "sha": "cce151317909ab8eb56d3e5da522f43c7d7db077",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cce151317909ab8eb56d3e5da522f43c7d7db077"
        }
      ],
      "message": "RPC: getblock: tx fee calculation for verbosity 2 via Undo data\n\nCo-authored-by: Felix Weis <mail@felixweis.com>",
      "committer": {
        "name": "Elliott Jin",
        "email": "elliott.jin@gmail.com",
        "date": "2020-10-09T15:50:44Z"
      },
      "author": {
        "name": "Elliott Jin",
        "email": "elliott.jin@gmail.com",
        "date": "2020-10-09T15:50:44Z"
      },
      "sha": "bf7d6e31b1062ab5f90e14e83c56309f499fa2e9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2NmQwMTJhZDdmOTM4MWJhY2ZjOWI4Mzg4ZmEyZWJmODJjYjg2Yzll",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "tree": {
        "sha": "2cb7cf9618960bfcac96a5c24f81d8ef80abeb04",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2cb7cf9618960bfcac96a5c24f81d8ef80abeb04"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bf7d6e31b1062ab5f90e14e83c56309f499fa2e9",
          "sha": "bf7d6e31b1062ab5f90e14e83c56309f499fa2e9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bf7d6e31b1062ab5f90e14e83c56309f499fa2e9"
        }
      ],
      "message": "test: RPC: getblock fee calculations",
      "committer": {
        "name": "Elliott Jin",
        "email": "elliott.jin@gmail.com",
        "date": "2020-10-09T15:50:49Z"
      },
      "author": {
        "name": "Elliott Jin",
        "email": "elliott.jin@gmail.com",
        "date": "2020-10-09T15:50:49Z"
      },
      "sha": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3860804223,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50Mzg2MDgwNDIyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3860804223",
      "actor": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-09T15:54:22Z"
    },
    {
      "event": "commented",
      "id": 723641914,
      "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzY0MTkxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/723641914",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-08T17:37:17Z",
      "updated_at": "2020-11-08T17:37:17Z",
      "author_association": "MEMBER",
      "body": "tACK 66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-723641914",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-11-21T04:29:53Z",
      "updated_at": "2020-11-21T04:29:53Z",
      "source": {
        "issue": {
          "id": 744169512,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTIxOTQwNzQ5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20406",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20406/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20406/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20406/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20406",
          "number": 20406,
          "state": "closed",
          "state_reason": null,
          "title": "util: Avoid invalid integer negation in FormatMoney and ValueFromAmount",
          "body": "Avoid invalid integer negation in `FormatMoney` and `ValueFromAmount`.\r\n\r\nFixes #20402. \r\n\r\nBefore this patch:\r\n\r\n```\r\n$ CC=clang CXX=clang++ ./configure --with-sanitizers=undefined\r\n$ make -C src/ test/test_bitcoin\r\n$ src/test/test_bitcoin -t rpc_tests/rpc_format_monetary_values -t util_tests/util_FormatMoney\r\ncore_write.cpp:21:29: runtime error: negation of -9223372036854775808 cannot be represented in type 'CAmount'\r\n  (aka 'long'); cast to an unsigned type to negate this value to itself\r\nSUMMARY: UndefinedBehaviorSanitizer: undefined-behavior core_write.cpp:21:29 in \r\ntest/rpc_tests.cpp(186): error: in \"rpc_tests/rpc_format_monetary_values\": \r\n  check ValueFromAmount(std::numeric_limits<CAmount>::min()).write() == \"-92233720368.54775808\" has failed \r\n  [--92233720368.-54775808 != -92233720368.54775808]\r\nutil/moneystr.cpp:16:34: runtime error: negation of -9223372036854775808 cannot be represented in type 'CAmount'\r\n  (aka 'long'); cast to an unsigned type to negate this value to itself\r\nSUMMARY: UndefinedBehaviorSanitizer: undefined-behavior util/moneystr.cpp:16:34 in \r\ntest/util_tests.cpp(1188): error: in \"util_tests/util_FormatMoney\":\r\n  check FormatMoney(std::numeric_limits<CAmount>::min()) == \"-92233720368.54775808\" has failed \r\n  [--92233720368.-54775808 != -92233720368.54775808]\r\n```\r\n\r\nAfter this patch:\r\n\r\n```\r\n$ CC=clang CXX=clang++ ./configure --with-sanitizers=undefined\r\n$ make -C src/ test/test_bitcoin\r\n$ src/test/test_bitcoin -t rpc_tests/rpc_format_monetary_values -t util_tests/util_FormatMoney\r\n```\r\n",
          "user": {
            "login": "practicalswift",
            "id": 7826565,
            "node_id": "MDQ6VXNlcjc4MjY1NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicalswift",
            "html_url": "https://github.com/practicalswift",
            "followers_url": "https://api.github.com/users/practicalswift/followers",
            "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
            "organizations_url": "https://api.github.com/users/practicalswift/orgs",
            "repos_url": "https://api.github.com/users/practicalswift/repos",
            "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/practicalswift/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20406",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20406",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20406.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20406.patch"
          },
          "closed_at": "2021-03-03T18:05:06Z",
          "created_at": "2020-11-16T20:38:19Z",
          "updated_at": "2022-08-16T17:20:04Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hosiawak",
        "id": 4709,
        "node_id": "MDQ6VXNlcjQ3MDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4709?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hosiawak",
        "html_url": "https://github.com/hosiawak",
        "followers_url": "https://api.github.com/users/hosiawak/followers",
        "following_url": "https://api.github.com/users/hosiawak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hosiawak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hosiawak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hosiawak/subscriptions",
        "organizations_url": "https://api.github.com/users/hosiawak/orgs",
        "repos_url": "https://api.github.com/users/hosiawak/repos",
        "events_url": "https://api.github.com/users/hosiawak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hosiawak/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-21T09:41:13Z",
      "updated_at": "2020-12-21T09:41:13Z",
      "source": {
        "issue": {
          "id": 771731219,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTQzMTQzMzI3",
          "url": "https://api.github.com/repos/ElementsProject/lightning/issues/4289",
          "repository_url": "https://api.github.com/repos/ElementsProject/lightning",
          "labels_url": "https://api.github.com/repos/ElementsProject/lightning/issues/4289/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/ElementsProject/lightning/issues/4289/comments",
          "events_url": "https://api.github.com/repos/ElementsProject/lightning/issues/4289/events",
          "html_url": "https://github.com/ElementsProject/lightning/pull/4289",
          "number": 4289,
          "state": "closed",
          "state_reason": null,
          "title": "How to calculate channel fees using the RPC ?",
          "body": "Rationale: I'm working on a tool for C-Lightning and need to calculate on chain channel opening/closing/other fees. I've added `getrawtransaction` to `bcli.c` that lets me do that. It should come in handy in other situations too.\r\n\r\nPlease review my code if you have a minute and let me know if you see any issues.",
          "user": {
            "login": "hosiawak",
            "id": 4709,
            "node_id": "MDQ6VXNlcjQ3MDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4709?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hosiawak",
            "html_url": "https://github.com/hosiawak",
            "followers_url": "https://api.github.com/users/hosiawak/followers",
            "following_url": "https://api.github.com/users/hosiawak/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hosiawak/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hosiawak/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hosiawak/subscriptions",
            "organizations_url": "https://api.github.com/users/hosiawak/orgs",
            "repos_url": "https://api.github.com/users/hosiawak/repos",
            "events_url": "https://api.github.com/users/hosiawak/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hosiawak/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 0,
          "pull_request": {
            "url": "https://api.github.com/repos/ElementsProject/lightning/pulls/4289",
            "html_url": "https://github.com/ElementsProject/lightning/pull/4289",
            "diff_url": "https://github.com/ElementsProject/lightning/pull/4289.diff",
            "patch_url": "https://github.com/ElementsProject/lightning/pull/4289.patch"
          },
          "closed_at": "2020-12-21T13:04:16Z",
          "created_at": "2020-12-20T22:44:16Z",
          "updated_at": "2020-12-21T13:04:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 750394828,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1MDM5NDgyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/750394828",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-23T17:16:47Z",
      "updated_at": "2020-12-23T17:16:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "tACK 66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e\r\n\r\nChanges since last review were a small refactoring of the functional test using MiniWallet and some improvements on comments/docs. ",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#issuecomment-750394828",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18772"
    },
    {
      "event": "reviewed",
      "id": 558545334,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NTQ1MzM0",
      "url": null,
      "actor": null,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "![Untitled pnggg](https://user-images.githubusercontent.com/6399679/103094157-e8846d00-45fc-11eb-80b3-6caabe261af1.jpg)\r\n\r\n\r\nreview ACK 66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e 🗜\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nreview ACK 66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e 🗜\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUiUbgwAzPzceMugFaUVExZY36XvjsXenEtSk7a/xjrn8+SkZOd1gPtb852CYkQF\r\nCuWb42KnECcFnSw+BvesBuHqn6lcOdHlD8yqNaA3IJdW1UJREN0ik8rScuBnNigS\r\n7PrsiSJVESlXP16YcvlcFl/z/OmZ15tY+p+6IIed5/tp1CC5SYvkx2qUgLFXomU3\r\npbiuzE6rePULNjthMcS+CO8/8id2hPT4UoJdRxEZJ5pAqaIAtdwe0XFAUEFt6jwM\r\n2gkafeYnfk3c/lz/oIschVRrwFI/Hff7H/yuVPDzXebzQvHyMOATSyguB4xSVtyD\r\ntXOUlVovzdCkm6pTXn2gFLm59NbPDW0VbfJcFrhTEFdFV70MQ3scqgckTu74TZ4p\r\ncCQtQxt+bL4yHh3/CaiFon/OCK2kusAnajjqXCjwp8fmhbve5gI1t9QZXLy2QN9i\r\n4cs6ppl+i/e+Ts0yl0xziwecso7Xcx3UwXbzfNK+UQ1p8UhSLm8xaU0LVu6aNEcz\r\n+E+TevCn\r\n=deRF\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `3dfd17a565ae7ddbda9eaa8abb03935bc4380ceae2f4f25005f5f9c93ad5a7c8  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e8929401083dfd17a565ae7ddbda9eaa8abb03935bc4380ceae2f4f25005f5f9c93ad5a7c8f0101f9c883657c75d59ab33fa40582b076808fff010060a05c4f6e27ea4bff407287a3ab54608f1045fe4a626f0087202ea3c0ac089fb0083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6dfff010d75d6a4068db96c10733ccae621d08f408f020f05f87cf2533d92954994ce8bcea56d6b9fc4d9b3b1358c2543189f0d3ed6c6508f12002681ffd3a08f71223768a725356e42de1d19c1976b8102d1824b2d2610b6caa08f0203e9f1e5dfbaa6099a2030f6a88563ebecfea8ccf1d50f36972cb49d1513ce95408f1045fe4a626f0083d6c4857d4f690930083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff010eb6254e76ba212a86dd4616e93f6192208f02007f969677ce7dd8796cfb548988c65cf1111ada746c481a002159b4bfcd9a1a108f0206f3f00aca032fc597421da85d51cb4c8ba336788ad751d2c64839f996c739cca08f1045fe4a626f0082db5669873cede530083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6df010fd2e13139389a6be8df87d36931235c908f1045fe4a626f0081c1855e3d071622b0083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#pullrequestreview-558545334",
      "submitted_at": "2020-12-24T14:31:39Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
    },
    {
      "event": "merged",
      "id": 4147578389,
      "node_id": "MDExOk1lcmdlZEV2ZW50NDE0NzU3ODM4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4147578389",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f656165e9c0d09e654efabd56e6581638e35c26c",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f656165e9c0d09e654efabd56e6581638e35c26c",
      "created_at": "2020-12-24T14:35:43Z"
    },
    {
      "event": "closed",
      "id": 4147578394,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDE0NzU3ODM5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4147578394",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-24T14:35:43Z"
    },
    {
      "event": "referenced",
      "id": 4147754527,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQxNDc3NTQ1Mjc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4147754527",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c3b8e845b1ad7bf5aee63faf25118db4cd6fe3bc",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/c3b8e845b1ad7bf5aee63faf25118db4cd6fe3bc",
      "created_at": "2020-12-24T16:24:33Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-04T23:54:28Z",
      "updated_at": "2021-01-04T23:54:28Z",
      "source": {
        "issue": {
          "id": 619956660,
          "node_id": "MDU6SXNzdWU2MTk5NTY2NjA=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19003",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19003/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19003/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19003/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/19003",
          "number": 19003,
          "state": "closed",
          "state_reason": "completed",
          "title": "[RPC] Getting the spent transaction outputs of transactions in latest blocks",
          "body": "I am trying to gather some stats based on a recently mined block, that I need to update continuously.\r\n\r\nOne of the stat I am interested in is how many transaction are with round amount fees in the latest block.\r\n\r\nTo do this, I would need to `getblock` then for each transaction input, get the previous one via `getrawtransaction`. Now two problems with this:\r\n1. This require an enormous amount of requests.\r\n2. This need `txindex=1`\r\n\r\nWould it be realistic instead, to just fetch the spent output data directly from the Block Undo data that is still stored in the disk? This data is guaranteed to be always around as we need it to handle reorg. It also contains all the information I would need for the whole block in one continuous storage area. (instead of querying around via txindex).\r\n\r\nIs there any other way I am missing?\r\n\r\nIf I were to make a PR to add this feature, I think the easiest way would be to just expose the block undo data directly with a RPC method.",
          "user": {
            "login": "NicolasDorier",
            "id": 3020646,
            "node_id": "MDQ6VXNlcjMwMjA2NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NicolasDorier",
            "html_url": "https://github.com/NicolasDorier",
            "followers_url": "https://api.github.com/users/NicolasDorier/followers",
            "following_url": "https://api.github.com/users/NicolasDorier/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/NicolasDorier/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/NicolasDorier/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
            "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
            "repos_url": "https://api.github.com/users/NicolasDorier/repos",
            "events_url": "https://api.github.com/users/NicolasDorier/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "closed_at": "2022-10-26T21:28:32Z",
          "created_at": "2020-05-18T06:54:15Z",
          "updated_at": "2022-10-26T21:28:32Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-17T09:52:55Z",
      "updated_at": "2021-03-17T09:52:55Z",
      "source": {
        "issue": {
          "id": 833592739,
          "node_id": "MDU6SXNzdWU4MzM1OTI3Mzk=",
          "url": "https://api.github.com/repos/jonathanbier/forkmonitor/issues/152",
          "repository_url": "https://api.github.com/repos/jonathanbier/forkmonitor",
          "labels_url": "https://api.github.com/repos/jonathanbier/forkmonitor/issues/152/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/jonathanbier/forkmonitor/issues/152/comments",
          "events_url": "https://api.github.com/repos/jonathanbier/forkmonitor/issues/152/events",
          "html_url": "https://github.com/jonathanbier/forkmonitor/issues/152",
          "number": 152,
          "state": "open",
          "state_reason": null,
          "title": "Add tx fees for added transactions on block page",
          "body": "`getblocktemplate` includes the fee for each transaction, but `getblock` does not. So we can calculate the fee for _omitted_ transactions, but not for _added_ transactions.\r\n\r\nBitcoin Core v22 adds support for getting the transaction fee via RPC: https://github.com/bitcoin/bitcoin/pull/18772\r\n\r\nThis is more complicated than it seems: in order to calculate the fee for a transaction, you need to know the output amounts (which are in the current block) and the input amounts (which are in previous blocks). Fortunately Bitcoin Core also tracks those input amounts in the undo data, which is used when rolling back a block. The above PR uses that undo data to get the fee.\r\n\r\nOnce released (or we can use the master branch) we need to change `Node.get_coinbase_and_tx_ids_for_block`, `Block.find_or_create_block_and_ancestors` and `Block.find_missing` to use `getblock` with verbosity `2` rather than `1`.\r\n\r\nThis may require additional refactoring, because so far we would fetch the block from whichever node first told us about it. But now we have to always fetch the full block from v22, which may not have it yet. Instead, it might be better to generalise `match_missing_pools!` to include obtaining fee info.",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "COLLABORATOR",
          "locked": false,
          "comments": 0,
          "created_at": "2021-03-17T09:52:55Z",
          "updated_at": "2021-03-17T14:27:56Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-18T10:56:32Z",
      "updated_at": "2021-05-18T10:56:32Z",
      "source": {
        "issue": {
          "id": 891807759,
          "node_id": "MDU6SXNzdWU4OTE4MDc3NTk=",
          "url": "https://api.github.com/repos/rust-bitcoin/rust-bitcoincore-rpc/issues/178",
          "repository_url": "https://api.github.com/repos/rust-bitcoin/rust-bitcoincore-rpc",
          "labels_url": "https://api.github.com/repos/rust-bitcoin/rust-bitcoincore-rpc/issues/178/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/rust-bitcoin/rust-bitcoincore-rpc/issues/178/comments",
          "events_url": "https://api.github.com/repos/rust-bitcoin/rust-bitcoincore-rpc/issues/178/events",
          "html_url": "https://github.com/rust-bitcoin/rust-bitcoincore-rpc/issues/178",
          "number": 178,
          "state": "open",
          "state_reason": null,
          "title": "Add get_block_verbose method",
          "body": "![ver](https://user-images.githubusercontent.com/35099273/118257982-965ebe00-b4af-11eb-82bd-be4aea81f02a.png)\r\nCurrently only 0 and 1 are supported.",
          "user": {
            "login": "morr0ne",
            "id": 35099273,
            "node_id": "MDQ6VXNlcjM1MDk5Mjcz",
            "avatar_url": "https://avatars.githubusercontent.com/u/35099273?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/morr0ne",
            "html_url": "https://github.com/morr0ne",
            "followers_url": "https://api.github.com/users/morr0ne/followers",
            "following_url": "https://api.github.com/users/morr0ne/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/morr0ne/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/morr0ne/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/morr0ne/subscriptions",
            "organizations_url": "https://api.github.com/users/morr0ne/orgs",
            "repos_url": "https://api.github.com/users/morr0ne/repos",
            "events_url": "https://api.github.com/users/morr0ne/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/morr0ne/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 10,
          "created_at": "2021-05-14T10:27:04Z",
          "updated_at": "2021-06-03T11:05:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 6073851386,
      "node_id": "LOE_lADOABII584kLXEbzwAAAAFqB536",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6073851386",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T10:40:10Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661107",
      "pull_request_review_id": 408756097,
      "id": 422661107,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjY2MTEwNw==",
      "diff_hunk": "@@ -186,6 +187,10 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n \n     UniValue vin(UniValue::VARR);\n+\n+    CAmount nTotalIn = 0;\n+    CAmount nTotalOut = 0;",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "732554a8a64ad5c9d49505272d225626566898de",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why did you revert these back to the old variable name style? (I had changed them to `amt_total_in`/`amt_total_out` in my rebase...)",
      "created_at": "2020-05-10T15:34:10Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r422661107",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661107"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": 191,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 192,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661199",
      "pull_request_review_id": 408756097,
      "id": 422661199,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjY2MTE5OQ==",
      "diff_hunk": "@@ -205,6 +210,13 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n                 }\n                 in.pushKV(\"txinwitness\", txinwitness);\n             }\n+            if (txundo) {\n+                CAmount nPrevOut = txundo->vprevout[i].out.nValue;\n+                // Sanity check to avoid overflow\n+                if (MoneyRange(nPrevOut)) {\n+                    nTotalIn += nPrevOut;\n+                }",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "732554a8a64ad5c9d49505272d225626566898de",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This seems unnecessary.",
      "created_at": "2020-05-10T15:35:16Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r422661199",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661199"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": 215,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 218,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661336",
      "pull_request_review_id": 408756097,
      "id": 422661336,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjY2MTMzNg==",
      "diff_hunk": "@@ -224,9 +236,21 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n         ScriptPubKeyToUniv(txout.scriptPubKey, o, true);\n         out.pushKV(\"scriptPubKey\", o);\n         vout.push_back(out);\n+\n+        // Sanity check to avoid overflow\n+        if (MoneyRange(txout.nValue)) {\n+            nTotalOut += txout.nValue;\n+        }",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "732554a8a64ad5c9d49505272d225626566898de",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This won't work right... `nTotalOut` would just be missing part of its amount, and the result calculated later will still be wrong.",
      "created_at": "2020-05-10T15:36:15Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r422661336",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661336"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": 240,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 247,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661411",
      "pull_request_review_id": 408756097,
      "id": 422661411,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjY2MTQxMQ==",
      "diff_hunk": "@@ -224,9 +236,21 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n         ScriptPubKeyToUniv(txout.scriptPubKey, o, true);\n         out.pushKV(\"scriptPubKey\", o);\n         vout.push_back(out);\n+\n+        // Sanity check to avoid overflow\n+        if (MoneyRange(txout.nValue)) {\n+            nTotalOut += txout.nValue;\n+        }\n     }\n     entry.pushKV(\"vout\", vout);\n \n+    // For coinbase transactions we have txundo == nullptr\n+    if (txundo) {\n+        CAmount nFee = nTotalIn - nTotalOut;\n+        assert(MoneyRange(nFee));",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 57,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "732554a8a64ad5c9d49505272d225626566898de",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`CHECK_NONFATAL` in RPC code",
      "created_at": "2020-05-10T15:37:00Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r422661411",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661411"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 250,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661449",
      "pull_request_review_id": 408756097,
      "id": 422661449,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjY2MTQ0OQ==",
      "diff_hunk": "@@ -224,9 +236,21 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n         ScriptPubKeyToUniv(txout.scriptPubKey, o, true);\n         out.pushKV(\"scriptPubKey\", o);\n         vout.push_back(out);\n+\n+        // Sanity check to avoid overflow\n+        if (MoneyRange(txout.nValue)) {\n+            nTotalOut += txout.nValue;\n+        }\n     }\n     entry.pushKV(\"vout\", vout);\n \n+    // For coinbase transactions we have txundo == nullptr\n+    if (txundo) {\n+        CAmount nFee = nTotalIn - nTotalOut;",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 56,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "732554a8a64ad5c9d49505272d225626566898de",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`fees`",
      "created_at": "2020-05-10T15:37:29Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r422661449",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661449"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 249,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661827",
      "pull_request_review_id": 408756097,
      "id": 422661827,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjY2MTgyNw==",
      "diff_hunk": "@@ -143,16 +143,20 @@ UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIn\n     result.pushKV(\"versionHex\", strprintf(\"%08x\", block.nVersion));\n     result.pushKV(\"merkleroot\", block.hashMerkleRoot.GetHex());\n     UniValue txs(UniValue::VARR);\n-    for(const auto& tx : block.vtx)\n-    {\n-        if(txDetails)\n-        {\n+    if (txDetails) {\n+        CBlockUndo blockUndo;\n+        bool hasUndo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "732554a8a64ad5c9d49505272d225626566898de",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`have_undo`",
      "created_at": "2020-05-10T15:40:34Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r422661827",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 148,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661862",
      "pull_request_review_id": 408756097,
      "id": 422661862,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjY2MTg2Mg==",
      "diff_hunk": "@@ -143,16 +143,20 @@ UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIn\n     result.pushKV(\"versionHex\", strprintf(\"%08x\", block.nVersion));\n     result.pushKV(\"merkleroot\", block.hashMerkleRoot.GetHex());\n     UniValue txs(UniValue::VARR);\n-    for(const auto& tx : block.vtx)\n-    {\n-        if(txDetails)\n-        {\n+    if (txDetails) {\n+        CBlockUndo blockUndo;\n+        bool hasUndo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n+        for (size_t i = 0; i < block.vtx.size(); ++i) {\n+            const auto& tx = block.vtx[i];",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "732554a8a64ad5c9d49505272d225626566898de",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`.at(i)`",
      "created_at": "2020-05-10T15:40:50Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r422661862",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422661862"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 150,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422684708",
      "pull_request_review_id": 408771964,
      "id": 422684708,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjY4NDcwOA==",
      "diff_hunk": "@@ -205,6 +210,13 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n                 }\n                 in.pushKV(\"txinwitness\", txinwitness);\n             }\n+            if (txundo) {\n+                CAmount nPrevOut = txundo->vprevout[i].out.nValue;\n+                // Sanity check to avoid overflow\n+                if (MoneyRange(nPrevOut)) {\n+                    nTotalIn += nPrevOut;\n+                }",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "732554a8a64ad5c9d49505272d225626566898de",
      "in_reply_to_id": 422661199,
      "user": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, I agree it seems unnecessary.  I added this in order to fix a failing fuzz test.",
      "created_at": "2020-05-10T18:55:08Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r422684708",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422684708"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": 215,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 218,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422684773",
      "pull_request_review_id": 408772005,
      "id": 422684773,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjY4NDc3Mw==",
      "diff_hunk": "@@ -186,6 +187,10 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n \n     UniValue vin(UniValue::VARR);\n+\n+    CAmount nTotalIn = 0;\n+    CAmount nTotalOut = 0;",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "732554a8a64ad5c9d49505272d225626566898de",
      "in_reply_to_id": 422661107,
      "user": {
        "login": "robot-visions",
        "id": 63171930,
        "node_id": "MDQ6VXNlcjYzMTcxOTMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/63171930?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-visions",
        "html_url": "https://github.com/robot-visions",
        "followers_url": "https://api.github.com/users/robot-visions/followers",
        "following_url": "https://api.github.com/users/robot-visions/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-visions/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-visions/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-visions/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-visions/orgs",
        "repos_url": "https://api.github.com/users/robot-visions/repos",
        "events_url": "https://api.github.com/users/robot-visions/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-visions/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No particular reason; I'd be happy with either way.",
      "created_at": "2020-05-10T18:55:42Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r422684773",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/422684773"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": 191,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 192,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/437789086",
      "pull_request_review_id": 427626897,
      "id": 437789086,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4OTA4Ng==",
      "diff_hunk": "@@ -0,0 +1,40 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+'''Test getblock rpc fee calculation.\n+'''\n+\n+import os\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import get_datadir_path\n+\n+\n+class GetblockFeeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        address = node.getnewaddress()\n+        node.generatetoaddress(101, address)\n+        txid = node.sendtoaddress(address, 1)",
      "path": "test/functional/rpc_getblock_fee.py",
      "position": null,
      "original_position": 25,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "0b46eb7ac63c7fc4105fb28f3886970565946fd1",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`txid` is unused.\r\n\r\n(Feel free to update from my branch again)",
      "created_at": "2020-06-10T00:08:31Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r437789086",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/437789086"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 25,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439866641",
      "pull_request_review_id": 430250302,
      "id": 439866641,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTg2NjY0MQ==",
      "diff_hunk": "@@ -224,9 +234,18 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n         ScriptPubKeyToUniv(txout.scriptPubKey, o, true);\n         out.pushKV(\"scriptPubKey\", o);\n         vout.push_back(out);\n+\n+        amt_total_out += txout.nValue;",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "0b46eb7ac63c7fc4105fb28f3886970565946fd1",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The fuzzer can trigger undefined behaviour here with an overflow, which causes CI to fail even though it's harmless. Not sure what the solution should be - seems like overkill to actually prevent.",
      "created_at": "2020-06-14T20:55:01Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r439866641",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439866641"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 244,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440235335",
      "pull_request_review_id": 430722850,
      "id": 440235335,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDIzNTMzNQ==",
      "diff_hunk": "@@ -224,9 +234,18 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n         ScriptPubKeyToUniv(txout.scriptPubKey, o, true);\n         out.pushKV(\"scriptPubKey\", o);\n         vout.push_back(out);\n+\n+        amt_total_out += txout.nValue;",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "0b46eb7ac63c7fc4105fb28f3886970565946fd1",
      "in_reply_to_id": 439866641,
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@luke-jr Functions are assumed to be robust as long as they are fed with inputs fulfilling their documented preconditions, so I think the only robust alternative to preventing it is to make the implicit precondition explicit by documenting it. However, in this case it seems easy to just use `MoneyRange(…)` and be done with it, no? :)",
      "created_at": "2020-06-15T14:54:00Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r440235335",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440235335"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 244,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494988059",
      "pull_request_review_id": 496419603,
      "id": 494988059,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk4ODA1OQ==",
      "diff_hunk": "@@ -162,16 +162,21 @@ UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIn\n     result.pushKV(\"versionHex\", strprintf(\"%08x\", block.nVersion));\n     result.pushKV(\"merkleroot\", block.hashMerkleRoot.GetHex());\n     UniValue txs(UniValue::VARR);\n-    for(const auto& tx : block.vtx)\n-    {\n-        if(txDetails)\n-        {\n+    if (txDetails) {\n+        CBlockUndo blockUndo;\n+        const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n+        for (size_t i = 0; i < block.vtx.size(); ++i) {\n+            const auto& tx = block.vtx.at(i);\n+            // coinbase transaction (i == 0) doesn't have undo data\n+            const CTxUndo* ptr_txundo = (have_undo && i) ? &blockUndo.vtxundo.at(i - 1) : nullptr;",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "1298f0fca79803f3bc91c052f901a4df63ae343a",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Just `txundo` is fine for the var name. Our style isn't to prefix variable names with the type.",
      "created_at": "2020-09-25T13:29:44Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r494988059",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494988059"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 171,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494996867",
      "pull_request_review_id": 496419603,
      "id": 494996867,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk5Njg2Nw==",
      "diff_hunk": "@@ -162,16 +162,21 @@ UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIn\n     result.pushKV(\"versionHex\", strprintf(\"%08x\", block.nVersion));\n     result.pushKV(\"merkleroot\", block.hashMerkleRoot.GetHex());\n     UniValue txs(UniValue::VARR);\n-    for(const auto& tx : block.vtx)\n-    {\n-        if(txDetails)\n-        {\n+    if (txDetails) {\n+        CBlockUndo blockUndo;\n+        const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n+        for (size_t i = 0; i < block.vtx.size(); ++i) {\n+            const auto& tx = block.vtx.at(i);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "1298f0fca79803f3bc91c052f901a4df63ae343a",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think auto should only be used when it's immediately obvious from looking at the code what the type is, and when not using auto would be annoyingly verbose. Here, you'd need to look at the definition of a `CBlock` to determine that `tx` is a `CTransactionRef` object, and you're not saving my characters by not typing `CTransactionRef`, so I'd recommend avoiding auto.",
      "created_at": "2020-09-25T13:43:33Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r494996867",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494996867"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 169,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494997052",
      "pull_request_review_id": 496419603,
      "id": 494997052,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk5NzA1Mg==",
      "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+'''Test getblock rpc fee calculation.\n+'''",
      "path": "test/functional/rpc_getblock_fee.py",
      "position": null,
      "original_position": 6,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "1298f0fca79803f3bc91c052f901a4df63ae343a",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Join with line above",
      "created_at": "2020-09-25T13:43:51Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r494997052",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494997052"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 6,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494997865",
      "pull_request_review_id": 496419603,
      "id": 494997865,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk5Nzg2NQ==",
      "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+'''Test getblock rpc fee calculation.\n+'''\n+\n+import os\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import get_datadir_path\n+\n+\n+class GetblockFeeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        address = node.getnewaddress()\n+        node.generatetoaddress(101, address)\n+        node.sendtoaddress(address, 1)\n+        blockhash = node.generatetoaddress(1, address)[0]\n+\n+        self.log.info('Ensure that getblock with verbosity 2 includes fee')\n+        block = node.getblock(blockhash, 2)\n+        assert 'fee' in block['tx'][1]\n+\n+        self.log.info('Ensure that getblock with verbosity 1 doesn\\'t include fee')",
      "path": "test/functional/rpc_getblock_fee.py",
      "position": null,
      "original_position": 32,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "1298f0fca79803f3bc91c052f901a4df63ae343a",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Use double quotes to avoid having to escape the quote inside the log:\r\n\r\n```suggestion\r\n        self.log.info(\"Ensure that getblock with verbosity 1 doesn't include fee\")\r\n```\r\n\r\nSame in the log below.",
      "created_at": "2020-09-25T13:45:03Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r494997865",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494997865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495007723",
      "pull_request_review_id": 496419603,
      "id": 495007723,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAwNzcyMw==",
      "diff_hunk": "@@ -209,6 +215,11 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n                 txinwitness.push_back(HexStr(item));\n             }\n             in.pushKV(\"txinwitness\", txinwitness);\n+            if (txundo) {\n+                const CTxOut& txout = txundo->vprevout[i].out;\n+                // Suppress fuzz test failures by ignoring nonsense values",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "1298f0fca79803f3bc91c052f901a4df63ae343a",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems strange to me to have code in the produce that exists only to work around shortcomings in the fuzz tests. Which fuzz test fails if you don't do this? (the only fuzz tester that calls `TxToUniv()` doesn't provide a `txundo` param).",
      "created_at": "2020-09-25T14:00:05Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r495007723",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495007723"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 220,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496144902",
      "pull_request_review_id": 497783350,
      "id": 496144902,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjE0NDkwMg==",
      "diff_hunk": "@@ -209,6 +215,11 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n                 txinwitness.push_back(HexStr(item));\n             }\n             in.pushKV(\"txinwitness\", txinwitness);\n+            if (txundo) {\n+                const CTxOut& txout = txundo->vprevout[i].out;\n+                // Suppress fuzz test failures by ignoring nonsense values",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "1298f0fca79803f3bc91c052f901a4df63ae343a",
      "in_reply_to_id": 495007723,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Agree with @jnewbery . It is impossible to hit this condition in production, so an assert or just nothing at all might be more appropriate.",
      "created_at": "2020-09-28T18:17:52Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r496144902",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496144902"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 220,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496167710",
      "pull_request_review_id": 497812708,
      "id": 496167710,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjE2NzcxMA==",
      "diff_hunk": "@@ -209,6 +215,11 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n                 txinwitness.push_back(HexStr(item));\n             }\n             in.pushKV(\"txinwitness\", txinwitness);\n+            if (txundo) {\n+                const CTxOut& txout = txundo->vprevout[i].out;\n+                // Suppress fuzz test failures by ignoring nonsense values",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "1298f0fca79803f3bc91c052f901a4df63ae343a",
      "in_reply_to_id": 495007723,
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I suggest stating the pre-condition in the form of an assertion or documentation. Then it is the fuzzer's responsibility the fulfil all explicitly stated pre-conditions.",
      "created_at": "2020-09-28T18:59:51Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r496167710",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496167710"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 220,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497024259",
      "pull_request_review_id": 498859736,
      "id": 497024259,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAyNDI1OQ==",
      "diff_hunk": "@@ -209,6 +215,11 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n                 txinwitness.push_back(HexStr(item));\n             }\n             in.pushKV(\"txinwitness\", txinwitness);\n+            if (txundo) {\n+                const CTxOut& txout = txundo->vprevout[i].out;",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 35,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "a05fe7f59e211fcd4c128c775d15f0a493b196c4",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "maybe call this `prev_txout` or so",
      "created_at": "2020-09-29T20:28:33Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r497024259",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497024259"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 219,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497024539",
      "pull_request_review_id": 498859736,
      "id": 497024539,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAyNDUzOQ==",
      "diff_hunk": "@@ -228,9 +239,19 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n         ScriptPubKeyToUniv(txout.scriptPubKey, o, true);\n         out.pushKV(\"scriptPubKey\", o);\n         vout.push_back(out);\n+\n+        // Suppress fuzz test failures by ignoring nonsense values\n+        if (MoneyRange(txout.nValue)) amt_total_out += txout.nValue;\n     }\n     entry.pushKV(\"vout\", vout);\n \n+    // For coinbase transactions we have txundo == nullptr\n+    if (txundo) {\n+        CAmount fee = amt_total_in - amt_total_out;",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 54,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "a05fe7f59e211fcd4c128c775d15f0a493b196c4",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit\r\n```suggestion\r\n        const CAmount fee = amt_total_in - amt_total_out;\r\n```",
      "created_at": "2020-09-29T20:29:04Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r497024539",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497024539"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 250,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497028881",
      "pull_request_review_id": 498859736,
      "id": 497028881,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAyODg4MQ==",
      "diff_hunk": "@@ -162,16 +162,21 @@ UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIn\n     result.pushKV(\"versionHex\", strprintf(\"%08x\", block.nVersion));\n     result.pushKV(\"merkleroot\", block.hashMerkleRoot.GetHex());\n     UniValue txs(UniValue::VARR);\n-    for(const auto& tx : block.vtx)\n-    {\n-        if(txDetails)\n-        {\n+    if (txDetails) {\n+        CBlockUndo blockUndo;\n+        const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);",
      "path": "src/rpc/blockchain.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "a05fe7f59e211fcd4c128c775d15f0a493b196c4",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think you should use `GetUndoChecked` here and the RPC should fail if the details are requested but the undo data can not be found. Otherwise, the users can not trust that they get the fees in the response and they will have no way to know why they weren't included, it will just seem random to them.\r\n\r\nBTW, I am unsure in which cases we are missing the undo data. Is that only in the case of data corruption or are there reasons that make this common? Or is pruning unreliable there in some sense? I couldn't find anything on the topic.",
      "created_at": "2020-09-29T20:35:31Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r497028881",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497028881"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 167,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497046067",
      "pull_request_review_id": 498859736,
      "id": 497046067,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0NjA2Nw==",
      "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+'''Test getblock rpc fee calculation.\n+'''\n+\n+import os\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import get_datadir_path\n+\n+\n+class GetblockFeeTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        address = node.getnewaddress()\n+        node.generatetoaddress(101, address)",
      "path": "test/functional/rpc_getblock_fee.py",
      "position": null,
      "original_position": 24,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "1298f0fca79803f3bc91c052f901a4df63ae343a",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You don't need to do this to have coins to spend. This is done for you automatically by default (see docs on `setup_clean_chain`) and this uses fewer resources by loading the chain from cache.",
      "created_at": "2020-09-29T20:52:15Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r497046067",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497046067"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497063838",
      "pull_request_review_id": 498859736,
      "id": 497063838,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA2MzgzOA==",
      "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+'''Test getblock rpc fee calculation.\n+'''\n+\n+import os\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import get_datadir_path\n+\n+\n+class GetblockFeeTest(BitcoinTestFramework):",
      "path": "test/functional/rpc_getblock_fee.py",
      "position": null,
      "original_position": 14,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "1298f0fca79803f3bc91c052f901a4df63ae343a",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think `rpc_blockchain.py` is the natural place for these tests. A new file is not necessary for such a specific and small test IMO.",
      "created_at": "2020-09-29T21:14:53Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r497063838",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497063838"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497674965",
      "pull_request_review_id": 499649219,
      "id": 497674965,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzY3NDk2NQ==",
      "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+'''Test getblock rpc fee calculation.\n+'''",
      "path": "test/functional/rpc_getblock_fee.py",
      "position": null,
      "original_position": 6,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "1298f0fca79803f3bc91c052f901a4df63ae343a",
      "in_reply_to_id": 494997052,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: I think we also usually do double quotes? `\"\"\"`",
      "created_at": "2020-09-30T17:15:53Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r497674965",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497674965"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 6,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498525344",
      "pull_request_review_id": 500735483,
      "id": 498525344,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNTM0NA==",
      "diff_hunk": "@@ -162,16 +162,21 @@ UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIn\n     result.pushKV(\"versionHex\", strprintf(\"%08x\", block.nVersion));\n     result.pushKV(\"merkleroot\", block.hashMerkleRoot.GetHex());\n     UniValue txs(UniValue::VARR);\n-    for(const auto& tx : block.vtx)\n-    {\n-        if(txDetails)\n-        {\n+    if (txDetails) {\n+        CBlockUndo blockUndo;\n+        const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);",
      "path": "src/rpc/blockchain.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "a05fe7f59e211fcd4c128c775d15f0a493b196c4",
      "in_reply_to_id": 497028881,
      "user": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Great idea!\r\n\r\nYes, according to https://github.com/bitcoin/bitcoin/blob/1b313cacc99a1b372238f9036abed5491f9d28f7/src/validation.h#L370 it looks like block and undo data are always deleted together.\r\n\r\nI definitely might be missing something, but from a quick search I couldn't find any other reason we'd delete `rev` but not `blk` files.",
      "created_at": "2020-10-01T21:36:22Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r498525344",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498525344"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 167,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498526377",
      "pull_request_review_id": 500736751,
      "id": 498526377,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNjM3Nw==",
      "diff_hunk": "@@ -162,16 +162,21 @@ UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIn\n     result.pushKV(\"versionHex\", strprintf(\"%08x\", block.nVersion));\n     result.pushKV(\"merkleroot\", block.hashMerkleRoot.GetHex());\n     UniValue txs(UniValue::VARR);\n-    for(const auto& tx : block.vtx)\n-    {\n-        if(txDetails)\n-        {\n+    if (txDetails) {\n+        CBlockUndo blockUndo;\n+        const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);",
      "path": "src/rpc/blockchain.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "a05fe7f59e211fcd4c128c775d15f0a493b196c4",
      "in_reply_to_id": 497028881,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think it's not unreasonable to delete undo data while keeping block data (that means you could still serve it to other syncing nodes, and rescan, but can't reorg out of it). That just was never implemented.",
      "created_at": "2020-10-01T21:38:48Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r498526377",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498526377"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 167,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498614355",
      "pull_request_review_id": 500854917,
      "id": 498614355,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODYxNDM1NQ==",
      "diff_hunk": "@@ -162,16 +162,21 @@ UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIn\n     result.pushKV(\"versionHex\", strprintf(\"%08x\", block.nVersion));\n     result.pushKV(\"merkleroot\", block.hashMerkleRoot.GetHex());\n     UniValue txs(UniValue::VARR);\n-    for(const auto& tx : block.vtx)\n-    {\n-        if(txDetails)\n-        {\n+    if (txDetails) {\n+        CBlockUndo blockUndo;\n+        const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);",
      "path": "src/rpc/blockchain.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "a05fe7f59e211fcd4c128c775d15f0a493b196c4",
      "in_reply_to_id": 497028881,
      "user": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "OK, you both make some great points. I can think of three approaches at the moment:\r\n\r\n- Use `GetUndoChecked` which means if someone deletes undo data in the future, they'll cause this RPC to fail\r\n- Silently leave out the fee if block data is present but undo data is missing\r\n- Add some verbose documentation that says \"we'll include the fee if we have the data needed to efficiently calculate it\"\r\n\r\nDo any of these approaches seem reasonable to both of you?",
      "created_at": "2020-10-02T04:29:29Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r498614355",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498614355"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 167,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499066443",
      "pull_request_review_id": 501468308,
      "id": 499066443,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2NjQ0Mw==",
      "diff_hunk": "@@ -162,16 +162,21 @@ UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIn\n     result.pushKV(\"versionHex\", strprintf(\"%08x\", block.nVersion));\n     result.pushKV(\"merkleroot\", block.hashMerkleRoot.GetHex());\n     UniValue txs(UniValue::VARR);\n-    for(const auto& tx : block.vtx)\n-    {\n-        if(txDetails)\n-        {\n+    if (txDetails) {\n+        CBlockUndo blockUndo;\n+        const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);",
      "path": "src/rpc/blockchain.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "a05fe7f59e211fcd4c128c775d15f0a493b196c4",
      "in_reply_to_id": 497028881,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "As @sipa says it's not implemented and I think there is no one working on something like that (Side-note: I will look into that now :) ). So I would say the first option would still be my first choice if we could have a test that would reliably fail when the change comes. But that seems unrealistic, at least if it is implemented the way I envision it now and generally it would be poking around in the dark. So, I guess I would be happy if you add some docs but you don't have to since with the current state of the code the fee should be there reliably.",
      "created_at": "2020-10-02T21:55:36Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r499066443",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499066443"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 167,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499261276",
      "pull_request_review_id": 501636226,
      "id": 499261276,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI2MTI3Ng==",
      "diff_hunk": "@@ -189,13 +191,20 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"weight\", GetTransactionWeight(tx));\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n \n-    UniValue vin(UniValue::VARR);\n+    UniValue vin{UniValue::VARR};\n+\n+    // If available, use Undo data to calculate the fee. Note that txundo == nullptr\n+    // for coinbase transactions and for transactions in pruned blocks.\n+    bool calculate_fee = txundo != nullptr;",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "8e38a27c69e8ac8abf5d0c2ad29b8be41a140117",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: could be const",
      "created_at": "2020-10-04T15:58:02Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r499261276",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499261276"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499263865",
      "pull_request_review_id": 501636226,
      "id": 499263865,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI2Mzg2NQ==",
      "diff_hunk": "@@ -926,6 +931,7 @@ static RPCHelpMan getblock()\n                         {RPCResult::Type::OBJ, \"\", \"\",\n                         {\n                             {RPCResult::Type::ELISION, \"\", \"The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result\"},\n+                            {RPCResult::Type::NUM, \"fee\", \"The transaction fee in \" + CURRENCY_UNIT + \", omitted if efficient calculation isn't possible (due to pruning)\"},",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 32,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "8e38a27c69e8ac8abf5d0c2ad29b8be41a140117",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hm, I think since with the currently available version of pruning the block wouldn't be found anyway this would be slightly better and also more precise:\r\n```suggestion\r\n                            {RPCResult::Type::NUM, \"fee\", \"The transaction fee in \" + CURRENCY_UNIT + \", omitted if efficient calculation isn't possible (due to block undo data being unavailable)\"},\r\n```",
      "created_at": "2020-10-04T16:26:47Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r499263865",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499263865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 934,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499264006",
      "pull_request_review_id": 501636226,
      "id": 499264006,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI2NDAwNg==",
      "diff_hunk": "@@ -189,13 +191,20 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"weight\", GetTransactionWeight(tx));\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n \n-    UniValue vin(UniValue::VARR);\n+    UniValue vin{UniValue::VARR};\n+\n+    // If available, use Undo data to calculate the fee. Note that txundo == nullptr\n+    // for coinbase transactions and for transactions in pruned blocks.",
      "path": "src/core_write.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "8e38a27c69e8ac8abf5d0c2ad29b8be41a140117",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think it's slightly better to be a bit more precise here. There may be other reason (in the future) why there is no undo data.\r\n```suggestion\r\n    // for coinbase transactions and for transactions where undo data is unavailable.\r\n```",
      "created_at": "2020-10-04T16:28:24Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r499264006",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499264006"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 197,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499429396",
      "pull_request_review_id": 501831553,
      "id": 499429396,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQyOTM5Ng==",
      "diff_hunk": "@@ -162,16 +162,21 @@ UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIn\n     result.pushKV(\"versionHex\", strprintf(\"%08x\", block.nVersion));\n     result.pushKV(\"merkleroot\", block.hashMerkleRoot.GetHex());\n     UniValue txs(UniValue::VARR);\n-    for(const auto& tx : block.vtx)\n-    {\n-        if(txDetails)\n-        {\n+    if (txDetails) {\n+        CBlockUndo blockUndo;\n+        const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);",
      "path": "src/rpc/blockchain.cpp",
      "position": 10,
      "original_position": 10,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "a05fe7f59e211fcd4c128c775d15f0a493b196c4",
      "in_reply_to_id": 497028881,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think either leaving it like it is now, or returning an error when the undo file is not available but the block file is (since that's currently an unexpected condition) are both fine.",
      "created_at": "2020-10-05T08:33:59Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r499429396",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499429396"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 167,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499431094",
      "pull_request_review_id": 501833820,
      "id": 499431094,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQzMTA5NA==",
      "diff_hunk": "@@ -926,6 +931,7 @@ static RPCHelpMan getblock()\n                         {RPCResult::Type::OBJ, \"\", \"\",\n                         {\n                             {RPCResult::Type::ELISION, \"\", \"The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result\"},\n+                            {RPCResult::Type::NUM, \"fee\", \"The transaction fee in \" + CURRENCY_UNIT + \", omitted if efficient calculation isn't possible (due to unavailable block undo data)\"},",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 32,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "aae692c3e29f4d3cb654cb40f18d658b624fa870",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this would be fine as just \"omitted if block undo data is not available\". I don't think users would care about or understand what you mean by 'efficient calculation'.",
      "created_at": "2020-10-05T08:37:05Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r499431094",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499431094"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 934,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499432395",
      "pull_request_review_id": 501833820,
      "id": 499432395,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQzMjM5NQ==",
      "diff_hunk": "@@ -352,6 +355,42 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblock(self):\n+        if not self.is_wallet_compiled():",
      "path": "test/functional/rpc_blockchain.py",
      "position": null,
      "original_position": 29,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "aae692c3e29f4d3cb654cb40f18d658b624fa870",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Did you look at using miniwallet.py to manually create the transactions? That would avoid a dependency on a compiled wallet to test this functionality.",
      "created_at": "2020-10-05T08:39:27Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r499432395",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499432395"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 359,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499432813",
      "pull_request_review_id": 501833820,
      "id": 499432813,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQzMjgxMw==",
      "diff_hunk": "@@ -352,6 +355,42 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblock(self):\n+        if not self.is_wallet_compiled():\n+            self.log.info(\"Skipping getblock tests because wallet is disabled\")\n+            return\n+\n+        node = self.nodes[0]\n+        address = node.getnewaddress()\n+        node.sendtoaddress(address, 1)\n+        blockhash = node.generatetoaddress(1, address)[0]\n+\n+        self.log.info(\"Test that getblock with verbosity 1 doesn't include fee\")\n+        block = node.getblock(blockhash, 1)\n+        assert 'fee' not in block['tx'][1]\n+\n+        self.log.info('Test that getblock with verbosity 2 includes expected fee')\n+        block = node.getblock(blockhash, 2)\n+        assert 'fee' in block['tx'][1]\n+        assert_equal(block['tx'][1]['fee'], Decimal('0.00004380'))",
      "path": "test/functional/rpc_blockchain.py",
      "position": null,
      "original_position": 45,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "aae692c3e29f4d3cb654cb40f18d658b624fa870",
      "in_reply_to_id": null,
      "user": {
        "login": "jnewbery",
        "id": 1063656,
        "node_id": "MDQ6VXNlcjEwNjM2NTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jnewbery",
        "html_url": "https://github.com/jnewbery",
        "followers_url": "https://api.github.com/users/jnewbery/followers",
        "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
        "organizations_url": "https://api.github.com/users/jnewbery/orgs",
        "repos_url": "https://api.github.com/users/jnewbery/repos",
        "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jnewbery/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Unless you're setting amounts/fee explicitly, this feels brittle (i.e. this test would break if an unrelated change was made in how the wallet code sets fees).",
      "created_at": "2020-10-05T08:40:13Z",
      "updated_at": "2020-10-09T15:54:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r499432813",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499432813"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 375,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/548539410",
      "pull_request_review_id": 558545334,
      "id": 548539410,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODUzOTQxMA==",
      "diff_hunk": "@@ -352,6 +356,46 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblock(self):\n+        node = self.nodes[0]\n+\n+        miniwallet = MiniWallet(node)\n+        miniwallet.generate(5)\n+        node.generate(100)\n+\n+        fee_per_byte = Decimal('0.00000010')\n+        fee_per_kb = 1000 * fee_per_byte\n+\n+        miniwallet.send_self_transfer(fee_rate=fee_per_kb, from_node=node)\n+        blockhash = node.generate(1)[0]\n+\n+        self.log.info(\"Test that getblock with verbosity 1 doesn't include fee\")\n+        block = node.getblock(blockhash, 1)\n+        assert 'fee' not in block['tx'][1]\n+\n+        self.log.info('Test that getblock with verbosity 2 includes expected fee')\n+        block = node.getblock(blockhash, 2)\n+        tx = block['tx'][1]\n+        assert 'fee' in tx",
      "path": "test/functional/rpc_blockchain.py",
      "position": 50,
      "original_position": 50,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "no need for this check. The next line would already fail with `KeyError`",
      "created_at": "2020-12-24T14:05:41Z",
      "updated_at": "2020-12-24T14:31:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r548539410",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/548539410"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 379,
      "original_line": 379,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/548539687",
      "pull_request_review_id": 558545334,
      "id": 548539687,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODUzOTY4Nw==",
      "diff_hunk": "@@ -352,6 +356,46 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblock(self):\n+        node = self.nodes[0]\n+\n+        miniwallet = MiniWallet(node)\n+        miniwallet.generate(5)\n+        node.generate(100)\n+\n+        fee_per_byte = Decimal('0.00000010')\n+        fee_per_kb = 1000 * fee_per_byte\n+\n+        miniwallet.send_self_transfer(fee_rate=fee_per_kb, from_node=node)\n+        blockhash = node.generate(1)[0]\n+\n+        self.log.info(\"Test that getblock with verbosity 1 doesn't include fee\")\n+        block = node.getblock(blockhash, 1)\n+        assert 'fee' not in block['tx'][1]\n+\n+        self.log.info('Test that getblock with verbosity 2 includes expected fee')\n+        block = node.getblock(blockhash, 2)\n+        tx = block['tx'][1]\n+        assert 'fee' in tx\n+        assert_equal(tx['fee'], tx['vsize'] * fee_per_byte)\n+\n+        self.log.info(\"Test that getblock with verbosity 2 still works with pruned Undo data\")\n+        datadir = get_datadir_path(self.options.tmpdir, 0)",
      "path": "test/functional/rpc_blockchain.py",
      "position": 54,
      "original_position": 54,
      "commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "original_commit_id": "66d012ad7f9381bacfc9b8388fa2ebf82cb86c9e",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "no need for the import `node.datadir` should suffice",
      "created_at": "2020-12-24T14:06:41Z",
      "updated_at": "2020-12-24T14:31:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18772#discussion_r548539687",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/548539687"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 383,
      "original_line": 383,
      "side": "RIGHT"
    }
  ]
}