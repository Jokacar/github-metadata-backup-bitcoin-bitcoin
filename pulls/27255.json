{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255",
    "id": 1274950700,
    "node_id": "PR_kwDOABII585L_jQs",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/27255",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/27255.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/27255.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/f45cb489029abfb0f82ebced167d9b5833960f22",
    "number": 27255,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "MiniTapscript: port Miniscript to Tapscript",
    "user": {
      "login": "darosior",
      "id": 22457751,
      "node_id": "MDQ6VXNlcjIyNDU3NzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darosior",
      "html_url": "https://github.com/darosior",
      "followers_url": "https://api.github.com/users/darosior/followers",
      "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
      "organizations_url": "https://api.github.com/users/darosior/orgs",
      "repos_url": "https://api.github.com/users/darosior/repos",
      "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/darosior/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Miniscript was targeting P2WSH, and as such can currently only be used in `wsh()` descriptors. This pull request introduces support for Tapscript in Miniscript and makes Miniscript available inside `tr()` descriptors. It adds support for both watching *and* signing TapMiniscript descriptors.\r\n\r\nThe main changes to Miniscript for Tapscript are the following:\r\n- A new `multi_a` fragment is introduced with the same semantics as `multi`. Like in other descriptors `multi` and `multi_a` can exclusively be used in respectively P2WSH and Tapscript.\r\n- The `d:` fragment has the `u` property under Tapscript, since the `MINIMALIF` rule is now consensus. See also https://github.com/bitcoin/bitcoin/pull/24906.\r\n- Keys are now serialized as 32 bytes. (Note this affects the key hashes.)\r\n- The resource consumption checks and calculation changed. Some limits were lifted in Tapscript, and signatures are now 64 bytes long.\r\n\r\nThe largest amount of complexity probably lies in the last item. Scripts under Taproot can now run into the maximum stack size while executing a fragment. For instance if you've got a stack size of `999` due to the initial witness plus some execution that happened before and try to execute a `hash256` it would `DUP` (increasing the stack size `1000`), `HASH160` and then push the hash on the stack making the script fail.\r\nTo make sure this does not happen on any of the spending paths of a sane Miniscript, we introduce a tracking of the maximum stack size during execution of a fragment. See the commits messages for details. Those commits were separated from the resource consumption change, and the fuzz target was tweaked to sometimes pad the witness so the script runs on the brink of the stack size limit to make sure the stack size was not underestimated.\r\n\r\nExisting Miniscript unit, functional and fuzz tests are extended with Tapscript logic and test cases. Care was taken for seed stability in the fuzz targets where we cared more about them.\r\n\r\nThe design of Miniscript for Tapscript is the result of discussions between various people over the past year(s). To the extent of my knowledge at least Pieter Wuille, Sanket Kanjalkar, Andrew Poelstra and Andrew Chow contributed thoughts and ideas.",
    "labels": [],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/60",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60/labels",
      "id": 9286970,
      "node_id": "MI_kwDOABII584AjbU6",
      "number": 60,
      "state": "open",
      "title": "26.0",
      "description": "",
      "creator": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 13,
      "closed_issues": 57,
      "created_at": "2023-04-15T11:36:05Z",
      "updated_at": "2023-10-04T17:32:53Z"
    },
    "created_at": "2023-03-14T12:24:34Z",
    "updated_at": "2023-10-04T17:22:25Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "8ff42a9a9daf71f9cb68a0289937932a984a7449",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "darosior:tapminiscript",
      "ref": "tapminiscript",
      "sha": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 168868367,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNjg4NjgzNjc=",
        "name": "bitcoin",
        "full_name": "darosior/bitcoin",
        "owner": {
          "login": "darosior",
          "id": 22457751,
          "node_id": "MDQ6VXNlcjIyNDU3NzUx",
          "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/darosior",
          "html_url": "https://github.com/darosior",
          "followers_url": "https://api.github.com/users/darosior/followers",
          "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
          "organizations_url": "https://api.github.com/users/darosior/orgs",
          "repos_url": "https://api.github.com/users/darosior/repos",
          "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/darosior/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/darosior/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/darosior/bitcoin",
        "archive_url": "https://api.github.com/repos/darosior/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/darosior/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/darosior/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/darosior/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/darosior/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/darosior/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/darosior/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/darosior/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/darosior/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/darosior/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/darosior/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/darosior/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/darosior/bitcoin/events",
        "forks_url": "https://api.github.com/repos/darosior/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/darosior/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/darosior/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/darosior/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/darosior/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/darosior/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/darosior/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/darosior/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/darosior/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/darosior/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/darosior/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/darosior/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/darosior/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/darosior/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/darosior/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/darosior/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:darosior/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/darosior/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/darosior/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/darosior/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/darosior/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/darosior/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/darosior/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/darosior/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/darosior/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/darosior/bitcoin/hooks",
        "svn_url": "https://github.com/darosior/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 223827,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-09-29T07:51:43Z",
        "created_at": "2019-02-02T19:20:27Z",
        "updated_at": "2023-05-05T11:25:14Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "9d5150ac47a2e8db0f23a2f04211fec3516afbe1",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35798,
        "stargazers_count": 71699,
        "watchers_count": 71699,
        "size": 240998,
        "default_branch": "master",
        "open_issues_count": 636,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-10-04T17:47:17Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-10-04T17:26:00Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 1428,
    "deletions": 579,
    "changed_files": 13,
    "commits": 25,
    "review_comments": 54,
    "comments": 27
  },
  "events": [
    {
      "event": "commented",
      "id": 1468010901,
      "node_id": "IC_kwDOABII585XgBGV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1468010901",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T12:24:37Z",
      "updated_at": "2023-10-04T17:04:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [achow101](https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1741276032), [scgbckbone](https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1743258096), [bigspider](https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1744390972) |\n| Concept ACK | [michaelfolkson](https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1468032095), [josibake](https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1485343142), [sipa](https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1520822745) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28583](https://github.com/bitcoin/bitcoin/pull/28583) (refactor: [tidy] modernize-use-emplace by MarcoFalke)\n* [#28528](https://github.com/bitcoin/bitcoin/pull/28528) (test: Use test framework utils in functional tests by osagie98)\n* [#22838](https://github.com/bitcoin/bitcoin/pull/22838) (descriptors: Be able to specify change and receiving in a single descriptor string by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1468010901",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "commented",
      "id": 1468032095,
      "node_id": "IC_kwDOABII585XgGRf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1468032095",
      "actor": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T12:40:02Z",
      "updated_at": "2023-03-14T12:40:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, an important piece in opening up Taproot scripting.\r\n\r\n> The design of Miniscript for Tapscript is the result of discussions between various people over the past year(s).\r\n\r\nYour PR description is great but perhaps you can link to a few of those discussions for extra background reading for those that are interested? e.g. https://gist.github.com/sipa/06c5c844df155d4e5044c2c8cac9c05e\r\n\r\nAlso just checking if this PR should be in Draft or not? Are there ongoing open discussions on anything important or is this ready for extensive review?\r\n\r\n",
      "user": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1468032095",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8743273348,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAIJI8OE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8743273348",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T12:53:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8744158901,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAIJMUa1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8744158901",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T14:09:46Z"
    },
    {
      "event": "commented",
      "id": 1468209943,
      "node_id": "IC_kwDOABII585XgxsX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1468209943",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T14:31:10Z",
      "updated_at": "2023-03-14T14:31:10Z",
      "author_association": "MEMBER",
      "body": "Yeah, thanks for the suggestion. Reviewers may be interested in https://github.com/sipa/miniscript/pull/134 as well.\r\n\r\n> Also just checking if this PR should be in Draft or not? Are there ongoing open discussions on anything important or is this ready for extensive review?\r\n\r\nIt is ready for (extensive or not) review. Otherwise i'd have opened it as a draft. But please tell me clearly if you disagree.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1468209943",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "commented",
      "id": 1468263557,
      "node_id": "IC_kwDOABII585Xg-yF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1468263557",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T14:58:54Z",
      "updated_at": "2023-03-16T11:25:48Z",
      "author_association": "MEMBER",
      "body": "As it stands in this PR it would be possible to import a `tr()` descriptor unspendable by standardness: in addition to the script itself, we also need to check if the whole witness (including the control block, which is outside Miniscript..) isn't larger than the maximum standard transaction size.\r\n\r\nEDIT: Actually since we are still bounded by the `MAX_STACK_SIZE` of `1000` and no element is larger than `65` bytes, i think we can do something more elegant than having to compute the maximum witness size of a script. Just have the following conservative bound: refuse any script whose size is larger than `MAX_STANDARD_TX_WEIGHT - (1 + 65) * MAX_STACK_SIZE - TAPROOT_CONTROL_MAX_SIZE` (i.e. `329871` bytes). This is still plenty, and should there ever be a usecase for a larger script we can always relax this check by having an accurate max witness size calculation.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1468263557",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-14T23:58:28Z",
      "updated_at": "2023-03-14T23:58:28Z",
      "source": {
        "issue": {
          "id": 983140832,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzIyNzY4MTc5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22838",
          "number": 22838,
          "state": "open",
          "state_reason": null,
          "title": "descriptors: Be able to specify change and receiving in a single descriptor string",
          "body": "It is convenient to have a descriptor which specifies both receiving and change addresses in a single string. However, as discussed in https://github.com/bitcoin/bitcoin/issues/17190#issuecomment-895515768, it is not feasible to use a generic multipath specification like BIP 88 due to combinatorial blow up and that it would result in unexpected descriptors.\r\n\r\nTo resolve that problem, this PR proposes a targeted solution which allows only a single pair of 2 derivation indexes to be inserted in the place of a single derivation index. So instead of two descriptor `wpkh(xpub.../0/0/*)` and `wpkh(xpub.../0/1/*)` to represent receive and change addresses, this could be written as `wpkh(xpub.../0/<0;1>/*)`. The multipath specifier is of the form `<NUM;NUM>`. Each `NUM` can have its own hardened specifier, e.g. `<0;1h>` is valid. The multipath specifier can also only appear in one path index in the derivation path.\r\n\r\nThis results in the parser returning two descriptors. The first descriptor uses the first `NUM` in all pairs present, and the second uses the second `NUM`. In our implementation, if a multipath descriptor is not provided, a pair is still returned, but the second element is just `nullptr`.\r\n\r\nThe wallet will not output the multipath descriptors (yet). Furthermore, when a multipath descriptor is imported, it is expanded to the two descriptors and each imported on its own, with the second descriptor being implicitly for internal (change) addresses. There is no change to how the wallet stores or outputs descriptors (yet).\r\n\r\nNote that the path specifier is different from what was proposed. It uses angle brackets and the semicolon because these are unused characters available in the character set and I wanted to avoid conflicts with characters already in use in descriptors.\r\n\r\nCloses #17190 ",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 1482182044,
              "node_id": "MDU6TGFiZWwxNDgyMTgyMDQ0",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Descriptors",
              "name": "Descriptors",
              "description": "",
              "color": "e9f76c",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 37,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22838",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22838",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22838.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22838.patch"
          },
          "created_at": "2021-08-30T19:46:34Z",
          "updated_at": "2023-10-04T01:19:29Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1340932665,
      "node_id": "PRR_kwDOABII585P7QI5",
      "url": null,
      "actor": null,
      "commit_id": "33f28a8d472a2869d37e40f5f9d7efd7f88bcc89",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1340932665",
      "submitted_at": "2023-03-15T08:57:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "reviewed",
      "id": 1341664972,
      "node_id": "PRR_kwDOABII585P-C7M",
      "url": null,
      "actor": null,
      "commit_id": "62d31e6c7bc190602b0a89a1ff330a2bf6aefbf3",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1341664972",
      "submitted_at": "2023-03-15T14:42:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "reviewed",
      "id": 1341720788,
      "node_id": "PRR_kwDOABII585P-QjU",
      "url": null,
      "actor": null,
      "commit_id": "33f28a8d472a2869d37e40f5f9d7efd7f88bcc89",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1341720788",
      "submitted_at": "2023-03-15T15:08:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "reviewed",
      "id": 1341735215,
      "node_id": "PRR_kwDOABII585P-UEv",
      "url": null,
      "actor": null,
      "commit_id": "33f28a8d472a2869d37e40f5f9d7efd7f88bcc89",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1341735215",
      "submitted_at": "2023-03-15T15:14:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "reviewed",
      "id": 1341762826,
      "node_id": "PRR_kwDOABII585P-a0K",
      "url": null,
      "actor": null,
      "commit_id": "33f28a8d472a2869d37e40f5f9d7efd7f88bcc89",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1341762826",
      "submitted_at": "2023-03-15T15:20:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "reviewed",
      "id": 1341784989,
      "node_id": "PRR_kwDOABII585P-gOd",
      "url": null,
      "actor": null,
      "commit_id": "157c4a047b573dfac775f25c970e1f1762fe8f7b",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1341784989",
      "submitted_at": "2023-03-15T15:25:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8768884947,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAIKqpDT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8768884947",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T15:33:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8769910509,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAIKujbt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8769910509",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T16:59:29Z"
    },
    {
      "event": "commented",
      "id": 1472365761,
      "node_id": "IC_kwDOABII585XwoTB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1472365761",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T17:04:31Z",
      "updated_at": "2023-03-16T17:04:31Z",
      "author_association": "MEMBER",
      "body": "In the last push i've:\r\n- Added a commit to avoid a stack overflow during the destruction of a too large `Node`, due to recursive calls in `shared_ptr`'s destructor. (The reason the CI was failing under MSVC.)\r\n- Lowered the maximum size of a TapMiniscript to make sure a spending witness would never hit the maximum standard transaction size limit. (It's still pretty high.)\r\n- Addressed all comments from @bigspider.\r\n\r\nThis PR is now ready for another round of review.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1472365761",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "mentioned",
      "id": 8769965302,
      "node_id": "MEE_lADOABII585gwrw2zwAAAAIKuwz2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8769965302",
      "actor": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T17:04:31Z"
    },
    {
      "event": "subscribed",
      "id": 8769965326,
      "node_id": "SE_lADOABII585gwrw2zwAAAAIKuw0O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8769965326",
      "actor": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-16T17:04:31Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8776733426,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAILIlLy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8776733426",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-17T10:30:07Z"
    },
    {
      "event": "commented",
      "id": 1473626748,
      "node_id": "IC_kwDOABII585X1cJ8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1473626748",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-17T10:31:02Z",
      "updated_at": "2023-03-17T10:31:02Z",
      "author_association": "MEMBER",
      "body": "Pushed to try to wake the CI up. Looks like it worked!",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1473626748",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "commented",
      "id": 1473771519,
      "node_id": "IC_kwDOABII585X1_f_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1473771519",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-17T12:40:32Z",
      "updated_at": "2023-03-17T12:45:04Z",
      "author_association": "MEMBER",
      "body": "Very cool. I also noticed [bitcoin.sipa.be/miniscript](https://bitcoin.sipa.be/miniscript/) has been updated.\r\n\r\nHas there been any thought into how MuSig2 (and threshold friends) would fit into this in the future? I guess that's only a problem for the compiler, since for the purpose of script it doesn't matter if e.g. public key C is an aggregate of A + B. But it does change the meaning of something like `tr(C,multi_a(2,A,B))` (i.e. regular tapscript multisig fallback if MuSig2 coordination fails - maybe not a good example, since this already works).",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1473771519",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "commented",
      "id": 1473777054,
      "node_id": "IC_kwDOABII585X2A2e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1473777054",
      "actor": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-17T12:45:35Z",
      "updated_at": "2023-03-17T12:45:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Has there been any thought into how MuSig2 (and threshold friends) would fit into this in the future?\r\n\r\nDiscussed in sipa's [gist](https://gist.github.com/sipa/06c5c844df155d4e5044c2c8cac9c05e#musig-descriptors). Can comment on that gist @Sjors \r\n",
      "user": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1473777054",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "mentioned",
      "id": 8777928017,
      "node_id": "MEE_lADOABII585gwrw2zwAAAAILNI1R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8777928017",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-17T12:45:35Z"
    },
    {
      "event": "subscribed",
      "id": 8777928043,
      "node_id": "SE_lADOABII585gwrw2zwAAAAILNI1r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8777928043",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-17T12:45:35Z"
    },
    {
      "event": "reviewed",
      "id": 1357917424,
      "node_id": "PRR_kwDOABII585Q8Czw",
      "url": null,
      "actor": null,
      "commit_id": "6e3b37b80cebf9c3f3370f5efbd38f776a918d9c",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "Ayaan7211",
        "id": 128941225,
        "node_id": "U_kgDOB698qQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/128941225?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ayaan7211",
        "html_url": "https://github.com/Ayaan7211",
        "followers_url": "https://api.github.com/users/Ayaan7211/followers",
        "following_url": "https://api.github.com/users/Ayaan7211/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ayaan7211/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ayaan7211/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ayaan7211/subscriptions",
        "organizations_url": "https://api.github.com/users/Ayaan7211/orgs",
        "repos_url": "https://api.github.com/users/Ayaan7211/repos",
        "events_url": "https://api.github.com/users/Ayaan7211/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ayaan7211/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1357917424",
      "submitted_at": "2023-03-25T23:49:41Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "commented",
      "id": 1485343142,
      "node_id": "IC_kwDOABII585YiImm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1485343142",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-27T15:30:34Z",
      "updated_at": "2023-03-27T15:30:34Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1485343142",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-31T12:30:12Z",
      "updated_at": "2023-03-31T12:30:12Z",
      "source": {
        "issue": {
          "id": 1649266684,
          "node_id": "I_kwDOABII585iTc_8",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27381",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27381/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27381/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27381/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/27381",
          "number": 27381,
          "state": "closed",
          "state_reason": "completed",
          "title": "miniscript: comparison of integers of different signs",
          "body": "This is being emitted with [GCC 10.2.1](https://packages.debian.org/bullseye/g++-arm-linux-gnueabihf), in some CI jobs: i.e https://github.com/bitcoin/bitcoin/pull/25972/checks?check_run_id=12423693655, or https://github.com/bitcoin/bitcoin/pull/25972/checks?check_run_id=12423693651 (where we actually turn on all our warning flags with depends builds).\r\n```bash\r\nIn file included from test/miniscript_tests.cpp:19:\r\n./script/miniscript.h:1197:71: error: comparison of integers of different signs: 'typename iterator_traits<int *>::difference_type' (aka 'int') and 'const uint32_t' (aka 'const unsigned int') [-Werror,-Wsign-compare]\r\n                    return std::count(subs.begin(), subs.end(), true) >= node.k;\r\n                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~\r\ntest/miniscript_tests.cpp:346:34: note: in instantiation of function template specialization 'miniscript::Node<CPubKey>::IsSatisfiable<(lambda at test/miniscript_tests.cpp:346:48)>' requested here\r\n        bool satisfiable = node->IsSatisfiable([](const Node&) { return true; });\r\n                                 ^\r\n1 error generated.\r\n```\r\n\r\ncc @darosior ",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 2,
          "closed_at": "2023-04-02T12:06:19Z",
          "created_at": "2023-03-31T12:24:02Z",
          "updated_at": "2023-04-02T12:06:19Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "stepansnigirev",
        "id": 1706012,
        "node_id": "MDQ6VXNlcjE3MDYwMTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1706012?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stepansnigirev",
        "html_url": "https://github.com/stepansnigirev",
        "followers_url": "https://api.github.com/users/stepansnigirev/followers",
        "following_url": "https://api.github.com/users/stepansnigirev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stepansnigirev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stepansnigirev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stepansnigirev/subscriptions",
        "organizations_url": "https://api.github.com/users/stepansnigirev/orgs",
        "repos_url": "https://api.github.com/users/stepansnigirev/repos",
        "events_url": "https://api.github.com/users/stepansnigirev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stepansnigirev/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-02T17:24:43Z",
      "updated_at": "2023-04-02T17:24:43Z",
      "source": {
        "issue": {
          "id": 1651027767,
          "node_id": "I_kwDODg4IYs5iaK83",
          "url": "https://api.github.com/repos/diybitcoinhardware/embit/issues/44",
          "repository_url": "https://api.github.com/repos/diybitcoinhardware/embit",
          "labels_url": "https://api.github.com/repos/diybitcoinhardware/embit/issues/44/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/diybitcoinhardware/embit/issues/44/comments",
          "events_url": "https://api.github.com/repos/diybitcoinhardware/embit/issues/44/events",
          "html_url": "https://github.com/diybitcoinhardware/embit/issues/44",
          "number": 44,
          "state": "closed",
          "state_reason": "completed",
          "title": "taproot miniscript",
          "body": "relevant:\r\ntest vectors: https://github.com/bitcoin/bitcoin/pull/27255\r\nspecs: https://bitcoin.sipa.be/miniscript/\r\nspecs diff: https://github.com/sipa/miniscript/pull/134",
          "user": {
            "login": "stepansnigirev",
            "id": 1706012,
            "node_id": "MDQ6VXNlcjE3MDYwMTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1706012?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stepansnigirev",
            "html_url": "https://github.com/stepansnigirev",
            "followers_url": "https://api.github.com/users/stepansnigirev/followers",
            "following_url": "https://api.github.com/users/stepansnigirev/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stepansnigirev/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stepansnigirev/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stepansnigirev/subscriptions",
            "organizations_url": "https://api.github.com/users/stepansnigirev/orgs",
            "repos_url": "https://api.github.com/users/stepansnigirev/repos",
            "events_url": "https://api.github.com/users/stepansnigirev/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stepansnigirev/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 1,
          "closed_at": "2023-08-05T22:00:35Z",
          "created_at": "2023-04-02T17:24:43Z",
          "updated_at": "2023-08-05T22:00:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 8935769395,
      "node_id": "LE_lADOABII585gwrw2zwAAAAIUnQUz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8935769395",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-05T14:18:20Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1376054310,
      "node_id": "PRR_kwDOABII585SBOwm",
      "url": null,
      "actor": null,
      "commit_id": "6e3b37b80cebf9c3f3370f5efbd38f776a918d9c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Left some style nits, nothing important. Might want to run `clang-tidy`, as it ended up reformatting a lot of the new code. Also got a few warnings, not quite sure about the `FromPKBytes` warning\r\n\r\nStill trying to wrap my head around the logic; I'll follow up with a (hopefully) more helpful review",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1376054310",
      "submitted_at": "2023-04-07T10:54:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-12T10:39:15Z",
      "updated_at": "2023-04-12T10:39:15Z",
      "source": {
        "issue": {
          "id": 1401352357,
          "node_id": "I_kwDOHsGWPs5ThvCl",
          "url": "https://api.github.com/repos/wizardsardine/liana/issues/55",
          "repository_url": "https://api.github.com/repos/wizardsardine/liana",
          "labels_url": "https://api.github.com/repos/wizardsardine/liana/issues/55/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/wizardsardine/liana/issues/55/comments",
          "events_url": "https://api.github.com/repos/wizardsardine/liana/issues/55/events",
          "html_url": "https://github.com/wizardsardine/liana/issues/55",
          "number": 55,
          "state": "open",
          "state_reason": null,
          "title": "Taproot support",
          "body": "As Miniscript for Tapscript isn't formally specified yet, we are going to start without Taproot support. We need to have Taproot support as soon as possible, and for this i need to make progress on the C++ implementation of Tap-Miniscript.\r\n\r\nHopefully we'll have it in Bitcoin Core 25.0, in approximately 6 months from now. Alternately, maybe we can carve out something similar to what we used to do in revaultd before we had Miniscript support in bitcoind (watch by address)... But that's ugly :sob: ",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignee": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "darosior",
              "id": 22457751,
              "node_id": "MDQ6VXNlcjIyNDU3NzUx",
              "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/darosior",
              "html_url": "https://github.com/darosior",
              "followers_url": "https://api.github.com/users/darosior/followers",
              "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
              "organizations_url": "https://api.github.com/users/darosior/orgs",
              "repos_url": "https://api.github.com/users/darosior/repos",
              "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/darosior/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 1,
          "created_at": "2022-10-07T15:23:44Z",
          "updated_at": "2023-04-12T10:39:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1396864124,
      "node_id": "PRR_kwDOABII585TQnR8",
      "url": null,
      "actor": null,
      "commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1396864124",
      "submitted_at": "2023-04-23T08:21:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "commented",
      "id": 1525910357,
      "node_id": "IC_kwDOABII585a84tV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1525910357",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-27T15:33:23Z",
      "updated_at": "2023-04-27T15:33:23Z",
      "author_association": "MEMBER",
      "body": "Reviewers, i've seen the comments i'm going to address them soon and rebase this.\r\n\r\nI have discussed this with @sipa in person today. A couple notes from my recollection:\r\n- I introduce the `diff` (net difference in stack size before and after executing a fragment) and `exec` (maximum stack size reached during execution) here to account for the maximum stack size at all time. Pieter noticed we may be able to express the size in function of the diff. Or vice versa.\r\n- We tried to assert this property in the fuzz test.\r\n- We noticed `or_i` is the only fragment with two possible canonical dissatisfactions. If both dissatisfactions are available (only if both fragments are `d`) we choose the one with the largest stack size. But it seems unnecessary, the satisfier would always choose the smallest one. But the satisfier chooses in function of the actual witness size (not stack size) so it could be checking the dissatisfaction with the largest stack size.\r\n\r\nWe'll see if we can introduce some of this to the existing code and rebase this on top.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1525910357",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "mentioned",
      "id": 9116053227,
      "node_id": "MEE_lADOABII585gwrw2zwAAAAIfW-7r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9116053227",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-27T15:33:23Z"
    },
    {
      "event": "subscribed",
      "id": 9116053236,
      "node_id": "SE_lADOABII585gwrw2zwAAAAIfW-70",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9116053236",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-27T15:33:23Z"
    },
    {
      "event": "reviewed",
      "id": 1406271728,
      "node_id": "PRR_kwDOABII585T0gDw",
      "url": null,
      "actor": null,
      "commit_id": "02a5fa633f9f44b378f7c015275eacd54939e980",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1406271728",
      "submitted_at": "2023-04-28T16:32:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9261020645,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAIn__Xl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9261020645",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T18:02:52Z"
    },
    {
      "event": "commented",
      "id": 1550158814,
      "node_id": "IC_kwDOABII585cZYve",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1550158814",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T18:25:53Z",
      "updated_at": "2023-05-16T18:25:53Z",
      "author_association": "MEMBER",
      "body": "Rebased and updated.\r\n- I addressed @josibake's comments. (thanks for the review!)\r\n- I fixed the `multi_a` satisfaction to use an algorithm similar to `multi`'s.\r\n- Modified the maximum script size to account for some breathing room for the spending transaction size.\r\n- Made the execution size accounting easier by not tracking the size of the stack after execution of a fragment, instead assuming the maximum amount of stack elements the fragment can consume were consumed. The number of items pushed is an invariant on the type (1 for `B` `K` and `W`, 0 for `V`). See the code comments for more details.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1550158814",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "mentioned",
      "id": 9261228253,
      "node_id": "MEE_lADOABII585gwrw2zwAAAAIoAyDd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9261228253",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T18:25:53Z"
    },
    {
      "event": "subscribed",
      "id": 9261228268,
      "node_id": "SE_lADOABII585gwrw2zwAAAAIoAyDs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9261228268",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T18:25:53Z"
    },
    {
      "event": "unlabeled",
      "id": 9262091452,
      "node_id": "UNLE_lADOABII585gwrw2zwAAAAIoEEy8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9262091452",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T20:06:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T03:10:28Z",
      "updated_at": "2023-05-17T03:10:28Z",
      "source": {
        "issue": {
          "id": 1692313385,
          "node_id": "PR_kwDOABII585PlMAV",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27552",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27552/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27552/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27552/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27552",
          "number": 27552,
          "state": "closed",
          "state_reason": null,
          "title": "Add support for \"partial\" fuzzers that indicate usefulness",
          "body": "This adds supports for fuzz targets that return a boolean: `true` is the normal case, while `false` indicates the input was uninteresting and should not under any circumstances be added to the corpus. This is intended for fuzz targets that have some early bail-out criteria, so that the fuzzer doesn't continue to iterate on them.\r\n\r\n",
          "user": {
            "login": "sipa",
            "id": 548488,
            "node_id": "MDQ6VXNlcjU0ODQ4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sipa",
            "html_url": "https://github.com/sipa",
            "followers_url": "https://api.github.com/users/sipa/followers",
            "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
            "organizations_url": "https://api.github.com/users/sipa/orgs",
            "repos_url": "https://api.github.com/users/sipa/repos",
            "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sipa/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 749416508,
              "node_id": "MDU6TGFiZWw3NDk0MTY1MDg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Up%20for%20grabs",
              "name": "Up for grabs",
              "color": "99a810",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27552",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27552",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27552.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27552.patch"
          },
          "closed_at": "2023-09-20T16:22:59Z",
          "created_at": "2023-05-02T12:13:48Z",
          "updated_at": "2023-09-20T17:03:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 9337578306,
      "node_id": "REFE_lADOABII585gwrw2zwAAAAIskCNC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9337578306",
      "actor": {
        "login": "benma",
        "id": 1225267,
        "node_id": "MDQ6VXNlcjEyMjUyNjc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1225267?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/benma",
        "html_url": "https://github.com/benma",
        "followers_url": "https://api.github.com/users/benma/followers",
        "following_url": "https://api.github.com/users/benma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/benma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/benma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/benma/subscriptions",
        "organizations_url": "https://api.github.com/users/benma/orgs",
        "repos_url": "https://api.github.com/users/benma/repos",
        "events_url": "https://api.github.com/users/benma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/benma/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6052b0856d7ccaafbc68d2a78470e01e6608a6a9",
      "commit_url": "https://api.github.com/repos/benma/btcd/commits/6052b0856d7ccaafbc68d2a78470e01e6608a6a9",
      "created_at": "2023-05-25T09:17:38Z"
    },
    {
      "event": "referenced",
      "id": 9337672005,
      "node_id": "REFE_lADOABII585gwrw2zwAAAAIskZFF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9337672005",
      "actor": {
        "login": "benma",
        "id": 1225267,
        "node_id": "MDQ6VXNlcjEyMjUyNjc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1225267?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/benma",
        "html_url": "https://github.com/benma",
        "followers_url": "https://api.github.com/users/benma/followers",
        "following_url": "https://api.github.com/users/benma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/benma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/benma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/benma/subscriptions",
        "organizations_url": "https://api.github.com/users/benma/orgs",
        "repos_url": "https://api.github.com/users/benma/repos",
        "events_url": "https://api.github.com/users/benma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/benma/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d214d14a2402b084f6568a24a1cd78428c96926f",
      "commit_url": "https://api.github.com/repos/benma/btcd/commits/d214d14a2402b084f6568a24a1cd78428c96926f",
      "created_at": "2023-05-25T09:24:42Z"
    },
    {
      "event": "referenced",
      "id": 9337685987,
      "node_id": "REFE_lADOABII585gwrw2zwAAAAIskcfj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9337685987",
      "actor": {
        "login": "benma",
        "id": 1225267,
        "node_id": "MDQ6VXNlcjEyMjUyNjc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1225267?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/benma",
        "html_url": "https://github.com/benma",
        "followers_url": "https://api.github.com/users/benma/followers",
        "following_url": "https://api.github.com/users/benma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/benma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/benma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/benma/subscriptions",
        "organizations_url": "https://api.github.com/users/benma/orgs",
        "repos_url": "https://api.github.com/users/benma/repos",
        "events_url": "https://api.github.com/users/benma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/benma/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "19fa823d94c16fd116cab20ac9a6c8686a53e45d",
      "commit_url": "https://api.github.com/repos/benma/btcd/commits/19fa823d94c16fd116cab20ac9a6c8686a53e45d",
      "created_at": "2023-05-25T09:25:29Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-14T13:13:09Z",
      "updated_at": "2023-06-14T13:13:09Z",
      "source": {
        "issue": {
          "id": 1756881239,
          "node_id": "PR_kwDOABII585S_kk0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27888",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27888/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27888/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27888/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27888",
          "number": 27888,
          "state": "closed",
          "state_reason": null,
          "title": "Fuzz: a more efficient descriptor parsing target",
          "body": "The current descriptor parsing fuzz target requires valid public or private keys to be provided. This is unnecessary as we are only interested in fuzzing the descriptor parsing logic here (other targets are focused on fuzzing keys serializations). And it's pretty inefficient, especially for formats that need a checksum (`xpub`, `xprv`, WIF).\r\n\r\nThis introduces a new target that mocks the keys as an index in a list of precomputed keys. Keys are represented as 2 hex characters in the descriptor. The key type (private, public, extended, ..) is deterministically based on this one-byte value. Keys are deterministically generated at target initialization. This is much more efficient and also largely reduces the size of the seeds.\r\nTL;DR: for instance instead of requiring the fuzzer to generate a `pk(xpub6DdBu7pBoyf7RjnUVhg8y6LFCfca2QAGJ39FcsgXM52Pg7eejUHLBJn4gNMey5dacyt4AjvKzdTQiuLfRdK8rSzyqZPJmNAcYZ9kVVEz4kj)` to parse a valid descriptor, it just needs to generate a `pk(03)`.\r\n\r\nNote we only mock the keys themselves, not the entire descriptor key expression. As we want to fuzz the real code that parses the rest of the key expression (origin, derivation paths, ..).\r\n\r\nThis is a target i used for reviewing #17190 and #27255, and figured it was worth PR'ing on its own since the added complexity for mocking the keys is minimal and it could help prevent introducing bugs to the descriptor parsing logic much more efficiently.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27888",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27888",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27888.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27888.patch"
          },
          "closed_at": "2023-07-27T17:48:39Z",
          "created_at": "2023-06-14T13:13:09Z",
          "updated_at": "2023-07-28T11:41:10Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-16T15:54:53Z",
      "updated_at": "2023-06-16T15:54:53Z",
      "source": {
        "issue": {
          "id": 1463636841,
          "node_id": "PR_kwDOABII585DqW4U",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26567",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26567/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26567/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26567/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26567",
          "number": 26567,
          "state": "closed",
          "state_reason": null,
          "title": "Wallet: estimate the size of signed inputs using descriptors",
          "body": "The wallet currently estimates the size of a signed input by doing a dry run of the signing logic. This is unnecessary since all outputs we can sign for can be represented by a descriptor, and we can derive the size of a satisfaction (\"signature\") directly from the descriptor itself.\r\nIn addition, the current approach does not generalize well: dry runs of the signing logic are only possible for the most basic scripts. See for instance the discussion in #24149 around that.\r\n\r\nThis introduces a method to get the maximum size of a satisfaction from a descriptor, and makes the wallet use that instead of the dry-run.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/60",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60/labels",
            "id": 9286970,
            "node_id": "MI_kwDOABII584AjbU6",
            "number": 60,
            "state": "open",
            "title": "26.0",
            "description": "",
            "creator": {
              "login": "fanquake",
              "id": 863730,
              "node_id": "MDQ6VXNlcjg2MzczMA==",
              "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/fanquake",
              "html_url": "https://github.com/fanquake",
              "followers_url": "https://api.github.com/users/fanquake/followers",
              "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
              "organizations_url": "https://api.github.com/users/fanquake/orgs",
              "repos_url": "https://api.github.com/users/fanquake/repos",
              "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/fanquake/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 13,
            "closed_issues": 57,
            "created_at": "2023-04-15T11:36:05Z",
            "updated_at": "2023-10-04T17:32:53Z"
          },
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26567",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26567",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26567.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26567.patch"
          },
          "closed_at": "2023-09-06T17:31:32Z",
          "created_at": "2022-11-24T17:15:50Z",
          "updated_at": "2023-09-07T08:03:02Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1486593529,
      "node_id": "PRR_kwDOABII585Ym535",
      "url": null,
      "actor": null,
      "commit_id": "998d3015898943b1d6dea5edc3d1d18d8702dc73",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "I have tried to run this branch and have 1Q: What is the reason to populate both `PSBT_IN_BIP32_DERIVATION` and `PSBT_IN_TAP_BIP32_DERIVATION`. Imo `PSBT_IN_BIP32_DERIVATION` should be empty/not included for taproot spends.",
      "user": {
        "login": "scgbckbone",
        "id": 25349625,
        "node_id": "MDQ6VXNlcjI1MzQ5NjI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/25349625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scgbckbone",
        "html_url": "https://github.com/scgbckbone",
        "followers_url": "https://api.github.com/users/scgbckbone/followers",
        "following_url": "https://api.github.com/users/scgbckbone/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/scgbckbone/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/scgbckbone/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/scgbckbone/subscriptions",
        "organizations_url": "https://api.github.com/users/scgbckbone/orgs",
        "repos_url": "https://api.github.com/users/scgbckbone/repos",
        "events_url": "https://api.github.com/users/scgbckbone/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/scgbckbone/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1486593529",
      "submitted_at": "2023-06-19T17:07:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9578013399,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAI65OLX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9578013399",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-20T10:43:39Z"
    },
    {
      "event": "commented",
      "id": 1598564442,
      "node_id": "IC_kwDOABII585fSCha",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1598564442",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-20T11:01:04Z",
      "updated_at": "2023-06-20T11:01:04Z",
      "author_association": "MEMBER",
      "body": "Thanks @scgbckbone, good catch.\r\n\r\nWhen populating `SignatureData` from a PSBT input, i (ab)used the `misc_pubkeys` member to find pubkey hash preimages also when signing for Tapscript. As a consequence, Tapscript public keys would be serialized back into the PSBT input as `PSBT_IN_BIP32_DERIVATION`.\r\n\r\nThis is unnecessary. Instead i pushed a modification that simply adds a new field to `SignatureData` so we have a separate mapping for Tapscript keys in the signing logic that is not serialized back into the PSBT input.\r\n\r\n<details>\r\n\r\n<summary>Expand to see the diff</summary>\r\n\r\n```diff\r\ndiff --git a/src/psbt.cpp b/src/psbt.cpp\r\nindex a06f89cb3d..7d50402324 100644\r\n--- a/src/psbt.cpp\r\n+++ b/src/psbt.cpp\r\n@@ -131,7 +131,7 @@ void PSBTInput::FillSignatureData(SignatureData& sigdata) const\r\n     }\r\n     for (const auto& [pubkey, leaf_origin] : m_tap_bip32_paths) {\r\n         sigdata.taproot_misc_pubkeys.emplace(pubkey, leaf_origin);\r\n-        sigdata.misc_pubkeys.emplace(Hash160(pubkey), std::make_pair(pubkey.GetCPubKey(), leaf_origin.second));\r\n+        sigdata.tap_pubkeys.emplace(Hash160(pubkey), pubkey);\r\n     }\r\n     for (const auto& [hash, preimage] : ripemd160_preimages) {\r\n         sigdata.ripemd160_preimages.emplace(std::vector<unsigned char>(hash.begin(), hash.end()), preimage);\r\n@@ -246,7 +246,7 @@ void PSBTOutput::FillSignatureData(SignatureData& sigdata) const\r\n     }\r\n     for (const auto& [pubkey, leaf_origin] : m_tap_bip32_paths) {\r\n         sigdata.taproot_misc_pubkeys.emplace(pubkey, leaf_origin);\r\n-        sigdata.misc_pubkeys.emplace(Hash160(pubkey), std::make_pair(pubkey.GetCPubKey(), leaf_origin.second));\r\n+        sigdata.tap_pubkeys.emplace(Hash160(pubkey), pubkey);\r\n     }\r\n }\r\n \r\ndiff --git a/src/script/sign.cpp b/src/script/sign.cpp\r\nindex 515a296d60..b4af979f85 100644\r\n--- a/src/script/sign.cpp\r\n+++ b/src/script/sign.cpp\r\n@@ -113,12 +113,17 @@ static bool GetPubKey(const SigningProvider& provider, const SignatureData& sigd\r\n         pubkey = it->second.first;\r\n         return true;\r\n     }\r\n-    // Look for pubkey in pubkey list\r\n+    // Look for pubkey in pubkey lists\r\n     const auto& pk_it = sigdata.misc_pubkeys.find(address);\r\n     if (pk_it != sigdata.misc_pubkeys.end()) {\r\n         pubkey = pk_it->second.first;\r\n         return true;\r\n     }\r\n+    const auto& tap_pk_it = sigdata.tap_pubkeys.find(address);\r\n+    if (tap_pk_it != sigdata.tap_pubkeys.end()) {\r\n+        pubkey = tap_pk_it->second.GetCPubKey();\r\n+        return true;\r\n+    }\r\n     // Query the underlying provider\r\n     return provider.GetPubKey(address, pubkey);\r\n }\r\ndiff --git a/src/script/sign.h b/src/script/sign.h\r\nindex f46bc55992..1cd82a7764 100644\r\n--- a/src/script/sign.h\r\n+++ b/src/script/sign.h\r\n@@ -79,6 +79,7 @@ struct SignatureData {\r\n     std::vector<unsigned char> taproot_key_path_sig; /// Schnorr signature for key path spending\r\n     std::map<std::pair<XOnlyPubKey, uint256>, std::vector<unsigned char>> taproot_script_sigs; ///< (Partial) schnorr signatures, indexed by XOnlyPubKey and leaf_hash.\r\n     std::map<XOnlyPubKey, std::pair<std::set<uint256>, KeyOriginInfo>> taproot_misc_pubkeys; ///< Miscellaneous Taproot pubkeys involved in this input along with their leaf script hashes and key origin data. Also includes the Taproot internal key (may have no leaf script hashes).\r\n+    std::map<CKeyID, XOnlyPubKey> tap_pubkeys; ///< Misc Taproot pubkeys involved in this input, by hash. (Equivalent of misc_pubkeys but for Taproot.)\r\n     std::vector<CKeyID> missing_pubkeys; ///< KeyIDs of pubkeys which could not be found\r\n     std::vector<CKeyID> missing_sigs; ///< KeyIDs of pubkeys for signatures which could not be found\r\n     uint160 missing_redeem_script; ///< ScriptID of the missing redeemScript (if any)\r\n```\r\n\r\n</details>\r\n\r\nAlso took the opportunity to rebase on master.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1598564442",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "mentioned",
      "id": 9578171144,
      "node_id": "MEE_lADOABII585gwrw2zwAAAAI650sI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9578171144",
      "actor": {
        "login": "scgbckbone",
        "id": 25349625,
        "node_id": "MDQ6VXNlcjI1MzQ5NjI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/25349625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scgbckbone",
        "html_url": "https://github.com/scgbckbone",
        "followers_url": "https://api.github.com/users/scgbckbone/followers",
        "following_url": "https://api.github.com/users/scgbckbone/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/scgbckbone/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/scgbckbone/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/scgbckbone/subscriptions",
        "organizations_url": "https://api.github.com/users/scgbckbone/orgs",
        "repos_url": "https://api.github.com/users/scgbckbone/repos",
        "events_url": "https://api.github.com/users/scgbckbone/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/scgbckbone/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-20T11:01:04Z"
    },
    {
      "event": "subscribed",
      "id": 9578171170,
      "node_id": "SE_lADOABII585gwrw2zwAAAAI650si",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9578171170",
      "actor": {
        "login": "scgbckbone",
        "id": 25349625,
        "node_id": "MDQ6VXNlcjI1MzQ5NjI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/25349625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scgbckbone",
        "html_url": "https://github.com/scgbckbone",
        "followers_url": "https://api.github.com/users/scgbckbone/followers",
        "following_url": "https://api.github.com/users/scgbckbone/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/scgbckbone/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/scgbckbone/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/scgbckbone/subscriptions",
        "organizations_url": "https://api.github.com/users/scgbckbone/orgs",
        "repos_url": "https://api.github.com/users/scgbckbone/repos",
        "events_url": "https://api.github.com/users/scgbckbone/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/scgbckbone/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-20T11:01:04Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-23T18:55:58Z",
      "updated_at": "2023-06-23T18:55:58Z",
      "source": {
        "issue": {
          "id": 1765689902,
          "node_id": "PR_kwDOABII585TdCPe",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27920/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27920/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27920/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27920",
          "number": 27920,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: bugfix, always use apostrophe for spkm descriptor ID",
          "body": "Aiming to fix #27915.\r\n\r\nAs we re-write the descriptor's db record every time that\r\nthe wallet is loaded (at `TopUp` time), if the spkm ID differs\r\nfrom the one in db, the wallet will enter in an unrecoverable\r\ncorruption state (due to the storage of a descriptor with an ID\r\nthat is not linked to any other descriptor record in DB), and\r\nno soft version will be able to open it anymore.\r\n\r\nBecause we cannot change the past, to stay compatible between\r\nreleases, we need to always use the apostrophe version for the\r\nspkm IDs.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 21,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27920",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27920.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27920.patch"
          },
          "closed_at": "2023-07-04T01:42:27Z",
          "created_at": "2023-06-20T15:51:01Z",
          "updated_at": "2023-09-04T15:04:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T22:04:55Z",
      "updated_at": "2023-06-29T22:04:55Z",
      "source": {
        "issue": {
          "id": 1780553015,
          "node_id": "PR_kwDOABII585UOjie",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27997",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27997/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27997/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27997/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27997",
          "number": 27997,
          "state": "closed",
          "state_reason": null,
          "title": "Descriptors: rule out unspendable miniscript descriptors",
          "body": "`IsSane()` in Miniscript does not ensure a Script is actually spendable. This is an issue as we would accept any sane Miniscript when parsing a descriptor. Fix this by explicitly checking a Miniscript descriptor is both sane and spendable when parsing it.\r\n\r\nThis bug was exposed due to a check added in #22838 (https://github.com/bitcoin/bitcoin/pull/22838#discussion_r1226859880) that triggered a fuzz crash (https://github.com/bitcoin/bitcoin/pull/22838#issuecomment-1612510057).",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 1482182044,
              "node_id": "MDU6TGFiZWwxNDgyMTgyMDQ0",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Descriptors",
              "name": "Descriptors",
              "description": "",
              "color": "e9f76c",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27997",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27997",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27997.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27997.patch"
          },
          "closed_at": "2023-07-17T23:16:21Z",
          "created_at": "2023-06-29T10:36:30Z",
          "updated_at": "2023-07-20T13:28:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-03T13:58:28Z",
      "updated_at": "2023-07-03T13:58:28Z",
      "source": {
        "issue": {
          "id": 1683416664,
          "node_id": "PR_kwDOF72rbM5PHdWx",
          "url": "https://api.github.com/repos/LedgerHQ/app-bitcoin-new/issues/155",
          "repository_url": "https://api.github.com/repos/LedgerHQ/app-bitcoin-new",
          "labels_url": "https://api.github.com/repos/LedgerHQ/app-bitcoin-new/issues/155/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/LedgerHQ/app-bitcoin-new/issues/155/comments",
          "events_url": "https://api.github.com/repos/LedgerHQ/app-bitcoin-new/issues/155/events",
          "html_url": "https://github.com/LedgerHQ/app-bitcoin-new/pull/155",
          "number": 155,
          "state": "open",
          "state_reason": null,
          "title": "Tapminiscript",
          "body": "Adds support for descriptors containing miniscript on taproot trees.\r\n\r\nSee https://github.com/bitcoin/bitcoin/pull/27255 for details on the necessary changes.\r\n\r\nUnlike the PR in bitcoin-core, this keeps the stricter limits used for miniscripts in P2WSH even for tapscripts. This is unlikely to matter in practice, as scripts of that size are not feasible today on Nanos. If use cases for such extremely large tapscripts arise, this additional work can be done in the future − but that doesn't seem likely at this time.\r\n\r\nCloses: #154 ",
          "user": {
            "login": "bigspider",
            "id": 6681844,
            "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bigspider",
            "html_url": "https://github.com/bigspider",
            "followers_url": "https://api.github.com/users/bigspider/followers",
            "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
            "organizations_url": "https://api.github.com/users/bigspider/orgs",
            "repos_url": "https://api.github.com/users/bigspider/repos",
            "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/bigspider/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "COLLABORATOR",
          "milestone": {
            "url": "https://api.github.com/repos/LedgerHQ/app-bitcoin-new/milestones/1",
            "html_url": "https://github.com/LedgerHQ/app-bitcoin-new/milestone/1",
            "labels_url": "https://api.github.com/repos/LedgerHQ/app-bitcoin-new/milestones/1/labels",
            "id": 8965089,
            "node_id": "MI_kwDOF72rbM4AiMvh",
            "number": 1,
            "state": "open",
            "title": "2.2.0",
            "description": "The first release with tapscript support",
            "creator": {
              "login": "bigspider",
              "id": 6681844,
              "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
              "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/bigspider",
              "html_url": "https://github.com/bigspider",
              "followers_url": "https://api.github.com/users/bigspider/followers",
              "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
              "organizations_url": "https://api.github.com/users/bigspider/orgs",
              "repos_url": "https://api.github.com/users/bigspider/repos",
              "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/bigspider/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 11,
            "closed_issues": 3,
            "created_at": "2023-01-25T12:50:44Z",
            "updated_at": "2023-07-18T13:39:01Z"
          },
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/LedgerHQ/app-bitcoin-new/pulls/155",
            "html_url": "https://github.com/LedgerHQ/app-bitcoin-new/pull/155",
            "diff_url": "https://github.com/LedgerHQ/app-bitcoin-new/pull/155.diff",
            "patch_url": "https://github.com/LedgerHQ/app-bitcoin-new/pull/155.patch"
          },
          "created_at": "2023-04-25T15:37:40Z",
          "updated_at": "2023-09-20T12:44:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 9716180982,
      "node_id": "LE_lADOABII585gwrw2zwAAAAJDISf2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9716180982",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T03:06:55Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9875438137,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAJMnzo5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9875438137",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-20T14:37:22Z"
    },
    {
      "event": "unlabeled",
      "id": 9875896390,
      "node_id": "UNLE_lADOABII585gwrw2zwAAAAJMpjhG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9875896390",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-20T15:13:46Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1644136991,
      "node_id": "IC_kwDOABII585h_4of",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1644136991",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-20T15:28:04Z",
      "updated_at": "2023-07-20T15:28:04Z",
      "author_association": "MEMBER",
      "body": "Rebased (and corrected a comment in the fuzz test witness padding commit).",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1644136991",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-21T09:00:41Z",
      "updated_at": "2023-07-21T09:00:41Z",
      "source": {
        "issue": {
          "id": 1464474508,
          "node_id": "PR_kwDOABII585DtIR7",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26573",
          "number": 26573,
          "state": "open",
          "state_reason": null,
          "title": "Wallet: don't underestimate the fees when spending a Taproot output",
          "body": "Alternative to #23502.\r\n\r\nCurrently, when estimating the size an input spending a Taproot output will have once signed, we always assume the key path will be used. Even if there are script paths. This can lead to pretty severe fee underestimation if the script path turns out to be used in the end. So instead assume the most expensive between all script paths and the key path will be used.\r\n\r\nThis is still not ideal, as there may be a huge gap between the size of a script path spend and a key path spend. Still, this is less bad than undershooting the fees.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26573",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26573",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26573.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26573.patch"
          },
          "created_at": "2022-11-25T12:21:59Z",
          "updated_at": "2023-09-28T05:51:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9886986029,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAJNT28t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9886986029",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-21T16:18:10Z"
    },
    {
      "event": "commented",
      "id": 1646270585,
      "node_id": "IC_kwDOABII585iIBh5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646270585",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-21T21:48:54Z",
      "updated_at": "2023-07-21T21:48:54Z",
      "author_association": "MEMBER",
      "body": "Added a missing check in the fuzz target since `GetExecStackSize()` now returns an optional.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1646270585",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "referenced",
      "id": 9938930397,
      "node_id": "REFE_lADOABII585gwrw2zwAAAAJQaArd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9938930397",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "cbf385058bd68e3be98edab2637a42d988e70ffe",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cbf385058bd68e3be98edab2637a42d988e70ffe",
      "created_at": "2023-07-27T17:48:37Z"
    },
    {
      "event": "referenced",
      "id": 10051176559,
      "node_id": "REFE_lADOABII585gwrw2zwAAAAJXGMhv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10051176559",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b11d694c100cad0018502810b5ff7659027ff98a",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/b11d694c100cad0018502810b5ff7659027ff98a",
      "created_at": "2023-08-09T19:02:07Z"
    },
    {
      "event": "labeled",
      "id": 10213738635,
      "node_id": "LE_lADOABII585gwrw2zwAAAAJgyUiL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10213738635",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-28T20:44:20Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1696873989,
      "node_id": "IC_kwDOABII585lJD4F",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1696873989",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T06:55:31Z",
      "updated_at": "2023-08-29T06:55:31Z",
      "author_association": "MEMBER",
      "body": "Needs rebase if still relevant",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1696873989",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10232923664,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAJh7gYQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10232923664",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-30T13:09:43Z"
    },
    {
      "event": "unlabeled",
      "id": 10234551636,
      "node_id": "UNLE_lADOABII585gwrw2zwAAAAJiBt1U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10234551636",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-30T15:27:15Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1699400416,
      "node_id": "IC_kwDOABII585lSsrg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1699400416",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-30T15:30:57Z",
      "updated_at": "2023-08-30T15:30:57Z",
      "author_association": "MEMBER",
      "body": "Rebased. Thanks Marco for the ping.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1699400416",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "commented",
      "id": 1700663702,
      "node_id": "IC_kwDOABII585lXhGW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1700663702",
      "actor": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-31T09:13:14Z",
      "updated_at": "2023-09-01T10:26:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "Scratched around a bit more on this but will go deeper. Built fine and tests passed on MacOS Ventura.\r\n\r\n- There are more multisig related tests not touched by this PR that seem to need a Tapscript/`multi_a `equivalent added (e.g. wallet_multisig_descriptor_psbt.py). The `multi_a` descriptor leaks into a lot of the multisig code, tests and documentation. It might be best to leave that for other PRs (and possibly other authors) but some sort of issue/plan for what needs to be done post this PR would be nice.\r\n- sipa's [site](https://bitcoin.sipa.be/miniscript/) that I personally use as the go-to resource (or spec) on Miniscript has some documentation on Tapscript but the Miniscript analyzer doesn't take Tapscript Miniscripts (or at least it doesn't analyze `multi_a` descriptors). That is a handy tool for reviewers, testers, implementers.\r\n\r\nedit: I forgot support for the `multi_a` **descriptor** i.e. `tr(KEY, multi_a)` has already been merged in #24043, this PR is adding support for the `multi_a` **Miniscript fragment**,e.g. a Miniscript that contains a `multi_a` within it e.g. `tr(KEY, Miniscript that includes a multi_a)` or `tr(KEY,{S1, Miniscript that includes a multi_a})` Also, `sortedmulti_a` is only a descriptor and not a Miniscript fragment and so not included in this PR.",
      "user": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1700663702",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "labeled",
      "id": 10299622501,
      "node_id": "LE_lADOABII585gwrw2zwAAAAJl58Rl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10299622501",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-06T19:09:48Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10305692383,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAJmRGLf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10305692383",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-07T10:34:07Z"
    },
    {
      "event": "commented",
      "id": 1709917245,
      "node_id": "IC_kwDOABII585l60Q9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1709917245",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-07T10:36:17Z",
      "updated_at": "2023-09-07T10:36:17Z",
      "author_association": "MEMBER",
      "body": "Rebased post #26567. This allows to get rid of one commit here that is now part of master :tada:. Also fixed a bug in commit 8288091031b481d59cc2b5894fa790a70654496a (\"miniscript: don't anticipate signature presence in `CalcStackSize()`\") where i overlooked how the patch applied to more than one `case:` within the `switch` statement.\r\n\r\n@michaelfolkson thanks for having a look here.\r\nRegarding the `multi_a` tests: half of this PR is already tests, exercising the code introduced here under a large number of different scenarii. I'll leave it to others to try to find blind posts in the pre-existing tests for Tapscript multisigs compared to former multisigs.\r\nRegarding Pieter's website, i plan to PR MiniTapscript support to [`sipa/miniscript`](https://github.com/sipa/miniscript/) once it's merged here. So i don't expect it to be available on the website before then. It should be trivial to achieve the same using the Miniscript unit tests here though.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1709917245",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "mentioned",
      "id": 10305714307,
      "node_id": "MEE_lADOABII585gwrw2zwAAAAJmRLiD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10305714307",
      "actor": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-07T10:36:18Z"
    },
    {
      "event": "subscribed",
      "id": 10305714327,
      "node_id": "SE_lADOABII585gwrw2zwAAAAJmRLiX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10305714327",
      "actor": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-07T10:36:18Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10306396273,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAJmTyBx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10306396273",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-07T11:45:44Z"
    },
    {
      "event": "labeled",
      "id": 10306397080,
      "node_id": "LE_lADOABII585gwrw2zwAAAAJmTyOY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10306397080",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-07T11:45:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 10306472606,
      "node_id": "UNLE_lADOABII585gwrw2zwAAAAJmUEqe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10306472606",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-07T11:53:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 10312921497,
      "node_id": "UNLE_lADOABII585gwrw2zwAAAAJmsrGZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10312921497",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-08T01:38:52Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1633145289,
      "node_id": "PRR_kwDOABII585hV9HJ",
      "url": null,
      "actor": null,
      "commit_id": "75656d04582248306e7cd9fcb3d02faaa283e7b5",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "tested ACK + tested with COLDCARD integration tests https://github.com/Coldcard/firmware/blob/edge/testing/test_miniscript.py",
      "user": {
        "login": "scgbckbone",
        "id": 25349625,
        "node_id": "MDQ6VXNlcjI1MzQ5NjI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/25349625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scgbckbone",
        "html_url": "https://github.com/scgbckbone",
        "followers_url": "https://api.github.com/users/scgbckbone/followers",
        "following_url": "https://api.github.com/users/scgbckbone/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/scgbckbone/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/scgbckbone/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/scgbckbone/subscriptions",
        "organizations_url": "https://api.github.com/users/scgbckbone/orgs",
        "repos_url": "https://api.github.com/users/scgbckbone/repos",
        "events_url": "https://api.github.com/users/scgbckbone/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/scgbckbone/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1633145289",
      "submitted_at": "2023-09-19T12:28:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "commented",
      "id": 1727679423,
      "node_id": "IC_kwDOABII585m-ku_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1727679423",
      "actor": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T12:59:16Z",
      "updated_at": "2023-09-20T13:10:30Z",
      "author_association": "NONE",
      "body": "tACK\r\n\r\nThis is also tested in the integration tests for Ledger's implementation (open PR: https://github.com/LedgerHQ/app-bitcoin-new/pull/155). Note that there are some syntactic differences as Ledger's implementation is based on [Wallet Policies](https://github.com/bitcoin/bips/pull/1389) rather than bare descriptors.\r\n\r\ne2e tests signing with both bitcoin-core and the Ledger app are still quite minimal − but no issues found so far: could sign with core for both a purely miniscript taptree, and a mix of miniscript and non-miniscript leaves.\r\n\r\nAlso implemented unit tests for miniscript sanity checks (tests taken from this PR).",
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1727679423",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "commented",
      "id": 1727683807,
      "node_id": "IC_kwDOABII585m-lzf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1727683807",
      "actor": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T13:01:44Z",
      "updated_at": "2023-09-20T13:01:44Z",
      "author_association": "NONE",
      "body": "If anyone is interested in testing things end-2-end with a Ledger device, the \"Bitcoin Test\" app with taproot-miniscript is available as version 2.2.0-alpha, after enabling \"Experimental features\" ⟹ \"Developer tools\" in Ledger Live's settings.\r\n\r\n(As it's not yet integrated with HWI, testing the app will require using either the python, JS, or Rust client libraries for the Ledger bitcoin app)",
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1727683807",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "reviewed",
      "id": 1520822745,
      "node_id": "PRR_kwDOABII585apenZ",
      "url": null,
      "actor": null,
      "commit_id": "75656d04582248306e7cd9fcb3d02faaa283e7b5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK, just a few comments from cursory code review so far.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1520822745",
      "submitted_at": "2023-09-20T14:40:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-25T05:26:31Z",
      "updated_at": "2023-09-25T05:26:31Z",
      "source": {
        "issue": {
          "id": 1910622235,
          "node_id": "PR_kwDOABII585bE94H",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28528",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28528/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28528/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28528/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28528",
          "number": 28528,
          "state": "open",
          "state_reason": null,
          "title": "test: Use test framework utils in functional tests",
          "body": "Replaces bare asserts with test framework utils across both the functional tests and the test framework itself.\r\n\r\nAlso adds the `assert_not_equal`, `assert_less_than`, and `assert_less_than_or_equal` util functions for greater readability.\r\n\r\nFixes #23119.\r\n",
          "user": {
            "login": "osagie98",
            "id": 23225617,
            "node_id": "MDQ6VXNlcjIzMjI1NjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23225617?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/osagie98",
            "html_url": "https://github.com/osagie98",
            "followers_url": "https://api.github.com/users/osagie98/followers",
            "following_url": "https://api.github.com/users/osagie98/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/osagie98/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/osagie98/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/osagie98/subscriptions",
            "organizations_url": "https://api.github.com/users/osagie98/orgs",
            "repos_url": "https://api.github.com/users/osagie98/repos",
            "events_url": "https://api.github.com/users/osagie98/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/osagie98/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28528",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28528",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28528.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28528.patch"
          },
          "created_at": "2023-09-25T04:14:06Z",
          "updated_at": "2023-10-03T22:32:39Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10476826557,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAJwd6-9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10476826557",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-26T15:25:59Z"
    },
    {
      "event": "commented",
      "id": 1735816030,
      "node_id": "IC_kwDOABII585ndnNe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1735816030",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-26T15:46:46Z",
      "updated_at": "2023-09-26T15:46:46Z",
      "author_association": "MEMBER",
      "body": "I've reworked this a bit to hopefully make it easier to review (and also nicer). Here is a list of the changes i've made:\r\n- Addressed @sipa's comments:\r\n  - Added a couple assertions in `ComputeType` for context-specific fragments.\r\n  - Made the \"minimum viable transaction\" size calculation explicit instead of a magic \"800 WU\" value. This introduced some constant values, which i've tried to document extensively.\r\n  - The `GetCPubKey` method introduced to `CPubKey` was renamed to `GetEvenCorrespondingCPubKey` to make its name explicit. I've removed the now-redundant doc-comment.\r\n  - In the fuzz targets, `ConsumeNodeSmart` now always returns only valid recipes for each context. `ConsumeNodeStable` was also modified to return early on a fragment invalid for a context. The check to ignore those in the caller `GenNode` was removed to assert we always return a recipe from `ConsumeNodeSmart` and that it's valid (it would make the fuzzer crash otherwise).\r\n- Changed the API to only ask for a `MiniscriptContext` (either Tapscript or P2WSH) instead of a whole (`Ctx` template) context object wherever we only needed the script context. This makes the API nicer as we often know the script context when calling for instance `IsValid()` on a node, without necessarily having a parsing/satisfying context at hand. For instance, this helped not overusing globals in the fuzzer. (Not that i'm trying to optimize for the tests, but i think it was an indication that the API could be improved.)\r\n- In the fuzz targets, the `MiniscriptContext` is now directly passed to `GenNode`, `TestNode`, etc.. instead of relying on it being set indirectly through the global parsing/satisfying contexts.\r\n- All the introduction of Tapscript in the fuzzing targets was moved to the appropriate commit. Previously part of it was in the commit introducing the `multi_a` fragment, which made the changes to the fuzzer a bit harder to follow.\r\n- To make sure the change in the max script size calculation mentioned above didn't introduce a bug, i've added a functional test that sanity checks we can spend a maximum-sized TapMiniscript (last commit).\r\n- Found an occurrence we had missed in #27117. Added a commit for this (the first one).\r\n- In addition to compiling and passing the unit tests, all commits now pass the `miniscript_smart` fuzzer (on my own corpus which contains Tapscript seeds).",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1735816030",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "mentioned",
      "id": 10477110999,
      "node_id": "MEE_lADOABII585gwrw2zwAAAAJwfAbX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10477110999",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-26T15:46:46Z"
    },
    {
      "event": "subscribed",
      "id": 10477111012,
      "node_id": "SE_lADOABII585gwrw2zwAAAAJwfAbk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10477111012",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-26T15:46:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10477171557,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAJwfPNl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10477171557",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-26T15:51:52Z"
    },
    {
      "event": "labeled",
      "id": 10477172592,
      "node_id": "LE_lADOABII585gwrw2zwAAAAJwfPdw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10477172592",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-26T15:51:57Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 10478015214,
      "node_id": "UNLE_lADOABII585gwrw2zwAAAAJwidLu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10478015214",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-26T17:12:01Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1645273510,
      "node_id": "PRR_kwDOABII585iEOGm",
      "url": null,
      "actor": null,
      "commit_id": "8ced2a4da508f7fd4d87c8855ed66320081e9761",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#pullrequestreview-1645273510",
      "submitted_at": "2023-09-26T22:39:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYyNTA5ZTdiZTk3MjRkMTQ2YWE5Mjk0NjRiZDJlZmQxZjJhMzczM2U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f2509e7be9724d146aa929464bd2efd1f2a3733e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f2509e7be9724d146aa929464bd2efd1f2a3733e",
      "tree": {
        "sha": "c787b9519ec6942c9bc50ca90e363738265b59de",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c787b9519ec6942c9bc50ca90e363738265b59de"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c787b9519ec6942c9bc50ca90e363738265b59de\nparent 19a7e608f97838a58c2bbc058c6aea1d5ffe675f\nauthor Antoine Poinsot <darosior@protonmail.com> 1695726073 +0200\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695912539 +0200\n\nminiscript: add a missing dup key check bypass in Parse()\n\nThis was calling the wrong constructor.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVklsACgkQ4T/BRc0/\nQwRpCQwAqrkNVfdB96kCu0bqBclmv08c2c+jg0v9hLGJt7RFwYfz87CYBJw+Qxt8\nDAQaN77EzeR/1rKF3hpS6DyyRoxmvkDDIqW5JZupWSCiv2dRcIip8dG7DChTW8zH\nJM1ZYTPd1uO5zuZ6+mpQa/63KCMcC82duKgeM5Y5NuPH4IIe6wpNYFOMtOIEq2zf\n9CG6p7stot3XXI/NsaZhXpjaxBKPDmQkBNNxuDaa1R7hpw9XkCZeWDpjY2HqF9k7\n55/abzCLNu7ErL5ret3qlZs95JR8FwqNIAYxPKGMG3zqxDE8f5bstMU10PeUSthJ\ngk+4OkWCbwojkssn+Tg3NiCJMOL+gxZ92l0vqcFyAyuRLmmtwlpCR78UuRfIyiE4\nmCDU62Whs9ZeSIWmar/Ff84VnoL0pD4vkaPzfcYi4ZOKodtmaEniaskV+nqbGBdq\nRzTVGYIv2hAQnH1UrhrAZl1nylm3Kg50qaht6vP801SPmceqdWGgLqXdacrK+hVK\nVyXA+xyh\n=TOQA\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/19a7e608f97838a58c2bbc058c6aea1d5ffe675f",
          "sha": "19a7e608f97838a58c2bbc058c6aea1d5ffe675f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/19a7e608f97838a58c2bbc058c6aea1d5ffe675f"
        }
      ],
      "message": "miniscript: add a missing dup key check bypass in Parse()\n\nThis was calling the wrong constructor.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T14:48:59Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-26T11:01:13Z"
      },
      "sha": "f2509e7be9724d146aa929464bd2efd1f2a3733e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU1MzA3ZTQ0MDYxOWNkMTRjMmI0YWI4ZDJmMzMzZWRmYTExMzk1NGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/55307e440619cd14c2b4ab8d2f333edfa113954f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/55307e440619cd14c2b4ab8d2f333edfa113954f",
      "tree": {
        "sha": "e752682cce81e2ce3d5ee4c1fcbe83a2fb09a14c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e752682cce81e2ce3d5ee4c1fcbe83a2fb09a14c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e752682cce81e2ce3d5ee4c1fcbe83a2fb09a14c\nparent f2509e7be9724d146aa929464bd2efd1f2a3733e\nauthor Antoine Poinsot <darosior@protonmail.com> 1683042909 +0200\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695912540 +0200\n\nminiscript: don't anticipate signature presence in CalcStackSize()\n\nIt's true that for any public key there'll be a signature check in a\nvalid Miniscript. The code would previously, when computing the size of\na satisfaction, account for the signature when it sees a public key\npush. Instead, account for it when it is required (ie when encountering\nthe `c:` wrapper). This has two benefits:\n- Allows to accurately compute the net effect of a fragment on the stack\n  size. This is necessary to track the size of the stack during the\n  execution of a Script.\n- It also just makes more sense, making the code more accessible to\n  future contributors.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVklwACgkQ4T/BRc0/\nQwTLMgwAhCABP0sCClSNXrBUfjrBrcw1aW3tB9RrhAF8W7EQ6U7wLR1zoiZH6V1C\n9aC2KAdOreuuDXZRJXHT6f40rwbMpcOT0YaKfcnSsRGo1mVgkaRrXoDem1uIUnzo\n3eWlPeDRZm/upDHRBKlwUyo3vnMRcFlwmPCH8OBgpcJzBuFH3TALkiFinJboyL86\nuSNjDHo7+8Qe77Kh7QhI+0d9+ZsVk6Dq/TYr8C2/cqEym6Jhk/RT58uFAkTIrc0H\nQowj6ohV/c9e3jbJnW42Yrw3kr1xSGGL/kbSUj64NwCx1x7u5jYm7YnfziF8D5nb\nAG3bfJSoDbbFYaC84orTaP8m1Wjefwl7/PJqGod+FSBCRTkagQhvH8zOGoYg+bOw\nWg7Q3bS2jYjGNNCWERd00YMwF9raRHqr9P6/arkbm/3eOYxVQz9b55lF7qn2PcHs\nKt1/0Xj3ukIlcL6IBN+VhhdFxvqX5VI3VuOhI++Zm/gTLFJG0OnYnEw0M4WtWg7M\npurg7BJO\n=oC8+\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f2509e7be9724d146aa929464bd2efd1f2a3733e",
          "sha": "f2509e7be9724d146aa929464bd2efd1f2a3733e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f2509e7be9724d146aa929464bd2efd1f2a3733e"
        }
      ],
      "message": "miniscript: don't anticipate signature presence in CalcStackSize()\n\nIt's true that for any public key there'll be a signature check in a\nvalid Miniscript. The code would previously, when computing the size of\na satisfaction, account for the signature when it sees a public key\npush. Instead, account for it when it is required (ie when encountering\nthe `c:` wrapper). This has two benefits:\n- Allows to accurately compute the net effect of a fragment on the stack\n  size. This is necessary to track the size of the stack during the\n  execution of a Script.\n- It also just makes more sense, making the code more accessible to\n  future contributors.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T14:49:00Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-05-02T15:55:09Z"
      },
      "sha": "55307e440619cd14c2b4ab8d2f333edfa113954f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUxMjNmMjIzZGI1NDA4NWNiZjlkYThkNzMyNjY2MmU4MzNmYjhlYWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5123f223db54085cbf9da8d7326662e833fb8eab",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5123f223db54085cbf9da8d7326662e833fb8eab",
      "tree": {
        "sha": "dd3f1fbb78951258ec2cb65b846a9f17cb71e207",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dd3f1fbb78951258ec2cb65b846a9f17cb71e207"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dd3f1fbb78951258ec2cb65b846a9f17cb71e207\nparent 55307e440619cd14c2b4ab8d2f333edfa113954f\nauthor Antoine Poinsot <darosior@protonmail.com> 1674304995 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695912696 +0200\n\nminiscript: introduce a MsContext() helper to contexts\n\nWe are going to introduce Tapscript support in Miniscript, for which\nsome of Miniscript rules and properties change (new or modified\nfragments, different typing rules, different resources consumption, ..).\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVkvgACgkQ4T/BRc0/\nQwTt6QwAvWvPJLarlmE98o0U5p5l13ZT+AYl4nBRFUTumi4lBzU2P5k1tTDUx99j\nvZYgdwqbldrsA0SFT6SaMki+oZSQPfh816M2tbS15zLmSeHMdAEue/LukocPaQ5A\n9P+mgxAgAqQBvH+PBh/IiysfpJo8mTbUVWFwTu6CFjhA5gsdcz0rnxh0d92x2Z7d\n5RPuLs1szEhqCm7I2ZKAPrf6zFAA+IVknd3UnX9Nhw2VWSQkHy14IMtqfWtLQQVZ\n3W1BTOT8GHVk6Is+XOqUDWjAxEpHfD5vzfuuIjD3gV+Pk/33UafRMxpNYybDzOEn\ncYO7Pz4Z8l0QJ+Lv2tMH0RxcouWqTka1a6pYtNGAKKw7X3GQWJazlCEPMNb6cj4p\nSEX/2bHccnE6gurUIjikI2woKpXPwmV2Hc44a3WSTjnG12GlBfl0uyIDvNZRAumF\n3AlRu/bb4BoQvg2PYE6GMUPQ1l0eXMFYccWsm9bKbGWcwybt7mHKsCVep8Fuir8q\n+8WbLyGb\n=CA1F\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/55307e440619cd14c2b4ab8d2f333edfa113954f",
          "sha": "55307e440619cd14c2b4ab8d2f333edfa113954f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/55307e440619cd14c2b4ab8d2f333edfa113954f"
        }
      ],
      "message": "miniscript: introduce a MsContext() helper to contexts\n\nWe are going to introduce Tapscript support in Miniscript, for which\nsome of Miniscript rules and properties change (new or modified\nfragments, different typing rules, different resources consumption, ..).",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T14:51:36Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-01-21T12:43:15Z"
      },
      "sha": "5123f223db54085cbf9da8d7326662e833fb8eab"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRmYTNjYjZmM2RkOWQ5ZDAzNjU2ZTQ2NWFkYTFhMjRiNmRiYzgwYTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dfa3cb6f3dd9d9d03656e465ada1a24b6dbc80a1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dfa3cb6f3dd9d9d03656e465ada1a24b6dbc80a1",
      "tree": {
        "sha": "a4c0ac6b15ae5a1375aa1bc967a7e4a357ee56c4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a4c0ac6b15ae5a1375aa1bc967a7e4a357ee56c4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a4c0ac6b15ae5a1375aa1bc967a7e4a357ee56c4\nparent 5123f223db54085cbf9da8d7326662e833fb8eab\nauthor Antoine Poinsot <darosior@protonmail.com> 1695913622 +0200\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695915034 +0200\n\nminiscript: store the script context within the Node structure\n\nSome checks will be different depending on the script context (for\ninstance the maximum script size).\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVnBoACgkQ4T/BRc0/\nQwS3tgwAmONag6mzy7STGG5FzMkFkAAec0uC63f4WqLuM9Yd/sYaHwIDeEWI5wyV\nfAR/ARkI3wWWrkw8T2h8vxjulpkWkN8DwLcjdaWHEUhU9ZIIZPoGBgig6OZIAxZF\nwYMVEmPxERhUi4UqhryfwJIG9frZjwoX8wh7k57NV2jqG3c/HC+7vhhD6ZGPG3vd\ncUEvHIhSaWw8q2Ot3rV6yZYIh6AbpMTWiOPRou+PpuKMXlb6PdDuw+YwDVZY7Icz\ndhZF0MfQg0/Nb28KmvGQOVgF0yCEY5xXrvdEaggKlySMIKXr/+ZsSm1RTzpuqKXp\n/c9w+NogamUSIYRbGDsb/gEjPq2XLkQ4UPUu8JkF+WSiRXnmRUf8vHmJRftq7KcU\nQ6fR3AK4rO18Cr8zUnSR+2/yUQfds0nj0VbhX44rw6HJa2U1X5is0s9ONoTQClJY\na8F56d8XoMTh37CBbRR/TCFnZsRzKRQxNYc0WmaWxoiNPgA33P9tVZoPO9/TmM0q\nNtt1i9XG\n=0KmQ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5123f223db54085cbf9da8d7326662e833fb8eab",
          "sha": "5123f223db54085cbf9da8d7326662e833fb8eab",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5123f223db54085cbf9da8d7326662e833fb8eab"
        }
      ],
      "message": "miniscript: store the script context within the Node structure\n\nSome checks will be different depending on the script context (for\ninstance the maximum script size).",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T15:30:34Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T15:07:02Z"
      },
      "sha": "dfa3cb6f3dd9d9d03656e465ada1a24b6dbc80a1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYwNWJmNTUwOTU2NjNmNDdiZmRiZjc2MDNiYmMzOTRiYzdmZTZhMTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/605bf55095663f47bfdbf7603bbc394bc7fe6a16",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/605bf55095663f47bfdbf7603bbc394bc7fe6a16",
      "tree": {
        "sha": "d7f5ca0fb96d9fccbaf51d5d417f1a63d72129ee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d7f5ca0fb96d9fccbaf51d5d417f1a63d72129ee"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d7f5ca0fb96d9fccbaf51d5d417f1a63d72129ee\nparent dfa3cb6f3dd9d9d03656e465ada1a24b6dbc80a1\nauthor Antoine Poinsot <darosior@protonmail.com> 1674305399 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695915048 +0200\n\nminiscript: restrict multi() usage to P2WSH context\n\nCHECKMULTISIG is disabled for Tapscript. Instead, we'll introduce\na multi_a() fragment with the same semantic as multi().\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVnCgACgkQ4T/BRc0/\nQwT3mAv/arQzcMjR0g5AKux8QFbHrOjiF9UcKKmP+kRQ3OX6paM0Mn0VrV0jj1Jz\nmeLntDwQrm3eZ1L5V8DYPOy2Xx5qUnEhMmipg1pOUQou2GrrofEGvOmKc9HegAkv\nz7lpgcSGeSFaZJveSM1Iu2S+mvU7psmOQhNf7TM+ugVCaWuaFfsdY5T7bEDCybcG\nr4jVmAmdDBIYWz5a9TolrYl50HUWLEY3icuFr/5YTZovYF0A5n5sYcGvPef2rvx3\nMvVYK7eMRsQoEm4Zh0CDqJSOuQMbblsukB9rOkixE87xWcuVMbszrlWmxDywF1iK\nZIyZNdVVh6I8jKDUG1WgIxm1uG+gFmNACtNhJ8r+i8f7+wy7Z8f4KjiUYMt9F1CM\nYXvPExOtysIcloxdNp0t5muqsl7RDAouk713BchIhnDF4PzvmH3nSct9+1TFg2Rh\nfpJrB2G4R+xb3JqsYLUIn8thuyvkI2PX+xcIbUwm+u2eaClW0myDw7Fi8ZpNonCp\nm6xC1adN\n=+fvI\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dfa3cb6f3dd9d9d03656e465ada1a24b6dbc80a1",
          "sha": "dfa3cb6f3dd9d9d03656e465ada1a24b6dbc80a1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dfa3cb6f3dd9d9d03656e465ada1a24b6dbc80a1"
        }
      ],
      "message": "miniscript: restrict multi() usage to P2WSH context\n\nCHECKMULTISIG is disabled for Tapscript. Instead, we'll introduce\na multi_a() fragment with the same semantic as multi().",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T15:30:48Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-01-21T12:49:59Z"
      },
      "sha": "605bf55095663f47bfdbf7603bbc394bc7fe6a16"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRjZTExOGIxZGUxZGU1NWQ3MjFjNTg4Y2I5MmIxZWI2OWQ1Nzg4MjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4ce118b1de1de55d721c588cb92b1eb69d578825",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4ce118b1de1de55d721c588cb92b1eb69d578825",
      "tree": {
        "sha": "8374f98ba4bfbd21ad81f430e1cf9887efa8a707",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8374f98ba4bfbd21ad81f430e1cf9887efa8a707"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8374f98ba4bfbd21ad81f430e1cf9887efa8a707\nparent 605bf55095663f47bfdbf7603bbc394bc7fe6a16\nauthor Antoine Poinsot <darosior@protonmail.com> 1674305543 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695915049 +0200\n\nminiscript: introduce a multi_a fragment\n\nIt is the equivalent of multi() but for Tapscript, using CHECKSIGADD\ninstead of CHECKMULTISIG.\n\nIt shares the same properties as multi() but for 'n', since a threshold\nmulti_a() may have an empty vector as the top element of its\nsatisfaction. It could also have the 'o' property when it only has a\nsingle key, but in this case a 'pk()' is always preferable anyways.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVnCkACgkQ4T/BRc0/\nQwSS6AwAySjv3kjlrrOQiTFfwVne829uHuUFSmOdoQKlNL5wNJLLEX5/25Jo/aaN\nG/66T9QGF7zvDvWUOnh4trEwDdaH9AfUd+QShiv7Zm7pKom5FAqdyYYafCBaE76m\nD/Ye4+pM1nPBqP/IHX44iZ1WuuOWoZTEKLlxBWtR8Gd57YEg4Z99QZ14AL2MCV6n\ns3vIQM8yiEDAy7dulibctXA6zPLNo5GftmHyphvOAVLMimDNhuYe80HNdFWVjmq8\nwYCgjpauej61Pn3en3GWYp82/kkoZk/EowOEwW4/lLQPb2LD/4VfnbwpSldLleKp\nFJAA1xnSY45Bx8m8nQ++vDNmEXXGU26wti890emjEesPm7OZhx5a+vCAHhMZsJ8f\nVUPethB+yRMyF+fLxKPUqN/aOVO33Qod/79kLnsKkExjK1TWWnTrfDAoFGhrYsBT\nvGY0tkP8rNi44il/oM+bWGK9HozklZqtNDvOidUm8XKkiolhQqVuhqgdSGDDig3V\n7ogqy7FT\n=xl7J\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/605bf55095663f47bfdbf7603bbc394bc7fe6a16",
          "sha": "605bf55095663f47bfdbf7603bbc394bc7fe6a16",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/605bf55095663f47bfdbf7603bbc394bc7fe6a16"
        }
      ],
      "message": "miniscript: introduce a multi_a fragment\n\nIt is the equivalent of multi() but for Tapscript, using CHECKSIGADD\ninstead of CHECKMULTISIG.\n\nIt shares the same properties as multi() but for 'n', since a threshold\nmulti_a() may have an empty vector as the top element of its\nsatisfaction. It could also have the 'o' property when it only has a\nsingle key, but in this case a 'pk()' is always preferable anyways.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T15:30:49Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-01-21T12:52:23Z"
      },
      "sha": "4ce118b1de1de55d721c588cb92b1eb69d578825"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBlZTgxNWVlMmNmZDQwMGQwMWVkYWQwN2VjOGY0YzM3NTA3ZDg2MGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0ee815ee2cfd400d01edad07ec8f4c37507d860f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0ee815ee2cfd400d01edad07ec8f4c37507d860f",
      "tree": {
        "sha": "88985e8de5e44d9efd4269a8896a7247e543494d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/88985e8de5e44d9efd4269a8896a7247e543494d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 88985e8de5e44d9efd4269a8896a7247e543494d\nparent 4ce118b1de1de55d721c588cb92b1eb69d578825\nauthor Antoine Poinsot <darosior@protonmail.com> 1674388184 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695915364 +0200\n\nminiscript: make 'd:' have the 'u' property under Tapscript context\n\nIn Tapscript MINIMALIF is a consensus rule, so we can rely on the fact\nthat the `DUP IF [X] ENDIF` will always put an exact 1 on the stack upon\nsatisfaction.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVnWQACgkQ4T/BRc0/\nQwQP0wv8DMvE4P4diAclejyQuetM+pQk4s7hRjRwd7EatBwRl/vjOtzhcikWYUJh\ntMOnu4UyHOUNLAylaYsOtsP2SxfM14pSY0QZroGqm+WL2KKFhTqXpoGUrHwHySHl\nF1Omk1GMfmjywMjEDLeJirUcGuljaPvSyEBExDKrBzAmHcqC53ZVlvmcNfjGrOkS\n0HxtepEkUzBzGLjegeWCNV1TQ8aOxolfatgzCH3pje/taI20pqVyP8BTKLOk58/g\nRfMRig9tKHNWRx3dysiZPWaE4QPFfkVRYsbOlmlRnBlxB3Pvk6t2WcfQShvXuXAH\n9oAOAr5aKIjpK2gTtxQ+5ht160ul+mroDtZYwnUCwcJhhpbQPMQOzCPuL9wOBZdC\nzkOisQAOo2vkBIrGq0/XRF7AqadtMS4g9ZHV+xigRFIycins87ZORDAgvm7gmv9j\nOvGyRwi9o15qaFyzMTWPmSYWlXP652MRsr/dM1oDfA6n+NWjsIG5N91T69vlNl5h\nIPwgFtLP\n=rr7v\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4ce118b1de1de55d721c588cb92b1eb69d578825",
          "sha": "4ce118b1de1de55d721c588cb92b1eb69d578825",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4ce118b1de1de55d721c588cb92b1eb69d578825"
        }
      ],
      "message": "miniscript: make 'd:' have the 'u' property under Tapscript context\n\nIn Tapscript MINIMALIF is a consensus rule, so we can rely on the fact\nthat the `DUP IF [X] ENDIF` will always put an exact 1 on the stack upon\nsatisfaction.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T15:36:04Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-01-22T11:49:44Z"
      },
      "sha": "0ee815ee2cfd400d01edad07ec8f4c37507d860f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMwNzI1ZTZiYWZiMzM2ZGZlYjQzNzMyNjRjYmEwOWU4NTNmNjViNWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c0725e6bafb336dfeb4373264cba09e853f65b5d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c0725e6bafb336dfeb4373264cba09e853f65b5d",
      "tree": {
        "sha": "7e0bb5a58ab7e465059adcbd761841904db1db3d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7e0bb5a58ab7e465059adcbd761841904db1db3d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7e0bb5a58ab7e465059adcbd761841904db1db3d\nparent 0ee815ee2cfd400d01edad07ec8f4c37507d860f\nauthor Antoine Poinsot <darosior@protonmail.com> 1695307432 +0200\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695915366 +0200\n\nminiscript: sanity asserts context in ComputeType\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVnWYACgkQ4T/BRc0/\nQwTRwQv/dSfMKm4RKR8W7UspyDxJCZzXeEcDErYvn6FNpmSHKHAeDBgpQ8MVUuQn\nHN/LGy9XOv/uIBrqDnf3DyMMW4qrv8mVX3JpEU3sqycxYxRQlJ88/f4clz06yRlQ\n3bIp12wA6e3SiSmn8Zh4Q+eafNm3/87YYCsN9GjiM4CcdKjchY0GEflSgtbXK/Sf\n5G3kIuikV7kIuNT3j4T4xCI60ZXvPKg2DScxAEfKmsrsv8QtQGMs54N4r9gH5Rvu\nkpp5lgdzYGJ+m13vJ8GMiyY3MmeX8RL8Aetf6uNL8AT6iyJxWH5BK3F7ctZWukiH\ncuS45J/pXGr37hmmVUxeCydXAYCFoPPY53tYJJphHxhH8Ri8Gq6JZlUUnaY/gWqz\ne1gn1FTziMPT//CtPTe2eSclG+9TYdRdLYGkk8z8Wmo7JKTUjzwGq2ckKNFWUprb\nodmQ+9QWkbG57C3POotb3o+e8iaVV0SgrKB+DdTYHhujFpPg6PxkGcgA04nJ6ERr\nQ4td5xRc\n=pwao\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0ee815ee2cfd400d01edad07ec8f4c37507d860f",
          "sha": "0ee815ee2cfd400d01edad07ec8f4c37507d860f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0ee815ee2cfd400d01edad07ec8f4c37507d860f"
        }
      ],
      "message": "miniscript: sanity asserts context in ComputeType",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T15:36:06Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-21T14:43:52Z"
      },
      "sha": "c0725e6bafb336dfeb4373264cba09e853f65b5d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ3NWEyYTM5ODhlMzgzN2M0YzEwMjIwYjVmZDc1MTAwYTNkN2RjMWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/475a2a3988e3837c4c10220b5fd75100a3d7dc1c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/475a2a3988e3837c4c10220b5fd75100a3d7dc1c",
      "tree": {
        "sha": "f36bede7d60b931a45b751d6f89fcaee1d54401c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f36bede7d60b931a45b751d6f89fcaee1d54401c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f36bede7d60b931a45b751d6f89fcaee1d54401c\nparent c0725e6bafb336dfeb4373264cba09e853f65b5d\nauthor Antoine Poinsot <darosior@protonmail.com> 1674653465 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695915367 +0200\n\nminiscript: adapt resources checks depending on context\n\nUnder Tapscript, there is:\n- No limit on the number of OPs\n- No limit on the script size, it's implicitly limited by the maximum\n  (standard) transaction size.\n- No standardness limit on the number of stack items, it's limited by\n  the consensus MAX_STACK_SIZE. This requires tracking the maximum stack\n  size at all times during script execution, which will be tackled in\n  its own commit.\n\nIn order to avoid any Miniscript that would not be spendable by a\nstandard transaction because of the size of the witness, we limit the\nscript size under Tapscript to the maximum standard transaction size\nminus the maximum possible witness and Taproot control block sizes. Note\nthis is a conservative limit but it still allows for scripts almost a\nhundred times larger than under P2WSH (329871 vs 3600 bytes).\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVnWcACgkQ4T/BRc0/\nQwQ7rwv9H4b5+GWzZpH2pgBuGTxos3tdEoqMhsdNRNl/AGrBWSFjNruu8GyVfIHd\nBYp57z3TxVFdHhrk49un04Nlf0qjuYVuNd4aN54ir7b34sGmXCuqpSeNAmYDNYMA\nRX9+Xmz4tLeJHsdvOYW2exPkdPabIrqbpYceMrACPhNYmFVclNrq/WeBq49huKmz\nS8pGG2Si1Ok5rG63SYRXBkyHCb9hqGfpLMFhmceLtMXKZyt9QGhsWIj14elVcyqY\nob/vIn2tHtLxImSlIROLEi6XaxQeJRdODDUkYkofB9Vu6HlF+c4BZ/doEsQKIt6Q\nyy586/GA3kICjZrLM501Useym1BOvNdawBcdCn2nO+2CnoG3oPDbub8OKpwBpkJD\nsTNThQtWMG1AfquMWRGwLExGKUzClxeFqy6hbQlmda8LBRUeQHS90DzncNgCsdI6\n/nUK93+YVaP/WbS8AWilh5O2dBv4ilc9CkIQ09gR/JKWVcDSFQOHtXtdUgWxAe93\n6IY8LYxk\n=mQmT\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c0725e6bafb336dfeb4373264cba09e853f65b5d",
          "sha": "c0725e6bafb336dfeb4373264cba09e853f65b5d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c0725e6bafb336dfeb4373264cba09e853f65b5d"
        }
      ],
      "message": "miniscript: adapt resources checks depending on context\n\nUnder Tapscript, there is:\n- No limit on the number of OPs\n- No limit on the script size, it's implicitly limited by the maximum\n  (standard) transaction size.\n- No standardness limit on the number of stack items, it's limited by\n  the consensus MAX_STACK_SIZE. This requires tracking the maximum stack\n  size at all times during script execution, which will be tackled in\n  its own commit.\n\nIn order to avoid any Miniscript that would not be spendable by a\nstandard transaction because of the size of the witness, we limit the\nscript size under Tapscript to the maximum standard transaction size\nminus the maximum possible witness and Taproot control block sizes. Note\nthis is a conservative limit but it still allows for scripts almost a\nhundred times larger than under P2WSH (329871 vs 3600 bytes).",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T15:36:07Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-01-25T13:31:05Z"
      },
      "sha": "475a2a3988e3837c4c10220b5fd75100a3d7dc1c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVkY2ZmYTE3ODk0OTQxMDAyMjllOWYxMmQ1YTY3YWRlZGM3ZmVhM2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5dcffa1789494100229e9f12d5a67adedc7fea3c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5dcffa1789494100229e9f12d5a67adedc7fea3c",
      "tree": {
        "sha": "ac65cbc547df4e5d05be81054013c289ae1188c2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ac65cbc547df4e5d05be81054013c289ae1188c2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ac65cbc547df4e5d05be81054013c289ae1188c2\nparent 475a2a3988e3837c4c10220b5fd75100a3d7dc1c\nauthor Antoine Poinsot <darosior@protonmail.com> 1675795203 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695915413 +0200\n\nminiscript: account for keys as being 32 bytes under Taproot context\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVnZcACgkQ4T/BRc0/\nQwTuYwwAuc9lHSLv/eZDxS91lkqm9fcDRhrQa7T/yEA/I5NvdJ2ccVOoJg4thvWT\n6V5q3mgUSo0pXbhSM1P0ppRIm23+SZHmkcq74BxLLxOe4sih7o2OKF/Ndez+fgvo\ng82RgxzehDMqbfccXEKZeImAhQCR0OtYPqDvS7hLz2xaq3dS0nyE3IYTpdHnd86g\nLHFOMlV9/94C5L1/MVIZoDAprNwsKNJKoL+w68BBD+a5QvRbAFkdP1R5B+iY5s1l\nMjp8D7meGbnND8ck0nHfqABu840yVR+aN01Xlni3LCB7xgHexTWw50iu5VbiPD88\nxTTMZr+AVUTPAWsH4pzqjiIxa1WMLYMiLQM0WmtGIYdeOSwHjBS1vw7qxUdFrCvg\nrrzLq/X7H0BvP/Vg5dGsY9Bcye8zepWKUnX3W44UkcyrRJ4NelEYLV3RwHhDlwdp\nF9xNCW3IxUAtNCgiJkGY9Rs1Sz5fn3qKDP8czr7n8GO798lQUVMgszybB18l34lc\nRDxA2r5b\n=jLFQ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/475a2a3988e3837c4c10220b5fd75100a3d7dc1c",
          "sha": "475a2a3988e3837c4c10220b5fd75100a3d7dc1c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/475a2a3988e3837c4c10220b5fd75100a3d7dc1c"
        }
      ],
      "message": "miniscript: account for keys as being 32 bytes under Taproot context",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T15:36:53Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-02-07T18:40:03Z"
      },
      "sha": "5dcffa1789494100229e9f12d5a67adedc7fea3c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY5ZGE1ODNlNTgxMzFjMGJlNzU3YzcxZWIzODg1NTQ3NzJiNTc2YTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/69da583e58131c0be757c71eb388554772b576a1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/69da583e58131c0be757c71eb388554772b576a1",
      "tree": {
        "sha": "25faef094878a78b75274765c7ced06add239b81",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/25faef094878a78b75274765c7ced06add239b81"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 25faef094878a78b75274765c7ced06add239b81\nparent 5dcffa1789494100229e9f12d5a67adedc7fea3c\nauthor Antoine Poinsot <darosior@protonmail.com> 1676367092 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695915416 +0200\n\npubkey: introduce a GetCPubKey helper\n\nWe'll need to get a compressed key out of an x-only one in other places.\nAvoid duplicating the code.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVnZgACgkQ4T/BRc0/\nQwRW3wwA32+1uWmiySUD36ruzPnqq5sWBn/Bu4kY41kWFwsCSp3ltxtkPqGYs+sT\nFSowIMC4Zk0H1p3NKF7zgY9U3ttfd82LcxEbkRKp0UXlpVFUmlZ2+BNubJflGux7\nbX8vQ8aX4aDiIcIP8j2KJ6REBB853MEIZd3rmxf10bMIbXgGNYWcfg4pkeyAyUxx\n+z+hrlenVS10mqlsYeeWfvx5vItCFQahy5Z9gphdhWs6vh5YbwR9GxMgqFs5pN7/\njawvO3gmRfojQk4CiAbtNk8R+5kzk7GnPKsXZG8pQmjgb81tjxwsdhJdgy6UYSDi\naAoSz1w2OSdpKBN4wUNEp2kBo68EuQZIBvD4rhdQTjpyu+WIbOG1cvE+7baYcdCp\nYqGYezT6Zxc65uj5vkQrXEKIUrqXAd94PJ82IUPGPcRVdTOoJWPBzqVu0e8ODcAK\nX1T5z6+6dNY7vN6xHV/5Z2gmvL02cpdpI2iTCadE15XBJJD6gtnaZn27ePCjEZZJ\nl9ZdgSLs\n=awme\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5dcffa1789494100229e9f12d5a67adedc7fea3c",
          "sha": "5dcffa1789494100229e9f12d5a67adedc7fea3c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5dcffa1789494100229e9f12d5a67adedc7fea3c"
        }
      ],
      "message": "pubkey: introduce a GetCPubKey helper\n\nWe'll need to get a compressed key out of an x-only one in other places.\nAvoid duplicating the code.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T15:36:56Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-02-14T09:31:32Z"
      },
      "sha": "69da583e58131c0be757c71eb388554772b576a1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE4M2E4ZDRmMzU4MmE4ZTI5ZTgwMzEyNjM1ZjQ0YjM1NmMyYTRkNDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/183a8d4f3582a8e29e80312635f44b356c2a4d46",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/183a8d4f3582a8e29e80312635f44b356c2a4d46",
      "tree": {
        "sha": "4ddf8bb63b54fb18c47e9f44742bc4941238a1c1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4ddf8bb63b54fb18c47e9f44742bc4941238a1c1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4ddf8bb63b54fb18c47e9f44742bc4941238a1c1\nparent 69da583e58131c0be757c71eb388554772b576a1\nauthor Antoine Poinsot <darosior@protonmail.com> 1676363431 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695915416 +0200\n\nqa: Tapscript-Miniscript unit tests\n\nAdapt the test data and the parsing context to support x-only keys.\nAdapt the Test() helper to test existing cases under both Tapscript and\nP2WSH context, asserting what needs to be valid or not in each.\nFinally, add more cases that exercise the logic that was added in the\nprevious commits (multi_a, different resource checks and keys\nserialization under Tapscript, different properties for 'd:' fragment,\n..).\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVnZgACgkQ4T/BRc0/\nQwTOAQv8Ciqxu6NqlNaMKR4bt58E81xrg2D9Xi7IEAzJeOeQOpHzro0fLS4z3ce0\nUNKrWHWE9pECZtuZDl5+SFkRPD/3cJM2T4cbM0O9bRTXvNupRz+mVknlzbBrWigQ\nbQZgOEyVSNEQZUQp6V9psjcYP5cX+UU5hGgTTc9BqKES5SEkTUoi0vk4YYQaGLmJ\nn3Drlk+swU5H29/GPBwy4Ftn1x3BqwmetqM5Up44SdLVbfPzdYYVxQHuz8VZ5g3y\n56DNbB0QN6aSmiKg6hgh2EIEhvR1y+rtR2pJwWRvjQydcPqwWB1MTaERUanLgJB5\no6OWzFX29bWFCNI04e31l+5E5Il9pLIpuk/dyd2/9NexxdZo+cKTd1tcTb4DNfTW\nq2o07xMJsY2fxlwWqvaI/CqNDxY8bqxL251/0WwZukSy4/I/TXP9YWOo/YO5fRlE\nc1THOItsMN86iQOG5B6+l6CyUibMyL8TESv7CaL9kt5Nin5uoxWFed5rlBWI27v6\nlBvVdNHL\n=B6bO\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/69da583e58131c0be757c71eb388554772b576a1",
          "sha": "69da583e58131c0be757c71eb388554772b576a1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/69da583e58131c0be757c71eb388554772b576a1"
        }
      ],
      "message": "qa: Tapscript-Miniscript unit tests\n\nAdapt the test data and the parsing context to support x-only keys.\nAdapt the Test() helper to test existing cases under both Tapscript and\nP2WSH context, asserting what needs to be valid or not in each.\nFinally, add more cases that exercise the logic that was added in the\nprevious commits (multi_a, different resource checks and keys\nserialization under Tapscript, different properties for 'd:' fragment,\n..).",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T15:36:56Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-02-14T08:30:31Z"
      },
      "sha": "183a8d4f3582a8e29e80312635f44b356c2a4d46"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQwY2FhMzVjYTBjZTJlZDAzNmYwYjVmOTBjMmI4ZjAzNTUzY2ZiMzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/40caa35ca0ce2ed036f0b5f90c2b8f03553cfb30",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/40caa35ca0ce2ed036f0b5f90c2b8f03553cfb30",
      "tree": {
        "sha": "032e8ba1a87744d3e25534046258397effe1e12f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/032e8ba1a87744d3e25534046258397effe1e12f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 032e8ba1a87744d3e25534046258397effe1e12f\nparent 183a8d4f3582a8e29e80312635f44b356c2a4d46\nauthor Antoine Poinsot <darosior@protonmail.com> 1677079738 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695915417 +0200\n\nfuzz: adapt Miniscript targets to Tapscript\n\nWe introduce another global that dictates the script context under which\nto operate when running the target.\n\nFor miniscript_script, just consume another byte to set the context.\nThis should only affect existing seeds to the extent they contain a\nCHECKMULTISIG. However it would not invalidate them entirely as they may\ncontain a NUMEQUAL or a CHECKSIGADD, and this still exercises a bit of\nthe parser.\n\nFor miniscript_string, reduce the string size by one byte and use the\nlast byte to determine the context. This is the change that i think\nwould invalidate the lowest number of existing seeds.\n\nFor miniscript_stable, we don't want to invalidate any seed. Instead of\ncreating a new miniscript_stable_tapscript, simply run the target once\nfor P2WSH and once for Tapscript (with the same seed).\n\nFor miniscript_smart, consume one byte before generating a pseudo-random\nnode to set the context. We have less regard for seed stability for this\ntarget anyways.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVnZkACgkQ4T/BRc0/\nQwT+OQv/emDxbb7O2aRBsKA/HjUI/Kk3Tvf8iGRkrgiHMbjZP+CnVv2XBU1zte+F\nNccZdUFUiuT2KKJ09ecdw17502oXgrEhbLvB4ekU839YnpXb5h/yvliBBbEeK2u9\n1iQQr4mWnviu+kJ5LThEwnGQUGaIeN8mWjjHM1DE2Oz4L0iHqeTwveAVLBpQhY2A\nmgDHPNUScDW+LXYNfzg7OH+aoge7PIsWFs58miNCVsZItcwoLGA+4xABZmaSOW9u\ntnKQ3VYhqJemZ+47dskdPebCfFX5gZdVKws1CYuDjJeb1HEgcUn60H95p9KwLHdE\nhGs8jGB733pL0/ggrFarOfmEy+vrg9bW+C7gBAM5FLQKfJIK/8hzVEeFXKPld/kZ\ntYmCFTOvCf3nvaXQCiQOJ8DfXCSA2aGbWReTeGhYr61kdM7d/1Ai4Xc3MJvGumd6\n6TTD8yF7zzdKgo6i9HEFN0w/toyFOyHAq1c31tjsPtB+4+YmbDdOrfqNYz9shOBu\nYOWjtU9p\n=mEoM\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/183a8d4f3582a8e29e80312635f44b356c2a4d46",
          "sha": "183a8d4f3582a8e29e80312635f44b356c2a4d46",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/183a8d4f3582a8e29e80312635f44b356c2a4d46"
        }
      ],
      "message": "fuzz: adapt Miniscript targets to Tapscript\n\nWe introduce another global that dictates the script context under which\nto operate when running the target.\n\nFor miniscript_script, just consume another byte to set the context.\nThis should only affect existing seeds to the extent they contain a\nCHECKMULTISIG. However it would not invalidate them entirely as they may\ncontain a NUMEQUAL or a CHECKSIGADD, and this still exercises a bit of\nthe parser.\n\nFor miniscript_string, reduce the string size by one byte and use the\nlast byte to determine the context. This is the change that i think\nwould invalidate the lowest number of existing seeds.\n\nFor miniscript_stable, we don't want to invalidate any seed. Instead of\ncreating a new miniscript_stable_tapscript, simply run the target once\nfor P2WSH and once for Tapscript (with the same seed).\n\nFor miniscript_smart, consume one byte before generating a pseudo-random\nnode to set the context. We have less regard for seed stability for this\ntarget anyways.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T15:36:57Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-02-22T15:28:58Z"
      },
      "sha": "40caa35ca0ce2ed036f0b5f90c2b8f03553cfb30"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA0ODU3OTNjM2M1MWRhNTRmMWQ4ZjZiNjA1MmRiNTk0OTFiZGY1YjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0485793c3c51da54f1d8f6b6052db59491bdf5b5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0485793c3c51da54f1d8f6b6052db59491bdf5b5",
      "tree": {
        "sha": "d6a2ef6938669e098afcd9ba8a00a42f2ea1f36e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d6a2ef6938669e098afcd9ba8a00a42f2ea1f36e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d6a2ef6938669e098afcd9ba8a00a42f2ea1f36e\nparent 40caa35ca0ce2ed036f0b5f90c2b8f03553cfb30\nauthor Antoine Poinsot <darosior@protonmail.com> 1678361920 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695918295 +0200\n\nminiscript: check maximum stack size during execution\n\nUnder Tapscript, due to the lifting of some standardness and consensus\nlimits, scripts can now run into the maximum stack size during\nexecution. Any Miniscript that may hit the limit on any of its spending\npaths must be marked as unsafe.\n\nTo do so we track the maximum stack size at all time during the\nexecution of a fragment. This is accomplished by:\n1. Tracking how the stack is affected *after* execution of a fragment (how\n   many items it pushed or popped).\n2. Tracking the maximum number of items that may be pushed on the stack\n   *during* the execution of a fragment.\n\nWe then check the maximum number of items pushed during the execution of\nthe root fragment with the maximum initial witness size for satisfying\nthis fragment against the stack size limit. Note this is a conservative\ncheck, since the path that may have the maximum number of items added\nduring execution may be different than the path that requires the\nlargest witness. But it should be a pretty close approximation in most\n(and non-pathological) cases.\n\nFor instance, let's consider an `and_b(X, Y)` fragment (corresponding to\n`[X] [Y] BOOLAND`). Let's say the `X` fragment may make the stack bigger\nby one item during its execution, but after its executed the stack size\nis at most -2 larger.  Let's say the `Y` fragment may grow the stack by\n4 elements during its execution and leave the stack with two items less.\n\nIn this example the `and_b(X, Y)` fragment will grow the stack size by\nat most 2 during its execution (executing `X` then executing `Y`) and\nthe largest size of the stack after its execution is the initial size\nminus 5 items (2 for `X`, 2 for `Y` and 1 for `BOOLAND`).\nIn absolutes, if the maximum satisfaction size for this fragment is 6,\nthen the stack size will never grow beyond 8 during its execution.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVqNcACgkQ4T/BRc0/\nQwSuYwwA1SMZF2U5hpgP1+ang9QZqISanWQCnQ2Oq76C8W+j1y/r1cOJZhRSz/5L\neG4VywMpYslhgKKft7lpiHgsb0E/l7+JZJxZvCD8FXirNiiBF6ykIA1IymZMaQCh\n0mI47tNT7JWqEiWcnI7vR7Lof6LHWCdsbscsleNn8cP1PkFMVR0vg55JNT7Gij8M\n+oP0Quli73DJabZV4BqQfWLESurBSGBqlrS4BV1YNTD/asaFRcZaH4u4qJqX+W11\nvL5ZcGHrfhtxxa74IUIMRX0fBbc+q8T0e5QsAH7TfXLg58SzODBKM8rWbcCozY5C\n8HbOYUavz+hx1k7z6SCMX+hJn+p7fhotYX8sxrZ28FyNMXB8Eiek2QpoS0VnhTOf\nsKKwl407i07cGJxIvojrceAECEMV0/YRH308t+O3XzlAr8yMPUI09gff/0Hixxrj\n57naBVV0EzkksXuhQe1LSEira3WgeHLSKptMfmcliQXuai4qfFEOyBv8DegFvcV8\nd2DZR54w\n=KjGM\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/40caa35ca0ce2ed036f0b5f90c2b8f03553cfb30",
          "sha": "40caa35ca0ce2ed036f0b5f90c2b8f03553cfb30",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/40caa35ca0ce2ed036f0b5f90c2b8f03553cfb30"
        }
      ],
      "message": "miniscript: check maximum stack size during execution\n\nUnder Tapscript, due to the lifting of some standardness and consensus\nlimits, scripts can now run into the maximum stack size during\nexecution. Any Miniscript that may hit the limit on any of its spending\npaths must be marked as unsafe.\n\nTo do so we track the maximum stack size at all time during the\nexecution of a fragment. This is accomplished by:\n1. Tracking how the stack is affected *after* execution of a fragment (how\n   many items it pushed or popped).\n2. Tracking the maximum number of items that may be pushed on the stack\n   *during* the execution of a fragment.\n\nWe then check the maximum number of items pushed during the execution of\nthe root fragment with the maximum initial witness size for satisfying\nthis fragment against the stack size limit. Note this is a conservative\ncheck, since the path that may have the maximum number of items added\nduring execution may be different than the path that requires the\nlargest witness. But it should be a pretty close approximation in most\n(and non-pathological) cases.\n\nFor instance, let's consider an `and_b(X, Y)` fragment (corresponding to\n`[X] [Y] BOOLAND`). Let's say the `X` fragment may make the stack bigger\nby one item during its execution, but after its executed the stack size\nis at most -2 larger.  Let's say the `Y` fragment may grow the stack by\n4 elements during its execution and leave the stack with two items less.\n\nIn this example the `and_b(X, Y)` fragment will grow the stack size by\nat most 2 during its execution (executing `X` then executing `Y`) and\nthe largest size of the stack after its execution is the initial size\nminus 5 items (2 for `X`, 2 for `Y` and 1 for `BOOLAND`).\nIn absolutes, if the maximum satisfaction size for this fragment is 6,\nthen the stack size will never grow beyond 8 during its execution.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T16:24:55Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-03-09T11:38:40Z"
      },
      "sha": "0485793c3c51da54f1d8f6b6052db59491bdf5b5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIwZjhiOWZjYzI5ZjkzMmQ4ZTY2NGE3NTAxNDBmYTQ0ZDJmZDRhNTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/20f8b9fcc29f932d8e664a750140fa44d2fd4a54",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/20f8b9fcc29f932d8e664a750140fa44d2fd4a54",
      "tree": {
        "sha": "1df337413bf3d9dd8c0659dcf57b207bf1130c97",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1df337413bf3d9dd8c0659dcf57b207bf1130c97"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1df337413bf3d9dd8c0659dcf57b207bf1130c97\nparent 0485793c3c51da54f1d8f6b6052db59491bdf5b5\nauthor Antoine Poinsot <darosior@protonmail.com> 1678361985 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695918296 +0200\n\nqa: test Miniscript max stack size tracking\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVqNgACgkQ4T/BRc0/\nQwTX7gv/TE687JAcyzt5UgQF4dhhcoPzdlzQsRjAkpNZjDWW3LldGLvQd9fSIrO9\nsiJo0sWwE8SIbgRkHenhahdm0McQZEtmuQI6twokcNOfLSDMdX6arChraEABVYTw\nwwcCR00CaI1bWiNokQpPXiErm/iz4qY3n3sxEbperLCIfKeU5tzXmWg+z/F3w3Sm\nBmDBnYdwdr/2fR6k6ObTLDxjCws/Ep3qXP0NpjmfldfN49I61z3KystzeEPFhqFn\nR3RSe6LaPtmjWUqkKbcRDkS58ojEzqdzasLFGBZJrsESLAcPs3IpvdsG7xpqJmyG\nDchBE64On7p+gFGX3B8+9h1hj6RDsXr2IRiFi58imB35qLsZOaDysa9HqwX7tZFR\nzn9KkAyQJLrpMbMhDxFK+4NedFPT2ujYx6AVl0vfjVwyjihxyIH0YeTAdqOWzubK\nLQNr0DwKatNdOMYDqTIc9ptXdQQR4EgcVSYx4w9wFO/i//jMTKsoOONF5ChHKGIx\nIoZdaMfb\n=OUud\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0485793c3c51da54f1d8f6b6052db59491bdf5b5",
          "sha": "0485793c3c51da54f1d8f6b6052db59491bdf5b5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0485793c3c51da54f1d8f6b6052db59491bdf5b5"
        }
      ],
      "message": "qa: test Miniscript max stack size tracking",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T16:24:56Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-03-09T11:39:45Z"
      },
      "sha": "20f8b9fcc29f932d8e664a750140fa44d2fd4a54"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUxNWIwNWVhNzdlMTJjMWU0OWFkMDUzZWY3NWUyYjk2YTFlODJhZjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/515b05ea77e12c1e49ad053ef75e2b96a1e82af6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/515b05ea77e12c1e49ad053ef75e2b96a1e82af6",
      "tree": {
        "sha": "f0e2bb96ecb04fd58b30c670b096fec09e6db22c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f0e2bb96ecb04fd58b30c670b096fec09e6db22c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f0e2bb96ecb04fd58b30c670b096fec09e6db22c\nparent 20f8b9fcc29f932d8e664a750140fa44d2fd4a54\nauthor Antoine Poinsot <darosior@protonmail.com> 1678049586 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695918296 +0200\n\nfuzz: miniscript: higher sensitivity for max stack size limit under Tapscript\n\nIn order to exacerbate a mistake in the stack size tracking logic,\nsometimes pad the witness to make the script execute at the brink of the\nstack size limit. This way if the stack size is underestimated for a\nscript it would immediately fail `VerifyScript`.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVqNgACgkQ4T/BRc0/\nQwRJ9gwAiLeOm2QRxWTi1riBFYT+Tf11ikdmHse5XLJAObiG5uF2Sh3SNa3zjv59\ntUKqkRAK3PTQj5djHB6NAMM7J9a54+b2IWJlJtoKHZ/A/4KbP8EkVU/tR9fbU6Y1\niYUVpscJHqzWCwMGzv340zouvbQBI9H2G6we4otxPXZNQTpERQfFP+QhA3k3hyDZ\nMXfpTLjUzVpJ7A9bpKchT0qT4RVBEHK/zohlL+8hEJrGUsl74Kv+hl0rBFzkJ7Cj\n5AX5jYECQeeEEN3WnS4Hdz7mtQtveoy2Bd+ElwA9pFlC1c0EI5E5fp/w7A0eiX2W\ne4/pyNtP96HwjF4XR3xJAEWCKKX2eleTQ2hfCHKLtcKuLUJr5fa9Mhumqn3zAcPB\nG4b02GTYenIVpqsubIi/csqO9krKRyN9ErUKjM2cCNJV+Tq5AkiNuXqEcOWg/3UN\nDAlHdG77NZWYReLJYS1AZ1/ednJ5N9Lua5KwmsBymEXVdbz1tLOy/GQa1RoSj1Dn\nUVDL99dI\n=JGhY\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/20f8b9fcc29f932d8e664a750140fa44d2fd4a54",
          "sha": "20f8b9fcc29f932d8e664a750140fa44d2fd4a54",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/20f8b9fcc29f932d8e664a750140fa44d2fd4a54"
        }
      ],
      "message": "fuzz: miniscript: higher sensitivity for max stack size limit under Tapscript\n\nIn order to exacerbate a mistake in the stack size tracking logic,\nsometimes pad the witness to make the script execute at the brink of the\nstack size limit. This way if the stack size is underestimated for a\nscript it would immediately fail `VerifyScript`.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T16:24:56Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-03-05T20:53:06Z"
      },
      "sha": "515b05ea77e12c1e49ad053ef75e2b96a1e82af6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg5Y2Y2OTk4Y2MyYmRjNmRkNDdkNzRjNThjNmJhYWQ4NTIwNmFlZjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/89cf6998cc2bdc6dd47d74c58c6baad85206aef4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/89cf6998cc2bdc6dd47d74c58c6baad85206aef4",
      "tree": {
        "sha": "3b6776cca73a5837c0d23b71bbd1671354a1d91e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3b6776cca73a5837c0d23b71bbd1671354a1d91e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3b6776cca73a5837c0d23b71bbd1671354a1d91e\nparent 515b05ea77e12c1e49ad053ef75e2b96a1e82af6\nauthor Antoine Poinsot <darosior@protonmail.com> 1674325625 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695918297 +0200\n\ndescriptor: Tapscript-specific Miniscript key serialization / parsing\n\n64-hex-characters public keys are valid in Miniscript key expressions\nwithin a Tapscript context.\n\nKeys under a Tapscript context always serialize as 32-bytes x-only\npublic keys (and that's what get hashed by OP_HASH160 on the stack too).\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUVqNkACgkQ4T/BRc0/\nQwR7OAv/QjGxxgDskcQ6zogebtXkdPsX4PG/nLsnTFM/QYMBTsKhuAZ83nU2muBm\n1FVTPEt3sDSWjn/FSAqhdo0IAI+Bd5NvrCrH0dhr3ewFx4k4Gz5g89dNpySmKL8k\nf2030AxI8YAl8nCzi+xDXqHj6UaTzBWk4IEy0WKpfB5LuZbjROVWZiy3H4ou24ui\nfK/O6OqktetvSzmYY0cLifSnJQ6JWpy3KXV7d1aOGwJJnuMO7D8Ur+tPLnz08+Pf\nqHboo2zMLhhIx4CNW62vPSRYoFuFI4mAcKAk5NX7xP5R4K1PqkkObzRJOwBqz+0O\nAawnegEgo+ogVM9opw6QYtR+47V2J+3gH+LScxXnREM1JF+Mw2r/mHpW+/mFU3E/\nyTCmGK5AMz+NWtlhpbLWt/KziyJpDmvs2aV/Ro5/1zhMAyCpgkhFnYxVKqqQK06a\nViW7OvDnXAhaQDPbkMJHPbRSfRDveJhjfnOJmCecBocw/XQxIcBnTOqYwjmj6Oqq\naFzFcYa7\n=5Ud+\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/515b05ea77e12c1e49ad053ef75e2b96a1e82af6",
          "sha": "515b05ea77e12c1e49ad053ef75e2b96a1e82af6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/515b05ea77e12c1e49ad053ef75e2b96a1e82af6"
        }
      ],
      "message": "descriptor: Tapscript-specific Miniscript key serialization / parsing\n\n64-hex-characters public keys are valid in Miniscript key expressions\nwithin a Tapscript context.\n\nKeys under a Tapscript context always serialize as 32-bytes x-only\npublic keys (and that's what get hashed by OP_HASH160 on the stack too).",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-28T16:24:57Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-01-21T18:27:05Z"
      },
      "sha": "89cf6998cc2bdc6dd47d74c58c6baad85206aef4"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T21:05:05Z",
      "updated_at": "2023-09-28T21:05:05Z",
      "source": {
        "issue": {
          "id": 1918077405,
          "node_id": "PR_kwDOABII585beW4M",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28550",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28550/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28550/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28550/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28550",
          "number": 28550,
          "state": "open",
          "state_reason": null,
          "title": "Covenant tools softfork",
          "body": "**Conceptual discussion here:** https://delvingbitcoin.org/t/covenant-tools-softfork/98\r\n\r\nThis draft is a patch that activates the consensus changes outlined in\r\n\r\n- [BIP-118](https://github.com/bitcoin/bips/blob/master/bip-0118.mediawiki) (SIGHASH_ANYPREVOUT for Taproot Scripts)\r\n- [BIP-119](https://github.com/bitcoin/bips/blob/master/bip-0119.mediawiki) (CHECKTEMPLATEVERIFY)\r\n- [BIP-345](https://github.com/jamesob/bips/blob/jamesob-23-02-opvault/bip-0345.mediawiki) (OP_VAULT)\r\n\r\nThese changes make possible a number of use-cases that are broadly beneficial to users of Bitcoin, including\r\n\r\n- [vaults](https://bitcoinops.org/en/topics/vaults/) (reactive custodial security),\r\n- [LN-Symmetry](https://bitcoinops.org/en/topics/eltoo/),\r\n- efficient implementations of [DLCs](https://bitcoinops.org/en/topics/discreet-log-contracts/),\r\n- [non-interactive channel openings](https://utxos.org/uses/non-interactive-channels/),\r\n- [congestion control](https://utxos.org/uses/scaling/),\r\n- decentralized mining pools (via [CTV compression in coinbase payouts](https://utxos.org/uses/miningpools/)),\r\n- various [Lightning efficiency improvements](https://twitter.com/roasbeef/status/1692589689939579259),\r\n- using [covenant based timeout-trees](https://bitcoinops.org/en/newsletters/2023/09/27/) to scale Lightning, and more generally enabling [channel factories](https://bitcoinops.org/en/topics/channel-factories/).\r\n\r\nWe also see that many speculative scaling solutions (e.g. [Ark](https://arkpill.me/), [Spacechains](https://gist.github.com/RubenSomsen/c9f0a92493e06b0e29acced61ca9f49a#spacechains)) require locking coins to be spent to a particular set of outputs without any additional authorization (i.e. CTV, or APO’s emulation of it).\r\n\r\n### Scope of discussion\r\n\r\nTo prevent this thread from becoming overrun, please keep high-level, conceptual discussion to the [related Delving Bitcoin thread](https://delvingbitcoin.org/t/covenant-tools-softfork/98). At this point in time, code nits probably aren't going to be useful either.\r\n\r\nThis draft has been posted to provide a tangible example of a softfork we might pursue, and a representation of the necessary code changes.\r\n\r\n### Activation method and parameters\r\n\r\nSpecific activation parameters have not been specified here (or are marked FIXME) to avoid putting the consensus cart before the horse. The activation method here has defaulted to the one used for BIP-0341 and might change pending discussion.",
          "user": {
            "login": "jamesob",
            "id": 73197,
            "node_id": "MDQ6VXNlcjczMTk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamesob",
            "html_url": "https://github.com/jamesob",
            "followers_url": "https://api.github.com/users/jamesob/followers",
            "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
            "organizations_url": "https://api.github.com/users/jamesob/orgs",
            "repos_url": "https://api.github.com/users/jamesob/repos",
            "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jamesob/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 192202000,
              "node_id": "MDU6TGFiZWwxOTIyMDIwMDA=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Consensus",
              "name": "Consensus",
              "color": "009800",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28550",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28550",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28550.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28550.patch"
          },
          "created_at": "2023-09-28T18:42:45Z",
          "updated_at": "2023-10-04T13:08:02Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEyN2YxZWFlOWU0ZTMxYmNjYjFmNmRmNWQ1ZWQ1MzBlYTgxNGFkNmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/127f1eae9e4e31bccb1f6df5d5ed530ea814ad6f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/127f1eae9e4e31bccb1f6df5d5ed530ea814ad6f",
      "tree": {
        "sha": "884f2ad44651d139c3cd13923b2aa0287bfda5c6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/884f2ad44651d139c3cd13923b2aa0287bfda5c6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 884f2ad44651d139c3cd13923b2aa0287bfda5c6\nparent 89cf6998cc2bdc6dd47d74c58c6baad85206aef4\nauthor Antoine Poinsot <darosior@protonmail.com> 1674308269 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695973692 +0200\n\ndescriptor: parse Miniscript expressions within Taproot descriptors\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUWgTwACgkQ4T/BRc0/\nQwSz8Av9E6Ji5uNWSSQwzsHhEVE/1Fyo+zgJzMGeCxwGUAEmyVCjQFKbnqZUX2V5\nZRJwNmvdiEGZKQAbgTxj3We9/9ktHWpOLb61QY/7efL1WaZ/CoeH83eXMRtTSF3k\n+5tvQDJbqsVjJSwpDqCRFN97FlAHPifmEWLLArvp2ZbUWbpqQ2SdRiuHA0wv3cne\nXXgj6lzfm8RAnzHqAfbscvPXgiPJu/FyrLFGQsSJbbpSJIUPt0XxSOhWU6aaeUGJ\n3tyMLTleIhafWSXFEsrGOYlN23yfOBsYqDdI4dW3uyQKYbWp6O5KFe73P3/Z7mZ2\nxY0qQzzWmVQCs8OSTitL2rk+BbO3bCFdod/zF4XxYk+zGGSCey14UR/RDiWqXMSr\nYo4qDpi4+B/eH/ZAxGk0raUPGnrJfhzvgPNTEOHRBMQihxBlQcGsHJulm0JpsGrR\n3VsM/N1EW8lV4HeyJNXUSiXsKJPctidgaZQAj0QF9ALW6P6DfrXMU9rqp9OnMIhz\nJLL29QcU\n=2Jt6\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/89cf6998cc2bdc6dd47d74c58c6baad85206aef4",
          "sha": "89cf6998cc2bdc6dd47d74c58c6baad85206aef4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/89cf6998cc2bdc6dd47d74c58c6baad85206aef4"
        }
      ],
      "message": "descriptor: parse Miniscript expressions within Taproot descriptors",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-29T07:48:12Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-01-21T13:37:49Z"
      },
      "sha": "127f1eae9e4e31bccb1f6df5d5ed530ea814ad6f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUzN2Y3ZjI1ODAzMDAzYmNjMzVlNzNlNzY0Y2E3MDljNjRiZTg5ODU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/537f7f25803003bcc35e73e764ca709c64be8985",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/537f7f25803003bcc35e73e764ca709c64be8985",
      "tree": {
        "sha": "dc0d7d8136493618dcf67e325bb99f62b6b2c2bd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dc0d7d8136493618dcf67e325bb99f62b6b2c2bd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dc0d7d8136493618dcf67e325bb99f62b6b2c2bd\nparent 127f1eae9e4e31bccb1f6df5d5ed530ea814ad6f\nauthor Antoine Poinsot <darosior@protonmail.com> 1676458561 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695973693 +0200\n\nqa: functional test Miniscript inside Taproot descriptors\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUWgT0ACgkQ4T/BRc0/\nQwTlPQwAsOhBZBTzIS0WiMGV14lXjzOo3LhqT2rklmkGa789WFq4PyyzJdQ5XlM/\nMWDO00RIl5yYCL/Nndy7aJI2YaKgNWQtiLLujR/FwmDkIjeUVZehwy6sG5ag6UCP\nwxE8tpn3N+sqYvL/oJeMIBgChHxW78CLKA9YWERO9+OdZ5f0IzEHxWqMF6cVI2eU\nRKRa4qPoLVUhztAfZCd4usosP56qtKpnzv+OpK+hmaX8wLSX7GR9gjlguM0oU5Bp\nf+okAniQPGAaXaTdP+K7j9rTApZoQ9L5FQzPYbygU7xq5132C5ytIPM/KtPEqIwZ\nWBhSUSWqPdbQzJQKjI09mVw2uhHqh6hT7dHmAtJcyT1WgxGLc4UPZ4uPVvHqiMha\nZ9PViwK1ei10zmgArPIl1FLRuTQ+QjtlVNunuifhLnHuvG+38WsKh4GaW77Y51hm\nqboY1gjojXlLwcL7UMNTyO01ea+SfsSqv/UjHAhBHVsHpIJ+w+menTsvb6MEAyQH\nFgJpzSOm\n=Mw55\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/127f1eae9e4e31bccb1f6df5d5ed530ea814ad6f",
          "sha": "127f1eae9e4e31bccb1f6df5d5ed530ea814ad6f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/127f1eae9e4e31bccb1f6df5d5ed530ea814ad6f"
        }
      ],
      "message": "qa: functional test Miniscript inside Taproot descriptors",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-29T07:48:13Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-02-15T10:56:01Z"
      },
      "sha": "537f7f25803003bcc35e73e764ca709c64be8985"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY5MmRhZmE4NWQ2NmIxZTFiMDcxMTUyMDFhMGQyZWZkZDIyYzM5ODQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f92dafa85d66b1e1b07115201a0d2efdd22c3984",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f92dafa85d66b1e1b07115201a0d2efdd22c3984",
      "tree": {
        "sha": "b8b81b564573327f8a82d7b2c638e6fa4aead7ae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b8b81b564573327f8a82d7b2c638e6fa4aead7ae"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b8b81b564573327f8a82d7b2c638e6fa4aead7ae\nparent 537f7f25803003bcc35e73e764ca709c64be8985\nauthor Antoine Poinsot <darosior@protonmail.com> 1677248283 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695973693 +0200\n\nMOVEONLY: script/sign: move Satisfier declaration above Tapscript signing\n\nWe'll need the Miniscript satisfier for Tapscript too.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUWgT0ACgkQ4T/BRc0/\nQwQW4Av6A6zSq1Cegt8SAvKZ/f04o3kcDch7/0pi3EXCF8TIvf4OPmG71r8td/pg\ndUW9FW4qCXwiOSti9v4gHHZxZ3PqjOLEP6TZ16OWhIyqbxbqvpQdOk6DGaV7rbtc\nvUDB+KwvrroX9d3i5CJsiWLZ8plOiEEJVwHh90hlf7r/V+LtFkKjeZJMcvHhwIW5\nXHC/T1s3zSc3+oFXzxPSRcSaqso8QmcfXONgseCCagvkah+qdq8a3xOGqapGmQ11\nDrVqCHRqXM7hrOhf/aHJea5cm5DYlJz3T3k7y04CIk2dTUd5zHsc0xZqJadxcWv8\nqH/zev7JQoFDYe+HJKpNKpKiTzw3+G7oqoPNyHoKRfIPjdhTWXB7d5BAC+1Bqbz4\n1rC5px/fvaFOT11h8AOdxyghOkI0K5o0kywhyw5cHVj1kaC/6oLtoWBmW9VmgHnS\nW1o5sYlThM1tN4EWgko35wzRthadG5rwspq94vLm271D8DMHKctV+va2uMDnTt5p\ny894LCdh\n=hGEg\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/537f7f25803003bcc35e73e764ca709c64be8985",
          "sha": "537f7f25803003bcc35e73e764ca709c64be8985",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/537f7f25803003bcc35e73e764ca709c64be8985"
        }
      ],
      "message": "MOVEONLY: script/sign: move Satisfier declaration above Tapscript signing\n\nWe'll need the Miniscript satisfier for Tapscript too.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-29T07:48:13Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-02-24T14:18:03Z"
      },
      "sha": "f92dafa85d66b1e1b07115201a0d2efdd22c3984"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU5YWUwNGQ5NTNlNjZmMjRiM2RjYTRjM2FjZmFmNDMyMTgyM2Y3YjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59ae04d953e66f24b3dca4c3acfaf4321823f7b5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/59ae04d953e66f24b3dca4c3acfaf4321823f7b5",
      "tree": {
        "sha": "a1bffb0dbf7f9eda40ed8f1410fdde4fa65f1a43",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a1bffb0dbf7f9eda40ed8f1410fdde4fa65f1a43"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a1bffb0dbf7f9eda40ed8f1410fdde4fa65f1a43\nparent f92dafa85d66b1e1b07115201a0d2efdd22c3984\nauthor Antoine Poinsot <darosior@protonmail.com> 1677252852 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695973694 +0200\n\nscript/sign: Miniscript support in Tapscript\n\nWe make the Satisfier a base in which to store the common methods\nbetween the Tapscript and P2WSH satisfier, and from which they both\ninherit.\n\nA field is added to SignatureData to be able to satisfy pkh() under\nTapscript context (to get the pubkey hash preimage) without wallet data.\nFor instance in `finalizepsbt` RPC. See also the next commits for a\nfunctional test that exercises this.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUWgT4ACgkQ4T/BRc0/\nQwSI9QwA3F4uVH1JWUxNye21h/ljQQ22sn1SpblsighDYSzlAwoX+o4B0S0oI+KU\nk6UNY1OMk1nkPebjN90rdqHPWkmbBkO4KmXQYKxaNbtyquJbRBkS01mDWTJ/vXdw\ngYmPBL+1K+I4PUHebX97MFwtG8HljlvJF+YYXFl2vktEN34D9qjk1OMAzu4g/INk\nMIcEvUC9I7yyhiZZB+rSN1MF78xPkU9k8JLojsHUY+137JzwEPMycN1LOKOS7Auf\n5HdIj5OotmOalMvnOX0AbDMjx40WIIrXCYszNf3tVrrKGr8E0uemFkGGJlJDFe88\nv3UdNw/XtFhGJr35+Cm8iXMdGrlYa4FPXI+XIc4GNz9YVlvo0LYmhvy2G3UCUnST\n/1I7SlqxpIvNQ1GKtA/sZvTl405t8yiTxsv4AZof9Lt5Y9DjstTgBkFsFo2EcIVD\nxEQO+UhJ69PPOaXOY2jrrzhPgWKMVzKP7LiUztp7RZE+VmU0uAgBYnOEMC6Cxn4G\nL+gvG/pb\n=1voK\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f92dafa85d66b1e1b07115201a0d2efdd22c3984",
          "sha": "f92dafa85d66b1e1b07115201a0d2efdd22c3984",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f92dafa85d66b1e1b07115201a0d2efdd22c3984"
        }
      ],
      "message": "script/sign: Miniscript support in Tapscript\n\nWe make the Satisfier a base in which to store the common methods\nbetween the Tapscript and P2WSH satisfier, and from which they both\ninherit.\n\nA field is added to SignatureData to be able to satisfy pkh() under\nTapscript context (to get the pubkey hash preimage) without wallet data.\nFor instance in `finalizepsbt` RPC. See also the next commits for a\nfunctional test that exercises this.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-29T07:48:14Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-02-24T15:34:12Z"
      },
      "sha": "59ae04d953e66f24b3dca4c3acfaf4321823f7b5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJjMmVjNjE0MTVlNGQxMmQ0MmFiOTI5OTExODE1ZGUxMDY4OGViY2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2c2ec61415e4d12d42ab929911815de10688ebcb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2c2ec61415e4d12d42ab929911815de10688ebcb",
      "tree": {
        "sha": "20452c7f0e6e842063f20978efd2c80fd7ed816d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/20452c7f0e6e842063f20978efd2c80fd7ed816d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 20452c7f0e6e842063f20978efd2c80fd7ed816d\nparent 59ae04d953e66f24b3dca4c3acfaf4321823f7b5\nauthor Antoine Poinsot <darosior@protonmail.com> 1677860777 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695973694 +0200\n\nqa: list descriptors in Miniscript signing functional tests\n\nThis makes it more generalistic than just having the miniscripts since\nwe are going to have Taproot descriptors with (multiple) miniscripts in\nthem too.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUWgT4ACgkQ4T/BRc0/\nQwQkdwv/ScGhTHHm08MvttrBMpjOVoYKB3Ct+AUmQ8MW3lKz8nkQFNHl7VRsCol7\n1gAxhsXFyOZ3FKURQ/yCIFUpeBO+bXisdokK7H//S+hv7WZXJDMy41fec1abxMNb\nUPhFQGu8c0I07Ai1LK1Jx85Ki8ief7fZrUFFS7ezlqG0wa9uab2nlsgr30dvhixT\nWKocT4XRNR59Z80vKapHbyusaKUk87y/vJTFLSAW5h/W4zqF6wSEHQu2UC7NfgZP\neXWrqvoCnP4CBQCe6nNN2szNC+p0u+GiVzhZbenqivOEI/6W0maUb2GufdDnroDK\nS5WLy1SHhT/ogSvTWRyXTKMmC9EFqrN0/1f8uBWt9pP0YfyFy7VO+LICAUNp/qmN\nG6hibvTk0KTIo1ruBjk7c9k71Gj/PNvtIXT3fy/b2jJW8XsK1OaPkMJxQQ5s9N8H\nBmu7UPN8MyWHmaJMkeXHglQ5hCHMKv4be0FlTKOuJNacyURGnAEN/dEgRhzWAazc\nSB4JZ1a0\n=Dix+\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59ae04d953e66f24b3dca4c3acfaf4321823f7b5",
          "sha": "59ae04d953e66f24b3dca4c3acfaf4321823f7b5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/59ae04d953e66f24b3dca4c3acfaf4321823f7b5"
        }
      ],
      "message": "qa: list descriptors in Miniscript signing functional tests\n\nThis makes it more generalistic than just having the miniscripts since\nwe are going to have Taproot descriptors with (multiple) miniscripts in\nthem too.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-29T07:48:14Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-03-03T16:26:17Z"
      },
      "sha": "2c2ec61415e4d12d42ab929911815de10688ebcb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGUzMjlmYTg0ZjY2OWM3OTM5NmMyMGMwMGIyN2NjMmFhMmQyZDZhYTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e329fa84f669c79396c20c00b27cc2aa2d2d6aa9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e329fa84f669c79396c20c00b27cc2aa2d2d6aa9",
      "tree": {
        "sha": "cf52b59d56fc3a9415513b1991daa49a39e9ca22",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cf52b59d56fc3a9415513b1991daa49a39e9ca22"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree cf52b59d56fc3a9415513b1991daa49a39e9ca22\nparent 2c2ec61415e4d12d42ab929911815de10688ebcb\nauthor Antoine Poinsot <darosior@protonmail.com> 1677863925 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695973695 +0200\n\nqa: Tapscript Miniscript signing functional tests\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUWgT8ACgkQ4T/BRc0/\nQwTVwgwAs9zcWgaGJ4ktzrN+IKbcN6BvxaK/RdJ3dWf8eoKGkwCtL6OG60bDZFUv\nxxyvJjwyoDTNb4JR17qvaZ1TlCU6F3+CVsG3nEaGKHKWUgqH6o4gxRqwouzH3czh\nZX5Q+z7Q1TTVUoZ5WLTE5T2sLXTFF6PMhYByfbR2PL9ijVwR3A0YSjczd2QsyJ4P\nOZtdX7eVkGclaW3HvXTHbIU0qRn7szDgKmzob5ck//z3kzLxjUvfkO9Jv8LiCeHy\nrEJFdqMO5gVdRZftFrizpEfnXwulC9eBjUVj/COCLKyDqZ6BA87cSu3Xo40MC7YM\nZLIn10tuXHpocIFdy1Pn+Zszxm/1eG01N9itYDr6teq2ypqPawn1D9e7cKLIeu13\nRNzDKSW8wjvLLlbNs2D8HNURGJ3lxsllUuHAJ8o4kpRBPhSGVPce3Cxig3pb2Ofa\nidUrPJ9s+qi1OZkpODZ46SL808IKcwSZAT5pGv8mxmez5vPwID+XIQjk8yK5Hglq\nCBUlOdXK\n=RXmm\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2c2ec61415e4d12d42ab929911815de10688ebcb",
          "sha": "2c2ec61415e4d12d42ab929911815de10688ebcb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2c2ec61415e4d12d42ab929911815de10688ebcb"
        }
      ],
      "message": "qa: Tapscript Miniscript signing functional tests",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-29T07:48:15Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-03-03T17:18:45Z"
      },
      "sha": "e329fa84f669c79396c20c00b27cc2aa2d2d6aa9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYxOTMzMGY4MThhMjBkNTJmMmE0ZWJjNTc2YmU3NjQ4ODU4OGQwOWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/619330f818a20d52f2a4ebc576be76488588d09c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/619330f818a20d52f2a4ebc576be76488588d09c",
      "tree": {
        "sha": "69658cbb9fcad143b6f05f2f417032da1ba4b3a9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/69658cbb9fcad143b6f05f2f417032da1ba4b3a9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 69658cbb9fcad143b6f05f2f417032da1ba4b3a9\nparent e329fa84f669c79396c20c00b27cc2aa2d2d6aa9\nauthor Antoine Poinsot <darosior@protonmail.com> 1678957425 +0100\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695973696 +0200\n\nminiscript: have a custom Node destructor\n\nTo avoid recursive calls in shared_ptr's destructor that could lead to a\nstack overflow.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUWgUAACgkQ4T/BRc0/\nQwR3GQwAzoxA40988a2XTrJnN73lXfevp/e++JTpFvYEzWxWLtEn5pFq7kmWT6X7\n7izPGff2CJCmRx6LbjJ31mrvNVxCJyfrHWHKS48KZ8hNJn3Hu9lj02bS/CyEwT5z\nI3i0fzpZeIsDn97GgWqGAvca83GWmDQrbHVbfWK3S+f+TzixsgLOMYSE/X5+1kko\nqoKhh+WNOut3Pm2Wcx2NQdEO2ls+utzv7q7dWXuQAgAscZIuNTVInl4OshXISEmF\nrRx5HWTk4Y4snueojDKmuE3rZJE+reXEE7OYIItCAs4bauw/OkISFFNS0Wd6Y7pA\nzpgG3MhC3fBOd4JmTP3CDPHAcv5z4/qaUhle2oqxtdD7HSSR1/INas0Y7hvCQNty\n59B/KdYZT5c2dujP3w2tzACpvSsUyz2vFSyHwq/EAYf53jqBra/Vt3voxQkb4akr\nxTbAhAZ5crsbYezhVXRBrqaonBd7FpYs30vHsO+y2DA30tOgygktXDD0pKwnO3/E\n2nZMyhYB\n=FBWT\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e329fa84f669c79396c20c00b27cc2aa2d2d6aa9",
          "sha": "e329fa84f669c79396c20c00b27cc2aa2d2d6aa9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e329fa84f669c79396c20c00b27cc2aa2d2d6aa9"
        }
      ],
      "message": "miniscript: have a custom Node destructor\n\nTo avoid recursive calls in shared_ptr's destructor that could lead to a\nstack overflow.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-29T07:48:16Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-03-16T09:03:45Z"
      },
      "sha": "619330f818a20d52f2a4ebc576be76488588d09c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY0NWNiNDg5MDI5YWJmYjBmODJlYmNlZDE2N2Q5YjU4MzM5NjBmMjI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f45cb489029abfb0f82ebced167d9b5833960f22",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f45cb489029abfb0f82ebced167d9b5833960f22",
      "tree": {
        "sha": "ade57d46f50cf57e9bd9c8f59c774f9f8dc53d02",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ade57d46f50cf57e9bd9c8f59c774f9f8dc53d02"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ade57d46f50cf57e9bd9c8f59c774f9f8dc53d02\nparent 619330f818a20d52f2a4ebc576be76488588d09c\nauthor Antoine Poinsot <darosior@protonmail.com> 1695713496 +0200\ncommitter Antoine Poinsot <darosior@protonmail.com> 1695973696 +0200\n\nqa: bound testing for TapMiniscript\n\nMake sure we can spend a maximum-sized Miniscript under Tapscript\ncontext.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEWQtykmla/6W2csuy4T/BRc0/QwQFAmUWgUAACgkQ4T/BRc0/\nQwSkrQwAs0qyxRlexIq+1a5HPBju2cbHStWxfP9S401yZuNKhDvoXj4qm7XzrNaT\nwYoCbJh53fTA8RGDQN4xEmY5aeTceqJDMIgjYcclwu70dgfBWlwYwTnvUZoQh1Yv\nMOvGEQ4zND92TM+PTnwN8vygIApSB/IZmerhU8RpcGe1lzV2RIoNqAsXpSdwMZxy\nELrRtfEWwI4WfeqvgZul8CvbIG8M2/M7U0WxB/kDOpUfzx1lxhhLNH1ys0vWkYgq\nzOEjBHc4icYOX3JzrEDcEUC5wLc3v7vtj2NqrMeVYFizzuBsUFNfEHO4s4DMUWiQ\n2Qax5m7t/OdtvKBH19AYRtz+GAIwsOiG+T64EMUQ8vZhgsTnl5Xg4U6JPNv5eoGW\nRag075DBLHZtSvlcFK18d69fpdx1U6a/IogXz/qxZzKatXBIt0003oBmC4/InuwC\naP/tC6xv4iNfd3uJiNoQOpfXqXhOEepkb7RWnfYdU6oMpFWbYeb2fn1PyENQ9eJ7\newGLCUrd\n=uOfi\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/619330f818a20d52f2a4ebc576be76488588d09c",
          "sha": "619330f818a20d52f2a4ebc576be76488588d09c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/619330f818a20d52f2a4ebc576be76488588d09c"
        }
      ],
      "message": "qa: bound testing for TapMiniscript\n\nMake sure we can spend a maximum-sized Miniscript under Tapscript\ncontext.",
      "committer": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-29T07:48:16Z"
      },
      "author": {
        "name": "Antoine Poinsot",
        "email": "darosior@protonmail.com",
        "date": "2023-09-26T07:31:36Z"
      },
      "sha": "f45cb489029abfb0f82ebced167d9b5833960f22"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10508098404,
      "node_id": "HRFPE_lADOABII585gwrw2zwAAAAJyVNtk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10508098404",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T07:51:53Z"
    },
    {
      "event": "commented",
      "id": 1740795955,
      "node_id": "IC_kwDOABII585nwnAz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1740795955",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T12:16:28Z",
      "updated_at": "2023-09-29T12:16:28Z",
      "author_association": "MEMBER",
      "body": "I've now made the script context a member of the `Node` structure. The recent change to directly pass the `MiniscriptContext` instead of the whole `Ctx` when appropriate already went halfway down this road. This makes more sense (why should you have to pass the script context to `IsValid()` if you already passed it when constructing the `Node`?) and reduces the diff a little bit.\r\n\r\nh/t @achow101 for the suggestion.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1740795955",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "mentioned",
      "id": 10510777005,
      "node_id": "MEE_lADOABII585gwrw2zwAAAAJyfbqt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10510777005",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T12:16:29Z"
    },
    {
      "event": "subscribed",
      "id": 10510777023,
      "node_id": "SE_lADOABII585gwrw2zwAAAAJyfbq_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10510777023",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T12:16:29Z"
    },
    {
      "event": "commented",
      "id": 1741276032,
      "node_id": "IC_kwDOABII585nycOA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1741276032",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T17:47:01Z",
      "updated_at": "2023-09-29T17:47:01Z",
      "author_association": "MEMBER",
      "body": "ACK f45cb489029abfb0f82ebced167d9b5833960f22",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1741276032",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "review_requested",
      "id": 10514004620,
      "node_id": "RRE_lADOABII585gwrw2zwAAAAJyrvqM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10514004620",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T17:48:36Z",
      "requested_reviewer": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "milestoned",
      "id": 10514487604,
      "node_id": "MIE_lADOABII585gwrw2zwAAAAJytlk0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10514487604",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T18:55:44Z",
      "milestone": {
        "title": "26.0"
      }
    },
    {
      "event": "review_requested",
      "id": 10517102904,
      "node_id": "RRE_lADOABII585gwrw2zwAAAAJy3kE4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10517102904",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-30T10:24:48Z",
      "requested_reviewer": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1741735041,
      "node_id": "IC_kwDOABII585n0MSB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1741735041",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-30T10:25:56Z",
      "updated_at": "2023-09-30T10:25:56Z",
      "author_association": "MEMBER",
      "body": "@scgbckbone want to take another look here?",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1741735041",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "mentioned",
      "id": 10517104352,
      "node_id": "MEE_lADOABII585gwrw2zwAAAAJy3kbg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10517104352",
      "actor": {
        "login": "scgbckbone",
        "id": 25349625,
        "node_id": "MDQ6VXNlcjI1MzQ5NjI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/25349625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scgbckbone",
        "html_url": "https://github.com/scgbckbone",
        "followers_url": "https://api.github.com/users/scgbckbone/followers",
        "following_url": "https://api.github.com/users/scgbckbone/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/scgbckbone/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/scgbckbone/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/scgbckbone/subscriptions",
        "organizations_url": "https://api.github.com/users/scgbckbone/orgs",
        "repos_url": "https://api.github.com/users/scgbckbone/repos",
        "events_url": "https://api.github.com/users/scgbckbone/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/scgbckbone/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-30T10:25:57Z"
    },
    {
      "event": "subscribed",
      "id": 10517104355,
      "node_id": "SE_lADOABII585gwrw2zwAAAAJy3kbj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10517104355",
      "actor": {
        "login": "scgbckbone",
        "id": 25349625,
        "node_id": "MDQ6VXNlcjI1MzQ5NjI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/25349625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scgbckbone",
        "html_url": "https://github.com/scgbckbone",
        "followers_url": "https://api.github.com/users/scgbckbone/followers",
        "following_url": "https://api.github.com/users/scgbckbone/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/scgbckbone/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/scgbckbone/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/scgbckbone/subscriptions",
        "organizations_url": "https://api.github.com/users/scgbckbone/orgs",
        "repos_url": "https://api.github.com/users/scgbckbone/repos",
        "events_url": "https://api.github.com/users/scgbckbone/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/scgbckbone/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-30T10:25:57Z"
    },
    {
      "event": "review_request_removed",
      "id": 10517104417,
      "node_id": "RRRE_lADOABII585gwrw2zwAAAAJy3kch",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10517104417",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-30T10:26:00Z",
      "requested_reviewer": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 10526028971,
      "node_id": "RRE_lADOABII585gwrw2zwAAAAJzZnSr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10526028971",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-02T13:20:38Z",
      "requested_reviewer": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1743258096,
      "node_id": "IC_kwDOABII585n6AHw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1743258096",
      "actor": {
        "login": "scgbckbone",
        "id": 25349625,
        "node_id": "MDQ6VXNlcjI1MzQ5NjI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/25349625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scgbckbone",
        "html_url": "https://github.com/scgbckbone",
        "followers_url": "https://api.github.com/users/scgbckbone/followers",
        "following_url": "https://api.github.com/users/scgbckbone/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/scgbckbone/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/scgbckbone/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/scgbckbone/subscriptions",
        "organizations_url": "https://api.github.com/users/scgbckbone/orgs",
        "repos_url": "https://api.github.com/users/scgbckbone/repos",
        "events_url": "https://api.github.com/users/scgbckbone/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/scgbckbone/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-02T15:41:48Z",
      "updated_at": "2023-10-02T15:41:48Z",
      "author_association": "NONE",
      "body": "ACK https://github.com/bitcoin/bitcoin/pull/27255/commits/f45cb489029abfb0f82ebced167d9b5833960f22",
      "user": {
        "login": "scgbckbone",
        "id": 25349625,
        "node_id": "MDQ6VXNlcjI1MzQ5NjI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/25349625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/scgbckbone",
        "html_url": "https://github.com/scgbckbone",
        "followers_url": "https://api.github.com/users/scgbckbone/followers",
        "following_url": "https://api.github.com/users/scgbckbone/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/scgbckbone/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/scgbckbone/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/scgbckbone/subscriptions",
        "organizations_url": "https://api.github.com/users/scgbckbone/orgs",
        "repos_url": "https://api.github.com/users/scgbckbone/repos",
        "events_url": "https://api.github.com/users/scgbckbone/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/scgbckbone/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1743258096",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "review_request_removed",
      "id": 10527689271,
      "node_id": "RRRE_lADOABII585gwrw2zwAAAAJzf8o3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10527689271",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-02T15:41:53Z",
      "requested_reviewer": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1744390972,
      "node_id": "IC_kwDOABII585n-Us8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1744390972",
      "actor": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T07:49:23Z",
      "updated_at": "2023-10-03T07:49:23Z",
      "author_association": "NONE",
      "body": "ACK f45cb489029abfb0f82ebced167d9b5833960f22",
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1744390972",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "commented",
      "id": 1744416873,
      "node_id": "IC_kwDOABII585n-bBp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1744416873",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T08:03:47Z",
      "updated_at": "2023-10-03T08:03:47Z",
      "author_association": "MEMBER",
      "body": "Thanks everyone for your reviews! Just as this is piling up ACKs i'd like to explicit that i believe this needs a review from @sipa before it can be merged.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1744416873",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27255"
    },
    {
      "event": "mentioned",
      "id": 10534717112,
      "node_id": "MEE_lADOABII585gwrw2zwAAAAJz6wa4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10534717112",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T08:03:47Z"
    },
    {
      "event": "subscribed",
      "id": 10534717126,
      "node_id": "SE_lADOABII585gwrw2zwAAAAJz6wbG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10534717126",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T08:03:47Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-04T14:38:48Z",
      "updated_at": "2023-10-04T14:38:48Z",
      "source": {
        "issue": {
          "id": 1925992778,
          "node_id": "PR_kwDOABII585b45AF",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28583",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28583/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28583/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28583/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28583",
          "number": 28583,
          "state": "open",
          "state_reason": null,
          "title": "refactor: [tidy] modernize-use-emplace",
          "body": "Constructing a temporary unnamed object only to copy or move it into a container seems both verbose in code and a strict performance penalty.\r\n\r\nFix both issues via the `modernize-use-emplace` tidy check.",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28583",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28583",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28583.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28583.patch"
          },
          "created_at": "2023-10-04T11:22:15Z",
          "updated_at": "2023-10-04T14:38:47Z"
        },
        "type": "issue"
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1136724397",
      "pull_request_review_id": 1340932665,
      "id": 1136724397,
      "node_id": "PRRC_kwDOABII585DwQmt",
      "diff_hunk": "@@ -1901,7 +2136,38 @@ inline NodeRef<Key> DecodeScript(I& in, I last, const Ctx& ctx)\n                 if (!k || *k < 1 || *k > *n) return {};\n                 in += 3 + *n;\n                 std::reverse(keys.begin(), keys.end());\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::MULTI, std::move(keys), *k));\n+                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, ctx, Fragment::MULTI, std::move(keys), *k));\n+                break;\n+            }\n+            // Tapscript's multi",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 965,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "33f28a8d472a2869d37e40f5f9d7efd7f88bcc89",
      "in_reply_to_id": null,
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Perhaps `multi_a` for consistency, since `multi` is a valid fragment elsewhere?\r\nOr `Tapscript multisig` if you want to explicitly _not_ refer to the fragment.",
      "created_at": "2023-03-15T08:57:45Z",
      "updated_at": "2023-03-15T08:57:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1136724397",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1136724397"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2142,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137201661",
      "pull_request_review_id": 1341664972,
      "id": 1137201661,
      "node_id": "PRRC_kwDOABII585DyFH9",
      "diff_hunk": "@@ -1188,23 +1188,28 @@ struct Node {\n     //! Return the number of ops in the script (not counting the dynamic ones that depend on execution).\n     uint32_t GetStaticOps() const { return ops.count; }\n \n-    //! Check the ops limit of this script against the consensus limit.\n-    bool CheckOpsLimit() const { return GetOps() <= MAX_OPS_PER_SCRIPT; }\n+    //! Check the ops limit of this script against the consensus limit. This limit is only present for P2WSH.\n+    template <typename Ctx> bool CheckOpsLimit(const Ctx& ctx) const {\n+        return ctx.MsContext() == MiniscriptContext::TAPSCRIPT || GetOps() <= MAX_OPS_PER_SCRIPT;\n+    }",
      "path": "src/script/miniscript.h",
      "position": 472,
      "original_position": 9,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "62d31e6c7bc190602b0a89a1ff330a2bf6aefbf3",
      "in_reply_to_id": null,
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It might be worth explicitly enumerating both the known contexts, and have a defensive final  `assert(false);`.\r\nSimilarly for other places where the context is accessed).",
      "created_at": "2023-03-15T14:42:41Z",
      "updated_at": "2023-03-15T14:42:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1137201661",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137201661"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1430,
      "original_line": 1430,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137224005",
      "pull_request_review_id": 1341692112,
      "id": 1137224005,
      "node_id": "PRRC_kwDOABII585DyKlF",
      "diff_hunk": "@@ -1188,23 +1188,28 @@ struct Node {\n     //! Return the number of ops in the script (not counting the dynamic ones that depend on execution).\n     uint32_t GetStaticOps() const { return ops.count; }\n \n-    //! Check the ops limit of this script against the consensus limit.\n-    bool CheckOpsLimit() const { return GetOps() <= MAX_OPS_PER_SCRIPT; }\n+    //! Check the ops limit of this script against the consensus limit. This limit is only present for P2WSH.\n+    template <typename Ctx> bool CheckOpsLimit(const Ctx& ctx) const {\n+        return ctx.MsContext() == MiniscriptContext::TAPSCRIPT || GetOps() <= MAX_OPS_PER_SCRIPT;\n+    }",
      "path": "src/script/miniscript.h",
      "position": 472,
      "original_position": 9,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "62d31e6c7bc190602b0a89a1ff330a2bf6aefbf3",
      "in_reply_to_id": 1137201661,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I could have a `IsTapscript(ctx)` helper that does that next to the `MiniscriptContext` enum. It could then be used in all those places to not have to duplicate the verbose `switch () ... assert(false)`.",
      "created_at": "2023-03-15T14:55:02Z",
      "updated_at": "2023-03-15T14:55:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1137224005",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137224005"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1430,
      "original_line": 1430,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137247463",
      "pull_request_review_id": 1341720788,
      "id": 1137247463,
      "node_id": "PRRC_kwDOABII585DyQTn",
      "diff_hunk": "@@ -1139,24 +1314,37 @@ struct Node {\n     //! Return the number of ops in the script (not counting the dynamic ones that depend on execution).\n     uint32_t GetStaticOps() const { return ops.count; }\n \n-    //! Check the ops limit of this script against the consensus limit.\n-    bool CheckOpsLimit() const { return GetOps() <= MAX_OPS_PER_SCRIPT; }\n+    //! Check the ops limit of this script against the consensus limit. This limit is only present for P2WSH.\n+    template <typename Ctx> bool CheckOpsLimit(const Ctx& ctx) const {\n+        return ctx.MsContext() == MiniscriptContext::TAPSCRIPT || GetOps() <= MAX_OPS_PER_SCRIPT;\n+    }\n+\n+    //! Return the maximum number of stack elements needed to satisfy this script non-malleably.\n+    uint32_t GetStackSize() const { return ss.sat.size.value; }\n \n-    /** Return the maximum number of stack elements needed to satisfy this script non-malleably, including\n-     * the script push. */\n-    uint32_t GetStackSize() const { return ss.sat.value + 1; }\n+    //! Return the maximum size of the stack during execution of this script.\n+    uint32_t GetExecStackSize() const {\n+        return ss.sat.size.value + (uint32_t)std::max(ss.sat.exec.value, 0);\n+    }\n \n-    //! Check the maximum stack size for this script against the policy limit.\n-    bool CheckStackSize() const { return GetStackSize() - 1 <= MAX_STANDARD_P2WSH_STACK_ITEMS; }\n+    //! Check the maximum stack size for this script against the limits.\n+    template <typename Ctx> bool CheckStackSize(const Ctx& ctx) const {\n+        if (ctx.MsContext() == MiniscriptContext::P2WSH && GetStackSize() > MAX_STANDARD_P2WSH_STACK_ITEMS) {\n+            return false;\n+        }",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 426,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "33f28a8d472a2869d37e40f5f9d7efd7f88bcc89",
      "in_reply_to_id": null,
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why not this?\r\n```C++\r\n        if (ctx.MsContext() == MiniscriptContext::P2WSH) {\r\n            return GetStackSize() <= MAX_STANDARD_P2WSH_STACK_ITEMS;\r\n        }\r\n```\r\nOtherwise, it seems to add the other condition for the `P2WSH` context as well.",
      "created_at": "2023-03-15T15:08:07Z",
      "updated_at": "2023-03-15T15:08:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1137247463",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137247463"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1334,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137259200",
      "pull_request_review_id": 1341735215,
      "id": 1137259200,
      "node_id": "PRRC_kwDOABII585DyTLA",
      "diff_hunk": "@@ -536,10 +537,10 @@ BOOST_AUTO_TEST_CASE(descriptor_test)\n \n     // Invalid checksum\n     CheckUnparsable(\"wsh(and_v(vc:andor(pk(L4gM1FBdyHNpkzsFh9ipnofLhpZRp2mwobpeULy1a6dBTvw8Ywtd),pk_k(Kx9HCDjGiwFcgVNhTrS5z5NeZdD6veeam61eDxLDCkGWujvL4Gnn),and_v(v:older(1),pk_k(L4o2kDvXXDRH2VS9uBnouScLduWt4dZnM25se7kvEjJeQ285en2A))),after(10)))#abcdef12\", \"wsh(and_v(vc:andor(pk(03cdabb7f2dce7bfbd8a0b9570c6fd1e712e5d64045e9d6b517b3d5072251dc204),pk_k(032707170c71d8f75e4ca4e3fce870b9409dcaf12b051d3bcadff74747fa7619c0),and_v(v:older(1),pk_k(02aa27e5eb2c185e87cd1dbc3e0efc9cb1175235e0259df1713424941c3cb40402))),after(10)))#abcdef12\", \"Provided checksum 'abcdef12' does not match computed checksum 'tyzp6a7p'\");\n-    // Only p2wsh context is valid\n-    CheckUnparsable(\"sh(and_v(vc:andor(pk(L4gM1FBdyHNpkzsFh9ipnofLhpZRp2mwobpeULy1a6dBTvw8Ywtd),pk_k(Kx9HCDjGiwFcgVNhTrS5z5NeZdD6veeam61eDxLDCkGWujvL4Gnn),and_v(v:older(1),pk_k(L4o2kDvXXDRH2VS9uBnouScLduWt4dZnM25se7kvEjJeQ285en2A))),after(10)))\", \"sh(and_v(vc:andor(pk(03cdabb7f2dce7bfbd8a0b9570c6fd1e712e5d64045e9d6b517b3d5072251dc204),pk_k(032707170c71d8f75e4ca4e3fce870b9409dcaf12b051d3bcadff74747fa7619c0),and_v(v:older(1),pk_k(02aa27e5eb2c185e87cd1dbc3e0efc9cb1175235e0259df1713424941c3cb40402))),after(10)))\", \"Miniscript expressions can only be used in wsh\");\n+    // Only p2wsh or tr context are valid",
      "path": "src/test/descriptor_tests.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "33f28a8d472a2869d37e40f5f9d7efd7f88bcc89",
      "in_reply_to_id": null,
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Typo: \"contexts\"",
      "created_at": "2023-03-15T15:14:54Z",
      "updated_at": "2023-03-15T15:14:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1137259200",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137259200"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 540,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137280634",
      "pull_request_review_id": 1341762826,
      "id": 1137280634,
      "node_id": "PRRC_kwDOABII585DyYZ6",
      "diff_hunk": "@@ -1017,7 +1148,7 @@ void TestNode(const NodeRef& node, FuzzedDataProvider& provider)\n             assert(it != TEST_DATA.dummy_sigs.end());\n             return it->second.second;\n         }\n-        case Fragment::MULTI: {\n+        case Fragment::MULTI: case Fragment::MULTI_A: {",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": null,
      "original_position": 480,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "33f28a8d472a2869d37e40f5f9d7efd7f88bcc89",
      "in_reply_to_id": null,
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: missing a newline",
      "created_at": "2023-03-15T15:20:51Z",
      "updated_at": "2023-03-15T15:20:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1137280634",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137280634"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1151,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137296790",
      "pull_request_review_id": 1341784989,
      "id": 1137296790,
      "node_id": "PRRC_kwDOABII585DycWW",
      "diff_hunk": "@@ -316,11 +316,22 @@ struct MaxInt {\n         return a.value + b.value;\n     }\n \n+    friend MaxInt<I> operator-(const MaxInt<I>& a, const I& b) {\n+        if (!a.valid) return {};\n+        return a.value - b;",
      "path": "src/script/miniscript.h",
      "position": 65,
      "original_position": 6,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "157c4a047b573dfac775f25c970e1f1762fe8f7b",
      "in_reply_to_id": null,
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I suppose it never happens, but worth checking that `a.value >= b`?\r\nEspecially since it could be used with unsigned types.",
      "created_at": "2023-03-15T15:25:05Z",
      "updated_at": "2023-03-15T15:25:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1137296790",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137296790"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 331,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1138537375",
      "pull_request_review_id": 1343600247,
      "id": 1138537375,
      "node_id": "PRRC_kwDOABII585D3LOf",
      "diff_hunk": "@@ -1139,24 +1314,37 @@ struct Node {\n     //! Return the number of ops in the script (not counting the dynamic ones that depend on execution).\n     uint32_t GetStaticOps() const { return ops.count; }\n \n-    //! Check the ops limit of this script against the consensus limit.\n-    bool CheckOpsLimit() const { return GetOps() <= MAX_OPS_PER_SCRIPT; }\n+    //! Check the ops limit of this script against the consensus limit. This limit is only present for P2WSH.\n+    template <typename Ctx> bool CheckOpsLimit(const Ctx& ctx) const {\n+        return ctx.MsContext() == MiniscriptContext::TAPSCRIPT || GetOps() <= MAX_OPS_PER_SCRIPT;\n+    }\n+\n+    //! Return the maximum number of stack elements needed to satisfy this script non-malleably.\n+    uint32_t GetStackSize() const { return ss.sat.size.value; }\n \n-    /** Return the maximum number of stack elements needed to satisfy this script non-malleably, including\n-     * the script push. */\n-    uint32_t GetStackSize() const { return ss.sat.value + 1; }\n+    //! Return the maximum size of the stack during execution of this script.\n+    uint32_t GetExecStackSize() const {\n+        return ss.sat.size.value + (uint32_t)std::max(ss.sat.exec.value, 0);\n+    }\n \n-    //! Check the maximum stack size for this script against the policy limit.\n-    bool CheckStackSize() const { return GetStackSize() - 1 <= MAX_STANDARD_P2WSH_STACK_ITEMS; }\n+    //! Check the maximum stack size for this script against the limits.\n+    template <typename Ctx> bool CheckStackSize(const Ctx& ctx) const {\n+        if (ctx.MsContext() == MiniscriptContext::P2WSH && GetStackSize() > MAX_STANDARD_P2WSH_STACK_ITEMS) {\n+            return false;\n+        }",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 426,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "33f28a8d472a2869d37e40f5f9d7efd7f88bcc89",
      "in_reply_to_id": 1137247463,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, it didn't matter since the computation is trivial and the bounds more loose for Tapscript anyways. But your suggestion is clearer indeed, taken, thanks.",
      "created_at": "2023-03-16T11:57:43Z",
      "updated_at": "2023-03-16T11:57:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1138537375",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1138537375"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1334,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1138538592",
      "pull_request_review_id": 1343601973,
      "id": 1138538592,
      "node_id": "PRRC_kwDOABII585D3Lhg",
      "diff_hunk": "@@ -536,10 +537,10 @@ BOOST_AUTO_TEST_CASE(descriptor_test)\n \n     // Invalid checksum\n     CheckUnparsable(\"wsh(and_v(vc:andor(pk(L4gM1FBdyHNpkzsFh9ipnofLhpZRp2mwobpeULy1a6dBTvw8Ywtd),pk_k(Kx9HCDjGiwFcgVNhTrS5z5NeZdD6veeam61eDxLDCkGWujvL4Gnn),and_v(v:older(1),pk_k(L4o2kDvXXDRH2VS9uBnouScLduWt4dZnM25se7kvEjJeQ285en2A))),after(10)))#abcdef12\", \"wsh(and_v(vc:andor(pk(03cdabb7f2dce7bfbd8a0b9570c6fd1e712e5d64045e9d6b517b3d5072251dc204),pk_k(032707170c71d8f75e4ca4e3fce870b9409dcaf12b051d3bcadff74747fa7619c0),and_v(v:older(1),pk_k(02aa27e5eb2c185e87cd1dbc3e0efc9cb1175235e0259df1713424941c3cb40402))),after(10)))#abcdef12\", \"Provided checksum 'abcdef12' does not match computed checksum 'tyzp6a7p'\");\n-    // Only p2wsh context is valid\n-    CheckUnparsable(\"sh(and_v(vc:andor(pk(L4gM1FBdyHNpkzsFh9ipnofLhpZRp2mwobpeULy1a6dBTvw8Ywtd),pk_k(Kx9HCDjGiwFcgVNhTrS5z5NeZdD6veeam61eDxLDCkGWujvL4Gnn),and_v(v:older(1),pk_k(L4o2kDvXXDRH2VS9uBnouScLduWt4dZnM25se7kvEjJeQ285en2A))),after(10)))\", \"sh(and_v(vc:andor(pk(03cdabb7f2dce7bfbd8a0b9570c6fd1e712e5d64045e9d6b517b3d5072251dc204),pk_k(032707170c71d8f75e4ca4e3fce870b9409dcaf12b051d3bcadff74747fa7619c0),and_v(v:older(1),pk_k(02aa27e5eb2c185e87cd1dbc3e0efc9cb1175235e0259df1713424941c3cb40402))),after(10)))\", \"Miniscript expressions can only be used in wsh\");\n+    // Only p2wsh or tr context are valid",
      "path": "src/test/descriptor_tests.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "33f28a8d472a2869d37e40f5f9d7efd7f88bcc89",
      "in_reply_to_id": 1137259200,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Meh. Done.",
      "created_at": "2023-03-16T11:58:49Z",
      "updated_at": "2023-03-16T11:58:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1138538592",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1138538592"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 540,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1138541531",
      "pull_request_review_id": 1343605518,
      "id": 1138541531,
      "node_id": "PRRC_kwDOABII585D3MPb",
      "diff_hunk": "@@ -1017,7 +1148,7 @@ void TestNode(const NodeRef& node, FuzzedDataProvider& provider)\n             assert(it != TEST_DATA.dummy_sigs.end());\n             return it->second.second;\n         }\n-        case Fragment::MULTI: {\n+        case Fragment::MULTI: case Fragment::MULTI_A: {",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": null,
      "original_position": 480,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "33f28a8d472a2869d37e40f5f9d7efd7f88bcc89",
      "in_reply_to_id": 1137280634,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm i thought i was following the style used elsewhere, but i must have dreamed it. Done.",
      "created_at": "2023-03-16T12:01:05Z",
      "updated_at": "2023-03-16T12:01:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1138541531",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1138541531"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1151,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1138548620",
      "pull_request_review_id": 1343614719,
      "id": 1138548620,
      "node_id": "PRRC_kwDOABII585D3N-M",
      "diff_hunk": "@@ -316,11 +316,22 @@ struct MaxInt {\n         return a.value + b.value;\n     }\n \n+    friend MaxInt<I> operator-(const MaxInt<I>& a, const I& b) {\n+        if (!a.valid) return {};\n+        return a.value - b;",
      "path": "src/script/miniscript.h",
      "position": 65,
      "original_position": 6,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "157c4a047b573dfac775f25c970e1f1762fe8f7b",
      "in_reply_to_id": 1137296790,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm that's a good point re unsigned type, but it needs to be able to return negative values. So i guess it's up to the caller to make sure they don't call this with `b > a` if `a` is unsigned, as with regular substractions?",
      "created_at": "2023-03-16T12:06:40Z",
      "updated_at": "2023-03-16T12:06:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1138548620",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1138548620"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 331,
      "original_line": 331,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1138892649",
      "pull_request_review_id": 1344105798,
      "id": 1138892649,
      "node_id": "PRRC_kwDOABII585D4h9p",
      "diff_hunk": "@@ -1188,23 +1188,28 @@ struct Node {\n     //! Return the number of ops in the script (not counting the dynamic ones that depend on execution).\n     uint32_t GetStaticOps() const { return ops.count; }\n \n-    //! Check the ops limit of this script against the consensus limit.\n-    bool CheckOpsLimit() const { return GetOps() <= MAX_OPS_PER_SCRIPT; }\n+    //! Check the ops limit of this script against the consensus limit. This limit is only present for P2WSH.\n+    template <typename Ctx> bool CheckOpsLimit(const Ctx& ctx) const {\n+        return ctx.MsContext() == MiniscriptContext::TAPSCRIPT || GetOps() <= MAX_OPS_PER_SCRIPT;\n+    }",
      "path": "src/script/miniscript.h",
      "position": 472,
      "original_position": 9,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "62d31e6c7bc190602b0a89a1ff330a2bf6aefbf3",
      "in_reply_to_id": 1137201661,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Alright, finally applied the change to the many occurrences in each commit. It should also be more readable now.",
      "created_at": "2023-03-16T15:33:33Z",
      "updated_at": "2023-03-16T15:33:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1138892649",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1138892649"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1430,
      "original_line": 1430,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160599451",
      "pull_request_review_id": 1376054310,
      "id": 1160599451,
      "node_id": "PRRC_kwDOABII585FLVeb",
      "diff_hunk": "@@ -1502,7 +1524,7 @@ std::unique_ptr<DescriptorImpl> ParseScript(uint32_t& key_exp_index, Span<const\n     }\n     // Process miniscript expressions.\n     {\n-        KeyParser parser(&out, nullptr);\n+        KeyParser parser(/*out = */&out, /* in = */nullptr, /* ctx = */miniscript::MiniscriptContext::P2WSH);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 100,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "ef0eb7f87d19bd8a3ebff4f095d321964808df73",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        KeyParser parser(/*out =*/&out, /*in=*/nullptr, /*ctx=*/miniscript::MiniscriptContext::P2WSH);\r\n```",
      "created_at": "2023-04-07T10:04:12Z",
      "updated_at": "2023-04-07T10:54:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1160599451",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160599451"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1527,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160600034",
      "pull_request_review_id": 1376054310,
      "id": 1160600034,
      "node_id": "PRRC_kwDOABII585FLVni",
      "diff_hunk": "@@ -1670,7 +1692,7 @@ std::unique_ptr<DescriptorImpl> InferScript(const CScript& script, ParseScriptCo\n     }\n \n     if (ctx == ParseScriptContext::P2WSH) {\n-        KeyParser parser(nullptr, &provider);\n+        KeyParser parser(/* out = */nullptr, /* in = */&provider, /* ctx = */miniscript::MiniscriptContext::P2WSH);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 109,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "ef0eb7f87d19bd8a3ebff4f095d321964808df73",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        KeyParser parser(/*out=*/nullptr, /*in=*/&provider, /*ctx=*/miniscript::MiniscriptContext::P2WSH);",
      "created_at": "2023-04-07T10:05:19Z",
      "updated_at": "2023-04-07T10:54:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1160600034",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160600034"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1695,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160606636",
      "pull_request_review_id": 1376054310,
      "id": 1160606636,
      "node_id": "PRRC_kwDOABII585FLXOs",
      "diff_hunk": "@@ -11,6 +11,16 @@\n #include <assert.h>\n \n namespace miniscript {\n+\n+bool IsTapscript(MiniscriptContext ms_ctx)\n+{\n+    switch (ms_ctx) {\n+        case MiniscriptContext::P2WSH: return false;\n+        case MiniscriptContext::TAPSCRIPT: return true;\n+    }\n+    assert(false);",
      "path": "src/script/miniscript.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "iirc, `assert` crashes the node. wouldn't it be better to use the `Assume` macro?",
      "created_at": "2023-04-07T10:17:46Z",
      "updated_at": "2023-04-07T10:54:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1160606636",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160606636"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 20,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160606743",
      "pull_request_review_id": 1376054310,
      "id": 1160606743,
      "node_id": "PRRC_kwDOABII585FLXQX",
      "diff_hunk": "@@ -605,6 +608,7 @@ struct Node {\n                 case Fragment::OR_I: return BuildScript(OP_IF, subs[0], OP_ELSE, subs[1], OP_ENDIF);\n                 case Fragment::ANDOR: return BuildScript(std::move(subs[0]), OP_NOTIF, subs[2], OP_ELSE, subs[1], OP_ENDIF);\n                 case Fragment::MULTI: {\n+                    assert(!IsTapscript(ctx.MsContext()));",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 14,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "same comment as above re: `assert`",
      "created_at": "2023-04-07T10:17:59Z",
      "updated_at": "2023-04-07T10:54:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1160606743",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160606743"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 611,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160606878",
      "pull_request_review_id": 1376054310,
      "id": 1160606878,
      "node_id": "PRRC_kwDOABII585FLXSe",
      "diff_hunk": "@@ -704,6 +708,7 @@ struct Node {\n                     if (node.subs[2]->fragment == Fragment::JUST_0) return std::move(ret) + \"and_n(\" + std::move(subs[0]) + \",\" + std::move(subs[1]) + \")\";\n                     return std::move(ret) + \"andor(\" + std::move(subs[0]) + \",\" + std::move(subs[1]) + \",\" + std::move(subs[2]) + \")\";\n                 case Fragment::MULTI: {\n+                    assert(!IsTapscript(ctx.MsContext()));",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 22,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "same comment as above re: `assert`",
      "created_at": "2023-04-07T10:18:15Z",
      "updated_at": "2023-04-07T10:54:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1160606878",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160606878"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 711,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160608237",
      "pull_request_review_id": 1376054310,
      "id": 1160608237,
      "node_id": "PRRC_kwDOABII585FLXnt",
      "diff_hunk": "@@ -1534,6 +1539,7 @@ inline NodeRef<Key> Parse(Span<const char> in, const Ctx& ctx)\n                 in = in.subspan(arg_size + 1);\n                 script_size += 1 + (num > 16) + (num > 0x7f) + (num > 0x7fff) + (num > 0x7fffff);\n             } else if (Const(\"multi(\", in)) {\n+                if (IsTapscript(ctx.MsContext())) return {};",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 30,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "probably out of scope for this PR, but it would be nice to have the parser tell you why it wasn't able to parse the script, rather than just return empty",
      "created_at": "2023-04-07T10:20:52Z",
      "updated_at": "2023-04-07T10:54:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1160608237",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160608237"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1542,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160609483",
      "pull_request_review_id": 1376054310,
      "id": 1160609483,
      "node_id": "PRRC_kwDOABII585FLX7L",
      "diff_hunk": "@@ -11,6 +11,16 @@\n #include <assert.h>\n ",
      "path": "src/script/miniscript.cpp",
      "position": 2,
      "original_position": 2,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "not a big deal, but I think it's more correct to say \"CHECKMULTISIG is disabled in Tapscript\" in the commit message",
      "created_at": "2023-04-07T10:23:16Z",
      "updated_at": "2023-04-07T10:54:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1160609483",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160609483"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 11,
      "original_line": 11,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160611768",
      "pull_request_review_id": 1376054310,
      "id": 1160611768,
      "node_id": "PRRC_kwDOABII585FLYe4",
      "diff_hunk": "@@ -1539,27 +1617,9 @@ inline NodeRef<Key> Parse(Span<const char> in, const Ctx& ctx)\n                 in = in.subspan(arg_size + 1);\n                 script_size += 1 + (num > 16) + (num > 0x7f) + (num > 0x7fff) + (num > 0x7fffff);\n             } else if (Const(\"multi(\", in)) {\n-                if (IsTapscript(ctx.MsContext())) return {};\n-                // Get threshold\n-                int next_comma = FindNextChar(in, ',');\n-                if (next_comma < 1) return {};\n-                if (!ParseInt64(std::string(in.begin(), in.begin() + next_comma), &k)) return {};\n-                in = in.subspan(next_comma + 1);\n-                // Get keys\n-                std::vector<Key> keys;\n-                while (next_comma != -1) {\n-                    next_comma = FindNextChar(in, ',');\n-                    int key_length = (next_comma == -1) ? FindNextChar(in, ')') : next_comma;\n-                    if (key_length < 1) return {};\n-                    auto key = ctx.FromString(in.begin(), in.begin() + key_length);\n-                    if (!key) return {};\n-                    keys.push_back(std::move(*key));\n-                    in = in.subspan(key_length + 1);\n-                }\n-                if (keys.size() < 1 || keys.size() > 20) return {};\n-                if (k < 1 || k > (int64_t)keys.size()) return {};\n-                script_size += 2 + (keys.size() > 16) + (k > 16) + 34 * keys.size();\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::MULTI, std::move(keys), k));\n+                if (!parse_multi_exp(in, /* is_multi_a = */false)) return {};",
      "path": "src/script/miniscript.h",
      "position": 816,
      "original_position": 172,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "c0ba8ebbf6369b37b645165bb5cd638fc7eee67f",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n                if (!parse_multi_exp(in, /*is_multi_a=*/false)) return {};\r\n```",
      "created_at": "2023-04-07T10:27:31Z",
      "updated_at": "2023-04-07T10:54:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1160611768",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160611768"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1910,
      "original_line": 1910,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160612094",
      "pull_request_review_id": 1376054310,
      "id": 1160612094,
      "node_id": "PRRC_kwDOABII585FLYj-",
      "diff_hunk": "@@ -1539,27 +1617,9 @@ inline NodeRef<Key> Parse(Span<const char> in, const Ctx& ctx)\n                 in = in.subspan(arg_size + 1);\n                 script_size += 1 + (num > 16) + (num > 0x7f) + (num > 0x7fff) + (num > 0x7fffff);\n             } else if (Const(\"multi(\", in)) {\n-                if (IsTapscript(ctx.MsContext())) return {};\n-                // Get threshold\n-                int next_comma = FindNextChar(in, ',');\n-                if (next_comma < 1) return {};\n-                if (!ParseInt64(std::string(in.begin(), in.begin() + next_comma), &k)) return {};\n-                in = in.subspan(next_comma + 1);\n-                // Get keys\n-                std::vector<Key> keys;\n-                while (next_comma != -1) {\n-                    next_comma = FindNextChar(in, ',');\n-                    int key_length = (next_comma == -1) ? FindNextChar(in, ')') : next_comma;\n-                    if (key_length < 1) return {};\n-                    auto key = ctx.FromString(in.begin(), in.begin() + key_length);\n-                    if (!key) return {};\n-                    keys.push_back(std::move(*key));\n-                    in = in.subspan(key_length + 1);\n-                }\n-                if (keys.size() < 1 || keys.size() > 20) return {};\n-                if (k < 1 || k > (int64_t)keys.size()) return {};\n-                script_size += 2 + (keys.size() > 16) + (k > 16) + 34 * keys.size();\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::MULTI, std::move(keys), k));\n+                if (!parse_multi_exp(in, /* is_multi_a = */false)) return {};\n+            } else if (Const(\"multi_a(\", in)) {\n+                if (!parse_multi_exp(in, /* is_multi_a = */true)) return {};",
      "path": "src/script/miniscript.h",
      "position": 818,
      "original_position": 174,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "c0ba8ebbf6369b37b645165bb5cd638fc7eee67f",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n                if (!parse_multi_exp(in, /*is_multi_a=*/true)) return {};\r\n```",
      "created_at": "2023-04-07T10:28:16Z",
      "updated_at": "2023-04-07T10:54:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1160612094",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160612094"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1912,
      "original_line": 1912,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160615879",
      "pull_request_review_id": 1376054310,
      "id": 1160615879,
      "node_id": "PRRC_kwDOABII585FLZfH",
      "diff_hunk": "@@ -833,51 +858,152 @@ struct Node {\n     }\n \n     internal::StackSize CalcStackSize() const {\n+        // Among non-malleable satisfactions and dissatisfactions, this computes for each fragment:\n+        // - The maximum witness stack size of this (dis)satisfaction;\n+        // - The maximum number of elements added or removed on the stack after executing it;\n+        // - The maximum number of elements added to the stack while executing it.\n         switch (fragment) {\n-            case Fragment::JUST_0: return {{}, 0};\n+            case Fragment::JUST_0: return {{}, {0, 1}};\n             case Fragment::JUST_1:\n             case Fragment::OLDER:\n-            case Fragment::AFTER: return {0, {}};\n-            case Fragment::PK_K: return {1, 1};\n-            case Fragment::PK_H: return {2, 2};\n+            case Fragment::AFTER: return {{0, 1}, {}};\n+            case Fragment::PK_K: return {{1, 1}, {1, 1}};\n+            case Fragment::PK_H: return {{2, 0, 2}, {2, 0, 2}};\n             case Fragment::SHA256:\n             case Fragment::RIPEMD160:\n             case Fragment::HASH256:\n-            case Fragment::HASH160: return {1, {}};\n+            case Fragment::HASH160: return {{1, 0, 2}, {}};\n             case Fragment::ANDOR: {\n-                const auto sat{(subs[0]->ss.sat + subs[1]->ss.sat) | (subs[0]->ss.dsat + subs[2]->ss.sat)};\n-                const auto dsat{subs[0]->ss.dsat + subs[2]->ss.dsat};\n-                return {sat, dsat};\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto& z{subs[2]->ss};\n+                const auto sat_size{(x.sat.size + y.sat.size) | (x.dsat.size + z.sat.size)};\n+                const auto dsat_size{x.dsat.size + z.dsat.size};\n+                const auto sat_diff{((x.sat.diff + y.sat.diff) | (x.dsat.diff + z.sat.diff)) - 1};\n+                const auto dsat_diff{x.dsat.diff - 1 + z.dsat.diff};\n+                const auto sat_exec{x.sat.exec | x.dsat.exec | (x.sat.diff - 1 + y.sat.exec) | (x.dsat.diff - 1 + z.sat.exec)};\n+                const auto dsat_exec{x.dsat.exec | (x.dsat.diff - 1 + z.dsat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {dsat_size, dsat_diff, dsat_exec}};\n+            }\n+            case Fragment::AND_V: {\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{x.sat.size + y.sat.size};\n+                const auto sat_diff{x.sat.diff + y.sat.diff};\n+                const auto sat_exec{x.sat.exec | (x.sat.diff + y.sat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {}};\n+            }\n+            case Fragment::AND_B: {\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{x.sat.size + y.sat.size};\n+                const auto dsat_size{x.dsat.size + y.dsat.size};\n+                const auto sat_diff{x.sat.diff + y.sat.diff - 1};\n+                const auto dsat_diff{x.dsat.diff + y.dsat.diff - 1};\n+                const auto sat_exec{x.sat.exec | (x.sat.diff + y.sat.exec)};\n+                const auto dsat_exec{x.dsat.exec | (x.dsat.diff + y.dsat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {dsat_size, dsat_diff, dsat_exec}};\n             }\n-            case Fragment::AND_V: return {subs[0]->ss.sat + subs[1]->ss.sat, {}};\n-            case Fragment::AND_B: return {subs[0]->ss.sat + subs[1]->ss.sat, subs[0]->ss.dsat + subs[1]->ss.dsat};\n             case Fragment::OR_B: {\n-                const auto sat{(subs[0]->ss.dsat + subs[1]->ss.sat) | (subs[0]->ss.sat + subs[1]->ss.dsat)};\n-                const auto dsat{subs[0]->ss.dsat + subs[1]->ss.dsat};\n-                return {sat, dsat};\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{(x.dsat.size + y.sat.size) | (x.sat.size + y.dsat.size)};\n+                const auto dsat_size{x.dsat.size + y.dsat.size};\n+                const auto sat_diff{((x.dsat.diff + y.sat.diff) | (x.sat.diff + y.dsat.diff)) - 1};\n+                const auto dsat_diff{x.dsat.diff + y.dsat.diff - 1};\n+                const auto sat_exec{x.sat.exec | x.dsat.exec | (x.dsat.diff + y.sat.exec) | (x.sat.diff + y.dsat.exec)};\n+                const auto dsat_exec{x.dsat.exec | (x.dsat.diff + y.dsat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {dsat_size, dsat_diff, dsat_exec}};\n+            }\n+            case Fragment::OR_C: {\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{x.sat.size | (x.dsat.size + y.sat.size)};\n+                const auto sat_diff{(x.sat.diff | (x.dsat.diff + y.sat.diff)) - 1};\n+                const auto sat_exec{x.sat.exec | x.dsat.exec | (x.dsat.diff - 1 + y.sat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {}};\n+            }\n+            case Fragment::OR_D: {\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{x.sat.size | (x.dsat.size + y.sat.size)};\n+                const auto dsat_size{x.dsat.size + y.dsat.size};\n+                const auto sat_diff{x.sat.diff | (x.dsat.diff - 1 + y.sat.diff)};\n+                const auto dsat_diff{x.dsat.diff - 1 + y.dsat.diff};\n+                const auto sat_exec{x.sat.exec | x.dsat.exec | (x.sat.diff + 1) | (x.dsat.diff + y.sat.exec)};\n+                const auto dsat_exec{x.dsat.exec | (x.dsat.diff - 1 + y.dsat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {dsat_size, dsat_diff, dsat_exec}};\n+            }\n+            case Fragment::OR_I: {\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{(x.sat.size + 1) | (y.sat.size + 1)};\n+                const auto dsat_size{(x.dsat.size + 1) | (y.dsat.size + 1)};\n+                const auto sat_diff{(x.sat.diff | y.sat.diff) - 1};\n+                const auto dsat_diff{(x.dsat.diff | y.dsat.diff) - 1};\n+                const auto sat_exec{(x.sat.exec | y.sat.exec) - 1};\n+                const auto dsat_exec{(x.dsat.exec | y.dsat.exec) - 1};\n+                return {{sat_size, sat_diff, sat_exec}, {dsat_size, dsat_diff, dsat_exec}};\n             }\n-            case Fragment::OR_C: return {subs[0]->ss.sat | (subs[0]->ss.dsat + subs[1]->ss.sat), {}};\n-            case Fragment::OR_D: return {subs[0]->ss.sat | (subs[0]->ss.dsat + subs[1]->ss.sat), subs[0]->ss.dsat + subs[1]->ss.dsat};\n-            case Fragment::OR_I: return {(subs[0]->ss.sat + 1) | (subs[1]->ss.sat + 1), (subs[0]->ss.dsat + 1) | (subs[1]->ss.dsat + 1)};\n-            case Fragment::MULTI: return {k + 1, k + 1};\n-            case Fragment::MULTI_A: return {keys.size(), keys.size()};\n+            case Fragment::MULTI: return {{(uint32_t)k + 1, -(int32_t)k, 2 + (int32_t)keys.size()}, {(uint32_t)k + 1, -(int32_t)k, 2 + (int32_t)keys.size()}};\n+            case Fragment::MULTI_A: return {{(uint32_t)keys.size(), -(int32_t)keys.size() + 1, 1}, {(uint32_t)keys.size(), -(int32_t)keys.size() + 1, 1}};\n             case Fragment::WRAP_A:\n             case Fragment::WRAP_N:\n-            case Fragment::WRAP_S:\n-            case Fragment::WRAP_C: return subs[0]->ss;\n-            case Fragment::WRAP_D: return {1 + subs[0]->ss.sat, 1};\n-            case Fragment::WRAP_V: return {subs[0]->ss.sat, {}};\n-            case Fragment::WRAP_J: return {subs[0]->ss.sat, 1};\n+            case Fragment::WRAP_S: return subs[0]->ss;\n+            case Fragment::WRAP_C: {\n+                const auto& sub_sat{subs[0]->ss.sat};\n+                const auto& sub_dsat{subs[0]->ss.dsat};\n+                return {{sub_sat.size, sub_sat.diff - 1, sub_sat.exec}, {sub_dsat.size, sub_dsat.diff - 1, sub_dsat.exec}};\n+            }\n+            case Fragment::WRAP_D: return {{1 + subs[0]->ss.sat.size, subs[0]->ss.sat.diff, subs[0]->ss.sat.exec | 1}, {1, 0, 1}};\n+            case Fragment::WRAP_V: return {{subs[0]->ss.sat.size, subs[0]->ss.sat.diff - 1, subs[0]->ss.sat.exec}, {}};\n+            case Fragment::WRAP_J: return {{subs[0]->ss.sat.size, subs[0]->ss.sat.diff, subs[0]->ss.sat.exec | 1}, {1, 0, subs[0]->ss.dsat.exec | 1}};\n             case Fragment::THRESH: {\n-                auto sats = Vector(internal::MaxInt<uint32_t>(0));\n-                for (const auto& sub : subs) {\n-                    auto next_sats = Vector(sats[0] + sub->ss.dsat);\n-                    for (size_t j = 1; j < sats.size(); ++j) next_sats.push_back((sats[j] + sub->ss.dsat) | (sats[j - 1] + sub->ss.sat));\n-                    next_sats.push_back(sats[sats.size() - 1] + sub->ss.sat);\n-                    sats = std::move(next_sats);\n+                // The maximum satisfaction witness stack size for this fragment, indexed by threshold.\n+                auto sats_size = Vector(internal::MaxInt<uint32_t>(0));\n+                // Same for the stack size differential after executing this fragment.\n+                auto sats_diff = Vector(internal::MaxInt<int32_t>(0));\n+                // The maximum stack size at any point during execution of this fragment (or any sub\n+                // fragment thereoff), indexed by threshold.\n+                auto sats_exec = Vector(internal::MaxInt<int32_t>(0));\n+                for (size_t i = 0; i < subs.size(); ++i) {\n+                    // Start with the (non-malleable) dissatisfaction size.\n+                    auto next_sats_size = Vector(sats_size[0] + subs[i]->ss.dsat.size);\n+                    // Whether to account for OP_ADD that drops one element from the stack (-2 + 1).\n+                    auto add_diff = (i > 0 && i < subs.size() - 1) ? -1 : 0;\n+                    // The total difference in stack size after dissatisfying the first i first fragments.\n+                    auto next_sats_diff = Vector(sats_diff[0] + subs[i]->ss.dsat.diff + add_diff);\n+                    // Does the stack size gets bigger when dissatifying this fragment than the previous ones?\n+                    auto next_sats_exec = Vector(sats_exec[0] | (sats_diff[0] + subs[i]->ss.dsat.exec));\n+                    // Update what combination of sat/dsat is the largest per threshold.\n+                    for (size_t j = 1; j < sats_size.size(); ++j) {\n+                        // Which is larger, k-1 satisfaction and satifying this sub, or k satisfaction and dissatisfying\n+                        // this one?\n+                        next_sats_size.push_back((sats_size[j] + subs[i]->ss.dsat.size) | (sats_size[j - 1] + subs[i]->ss.sat.size));\n+                        // Same for size of the stack after satisfying k of the past i fragments.\n+                        next_sats_diff.push_back((sats_diff[j] + subs[i]->ss.dsat.diff) | (sats_diff[j - 1] + subs[i]->ss.sat.diff) + add_diff);",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 212,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "efdd1543597aff49c56a1abaa75b574be3b330db",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"warning: suggest parentheses around arithmetic in operand of ‘|’ [-Wparentheses]\"\r\n\r\n```suggestion\r\n                        next_sats_diff.push_back((sats_diff[j] + subs[i]->ss.dsat.diff) | ((sats_diff[j - 1] + subs[i]->ss.sat.diff) + add_diff));",
      "created_at": "2023-04-07T10:36:06Z",
      "updated_at": "2023-04-07T10:54:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1160615879",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160615879"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 984,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160622303",
      "pull_request_review_id": 1376054310,
      "id": 1160622303,
      "node_id": "PRRC_kwDOABII585FLbDf",
      "diff_hunk": "@@ -1828,65 +2081,66 @@ inline NodeRef<Key> DecodeScript(I& in, I last, const Ctx& ctx)\n             // Constants\n             if (in[0].first == OP_1) {\n                 ++in;\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::JUST_1));\n+                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, ctx, Fragment::JUST_1));\n                 break;\n             }\n             if (in[0].first == OP_0) {\n                 ++in;\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::JUST_0));\n+                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, ctx, Fragment::JUST_0));\n                 break;\n             }\n             // Public keys\n-            if (in[0].second.size() == 33) {\n+            if (in[0].second.size() == 33 || in[0].second.size() == 32) {\n                 auto key = ctx.FromPKBytes(in[0].second.begin(), in[0].second.end());\n                 if (!key) return {};\n                 ++in;\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::PK_K, Vector(std::move(*key))));\n+                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, ctx, Fragment::PK_K, Vector(std::move(*key))));\n                 break;\n             }\n             if (last - in >= 5 && in[0].first == OP_VERIFY && in[1].first == OP_EQUAL && in[3].first == OP_HASH160 && in[4].first == OP_DUP && in[2].second.size() == 20) {\n                 auto key = ctx.FromPKHBytes(in[2].second.begin(), in[2].second.end());",
      "path": "src/script/miniscript.h",
      "position": 972,
      "original_position": 932,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "6e3b37b80cebf9c3f3370f5efbd38f776a918d9c",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "\"warning: ‘void* __builtin_memcpy(void*, const void*, long unsigned int)’ writing 33 bytes into a region of size 32 overflows the destination [-Wstringop-overflow=]\"\r\n\r\ngetting this warning but it doesn't make sense to me why, because it should be calling the right function based on `ctx`? there is a definition for `FromPKBytes` in `src/script/descriptor.cpp` and another one in `src/script/sign.cpp` and the warning is coming from the `src/sign.cpp` one. ",
      "created_at": "2023-04-07T10:49:18Z",
      "updated_at": "2023-04-07T10:54:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1160622303",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1160622303"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2209,
      "original_line": 2209,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1174534364",
      "pull_request_review_id": 1396864124,
      "id": 1174534364,
      "node_id": "PRRC_kwDOABII585GAfjc",
      "diff_hunk": "@@ -11,6 +11,16 @@\n #include <assert.h>\n \n namespace miniscript {\n+\n+bool IsTapscript(MiniscriptContext ms_ctx)\n+{\n+    switch (ms_ctx) {\n+        case MiniscriptContext::P2WSH: return false;",
      "path": "src/script/miniscript.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "in_reply_to_id": null,
      "user": {
        "login": "michaelfolkson",
        "id": 16323900,
        "node_id": "MDQ6VXNlcjE2MzIzOTAw",
        "avatar_url": "https://avatars.githubusercontent.com/u/16323900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/michaelfolkson",
        "html_url": "https://github.com/michaelfolkson",
        "followers_url": "https://api.github.com/users/michaelfolkson/followers",
        "following_url": "https://api.github.com/users/michaelfolkson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/michaelfolkson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/michaelfolkson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
        "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
        "repos_url": "https://api.github.com/users/michaelfolkson/repos",
        "events_url": "https://api.github.com/users/michaelfolkson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is there a reason why the only two options are P2WSH and P2TR? Should there be a case statement for P2SH (`sh`) too?",
      "created_at": "2023-04-23T08:21:55Z",
      "updated_at": "2023-04-23T08:21:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1174534364",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1174534364"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 17,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1180610019",
      "pull_request_review_id": 1406271728,
      "id": 1180610019,
      "node_id": "PRRC_kwDOABII585GXq3j",
      "diff_hunk": "@@ -811,11 +856,15 @@ NodeRef GenNode(F ConsumeNode, Type root_type, bool strict_valid = false) {\n             // Fragment/children have not been decided yet. Decide them.\n             auto node_info = ConsumeNode(type_needed);\n             if (!node_info) return {};\n+            if ((!miniscript::IsTapscript(SCRIPT_CTX) && node_info->fragment == Fragment::MULTI_A)",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": null,
      "original_position": 223,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "02a5fa633f9f44b378f7c015275eacd54939e980",
      "in_reply_to_id": null,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Note to self: i should relax the ops and script size limits below under Tapscript context.",
      "created_at": "2023-04-28T16:32:58Z",
      "updated_at": "2023-04-28T16:32:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1180610019",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1180610019"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 860,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183400073",
      "pull_request_review_id": 1410428611,
      "id": 1183400073,
      "node_id": "PRRC_kwDOABII585GiUCJ",
      "diff_hunk": "@@ -11,6 +11,16 @@\n #include <assert.h>\n \n namespace miniscript {\n+\n+bool IsTapscript(MiniscriptContext ms_ctx)\n+{\n+    switch (ms_ctx) {\n+        case MiniscriptContext::P2WSH: return false;",
      "path": "src/script/miniscript.cpp",
      "position": 8,
      "original_position": 8,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "in_reply_to_id": 1174534364,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Because the current codebase only support P2WSH, there is no support for legacy P2SH.",
      "created_at": "2023-05-03T08:42:48Z",
      "updated_at": "2023-05-03T08:42:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1183400073",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183400073"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 17,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183405185",
      "pull_request_review_id": 1410436660,
      "id": 1183405185,
      "node_id": "PRRC_kwDOABII585GiVSB",
      "diff_hunk": "@@ -1502,7 +1524,7 @@ std::unique_ptr<DescriptorImpl> ParseScript(uint32_t& key_exp_index, Span<const\n     }\n     // Process miniscript expressions.\n     {\n-        KeyParser parser(&out, nullptr);\n+        KeyParser parser(/*out = */&out, /* in = */nullptr, /* ctx = */miniscript::MiniscriptContext::P2WSH);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 100,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "ef0eb7f87d19bd8a3ebff4f095d321964808df73",
      "in_reply_to_id": 1160599451,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What's the rationale for changing this? Do whitespaces prevent the analysis? Happy to do this (and the other similar comments) but i'd rather not go through the hassle of applying it on every single of the 21 commits and solve the rebase conflicts if it's just a style nit. Let me know!",
      "created_at": "2023-05-03T08:48:06Z",
      "updated_at": "2023-05-03T08:48:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1183405185",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183405185"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1527,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183410413",
      "pull_request_review_id": 1410444252,
      "id": 1183410413,
      "node_id": "PRRC_kwDOABII585GiWjt",
      "diff_hunk": "@@ -11,6 +11,16 @@\n #include <assert.h>\n \n namespace miniscript {\n+\n+bool IsTapscript(MiniscriptContext ms_ctx)\n+{\n+    switch (ms_ctx) {\n+        case MiniscriptContext::P2WSH: return false;\n+        case MiniscriptContext::TAPSCRIPT: return true;\n+    }\n+    assert(false);",
      "path": "src/script/miniscript.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "in_reply_to_id": 1160606636,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This specific case is the very common match-all-variants-and-assert pattern so i think it's good like that. It's also documented this way in our style guidelines: https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#c-data-structures.",
      "created_at": "2023-05-03T08:53:03Z",
      "updated_at": "2023-05-03T08:53:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1183410413",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183410413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 20,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183419232",
      "pull_request_review_id": 1410457197,
      "id": 1183419232,
      "node_id": "PRRC_kwDOABII585GiYtg",
      "diff_hunk": "@@ -605,6 +608,7 @@ struct Node {\n                 case Fragment::OR_I: return BuildScript(OP_IF, subs[0], OP_ELSE, subs[1], OP_ENDIF);\n                 case Fragment::ANDOR: return BuildScript(std::move(subs[0]), OP_NOTIF, subs[2], OP_ELSE, subs[1], OP_ENDIF);\n                 case Fragment::MULTI: {\n+                    assert(!IsTapscript(ctx.MsContext()));",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 14,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "in_reply_to_id": 1160606743,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "For this and the other assertions of the context: if we get in such an inconsistent state as having a `multi_a` in a `wsh()` descriptor or a `multi` in a `tr()` descriptor, it's probably better to crash than to return inconsistent (and potentially harmful, like an unspendable address) data to the user. Though it could raise an exception instead of crashing the node. I'll see if i can use `CHECK_NONFATAL` instead.\r\n\r\nEDIT: used `CHECK_NONFATAL` instead here and for `MULTI_A` too.",
      "created_at": "2023-05-03T09:00:48Z",
      "updated_at": "2023-05-03T09:22:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1183419232",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183419232"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 611,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183444783",
      "pull_request_review_id": 1410501997,
      "id": 1183444783,
      "node_id": "PRRC_kwDOABII585Gie8v",
      "diff_hunk": "@@ -1534,6 +1539,7 @@ inline NodeRef<Key> Parse(Span<const char> in, const Ctx& ctx)\n                 in = in.subspan(arg_size + 1);\n                 script_size += 1 + (num > 16) + (num > 0x7f) + (num > 0x7fff) + (num > 0x7fffff);\n             } else if (Const(\"multi(\", in)) {\n+                if (IsTapscript(ctx.MsContext())) return {};",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 30,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "in_reply_to_id": 1160608237,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes generally it would be nice to have better error reporting for descriptors. And i think there are lower hanging fruits when it comes to unclear descriptor errors that confuse users, for instance https://bitcoin.stackexchange.com/q/118022/101498.\r\n\r\nBut yeah definitely not going to bring that into this PR. :)",
      "created_at": "2023-05-03T09:24:05Z",
      "updated_at": "2023-05-03T09:24:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1183444783",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183444783"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1542,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183446113",
      "pull_request_review_id": 1410504054,
      "id": 1183446113,
      "node_id": "PRRC_kwDOABII585GifRh",
      "diff_hunk": "@@ -11,6 +11,16 @@\n #include <assert.h>\n ",
      "path": "src/script/miniscript.cpp",
      "position": 2,
      "original_position": 2,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "1360b541ae509f2df5ec319be63b083860bed603",
      "in_reply_to_id": 1160609483,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-05-03T09:25:25Z",
      "updated_at": "2023-05-03T09:25:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1183446113",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183446113"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 11,
      "original_line": 11,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183487461",
      "pull_request_review_id": 1410572054,
      "id": 1183487461,
      "node_id": "PRRC_kwDOABII585GipXl",
      "diff_hunk": "@@ -833,51 +858,152 @@ struct Node {\n     }\n \n     internal::StackSize CalcStackSize() const {\n+        // Among non-malleable satisfactions and dissatisfactions, this computes for each fragment:\n+        // - The maximum witness stack size of this (dis)satisfaction;\n+        // - The maximum number of elements added or removed on the stack after executing it;\n+        // - The maximum number of elements added to the stack while executing it.\n         switch (fragment) {\n-            case Fragment::JUST_0: return {{}, 0};\n+            case Fragment::JUST_0: return {{}, {0, 1}};\n             case Fragment::JUST_1:\n             case Fragment::OLDER:\n-            case Fragment::AFTER: return {0, {}};\n-            case Fragment::PK_K: return {1, 1};\n-            case Fragment::PK_H: return {2, 2};\n+            case Fragment::AFTER: return {{0, 1}, {}};\n+            case Fragment::PK_K: return {{1, 1}, {1, 1}};\n+            case Fragment::PK_H: return {{2, 0, 2}, {2, 0, 2}};\n             case Fragment::SHA256:\n             case Fragment::RIPEMD160:\n             case Fragment::HASH256:\n-            case Fragment::HASH160: return {1, {}};\n+            case Fragment::HASH160: return {{1, 0, 2}, {}};\n             case Fragment::ANDOR: {\n-                const auto sat{(subs[0]->ss.sat + subs[1]->ss.sat) | (subs[0]->ss.dsat + subs[2]->ss.sat)};\n-                const auto dsat{subs[0]->ss.dsat + subs[2]->ss.dsat};\n-                return {sat, dsat};\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto& z{subs[2]->ss};\n+                const auto sat_size{(x.sat.size + y.sat.size) | (x.dsat.size + z.sat.size)};\n+                const auto dsat_size{x.dsat.size + z.dsat.size};\n+                const auto sat_diff{((x.sat.diff + y.sat.diff) | (x.dsat.diff + z.sat.diff)) - 1};\n+                const auto dsat_diff{x.dsat.diff - 1 + z.dsat.diff};\n+                const auto sat_exec{x.sat.exec | x.dsat.exec | (x.sat.diff - 1 + y.sat.exec) | (x.dsat.diff - 1 + z.sat.exec)};\n+                const auto dsat_exec{x.dsat.exec | (x.dsat.diff - 1 + z.dsat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {dsat_size, dsat_diff, dsat_exec}};\n+            }\n+            case Fragment::AND_V: {\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{x.sat.size + y.sat.size};\n+                const auto sat_diff{x.sat.diff + y.sat.diff};\n+                const auto sat_exec{x.sat.exec | (x.sat.diff + y.sat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {}};\n+            }\n+            case Fragment::AND_B: {\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{x.sat.size + y.sat.size};\n+                const auto dsat_size{x.dsat.size + y.dsat.size};\n+                const auto sat_diff{x.sat.diff + y.sat.diff - 1};\n+                const auto dsat_diff{x.dsat.diff + y.dsat.diff - 1};\n+                const auto sat_exec{x.sat.exec | (x.sat.diff + y.sat.exec)};\n+                const auto dsat_exec{x.dsat.exec | (x.dsat.diff + y.dsat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {dsat_size, dsat_diff, dsat_exec}};\n             }\n-            case Fragment::AND_V: return {subs[0]->ss.sat + subs[1]->ss.sat, {}};\n-            case Fragment::AND_B: return {subs[0]->ss.sat + subs[1]->ss.sat, subs[0]->ss.dsat + subs[1]->ss.dsat};\n             case Fragment::OR_B: {\n-                const auto sat{(subs[0]->ss.dsat + subs[1]->ss.sat) | (subs[0]->ss.sat + subs[1]->ss.dsat)};\n-                const auto dsat{subs[0]->ss.dsat + subs[1]->ss.dsat};\n-                return {sat, dsat};\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{(x.dsat.size + y.sat.size) | (x.sat.size + y.dsat.size)};\n+                const auto dsat_size{x.dsat.size + y.dsat.size};\n+                const auto sat_diff{((x.dsat.diff + y.sat.diff) | (x.sat.diff + y.dsat.diff)) - 1};\n+                const auto dsat_diff{x.dsat.diff + y.dsat.diff - 1};\n+                const auto sat_exec{x.sat.exec | x.dsat.exec | (x.dsat.diff + y.sat.exec) | (x.sat.diff + y.dsat.exec)};\n+                const auto dsat_exec{x.dsat.exec | (x.dsat.diff + y.dsat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {dsat_size, dsat_diff, dsat_exec}};\n+            }\n+            case Fragment::OR_C: {\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{x.sat.size | (x.dsat.size + y.sat.size)};\n+                const auto sat_diff{(x.sat.diff | (x.dsat.diff + y.sat.diff)) - 1};\n+                const auto sat_exec{x.sat.exec | x.dsat.exec | (x.dsat.diff - 1 + y.sat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {}};\n+            }\n+            case Fragment::OR_D: {\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{x.sat.size | (x.dsat.size + y.sat.size)};\n+                const auto dsat_size{x.dsat.size + y.dsat.size};\n+                const auto sat_diff{x.sat.diff | (x.dsat.diff - 1 + y.sat.diff)};\n+                const auto dsat_diff{x.dsat.diff - 1 + y.dsat.diff};\n+                const auto sat_exec{x.sat.exec | x.dsat.exec | (x.sat.diff + 1) | (x.dsat.diff + y.sat.exec)};\n+                const auto dsat_exec{x.dsat.exec | (x.dsat.diff - 1 + y.dsat.exec)};\n+                return {{sat_size, sat_diff, sat_exec}, {dsat_size, dsat_diff, dsat_exec}};\n+            }\n+            case Fragment::OR_I: {\n+                const auto& x{subs[0]->ss};\n+                const auto& y{subs[1]->ss};\n+                const auto sat_size{(x.sat.size + 1) | (y.sat.size + 1)};\n+                const auto dsat_size{(x.dsat.size + 1) | (y.dsat.size + 1)};\n+                const auto sat_diff{(x.sat.diff | y.sat.diff) - 1};\n+                const auto dsat_diff{(x.dsat.diff | y.dsat.diff) - 1};\n+                const auto sat_exec{(x.sat.exec | y.sat.exec) - 1};\n+                const auto dsat_exec{(x.dsat.exec | y.dsat.exec) - 1};\n+                return {{sat_size, sat_diff, sat_exec}, {dsat_size, dsat_diff, dsat_exec}};\n             }\n-            case Fragment::OR_C: return {subs[0]->ss.sat | (subs[0]->ss.dsat + subs[1]->ss.sat), {}};\n-            case Fragment::OR_D: return {subs[0]->ss.sat | (subs[0]->ss.dsat + subs[1]->ss.sat), subs[0]->ss.dsat + subs[1]->ss.dsat};\n-            case Fragment::OR_I: return {(subs[0]->ss.sat + 1) | (subs[1]->ss.sat + 1), (subs[0]->ss.dsat + 1) | (subs[1]->ss.dsat + 1)};\n-            case Fragment::MULTI: return {k + 1, k + 1};\n-            case Fragment::MULTI_A: return {keys.size(), keys.size()};\n+            case Fragment::MULTI: return {{(uint32_t)k + 1, -(int32_t)k, 2 + (int32_t)keys.size()}, {(uint32_t)k + 1, -(int32_t)k, 2 + (int32_t)keys.size()}};\n+            case Fragment::MULTI_A: return {{(uint32_t)keys.size(), -(int32_t)keys.size() + 1, 1}, {(uint32_t)keys.size(), -(int32_t)keys.size() + 1, 1}};\n             case Fragment::WRAP_A:\n             case Fragment::WRAP_N:\n-            case Fragment::WRAP_S:\n-            case Fragment::WRAP_C: return subs[0]->ss;\n-            case Fragment::WRAP_D: return {1 + subs[0]->ss.sat, 1};\n-            case Fragment::WRAP_V: return {subs[0]->ss.sat, {}};\n-            case Fragment::WRAP_J: return {subs[0]->ss.sat, 1};\n+            case Fragment::WRAP_S: return subs[0]->ss;\n+            case Fragment::WRAP_C: {\n+                const auto& sub_sat{subs[0]->ss.sat};\n+                const auto& sub_dsat{subs[0]->ss.dsat};\n+                return {{sub_sat.size, sub_sat.diff - 1, sub_sat.exec}, {sub_dsat.size, sub_dsat.diff - 1, sub_dsat.exec}};\n+            }\n+            case Fragment::WRAP_D: return {{1 + subs[0]->ss.sat.size, subs[0]->ss.sat.diff, subs[0]->ss.sat.exec | 1}, {1, 0, 1}};\n+            case Fragment::WRAP_V: return {{subs[0]->ss.sat.size, subs[0]->ss.sat.diff - 1, subs[0]->ss.sat.exec}, {}};\n+            case Fragment::WRAP_J: return {{subs[0]->ss.sat.size, subs[0]->ss.sat.diff, subs[0]->ss.sat.exec | 1}, {1, 0, subs[0]->ss.dsat.exec | 1}};\n             case Fragment::THRESH: {\n-                auto sats = Vector(internal::MaxInt<uint32_t>(0));\n-                for (const auto& sub : subs) {\n-                    auto next_sats = Vector(sats[0] + sub->ss.dsat);\n-                    for (size_t j = 1; j < sats.size(); ++j) next_sats.push_back((sats[j] + sub->ss.dsat) | (sats[j - 1] + sub->ss.sat));\n-                    next_sats.push_back(sats[sats.size() - 1] + sub->ss.sat);\n-                    sats = std::move(next_sats);\n+                // The maximum satisfaction witness stack size for this fragment, indexed by threshold.\n+                auto sats_size = Vector(internal::MaxInt<uint32_t>(0));\n+                // Same for the stack size differential after executing this fragment.\n+                auto sats_diff = Vector(internal::MaxInt<int32_t>(0));\n+                // The maximum stack size at any point during execution of this fragment (or any sub\n+                // fragment thereoff), indexed by threshold.\n+                auto sats_exec = Vector(internal::MaxInt<int32_t>(0));\n+                for (size_t i = 0; i < subs.size(); ++i) {\n+                    // Start with the (non-malleable) dissatisfaction size.\n+                    auto next_sats_size = Vector(sats_size[0] + subs[i]->ss.dsat.size);\n+                    // Whether to account for OP_ADD that drops one element from the stack (-2 + 1).\n+                    auto add_diff = (i > 0 && i < subs.size() - 1) ? -1 : 0;\n+                    // The total difference in stack size after dissatisfying the first i first fragments.\n+                    auto next_sats_diff = Vector(sats_diff[0] + subs[i]->ss.dsat.diff + add_diff);\n+                    // Does the stack size gets bigger when dissatifying this fragment than the previous ones?\n+                    auto next_sats_exec = Vector(sats_exec[0] | (sats_diff[0] + subs[i]->ss.dsat.exec));\n+                    // Update what combination of sat/dsat is the largest per threshold.\n+                    for (size_t j = 1; j < sats_size.size(); ++j) {\n+                        // Which is larger, k-1 satisfaction and satifying this sub, or k satisfaction and dissatisfying\n+                        // this one?\n+                        next_sats_size.push_back((sats_size[j] + subs[i]->ss.dsat.size) | (sats_size[j - 1] + subs[i]->ss.sat.size));\n+                        // Same for size of the stack after satisfying k of the past i fragments.\n+                        next_sats_diff.push_back((sats_diff[j] + subs[i]->ss.dsat.diff) | (sats_diff[j - 1] + subs[i]->ss.sat.diff) + add_diff);",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 212,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "efdd1543597aff49c56a1abaa75b574be3b330db",
      "in_reply_to_id": 1160615879,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, good suggestion that i add those for clarity because your suggestion is incorrect: `add_diff` should always be added. The current (and intended) semantic is:\r\n```diff\r\ndiff --git a/src/script/miniscript.h b/src/script/miniscript.h\r\nindex 011c7ac6d6..35797153da 100644\r\n--- a/src/script/miniscript.h\r\n+++ b/src/script/miniscript.h\r\n@@ -1002,7 +1002,7 @@ private:\r\n                         // this one?\r\n                         next_sats_size.push_back((sats_size[j] + subs[i]->ss.dsat.size) | (sats_size[j - 1] + subs[i]->ss.sat.size));\r\n                         // Same for size of the stack after satisfying k of the past i fragments.\r\n-                        next_sats_diff.push_back((sats_diff[j] + sub_diff.dsat) | (sats_diff[j - 1] + sub_diff.sat) + add_diff);\r\n+                        next_sats_diff.push_back(((sats_diff[j] + sub_diff.dsat) | (sats_diff[j - 1] + sub_diff.sat)) + add_diff);\r\n                         // Update the maximum stack size for satisfying k subs with the largest of the maximum cost of\r\n                         // satisfying k-1 subs (implying we satisfy this one), the cost of dissatisfying this sub\r\n                         // after the satisfaction of j subs beforehand, and the cost of satisfying this sub after the\r\n```\r\n\r\nDid you get this warning with GCC?",
      "created_at": "2023-05-03T10:05:50Z",
      "updated_at": "2023-05-03T10:05:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1183487461",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183487461"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 984,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183502224",
      "pull_request_review_id": 1410595992,
      "id": 1183502224,
      "node_id": "PRRC_kwDOABII585Gis-Q",
      "diff_hunk": "@@ -1828,65 +2081,66 @@ inline NodeRef<Key> DecodeScript(I& in, I last, const Ctx& ctx)\n             // Constants\n             if (in[0].first == OP_1) {\n                 ++in;\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::JUST_1));\n+                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, ctx, Fragment::JUST_1));\n                 break;\n             }\n             if (in[0].first == OP_0) {\n                 ++in;\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::JUST_0));\n+                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, ctx, Fragment::JUST_0));\n                 break;\n             }\n             // Public keys\n-            if (in[0].second.size() == 33) {\n+            if (in[0].second.size() == 33 || in[0].second.size() == 32) {\n                 auto key = ctx.FromPKBytes(in[0].second.begin(), in[0].second.end());\n                 if (!key) return {};\n                 ++in;\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::PK_K, Vector(std::move(*key))));\n+                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, ctx, Fragment::PK_K, Vector(std::move(*key))));\n                 break;\n             }\n             if (last - in >= 5 && in[0].first == OP_VERIFY && in[1].first == OP_EQUAL && in[3].first == OP_HASH160 && in[4].first == OP_DUP && in[2].second.size() == 20) {\n                 auto key = ctx.FromPKHBytes(in[2].second.begin(), in[2].second.end());",
      "path": "src/script/miniscript.h",
      "position": 972,
      "original_position": 932,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "6e3b37b80cebf9c3f3370f5efbd38f776a918d9c",
      "in_reply_to_id": 1160622303,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm trying to reproduce the warning. What version of which compiler do you use? And what flags have you enabled?",
      "created_at": "2023-05-03T10:21:47Z",
      "updated_at": "2023-05-03T10:21:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1183502224",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1183502224"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2209,
      "original_line": 2209,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1195519598",
      "pull_request_review_id": 1429125748,
      "id": 1195519598,
      "node_id": "PRRC_kwDOABII585HQi5u",
      "diff_hunk": "@@ -1828,65 +2081,66 @@ inline NodeRef<Key> DecodeScript(I& in, I last, const Ctx& ctx)\n             // Constants\n             if (in[0].first == OP_1) {\n                 ++in;\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::JUST_1));\n+                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, ctx, Fragment::JUST_1));\n                 break;\n             }\n             if (in[0].first == OP_0) {\n                 ++in;\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::JUST_0));\n+                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, ctx, Fragment::JUST_0));\n                 break;\n             }\n             // Public keys\n-            if (in[0].second.size() == 33) {\n+            if (in[0].second.size() == 33 || in[0].second.size() == 32) {\n                 auto key = ctx.FromPKBytes(in[0].second.begin(), in[0].second.end());\n                 if (!key) return {};\n                 ++in;\n-                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, Fragment::PK_K, Vector(std::move(*key))));\n+                constructed.push_back(MakeNodeRef<Key>(internal::NoDupCheck{}, ctx, Fragment::PK_K, Vector(std::move(*key))));\n                 break;\n             }\n             if (last - in >= 5 && in[0].first == OP_VERIFY && in[1].first == OP_EQUAL && in[3].first == OP_HASH160 && in[4].first == OP_DUP && in[2].second.size() == 20) {\n                 auto key = ctx.FromPKHBytes(in[2].second.begin(), in[2].second.end());",
      "path": "src/script/miniscript.h",
      "position": 972,
      "original_position": 932,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "6e3b37b80cebf9c3f3370f5efbd38f776a918d9c",
      "in_reply_to_id": 1160622303,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Reproduced and fixed!",
      "created_at": "2023-05-16T18:02:15Z",
      "updated_at": "2023-05-16T18:02:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1195519598",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1195519598"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2209,
      "original_line": 2209,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257381343",
      "pull_request_review_id": 1520821386,
      "id": 1257381343,
      "node_id": "PRRC_kwDOABII585K8h3f",
      "diff_hunk": "@@ -1502,7 +1524,7 @@ std::unique_ptr<DescriptorImpl> ParseScript(uint32_t& key_exp_index, Span<const\n     }\n     // Process miniscript expressions.\n     {\n-        KeyParser parser(&out, nullptr);\n+        KeyParser parser(/*out = */&out, /* in = */nullptr, /* ctx = */miniscript::MiniscriptContext::P2WSH);",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 100,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "ef0eb7f87d19bd8a3ebff4f095d321964808df73",
      "in_reply_to_id": 1160599451,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`clang-tidy --checks=bugprone-argument-comment` catches if the names in such comments mismatch the formal parameter names of the called function, but (I just tested) it works both with and without the spaces.",
      "created_at": "2023-07-08T22:28:29Z",
      "updated_at": "2023-07-08T22:28:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1257381343",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257381343"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1527,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257383444",
      "pull_request_review_id": 1520822745,
      "id": 1257383444,
      "node_id": "PRRC_kwDOABII585K8iYU",
      "diff_hunk": "@@ -605,6 +609,7 @@ struct Node {\n                 case Fragment::OR_I: return BuildScript(OP_IF, subs[0], OP_ELSE, subs[1], OP_ENDIF);\n                 case Fragment::ANDOR: return BuildScript(std::move(subs[0]), OP_NOTIF, subs[2], OP_ELSE, subs[1], OP_ENDIF);\n                 case Fragment::MULTI: {\n+                    CHECK_NONFATAL(!IsTapscript(ctx.MsContext()));",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 22,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "6e450bd77f82abe910906b437b54df01adc10b62",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is it possible to instead (or in addition) add an assertion in `ComputeType` that `multi()` is not used in `TAPSCRIPT` context?",
      "created_at": "2023-07-08T22:56:07Z",
      "updated_at": "2023-09-20T14:40:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1257383444",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257383444"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 667,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331716441",
      "pull_request_review_id": 1520822745,
      "id": 1331716441,
      "node_id": "PRRC_kwDOABII585PYGFZ",
      "diff_hunk": "@@ -22,6 +22,21 @@ bool IsTapscript(MiniscriptContext ms_ctx)\n \n namespace internal {\n \n+//! 200vbytes for the spending transaction data other than the witness\n+constexpr uint32_t TX_BODY_LEEWAY_WEIGHT{800};",
      "path": "src/script/miniscript.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "434bdbe030f0fcfe89912de5f92c70244df8d07f",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't care particularly strongly about what this limit is set to, because practically guaranteeing spendability is hard. However, if the goal is guaranteeing just \"can this script be spent with at all\", then I think the overhead should be exactly that of a 1-input 1-output 1-tapscript transaction.",
      "created_at": "2023-09-20T14:22:24Z",
      "updated_at": "2023-09-20T14:40:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1331716441",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331716441"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331719498",
      "pull_request_review_id": 1520822745,
      "id": 1331719498,
      "node_id": "PRRC_kwDOABII585PYG1K",
      "diff_hunk": "@@ -204,6 +204,13 @@ std::vector<CKeyID> XOnlyPubKey::GetKeyIDs() const\n     return out;\n }\n \n+CPubKey XOnlyPubKey::GetCPubKey() const",
      "path": "src/pubkey.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "d46788c1a31fc170dbe08d28db8266ce03f3d9e1",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can we give this a more explicit name like `GetEvenCorrespondingCPubKey` or so?",
      "created_at": "2023-09-20T14:24:29Z",
      "updated_at": "2023-09-20T14:40:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1331719498",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331719498"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 207,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331735314",
      "pull_request_review_id": 1520822745,
      "id": 1331735314,
      "node_id": "PRRC_kwDOABII585PYKsS",
      "diff_hunk": "@@ -809,11 +857,15 @@ NodeRef GenNode(F ConsumeNode, Type root_type, bool strict_valid = false) {\n             // Fragment/children have not been decided yet. Decide them.\n             auto node_info = ConsumeNode(type_needed);\n             if (!node_info) return {};\n+            if ((!miniscript::IsTapscript(SCRIPT_CTX) && node_info->fragment == Fragment::MULTI_A)",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": null,
      "original_position": 229,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "a9b2e8f07ef22a5f6e51083d92a3a6077fc9b738",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Having this check is fine, but it shouldn't be hit for the `smart` target (we can intelligently decide there where to construct MULTI vs MULTI_A based on the context under which we're fuzzing).",
      "created_at": "2023-09-20T14:35:14Z",
      "updated_at": "2023-09-20T14:40:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1331735314",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331735314"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 860,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1333003641",
      "pull_request_review_id": 1637745134,
      "id": 1333003641,
      "node_id": "PRRC_kwDOABII585PdAV5",
      "diff_hunk": "@@ -809,11 +857,15 @@ NodeRef GenNode(F ConsumeNode, Type root_type, bool strict_valid = false) {\n             // Fragment/children have not been decided yet. Decide them.\n             auto node_info = ConsumeNode(type_needed);\n             if (!node_info) return {};\n+            if ((!miniscript::IsTapscript(SCRIPT_CTX) && node_info->fragment == Fragment::MULTI_A)",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": null,
      "original_position": 229,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "a9b2e8f07ef22a5f6e51083d92a3a6077fc9b738",
      "in_reply_to_id": 1331735314,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Had a quick look into this. I could adapt `SmartInfo` to hold two tables or something similar. But that'd greatly increase the size of the diff for what i feel would not be greatly beneficial? The fuzzer would adapt pretty soon to not generate MULTIs under Tapscript and the other way around?\r\n\r\nHappy to do it, just want to ponder it against the review burden.",
      "created_at": "2023-09-21T12:51:40Z",
      "updated_at": "2023-09-21T12:51:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1333003641",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1333003641"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 860,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1333273430",
      "pull_request_review_id": 1638183579,
      "id": 1333273430,
      "node_id": "PRRC_kwDOABII585PeCNW",
      "diff_hunk": "@@ -22,6 +22,21 @@ bool IsTapscript(MiniscriptContext ms_ctx)\n \n namespace internal {\n \n+//! 200vbytes for the spending transaction data other than the witness\n+constexpr uint32_t TX_BODY_LEEWAY_WEIGHT{800};",
      "path": "src/script/miniscript.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "434bdbe030f0fcfe89912de5f92c70244df8d07f",
      "in_reply_to_id": 1331716441,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Figured it'd be harder to review to have a precise calculation, but happy to change that.",
      "created_at": "2023-09-21T15:41:08Z",
      "updated_at": "2023-09-21T15:41:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1333273430",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1333273430"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337828935",
      "pull_request_review_id": 1645273510,
      "id": 1337828935,
      "node_id": "PRRC_kwDOABII585PvaZH",
      "diff_hunk": "@@ -344,13 +349,32 @@ struct Ops {\n     Ops(uint32_t in_count, MaxInt<uint32_t> in_sat, MaxInt<uint32_t> in_dsat) : count(in_count), sat(in_sat), dsat(in_dsat) {};\n };\n \n+struct SatInfo {\n+    //! Maximum witness size to (dis)satisfy;\n+    MaxInt<uint32_t> size;",
      "path": "src/script/miniscript.h",
      "position": 77,
      "original_position": 18,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "80606412f087eef74dedea008dc84a5efb715a49",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 80606412f087eef74dedea008dc84a5efb715a49 \"miniscript: check maximum stack size during execution\"\r\n\r\nIs this size as in bytes or size as in number of items on the stack?",
      "created_at": "2023-09-26T22:07:20Z",
      "updated_at": "2023-09-26T22:39:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1337828935",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337828935"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 354,
      "original_line": 354,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337833665",
      "pull_request_review_id": 1645273510,
      "id": 1337833665,
      "node_id": "PRRC_kwDOABII585PvbjB",
      "diff_hunk": "@@ -844,52 +868,164 @@ struct Node {\n         assert(false);\n     }\n \n+    //! Get the net difference in the number of stack items after executing this fragment.\n+    internal::NetDiff CalcNetDiff() const {\n+        // B, K, and W fragments always push (or leave) exactly one element on the stack. V framgents never do.\n+        const auto added_items{((typ & \"V\"_mst) == \"V\"_mst) ? 0 : 1};\n+        // Get the maximum stack size necessary to (dis)satisfy this fragment as a negative number, if it exists.\n+        // NOTE: it is fine to use the maximum stack size here, since we add the execution stack size value to the\n+        // maximum initial stack size. Any increase in the execution stack size (by using a path that removes less items\n+        // than we estimate here) necessarily involves an equal decrease in the initial stack size.\n+        const auto neg_stack_size = [&](bool dsat) -> internal::MaxInt<int32_t> {\n+            if (!dsat && ss.sat.size.valid) return -static_cast<int32_t>(ss.sat.size.value);\n+            if (dsat && ss.dsat.size.valid) return -static_cast<int32_t>(ss.dsat.size.value);\n+            return {};\n+        };\n+        return {added_items + neg_stack_size(/* dsat = */false), added_items + neg_stack_size(/* dsat = */true)};\n+    }\n+\n     internal::StackSize CalcStackSize() const {\n+        // Among non-malleable satisfactions and dissatisfactions, this computes for each fragment:\n+        // - The maximum witness stack size of this (dis)satisfaction;\n+        // - The maximum number of elements added to the stack during its execution. Note this computation is\n+        // based on the net difference in stack size after executing fragments preceding it. This net difference\n+        // is computed based on the maximum witness stack size of previous fragments' (dis)satisfactions.\n         switch (fragment) {\n-            case Fragment::JUST_0: return {{}, 0};\n+            case Fragment::JUST_0: return {{}, {0, 1}};\n             case Fragment::JUST_1:\n             case Fragment::OLDER:\n-            case Fragment::AFTER: return {0, {}};\n-            case Fragment::PK_K: return {0, 0};\n-            case Fragment::PK_H: return {1, 1};\n+            case Fragment::AFTER: return {{0, 1}, {}};\n+            case Fragment::PK_K: return {{0, 1}, {0, 1}};",
      "path": "src/script/miniscript.h",
      "position": 261,
      "original_position": 85,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "80606412f087eef74dedea008dc84a5efb715a49",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 80606412f087eef74dedea008dc84a5efb715a49 \"miniscript: check maximum stack size during execution\"\r\n\r\nI'm slightly confused by these return values. There will always be something on the stack for both satisfy and dissatisfy, and the fragment itself will push a key, so shouldn't this be `{1, 2}`?",
      "created_at": "2023-09-26T22:11:30Z",
      "updated_at": "2023-09-26T22:39:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1337833665",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337833665"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 915,
      "original_line": 915,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337839749",
      "pull_request_review_id": 1645273510,
      "id": 1337839749,
      "node_id": "PRRC_kwDOABII585PvdCF",
      "diff_hunk": "@@ -1189,23 +1189,30 @@ class MiniscriptDescriptor final : public DescriptorImpl\n {\n private:\n     miniscript::NodeRef<uint32_t> m_node;\n+    miniscript::MiniscriptContext script_ctx;\n \n protected:\n     std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts,\n                                      FlatSigningProvider& provider) const override\n     {\n-        for (const auto& key : keys) provider.pubkeys.emplace(key.GetID(), key);\n-        return Vector(m_node->ToScript(ScriptMaker(keys, miniscript::MiniscriptContext::P2WSH)));\n+        for (const auto& key : keys) {\n+            if (miniscript::IsTapscript(script_ctx)) {\n+                provider.pubkeys.emplace(Hash160(XOnlyPubKey{key}), key);",
      "path": "src/script/descriptor.cpp",
      "position": 46,
      "original_position": 14,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "ffdca88818f77fda06c6331df5b4bb408ab1833b",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In ffdca88818f77fda06c6331df5b4bb408ab1833b \"descriptor: parse Miniscript expressions within Taproot descriptors\"\r\n\r\nI don't think this is correct. In most places, we don't lookup xonly pubkeys by their hash. We look them up by getting the hashes of both the even and odd versions of the pubkey. So this would result in pubkeys that cannot be found.\r\n\r\nIt may be necessary to add this to deal with `pkh()`s, but I think we also need to add the hashes of the even and odd too.",
      "created_at": "2023-09-26T22:21:53Z",
      "updated_at": "2023-09-26T22:39:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1337839749",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337839749"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1187,
      "original_line": 1187,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337842439",
      "pull_request_review_id": 1645273510,
      "id": 1337842439,
      "node_id": "PRRC_kwDOABII585PvdsH",
      "diff_hunk": "@@ -1546,8 +1556,8 @@ std::unique_ptr<DescriptorImpl> ParseScript(uint32_t& key_exp_index, Span<const\n         }\n         ++key_exp_index;\n         return std::make_unique<PKHDescriptor>(std::move(pubkey));\n-    } else if (Func(\"pkh\", expr)) {\n-        error = \"Can only have pkh at top level, in sh(), or in wsh()\";\n+    } else if (ctx != ParseScriptContext::P2TR && Func(\"pkh\", expr)) {\n+        error = \"Can only have pkh at top level, in sh(), wsh(), or in tr()\";",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 67,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "ffdca88818f77fda06c6331df5b4bb408ab1833b",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In ffdca88818f77fda06c6331df5b4bb408ab1833b \"descriptor: parse Miniscript expressions within Taproot descriptors\"\r\n\r\nThis doesn't actually allow `pkh()` to be parsed by the descriptor parsing code, but I assume that's because the point is to let the miniscript parser deal with it. In that case, a comment here would be helpful.",
      "created_at": "2023-09-26T22:26:28Z",
      "updated_at": "2023-09-26T22:39:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1337842439",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337842439"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": 1559,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1548,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338335474",
      "pull_request_review_id": 1646038833,
      "id": 1338335474,
      "node_id": "PRRC_kwDOABII585PxWDy",
      "diff_hunk": "@@ -344,13 +349,32 @@ struct Ops {\n     Ops(uint32_t in_count, MaxInt<uint32_t> in_sat, MaxInt<uint32_t> in_dsat) : count(in_count), sat(in_sat), dsat(in_dsat) {};\n };\n \n+struct SatInfo {\n+    //! Maximum witness size to (dis)satisfy;\n+    MaxInt<uint32_t> size;",
      "path": "src/script/miniscript.h",
      "position": 77,
      "original_position": 18,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "80606412f087eef74dedea008dc84a5efb715a49",
      "in_reply_to_id": 1337828935,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is the size of the witness stack (since we want to check the stack size during execution). I'll update the comment to make it more explicit. ",
      "created_at": "2023-09-27T09:32:35Z",
      "updated_at": "2023-09-27T09:32:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1338335474",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338335474"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 354,
      "original_line": 354,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338341216",
      "pull_request_review_id": 1646047578,
      "id": 1338341216,
      "node_id": "PRRC_kwDOABII585PxXdg",
      "diff_hunk": "@@ -844,52 +868,164 @@ struct Node {\n         assert(false);\n     }\n \n+    //! Get the net difference in the number of stack items after executing this fragment.\n+    internal::NetDiff CalcNetDiff() const {\n+        // B, K, and W fragments always push (or leave) exactly one element on the stack. V framgents never do.\n+        const auto added_items{((typ & \"V\"_mst) == \"V\"_mst) ? 0 : 1};\n+        // Get the maximum stack size necessary to (dis)satisfy this fragment as a negative number, if it exists.\n+        // NOTE: it is fine to use the maximum stack size here, since we add the execution stack size value to the\n+        // maximum initial stack size. Any increase in the execution stack size (by using a path that removes less items\n+        // than we estimate here) necessarily involves an equal decrease in the initial stack size.\n+        const auto neg_stack_size = [&](bool dsat) -> internal::MaxInt<int32_t> {\n+            if (!dsat && ss.sat.size.valid) return -static_cast<int32_t>(ss.sat.size.value);\n+            if (dsat && ss.dsat.size.valid) return -static_cast<int32_t>(ss.dsat.size.value);\n+            return {};\n+        };\n+        return {added_items + neg_stack_size(/* dsat = */false), added_items + neg_stack_size(/* dsat = */true)};\n+    }\n+\n     internal::StackSize CalcStackSize() const {\n+        // Among non-malleable satisfactions and dissatisfactions, this computes for each fragment:\n+        // - The maximum witness stack size of this (dis)satisfaction;\n+        // - The maximum number of elements added to the stack during its execution. Note this computation is\n+        // based on the net difference in stack size after executing fragments preceding it. This net difference\n+        // is computed based on the maximum witness stack size of previous fragments' (dis)satisfactions.\n         switch (fragment) {\n-            case Fragment::JUST_0: return {{}, 0};\n+            case Fragment::JUST_0: return {{}, {0, 1}};\n             case Fragment::JUST_1:\n             case Fragment::OLDER:\n-            case Fragment::AFTER: return {0, {}};\n-            case Fragment::PK_K: return {0, 0};\n-            case Fragment::PK_H: return {1, 1};\n+            case Fragment::AFTER: return {{0, 1}, {}};\n+            case Fragment::PK_K: return {{0, 1}, {0, 1}};",
      "path": "src/script/miniscript.h",
      "position": 261,
      "original_position": 85,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "80606412f087eef74dedea008dc84a5efb715a49",
      "in_reply_to_id": 1337833665,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "We don't account for what's already on the stack. We account for how many elements are *added* by this fragment (both during and after execution).\r\n\r\nThe check then consists in adding the maximum number of elements added to the stack and the maximum size of the initial witness stack: https://github.com/bitcoin/bitcoin/commit/80606412f087eef74dedea008dc84a5efb715a49#diff-a55760aaec4bce216663f5ebf65823516347356a8320d30459427149f7bbc2c5R1422-R1424.\r\n\r\nNote this is (slightly) conservative, it's possible the spending path adding the largest number of elements to the stack is not the same as the one requiring the largest initial witness stack.",
      "created_at": "2023-09-27T09:37:15Z",
      "updated_at": "2023-09-27T09:37:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1338341216",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338341216"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 915,
      "original_line": 915,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338368638",
      "pull_request_review_id": 1646089838,
      "id": 1338368638,
      "node_id": "PRRC_kwDOABII585PxeJ-",
      "diff_hunk": "@@ -1189,23 +1189,30 @@ class MiniscriptDescriptor final : public DescriptorImpl\n {\n private:\n     miniscript::NodeRef<uint32_t> m_node;\n+    miniscript::MiniscriptContext script_ctx;\n \n protected:\n     std::vector<CScript> MakeScripts(const std::vector<CPubKey>& keys, Span<const CScript> scripts,\n                                      FlatSigningProvider& provider) const override\n     {\n-        for (const auto& key : keys) provider.pubkeys.emplace(key.GetID(), key);\n-        return Vector(m_node->ToScript(ScriptMaker(keys, miniscript::MiniscriptContext::P2WSH)));\n+        for (const auto& key : keys) {\n+            if (miniscript::IsTapscript(script_ctx)) {\n+                provider.pubkeys.emplace(Hash160(XOnlyPubKey{key}), key);",
      "path": "src/script/descriptor.cpp",
      "position": 46,
      "original_position": 14,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "ffdca88818f77fda06c6331df5b4bb408ab1833b",
      "in_reply_to_id": 1337839749,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Happy to also emplace the hashes of the even and odd serializations, but if i remember correctly it seemed unnecessary to me at the time to hash the public key thrice. What's a usecase for this?\r\n\r\nAlso, since an x-only serialization is always available but it's not the case for an even or odd serialization should we always look up Taproot key by x-only serialization hash instead of having 3 different identifiers?",
      "created_at": "2023-09-27T09:59:09Z",
      "updated_at": "2023-09-27T09:59:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1338368638",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338368638"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1187,
      "original_line": 1187,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341035045",
      "pull_request_review_id": 1650254697,
      "id": 1341035045,
      "node_id": "PRRC_kwDOABII585P7pIl",
      "diff_hunk": "@@ -1546,8 +1556,8 @@ std::unique_ptr<DescriptorImpl> ParseScript(uint32_t& key_exp_index, Span<const\n         }\n         ++key_exp_index;\n         return std::make_unique<PKHDescriptor>(std::move(pubkey));\n-    } else if (Func(\"pkh\", expr)) {\n-        error = \"Can only have pkh at top level, in sh(), or in wsh()\";\n+    } else if (ctx != ParseScriptContext::P2TR && Func(\"pkh\", expr)) {\n+        error = \"Can only have pkh at top level, in sh(), wsh(), or in tr()\";",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 67,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "ffdca88818f77fda06c6331df5b4bb408ab1833b",
      "in_reply_to_id": 1337842439,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added a comment to this effect.",
      "created_at": "2023-09-29T07:53:08Z",
      "updated_at": "2023-09-29T07:53:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1341035045",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341035045"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": 1559,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 1548,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341035144",
      "pull_request_review_id": 1650254840,
      "id": 1341035144,
      "node_id": "PRRC_kwDOABII585P7pKI",
      "diff_hunk": "@@ -344,13 +349,32 @@ struct Ops {\n     Ops(uint32_t in_count, MaxInt<uint32_t> in_sat, MaxInt<uint32_t> in_dsat) : count(in_count), sat(in_sat), dsat(in_dsat) {};\n };\n \n+struct SatInfo {\n+    //! Maximum witness size to (dis)satisfy;\n+    MaxInt<uint32_t> size;",
      "path": "src/script/miniscript.h",
      "position": 77,
      "original_position": 18,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "80606412f087eef74dedea008dc84a5efb715a49",
      "in_reply_to_id": 1337828935,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added a comment to clarify.",
      "created_at": "2023-09-29T07:53:13Z",
      "updated_at": "2023-09-29T07:53:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1341035144",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341035144"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 354,
      "original_line": 354,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341306431",
      "pull_request_review_id": 1650683565,
      "id": 1341306431,
      "node_id": "PRRC_kwDOABII585P8rY_",
      "diff_hunk": "@@ -22,6 +22,21 @@ bool IsTapscript(MiniscriptContext ms_ctx)\n \n namespace internal {\n \n+//! 200vbytes for the spending transaction data other than the witness\n+constexpr uint32_t TX_BODY_LEEWAY_WEIGHT{800};",
      "path": "src/script/miniscript.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "434bdbe030f0fcfe89912de5f92c70244df8d07f",
      "in_reply_to_id": 1331716441,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done. (See https://github.com/bitcoin/bitcoin/pull/27255#issuecomment-1735816030 for details.)",
      "created_at": "2023-09-29T12:29:25Z",
      "updated_at": "2023-09-29T12:29:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1341306431",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341306431"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 26,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341306693",
      "pull_request_review_id": 1650684032,
      "id": 1341306693,
      "node_id": "PRRC_kwDOABII585P8rdF",
      "diff_hunk": "@@ -605,6 +609,7 @@ struct Node {\n                 case Fragment::OR_I: return BuildScript(OP_IF, subs[0], OP_ELSE, subs[1], OP_ENDIF);\n                 case Fragment::ANDOR: return BuildScript(std::move(subs[0]), OP_NOTIF, subs[2], OP_ELSE, subs[1], OP_ENDIF);\n                 case Fragment::MULTI: {\n+                    CHECK_NONFATAL(!IsTapscript(ctx.MsContext()));",
      "path": "src/script/miniscript.h",
      "position": null,
      "original_position": 22,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "6e450bd77f82abe910906b437b54df01adc10b62",
      "in_reply_to_id": 1257383444,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done as a separate commit.",
      "created_at": "2023-09-29T12:29:44Z",
      "updated_at": "2023-09-29T12:29:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1341306693",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341306693"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 667,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341313430",
      "pull_request_review_id": 1650695088,
      "id": 1341313430,
      "node_id": "PRRC_kwDOABII585P8tGW",
      "diff_hunk": "@@ -809,11 +857,15 @@ NodeRef GenNode(F ConsumeNode, Type root_type, bool strict_valid = false) {\n             // Fragment/children have not been decided yet. Decide them.\n             auto node_info = ConsumeNode(type_needed);\n             if (!node_info) return {};\n+            if ((!miniscript::IsTapscript(SCRIPT_CTX) && node_info->fragment == Fragment::MULTI_A)",
      "path": "src/test/fuzz/miniscript.cpp",
      "position": null,
      "original_position": 229,
      "commit_id": "f45cb489029abfb0f82ebced167d9b5833960f22",
      "original_commit_id": "a9b2e8f07ef22a5f6e51083d92a3a6077fc9b738",
      "in_reply_to_id": 1331735314,
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I have removed this check and made the `miniscript_smart` target always generate a valid recipe.\r\n\r\nThe `SmartInfo` struct now holds two tables, one for each context. It's not ideal since there is a lot of overlap between the two sets of valid recipes, but i don't think it's worth optimizing the one-time initialization cost and small additional memory footprint at this stage. Let me know if you disagree.",
      "created_at": "2023-09-29T12:37:15Z",
      "updated_at": "2023-09-29T12:37:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27255#discussion_r1341313430",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341313430"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27255"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 860,
      "side": "RIGHT"
    }
  ]
}