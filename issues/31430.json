{
  "type": "issue",
  "issue": {
    "id": 2720755575,
    "node_id": "I_kwDOABII586iK293",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31430",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31430/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31430/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31430/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31430",
    "number": 31430,
    "state": "open",
    "state_reason": null,
    "title": "Fix for `Corrupt block found indicating potential hardware failure; shutting down`",
    "body": "### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Current behaviour\r\n\r\nThe `bitcoind` process exits with the given log message. If I try to run again, the same message appears. I need to run `bitcoind` with `-reindex` (`-reindex-chainstate` doesn't work as block index is corrupted) to continue which takes alot of time and I had to do reindexing like 8 times before I was able to sync about 445,000 blocks. This only slows down my full sync as I download more and more blocks, my reindex times goes higher every time. It doesn't make sense for me to sync this way. I did not have any unexpected power failures, unexptect bitcoind exits or anything as well. It just happens randomly out of nowhere.\r\n\r\n### Expected behaviour\r\n\r\nSince this is happening while in the initial sync, this should be some corruption happened in the memory, or the block being received from the peer itself is corrupted. \r\n\r\nWouldn't it be possible that we just discard that block, or maybe disconnect from that peer we got the corrupted block and continue syncing? Why it has to just exit the process with corrupted index on disk that has to be reindexed from scratch before any use. Is there anything fundamental that I'm missing here?\r\n\r\n### Steps to reproduce\r\n\r\n- Clone the repo\r\n- Checkout to `v28x` tag\r\n- Run `./autogen.sh && ./configure && make && make install`\r\n\r\n### Relevant log output\r\n\r\nERROR: AcceptBlock: bad-txnmrklroot, hashMerkleRoot mismatch\r\n*** Corrupt block found indicating potential hardware failure; shutting down\r\n\r\n### How did you obtain Bitcoin Core\r\n\r\nCompiled from source\r\n\r\n### What version of Bitcoin Core are you using?\r\n\r\nv28.1.0rc1\r\n\r\n### Operating system and version\r\n\r\nmacOS Sequoia Version 15.1.1 (24B91)\r\n\r\n### Machine specifications\r\n\r\nApple M1 Pro\r\n16GB Memory\r\nUsing an external Transcend 1TB SSD as `datadir`.",
    "user": {
      "login": "helloscoopa",
      "id": 26799723,
      "node_id": "MDQ6VXNlcjI2Nzk5NzIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/26799723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/helloscoopa",
      "html_url": "https://github.com/helloscoopa",
      "followers_url": "https://api.github.com/users/helloscoopa/followers",
      "following_url": "https://api.github.com/users/helloscoopa/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/helloscoopa/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/helloscoopa/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/helloscoopa/subscriptions",
      "organizations_url": "https://api.github.com/users/helloscoopa/orgs",
      "repos_url": "https://api.github.com/users/helloscoopa/repos",
      "events_url": "https://api.github.com/users/helloscoopa/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/helloscoopa/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 234879,
        "node_id": "MDU6TGFiZWwyMzQ4Nzk=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/macOS",
        "name": "macOS",
        "description": "",
        "color": "660000",
        "default": false
      },
      {
        "id": 323697996,
        "node_id": "MDU6TGFiZWwzMjM2OTc5OTY=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Data%20corruption",
        "name": "Data corruption",
        "color": "f7c6c7",
        "default": false
      },
      {
        "id": 477890092,
        "node_id": "MDU6TGFiZWw0Nzc4OTAwOTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help",
        "name": "Questions and Help",
        "color": "006688",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 1,
    "created_at": "2024-12-05T15:43:33Z",
    "updated_at": "2024-12-05T15:56:03Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 2520702456,
      "node_id": "IC_kwDOABII586WPt34",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2520702456",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-05T15:55:51Z",
      "updated_at": "2024-12-05T15:55:51Z",
      "author_association": "MEMBER",
      "body": "> Using an external Transcend 1TB SSD as `datadir`.\r\n\r\nWhat filesystem? Did you check the connection and the drive for defects?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31430#issuecomment-2520702456",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31430"
    },
    {
      "event": "labeled",
      "id": 15546380775,
      "node_id": "LE_lADOABII586iK293zwAAAAOeovHn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15546380775",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-05T15:55:59Z",
      "label": {
        "name": "Data corruption",
        "color": "f7c6c7"
      }
    },
    {
      "event": "labeled",
      "id": 15546380786,
      "node_id": "LE_lADOABII586iK293zwAAAAOeovHy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15546380786",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-05T15:55:59Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "labeled",
      "id": 15546381717,
      "node_id": "LE_lADOABII586iK293zwAAAAOeovWV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15546381717",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-05T15:56:03Z",
      "label": {
        "name": "macOS",
        "color": "660000"
      }
    }
  ]
}