{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29770",
    "id": 1799118469,
    "node_id": "PR_kwDOABII585rPF6F",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29770",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29770.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29770.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29770",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29770/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29770/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29770/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/809fffdd6efe2525113597691e92751e2fd8678c",
    "number": 29770,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "index: Check all necessary block data is available before starting to sync",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is based on #29668 and will be taken out of draft status once that is merged.\r\n\r\nCurrently, we check that `BLOCK_HAVE_DATA` is available for all blocks an index needs to sync during startup. However, for `coinstatsindex` and `blockfilterindex` we also need the undo data for these blocks. If that data is missing in the blocks, we are currently still starting to sync each of these indices and then crash later when we encounter the missing data.\r\n\r\nThis PR adds explicit knowledge of which block data is needed for each index and then checks its availability during startup before initializing the sync process on them.",
    "labels": [
      {
        "id": 97470796,
        "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
        "name": "UTXO Db and Indexes",
        "color": "fbca04",
        "default": false
      }
    ],
    "created_at": "2024-03-30T22:55:19Z",
    "updated_at": "2024-03-30T23:16:56Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "02dd804494beb0af1ddff569c19254ceb38848cc",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "fjahr:2024-03-check-undo-index",
      "ref": "2024-03-check-undo-index",
      "sha": "809fffdd6efe2525113597691e92751e2fd8678c",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 196253948,
        "node_id": "MDEwOlJlcG9zaXRvcnkxOTYyNTM5NDg=",
        "name": "bitcoin",
        "full_name": "fjahr/bitcoin",
        "owner": {
          "login": "fjahr",
          "id": 1322187,
          "node_id": "MDQ6VXNlcjEzMjIxODc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/fjahr",
          "html_url": "https://github.com/fjahr",
          "followers_url": "https://api.github.com/users/fjahr/followers",
          "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
          "organizations_url": "https://api.github.com/users/fjahr/orgs",
          "repos_url": "https://api.github.com/users/fjahr/repos",
          "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/fjahr/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/fjahr/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/fjahr/bitcoin",
        "archive_url": "https://api.github.com/repos/fjahr/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/fjahr/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/fjahr/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/fjahr/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/fjahr/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/fjahr/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/fjahr/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/fjahr/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/fjahr/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/fjahr/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/fjahr/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/fjahr/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/fjahr/bitcoin/events",
        "forks_url": "https://api.github.com/repos/fjahr/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/fjahr/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/fjahr/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/fjahr/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/fjahr/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/fjahr/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/fjahr/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/fjahr/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/fjahr/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/fjahr/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/fjahr/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/fjahr/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/fjahr/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/fjahr/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/fjahr/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/fjahr/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:fjahr/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/fjahr/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/fjahr/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/fjahr/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/fjahr/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/fjahr/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/fjahr/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/fjahr/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/fjahr/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/fjahr/bitcoin/hooks",
        "svn_url": "https://github.com/fjahr/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 241973,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-30T22:48:20Z",
        "created_at": "2019-07-10T18:11:06Z",
        "updated_at": "2022-02-24T18:41:19Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "61de64df6790077857faba84796bb874b59c5d15",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34952,
        "stargazers_count": 75156,
        "watchers_count": 75156,
        "size": 253928,
        "default_branch": "master",
        "open_issues_count": 721,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-30T23:41:02Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-03-30T23:54:32Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29770"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 112,
    "deletions": 14,
    "changed_files": 11,
    "commits": 6,
    "review_comments": 0,
    "comments": 2
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE2MmUyMDk1YWUwYjM0N2M3ZDJkYjA1NzM4ZjE4MWI4ZTUyZDg3NWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/162e2095ae0b347c7d2db05738f181b8e52d875d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/162e2095ae0b347c7d2db05738f181b8e52d875d",
      "tree": {
        "sha": "3448fd7024a44ef2af24b15523a6bae20dd6c1b8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3448fd7024a44ef2af24b15523a6bae20dd6c1b8"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3448fd7024a44ef2af24b15523a6bae20dd6c1b8\nparent 015ac13dcc964a31ef06dfdb565f88f901607f0e\nauthor Fabian Jahr <fjahr@protonmail.com> 1710686284 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1711557005 +0100\n\nblockstorage: Add undo data check to GetFirstStoredBlock\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmYESY8VHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jN9RkP/2dRxHlmfY75JzJx70UETIIH1WY1\nHQzlxYFHr34RYS6xEpr00d1YuRdiilnwqgAFPI0oyZRouRAbFOtKUzL12E6ckRQo\nbp1SX2phs8h2Jj3IaNGl+ZGXI349dUGsHdaUUGcPplBSMs4xrh09XCX3AmLoN/Q5\npeBhdNATNI8rAuNf87UBrtxGvue6G6onJEN2Coud9PJopwXbvqSBeoOMmJRv7exx\nqF6Ggb8cIStUnnbhWfa3fSsXhE1CLOMrUe/NVR3+yk0sKIDlVjAFhXHMV6S3Vupz\n4A7RzqxTp/rRGcUR3ELCHHFq5UpDAOTAqe8HNqRSjvUTamm//Vu4RVUtIFSmXLd0\nI+Xfx9Ah2dMqt8iYtHOrGIEHZrdDPBRpuERESL8hn94svCTBwwYuU55ywwBzFfq9\nRu1qJ1l+q+IxPZBiXLOC0Pj3A4KNGrFTB/mUbzszQ1yzhTVbAcQtPuQsbwEBzpQN\nQsb5ykTSLNF4Ffjo6Crpn6hITExqROt89wBLOZClNeTKh2i44jBJ1y/90Mc3dbHb\ne/ToTjoOU+P1wLDwK/Vlv0FZKD62g/fWl4yoYmYYH5zpNsdzrR8dHNfyJFJXl+4e\nVycQnPfde5T6PN1+okHKHKTmHznEJorlASJ6K3xlCOWY9uYqvpZfuyrIV2RUjWNG\n8B+OFqk35yK8pz2j\n=v3S4\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/015ac13dcc964a31ef06dfdb565f88f901607f0e",
          "sha": "015ac13dcc964a31ef06dfdb565f88f901607f0e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/015ac13dcc964a31ef06dfdb565f88f901607f0e"
        }
      ],
      "message": "blockstorage: Add undo data check to GetFirstStoredBlock",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-27T16:30:05Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-17T14:38:04Z"
      },
      "sha": "162e2095ae0b347c7d2db05738f181b8e52d875d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI3YjYwZDk3OWIxNzk1YTY1NDZhYjI4MzFmOWY3MzliN2E4YzU0ZDM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/27b60d979b1795a6546ab2831f9f739b7a8c54d3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/27b60d979b1795a6546ab2831f9f739b7a8c54d3",
      "tree": {
        "sha": "6fd803dab29e206b356fac2f8b04f68d61f5e4b0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6fd803dab29e206b356fac2f8b04f68d61f5e4b0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6fd803dab29e206b356fac2f8b04f68d61f5e4b0\nparent 162e2095ae0b347c7d2db05738f181b8e52d875d\nauthor Fabian Jahr <fjahr@protonmail.com> 1710687458 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1711633832 +0100\n\nrpc: Make pruneheight also reflect undo data presence\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmYFdakVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNL84P/jmHNjcvqDOzJNF6pYFa+2FIZFZ2\nqAD+9B9G9fbq9QQIDuUf3g/MbTffZ8A4lXPT6AlqP2J1l9zdw3xS33kPEAi0Krw3\neRgTMrIcHewLArUG3Sqr/RjZw7r/TnZgdukzOzx0vvaB2gf7KDt4E7EsBd2NN4L+\nBN1ywkDAwtE391i0oNYGD6heeoiEqB4brpvAj0mOLdcyj0AzBE44VrN6sDPnqS8f\ngvTwT5JUdPfv1Jh6OozuZteoYEYUiOgIPD1yvOIx03LJFxD2hpFRK1TDE8MuJ2tn\n9PxKN0pxEk0JqTkiUSf6sDtFnwYHchSk12sexowBEguwNbHDuAoGbLxjIzPZx7xO\n9S4i4amUSH6tUYnOCWPLOGOtA4smbjWuj0q3H0b7SnDZ+nuLrsAw3muAaWeKxdMY\nCw+Q93360TtjJ11z5lDnJ7WpVLzJ1txMNn9p3+4ZTtl15s7zGIEeUwTduQjbOFOh\nlC5HSq7UNzhb4xSwmBD4Ry5V2J4sVkrl5nsDDO8uRvgzYe+nmrw4UeOyx0/1W5Yd\nyMHctLJ17S2aBew/qupHUBtAP1wfuC4nB9+d90Cv+ObxmUjPONfM7/WNfV5O4qSE\ndCSZh4LtIVcg7tSHIodTUnZDtcCJ9TvaRHnxHma5fTCVR6HjBOmMJwhCSUD44mX/\nMvEva3ilhq0eHhEl\n=1r+u\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/162e2095ae0b347c7d2db05738f181b8e52d875d",
          "sha": "162e2095ae0b347c7d2db05738f181b8e52d875d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/162e2095ae0b347c7d2db05738f181b8e52d875d"
        }
      ],
      "message": "rpc: Make pruneheight also reflect undo data presence",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-28T13:50:32Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-17T14:57:38Z"
      },
      "sha": "27b60d979b1795a6546ab2831f9f739b7a8c54d3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNjZmEwODViZTgyMjhmZjA5MmU1ZDk2ZmU1NTEyMWUzZWQ1YjVlNjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3cfa085be8228ff092e5d96fe55121e3ed5b5e67",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3cfa085be8228ff092e5d96fe55121e3ed5b5e67",
      "tree": {
        "sha": "2fb928c228e2ecb6608e9f04b4f22cc6539fe0f7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2fb928c228e2ecb6608e9f04b4f22cc6539fe0f7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2fb928c228e2ecb6608e9f04b4f22cc6539fe0f7\nparent 27b60d979b1795a6546ab2831f9f739b7a8c54d3\nauthor Fabian Jahr <fjahr@protonmail.com> 1710692536 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1711633836 +0100\n\ntest: Test that pruneheight requires undo data\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmYFdawVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNpTwP/AiFGJ6KcOmrFlnSC/XiGyP/soSN\nr2We3gpJleHwc22SLnDIqDVrRu1DEl1cyvahuCDQYLFpxSjU3Qafc0Pl9zBq5ips\nBPRrWXXPuDD8EwLM16ag0SMIRcuT4tOzcm4RL/RPlrEVvPqMms7VYOxFaSOO7S38\nDne/wtbOS4nY8zWgI8hfrHMdqVP1GQKmYNKoXDnOxCFbdqS4Ve8xb6B7j8DwX6/+\nw/m/I1SyguqM/kFiE4ep627jFOb7da1Ly6kH9Yc5vuolTiFcNFCOCPCBc37cmMJ3\nQnWsyjnt2WL97tumsuUcgTF1xd2dbq/XGxNd2ZJld8FXqJlDJs4Z1QP3VOFKpy2Q\nNU1grEx/pNwP9g59OkRnFf3oTyO2/wTMrE90+SSabfnrle9LepNiwF1doVaUUplF\nGqgZfT3UwW+iaOQNrtxaB5SlL/xHKT0CXoOmqP+oXa0/zF6JcG3EMxr+Mvsce7K+\nBigsZ7NLYlGppXTtr/wHWXbI8hA45uAOFsFeKT6IJ4932nAm0etTQHEwkNFRGmfy\nYZyk6b0+dW3qzF/j3AlslkwPsygZDB9BsXlyc50h9aF0GCQTuAsgVUM2fGHjcn52\njX2PKXGXN+aewkC53xKvSTUWH5Dm6qhkFAraREYulOmy+XfgmI9w1wieyGWRA4Z3\nTWMevjRURt+SuJlQ\n=uiJr\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/27b60d979b1795a6546ab2831f9f739b7a8c54d3",
          "sha": "27b60d979b1795a6546ab2831f9f739b7a8c54d3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/27b60d979b1795a6546ab2831f9f739b7a8c54d3"
        }
      ],
      "message": "test: Test that pruneheight requires undo data",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-28T13:50:36Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-17T16:22:16Z"
      },
      "sha": "3cfa085be8228ff092e5d96fe55121e3ed5b5e67"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIzYWM1NjE3N2RmNjg4OGY5ZWRlMzcwMDkyZjI2YjFjZjZiZWJmMjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/23ac56177df6888f9ede370092f26b1cf6bebf26",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/23ac56177df6888f9ede370092f26b1cf6bebf26",
      "tree": {
        "sha": "765c510ecbcdd4bbd92df2b322e37ee023c4ca08",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/765c510ecbcdd4bbd92df2b322e37ee023c4ca08"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 765c510ecbcdd4bbd92df2b322e37ee023c4ca08\nparent 3cfa085be8228ff092e5d96fe55121e3ed5b5e67\nauthor Fabian Jahr <fjahr@protonmail.com> 1710693677 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1711633836 +0100\n\ndoc: Add note to getblockfrompeer on missing undo data\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmYFdawVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNXlgP/1VJgcLkg8iqdUfxzuq7Vr+OUwZI\nyEpaHSZSrixsi1d9NN4UiJu4zzcKfRRhGLnVXWCya4moKQXhtwBn4ESHU9BrB3B3\n9JxDsXQtQYaQFsCygSK69bAdL/OycuGZOAz/tq/DsOFKoKBXFgXzXwIMLvyLUnzG\nczyJQ+Tjcr1DPwUtU0xwZT2k1TecpRHiyIPrBdHU3Ex42RT89H/QEX+cGqP9HZ0A\nb8U+dDAyJuTPeLE8x5y2Z+r1n53cVYHCvf8fXZecJQQRWB6JM+i4VaZMG9lovXQt\nnFC4Z+uMmRVFyMexuAOsFDCBGCwVsbak2fL0ix4NHb3jWnR9WuvxCn/+dKHsDOwz\nutR8nyK/m66jo7eA9l1+v5g1kYlYmzWbMO77gi2PgU3gChlCxlZOVkRHf0BSXDyu\nKLDLHF5Wl8L5wtQHwvjuiRqqZIKM2KVtIKquhc4XTu6M6XwjrYgO0Fnb7qzUJojv\nyN9qXeT4/TcdUm7CIpMvcUGGQR+AOfPsJcmA+O2/tpPmSRcy5O1JIdjEEfsX0cEY\nLaPfxS//L/IoxTV4rN2VjYMeKbbPaRR4+aaxrf9qxGx3snhWFBqayJjrPLzE8+8t\nytGooR/tVj7t9w5dipGB5jIeEzsLNXNL3DMX1CrwMK0cS3zvSj20cbImA9DIPfWI\nIbGR6LvPAz5ABgu4\n=K0xr\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3cfa085be8228ff092e5d96fe55121e3ed5b5e67",
          "sha": "3cfa085be8228ff092e5d96fe55121e3ed5b5e67",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3cfa085be8228ff092e5d96fe55121e3ed5b5e67"
        }
      ],
      "message": "doc: Add note to getblockfrompeer on missing undo data",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-28T13:50:36Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-17T16:41:17Z"
      },
      "sha": "23ac56177df6888f9ede370092f26b1cf6bebf26"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVlYmMwMTgyN2MxZGViNDMxN2E5NTYwYmNlYTVkNzE1YmI5MzUyODk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eebc01827c1deb4317a9560bcea5d715bb935289",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/eebc01827c1deb4317a9560bcea5d715bb935289",
      "tree": {
        "sha": "6fcfec3e9cac2498b048a05d68e8bb30142abb5c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6fcfec3e9cac2498b048a05d68e8bb30142abb5c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6fcfec3e9cac2498b048a05d68e8bb30142abb5c\nparent 23ac56177df6888f9ede370092f26b1cf6bebf26\nauthor Fabian Jahr <fjahr@protonmail.com> 1711742453 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1711838541 +0100\n\nindex: Check availability of all necessary data for indices\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmYIlW4VHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNCEoP/3tiRfcyYTAScqxrAo58ai7Gt/l/\nu/i+j95M6wmWsAx5VByboO3RyCCXOXOAX9Da5WlxUveZrkARFP0jJWIs/PEIFHhf\nm2R0mh8aaIj9r5H5hw24VOItHChkEmln5fcQlHzFHa3qFCorQUSCNPSkcHz40W9E\nicEciXMSE/0Itf+1j4pLTW5ET+P4o4HcJ7A/Yq34QNL/56JIdAm/2Ev1cqA3TYlq\n1QKd0ajzNfZCztUCGkFBBIkWCjZuB4ufZxGg/ki5GeizWOhoIVGTiw+LlO+KaX7O\ndV7mt37uraR+kgB1jBHf1uWv4KrNJ31aVJGXAIBz0Za56UvZWnZuVGpGJgc4DFgS\nIKyRKGWGxdbvDraAOxdUQecBWcVBp1XR2RJM+U2YvjjQb4qJUqVOc0pQZk0CDd73\nyOCS9veCwbEhyuFgTMiCFtKXy4NvgTmF2GJB4Z6vyzdUyFL/ConQGhbe6m1J/VJm\n9gpuzXnHi3XObYZ+0f9M94IEjj0UwLkyW4LvXcQtvYAnqBzYwrEu5K8QhnMUB7YW\nM6ud93ztdR2QxFy+2RGDnBxJL9sg3v/U67/vdwPCqR8SqZPxhwCX7AT8CBkHT4X4\nkpenljhZRmx8g7wX0onvvwZXSJPrhDLduJZgzOUcLQjGvviiJTiJ1JLA0CmP58RR\nNO8YdYgFNYWPHNH7\n=QPVI\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/23ac56177df6888f9ede370092f26b1cf6bebf26",
          "sha": "23ac56177df6888f9ede370092f26b1cf6bebf26",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/23ac56177df6888f9ede370092f26b1cf6bebf26"
        }
      ],
      "message": "index: Check availability of all necessary data for indices",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-30T22:42:21Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-29T20:00:53Z"
      },
      "sha": "eebc01827c1deb4317a9560bcea5d715bb935289"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgwOWZmZmRkNmVmZTI1MjUxMTM1OTc2OTFlOTI3NTFlMmZkODY3OGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/809fffdd6efe2525113597691e92751e2fd8678c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/809fffdd6efe2525113597691e92751e2fd8678c",
      "tree": {
        "sha": "3cf9929fd586a64605e050dddf37dc6dbd654e3a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3cf9929fd586a64605e050dddf37dc6dbd654e3a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3cf9929fd586a64605e050dddf37dc6dbd654e3a\nparent eebc01827c1deb4317a9560bcea5d715bb935289\nauthor Fabian Jahr <fjahr@protonmail.com> 1711837928 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1711838574 +0100\n\ntest: Indices can not start based on block data without undo data\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmYIlW4VHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNfy0P/2MSLQK78jTnkqvsIs2iG/1oAQ8H\nWCn0Z10hziCelAOc54NbU0yTuyeYEJJX3xjm2vS6aSKI/EP8e+PhUyj3sCJb2ux9\nZuJXy3Xlzi2/YMSkmnG6j3ouBw/vg+Cl6I2LmohFdZnJzt10c2bYKJcD3s0kguuo\nTM/zcGpmDx7L7n2uBK6jL2hBcavWfcTkwT7DSs+D3xK9SzCdSPv3zSm6u9vRwJmI\nWHqDcSNeYXsSWbnGEOvplj3YKtVPjvZRwXPXVsGnIjCNs15doQ6d+fc7yiqwOmd7\nhwOQAh8RqTxjIKSAy1/BFMvxKAYam52RdHaVUWgz7HT0WadkEWI5Wh3B+cBMrISW\nV2K3+3SqKL1OfIzcPDPOonVsGhidN+mQlT4lOKIK53a4PTraHUNb42ZsqGH2sGes\n0+lTmE4N3jt8A8vapPvmlWteEm40HptPD7E1vxy6qWFLOqNOU+TN9mA2TEnml1nl\nlwtwrP6xieajsbk6UTh8yegeoEB/ZmQTlCWuBVoQL6qwBWEeY4TSpkE3R7F4TrgX\nnt+mCvtuSC3T1YPMMN4cJBfnnpJKma5Vwhge9hOrVr2MHdfdQC2UG0EBzCKKHoqV\nY0+474PPkyfAuMLwjt3e+uz1ryL98ztC6ru1vhWAWM4bluHOvo53aw/kT7JCUnp+\nPXhnsvagqXXKpv+k\n=6aFp\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eebc01827c1deb4317a9560bcea5d715bb935289",
          "sha": "eebc01827c1deb4317a9560bcea5d715bb935289",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/eebc01827c1deb4317a9560bcea5d715bb935289"
        }
      ],
      "message": "test: Indices can not start based on block data without undo data",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-30T22:42:54Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-30T22:32:08Z"
      },
      "sha": "809fffdd6efe2525113597691e92751e2fd8678c"
    },
    {
      "event": "commented",
      "id": 2028488817,
      "node_id": "IC_kwDOABII58546Ehx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028488817",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-30T22:55:22Z",
      "updated_at": "2024-03-30T23:16:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29770).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/29770#issuecomment-2028492440) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29770#issuecomment-2028488817",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29770"
    },
    {
      "event": "labeled",
      "id": 12301902910,
      "node_id": "LE_lADOABII586EIAoKzwAAAALdQCQ-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12301902910",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-30T22:55:24Z",
      "label": {
        "name": "UTXO Db and Indexes",
        "color": "fbca04"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-30T22:57:11Z",
      "updated_at": "2024-03-30T22:57:11Z",
      "source": {
        "issue": {
          "id": 2190757214,
          "node_id": "PR_kwDOABII585p3XOc",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29668",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29668/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29668/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29668/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29668",
          "number": 29668,
          "state": "open",
          "state_reason": null,
          "title": "prune, rpc: Check undo data when finding pruneheight",
          "body": "The function `GetFirstStoredBlock()` helps us find the first block for which we have data. So far this function only looked for a block with `BLOCK_HAVE_DATA`. However, this doesn't mean that we also have the undo data of that block, and undo data might be required for what a user would like to do with those blocks. One example of how this might happen is if some blocks were fetched using the `getblockfrompeer` RPC. Blocks fetched from a peer will have data but no undo data.\r\n\r\nThe first commit here allows `GetFirstStoredBlock()` to check for undo data as well by passing a parameter. This alone is useful for #29553 and I would use it there.\r\n\r\nIn the second commit I am applying the undo check to the RPCs that report `pruneheight` to the user. I find this much more intuitive because I think the user expects to be able to do all operations on blocks up until the `pruneheight` but that is not the case if undo data is missing. I personally ran into this once before and now again when testing for assumeutxo when I had used `getblockfrompeer`. The following commit adds test coverage for this change of behavior.\r\n\r\nThe last commit adds a note in the docs of `getblockfrompeer` that undo data will not be available.\r\n",
          "user": {
            "login": "fjahr",
            "id": 1322187,
            "node_id": "MDQ6VXNlcjEzMjIxODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fjahr",
            "html_url": "https://github.com/fjahr",
            "followers_url": "https://api.github.com/users/fjahr/followers",
            "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
            "organizations_url": "https://api.github.com/users/fjahr/orgs",
            "repos_url": "https://api.github.com/users/fjahr/repos",
            "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fjahr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29668",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29668",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29668.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29668.patch"
          },
          "created_at": "2024-03-17T16:42:40Z",
          "updated_at": "2024-03-30T22:57:12Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 2028492440,
      "node_id": "IC_kwDOABII58546FaY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028492440",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-30T23:16:53Z",
      "updated_at": "2024-03-30T23:16:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29770#issuecomment-2028492440",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29770"
    }
  ],
  "comments": []
}