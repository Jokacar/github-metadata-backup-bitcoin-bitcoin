{
  "type": "issue",
  "issue": {
    "id": 1994401370,
    "node_id": "I_kwDOABII58524CZa",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28879",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28879/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28879/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28879/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/28879",
    "number": 28879,
    "state": "closed",
    "state_reason": "completed",
    "title": "Clean up some code inside interpreter.cpp",
    "body": "### Please describe the feature you'd like to see added.\r\n\r\nThe below code would run a bit faster.\r\n\r\n```\r\n                    // Drop the signature in pre-segwit scripts but not segwit scripts\r\n                    if (sigversion == SigVersion::BASE) {\r\n                        for (int k = 0; k < nSigsCount; k++)\r\n                        {\r\n                            valtype& vchSig = stacktop(-isig-k);\r\n                            int found = FindAndDelete(scriptCode, CScript() << vchSig);\r\n                            if (found > 0 && (flags & SCRIPT_VERIFY_CONST_SCRIPTCODE))\r\n                                return set_error(serror, SCRIPT_ERR_SIG_FINDANDDELETE);\r\n                        }\r\n                    }```\r\n\r\n### Is your feature related to a problem, if so please describe it.\r\n\r\nNo.\r\n\r\n### Describe the solution you'd like\r\n\r\nThe below code would only  execute the FOR loop if the sigversion matches in the external IF statement \r\n\r\n```\r\n                    // Drop the signature in pre-segwit scripts but not segwit scripts\r\n                    if (sigversion == SigVersion::BASE) {\r\n                        for (int k = 0; k < nSigsCount; k++)\r\n                        {\r\n                            valtype& vchSig = stacktop(-isig-k);\r\n                            int found = FindAndDelete(scriptCode, CScript() << vchSig);\r\n                            if (found > 0 && (flags & SCRIPT_VERIFY_CONST_SCRIPTCODE))\r\n                                return set_error(serror, SCRIPT_ERR_SIG_FINDANDDELETE);\r\n                        }\r\n                    }```\r\n\r\n### Describe any alternatives you've considered\r\n\r\nNone.\r\n\r\n### Please leave any additional context\r\n\r\nThis would speed up execution of code.",
    "user": {
      "login": "janus",
      "id": 6726,
      "node_id": "MDQ6VXNlcjY3MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janus",
      "html_url": "https://github.com/janus",
      "followers_url": "https://api.github.com/users/janus/followers",
      "following_url": "https://api.github.com/users/janus/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/janus/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/janus/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/janus/subscriptions",
      "organizations_url": "https://api.github.com/users/janus/orgs",
      "repos_url": "https://api.github.com/users/janus/repos",
      "events_url": "https://api.github.com/users/janus/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/janus/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "comments": 1,
    "closed_at": "2023-11-15T09:54:39Z",
    "closed_by": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "created_at": "2023-11-15T09:37:26Z",
    "updated_at": "2024-11-14T17:16:10Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 10965098018,
      "node_id": "LE_lADOABII58524CZazwAAAAKNkh4i",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10965098018",
      "actor": {
        "login": "janus",
        "id": 6726,
        "node_id": "MDQ6VXNlcjY3MjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6726?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/janus",
        "html_url": "https://github.com/janus",
        "followers_url": "https://api.github.com/users/janus/followers",
        "following_url": "https://api.github.com/users/janus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/janus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/janus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/janus/subscriptions",
        "organizations_url": "https://api.github.com/users/janus/orgs",
        "repos_url": "https://api.github.com/users/janus/repos",
        "events_url": "https://api.github.com/users/janus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/janus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T09:37:26Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "unlabeled",
      "id": 10965110397,
      "node_id": "UNLE_lADOABII58524CZazwAAAAKNkk59",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10965110397",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T09:38:33Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "commented",
      "id": 1812132295,
      "node_id": "IC_kwDOABII585sAvHH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812132295",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T09:54:40Z",
      "updated_at": "2023-11-15T09:54:40Z",
      "author_association": "MEMBER",
      "body": "You'll have to provide benchmarks, if you claim that this speeds up something. Keep in mind that compilers can produce optimized executables, when passed optimization flags, without having to change any code at all.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/28879#issuecomment-1812132295",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28879"
    },
    {
      "event": "closed",
      "id": 10965286036,
      "node_id": "CE_lADOABII58524CZazwAAAAKNlPyU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10965286036",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T09:54:40Z"
    },
    {
      "event": "locked",
      "id": 15301966267,
      "node_id": "LOE_lADOABII58524CZazwAAAAOQEXm7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15301966267",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-14T17:16:10Z"
    }
  ]
}