{
  "type": "issue",
  "issue": {
    "id": 775749242,
    "node_id": "MDU6SXNzdWU3NzU3NDkyNDI=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/20795",
    "number": 20795,
    "state": "closed",
    "state_reason": "completed",
    "title": "Privacy Issue - Increase Fee with Custom Change Address grabs new UTXO  ",
    "body": "I am relaying a privacy issue for Bitcoin Core that was [reported on r/Bitcoin](https://reddit.com/r/Bitcoin/comments/klk2wh) (Reddit).\r\n\r\nThe [message](https://pastebin.com/raw/ptFQityt) was:\r\n\r\n- _Using coin control_\r\n- _Custom change address_\r\n\r\n_When one clicks the increase transaction fee button, it adds another input rather than increasing the fee by reducing the change output. Major privacy leak since you have no control of the input used._\r\n\r\nFrom that it sounds like the observed behavior is that the replacement transaction includes an additional UTXO that was not chosen by the user, even though the transaction was composed as a Coin Control transaction.\r\n\r\nSo I'm assuming the expected behavior would be for Bitcoin Core to remember that this OUTPUT was actually a Custom Change Address and to then lower the amount of that OUTPUT by the amount needed for the fee bump.\r\n\r\nAnd, now that I am thinking of this, isn't there the expectation that if my initial transaction was done using Coin Control, and then if my fee bump (RBF) needs another UTXO input to cover the increase in fee, that Coin Selection for that will occur (regardless of whether or not the change address was a Custom Change Address)?  ",
    "user": {
      "login": "cointastical",
      "id": 60823751,
      "node_id": "MDQ6VXNlcjYwODIzNzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/60823751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cointastical",
      "html_url": "https://github.com/cointastical",
      "followers_url": "https://api.github.com/users/cointastical/followers",
      "following_url": "https://api.github.com/users/cointastical/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/cointastical/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/cointastical/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/cointastical/subscriptions",
      "organizations_url": "https://api.github.com/users/cointastical/orgs",
      "repos_url": "https://api.github.com/users/cointastical/repos",
      "events_url": "https://api.github.com/users/cointastical/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/cointastical/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 135946,
        "node_id": "MDU6TGFiZWwxMzU5NDY=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI",
        "name": "GUI",
        "color": "02d7e1",
        "default": false
      },
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 249581124,
        "node_id": "MDU6TGFiZWwyNDk1ODExMjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Privacy",
        "name": "Privacy",
        "color": "5319e7",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 9,
    "closed_at": "2023-07-20T08:55:19Z",
    "created_at": "2020-12-29T07:31:49Z",
    "updated_at": "2023-07-20T08:55:19Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 4153871821,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQxNTM4NzE4MjE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4153871821",
      "actor": {
        "login": "cointastical",
        "id": 60823751,
        "node_id": "MDQ6VXNlcjYwODIzNzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/60823751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cointastical",
        "html_url": "https://github.com/cointastical",
        "followers_url": "https://api.github.com/users/cointastical/followers",
        "following_url": "https://api.github.com/users/cointastical/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cointastical/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cointastical/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cointastical/subscriptions",
        "organizations_url": "https://api.github.com/users/cointastical/orgs",
        "repos_url": "https://api.github.com/users/cointastical/repos",
        "events_url": "https://api.github.com/users/cointastical/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cointastical/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-12-29T07:31:49Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "commented",
      "id": 758211347,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1ODIxMTM0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/758211347",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-11T20:43:24Z",
      "updated_at": "2021-01-11T20:44:49Z",
      "author_association": "NONE",
      "body": "Just tried to reproduce this issue and it looks like a bug which might be the reason for lot of transactions overpaying fees, privacy issues and the user might think he just increased the fee for a transaction in which \"coin control\" was used. Surprised that nobody replied anything yet here.\r\n\r\n> And, now that I am thinking of this, isn't there the expectation that if my initial transaction was done using Coin Control, and then if my fee bump (RBF) needs another UTXO input to cover the increase in fee, that Coin Selection for that will occur (regardless of whether or not the change address was a Custom Change Address)?\r\n\r\nAtleast user should be given warning if inputs are being changed. Let me share the details of my test transaction below:\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/104236072-f00c9880-547b-11eb-945f-a433fab1ded8.png)\r\n\r\n\r\nInitial tx with RBF enabled, selected one input from wallet, a custom change address (new address from same wallet):\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/104235649-4a592980-547b-11eb-8be7-9df32955a909.png)\r\n\r\nReplacement transaction: https://blockstream.info/testnet/tx/ae3975a21c646c1c74c228e388672f652883f4d312cc7a437b9180cc1390515b\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/104235750-69f05200-547b-11eb-9893-061990e3ef14.png)\r\n\r\n\r\n",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20795#issuecomment-758211347",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795"
    },
    {
      "event": "commented",
      "id": 758327431,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1ODMyNzQzMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/758327431",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-12T01:13:05Z",
      "updated_at": "2021-01-12T01:13:05Z",
      "author_association": "NONE",
      "body": "@achow101 @Xekyo Your thoughts on this issue? It happens only when using custom change address for initial transaction which was RBF enabled and coin control features were used. \r\n\r\nCan we include a warning when replacement transaction is being confirmed? Something like \"_Different inputs might be selected for replacement transaction since custom change address was used earlier_\"\r\n\r\nOr we need to fix something else related to coin selection algorithm being used for replacement transaction?",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20795#issuecomment-758327431",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795"
    },
    {
      "event": "mentioned",
      "id": 4193520520,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDE5MzUyMDUyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4193520520",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-12T01:13:05Z"
    },
    {
      "event": "subscribed",
      "id": 4193520525,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQxOTM1MjA1MjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4193520525",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-12T01:13:05Z"
    },
    {
      "event": "mentioned",
      "id": 4193520528,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDE5MzUyMDUyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4193520528",
      "actor": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-12T01:13:05Z"
    },
    {
      "event": "subscribed",
      "id": 4193520531,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQxOTM1MjA1MzE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4193520531",
      "actor": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-12T01:13:05Z"
    },
    {
      "event": "labeled",
      "id": 4202605225,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQyMDI2MDUyMjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4202605225",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-13T18:22:30Z",
      "label": {
        "name": "GUI",
        "color": "02d7e1"
      }
    },
    {
      "event": "labeled",
      "id": 4202611179,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQyMDI2MTExNzk=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4202611179",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-13T18:24:09Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "commented",
      "id": 759639883,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc1OTYzOTg4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/759639883",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-13T18:36:28Z",
      "updated_at": "2021-01-13T18:36:28Z",
      "author_association": "MEMBER",
      "body": "Note: Reducing the change output also could be a privacy problem, since it identifies which output was change.",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20795#issuecomment-759639883",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-16T23:56:40Z",
      "updated_at": "2021-01-16T23:56:40Z",
      "source": {
        "issue": {
          "id": 787578339,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTU2MjUwNjM0",
          "url": "https://api.github.com/repos/bitcoin-core/gui/issues/186",
          "repository_url": "https://api.github.com/repos/bitcoin-core/gui",
          "labels_url": "https://api.github.com/repos/bitcoin-core/gui/issues/186/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/gui/issues/186/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/gui/issues/186/events",
          "html_url": "https://github.com/bitcoin-core/gui/pull/186",
          "number": 186,
          "state": "closed",
          "state_reason": null,
          "title": "Add information to \"Confirm fee bump\" window",
          "body": "+ Add information in bump fee confirmation box according to the documentation: https://bitcoincore.org/en/doc/0.20.0/rpc/wallet/bumpfee/\r\n\r\n+ Workaround to fix issue: https://github.com/bitcoin/bitcoin/issues/20795 in which user isn't aware of new inputs, outputs added to replacement transaction before broadcasting. Initial transaction had used coin control features and custom change address. Until the issue is fixed by change in coin selection algorithm we can add this warning.\r\n\r\n+ Waiting for comments from devs who are working on coin selection algorithm PRs or involved in related research. However got two comments from Luke Dashjr and Pieter Wuille:\r\n\r\n_luke-jr: Reducing the change output also could be a privacy problem, since it identifies which output was change._ \r\n\r\n_sipa: Wallet doesn't know the original transaction was using coin control. So I think its expected that if you use automatic fee bumping, you'll get whatever the coin selection algorithm decides. As for why its not decreasing the change and instead adding another input, that may be a bug._  (IRC: #bitcoin-core-dev)",
          "user": {
            "login": "ghost",
            "id": 10137,
            "node_id": "MDQ6VXNlcjEwMTM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ghost",
            "html_url": "https://github.com/ghost",
            "followers_url": "https://api.github.com/users/ghost/followers",
            "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
            "organizations_url": "https://api.github.com/users/ghost/orgs",
            "repos_url": "https://api.github.com/users/ghost/repos",
            "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ghost/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/gui/pulls/186",
            "html_url": "https://github.com/bitcoin-core/gui/pull/186",
            "diff_url": "https://github.com/bitcoin-core/gui/pull/186.diff",
            "patch_url": "https://github.com/bitcoin-core/gui/pull/186.patch"
          },
          "closed_at": "2021-01-26T09:30:29Z",
          "created_at": "2021-01-16T23:56:40Z",
          "updated_at": "2022-08-16T16:55:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 764776280,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2NDc3NjI4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764776280",
      "actor": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-21T16:37:08Z",
      "updated_at": "2021-01-21T16:37:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "> It happens only when using custom change address\r\n\r\nI don't think that's the case. It also happens when you use a regular change address that you have labelled after using it. When a change address is added to the 'address book' Core no longer recognizes it as a change address and so doesn't know that it can be reduced when bumping the fee.\r\n\r\nI made a related issue #20935 recently.\r\n\r\n> we need to fix something else related to coin selection algorithm being used for replacement transaction?\r\n\r\nProducing a warning when bumping a fee is about to throw away your privacy is a step in the right direction but it would be nice if there was an option to bump a fee without throwing away your privacy.",
      "user": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20795#issuecomment-764776280",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795"
    },
    {
      "event": "commented",
      "id": 766289172,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjI4OTE3Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/766289172",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-24T04:23:59Z",
      "updated_at": "2021-01-24T04:23:59Z",
      "author_association": "NONE",
      "body": "> I don't think that's the case. It also happens when you use a regular change address that you have labelled after using it.\r\n\r\nCorrect. I tested it and below are the results: \r\n\r\n1. New change address created with `getrawchangeaddress`: tb1qqt7w0m00xkth4ugsymw93t74ugkdey6c6g57k9\r\n\r\nUsed for a RBF transaction and replacement transaction had no extra inputs/outputs: https://tbtc.bitaps.com/f7b6c65165e4f7fbce11c8e3426deb207b55dd5b599c8a3e36b30169060421b6\r\n\r\nNo issues. Maybe because change addresses follow  `m/0'/1'/i'` derivation path in bitcoin core wallet.\r\n\r\n2. Labelled the same change address with: `setlabel \"tb1qqt7w0m00xkth4ugsymw93t74ugkdey6c6g57k9\" \"label1\"` and used in a transaction. \r\n\r\nUsed for a RBF transaction and replacement transaction had extra inputs/outputs: https://tbtc.bitaps.com/17f3208ecb34c6c14574de53e73b1039215bed9f67bc4606771c5b032e51d0bf\r\n\r\n3. Created a new 'change address' and labelled it with: `setlabel \"tb1qd4ld5clqv0maky0l9fqr38ck4qr605jx0xqezd\" \"label2\"`\r\n\r\nUsed for a RBF transaction and replacement transaction had extra inputs/outputs: https://tbtc.bitaps.com/9d2d0960d06d09b630ad7e2599d0a608247f548e6f7b91d891bef459229e01af\r\n\r\n>  When a change address is added to the 'address book' Core no longer recognizes it as a change address and so doesn't know that it can be reduced when bumping the fee.\r\n\r\nInteresting. It should still be a 'change address' maybe not recognized as change address to improve privacy (address re-use).\r\n\r\n> Producing a warning when bumping a fee is about to throw away your privacy is a step in the right direction but it would be nice if there was an option to bump a fee without throwing away your privacy.\r\n\r\nAgree. I need to do more tests and this issue is interesting for two reasons: 1. Privacy and Fees can be improved while using Bitcoin Core Wallet 2. I will learn a lot during the research\r\n",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20795#issuecomment-766289172",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-24T04:30:42Z",
      "updated_at": "2021-01-24T04:30:42Z",
      "source": {
        "issue": {
          "id": 786102478,
          "node_id": "MDU6SXNzdWU3ODYxMDI0Nzg=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20935",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20935/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20935/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20935/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/20935",
          "number": 20935,
          "state": "open",
          "state_reason": null,
          "title": "add option to bumpfee RPC to prevent it adding new inputs",
          "body": "**Is your feature request related to a problem? Please describe.**\r\n\r\nWhen I use the `bumpfee` RPC it adds new inputs, potentially damaging privacy. I created the original transaction carefully using coin control to avoid linking specific UTXOs, but `bumpfee` undoes this by adding new inputs apparently at random.\r\n\r\nThis is further exacerbated by the way in which `bumpfee` decides whether to add new inputs or not. It attempts to bump the fee by reducing the change output if possible, but I label my change outputs which causes IsChange() not to recognize them as change. Any labelled UTXO is considered not to be change, which is incorrect:\r\n\r\n    bool CWallet::IsChange(const CScript& script) const\r\n    {\r\n        // TODO: fix handling of 'change' outputs. The assumption is that any\r\n        // payment to a script that is ours, but is not in the address book\r\n        // is change.\r\n\r\n**Describe the solution you'd like**\r\n\r\nI'd like to be able to tell `bumpfee` not to add new inputs. I see in recent release notes:\r\n\r\n> The fundrawtransaction RPC now supports add_inputs option that when false prevents adding more inputs if necessary and consequently the RPC fails.\r\n\r\nSomething like that for `bumpfee` would be ideal.\r\n\r\nI'd also like to be able to bump the fee on transactions where the change is labelled without adding new inputs, and to be able to specify which new inputs to add if new inputs need adding. Basically coin control for bumpfee.",
          "user": {
            "login": "dooglus",
            "id": 573356,
            "node_id": "MDQ6VXNlcjU3MzM1Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dooglus",
            "html_url": "https://github.com/dooglus",
            "followers_url": "https://api.github.com/users/dooglus/followers",
            "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
            "organizations_url": "https://api.github.com/users/dooglus/orgs",
            "repos_url": "https://api.github.com/users/dooglus/repos",
            "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dooglus/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 8,
          "created_at": "2021-01-14T15:52:31Z",
          "updated_at": "2022-08-04T10:51:27Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "unlabeled",
      "id": 4242747287,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50NDI0Mjc0NzI4Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4242747287",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-24T17:46:28Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "labeled",
      "id": 4242747288,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQyNDI3NDcyODg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4242747288",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-24T17:46:28Z",
      "label": {
        "name": "Privacy",
        "color": "5319e7"
      }
    },
    {
      "event": "referenced",
      "id": 4249725978,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQyNDk3MjU5Nzg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4249725978",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "d38e2d9a19c9e93e0593aa3a1d160ca5f4a5cfa7",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d38e2d9a19c9e93e0593aa3a1d160ca5f4a5cfa7",
      "created_at": "2021-01-26T09:30:25Z"
    },
    {
      "event": "referenced",
      "id": 4250499595,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQyNTA0OTk1OTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4250499595",
      "actor": {
        "login": "remyers",
        "id": 8568892,
        "node_id": "MDQ6VXNlcjg1Njg4OTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8568892?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/remyers",
        "html_url": "https://github.com/remyers",
        "followers_url": "https://api.github.com/users/remyers/followers",
        "following_url": "https://api.github.com/users/remyers/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/remyers/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/remyers/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/remyers/subscriptions",
        "organizations_url": "https://api.github.com/users/remyers/orgs",
        "repos_url": "https://api.github.com/users/remyers/repos",
        "events_url": "https://api.github.com/users/remyers/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/remyers/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "dd1912a86c315af361461611c65448404b009321",
      "commit_url": "https://api.github.com/repos/remyers/bitcoin/commits/dd1912a86c315af361461611c65448404b009321",
      "created_at": "2021-01-26T12:45:50Z"
    },
    {
      "event": "referenced",
      "id": 4251522670,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQyNTE1MjI2NzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4251522670",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "37894802aaea2ed6eabb7e21bf45c298c80470f7",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/37894802aaea2ed6eabb7e21bf45c298c80470f7",
      "created_at": "2021-01-26T16:19:19Z"
    },
    {
      "event": "commented",
      "id": 768377125,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODM3NzEyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/768377125",
      "actor": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-27T15:46:21Z",
      "updated_at": "2021-01-27T15:46:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Interesting. It should still be a 'change address' maybe not recognized as change address to improve privacy\r\n\r\nIt's simpler than that. The implementation of IsChange() simply checks the address book and declares that labelled addresses aren't change:\r\n\r\n    bool CWallet::IsChange(const CScript& script) const\r\n    {\r\n        // TODO: fix handling of 'change' outputs. The assumption is that any\r\n        // payment to a script that is ours, but is not in the address book\r\n        // is change. That assumption is likely to break when we implement multisignature\r\n        // wallets that return change back into a multi-signature-protected address;\r\n        // a better way of identifying which outputs are 'the send' and which are\r\n        // 'the change' will need to be implemented (maybe extend CWalletTx to remember\r\n        // which output, if any, was change).\r\n        AssertLockHeld(cs_wallet);\r\n        if (IsMine(script))\r\n        {\r\n            CTxDestination address;\r\n            if (!ExtractDestination(script, address))\r\n                return true;\r\n            if (!FindAddressBookEntry(address)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n",
      "user": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20795#issuecomment-768377125",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795"
    },
    {
      "event": "referenced",
      "id": 4263891176,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQyNjM4OTExNzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4263891176",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "3765febe61a085d233ce42e82b41916a853e84c7",
      "commit_url": "https://api.github.com/repos/bitcoinknots/bitcoin/commits/3765febe61a085d233ce42e82b41916a853e84c7",
      "created_at": "2021-01-29T00:56:29Z"
    },
    {
      "event": "commented",
      "id": 770042279,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3MDA0MjI3OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/770042279",
      "actor": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-29T20:49:29Z",
      "updated_at": "2021-01-29T20:49:29Z",
      "author_association": "NONE",
      "body": "> When a change address is added to the 'address book' Core no longer recognizes it as a change address and so doesn't know that it can be reduced when bumping the fee.\r\n\r\nThis is not true\r\n\r\nTx 1: https://tbtc.bitaps.com/4d4cdd5b237882ae77ef3fac5c71b5639e59b3a888e88a1190f443c194211ec9\r\n\r\nNew change address automatically added by wallet (I just selected input): `tb1qpc8wx9sec3s7sm3j949eeg2pj3e6n3df9c5w2u`\r\n\r\nThis is a \"change address\" in address book which is already used with below result for `getaddressinfo`:\r\n\r\n<pre>\r\n{\r\n  \"address\": \"tb1qpc8wx9sec3s7sm3j949eeg2pj3e6n3df9c5w2u\",\r\n  \"scriptPubKey\": \"00140e0ee31619c461e86e322d4b9ca1419473a9c5a9\",\r\n  \"ismine\": true,\r\n  \"solvable\": true,\r\n  \"desc\": \"wpkh([6ba51506/0'/1'/21']0318d8f780c0074518dda438f445ead485561d285543480111dc91f66a86b06ff4)#63xh5ffu\",\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"0e0ee31619c461e86e322d4b9ca1419473a9c5a9\",\r\n  \"pubkey\": \"0318d8f780c0074518dda438f445ead485561d285543480111dc91f66a86b06ff4\",\r\n  \"ischange\": true,\r\n  \"timestamp\": 1604500822,\r\n  \"hdkeypath\": \"m/0'/1'/21'\",\r\n  \"hdseedid\": \"65d2a44de43ed92fc2e85974b0ceec4b3824aade\",\r\n  \"hdmasterfingerprint\": \"6ba51506\",\r\n  \"labels\": [\r\n  ]\r\n}\r\n</pre>\r\n\r\nI used the same address as \"custom change address\" in another transaction Tx2: https://tbtc.bitaps.com/6f7fa9bb497cc0c07cf541ec4667881abe18def7c6732c1c1309e1d2706658d2\r\n\r\nReplacment transaction Tx3 for Tx2 after increasing fee: https://tbtc.bitaps.com/19c31ec81f301a6b83ab849e0ce64cdb925d5b3a7d30f618c487f393da8b7788 (Fee increased by decreasing the change amount)\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/106325791-62191600-62a1-11eb-8aac-b5164db90aa4.png)\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/106325815-6ba27e00-62a1-11eb-902e-8073fb34cbf4.png)\r\n  ",
      "user": {
        "login": "ghost",
        "id": 10137,
        "node_id": "MDQ6VXNlcjEwMTM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghost",
        "html_url": "https://github.com/ghost",
        "followers_url": "https://api.github.com/users/ghost/followers",
        "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
        "organizations_url": "https://api.github.com/users/ghost/orgs",
        "repos_url": "https://api.github.com/users/ghost/repos",
        "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ghost/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20795#issuecomment-770042279",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795"
    },
    {
      "event": "commented",
      "id": 770228466,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3MDIyODQ2Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/770228466",
      "actor": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-30T15:23:28Z",
      "updated_at": "2021-01-30T15:23:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "I thought being in the address book was the same as being labelled. Your output has no labels, so is it in the address book?\r\n\r\nI'm talking about labeling the change address so that it doesn't show up with an empty list of labels like yours did:\r\n\r\n    \"labels\": [\r\n    ]",
      "user": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20795#issuecomment-770228466",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795"
    },
    {
      "event": "commented",
      "id": 770267178,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc3MDI2NzE3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/770267178",
      "actor": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-30T19:20:42Z",
      "updated_at": "2021-01-30T19:20:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "@prayank23 Specifically this is what I mean about adding a change address to the address book making bitcoin think it is no longer change. I started with a regular change address, verified that it is known to be a change address then labelled it and verified that it is no longer seen as a change address:\r\n\r\n    $ bitcoin-cli -testnet getaddressinfo tb1qh6lk6exzxtgsqsrjc6cf9nc6wm8ru9xn67uh9t | jq .ischange\r\n    true\r\n    $ bitcoin-cli -testnet setlabel tb1qh6lk6exzxtgsqsrjc6cf9nc6wm8ru9xn67uh9t change1\r\n    $ bitcoin-cli -testnet getaddressinfo tb1qh6lk6exzxtgsqsrjc6cf9nc6wm8ru9xn67uh9t | jq .ischange\r\n    false\r\n    $ \r\n",
      "user": {
        "login": "dooglus",
        "id": 573356,
        "node_id": "MDQ6VXNlcjU3MzM1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/573356?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dooglus",
        "html_url": "https://github.com/dooglus",
        "followers_url": "https://api.github.com/users/dooglus/followers",
        "following_url": "https://api.github.com/users/dooglus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dooglus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dooglus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dooglus/subscriptions",
        "organizations_url": "https://api.github.com/users/dooglus/orgs",
        "repos_url": "https://api.github.com/users/dooglus/repos",
        "events_url": "https://api.github.com/users/dooglus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dooglus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/20795#issuecomment-770267178",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20795"
    },
    {
      "event": "mentioned",
      "id": 4269495598,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDI2OTQ5NTU5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4269495598",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-30T19:20:42Z"
    },
    {
      "event": "subscribed",
      "id": 4269495601,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQyNjk0OTU2MDE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4269495601",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-30T19:20:42Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-25T18:57:23Z",
      "updated_at": "2021-02-25T18:57:23Z",
      "source": {
        "issue": {
          "id": 814736025,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTc4Njc1NTUw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21284",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21284/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21284/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21284/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21284",
          "number": 21284,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: add the add_inputs option to bumpfee/psbtbumpfee",
          "body": "As in `fundrawtransaction`, this gives the user the option to specify whether new inputs should be added when bumping the fee. See #20935 ",
          "user": {
            "login": "danben",
            "id": 253639,
            "node_id": "MDQ6VXNlcjI1MzYzOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/253639?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danben",
            "html_url": "https://github.com/danben",
            "followers_url": "https://api.github.com/users/danben/followers",
            "following_url": "https://api.github.com/users/danben/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/danben/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/danben/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/danben/subscriptions",
            "organizations_url": "https://api.github.com/users/danben/orgs",
            "repos_url": "https://api.github.com/users/danben/repos",
            "events_url": "https://api.github.com/users/danben/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/danben/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21284",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21284",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21284.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21284.patch"
          },
          "closed_at": "2022-04-26T12:55:00Z",
          "created_at": "2021-02-23T18:46:32Z",
          "updated_at": "2022-08-04T10:38:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-04T02:06:56Z",
      "updated_at": "2022-08-04T02:06:56Z",
      "source": {
        "issue": {
          "id": 1327972161,
          "node_id": "PR_kwDOABII5848naY6",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25776",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25776/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25776/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25776/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25776",
          "number": 25776,
          "state": "closed",
          "state_reason": null,
          "title": "privacy: `add_inputs` argument for replacements to avoid adding unnecessary inputs",
          "body": "This PR is an attempt to improve privacy by fixing https://github.com/bitcoin/bitcoin/issues/20935 and https://github.com/bitcoin/bitcoin/issues/20795 which was earlier tried in https://github.com/bitcoin/bitcoin/pull/21284\r\n\r\n- Change the argument to boolean\r\n- Rephrased a few things\r\n- Co-author @danben \r\n\r\n```\r\n$ bitcoin-cli bumpfee <txid> \"{\\\"add_inputs\\\": true}\"\r\n```",
          "user": {
            "login": "ghost",
            "id": 10137,
            "node_id": "MDQ6VXNlcjEwMTM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ghost",
            "html_url": "https://github.com/ghost",
            "followers_url": "https://api.github.com/users/ghost/followers",
            "following_url": "https://api.github.com/users/ghost/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ghost/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ghost/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
            "organizations_url": "https://api.github.com/users/ghost/orgs",
            "repos_url": "https://api.github.com/users/ghost/repos",
            "events_url": "https://api.github.com/users/ghost/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ghost/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25776",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25776",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25776.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25776.patch"
          },
          "closed_at": "2022-09-03T06:01:43Z",
          "created_at": "2022-08-04T02:06:56Z",
          "updated_at": "2022-09-03T06:01:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-02T02:31:37Z",
      "updated_at": "2022-09-02T02:31:37Z",
      "source": {
        "issue": {
          "id": 1359383041,
          "node_id": "PR_kwDOABII584-PV2_",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25979",
          "number": 25979,
          "state": "open",
          "state_reason": null,
          "title": "[WIP] wallet: standardize change output detection process",
          "body": "Depends on https://github.com/bitcoin/bitcoin/pull/27601, please go there first.\r\n\r\nThis work aims to define, and implement a base standard mechanism to\r\ndetect individual change outputs.\r\n\r\n### Context\r\n\r\nCurrently, the wallet detects whether an output is change or not based\r\non data stored in the address book.\r\n\r\nThere is no notion of “change outputs”, the wallet detects change scripts.\r\n\r\nConnoting that any address book record modification has implications\r\non all the historical outputs related to that particular destination. Meaning\r\nthat all those outputs can either be change or not. There is no middle-ground\r\ngranular distinction.\r\n\r\n#### How Change Detection Currently Works?\r\n\r\nThe wallet walks-through the transaction outputs, extracts the script\r\ndestination and verify the following two points:\r\n\r\n1) If the destination doesn't exist in the address book, then the script\r\n    is a \"change address\".\r\n   \r\n2) If the destination exists in the address book, but it doesn't have a\r\n     label, then the script is a \"change address\".\r\n\r\n### Motivation\r\n\r\nThere are a good number of problems in the current approach:\r\n\r\n- We make the wallet dependent on an external structure, with separate storage.\r\n   Which has to be updated and maintained along with the wallet state.\r\n\r\n- It cannot be maintained nor recovered across different wallet instances.\r\n   Cannot re-create the, possibly custom, address book data only by importing\r\n   the wallet descriptor string.\r\n\r\n- As the address book is an structure that the user can freely modify, the change\r\n   detection process might differ through different wallets.\r\n \r\n- The current rudimentary assumptions of \"no address book entry\" or \"no label set for the address book entry\"\r\n  to denote that certain script destination is change or not can easily be broken:\r\n  E.g. derive an address from one of the wallet’s external paths manually. Then send coins to it.\r\n  As the receive destination wasn't created inside the wallet, the wallet has no associated address book entry.\r\n  So, the reception is invalidly detected as change (added a test case for it).\r\n\r\n- The wallet can't detect change outputs on more complex scripts such as multi-sig change outputs.\r\n\r\n- The wallet is not able to detect change outputs going to an internal address if the internal address has a label.\r\n  (E.g. the user can manually set a label for the internal address and, doing that, make that all the change\r\n  outputs, in the wallet history, that were sent to the destination are no longer detected as change).\r\n\r\n- There isn’t a way to distinguish the external reception of coins into an internal address. Coins reception on any\r\n   internal address are always detected as change.\r\n\r\n### New Change Detection Mechanism Goals\r\n\r\nAiming to:\r\n\r\n* Define a base mechanism to align different wallet implementations. Preventing each piece of software\r\n  from diverging on the basic change outputs distinction.\r\n\r\n* Detect change outputs on-demand without requiring to maintain an external data structure synced with the\r\n   latest wallet state.\r\n\r\n* Independently, and accurately, detect change outputs regardless data stored in structures that the user\r\n   can freely modify.\r\n\r\n* Granular distinction between change vs non-change outputs that were sent to the same internal address.\r\n  E.g. the reception of coins, from an external source, on internal addresses will not longer be detected\r\n  as change anymore.\r\n\r\n* Expand the change detection to more complex scripts such as a multi-sig protected addresses. (While they\r\n  are added into the wallet on an internal spkm)\r\n\r\n#### Change Output Detection Rules\r\n\r\nA transaction output is change if it fulfills the following points:\r\n\r\n1) At least one of the parent transaction inputs is from the wallet. (If none of them are, then the wallet is receiving coins\r\n    on an internal address).\r\n\r\n2) The script extracted destination is from the wallet and is located in one of the internal script pub key manager.\r\n    (e.g. derived from an internal derivation path)\r\n\r\n#### What about legacy wallets?\r\n\r\nIf the legacy wallet is HD post-split, we have an internal derivation path, so we can follow the same process as\r\ndescriptors wallet. Unless the destination is on the pre-split key pool, in which case, we fallback to the follow-up\r\ncase.\r\n\r\nIf the legacy wallet is pre-split, we continue using the address book as we either have an HD wallet with keys\r\nderived only on the external path, or we are using raw keypool.\r\n\r\n———————————————————————\r\n\r\n#### Extra Note\r\nThis PR, in about 85% at least, is about expanding the current test coverage for the change output detection area.\r\n\r\n#### TO DO (still WIP):\r\n\r\n* [x] Save “internal” flag on non-active descriptors so the wallet can use them on the change detection process.\r\n   (which will fix the currently failing test cases).\r\n* [ ] Re-organize commits so tests always pass.\r\n* [ ] Verify backwards compatibility.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25979",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25979",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25979.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25979.patch"
          },
          "created_at": "2022-09-01T20:40:07Z",
          "updated_at": "2023-07-20T10:57:10Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-07T23:38:09Z",
      "updated_at": "2022-11-07T23:38:09Z",
      "source": {
        "issue": {
          "id": 1439164645,
          "node_id": "PR_kwDOABII585CXmaB",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26467",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26467/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26467/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26467/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26467",
          "number": 26467,
          "state": "closed",
          "state_reason": null,
          "title": "bumpfee: Allow the user to choose which output is change",
          "body": "When bumping the transaction fee, we will try to find the change output of the transaction in order to have an output whose value we can modify so that we can meet the target feerate. However we do not always find the change output which can cause us to unnecessarily add an additional output to the transaction. We can avoid this issue by outsourcing the determination of change to the user if they so desire.\r\n\r\nThis PR adds a `orig_change_pos` option to bumpfee which the user can use to specify the index of the change output.\r\n\r\nFixes #11233\r\nFixes #20795",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26467",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26467",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26467.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26467.patch"
          },
          "closed_at": "2023-07-20T08:55:23Z",
          "created_at": "2022-11-07T23:38:09Z",
          "updated_at": "2023-07-28T11:11:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "closed",
      "id": 9871771917,
      "node_id": "CE_lADOABII584uPP56zwAAAAJMZ0kN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9871771917",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "04afe55e29002a1d46d1cd9ed117229874840ae6",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/04afe55e29002a1d46d1cd9ed117229874840ae6",
      "created_at": "2023-07-20T08:55:20Z"
    }
  ]
}