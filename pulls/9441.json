{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441",
    "id": 99628529,
    "node_id": "MDExOlB1bGxSZXF1ZXN0OTk2Mjg1Mjk=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9441",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/9441.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/9441.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/e60360e139852c655930e99d4bb4db554cd8385e",
    "number": 9441,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Net: Massive speedup. Net locks overhaul",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Depends on (includes) #9289. This is what I ultimately set out to fix with the net refactor.\r\n\r\nIn my (short) tests, it cuts network latency to ~50%. In some cases, more like 30%.\r\n\r\nTest method: 1 fresh node (macbook) connected to a single other node (desktop). Testnet. Running until synced to block 10000. Results:\r\n```\r\nnew = patched with this PR.\r\nold = running #9289.\r\nclient / server\r\nold / old: 100000 in 8:05\r\nnew / old: 100000 in 3:24\r\nnew / new: 100000 in 2:16\r\n```\r\nThe results are very reproducible, always within a few seconds. Not only is it a nice improvement for the fresh node, but it compounds when its peer is running the updated code as well.\r\n\r\nI had hoped to have the abstraction complete in time for 0.14, but it looks like that's unlikely at this point. For reference, it would look something more like https://github.com/theuni/bitcoin/commit/1a6b10aea129ac363727c2d68fae809c2861e4da.\r\n\r\nAnyway, this is an attempt to fix the actual issue in time for 0.14, and putting off the last bit of refactor until after that. This addresses the issue observed in #9415, but also cleans up the nasty locking issues.\r\n\r\nI labeled this WIP because there are probably still several racy bits. Quite a bit of test-writing remains.\r\n\r\nSee the individual commits for the details. tl;dr: We currently either process a peer's message or read from their socket, but never both simultaneously. The changes here remove that restriction. ",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      },
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/21",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21/labels",
      "id": 1823680,
      "node_id": "MDk6TWlsZXN0b25lMTgyMzY4MA==",
      "number": 21,
      "state": "closed",
      "title": "0.14.0",
      "description": "",
      "creator": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 0,
      "closed_issues": 156,
      "created_at": "2016-06-13T14:18:51Z",
      "updated_at": "2017-03-08T16:39:44Z",
      "closed_at": "2017-03-08T16:39:44Z"
    },
    "active_lock_reason": "resolved",
    "created_at": "2016-12-29T08:07:21Z",
    "updated_at": "2021-09-08T11:08:36Z",
    "closed_at": "2017-01-13T18:02:42Z",
    "mergeable_state": "unknown",
    "merged_at": "2017-01-13T18:02:42Z",
    "merge_commit_sha": "e60360e139852c655930e99d4bb4db554cd8385e",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "theuni:connman-locks",
      "ref": "connman-locks",
      "sha": "e60360e139852c655930e99d4bb4db554cd8385e",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 10302141,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMDMwMjE0MQ==",
        "name": "bitcoin",
        "full_name": "theuni/bitcoin",
        "owner": {
          "login": "theuni",
          "id": 417043,
          "node_id": "MDQ6VXNlcjQxNzA0Mw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/theuni",
          "html_url": "https://github.com/theuni",
          "followers_url": "https://api.github.com/users/theuni/followers",
          "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
          "organizations_url": "https://api.github.com/users/theuni/orgs",
          "repos_url": "https://api.github.com/users/theuni/repos",
          "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/theuni/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/theuni/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/theuni/bitcoin",
        "archive_url": "https://api.github.com/repos/theuni/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/theuni/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/theuni/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/theuni/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/theuni/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/theuni/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/theuni/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/theuni/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/theuni/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/theuni/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/theuni/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/theuni/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/theuni/bitcoin/events",
        "forks_url": "https://api.github.com/repos/theuni/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/theuni/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/theuni/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/theuni/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/theuni/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/theuni/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/theuni/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/theuni/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/theuni/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/theuni/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/theuni/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/theuni/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/theuni/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/theuni/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/theuni/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/theuni/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:theuni/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/theuni/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/theuni/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/theuni/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/theuni/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/theuni/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/theuni/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/theuni/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/theuni/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/theuni/bitcoin/hooks",
        "svn_url": "https://github.com/theuni/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "C++",
        "forks_count": 3,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 223311,
        "default_branch": "trivial-next",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-07-07T14:16:01Z",
        "created_at": "2013-05-26T18:55:06Z",
        "updated_at": "2023-07-29T06:29:25Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "02e5308c1b9f3771bbe49bc5036215fa2bd66aa9",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35475,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 668,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T15:32:04Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T16:01:10Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 107,
    "deletions": 125,
    "changed_files": 4,
    "commits": 16,
    "review_comments": 37,
    "comments": 29
  },
  "events": [
    {
      "event": "labeled",
      "id": 907147694,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDkwNzE0NzY5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/907147694",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-29T08:23:39Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "milestoned",
      "id": 907147835,
      "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDkwNzE0NzgzNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/907147835",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-29T08:23:56Z",
      "milestone": {
        "title": "0.14.0"
      }
    },
    {
      "event": "labeled",
      "id": 907148156,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDkwNzE0ODE1Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/907148156",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-29T08:24:32Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-29T15:46:55Z",
      "updated_at": "2016-12-29T15:46:55Z",
      "source": {
        "issue": {
          "id": 197432325,
          "node_id": "MDExOlB1bGxSZXF1ZXN0OTkyODUzMDg=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9415",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9415/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9415/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9415/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/9415",
          "number": 9415,
          "state": "closed",
          "state_reason": null,
          "title": "Reduce latency of ThreadMessageHandler. (3.2x speedup for IBD to 200k)",
          "body": "Instead of using a 100ms sleep in the condition variable, this changes\r\n it to sleep for 100ms after the loop started, so if the loop takes a\r\n long time (e.g. due to waiting on the vnodes lock at the end) it will\r\n restart sooner.\r\n\r\nAlso avoids a potential 100ms delay before announcing a new block that\r\n arrived via submitblock, prevents delays in processing messages for\r\n early peers when they arrive part way through the message handler loop,\r\n and reruns the message handler when some peers don't finish sendmessages\r\n due to contention for cs_main.\r\n\r\nThe final commit  changes the message handling to only hold cs_vRecvMsg long\r\nenough to move out the message. This speeds up IBD up to 200k from a single\r\npeer over GbE compared to master by about 200%, by eliminating cs_vRecvMsg\r\ncontention (that the prior commits happened to also make worse).  With this change\r\non both sides the speedup is ~3.2x.\r\n",
          "user": {
            "login": "gmaxwell",
            "id": 858454,
            "node_id": "MDQ6VXNlcjg1ODQ1NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gmaxwell",
            "html_url": "https://github.com/gmaxwell",
            "followers_url": "https://api.github.com/users/gmaxwell/followers",
            "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
            "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
            "repos_url": "https://api.github.com/users/gmaxwell/repos",
            "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9415",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/9415",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/9415.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/9415.patch"
          },
          "closed_at": "2016-12-29T17:58:26Z",
          "created_at": "2016-12-23T22:17:13Z",
          "updated_at": "2021-09-08T11:23:34Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 14685561,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTQ2ODU1NjE=",
      "url": null,
      "actor": null,
      "commit_id": "65e916c499658e656a6e23455f22666fb0068edc",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "rebroad",
        "id": 1530283,
        "node_id": "MDQ6VXNlcjE1MzAyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1530283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rebroad",
        "html_url": "https://github.com/rebroad",
        "followers_url": "https://api.github.com/users/rebroad/followers",
        "following_url": "https://api.github.com/users/rebroad/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rebroad/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rebroad/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
        "organizations_url": "https://api.github.com/users/rebroad/orgs",
        "repos_url": "https://api.github.com/users/rebroad/repos",
        "events_url": "https://api.github.com/users/rebroad/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rebroad/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-14685561",
      "submitted_at": "2016-12-29T16:37:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 907633144,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTA3NjMzMTQ0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/907633144",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-29T19:55:53Z"
    },
    {
      "event": "commented",
      "id": 269843583,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTg0MzU4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269843583",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-31T02:09:17Z",
      "updated_at": "2016-12-31T02:09:17Z",
      "author_association": "MEMBER",
      "body": "@sipa I've spent all day on changing this around some and breaking this up into logical commits in order to satisfy myself (and i hope others) that it's safe. I'll push up a fresh version in a few min, and drop the WIP tag.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-269843583",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "mentioned",
      "id": 908430882,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTA4NDMwODgy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/908430882",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-31T02:09:17Z"
    },
    {
      "event": "subscribed",
      "id": 908430883,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkwODQzMDg4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/908430883",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-31T02:09:17Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 908447473,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTA4NDQ3NDcz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/908447473",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-31T04:03:18Z"
    },
    {
      "event": "renamed",
      "id": 908451216,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50OTA4NDUxMjE2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/908451216",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-31T04:32:47Z",
      "rename": {
        "from": "WIP: Massive net speedup. Net locks overhaul.",
        "to": "Net: Massive speedup. Net locks overhaul"
      }
    },
    {
      "event": "commented",
      "id": 269849078,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTg0OTA3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269849078",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-31T04:39:29Z",
      "updated_at": "2016-12-31T07:04:08Z",
      "author_association": "MEMBER",
      "body": "Updated. Don't let the number of commits scare you off, the diffstat isn't too bad.\r\n\r\nI attempted to break this up into small/simple commits, in order to slowly remove the need for cs_vRecvMsg. The last commit actually removes it.\r\n\r\nI'm satisfied that this shouldn't be introducing any new races, as only a handful of vars were actually touched on the SocketHandler thread.\r\n\r\nEdit: time-ordered.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-269849078",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 908468043,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTA4NDY4MDQz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/908468043",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-12-31T07:03:09Z"
    },
    {
      "event": "reviewed",
      "id": 14801377,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTQ4MDEzNzc=",
      "url": null,
      "actor": null,
      "commit_id": "3ab40f619dd1b9f3ff4140510e807a9e1fb577c8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-14801377",
      "submitted_at": "2016-12-31T07:39:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "reviewed",
      "id": 14801483,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTQ4MDE0ODM=",
      "url": null,
      "actor": null,
      "commit_id": "99599884147ea4db3f960b0e706b039ba1553c80",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-14801483",
      "submitted_at": "2016-12-31T07:57:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "commented",
      "id": 270035728,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDAzNTcyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270035728",
      "actor": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T00:18:54Z",
      "updated_at": "2017-01-03T00:18:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "@theuni is this worth testing now?",
      "user": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270035728",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "mentioned",
      "id": 909322297,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTA5MzIyMjk3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/909322297",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T00:18:54Z"
    },
    {
      "event": "subscribed",
      "id": 909322298,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkwOTMyMjI5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/909322298",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T00:18:54Z"
    },
    {
      "event": "commented",
      "id": 270049933,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDA0OTkzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270049933",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T04:16:54Z",
      "updated_at": "2017-01-03T04:16:54Z",
      "author_association": "MEMBER",
      "body": "@dcousens Very much so!",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270049933",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "mentioned",
      "id": 909391913,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTA5MzkxOTEz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/909391913",
      "actor": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T04:16:55Z"
    },
    {
      "event": "subscribed",
      "id": 909391914,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkwOTM5MTkxNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/909391914",
      "actor": {
        "login": "dcousens",
        "id": 413395,
        "node_id": "MDQ6VXNlcjQxMzM5NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/413395?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dcousens",
        "html_url": "https://github.com/dcousens",
        "followers_url": "https://api.github.com/users/dcousens/followers",
        "following_url": "https://api.github.com/users/dcousens/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dcousens/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dcousens/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dcousens/subscriptions",
        "organizations_url": "https://api.github.com/users/dcousens/orgs",
        "repos_url": "https://api.github.com/users/dcousens/repos",
        "events_url": "https://api.github.com/users/dcousens/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dcousens/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T04:16:55Z"
    },
    {
      "event": "reviewed",
      "id": 14911886,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTQ5MTE4ODY=",
      "url": null,
      "actor": null,
      "commit_id": "b1b6772240f5135745e9c0b09be2155944c12f0a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-14911886",
      "submitted_at": "2017-01-03T10:48:47Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "reviewed",
      "id": 14912139,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTQ5MTIxMzk=",
      "url": null,
      "actor": null,
      "commit_id": "b1b6772240f5135745e9c0b09be2155944c12f0a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-14912139",
      "submitted_at": "2017-01-03T10:51:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "commented",
      "id": 270093178,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDA5MzE3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270093178",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T11:11:40Z",
      "updated_at": "2017-01-03T11:11:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "See IRC discussion:\r\n\r\n```\r\n<BlueMatt> cfields: hmmm, regarding #9441, do we really want to run the entire ProcessMessages loop (calling SendMessages potentially umpteen times) just to process multiple messages from the same node?\r\n<BlueMatt> (ie remove the loop inside ProcessMessages and move it to ThreadProcessMessages)\r\n<sipa> BlueMatt: i was wondering about that too\r\n<sipa> BlueMatt: but there is hardly any (contentious) locking going on anymore in between\r\n<BlueMatt> yea, but SendMessages.....\r\n<sipa> Ah.\r\n<sipa> i hadn't considered that\r\n<sipa> that defeats the purpose\r\n<sipa> hmm, i was about to say that it negatively impacts batching of invs and addrs\r\n<sipa> but since we have explicit random delays for those, i don't think that's really an issue anymore\r\n<BlueMatt> yea, I dont think it breaks anything\r\n<BlueMatt> just repeatedly calls SendMessages to do nothing\r\n<sipa> oh, it won't break anything\r\n```",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270093178",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "commented",
      "id": 270137480,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDEzNzQ4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270137480",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T15:19:43Z",
      "updated_at": "2017-01-03T15:19:43Z",
      "author_association": "MEMBER",
      "body": "@TheBlueMatt If I understand you correctly, as mentioned in the summary, that's the part that was cut out here for simplicity. The next set of changes would combine the loops and move them into net_processing. See here for how it looked in a previous iteration: https://github.com/theuni/bitcoin/commit/1a6b10aea129ac363727c2d68fae809c2861e4da#diff-eff7adeaec73a769788bb78858815c91R271\r\n\r\nI'd be happy to add that here, but I'm afraid it adds a significant review burden to this PR.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270137480",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "mentioned",
      "id": 909904117,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTA5OTA0MTE3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/909904117",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T15:19:44Z"
    },
    {
      "event": "subscribed",
      "id": 909904118,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkwOTkwNDExOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/909904118",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T15:19:44Z"
    },
    {
      "event": "commented",
      "id": 270152187,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDE1MjE4Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270152187",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T16:15:32Z",
      "updated_at": "2017-01-03T16:15:32Z",
      "author_association": "MEMBER",
      "body": "Also from IRC:\r\n```\r\n<BlueMatt> I assume you didnt touch cs_vSend due to https://github.com/bitcoin/bitcoin/pull/9419/commits/c214d120a363a05ba9afdccff6b4bda6e29ae7c4, cfields?\r\n<cfields> BlueMatt: yes, cs_vSend wasn't touched because of your PR. I've just been operating under the assumption that the lock around SendMessages will be removed by one PR or another.\r\n```",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270152187",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "commented",
      "id": 270185545,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDE4NTU0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270185545",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T18:27:14Z",
      "updated_at": "2017-01-03T18:27:14Z",
      "author_association": "MEMBER",
      "body": "Digging further into the IRC conversation above, I'd like to clarify that the interaction here between ProcessMessages and SendMessages is _not_ changed substantially in this PR.\r\n\r\n@TheBlueMatt had missed a subtle part of the current behavior, and maybe @sipa too, so I'd just like to explicitly point out the current break here: https://github.com/bitcoin/bitcoin/blob/master/src/net_processing.cpp#L2543, added in https://github.com/bitcoin/bitcoin/pull/3180\r\n\r\nFor the sake of processing in a round-robin fashion, we currently end up running through SendMessages multiple times while draining a node's received message queue. That behavior is _far_ from ideal, and needs to be addressed, but is not changed here*. I have plans to work on this in next steps, but not for 0.14.\r\n\r\n*It's only changed in the case of an invalid header, or bad message checksum.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270185545",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "mentioned",
      "id": 910168979,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTEwMTY4OTc5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/910168979",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T18:27:14Z"
    },
    {
      "event": "subscribed",
      "id": 910168980,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkxMDE2ODk4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/910168980",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T18:27:14Z"
    },
    {
      "event": "mentioned",
      "id": 910168981,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTEwMTY4OTgx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/910168981",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T18:27:14Z"
    },
    {
      "event": "subscribed",
      "id": 910168982,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkxMDE2ODk4Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/910168982",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-03T18:27:14Z"
    },
    {
      "event": "commented",
      "id": 270286007,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDI4NjAwNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270286007",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-04T03:15:58Z",
      "updated_at": "2017-01-04T03:15:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "> <BlueMatt> cfields: hmmm, regarding #9441, do we really want to run the entire ProcessMessages loop (calling SendMessages potentially umpteen times) just to process multiple messages from the same node?\r\n<BlueMatt> (ie remove the loop inside ProcessMessages and move it to ThreadProcessMessages)\r\n\r\nClearly people weren't reading PRs on this or you would have noticed that it only processes one at a time right now.  I actually fixed it to process as many as it could until it encountered lock contention, then specifically pinged people for input on the effect. After no response, I unfixed it because of concern about the latency impact.   Handling multiple messages at a time is good, if they're fast ones... \r\n\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270286007",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "commented",
      "id": 270286554,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDI4NjU1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270286554",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-04T03:21:27Z",
      "updated_at": "2017-01-04T03:21:27Z",
      "author_association": "MEMBER",
      "body": "I certainly noticed it only processed one message at a time. I missed that\nit calls SendMessages between each.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270286554",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1M2FkOWExMzNhNTNmZWIzNWUzMTY5ODcyMGNlYzY5YzE0ZjU2ZGMx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/53ad9a133a53feb35e31698720cec69c14f56dc1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/53ad9a133a53feb35e31698720cec69c14f56dc1",
      "tree": {
        "sha": "4bd8689feeced78e4a8166a7553dda1f361b7662",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4bd8689feeced78e4a8166a7553dda1f361b7662"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5bc3b6cede8dabdf3f4f27ddb03723cbb7cde51a",
          "sha": "5bc3b6cede8dabdf3f4f27ddb03723cbb7cde51a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5bc3b6cede8dabdf3f4f27ddb03723cbb7cde51a"
        }
      ],
      "message": "net: fix typo causing the wrong receive buffer size\n\nSurprisingly this hasn't been causing me any issues while testing, probably\nbecause it requires lots of large blocks to be flying around.\n\nSend/Recv corks need tests!",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-04T14:29:14Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:05Z"
      },
      "sha": "53ad9a133a53feb35e31698720cec69c14f56dc1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNWJjZDljODRmZDMxMDczMjFmZjZkYmRlZjA2N2JhMDNmMmI0M2Ni",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e5bcd9c84fd3107321ff6dbdef067ba03f2b43cb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e5bcd9c84fd3107321ff6dbdef067ba03f2b43cb",
      "tree": {
        "sha": "d13ceab3c2c02ea4a22ec8dc10c5f9d92be0808f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d13ceab3c2c02ea4a22ec8dc10c5f9d92be0808f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/53ad9a133a53feb35e31698720cec69c14f56dc1",
          "sha": "53ad9a133a53feb35e31698720cec69c14f56dc1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/53ad9a133a53feb35e31698720cec69c14f56dc1"
        }
      ],
      "message": "net: make vRecvMsg a list so that we can use splice()",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-04T14:29:14Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:07Z"
      },
      "sha": "e5bcd9c84fd3107321ff6dbdef067ba03f2b43cb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1YjRhOGFjNmQ2YjRkOGUxN2I0NDhmMmI0OTI3MDI1ZmIzNTJmN2Fm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5b4a8ac6d6b4d8e17b448f2b4927025fb352f7af",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5b4a8ac6d6b4d8e17b448f2b4927025fb352f7af",
      "tree": {
        "sha": "604fcf4cf30779e23783c3e57fe19754226af0e0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/604fcf4cf30779e23783c3e57fe19754226af0e0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e5bcd9c84fd3107321ff6dbdef067ba03f2b43cb",
          "sha": "e5bcd9c84fd3107321ff6dbdef067ba03f2b43cb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e5bcd9c84fd3107321ff6dbdef067ba03f2b43cb"
        }
      ],
      "message": "net: make GetReceiveFloodSize public\n\nThis will be needed so that the message processor can cork incoming messages",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-04T14:29:14Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:09Z"
      },
      "sha": "5b4a8ac6d6b4d8e17b448f2b4927025fb352f7af"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNjMxNWUwN2Y5MzgzZjNmNDNlMzdhZGEwZDZhODM1ODEwZDYxMGI5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f6315e07f9383f3f43e37ada0d6a835810d610b9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f6315e07f9383f3f43e37ada0d6a835810d610b9",
      "tree": {
        "sha": "86bc02305e6139563197f2bb120172767465bb2c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/86bc02305e6139563197f2bb120172767465bb2c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5b4a8ac6d6b4d8e17b448f2b4927025fb352f7af",
          "sha": "5b4a8ac6d6b4d8e17b448f2b4927025fb352f7af",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5b4a8ac6d6b4d8e17b448f2b4927025fb352f7af"
        }
      ],
      "message": "net: only disconnect if fDisconnect has been set\n\nThese conditions are problematic to check without locking, and we shouldn't be\nrelying on the refcount to disconnect.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-04T14:29:14Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:11Z"
      },
      "sha": "f6315e07f9383f3f43e37ada0d6a835810d610b9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MDQyNTg3MGQ3OGNmMmJlZjFmY2U5MjZhZDUzZjUxMTY2YzZhM2Yw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/60425870d78cf2bef1fce926ad53f51166c6a3f0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/60425870d78cf2bef1fce926ad53f51166c6a3f0",
      "tree": {
        "sha": "6e41ca4685b242752a777bcfc64f49b30cff96d8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6e41ca4685b242752a777bcfc64f49b30cff96d8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f6315e07f9383f3f43e37ada0d6a835810d610b9",
          "sha": "f6315e07f9383f3f43e37ada0d6a835810d610b9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f6315e07f9383f3f43e37ada0d6a835810d610b9"
        }
      ],
      "message": "net: wait until the node is destroyed to delete its recv buffer\n\nwhen vRecvMsg becomes a private buffer, it won't make sense to allow other\nthreads to mess with it anymore.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-04T14:29:14Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:13Z"
      },
      "sha": "60425870d78cf2bef1fce926ad53f51166c6a3f0"
    },
    {
      "event": "commented",
      "id": 270386244,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDM4NjI0NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270386244",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-04T14:42:19Z",
      "updated_at": "2017-01-04T14:42:19Z",
      "author_association": "MEMBER",
      "body": "Needs rebase.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270386244",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzowZTk3M2Q5NzBhMjExNGMxMWY0YTk1ZjA5NzIxZDk3N2RhN2YwYTk0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0e973d970a2114c11f4a95f09721d977da7f0a94",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0e973d970a2114c11f4a95f09721d977da7f0a94",
      "tree": {
        "sha": "022ac7793bd8263b6ffed1384991931ac5a764d4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/022ac7793bd8263b6ffed1384991931ac5a764d4"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/60425870d78cf2bef1fce926ad53f51166c6a3f0",
          "sha": "60425870d78cf2bef1fce926ad53f51166c6a3f0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/60425870d78cf2bef1fce926ad53f51166c6a3f0"
        }
      ],
      "message": "net: remove redundant max sendbuffer size check\n\nThis is left-over from before there was proper accounting. Hitting 2x the\nsendbuffer size should not be possible.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-04T15:10:35Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-04T14:32:29Z"
      },
      "sha": "0e973d970a2114c11f4a95f09721d977da7f0a94"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NjIxMmUyMGFjZjE1MzRkNDQzY2I5MTBjOWJmM2EzMGY4NGQwZjAy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/56212e20acf1534d443cb910c9bf3a30f84d0f02",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/56212e20acf1534d443cb910c9bf3a30f84d0f02",
      "tree": {
        "sha": "5c67422a02655f9c919571ac7f07823fddc35f97",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5c67422a02655f9c919571ac7f07823fddc35f97"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0e973d970a2114c11f4a95f09721d977da7f0a94",
          "sha": "0e973d970a2114c11f4a95f09721d977da7f0a94",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0e973d970a2114c11f4a95f09721d977da7f0a94"
        }
      ],
      "message": "net: set message deserialization version when it's actually time to deserialize\n\nWe'll soon no longer have access to vRecvMsg, and this is more intuitive anyway.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-04T15:10:35Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:15Z"
      },
      "sha": "56212e20acf1534d443cb910c9bf3a30f84d0f02"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 911310762,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTExMzEwNzYy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/911310762",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-04T15:16:07Z"
    },
    {
      "event": "commented",
      "id": 270397280,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDM5NzI4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270397280",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-04T15:25:28Z",
      "updated_at": "2017-01-04T15:25:28Z",
      "author_association": "MEMBER",
      "body": "Rebased, and I believe I addressed all comments so far.\r\n\r\nI did a full mainnet sync last night with these (pre-rebase) changes, with no issues. I had extra logging to observe the recv pausing behavior, and verified that it's working as intended. It is paused quite frequently during IBD. Obviously that's intended, as it signals for the peer to slow down, but it may be worth discussing the consequences of a higher (or lower!) default for -maxreceivebuffer now that our recv is no longer blocked by processing. Out of scope for this PR, though.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270397280",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "reviewed",
      "id": 15203555,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTUyMDM1NTU=",
      "url": null,
      "actor": null,
      "commit_id": "f6315e07f9383f3f43e37ada0d6a835810d610b9",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-15203555",
      "submitted_at": "2017-01-04T21:38:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "commented",
      "id": 270496443,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDQ5NjQ0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270496443",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-04T21:47:47Z",
      "updated_at": "2017-01-04T21:47:47Z",
      "author_association": "MEMBER",
      "body": "I believe you're correct, that's my reading of it as well. Regardless, I\nwasn't able to track down a path where fDisconnect wouldn't be set as\nnecessary.\n",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270496443",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "reviewed",
      "id": 15208077,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTUyMDgwNzc=",
      "url": null,
      "actor": null,
      "commit_id": "1c779a8cfefb45f55f0686de3fccba5285f5cd7b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-15208077",
      "submitted_at": "2017-01-04T22:03:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "reviewed",
      "id": 15389104,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTUzODkxMDQ=",
      "url": null,
      "actor": null,
      "commit_id": "4157c99cd81c57dbc934beadfdaf2a48a6110bd0",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-15389104",
      "submitted_at": "2017-01-05T21:07:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "reviewed",
      "id": 15394370,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTUzOTQzNzA=",
      "url": null,
      "actor": null,
      "commit_id": "4157c99cd81c57dbc934beadfdaf2a48a6110bd0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-15394370",
      "submitted_at": "2017-01-05T21:19:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "reviewed",
      "id": 15398798,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTUzOTg3OTg=",
      "url": null,
      "actor": null,
      "commit_id": "a109f7bd1801392bf99994a7165d495200156c4a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-15398798",
      "submitted_at": "2017-01-05T21:43:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "reviewed",
      "id": 15400063,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTU0MDAwNjM=",
      "url": null,
      "actor": null,
      "commit_id": "b5ea4f2199b66fdf2da844b884742b1d97448aab",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-15400063",
      "submitted_at": "2017-01-05T21:50:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "commented",
      "id": 270923452,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDkyMzQ1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270923452",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T15:12:03Z",
      "updated_at": "2017-01-06T15:12:03Z",
      "author_association": "MEMBER",
      "body": "From @sipa\r\n> Can you clarify what the rationale is for switching from a ProcessMessages that processes multiple messages to just a single one? I'm not opposed to the change, but I'd like to understand what the reason for the change is.\r\n\r\nIn nearly all cases in the current code, only 1 message is processed. I thought that making this explicit would clarify the situation, but it seems it's only causing confusion in this PR. I'll change this back and we can address that later.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270923452",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "mentioned",
      "id": 914141239,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTE0MTQxMjM5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914141239",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T15:12:03Z"
    },
    {
      "event": "subscribed",
      "id": 914141240,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkxNDE0MTI0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914141240",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T15:12:03Z"
    },
    {
      "event": "commented",
      "id": 270955845,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDk1NTg0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270955845",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T17:26:56Z",
      "updated_at": "2017-01-06T17:26:56Z",
      "author_association": "MEMBER",
      "body": "@theuni Please ignore my request to keep processing multiple messages at the same time.\r\n\r\n> In nearly all cases in the current code, only 1 message is processed.\r\n\r\nI thought you were trying to say our send buffer was usually full, not that the code actually never loops (which is apparently behaviour that was intentionally changed in #3180).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270955845",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "mentioned",
      "id": 914322202,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTE0MzIyMjAy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914322202",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T17:26:56Z"
    },
    {
      "event": "subscribed",
      "id": 914322203,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkxNDMyMjIwMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914322203",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T17:26:56Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 914354864,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTE0MzU0ODY0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914354864",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T17:54:54Z"
    },
    {
      "event": "commented",
      "id": 270963654,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDk2MzY1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270963654",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T18:01:03Z",
      "updated_at": "2017-01-06T18:01:03Z",
      "author_association": "MEMBER",
      "body": "Updated to address feedback. Most of it is just fixing up interim commits to be more correct for easier commit-by-commit review.\r\n\r\nActual changes:\r\n  - Fixed up the condvar as @sipa suggested\r\n  - Completely removed cs_vRecvMsg. See the commit message for more detail.\r\n\r\nDiff from before is here: https://gist.github.com/theuni/9c18405455a2569156671aadcf242500",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270963654",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "mentioned",
      "id": 914362301,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTE0MzYyMzAx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914362301",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T18:01:03Z"
    },
    {
      "event": "subscribed",
      "id": 914362302,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkxNDM2MjMwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914362302",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T18:01:03Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T18:19:20Z",
      "updated_at": "2017-01-06T18:19:20Z",
      "source": {
        "issue": {
          "id": 196348730,
          "node_id": "MDExOlB1bGxSZXF1ZXN0OTg1MTg5NTI=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9375",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9375/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9375/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9375/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/9375",
          "number": 9375,
          "state": "closed",
          "state_reason": null,
          "title": "Relay compact block messages prior to full block connection",
          "body": "First clean up net_processing to never have non-const access to CBlockIndex*es.\r\n\r\nThen take advantage of #9026 to relay compact block announcements prior to full validation of the block. This has the (incredibly) nice property of not re-deserializing the same block over and over again in SendMessages when we go to announce the block.\r\n\r\nFinally caches the block which was just announced to respond to getblocktxn requests without a similar deserialize (this could probably be extended to be used by other requests as well, but other requests are still going to want to lock cs_main and check that the block didn't get rejected as invalid first).",
          "user": {
            "login": "TheBlueMatt",
            "id": 649246,
            "node_id": "MDQ6VXNlcjY0OTI0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheBlueMatt",
            "html_url": "https://github.com/TheBlueMatt",
            "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
            "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
            "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
            "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
            "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/21",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21/labels",
            "id": 1823680,
            "node_id": "MDk6TWlsZXN0b25lMTgyMzY4MA==",
            "number": 21,
            "state": "closed",
            "title": "0.14.0",
            "description": "",
            "creator": {
              "login": "MarcoFalke",
              "id": 6399679,
              "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/MarcoFalke",
              "html_url": "https://github.com/MarcoFalke",
              "followers_url": "https://api.github.com/users/MarcoFalke/followers",
              "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
              "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
              "repos_url": "https://api.github.com/users/MarcoFalke/repos",
              "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 156,
            "created_at": "2016-06-13T14:18:51Z",
            "updated_at": "2017-03-08T16:39:44Z",
            "closed_at": "2017-03-08T16:39:44Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 39,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9375",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/9375",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/9375.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/9375.patch"
          },
          "closed_at": "2017-01-13T22:52:49Z",
          "created_at": "2016-12-19T07:35:33Z",
          "updated_at": "2021-09-08T11:08:09Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 15542366,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTU1NDIzNjY=",
      "url": null,
      "actor": null,
      "commit_id": "ddac068fa5d6b43925a96149f2d9b81ec736a5e7",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Per IRC discussion, I think it would be wise to add something that shortens/skips the wait time at the end if the loop has taken a long time in particular for the case of connecting a new tip.  But that is a preexisting condition not a regression.\r\n\r\nOverall looks good to me.\r\nnewbie quality code review ACK\r\n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-15542366",
      "submitted_at": "2017-01-06T19:29:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "commented",
      "id": 270989192,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDk4OTE5Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/270989192",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T19:49:12Z",
      "updated_at": "2017-01-06T19:49:12Z",
      "author_association": "MEMBER",
      "body": "@morcos I meant to expand on the commit message for c5b4e31fb87a9819330b83f4ac6cc92066e8337d, but apparently neglected to do so before pushing. I expect that we'll want to add connman.WakeMessageHandler() in a few places to take care of that as a follow-up.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270989192",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "mentioned",
      "id": 914491629,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTE0NDkxNjI5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914491629",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T19:49:12Z"
    },
    {
      "event": "subscribed",
      "id": 914491630,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkxNDQ5MTYzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/914491630",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-06T19:49:12Z"
    },
    {
      "event": "commented",
      "id": 271124533,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTEyNDUzMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/271124533",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-08T02:21:57Z",
      "updated_at": "2017-01-08T02:21:57Z",
      "author_association": "MEMBER",
      "body": "utACK ddac068fa5d6b43925a96149f2d9b81ec736a5e7",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-271124533",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-08T03:35:08Z",
      "updated_at": "2017-01-08T03:35:08Z",
      "source": {
        "issue": {
          "id": 199400598,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTAwNTkwODc2",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9488",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9488/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9488/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9488/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/9488",
          "number": 9488,
          "state": "closed",
          "state_reason": null,
          "title": "Parallel ThreadMessageHandler",
          "body": "Based on a (now outdated) #9441.\r\n\r\nThis runs multiple ThreadMessageHandlers, but only allows them to do (relatively limited) work - it has a whitelisted list of commands which are expected to not take cs_main, and only runs those in a secondary thread, but running anything in the \"main thread\" (a concept based on randomly acquiring an atomic_bool at the top of the processing loop).\r\n\r\nAdditionally, it will never be in the ProcessMessages/SendMessages part of the loop for one node in both threads.\r\n\r\nWith this, #9419, and #9375 (plus changing the whitelisted list of messages) we can respond to getblocktxn requests while another ProcessMessages is busy connecting the block.",
          "user": {
            "login": "TheBlueMatt",
            "id": 649246,
            "node_id": "MDQ6VXNlcjY0OTI0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheBlueMatt",
            "html_url": "https://github.com/TheBlueMatt",
            "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
            "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
            "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
            "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
            "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9488",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/9488",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/9488.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/9488.patch"
          },
          "closed_at": "2017-01-17T15:42:52Z",
          "created_at": "2017-01-08T03:35:08Z",
          "updated_at": "2021-09-08T11:08:12Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 15956592,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTU5NTY1OTI=",
      "url": null,
      "actor": null,
      "commit_id": "f39dd534702a00ee46e9bdf2633bbc32f21c99f0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-15956592",
      "submitted_at": "2017-01-10T16:37:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "reviewed",
      "id": 15960011,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTU5NjAwMTE=",
      "url": null,
      "actor": null,
      "commit_id": "ba4cae284f6acac4bbbfe08c89dcb8c2ace5da83",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-15960011",
      "submitted_at": "2017-01-10T16:50:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "reviewed",
      "id": 15960398,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTU5NjAzOTg=",
      "url": null,
      "actor": null,
      "commit_id": "ba4cae284f6acac4bbbfe08c89dcb8c2ace5da83",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-15960398",
      "submitted_at": "2017-01-10T16:52:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 919853257,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTE5ODUzMjU3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/919853257",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-11T21:57:24Z"
    },
    {
      "event": "commented",
      "id": 272008534,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjAwODUzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272008534",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-11T21:58:08Z",
      "updated_at": "2017-01-11T21:58:08Z",
      "author_association": "MEMBER",
      "body": "Addressed outstanding nits, will squash at the end.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-272008534",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "commented",
      "id": 272133975,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjEzMzk3NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272133975",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T10:54:55Z",
      "updated_at": "2017-01-12T10:54:55Z",
      "author_association": "MEMBER",
      "body": "(Lightly) tested ACK 1c779a8. This is an older version but it's been running stable on a busy node for a week.\r\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-272133975",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "commented",
      "id": 272175357,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjE3NTM1Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272175357",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T14:23:22Z",
      "updated_at": "2017-01-12T14:23:22Z",
      "author_association": "MEMBER",
      "body": "@TheBlueMatt @sipa @morcos care to re-ACK before final squash?",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-272175357",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "mentioned",
      "id": 920782821,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTIwNzgyODIx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/920782821",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T14:23:22Z"
    },
    {
      "event": "subscribed",
      "id": 920782822,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkyMDc4MjgyMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/920782822",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T14:23:22Z"
    },
    {
      "event": "mentioned",
      "id": 920782823,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTIwNzgyODIz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/920782823",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T14:23:22Z"
    },
    {
      "event": "subscribed",
      "id": 920782825,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkyMDc4MjgyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/920782825",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T14:23:22Z"
    },
    {
      "event": "mentioned",
      "id": 920782826,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTIwNzgyODI2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/920782826",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T14:23:22Z"
    },
    {
      "event": "subscribed",
      "id": 920782827,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkyMDc4MjgyNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/920782827",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T14:23:22Z"
    },
    {
      "event": "commented",
      "id": 272183451,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjE4MzQ1MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272183451",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T14:54:42Z",
      "updated_at": "2017-01-12T14:54:42Z",
      "author_association": "MEMBER",
      "body": "utACK and ran on some nodes without error for several days ddac068\r\nutACK 7b44e18",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-272183451",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "commented",
      "id": 272278780,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjI3ODc4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272278780",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T20:47:30Z",
      "updated_at": "2017-01-12T20:47:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "Dont think its actually possible due to the sizes involved, but, theoretically, PushMessage could increment nSendSize to be > nSendBufferMaxSize, set fPauseSend to true, and then call opportunistic SocketSendData, which flushed the entire buffer, but didnt reset fPauseSend. I'd suggest moving the fPauseSend update to right beside the nSendSize decrement as it is for the increment.",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-272278780",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "reviewed",
      "id": 16455191,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTY0NTUxOTE=",
      "url": null,
      "actor": null,
      "commit_id": "975fc9dd6f55a87f7d0db62898e58169b2816baf",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#pullrequestreview-16455191",
      "submitted_at": "2017-01-12T21:06:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
    },
    {
      "event": "commented",
      "id": 272292726,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjI5MjcyNg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272292726",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-12T21:41:47Z",
      "updated_at": "2017-01-12T21:41:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "utACK 7b44e18b2f3a39657699adff5dd39dcfde24f1fb if 975fc9dd6f55a87f7d0db62898e58169b2816baf is reverted and the fPauseSend updates are all placed directly beside the nSendSize updates.",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-272292726",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "commented",
      "id": 272328264,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjMyODI2NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272328264",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T00:37:12Z",
      "updated_at": "2017-01-13T00:37:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "utACK 0168bea73772a707c53952956a364262cea63cd3 (+/- squash-needed).",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-272328264",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MGJlZmEzOTk3Yjk4ZDNmOTEzMDEwZjI2MjFiZWM3MzRmNjQzNTI2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/60befa3997b98d3f913010f2621bec734f643526",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/60befa3997b98d3f913010f2621bec734f643526",
      "tree": {
        "sha": "0fc70214f870118c3363ce5c27dd0ff679664ee7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0fc70214f870118c3363ce5c27dd0ff679664ee7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/56212e20acf1534d443cb910c9bf3a30f84d0f02",
          "sha": "56212e20acf1534d443cb910c9bf3a30f84d0f02",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/56212e20acf1534d443cb910c9bf3a30f84d0f02"
        }
      ],
      "message": "net: handle message accounting in ReceiveMsgBytes\n\nThis allows locking to be pushed down to only where it's needed\n\nAlso reuse the current time rather than checking multiple times.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-13T04:05:09Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:17Z"
      },
      "sha": "60befa3997b98d3f913010f2621bec734f643526"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNWMzNmQxOWI2MzZmMDFjYzI0NDE3YmMyYjJmNWIyMjZmZjNkZDJj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5c36d19b636f01cc24417bc2b2f5b226ff3dd2c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f5c36d19b636f01cc24417bc2b2f5b226ff3dd2c",
      "tree": {
        "sha": "c3b0cb11b71a23bd4440b0bafc2c657ec9b3565f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c3b0cb11b71a23bd4440b0bafc2c657ec9b3565f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/60befa3997b98d3f913010f2621bec734f643526",
          "sha": "60befa3997b98d3f913010f2621bec734f643526",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/60befa3997b98d3f913010f2621bec734f643526"
        }
      ],
      "message": "net: record bytes written before notifying the message processor",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-13T04:05:09Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:19Z"
      },
      "sha": "f5c36d19b636f01cc24417bc2b2f5b226ff3dd2c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZjdiNWVjYmI3M2U5ZmQzNjcwNDk0Yzk5Y2ZjMTNjY2YzNTc0MTcw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef7b5ecbb73e9fd3670494c99cfc13ccf3574170",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ef7b5ecbb73e9fd3670494c99cfc13ccf3574170",
      "tree": {
        "sha": "9976c03d3c259e0b24a1313453b806c674049655",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9976c03d3c259e0b24a1313453b806c674049655"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5c36d19b636f01cc24417bc2b2f5b226ff3dd2c",
          "sha": "f5c36d19b636f01cc24417bc2b2f5b226ff3dd2c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f5c36d19b636f01cc24417bc2b2f5b226ff3dd2c"
        }
      ],
      "message": "net: Add a simple function for waking the message handler\n\nThis may be used publicly in the future",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-13T04:05:09Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:21Z"
      },
      "sha": "ef7b5ecbb73e9fd3670494c99cfc13ccf3574170"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjNzJjYzg4ZWQzOTY1MmU0NGI1YmU0OGU5NDU1ZjZmMzk1YmQ3ZTgz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c72cc88ed39652e44b5be48e9455f6f395bd7e83",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c72cc88ed39652e44b5be48e9455f6f395bd7e83",
      "tree": {
        "sha": "740e0319a821c76450643f771b4369641ecbe8c2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/740e0319a821c76450643f771b4369641ecbe8c2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef7b5ecbb73e9fd3670494c99cfc13ccf3574170",
          "sha": "ef7b5ecbb73e9fd3670494c99cfc13ccf3574170",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ef7b5ecbb73e9fd3670494c99cfc13ccf3574170"
        }
      ],
      "message": "net: remove useless comments",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-13T04:05:09Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:23Z"
      },
      "sha": "c72cc88ed39652e44b5be48e9455f6f395bd7e83"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjNWE4YjFiOTQ2YjFhYjBiYjgyYmQ0MjcwYjJhNDBmNTczMWFiY2Zm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c5a8b1b946b1ab0bb82bd4270b2a40f5731abcff",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c5a8b1b946b1ab0bb82bd4270b2a40f5731abcff",
      "tree": {
        "sha": "a1ee1e54db0ae10d0641c2a6c1ff5189125cb681",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a1ee1e54db0ae10d0641c2a6c1ff5189125cb681"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c72cc88ed39652e44b5be48e9455f6f395bd7e83",
          "sha": "c72cc88ed39652e44b5be48e9455f6f395bd7e83",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c72cc88ed39652e44b5be48e9455f6f395bd7e83"
        }
      ],
      "message": "net: rework the way that the messagehandler sleeps\n\nIn order to sleep accurately, the message handler needs to know if _any_ node\nhas more processing that it should do before the entire thread sleeps.\n\nRather than returning a value that represents whether ProcessMessages\nencountered a message that should trigger a disconnnect, interpret the return\nvalue as whether or not that node has more work to do.\n\nAlso, use a global fProcessWake value that can be set by other threads,\nwhich takes precedence (for one cycle) over the messagehandler's decision.\n\nNote that the previous behavior was to only process one message per loop\n(except in the case of a bad checksum or invalid header). That was changed in\nPR #3180.\n\nThe only change here in that regard is that the current node now falls to the\nback of the processing queue for the bad checksum/invalid header cases.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-13T04:05:24Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:26Z"
      },
      "sha": "c5a8b1b946b1ab0bb82bd4270b2a40f5731abcff"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0ZDcxMmUzNjZjYTdmZmZhZjk2Mzk0ZWYwMWM5MjQ2NDgyYzBkOTJl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4d712e366ca7fffaf96394ef01c9246482c0d92e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4d712e366ca7fffaf96394ef01c9246482c0d92e",
      "tree": {
        "sha": "aa61383f6bf692c4fda2f697ad6fba3e4c199913",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aa61383f6bf692c4fda2f697ad6fba3e4c199913"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c5a8b1b946b1ab0bb82bd4270b2a40f5731abcff",
          "sha": "c5a8b1b946b1ab0bb82bd4270b2a40f5731abcff",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c5a8b1b946b1ab0bb82bd4270b2a40f5731abcff"
        }
      ],
      "message": "net: add a new message queue for the message processor\n\nThis separates the storage of messages from the net and queued messages for\nprocessing, allowing the locks to be split.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-13T04:05:25Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:28Z"
      },
      "sha": "4d712e366ca7fffaf96394ef01c9246482c0d92e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjNmU4YTliY2ZmZTRjMGYyMzZlMjdjNjYzZjA4Nzg1ZDFhMGE3ODNi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c6e8a9bcffe4c0f236e27c663f08785d1a0a783b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c6e8a9bcffe4c0f236e27c663f08785d1a0a783b",
      "tree": {
        "sha": "b622192961f036991f6de2ceea0d483931a78eca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b622192961f036991f6de2ceea0d483931a78eca"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4d712e366ca7fffaf96394ef01c9246482c0d92e",
          "sha": "4d712e366ca7fffaf96394ef01c9246482c0d92e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4d712e366ca7fffaf96394ef01c9246482c0d92e"
        }
      ],
      "message": "net: add a flag to indicate when a node's process queue is full\n\nMessages are dumped very quickly from the socket handler to the processor, so\nit's the depth of the processing queue that's interesting.\n\nThe socket handler checks the process queue's size during the brief message\nhand-off and pauses if necessary, and the processor possibly unpauses each time\na message is popped off of its queue.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-13T04:05:47Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:30Z"
      },
      "sha": "c6e8a9bcffe4c0f236e27c663f08785d1a0a783b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5OTE5NTVlZTgxMDM0ZGMzZmJjMWMyYThlNjBjMDRmYzllMGI1Mzhj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/991955ee81034dc3fbc1c2a8e60c04fc9e0b538c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/991955ee81034dc3fbc1c2a8e60c04fc9e0b538c",
      "tree": {
        "sha": "a624868494e3c50786df85c75b1225b6e8e8eee2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a624868494e3c50786df85c75b1225b6e8e8eee2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c6e8a9bcffe4c0f236e27c663f08785d1a0a783b",
          "sha": "c6e8a9bcffe4c0f236e27c663f08785d1a0a783b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c6e8a9bcffe4c0f236e27c663f08785d1a0a783b"
        }
      ],
      "message": "net: add a flag to indicate when a node's send buffer is full\n\nSimilar to the recv flag, but this one indicates whether or not the net's send\nbuffer is full.\n\nThe socket handler checks the send queue when a new message is added and pauses\nif necessary, and possibly unpauses after each message is drained from its buffer.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-13T04:05:59Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:32Z"
      },
      "sha": "991955ee81034dc3fbc1c2a8e60c04fc9e0b538c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNjAzNjBlMTM5ODUyYzY1NTkzMGU5OWQ0YmI0ZGI1NTRjZDgzODVl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e60360e139852c655930e99d4bb4db554cd8385e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e60360e139852c655930e99d4bb4db554cd8385e",
      "tree": {
        "sha": "adfb51a4f75f327b713de79412fa75c7292f7db0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/adfb51a4f75f327b713de79412fa75c7292f7db0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/991955ee81034dc3fbc1c2a8e60c04fc9e0b538c",
          "sha": "991955ee81034dc3fbc1c2a8e60c04fc9e0b538c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/991955ee81034dc3fbc1c2a8e60c04fc9e0b538c"
        }
      ],
      "message": "net: remove cs_vRecvMsg\n\nvRecvMsg is now only touched by the socket handler thread.\n\nThe accounting vars (nRecvBytes/nLastRecv/mapRecvBytesPerMsgCmd) are also\nonly used by the socket handler thread, with the exception of queries from\nrpc/gui. These accesses are not threadsafe, but they never were. This needs to\nbe addressed separately.\n\nAlso, update comment describing data flow",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2017-01-13T04:08:08Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2016-12-31T07:05:36Z"
      },
      "sha": "e60360e139852c655930e99d4bb4db554cd8385e"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T04:38:58Z",
      "updated_at": "2017-01-13T04:38:58Z",
      "source": {
        "issue": {
          "id": 200463128,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTAxMzI4MTMx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9535",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9535/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9535/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9535/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/9535",
          "number": 9535,
          "state": "closed",
          "state_reason": null,
          "title": "Split CNode::cs_vSend: message processing and message sending",
          "body": "cs_vSend is used for two purposes - to lock the datastructures used\r\nto queue messages to place on the wire and to only call\r\nSendMessages once at a time per-node. I believe SendMessages used\r\nto access some of the vSendMsg stuff, but it doesn't anymore, so\r\nthese locks do not need to be on the same mutex, and also make\r\ndeadlocking much more likely.",
          "user": {
            "login": "TheBlueMatt",
            "id": 649246,
            "node_id": "MDQ6VXNlcjY0OTI0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheBlueMatt",
            "html_url": "https://github.com/TheBlueMatt",
            "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
            "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
            "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
            "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
            "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/21",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21/labels",
            "id": 1823680,
            "node_id": "MDk6TWlsZXN0b25lMTgyMzY4MA==",
            "number": 21,
            "state": "closed",
            "title": "0.14.0",
            "description": "",
            "creator": {
              "login": "MarcoFalke",
              "id": 6399679,
              "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/MarcoFalke",
              "html_url": "https://github.com/MarcoFalke",
              "followers_url": "https://api.github.com/users/MarcoFalke/followers",
              "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
              "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
              "repos_url": "https://api.github.com/users/MarcoFalke/repos",
              "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 156,
            "created_at": "2016-06-13T14:18:51Z",
            "updated_at": "2017-03-08T16:39:44Z",
            "closed_at": "2017-03-08T16:39:44Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9535",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/9535",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/9535.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/9535.patch"
          },
          "closed_at": "2017-01-19T19:20:28Z",
          "created_at": "2017-01-12T19:51:51Z",
          "updated_at": "2021-09-08T11:08:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 921770897,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50OTIxNzcwODk3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/921770897",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T04:40:26Z"
    },
    {
      "event": "commented",
      "id": 272360130,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjM2MDEzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272360130",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T04:45:23Z",
      "updated_at": "2017-01-13T04:45:23Z",
      "author_association": "MEMBER",
      "body": "Squashed, and I believe this is now merge-ready.\r\n\r\n@sipa / @morcos See https://github.com/theuni/bitcoin/tree/connman-locks-tmp for the unsquashed version if you'd like. It's codewise-identical to e60360e139852c655930e99d4bb4db554cd8385e.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-272360130",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "mentioned",
      "id": 921773375,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTIxNzczMzc1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/921773375",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T04:45:23Z"
    },
    {
      "event": "subscribed",
      "id": 921773376,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkyMTc3MzM3Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/921773376",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T04:45:23Z"
    },
    {
      "event": "mentioned",
      "id": 921773377,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50OTIxNzczMzc3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/921773377",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T04:45:23Z"
    },
    {
      "event": "subscribed",
      "id": 921773378,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDkyMTc3MzM3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/921773378",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T04:45:23Z"
    },
    {
      "event": "commented",
      "id": 272473940,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjQ3Mzk0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272473940",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T15:43:30Z",
      "updated_at": "2017-01-13T15:43:30Z",
      "author_association": "MEMBER",
      "body": "re-utACK e60360e\r\n",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-272473940",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "commented",
      "id": 272485728,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjQ4NTcyOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272485728",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T16:48:08Z",
      "updated_at": "2017-01-13T16:48:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "Confirmed there is no diff-tree to e60360e139852c655930e99d4bb4db554cd8385e from my previous utACK",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-272485728",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "commented",
      "id": 272501888,
      "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjUwMTg4OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272501888",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T17:50:44Z",
      "updated_at": "2017-01-13T17:50:44Z",
      "author_association": "MEMBER",
      "body": "utACK e60360e139852c655930e99d4bb4db554cd8385e",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-272501888",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9441"
    },
    {
      "event": "merged",
      "id": 922594837,
      "node_id": "MDExOk1lcmdlZEV2ZW50OTIyNTk0ODM3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/922594837",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e60360e139852c655930e99d4bb4db554cd8385e",
      "created_at": "2017-01-13T18:02:42Z"
    },
    {
      "event": "closed",
      "id": 922594840,
      "node_id": "MDExOkNsb3NlZEV2ZW50OTIyNTk0ODQw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/922594840",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-13T18:02:42Z"
    },
    {
      "event": "referenced",
      "id": 922594980,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDkyMjU5NDk4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/922594980",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "8b66bf74e2a349e71eaa183af81fa63eaee76ad2",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8b66bf74e2a349e71eaa183af81fa63eaee76ad2",
      "created_at": "2017-01-13T18:02:47Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-15T05:16:02Z",
      "updated_at": "2017-01-15T05:16:02Z",
      "source": {
        "issue": {
          "id": 200837489,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTAxNTc4OTc3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9561",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9561/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9561/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9561/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/9561",
          "number": 9561,
          "state": "closed",
          "state_reason": null,
          "title": "Wake message handling thread when we receive a new block",
          "body": "This forces the message handling thread to make another full\r\niteration of SendMessages prior to going back to sleep, ensuring\r\nwe announce the new block to all peers before sleeping.",
          "user": {
            "login": "TheBlueMatt",
            "id": 649246,
            "node_id": "MDQ6VXNlcjY0OTI0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheBlueMatt",
            "html_url": "https://github.com/TheBlueMatt",
            "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
            "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
            "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
            "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
            "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9561",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/9561",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/9561.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/9561.patch"
          },
          "closed_at": "2017-01-17T03:55:16Z",
          "created_at": "2017-01-14T23:51:31Z",
          "updated_at": "2021-09-08T11:08:08Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "sdaftuar",
        "id": 7463573,
        "node_id": "MDQ6VXNlcjc0NjM1NzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sdaftuar",
        "html_url": "https://github.com/sdaftuar",
        "followers_url": "https://api.github.com/users/sdaftuar/followers",
        "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
        "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
        "repos_url": "https://api.github.com/users/sdaftuar/repos",
        "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-19T18:59:32Z",
      "updated_at": "2017-01-19T18:59:32Z",
      "source": {
        "issue": {
          "id": 201946035,
          "node_id": "MDU6SXNzdWUyMDE5NDYwMzU=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9586",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9586/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9586/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9586/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/9586",
          "number": 9586,
          "state": "closed",
          "state_reason": "completed",
          "title": "bip68-sequence.py failing on master after recent net changes, due to mocktime interaction",
          "body": "Since 60befa399 in #9441, `bip68-sequence.py` (one of the extended rpc tests, not run by travis) has been failing:\r\n\r\n```\r\nInitializing test directory /var/folders/pw/k25spdv971g8xhccyx5t3yyr0000gn/T/test5y497icn/9191\r\nRunning test disable flag\r\nRunning test sequence-lock-confirmed-inputs\r\nRunning test sequence-lock-unconfirmed-inputs\r\nRunning test BIP68 not consensus before versionbits activation\r\nVerifying nVersion=2 transactions aren't standard\r\nActivating BIP68 (and 112/113)\r\nAssertion failed: Block sync to height 432 timed out:\r\n  {'hash': '05c02af44675851560cb13b1b59f2a7f08ff3bef4e3db19f6a08e79cb51cce62', 'height': 432}\r\n  {'hash': '30f24ff219ac23291d1489710ad467726b7ab202f70923d4bd5707dacfb05051', 'height': 328}\r\n  File \"/Users/sdaftuar/projects/ccl-bitcoin/qa/rpc-tests/test_framework/test_framework.py\", line 145, in main\r\n    self.run_test()\r\n  File \"./bip68-sequence.py\", line 58, in run_test\r\n    self.activateCSV()\r\n  File \"./bip68-sequence.py\", line 409, in activateCSV\r\n    sync_blocks(self.nodes)\r\n  File \"/Users/sdaftuar/projects/ccl-bitcoin/qa/rpc-tests/test_framework/util.py\", line 147, in sync_blocks\r\n    maxheight, \"\".join(\"\\n  {!r}\".format(tip) for tip in tips)))\r\nStopping nodes\r\nNot cleaning up dir /var/folders/pw/k25spdv971g8xhccyx5t3yyr0000gn/T/test5y497icn/9191\r\nFailed\r\n```\r\n\r\nI git bisected the problem back to the above commit; the issue seems to be that the inactivity checking at https://github.com/theuni/bitcoin/blob/60befa3997b98d3f913010f2621bec734f643526/src/net.cpp#L1298 is comparing times that are coming from two different places: `GetTime()` which can use mocktime, and `GetTimeMicros()` which does not, and the `bip68-sequence.py` test uses mocktime.  (Using `GetTimeMicros()` for `nLastRecv` is newly introduced in the commit above.)\r\n\r\nReally, it's sort of remarkable/lucky that we didn't have test failures relating to how mocktime interacts with the networking code before.  I'm not sure what the right way to fix this is -- I started by trying to narrowly just fix this issue by changing `nTimeConnected`, `nLastSend`, and the starting `nTime` used in the inactivity check to all be based off system clock (eg `GetTimeMicros()/1000000`), but then that broke some of our other tests that I think must have been relying on mocktime having an effect on some of these things (`maxuploadtarget.py`, `receivedby.py`, and `listtransactions.py` all failed -- I didn't investigate exactly what happened so it's possible my fix just had a simple mistake).\r\n\r\nAnyway I think we need a thoughtful approach to how to use `GetTime()` vs. `GetTimeMicros()` for the various times we have, especially in `net.cpp`/`net_processing.cpp`, and this is a bug that I think we need to fix for 0.14 so we're not shipping broken tests.\r\n",
          "user": {
            "login": "sdaftuar",
            "id": 7463573,
            "node_id": "MDQ6VXNlcjc0NjM1NzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sdaftuar",
            "html_url": "https://github.com/sdaftuar",
            "followers_url": "https://api.github.com/users/sdaftuar/followers",
            "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
            "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
            "repos_url": "https://api.github.com/users/sdaftuar/repos",
            "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/21",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/21/labels",
            "id": 1823680,
            "node_id": "MDk6TWlsZXN0b25lMTgyMzY4MA==",
            "number": 21,
            "state": "closed",
            "title": "0.14.0",
            "description": "",
            "creator": {
              "login": "MarcoFalke",
              "id": 6399679,
              "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/MarcoFalke",
              "html_url": "https://github.com/MarcoFalke",
              "followers_url": "https://api.github.com/users/MarcoFalke/followers",
              "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
              "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
              "repos_url": "https://api.github.com/users/MarcoFalke/repos",
              "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 156,
            "created_at": "2016-06-13T14:18:51Z",
            "updated_at": "2017-03-08T16:39:44Z",
            "closed_at": "2017-03-08T16:39:44Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 2,
          "closed_at": "2017-01-26T08:58:19Z",
          "created_at": "2017-01-19T18:59:32Z",
          "updated_at": "2021-09-08T12:35:28Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-01-23T18:05:09Z",
      "updated_at": "2017-01-23T18:05:09Z",
      "source": {
        "issue": {
          "id": 36693435,
          "node_id": "MDU6SXNzdWUzNjY5MzQzNQ==",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4432",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4432/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4432/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/4432/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/4432",
          "number": 4432,
          "state": "open",
          "state_reason": null,
          "title": "Transactions in TCP FIN packets appear to be ignored",
          "body": "# Problem description:\n\nOn June 21, sending transaction 43f1c3e735560f7b1e4c396a55a2e62d2e83b7c4ed1efc5a7d29358c84ca7807 using \"sx sendtx-node\" to my bitcoin node running Bitcoind 0.9.1 _~~0.9.2~~_ failed. The log showed the connection, but no errors (default log level) **Update:** _enabling 'net' debuging also showed no errors (included below)_\nThe transaction was considered valid by both \"sx validtx\" and my bitcoin node when I used bitcoin-cli to send it manually.\nI came up with 3 possibilities: 1. bug in sx sendtx 2. bug in Bitcoind 3. ISP using DPI to selectively block transactions (but allow initial connection) **Update:** _It appears that option 3 is out (not that it was ever likely) (packet capture: Linked in the first comment.)_\n\nEdit: Bitcoin reported version: \"version\" : 90100\nPackage: bitcoin-daemon-0.9.1; FreeBSD 9.2-RELEASE-p3\nSx reported version: ??? \"/libbitcoin:2.0.0/: version 60000\" pulled from log below.\n# Experimental design:\n\nMy plan is to run tcpdump on both hosts while I try to resend the transaction. If the transaction is truly being blocked, it won't matter that it was sent already. If it goes through, bitcoind should log it as a duplicate.\n\nBecause my Bitcoin node has many connections, I will want to filter as many packets as possible. Because the computer with the sx tools also has several network connections, a similar filter should be used to capture only Bicoin-related packets.\n# TCPdump options:\n## On Casey (Bitcoin node)\n\n```\ntcpdump -i rl0 -p -w jun2014_bc_recv_1Bitcoin.pcap \\(host 70.74.233.146 and port 8333\\)\n```\n## On Torchlight (sx client)\n\n```\ntcpdump -i eth1 -p -w jun2014_sx_send_1Bitcoin.pcap \\(host 66.18.211.158 and port 8333\\)\n```\n# Logs:\n\nApproximate end-time:\nWed Jun 25 11:57:04 MDT 2014\n## Bitcoind log\n\n```\n2014-06-25 17:56:47 receive version message: /libbitcoin:2.0.0/: version 60000, blocks=0, us=10.0.0.1:8333, them=10.0.0.1:8333, pee8\n2014-06-25 17:56:48 CreateNewBlock(): total size 170007\n```\n\n--note: no errors, libbitcoin line cut-off\n## sx sendtx log\n\n```\njames@torchlight:~/coinjoin$ sx sendtx-node blocked.tx casey.economicprisoner.com\nDEBUG [network]: s: version (103 bytes)\nDEBUG [network]: r: version (101 bytes)\nDEBUG [network]: s: verack (0 bytes)\nDEBUG [network]: r: verack (0 bytes)\nsendtx: Sending 43f1c3e735560f7b1e4c396a55a2e62d2e83b7c4ed1efc5a7d29358c84ca7807\nDEBUG [network]: s: tx (291 bytes)\nsendtx: Sent 1403719007\n```\n## Repeated test with more bitcoind debuging:\n\nApprox start time:\nWed Jun 25 19:05:32 MDT 2014\n\nApprox interesting time:\n2014-06-26 01:05:45 accepted connection 70.74.233.146:37540\n\nApprox end time:\nWed Jun 25 19:05:55 MDT 2014\n\n(trimmed a bit)\n\n```\nBitcoind log:\n2014-06-26 01:05:45 accepted connection 70.74.233.146:37540\n2014-06-26 01:05:45 received: version (103 bytes)\n2014-06-26 01:05:45 send version message: version 70002, blocks=307843, us=66.18\n.211.158:8333, them=70.74.233.146:37540, peer=70.74.233.146:37540\n2014-06-26 01:05:45 sending: version (101 bytes)\n2014-06-26 01:05:45 sending: verack (0 bytes)\n2014-06-26 01:05:45 receive version message: /libbitcoin:2.0.0/: version 60000,\nblocks=0, us=10.0.0.1:8333, them=10.0.0.1:8333, peer=70.74.233.146:37540\n2014-06-26 01:05:45 Added time data, samples 18, offset +0 (+0 minutes)\n2014-06-26 01:05:45 received: verack (0 bytes)\n2014-06-26 01:05:45 socket closed\n2014-06-26 01:05:45 disconnecting node 70.74.233.146:37540\n2014-06-26 01:05:46 received: ping (8 bytes)\n2014-06-26 01:05:46 sending: pong (8 bytes)\n2014-06-26 01:05:46 received: inv (37 bytes)\n2014-06-26 01:05:46   got inventory: tx db59504348dcbb6e7c5be759e80e1120997461d7\naee06f774f980f26657b4a64  new\n2014-06-26 01:05:46 askfor tx db59504348dcbb6e7c5be759e80e1120997461d7aee06f774f\n980f26657b4a64   0 (00:00:00)\n2014-06-26 01:05:46 sending getdata: tx db59504348dcbb6e7c5be759e80e1120997461d7\naee06f774f980f26657b4a64\n2014-06-26 01:05:46 sending: getdata (37 bytes)\n2014-06-26 01:05:46 received: inv (37 bytes)\n2014-06-26 01:05:46   got inventory: tx db59504348dcbb6e7c5be759e80e1120997461d7\naee06f774f980f26657b4a64  new\n2014-06-26 01:05:46 askfor tx db59504348dcbb6e7c5be759e80e1120997461d7aee06f774f\n980f26657b4a64   1403744745000000 (01:05:45)\n2014-06-26 01:05:46 received: inv (37 bytes)\n2014-06-26 01:05:46   got inventory: tx db59504348dcbb6e7c5be759e80e1120997461d7\naee06f774f980f26657b4a64  new\n2014-06-26 01:05:46 askfor tx db59504348dcbb6e7c5be759e80e1120997461d7aee06f774f\n980f26657b4a64   1403744865000000 (01:07:45)\n2014-06-26 01:05:47 received: tx (761 bytes)\n2014-06-26 01:05:47 received: inv (37 bytes)\n```\n\nNote the size of the first received tx does not match the tx under test (761 bytes > 291 bytes)\nEdit: finally found the comment edit button!\n",
          "user": {
            "login": "phillipsjk",
            "id": 6768234,
            "node_id": "MDQ6VXNlcjY3NjgyMzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6768234?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/phillipsjk",
            "html_url": "https://github.com/phillipsjk",
            "followers_url": "https://api.github.com/users/phillipsjk/followers",
            "following_url": "https://api.github.com/users/phillipsjk/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/phillipsjk/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/phillipsjk/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/phillipsjk/subscriptions",
            "organizations_url": "https://api.github.com/users/phillipsjk/orgs",
            "repos_url": "https://api.github.com/users/phillipsjk/repos",
            "events_url": "https://api.github.com/users/phillipsjk/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/phillipsjk/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 13,
          "created_at": "2014-06-27T18:46:58Z",
          "updated_at": "2021-07-04T13:18:01Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "moved_columns_in_project",
      "id": 985987335,
      "node_id": "MDI2Ok1vdmVkQ29sdW1uc0luUHJvamVjdEV2ZW50OTg1OTg3MzM1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/985987335",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-03-03T20:15:00Z",
      "project_card": {
        "id": 1355486,
        "url": "https://api.github.com/projects/columns/cards/1355486",
        "project_id": 49573,
        "project_url": "https://api.github.com/projects/49573",
        "column_name": "Done",
        "previous_column_name": "In progress"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "OlegGirko",
        "id": 6013515,
        "node_id": "MDQ6VXNlcjYwMTM1MTU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6013515?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/OlegGirko",
        "html_url": "https://github.com/OlegGirko",
        "followers_url": "https://api.github.com/users/OlegGirko/followers",
        "following_url": "https://api.github.com/users/OlegGirko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/OlegGirko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/OlegGirko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/OlegGirko/subscriptions",
        "organizations_url": "https://api.github.com/users/OlegGirko/orgs",
        "repos_url": "https://api.github.com/users/OlegGirko/repos",
        "events_url": "https://api.github.com/users/OlegGirko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/OlegGirko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-08-09T14:49:42Z",
      "updated_at": "2017-08-09T14:49:42Z",
      "source": {
        "issue": {
          "id": 249057109,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTM0OTEyNDIy",
          "url": "https://api.github.com/repos/dashpay/dash/issues/1568",
          "repository_url": "https://api.github.com/repos/dashpay/dash",
          "labels_url": "https://api.github.com/repos/dashpay/dash/issues/1568/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/dashpay/dash/issues/1568/comments",
          "events_url": "https://api.github.com/repos/dashpay/dash/issues/1568/events",
          "html_url": "https://github.com/dashpay/dash/pull/1568",
          "number": 1568,
          "state": "closed",
          "state_reason": null,
          "title": "Backport Bitcoin PR#9289: net: drop boost::thread_group",
          "body": "This is backport of Bitcoin PR bitcoin/bitcoin#9289.\r\n\r\nThis is the last PR required before backporting bitcoin/bitcoin#9441 (Net: Massive speedup. Net locks overhaul).\r\n\r\nThe original PR description follows.\r\n---\r\n(Split out and rewritten chunk of bitcoin/bitcoin#8631. I'll rebase that on top of this post-merge and reopen.)\r\n\r\nThis is a prerequisite for async network handling. As-is, we don't have enough control over the shutdown process to be able to deal with async connecting and send/recv.\r\n\r\nIn particular, we need to be sure that message processing has shut down before forcing all networking down, otherwise we run the risk of trying to process a node's messages during its destruction. This is not a problem now because the current sync model works fine with all threads being interrupted at the same time.\r\n\r\nAnd if that's not a satisfactory reason for the change, it also gets rid of a nice chunk of boost threading (and simplifies the rebase of bitcoin/bitcoin#8631 :)\r\n\r\nTo accomplish this, we need to:\r\n\r\n* Set a flag to interrupt all net threads\r\n* notify all blocked condvars\r\n* replace MilliSleep (since they're boost interruption points)\r\n* teach init to Interrupt/Stop, similar to some of the other subsystems.\r\n\r\nThe MilliSleeps are replaced with condvars that check for the thread's interrupt flag. Since the flags are atomic, there's no need for real locking, so these condvars use a dummy CNullLock.\r\n\r\nWith all of that done, we may as well switch away from boost threads, since we're no longer dependent on interruption.\r\n\r\n@TheBlueMatt bitcoin/bitcoin@3f3f0b4 is the awkward change I mentioned on IRC. The global will be cleaned up when we move processing into a class as a next step (something like theuni/bitcoin@3f598db)",
          "user": {
            "login": "OlegGirko",
            "id": 6013515,
            "node_id": "MDQ6VXNlcjYwMTM1MTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6013515?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/OlegGirko",
            "html_url": "https://github.com/OlegGirko",
            "followers_url": "https://api.github.com/users/OlegGirko/followers",
            "following_url": "https://api.github.com/users/OlegGirko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/OlegGirko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/OlegGirko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/OlegGirko/subscriptions",
            "organizations_url": "https://api.github.com/users/OlegGirko/orgs",
            "repos_url": "https://api.github.com/users/OlegGirko/repos",
            "events_url": "https://api.github.com/users/OlegGirko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/OlegGirko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "milestone": {
            "url": "https://api.github.com/repos/dashpay/dash/milestones/3",
            "html_url": "https://github.com/dashpay/dash/milestone/3",
            "labels_url": "https://api.github.com/repos/dashpay/dash/milestones/3/labels",
            "id": 2249697,
            "node_id": "MDk6TWlsZXN0b25lMjI0OTY5Nw==",
            "number": 3,
            "state": "closed",
            "title": "12.2",
            "creator": {
              "login": "schinzelh",
              "id": 636669,
              "node_id": "MDQ6VXNlcjYzNjY2OQ==",
              "avatar_url": "https://avatars.githubusercontent.com/u/636669?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/schinzelh",
              "html_url": "https://github.com/schinzelh",
              "followers_url": "https://api.github.com/users/schinzelh/followers",
              "following_url": "https://api.github.com/users/schinzelh/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/schinzelh/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/schinzelh/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/schinzelh/subscriptions",
              "organizations_url": "https://api.github.com/users/schinzelh/orgs",
              "repos_url": "https://api.github.com/users/schinzelh/repos",
              "events_url": "https://api.github.com/users/schinzelh/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/schinzelh/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 211,
            "created_at": "2017-01-13T11:50:01Z",
            "updated_at": "2021-03-01T07:39:36Z",
            "closed_at": "2020-11-01T23:57:22Z"
          },
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/dashpay/dash/pulls/1568",
            "html_url": "https://github.com/dashpay/dash/pull/1568",
            "diff_url": "https://github.com/dashpay/dash/pull/1568.diff",
            "patch_url": "https://github.com/dashpay/dash/pull/1568.patch"
          },
          "closed_at": "2017-08-09T16:06:31Z",
          "created_at": "2017-08-09T14:49:42Z",
          "updated_at": "2017-08-15T21:06:17Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "OlegGirko",
        "id": 6013515,
        "node_id": "MDQ6VXNlcjYwMTM1MTU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6013515?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/OlegGirko",
        "html_url": "https://github.com/OlegGirko",
        "followers_url": "https://api.github.com/users/OlegGirko/followers",
        "following_url": "https://api.github.com/users/OlegGirko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/OlegGirko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/OlegGirko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/OlegGirko/subscriptions",
        "organizations_url": "https://api.github.com/users/OlegGirko/orgs",
        "repos_url": "https://api.github.com/users/OlegGirko/repos",
        "events_url": "https://api.github.com/users/OlegGirko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/OlegGirko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2017-08-22T21:29:06Z",
      "updated_at": "2017-08-22T21:29:06Z",
      "source": {
        "issue": {
          "id": 252095068,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTM3MDgzOTgx",
          "url": "https://api.github.com/repos/dashpay/dash/issues/1586",
          "repository_url": "https://api.github.com/repos/dashpay/dash",
          "labels_url": "https://api.github.com/repos/dashpay/dash/issues/1586/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/dashpay/dash/issues/1586/comments",
          "events_url": "https://api.github.com/repos/dashpay/dash/issues/1586/events",
          "html_url": "https://github.com/dashpay/dash/pull/1586",
          "number": 1586,
          "state": "closed",
          "state_reason": null,
          "title": "Backport Bitcoin PR#9441: Net: Massive speedup. Net locks overhaul",
          "body": "This is backport of Bitcoin PR bitcoin/bitcoin#9441.\r\n\r\nThis is the PR that not only significantly improves networking speed, but also it was the original cause that triggered massive code refactoring backport from Bitcoin.\r\nNow we are at the end of this refactoring.\r\n\r\nThere are still couple of loose ends that will be addressed in subsequent PRs:\r\n\r\n* It causes `bip68-sequence` functional test to hang. Fixed in bitcoin/bitcoin#9606.\r\n* Couple known locking issues introduced during refactoring backport. Fixed in bitcoin/bitcoin#9626.\r\n\r\nThe original PR description follows.\r\n---\r\nDepends on (includes) bitcoin/bitcoin#9289. This is what I ultimately set out to fix with the net refactor.\r\n\r\nIn my (short) tests, it cuts network latency to ~50%. In some cases, more like 30%.\r\n\r\nTest method: 1 fresh node (macbook) connected to a single other node (desktop). Testnet. Running until synced to block 10000. Results:\r\n\r\n    new = patched with this PR.\r\n    old = running #9289.\r\n    client / server\r\n    old / old: 100000 in 8:05\r\n    new / old: 100000 in 3:24\r\n    new / new: 100000 in 2:16\r\n\r\nThe results are very reproducible, always within a few seconds. Not only is it a nice improvement for the fresh node, but it compounds when its peer is running the updated code as well.\r\n\r\nI had hoped to have the abstraction complete in time for 0.14, but it looks like that's unlikely at this point. For reference, it would look something more like theuni/bitcoin@1a6b10a.\r\n\r\nAnyway, this is an attempt to fix the actual issue in time for 0.14, and putting off the last bit of refactor until after that. This addresses the issue observed in bitcoin/bitcoin#9415, but also cleans up the nasty locking issues.\r\n\r\nI labeled this WIP because there are probably still several racy bits. Quite a bit of test-writing remains.\r\n\r\nSee the individual commits for the details. tl;dr: We currently either process a peer's message or read from their socket, but never both simultaneously. The changes here remove that restriction.",
          "user": {
            "login": "OlegGirko",
            "id": 6013515,
            "node_id": "MDQ6VXNlcjYwMTM1MTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6013515?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/OlegGirko",
            "html_url": "https://github.com/OlegGirko",
            "followers_url": "https://api.github.com/users/OlegGirko/followers",
            "following_url": "https://api.github.com/users/OlegGirko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/OlegGirko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/OlegGirko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/OlegGirko/subscriptions",
            "organizations_url": "https://api.github.com/users/OlegGirko/orgs",
            "repos_url": "https://api.github.com/users/OlegGirko/repos",
            "events_url": "https://api.github.com/users/OlegGirko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/OlegGirko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "milestone": {
            "url": "https://api.github.com/repos/dashpay/dash/milestones/3",
            "html_url": "https://github.com/dashpay/dash/milestone/3",
            "labels_url": "https://api.github.com/repos/dashpay/dash/milestones/3/labels",
            "id": 2249697,
            "node_id": "MDk6TWlsZXN0b25lMjI0OTY5Nw==",
            "number": 3,
            "state": "closed",
            "title": "12.2",
            "creator": {
              "login": "schinzelh",
              "id": 636669,
              "node_id": "MDQ6VXNlcjYzNjY2OQ==",
              "avatar_url": "https://avatars.githubusercontent.com/u/636669?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/schinzelh",
              "html_url": "https://github.com/schinzelh",
              "followers_url": "https://api.github.com/users/schinzelh/followers",
              "following_url": "https://api.github.com/users/schinzelh/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/schinzelh/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/schinzelh/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/schinzelh/subscriptions",
              "organizations_url": "https://api.github.com/users/schinzelh/orgs",
              "repos_url": "https://api.github.com/users/schinzelh/repos",
              "events_url": "https://api.github.com/users/schinzelh/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/schinzelh/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 211,
            "created_at": "2017-01-13T11:50:01Z",
            "updated_at": "2021-03-01T07:39:36Z",
            "closed_at": "2020-11-01T23:57:22Z"
          },
          "locked": false,
          "comments": 0,
          "pull_request": {
            "url": "https://api.github.com/repos/dashpay/dash/pulls/1586",
            "html_url": "https://github.com/dashpay/dash/pull/1586",
            "diff_url": "https://github.com/dashpay/dash/pull/1586.diff",
            "patch_url": "https://github.com/dashpay/dash/pull/1586.patch"
          },
          "closed_at": "2017-08-23T14:20:44Z",
          "created_at": "2017-08-22T21:29:05Z",
          "updated_at": "2017-08-23T16:46:12Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "dgenr8",
        "id": 4284124,
        "node_id": "MDQ6VXNlcjQyODQxMjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4284124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dgenr8",
        "html_url": "https://github.com/dgenr8",
        "followers_url": "https://api.github.com/users/dgenr8/followers",
        "following_url": "https://api.github.com/users/dgenr8/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dgenr8/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dgenr8/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dgenr8/subscriptions",
        "organizations_url": "https://api.github.com/users/dgenr8/orgs",
        "repos_url": "https://api.github.com/users/dgenr8/repos",
        "events_url": "https://api.github.com/users/dgenr8/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dgenr8/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-04-14T16:22:22Z",
      "updated_at": "2018-04-14T16:22:22Z",
      "source": {
        "issue": {
          "id": 314258557,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTgxNjAyMjA4",
          "url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/387",
          "repository_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt",
          "labels_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/387/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/387/comments",
          "events_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/387/events",
          "html_url": "https://github.com/bitcoinxt/bitcoinxt/pull/387",
          "number": 387,
          "state": "closed",
          "state_reason": null,
          "title": "Ban nodes with invalid network magic",
          "body": "Fixes #310 ",
          "user": {
            "login": "dagurval",
            "id": 92707,
            "node_id": "MDQ6VXNlcjkyNzA3",
            "avatar_url": "https://avatars.githubusercontent.com/u/92707?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dagurval",
            "html_url": "https://github.com/dagurval",
            "followers_url": "https://api.github.com/users/dagurval/followers",
            "following_url": "https://api.github.com/users/dagurval/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dagurval/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dagurval/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dagurval/subscriptions",
            "organizations_url": "https://api.github.com/users/dagurval/orgs",
            "repos_url": "https://api.github.com/users/dagurval/repos",
            "events_url": "https://api.github.com/users/dagurval/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dagurval/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 898559556,
              "node_id": "MDU6TGFiZWw4OTg1NTk1NTY=",
              "url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/labels/v0.11I",
              "name": "v0.11I",
              "description": "",
              "color": "2befaa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/pulls/387",
            "html_url": "https://github.com/bitcoinxt/bitcoinxt/pull/387",
            "diff_url": "https://github.com/bitcoinxt/bitcoinxt/pull/387.diff",
            "patch_url": "https://github.com/bitcoinxt/bitcoinxt/pull/387.patch"
          },
          "closed_at": "2018-04-14T16:22:30Z",
          "created_at": "2018-04-13T21:40:36Z",
          "updated_at": "2018-04-14T16:26:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "dagurval",
        "id": 92707,
        "node_id": "MDQ6VXNlcjkyNzA3",
        "avatar_url": "https://avatars.githubusercontent.com/u/92707?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dagurval",
        "html_url": "https://github.com/dagurval",
        "followers_url": "https://api.github.com/users/dagurval/followers",
        "following_url": "https://api.github.com/users/dagurval/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dagurval/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dagurval/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dagurval/subscriptions",
        "organizations_url": "https://api.github.com/users/dagurval/orgs",
        "repos_url": "https://api.github.com/users/dagurval/repos",
        "events_url": "https://api.github.com/users/dagurval/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dagurval/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-08T11:53:03Z",
      "updated_at": "2018-06-08T11:53:03Z",
      "source": {
        "issue": {
          "id": 330628530,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTkzNTkxMjAy",
          "url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/444",
          "repository_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt",
          "labels_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/444/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/444/comments",
          "events_url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/issues/444/events",
          "html_url": "https://github.com/bitcoinxt/bitcoinxt/pull/444",
          "number": 444,
          "state": "closed",
          "state_reason": null,
          "title": "More net cherries",
          "body": "https://github.com/bitcoin/bitcoin/pull/8708 - net: have CConnman handle message sending\r\n* b98c14c (serialization: teach serializers variadics)\r\n    * handled nVersion, nType conflicts\r\n* 3e32cd0 (connman is in charge of pushing messages)\r\n    * to simplify merge, removed stealth mode from PushVersion\r\n* ea33268 (net: switch all callers to connman for pushing messages)\r\n    * this needed massive patching because of we have split up the networking ocde and added unittests.\r\n* 5c2169cc skipped, we didn't have the \"optimistic write counter hack\"\r\n* 7588b85 (net: construct CNodeStates in place)\r\n    * manually applied, our nodestate interface differs\r\n* 9027680 (net: handle version push in InitializeNode)\r\n    * mostly trivial\r\n\r\nSkipped workaround PR https://github.com/bitcoin/bitcoin/pull/8862 because this is fixed in https://github.com/bitcoin/bitcoin/pull/9128\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/7181 - net: Add and document network messages in protocol.h\r\n* Only partial cherry-pick to get the constants, to reduce merge work\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/9128 \r\n* d74e352 (net: Set feelers to disconnect at the end of the version message)\r\n    * skipped, we already have it\r\n* fedea8a (net: don't send any messages before handshake or after requested disconnect)\r\n    * moved reject/ban into separate function to avoid holding the nodestate lock, also removed needless scopes\r\n* c7be56d (net: push only raw data into CConnman)\r\n    * this also touches PushMessage and thus needed massive patching\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/9225 - Fix some benign races\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/9441 - Net: Massive speedup. Net locks overhaul\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/9561 - Wake message handling thread when we receive a new block\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/9535 - Split CNode::cs_vSend: message processing and message sending\r\n* Discovered earlier merge issue after applying this. Fixed in separate commit.\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/9626 - Clean up a few CConnman cs_vNodes/CNode things\r\n* 5be0190 - skipped, relaytransactions is not useless and we didn't have the others\r\n\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/9606 - net: Consistently use GetTimeMicros() for inactivity checks\r\nhttps://github.com/bitcoin/bitcoin/pull/9659 - Net: Turn some methods and params/variables const\r\nhttps://github.com/bitcoin/bitcoin/pull/9671 - Fix super-unlikely race introduced in 236618061a445d2cb11e72\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/9609: net: fix remaining net assertions\r\n\r\nAll changes that originated in `net_process.cpp` had to be manually applied to `main.cpp`",
          "user": {
            "login": "dagurval",
            "id": 92707,
            "node_id": "MDQ6VXNlcjkyNzA3",
            "avatar_url": "https://avatars.githubusercontent.com/u/92707?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dagurval",
            "html_url": "https://github.com/dagurval",
            "followers_url": "https://api.github.com/users/dagurval/followers",
            "following_url": "https://api.github.com/users/dagurval/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dagurval/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dagurval/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dagurval/subscriptions",
            "organizations_url": "https://api.github.com/users/dagurval/orgs",
            "repos_url": "https://api.github.com/users/dagurval/repos",
            "events_url": "https://api.github.com/users/dagurval/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dagurval/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoinxt/bitcoinxt/pulls/444",
            "html_url": "https://github.com/bitcoinxt/bitcoinxt/pull/444",
            "diff_url": "https://github.com/bitcoinxt/bitcoinxt/pull/444.diff",
            "patch_url": "https://github.com/bitcoinxt/bitcoinxt/pull/444.patch"
          },
          "closed_at": "2018-06-20T13:56:09Z",
          "created_at": "2018-06-08T11:53:03Z",
          "updated_at": "2018-06-20T18:15:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "mxaddict",
        "id": 1060905,
        "node_id": "MDQ6VXNlcjEwNjA5MDU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1060905?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mxaddict",
        "html_url": "https://github.com/mxaddict",
        "followers_url": "https://api.github.com/users/mxaddict/followers",
        "following_url": "https://api.github.com/users/mxaddict/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mxaddict/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mxaddict/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mxaddict/subscriptions",
        "organizations_url": "https://api.github.com/users/mxaddict/orgs",
        "repos_url": "https://api.github.com/users/mxaddict/repos",
        "events_url": "https://api.github.com/users/mxaddict/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mxaddict/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-07-16T23:56:45Z",
      "updated_at": "2019-07-16T23:56:45Z",
      "source": {
        "issue": {
          "id": 468346009,
          "node_id": "MDU6SXNzdWU0NjgzNDYwMDk=",
          "url": "https://api.github.com/repos/navcoin/navcoin-core/issues/569",
          "repository_url": "https://api.github.com/repos/navcoin/navcoin-core",
          "labels_url": "https://api.github.com/repos/navcoin/navcoin-core/issues/569/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/navcoin/navcoin-core/issues/569/comments",
          "events_url": "https://api.github.com/repos/navcoin/navcoin-core/issues/569/events",
          "html_url": "https://github.com/navcoin/navcoin-core/issues/569",
          "number": 569,
          "state": "closed",
          "state_reason": "completed",
          "title": "Daemon wont completely shutdown",
          "body": "Version: Running commit 2b13cc9 of the 4.7.0 RC (https://github.com/navcoin/navcoin-core/pull/545) built locally using the depends folder.\r\n\r\nOS: Mac OSX 10.14.5\r\n\r\nSteps; \r\n\r\n- start navcoind; run `./src/navcoind &`\r\n- wait for it to load\r\n- when the application is fully loaded and the rpc server is available try to shut down the daemon using the cli; run `./src/navcoin-cli stop`\r\n\r\nResult;\r\n\r\n- the rpc server shuts down, navcoin-cli commands return `error: couldn't connect to server`. \r\n- attempting to restart navcoind with `./src/navcoind &` results in `Error: Cannot obtain a lock on data directory /Users/xxx/Library/Application Support/NavCoin4. NavCoin Core is probably already running.`\r\n- The logs show the shutdown procedure is resulting in a deadlock;\r\n\r\n```\r\n2019-07-15 21:01:20 POTENTIAL DEADLOCK DETECTED\r\n2019-07-15 21:01:20 Previous lock order was:\r\n2019-07-15 21:01:20  (1) pnode->cs_vSend  net.cpp:1847 (TRY)\r\n2019-07-15 21:01:20  (2) cs_main  main.cpp:7762 (TRY)\r\n2019-07-15 21:01:20  (2) cs_main  main.cpp:4564\r\n2019-07-15 21:01:20 Current lock order is:\r\n2019-07-15 21:01:20  pnode->cs_vRecvMsg  net.cpp:1828 (TRY)\r\n2019-07-15 21:01:20  (2) cs_main  main.cpp:6753\r\n2019-07-15 21:01:20  (1) cs_vSend  net.cpp:2537\r\n2019-07-15 21:01:20 POTENTIAL DEADLOCK DETECTED\r\n2019-07-15 21:01:20 Previous lock order was:\r\n2019-07-15 21:01:20  (1) pnode->cs_vSend  net.cpp:1847 (TRY)\r\n2019-07-15 21:01:20  (2) cs_main  main.cpp:7762 (TRY)\r\n2019-07-15 21:01:20  (2) cs_main  main.cpp:4564\r\n2019-07-15 21:01:20 Current lock order is:\r\n2019-07-15 21:01:20  pnode->cs_vRecvMsg  net.cpp:1828 (TRY)\r\n2019-07-15 21:01:20  (2) cs_main  main.cpp:6753\r\n2019-07-15 21:01:20  (1) cs_vSend  net.cpp:2537\r\n```\r\n\r\nThe only way to stop the daemon entirely is to force kill the process id or reboot your machine.\r\n\r\nExpected result;\r\n\r\nnavcoind would fully shut down and exit when using the cli `stop` command.",
          "user": {
            "login": "proletesseract",
            "id": 6902746,
            "node_id": "MDQ6VXNlcjY5MDI3NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6902746?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/proletesseract",
            "html_url": "https://github.com/proletesseract",
            "followers_url": "https://api.github.com/users/proletesseract/followers",
            "following_url": "https://api.github.com/users/proletesseract/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/proletesseract/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/proletesseract/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/proletesseract/subscriptions",
            "organizations_url": "https://api.github.com/users/proletesseract/orgs",
            "repos_url": "https://api.github.com/users/proletesseract/repos",
            "events_url": "https://api.github.com/users/proletesseract/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/proletesseract/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 6,
          "closed_at": "2022-02-04T01:16:06Z",
          "created_at": "2019-07-15T21:34:02Z",
          "updated_at": "2022-02-04T01:16:06Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "mxaddict",
        "id": 1060905,
        "node_id": "MDQ6VXNlcjEwNjA5MDU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1060905?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mxaddict",
        "html_url": "https://github.com/mxaddict",
        "followers_url": "https://api.github.com/users/mxaddict/followers",
        "following_url": "https://api.github.com/users/mxaddict/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mxaddict/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mxaddict/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mxaddict/subscriptions",
        "organizations_url": "https://api.github.com/users/mxaddict/orgs",
        "repos_url": "https://api.github.com/users/mxaddict/repos",
        "events_url": "https://api.github.com/users/mxaddict/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mxaddict/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-07-17T18:48:49Z",
      "updated_at": "2019-07-17T18:48:49Z",
      "source": {
        "issue": {
          "id": 469386477,
          "node_id": "MDU6SXNzdWU0NjkzODY0Nzc=",
          "url": "https://api.github.com/repos/navcoin/navcoin-core/issues/573",
          "repository_url": "https://api.github.com/repos/navcoin/navcoin-core",
          "labels_url": "https://api.github.com/repos/navcoin/navcoin-core/issues/573/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/navcoin/navcoin-core/issues/573/comments",
          "events_url": "https://api.github.com/repos/navcoin/navcoin-core/issues/573/events",
          "html_url": "https://github.com/navcoin/navcoin-core/issues/573",
          "number": 573,
          "state": "open",
          "state_reason": null,
          "title": "Backport changes from upstream net code (p2p)",
          "body": "backport these PRs from upstream:\r\nbitcoin/bitcoin#9289\r\nbitcoin/bitcoin#9441\r\n\r\nSimilar to what dashpay has done here:\r\ndashpay/dash#1586",
          "user": {
            "login": "mxaddict",
            "id": 1060905,
            "node_id": "MDQ6VXNlcjEwNjA5MDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1060905?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mxaddict",
            "html_url": "https://github.com/mxaddict",
            "followers_url": "https://api.github.com/users/mxaddict/followers",
            "following_url": "https://api.github.com/users/mxaddict/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/mxaddict/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/mxaddict/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/mxaddict/subscriptions",
            "organizations_url": "https://api.github.com/users/mxaddict/orgs",
            "repos_url": "https://api.github.com/users/mxaddict/repos",
            "events_url": "https://api.github.com/users/mxaddict/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/mxaddict/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 1318529750,
              "node_id": "MDU6TGFiZWwxMzE4NTI5NzUw",
              "url": "https://api.github.com/repos/navcoin/navcoin-core/labels/bounty-high",
              "name": "bounty-high",
              "description": "",
              "color": "cbea7c",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 3,
          "created_at": "2019-07-17T18:48:49Z",
          "updated_at": "2022-05-24T16:18:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Fuzzbawls",
        "id": 7393257,
        "node_id": "MDQ6VXNlcjczOTMyNTc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7393257?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fuzzbawls",
        "html_url": "https://github.com/Fuzzbawls",
        "followers_url": "https://api.github.com/users/Fuzzbawls/followers",
        "following_url": "https://api.github.com/users/Fuzzbawls/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fuzzbawls/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fuzzbawls/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fuzzbawls/subscriptions",
        "organizations_url": "https://api.github.com/users/Fuzzbawls/orgs",
        "repos_url": "https://api.github.com/users/Fuzzbawls/repos",
        "events_url": "https://api.github.com/users/Fuzzbawls/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fuzzbawls/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-19T20:22:57Z",
      "updated_at": "2020-08-19T20:22:57Z",
      "source": {
        "issue": {
          "id": 682154817,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDcwNDM0ODA3",
          "url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/1812",
          "repository_url": "https://api.github.com/repos/PIVX-Project/PIVX",
          "labels_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/1812/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/1812/comments",
          "events_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/1812/events",
          "html_url": "https://github.com/PIVX-Project/PIVX/pull/1812",
          "number": 1812,
          "state": "closed",
          "state_reason": null,
          "title": "[P2P] Begin Network Encapsulation",
          "body": "This is the finalization of the upstream PRs being tracked in #1374 to update much of our networking code to more closely follow upstream improvements. The following PRs are included here:\r\n\r\n- https://github.com/bitcoin/bitcoin/pull/8466\r\n  Do not shadow variables in networking code\r\n- https://github.com/bitcoin/bitcoin/pull/8606\r\n  Fix some locks\r\n- https://github.com/bitcoin/bitcoin/pull/8085\r\n  Begin encapsulation\r\n- https://github.com/bitcoin/bitcoin/pull/9289\r\n  drop boost::thread_group\r\n- https://github.com/bitcoin/bitcoin/pull/8740\r\n  No longer send local address in addrMe\r\n- https://github.com/bitcoin/bitcoin/pull/8661\r\n  Do not set an addr time penalty when a peer advertises itself\r\n\r\nAdditionally, during conflict resolution and backporting of 8085, the following additional upstream PR was included:\r\n- https://github.com/bitcoin/bitcoin/pull/8715\r\n  only delete CConnman if it's been created\r\n\r\n\r\nStill TODO in future PRs:\r\n- https://github.com/bitcoin/bitcoin/pull/9037\r\n- https://github.com/bitcoin/bitcoin/pull/9441\r\n- https://github.com/bitcoin/bitcoin/pull/9609\r\n- https://github.com/bitcoin/bitcoin/pull/9626\r\n- https://github.com/bitcoin/bitcoin/pull/9708\r\n- https://github.com/bitcoin/bitcoin/pull/12381\r\n- https://github.com/bitcoin/bitcoin/pull/18584",
          "user": {
            "login": "Fuzzbawls",
            "id": 7393257,
            "node_id": "MDQ6VXNlcjczOTMyNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7393257?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Fuzzbawls",
            "html_url": "https://github.com/Fuzzbawls",
            "followers_url": "https://api.github.com/users/Fuzzbawls/followers",
            "following_url": "https://api.github.com/users/Fuzzbawls/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Fuzzbawls/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Fuzzbawls/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Fuzzbawls/subscriptions",
            "organizations_url": "https://api.github.com/users/Fuzzbawls/orgs",
            "repos_url": "https://api.github.com/users/Fuzzbawls/repos",
            "events_url": "https://api.github.com/users/Fuzzbawls/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Fuzzbawls/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 566256651,
              "node_id": "MDU6TGFiZWw1NjYyNTY2NTE=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 566257187,
              "node_id": "MDU6TGFiZWw1NjYyNTcxODc=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Upstream",
              "name": "Upstream",
              "color": "bfd4f2",
              "default": false
            },
            {
              "id": 816679263,
              "node_id": "MDU6TGFiZWw4MTY2NzkyNjM=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Network",
              "name": "Network",
              "color": "f9d0c4",
              "default": false
            }
          ],
          "assignee": {
            "login": "Fuzzbawls",
            "id": 7393257,
            "node_id": "MDQ6VXNlcjczOTMyNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7393257?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Fuzzbawls",
            "html_url": "https://github.com/Fuzzbawls",
            "followers_url": "https://api.github.com/users/Fuzzbawls/followers",
            "following_url": "https://api.github.com/users/Fuzzbawls/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Fuzzbawls/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Fuzzbawls/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Fuzzbawls/subscriptions",
            "organizations_url": "https://api.github.com/users/Fuzzbawls/orgs",
            "repos_url": "https://api.github.com/users/Fuzzbawls/repos",
            "events_url": "https://api.github.com/users/Fuzzbawls/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Fuzzbawls/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "Fuzzbawls",
              "id": 7393257,
              "node_id": "MDQ6VXNlcjczOTMyNTc=",
              "avatar_url": "https://avatars.githubusercontent.com/u/7393257?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/Fuzzbawls",
              "html_url": "https://github.com/Fuzzbawls",
              "followers_url": "https://api.github.com/users/Fuzzbawls/followers",
              "following_url": "https://api.github.com/users/Fuzzbawls/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/Fuzzbawls/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/Fuzzbawls/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/Fuzzbawls/subscriptions",
              "organizations_url": "https://api.github.com/users/Fuzzbawls/orgs",
              "repos_url": "https://api.github.com/users/Fuzzbawls/repos",
              "events_url": "https://api.github.com/users/Fuzzbawls/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/Fuzzbawls/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "COLLABORATOR",
          "milestone": {
            "url": "https://api.github.com/repos/PIVX-Project/PIVX/milestones/29",
            "html_url": "https://github.com/PIVX-Project/PIVX/milestone/29",
            "labels_url": "https://api.github.com/repos/PIVX-Project/PIVX/milestones/29/labels",
            "id": 5863898,
            "node_id": "MDk6TWlsZXN0b25lNTg2Mzg5OA==",
            "number": 29,
            "state": "closed",
            "title": "4.3.0",
            "description": "",
            "creator": {
              "login": "random-zebra",
              "id": 18186894,
              "node_id": "MDQ6VXNlcjE4MTg2ODk0",
              "avatar_url": "https://avatars.githubusercontent.com/u/18186894?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/random-zebra",
              "html_url": "https://github.com/random-zebra",
              "followers_url": "https://api.github.com/users/random-zebra/followers",
              "following_url": "https://api.github.com/users/random-zebra/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/random-zebra/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/random-zebra/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/random-zebra/subscriptions",
              "organizations_url": "https://api.github.com/users/random-zebra/orgs",
              "repos_url": "https://api.github.com/users/random-zebra/repos",
              "events_url": "https://api.github.com/users/random-zebra/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/random-zebra/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 87,
            "created_at": "2020-09-10T13:31:15Z",
            "updated_at": "2020-11-06T12:44:10Z",
            "closed_at": "2020-11-06T12:44:10Z"
          },
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/PIVX-Project/PIVX/pulls/1812",
            "html_url": "https://github.com/PIVX-Project/PIVX/pull/1812",
            "diff_url": "https://github.com/PIVX-Project/PIVX/pull/1812.diff",
            "patch_url": "https://github.com/PIVX-Project/PIVX/pull/1812.patch"
          },
          "closed_at": "2020-08-27T17:52:49Z",
          "created_at": "2020-08-19T20:22:56Z",
          "updated_at": "2020-09-10T13:32:02Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 3700771925,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM3MDA3NzE5MjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3700771925",
      "actor": {
        "login": "random-zebra",
        "id": 18186894,
        "node_id": "MDQ6VXNlcjE4MTg2ODk0",
        "avatar_url": "https://avatars.githubusercontent.com/u/18186894?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/random-zebra",
        "html_url": "https://github.com/random-zebra",
        "followers_url": "https://api.github.com/users/random-zebra/followers",
        "following_url": "https://api.github.com/users/random-zebra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/random-zebra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/random-zebra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/random-zebra/subscriptions",
        "organizations_url": "https://api.github.com/users/random-zebra/orgs",
        "repos_url": "https://api.github.com/users/random-zebra/repos",
        "events_url": "https://api.github.com/users/random-zebra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/random-zebra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "777638e7bc75ab5e098e74871253db880586dcd3",
      "commit_url": "https://api.github.com/repos/PIVX-Project/PIVX/commits/777638e7bc75ab5e098e74871253db880586dcd3",
      "created_at": "2020-08-27T17:52:47Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Fuzzbawls",
        "id": 7393257,
        "node_id": "MDQ6VXNlcjczOTMyNTc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7393257?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fuzzbawls",
        "html_url": "https://github.com/Fuzzbawls",
        "followers_url": "https://api.github.com/users/Fuzzbawls/followers",
        "following_url": "https://api.github.com/users/Fuzzbawls/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fuzzbawls/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fuzzbawls/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fuzzbawls/subscriptions",
        "organizations_url": "https://api.github.com/users/Fuzzbawls/orgs",
        "repos_url": "https://api.github.com/users/Fuzzbawls/repos",
        "events_url": "https://api.github.com/users/Fuzzbawls/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fuzzbawls/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-03T03:05:35Z",
      "updated_at": "2020-09-03T03:05:35Z",
      "source": {
        "issue": {
          "id": 691594091,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDc4MzE2NTg1",
          "url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/1835",
          "repository_url": "https://api.github.com/repos/PIVX-Project/PIVX",
          "labels_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/1835/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/1835/comments",
          "events_url": "https://api.github.com/repos/PIVX-Project/PIVX/issues/1835/events",
          "html_url": "https://github.com/PIVX-Project/PIVX/pull/1835",
          "number": 1835,
          "state": "closed",
          "state_reason": null,
          "title": "[Net] Massive network refactoring and speedup",
          "body": "This is a combination of multiple upstream PRs focused on optimizing the P2P networking flow after the introduction of CConnman encapsulation, and a few older PRs that were previously missed to support the later optimizations. The PRs are as follows:\r\n\r\n- https://github.com/bitcoin/bitcoin/pull/9037 - net: Add test-before-evict discipline to addrman\r\n- https://github.com/bitcoin/bitcoin/pull/5151 - make CMessageHeader a dumb storage class\r\n- https://github.com/bitcoin/bitcoin/pull/6589 - log bytes recv/sent per command\r\n- https://github.com/bitcoin/bitcoin/pull/8688 - Move static global randomizer seeds into CConnman\r\n- https://github.com/bitcoin/bitcoin/pull/9050 - net: make a few values immutable, and use deterministic randomness for the localnonce\r\n- https://github.com/bitcoin/bitcoin/pull/8708 - net: have CConnman handle message sending\r\n- https://github.com/bitcoin/bitcoin/pull/9128 - net: Decouple CConnman and message serialization\r\n- https://github.com/bitcoin/bitcoin/pull/8822 - net: Consistent checksum handling\r\n- https://github.com/bitcoin/bitcoin/pull/9441 - Net: Massive speedup. Net locks overhaul\r\n- https://github.com/bitcoin/bitcoin/pull/9609 - net: fix remaining net assertions\r\n- https://github.com/bitcoin/bitcoin/pull/9626 - Clean up a few CConnman cs_vNodes/CNode things\r\n- https://github.com/bitcoin/bitcoin/pull/9698 - net: fix socket close race\r\n- https://github.com/bitcoin/bitcoin/pull/9708 - Clean up all known races/platform-specific UB at the time PR was opened\r\n  - Excluded bitcoin@512731bed0782f10092de35a960153b17ecc11eb and bitcoin@d8f2b8a8c032b83a3bd90750e58abaeece7e34e7, to be done in a separate PR",
          "user": {
            "login": "Fuzzbawls",
            "id": 7393257,
            "node_id": "MDQ6VXNlcjczOTMyNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7393257?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Fuzzbawls",
            "html_url": "https://github.com/Fuzzbawls",
            "followers_url": "https://api.github.com/users/Fuzzbawls/followers",
            "following_url": "https://api.github.com/users/Fuzzbawls/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Fuzzbawls/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Fuzzbawls/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Fuzzbawls/subscriptions",
            "organizations_url": "https://api.github.com/users/Fuzzbawls/orgs",
            "repos_url": "https://api.github.com/users/Fuzzbawls/repos",
            "events_url": "https://api.github.com/users/Fuzzbawls/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Fuzzbawls/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 566256651,
              "node_id": "MDU6TGFiZWw1NjYyNTY2NTE=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 566257187,
              "node_id": "MDU6TGFiZWw1NjYyNTcxODc=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Upstream",
              "name": "Upstream",
              "color": "bfd4f2",
              "default": false
            },
            {
              "id": 816679263,
              "node_id": "MDU6TGFiZWw4MTY2NzkyNjM=",
              "url": "https://api.github.com/repos/PIVX-Project/PIVX/labels/Network",
              "name": "Network",
              "color": "f9d0c4",
              "default": false
            }
          ],
          "assignee": {
            "login": "Fuzzbawls",
            "id": 7393257,
            "node_id": "MDQ6VXNlcjczOTMyNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7393257?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Fuzzbawls",
            "html_url": "https://github.com/Fuzzbawls",
            "followers_url": "https://api.github.com/users/Fuzzbawls/followers",
            "following_url": "https://api.github.com/users/Fuzzbawls/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Fuzzbawls/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Fuzzbawls/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Fuzzbawls/subscriptions",
            "organizations_url": "https://api.github.com/users/Fuzzbawls/orgs",
            "repos_url": "https://api.github.com/users/Fuzzbawls/repos",
            "events_url": "https://api.github.com/users/Fuzzbawls/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Fuzzbawls/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "Fuzzbawls",
              "id": 7393257,
              "node_id": "MDQ6VXNlcjczOTMyNTc=",
              "avatar_url": "https://avatars.githubusercontent.com/u/7393257?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/Fuzzbawls",
              "html_url": "https://github.com/Fuzzbawls",
              "followers_url": "https://api.github.com/users/Fuzzbawls/followers",
              "following_url": "https://api.github.com/users/Fuzzbawls/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/Fuzzbawls/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/Fuzzbawls/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/Fuzzbawls/subscriptions",
              "organizations_url": "https://api.github.com/users/Fuzzbawls/orgs",
              "repos_url": "https://api.github.com/users/Fuzzbawls/repos",
              "events_url": "https://api.github.com/users/Fuzzbawls/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/Fuzzbawls/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "COLLABORATOR",
          "milestone": {
            "url": "https://api.github.com/repos/PIVX-Project/PIVX/milestones/29",
            "html_url": "https://github.com/PIVX-Project/PIVX/milestone/29",
            "labels_url": "https://api.github.com/repos/PIVX-Project/PIVX/milestones/29/labels",
            "id": 5863898,
            "node_id": "MDk6TWlsZXN0b25lNTg2Mzg5OA==",
            "number": 29,
            "state": "closed",
            "title": "4.3.0",
            "description": "",
            "creator": {
              "login": "random-zebra",
              "id": 18186894,
              "node_id": "MDQ6VXNlcjE4MTg2ODk0",
              "avatar_url": "https://avatars.githubusercontent.com/u/18186894?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/random-zebra",
              "html_url": "https://github.com/random-zebra",
              "followers_url": "https://api.github.com/users/random-zebra/followers",
              "following_url": "https://api.github.com/users/random-zebra/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/random-zebra/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/random-zebra/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/random-zebra/subscriptions",
              "organizations_url": "https://api.github.com/users/random-zebra/orgs",
              "repos_url": "https://api.github.com/users/random-zebra/repos",
              "events_url": "https://api.github.com/users/random-zebra/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/random-zebra/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 87,
            "created_at": "2020-09-10T13:31:15Z",
            "updated_at": "2020-11-06T12:44:10Z",
            "closed_at": "2020-11-06T12:44:10Z"
          },
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/PIVX-Project/PIVX/pulls/1835",
            "html_url": "https://github.com/PIVX-Project/PIVX/pull/1835",
            "diff_url": "https://github.com/PIVX-Project/PIVX/pull/1835.diff",
            "patch_url": "https://github.com/PIVX-Project/PIVX/pull/1835.patch"
          },
          "closed_at": "2020-09-07T12:05:47Z",
          "created_at": "2020-09-03T03:05:34Z",
          "updated_at": "2020-09-10T13:32:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 3736859595,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM3MzY4NTk1OTU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3736859595",
      "actor": {
        "login": "random-zebra",
        "id": 18186894,
        "node_id": "MDQ6VXNlcjE4MTg2ODk0",
        "avatar_url": "https://avatars.githubusercontent.com/u/18186894?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/random-zebra",
        "html_url": "https://github.com/random-zebra",
        "followers_url": "https://api.github.com/users/random-zebra/followers",
        "following_url": "https://api.github.com/users/random-zebra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/random-zebra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/random-zebra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/random-zebra/subscriptions",
        "organizations_url": "https://api.github.com/users/random-zebra/orgs",
        "repos_url": "https://api.github.com/users/random-zebra/repos",
        "events_url": "https://api.github.com/users/random-zebra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/random-zebra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "cbd9271afb31c05f067b8ce2ff9a454c678d1a84",
      "commit_url": "https://api.github.com/repos/PIVX-Project/PIVX/commits/cbd9271afb31c05f067b8ce2ff9a454c678d1a84",
      "created_at": "2020-09-07T12:05:47Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "str4d",
        "id": 4993799,
        "node_id": "MDQ6VXNlcjQ5OTM3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4993799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/str4d",
        "html_url": "https://github.com/str4d",
        "followers_url": "https://api.github.com/users/str4d/followers",
        "following_url": "https://api.github.com/users/str4d/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/str4d/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/str4d/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/str4d/subscriptions",
        "organizations_url": "https://api.github.com/users/str4d/orgs",
        "repos_url": "https://api.github.com/users/str4d/repos",
        "events_url": "https://api.github.com/users/str4d/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/str4d/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-12T23:33:10Z",
      "updated_at": "2021-04-12T23:33:10Z",
      "source": {
        "issue": {
          "id": 849624676,
          "node_id": "MDU6SXNzdWU4NDk2MjQ2NzY=",
          "url": "https://api.github.com/repos/zcash/zcash/issues/5048",
          "repository_url": "https://api.github.com/repos/zcash/zcash",
          "labels_url": "https://api.github.com/repos/zcash/zcash/issues/5048/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/zcash/zcash/issues/5048/comments",
          "events_url": "https://api.github.com/repos/zcash/zcash/issues/5048/events",
          "html_url": "https://github.com/zcash/zcash/issues/5048",
          "number": 5048,
          "state": "closed",
          "state_reason": "completed",
          "title": "Mutex lock failure results in crash on exit on native macOS or in debug mode",
          "body": "Latest master.\r\n\r\nReproducibility: always\r\n\r\nIntroduced in the latest commits.\r\n\r\n```\r\nProcess 53528 launched: '/Users/rex/zcash/src/zcashd' (x86_64)\r\n\r\n% zcash-cli stop\r\n\r\nlibc++abi: terminating with uncaught exception of type boost::wrapexcept<boost::lock_error>: boost: mutex lock failed in pthread_mutex_lock: Invalid argument\r\nProcess 53528 stopped\r\n* thread #1, name = 'zcash-shutoff', queue = 'com.apple.main-thread', stop reason = breakpoint 10.4\r\n    frame #0: 0x00007fff20671399 libsystem_c.dylib`abort\r\nlibsystem_c.dylib`abort:\r\n->  0x7fff20671399 <+0>: pushq  %rbp\r\n    0x7fff2067139a <+1>: movq   %rsp, %rbp\r\n    0x7fff2067139d <+4>: pushq  %r14\r\n    0x7fff2067139f <+6>: pushq  %rbx\r\nTarget 0: (zcashd) stopped.\r\n(lldb) bt\r\n* thread #1, name = 'zcash-shutoff', queue = 'com.apple.main-thread', stop reason = breakpoint 10.4\r\n  * frame #0: 0x00007fff20671399 libsystem_c.dylib`abort\r\n    frame #1: 0x00007fff206dfef2 libc++abi.dylib`abort_message + 241\r\n    frame #2: 0x00007fff206d15e5 libc++abi.dylib`demangling_terminate_handler() + 242\r\n    frame #3: 0x00007fff205ca595 libobjc.A.dylib`_objc_terminate() + 104\r\n    frame #4: 0x00007fff206df307 libc++abi.dylib`std::__terminate(void (*)()) + 8\r\n    frame #5: 0x00007fff206df2a9 libc++abi.dylib`std::terminate() + 41\r\n    frame #6: 0x00000001000030af zcashd`__clang_call_terminate + 15\r\n    frame #7: 0x0000000100410b47 zcashd`CNetCleanup::~CNetCleanup(this=0x0000000101629470) at net.cpp:2014:13\r\n    frame #8: 0x00000001003c82f3 zcashd`CNetCleanup::~CNetCleanup(this=0x0000000101629470) at net.cpp:2011:5\r\n    frame #9: 0x00007fff2064bd35 libsystem_c.dylib`__cxa_finalize_ranges + 316\r\n    frame #10: 0x00007fff2064c020 libsystem_c.dylib`exit + 53\r\n    frame #11: 0x00007fff20737f44 libdyld.dylib`start + 8\r\n```",
          "user": {
            "login": "rex4539",
            "id": 227442,
            "node_id": "MDQ6VXNlcjIyNzQ0Mg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/227442?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rex4539",
            "html_url": "https://github.com/rex4539",
            "followers_url": "https://api.github.com/users/rex4539/followers",
            "following_url": "https://api.github.com/users/rex4539/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/rex4539/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/rex4539/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/rex4539/subscriptions",
            "organizations_url": "https://api.github.com/users/rex4539/orgs",
            "repos_url": "https://api.github.com/users/rex4539/repos",
            "events_url": "https://api.github.com/users/rex4539/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/rex4539/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 150272745,
              "node_id": "MDU6TGFiZWwxNTAyNzI3NDU=",
              "url": "https://api.github.com/repos/zcash/zcash/labels/C-bug",
              "name": "C-bug",
              "description": "Category: This is a bug",
              "color": "fc4949",
              "default": false
            },
            {
              "id": 415123979,
              "node_id": "MDU6TGFiZWw0MTUxMjM5Nzk=",
              "url": "https://api.github.com/repos/zcash/zcash/labels/A-networking",
              "name": "A-networking",
              "description": "Area: Networking code",
              "color": "f7e101",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/zcash/zcash/milestones/160",
            "html_url": "https://github.com/zcash/zcash/milestone/160",
            "labels_url": "https://api.github.com/repos/zcash/zcash/milestones/160/labels",
            "id": 6654000,
            "node_id": "MDk6TWlsZXN0b25lNjY1NDAwMA==",
            "number": 160,
            "state": "closed",
            "title": "Core Sprint 2021-14",
            "description": "",
            "creator": {
              "login": "r3ld3v",
              "id": 57410303,
              "node_id": "MDQ6VXNlcjU3NDEwMzAz",
              "avatar_url": "https://avatars.githubusercontent.com/u/57410303?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/r3ld3v",
              "html_url": "https://github.com/r3ld3v",
              "followers_url": "https://api.github.com/users/r3ld3v/followers",
              "following_url": "https://api.github.com/users/r3ld3v/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/r3ld3v/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/r3ld3v/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/r3ld3v/subscriptions",
              "organizations_url": "https://api.github.com/users/r3ld3v/orgs",
              "repos_url": "https://api.github.com/users/r3ld3v/repos",
              "events_url": "https://api.github.com/users/r3ld3v/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/r3ld3v/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 2,
            "closed_issues": 9,
            "created_at": "2021-04-12T22:07:39Z",
            "updated_at": "2021-04-26T18:21:29Z",
            "closed_at": "2021-04-26T18:21:29Z",
            "due_on": "2021-04-21T07:00:00Z"
          },
          "locked": false,
          "comments": 21,
          "closed_at": "2021-04-20T08:25:22Z",
          "created_at": "2021-04-03T10:01:50Z",
          "updated_at": "2021-04-20T19:15:19Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 5271579735,
      "node_id": "LOE_lADOABII584LzMWmzwAAAAE6NexX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271579735",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T11:08:36Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94154588",
      "pull_request_review_id": 14685561,
      "id": 94154588,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0MTU0NTg4",
      "diff_hunk": "@@ -2438,48 +2438,53 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman)\n     //  (4) checksum\n     //  (x) data\n     //\n-    bool fOk = true;\n+    bool fMoreWork = false;\n \n     if (!pfrom->vRecvGetData.empty())\n-        ProcessGetData(pfrom, chainparams.GetConsensus(), connman);\n+        ProcessGetData(pfrom, chainparams.GetConsensus(), connman, interruptMsgProc);\n \n     // this maintains the order of responses\n-    if (!pfrom->vRecvGetData.empty()) return fOk;\n+    if (!pfrom->vRecvGetData.empty()) return true;\n+\n+    if (pfrom->fDisconnect)\n+        return false;\n \n-    std::deque<CNetMessage>::iterator it = pfrom->vRecvMsg.begin();\n-    while (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n         // Don't bother if send buffer is too full to respond anyway",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 121,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "65e916c499658e656a6e23455f22666fb0068edc",
      "in_reply_to_id": null,
      "user": {
        "login": "rebroad",
        "id": 1530283,
        "node_id": "MDQ6VXNlcjE1MzAyODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1530283?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rebroad",
        "html_url": "https://github.com/rebroad",
        "followers_url": "https://api.github.com/users/rebroad/followers",
        "following_url": "https://api.github.com/users/rebroad/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rebroad/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rebroad/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
        "organizations_url": "https://api.github.com/users/rebroad/orgs",
        "repos_url": "https://api.github.com/users/rebroad/repos",
        "events_url": "https://api.github.com/users/rebroad/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rebroad/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I'm not sure if github is messing with the formatting, but this line looks unnecessarily indented.",
      "created_at": "2016-12-29T16:37:40Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94154588",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94154588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94155625",
      "pull_request_review_id": 14686611,
      "id": 94155625,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0MTU1NjI1",
      "diff_hunk": "@@ -2438,48 +2438,53 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman)\n     //  (4) checksum\n     //  (x) data\n     //\n-    bool fOk = true;\n+    bool fMoreWork = false;\n \n     if (!pfrom->vRecvGetData.empty())\n-        ProcessGetData(pfrom, chainparams.GetConsensus(), connman);\n+        ProcessGetData(pfrom, chainparams.GetConsensus(), connman, interruptMsgProc);\n \n     // this maintains the order of responses\n-    if (!pfrom->vRecvGetData.empty()) return fOk;\n+    if (!pfrom->vRecvGetData.empty()) return true;\n+\n+    if (pfrom->fDisconnect)\n+        return false;\n \n-    std::deque<CNetMessage>::iterator it = pfrom->vRecvMsg.begin();\n-    while (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n         // Don't bother if send buffer is too full to respond anyway",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 121,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "65e916c499658e656a6e23455f22666fb0068edc",
      "in_reply_to_id": 94154588,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, the indentation was just kept to avoid creating a huge whitespace diff. This can be cleaned up in a move-only commit as a next step.",
      "created_at": "2016-12-29T16:47:43Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94155625",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94155625"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94270487",
      "pull_request_review_id": 14801377,
      "id": 94270487,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0MjcwNDg3",
      "diff_hunk": "@@ -1243,9 +1243,10 @@ void CConnman::ThreadSocketHandler()\n                             bool notify = false;\n                             if (!pnode->ReceiveMsgBytes(pchBuf, nBytes, notify))\n                                 pnode->CloseSocketDisconnect();\n+                            RecordBytesRecv(nBytes);\n                             if(notify)\n                                 condMsgProc.notify_one();\n-                            RecordBytesRecv(nBytes);\n+                            }",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "3ab40f619dd1b9f3ff4140510e807a9e1fb577c8",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Whoops, rebase gone bad here. It ends up right in the end. Will fix.",
      "created_at": "2016-12-31T07:39:29Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94270487",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94270487"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94270593",
      "pull_request_review_id": 14801483,
      "id": 94270593,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0MjcwNTkz",
      "diff_hunk": "@@ -2439,44 +2439,44 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman, std::atomic<bool>& interru\n     //  (4) checksum\n     //  (x) data\n     //\n-    bool fOk = true;\n+    bool fMoreWork = false;\n \n     if (!pfrom->vRecvGetData.empty())\n         ProcessGetData(pfrom, chainparams.GetConsensus(), connman, interruptMsgProc);\n \n     // this maintains the order of responses\n-    if (!pfrom->vRecvGetData.empty()) return fOk;\n+    if (!pfrom->vRecvGetData.empty()) return true;\n \n     auto it = pfrom->vRecvMsg.begin();\n-    while (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n+    if (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "99599884147ea4db3f960b0e706b039ba1553c80",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Need to clarify in the commit message: It was almost always the case that only one message was processed in this while loop. See the break at line 2538.\r\n\r\nThis commit changes the behavior so that it's _always_ one message processed per-loop. The only messages that show different behavior are the ones that used to \"continue\" the loop. I think it's perfectly reasonable to skip to the next node for processing in that case.",
      "created_at": "2016-12-31T07:57:52Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94270593",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94270593"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94386537",
      "pull_request_review_id": 14911886,
      "id": 94386537,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0Mzg2NTM3",
      "diff_hunk": "@@ -682,18 +674,27 @@ bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes, bool& complete\n         pch += handled;\n         nBytes -= handled;\n \n-        if (msg.complete()) {\n+        if (msg.complete())\n+            complete = true;\n+    }\n+\n+    int64_t nTime = GetTimeMicros();\n+    LOCK(cs_vRecvMsg);\n+    nRecvBytes += nBytes;\n+    nLastRecv = nTime * 1000;",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "b1b6772240f5135745e9c0b09be2155944c12f0a",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think you meant /, not * here?",
      "created_at": "2017-01-03T10:48:47Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94386537",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94386537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94386795",
      "pull_request_review_id": 14912139,
      "id": 94386795,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0Mzg2Nzk1",
      "diff_hunk": "@@ -682,18 +674,27 @@ bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes, bool& complete\n         pch += handled;\n         nBytes -= handled;\n \n-        if (msg.complete()) {\n+        if (msg.complete())\n+            complete = true;\n+    }\n+\n+    int64_t nTime = GetTimeMicros();\n+    LOCK(cs_vRecvMsg);\n+    nRecvBytes += nBytes;",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 49,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "b1b6772240f5135745e9c0b09be2155944c12f0a",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It might be nice in the RPC for mapRecvBytesPerMsgCmd to add up to nRecvBytes (ie to increment this in the loop per-msg instead of after receiving (which would also mean no api change)).",
      "created_at": "2017-01-03T10:51:06Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94386795",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94386795"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94419909",
      "pull_request_review_id": 14946635,
      "id": 94419909,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0NDE5OTA5",
      "diff_hunk": "@@ -682,18 +674,27 @@ bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes, bool& complete\n         pch += handled;\n         nBytes -= handled;\n \n-        if (msg.complete()) {\n+        if (msg.complete())\n+            complete = true;\n+    }\n+\n+    int64_t nTime = GetTimeMicros();\n+    LOCK(cs_vRecvMsg);\n+    nRecvBytes += nBytes;\n+    nLastRecv = nTime * 1000;",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "b1b6772240f5135745e9c0b09be2155944c12f0a",
      "in_reply_to_id": 94386537,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Heh, sure did",
      "created_at": "2017-01-03T15:11:55Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94419909",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94419909"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94420177",
      "pull_request_review_id": 14946908,
      "id": 94420177,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0NDIwMTc3",
      "diff_hunk": "@@ -682,18 +674,27 @@ bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes, bool& complete\n         pch += handled;\n         nBytes -= handled;\n \n-        if (msg.complete()) {\n+        if (msg.complete())\n+            complete = true;\n+    }\n+\n+    int64_t nTime = GetTimeMicros();\n+    LOCK(cs_vRecvMsg);\n+    nRecvBytes += nBytes;",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 49,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "b1b6772240f5135745e9c0b09be2155944c12f0a",
      "in_reply_to_id": 94386795,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sure, that just means more locking. Though this is completely uncontested now, so that's not really a problem.",
      "created_at": "2017-01-03T15:13:30Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94420177",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94420177"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94670409",
      "pull_request_review_id": 15203555,
      "id": 94670409,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0NjcwNDA5",
      "diff_hunk": "@@ -1051,8 +1051,7 @@ void CConnman::ThreadSocketHandler()\n             std::vector<CNode*> vNodesCopy = vNodes;\n             BOOST_FOREACH(CNode* pnode, vNodesCopy)\n             {\n-                if (pnode->fDisconnect ||\n-                    (pnode->GetRefCount() <= 0 && pnode->vRecvMsg.empty() && pnode->nSendSize == 0))",
      "path": "src/net.cpp",
      "position": 64,
      "original_position": 5,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "f6315e07f9383f3f43e37ada0d6a835810d610b9",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is it just me, or were these always impossible to hit? Both ConnectNode and AcceptConnection do a AddRef() which is only countered by the Release a few lines further down here.",
      "created_at": "2017-01-04T21:38:55Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94670409",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94670409"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1055,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94670463",
      "pull_request_review_id": 15203613,
      "id": 94670463,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0NjcwNDYz",
      "diff_hunk": "@@ -1051,8 +1051,7 @@ void CConnman::ThreadSocketHandler()\n             std::vector<CNode*> vNodesCopy = vNodes;\n             BOOST_FOREACH(CNode* pnode, vNodesCopy)\n             {\n-                if (pnode->fDisconnect ||\n-                    (pnode->GetRefCount() <= 0 && pnode->vRecvMsg.empty() && pnode->nSendSize == 0))",
      "path": "src/net.cpp",
      "position": 64,
      "original_position": 5,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "f6315e07f9383f3f43e37ada0d6a835810d610b9",
      "in_reply_to_id": 94670409,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "(obviously not an issue, just checking my logic).",
      "created_at": "2017-01-04T21:39:17Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94670463",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94670463"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1055,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94674801",
      "pull_request_review_id": 15208077,
      "id": 94674801,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0Njc0ODAx",
      "diff_hunk": "@@ -649,16 +644,19 @@ void CNode::copyStats(CNodeStats &stats)\n }\n #undef X\n \n-// requires LOCK(cs_vRecvMsg)\n bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes, bool& complete)\n {\n+    LOCK(cs_vRecvMsg);\n     complete = false;\n+    int64_t nTime = GetTimeMicros();\n+    nLastRecv = nTime / 1000;",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "1c779a8cfefb45f55f0686de3fccba5285f5cd7b",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think you actually meant / 1000 / 1000 :p",
      "created_at": "2017-01-04T22:03:41Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94674801",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94674801"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94840361",
      "pull_request_review_id": 15380505,
      "id": 94840361,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODQwMzYx",
      "diff_hunk": "@@ -649,16 +644,19 @@ void CNode::copyStats(CNodeStats &stats)\n }\n #undef X\n \n-// requires LOCK(cs_vRecvMsg)\n bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes, bool& complete)\n {\n+    LOCK(cs_vRecvMsg);\n     complete = false;\n+    int64_t nTime = GetTimeMicros();\n+    nLastRecv = nTime / 1000;",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 22,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "1c779a8cfefb45f55f0686de3fccba5285f5cd7b",
      "in_reply_to_id": 94674801,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I completely missed that this was a full-second value. Thanks for catching this (twice!). Will fix.",
      "created_at": "2017-01-05T20:00:27Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94840361",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94840361"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94848354",
      "pull_request_review_id": 15389104,
      "id": 94848354,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODQ4MzU0",
      "diff_hunk": "@@ -1882,10 +1878,9 @@ void CConnman::ThreadMessageHandler()\n                 pnode->Release();\n         }\n \n-        if (fSleep) {\n-            std::unique_lock<std::mutex> lock(mutexMsgProc);\n-            condMsgProc.wait_until(lock, std::chrono::steady_clock::now() + std::chrono::milliseconds(100));\n-        }\n+        std::unique_lock<std::mutex> lock(mutexMsgProc);\n+        condMsgProc.wait_until(lock, std::chrono::steady_clock::now() + std::chrono::milliseconds(100), [this, &fMoreWork] { return fMoreWork || fMsgProcWake; });",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "4157c99cd81c57dbc934beadfdaf2a48a6110bd0",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems that during this wait, fMoreWork will never change (and it isn't covered by the lock either), so this line could instead be written as\r\n```c++\r\nif (!fMoreWork) {\r\n    condMsgProc.wait_until(lock, std::chrono::steady_clock::now() + std::chrono::milliseconds(100), [this] { return fMsgProcWake; });\r\n}\r\n```\r\n",
      "created_at": "2017-01-05T20:50:11Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94848354",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94848354"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94849266",
      "pull_request_review_id": 15389104,
      "id": 94849266,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODQ5MjY2",
      "diff_hunk": "@@ -2439,44 +2439,44 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman, std::atomic<bool>& interru\n     //  (4) checksum\n     //  (x) data\n     //\n-    bool fOk = true;\n+    bool fMoreWork = false;\n \n     if (!pfrom->vRecvGetData.empty())\n         ProcessGetData(pfrom, chainparams.GetConsensus(), connman, interruptMsgProc);\n \n     // this maintains the order of responses\n-    if (!pfrom->vRecvGetData.empty()) return fOk;\n+    if (!pfrom->vRecvGetData.empty()) return true;\n \n     auto it = pfrom->vRecvMsg.begin();\n-    while (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n+    if (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "99599884147ea4db3f960b0e706b039ba1553c80",
      "in_reply_to_id": 94270593,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can you clarify what the rationale is for switching from a `ProcessMessages` that processes multiple messages to just a single one? I'm not opposed to the change, but I'd like to understand what the reason for the change is.",
      "created_at": "2017-01-05T20:55:03Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94849266",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94849266"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94849846",
      "pull_request_review_id": 15389104,
      "id": 94849846,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODQ5ODQ2",
      "diff_hunk": "@@ -1239,8 +1239,18 @@ void CConnman::ThreadSocketHandler()\n                             if (!pnode->ReceiveMsgBytes(pchBuf, nBytes, notify))\n                                 pnode->CloseSocketDisconnect();\n                             RecordBytesRecv(nBytes);\n-                            if (notify)\n+                            if (notify) {\n+                                auto it(pnode->vRecvMsg.begin());\n+                                for (; it != pnode->vRecvMsg.end(); ++it) {",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "b5ea4f2199b66fdf2da844b884742b1d97448aab",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I find it generally more readable to write something like this as\r\n```c++\r\nwhile (it != pnode->vRecvMsg.end() && it->complete()) ++it;\r\n```\r\n\r\nAlso, isn't iterating backwards more efficient?",
      "created_at": "2017-01-05T20:58:08Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94849846",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94849846"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1231,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94852093",
      "pull_request_review_id": 15392904,
      "id": 94852093,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODUyMDkz",
      "diff_hunk": "@@ -2439,44 +2439,44 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman, std::atomic<bool>& interru\n     //  (4) checksum\n     //  (x) data\n     //\n-    bool fOk = true;\n+    bool fMoreWork = false;\n \n     if (!pfrom->vRecvGetData.empty())\n         ProcessGetData(pfrom, chainparams.GetConsensus(), connman, interruptMsgProc);\n \n     // this maintains the order of responses\n-    if (!pfrom->vRecvGetData.empty()) return fOk;\n+    if (!pfrom->vRecvGetData.empty()) return true;\n \n     auto it = pfrom->vRecvMsg.begin();\n-    while (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n+    if (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "99599884147ea4db3f960b0e706b039ba1553c80",
      "in_reply_to_id": 94270593,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Point is this is not a change. See https://github.com/bitcoin/bitcoin/pull/9441#issuecomment-270185545",
      "created_at": "2017-01-05T21:10:46Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94852093",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94852093"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94853525",
      "pull_request_review_id": 15394370,
      "id": 94853525,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODUzNTI1",
      "diff_hunk": "@@ -2453,44 +2453,44 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman, std::atomic<bool>& interru\n     //  (4) checksum\n     //  (x) data\n     //\n-    bool fOk = true;\n+    bool fMoreWork = false;\n \n     if (!pfrom->vRecvGetData.empty())\n         ProcessGetData(pfrom, chainparams.GetConsensus(), connman, interruptMsgProc);\n \n     // this maintains the order of responses\n-    if (!pfrom->vRecvGetData.empty()) return fOk;\n+    if (!pfrom->vRecvGetData.empty()) return true;\n \n     auto it = pfrom->vRecvMsg.begin();\n-    while (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n+    if (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n         // Don't bother if send buffer is too full to respond anyway\n         if (pfrom->nSendSize >= nMaxSendBufferSize)\n-            break;\n-\n-        // get next message\n-        CNetMessage& msg = *it;\n+            return false;\n \n         // end, if an incomplete message is found\n-        if (!msg.complete())\n-            break;\n+        if (!it->complete())\n+            return false;\n+\n+        // get next message\n+        CNetMessage msg = std::move(*it);\n \n         // at this point, any failure means we can delete the current message\n-        it++;\n+        pfrom->vRecvMsg.erase(pfrom->vRecvMsg.begin());\n \n         msg.SetVersion(pfrom->GetRecvVersion());\n         // Scan for message start\n         if (memcmp(msg.hdr.pchMessageStart, chainparams.MessageStart(), CMessageHeader::MESSAGE_START_SIZE) != 0) {\n             LogPrintf(\"PROCESSMESSAGE: INVALID MESSAGESTART %s peer=%d\\n\", SanitizeString(msg.hdr.GetCommand()), pfrom->id);\n-            fOk = false;\n-            break;\n+            pfrom->fDisconnect = true;\n+            return false;\n         }\n \n         // Read header\n         CMessageHeader& hdr = msg.hdr;\n         if (!hdr.IsValid(chainparams.MessageStart()))\n         {\n             LogPrintf(\"PROCESSMESSAGE: ERRORS IN HEADER %s peer=%d\\n\", SanitizeString(hdr.GetCommand()), pfrom->id);\n-            continue;\n+            return fMoreWork;",
      "path": "src/net_processing.cpp",
      "position": 121,
      "original_position": 54,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "4157c99cd81c57dbc934beadfdaf2a48a6110bd0",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is always false here.",
      "created_at": "2017-01-05T21:19:07Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94853525",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94853525"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2494,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94853574",
      "pull_request_review_id": 15394421,
      "id": 94853574,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODUzNTc0",
      "diff_hunk": "@@ -1239,8 +1239,18 @@ void CConnman::ThreadSocketHandler()\n                             if (!pnode->ReceiveMsgBytes(pchBuf, nBytes, notify))\n                                 pnode->CloseSocketDisconnect();\n                             RecordBytesRecv(nBytes);\n-                            if (notify)\n+                            if (notify) {\n+                                auto it(pnode->vRecvMsg.begin());\n+                                for (; it != pnode->vRecvMsg.end(); ++it) {",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "b5ea4f2199b66fdf2da844b884742b1d97448aab",
      "in_reply_to_id": 94849846,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sure, will change it to a while.\r\n\r\nIterating backwards would be preferable, but we end up hitting each msg anyway later (to add up message sizes) in a later commit, so i didn't bother (see https://github.com/bitcoin/bitcoin/pull/9441/commits/a109f7bd1801392bf99994a7165d495200156c4a#diff-9a82240fe7dfe86564178691cc57f2f1R1246). The sizes are added ahead of time in order to avoid iterating the list under cs_vProcessMsg.",
      "created_at": "2017-01-05T21:19:22Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94853574",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94853574"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1231,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94853866",
      "pull_request_review_id": 15394723,
      "id": 94853866,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODUzODY2",
      "diff_hunk": "@@ -1882,10 +1878,9 @@ void CConnman::ThreadMessageHandler()\n                 pnode->Release();\n         }\n \n-        if (fSleep) {\n-            std::unique_lock<std::mutex> lock(mutexMsgProc);\n-            condMsgProc.wait_until(lock, std::chrono::steady_clock::now() + std::chrono::milliseconds(100));\n-        }\n+        std::unique_lock<std::mutex> lock(mutexMsgProc);\n+        condMsgProc.wait_until(lock, std::chrono::steady_clock::now() + std::chrono::milliseconds(100), [this, &fMoreWork] { return fMoreWork || fMsgProcWake; });",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "4157c99cd81c57dbc934beadfdaf2a48a6110bd0",
      "in_reply_to_id": 94848354,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yep. Will fix.",
      "created_at": "2017-01-05T21:21:03Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94853866",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94853866"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94854980",
      "pull_request_review_id": 15395874,
      "id": 94854980,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODU0OTgw",
      "diff_hunk": "@@ -2453,44 +2453,44 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman, std::atomic<bool>& interru\n     //  (4) checksum\n     //  (x) data\n     //\n-    bool fOk = true;\n+    bool fMoreWork = false;\n \n     if (!pfrom->vRecvGetData.empty())\n         ProcessGetData(pfrom, chainparams.GetConsensus(), connman, interruptMsgProc);\n \n     // this maintains the order of responses\n-    if (!pfrom->vRecvGetData.empty()) return fOk;\n+    if (!pfrom->vRecvGetData.empty()) return true;\n \n     auto it = pfrom->vRecvMsg.begin();\n-    while (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n+    if (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n         // Don't bother if send buffer is too full to respond anyway\n         if (pfrom->nSendSize >= nMaxSendBufferSize)\n-            break;\n-\n-        // get next message\n-        CNetMessage& msg = *it;\n+            return false;\n \n         // end, if an incomplete message is found\n-        if (!msg.complete())\n-            break;\n+        if (!it->complete())\n+            return false;\n+\n+        // get next message\n+        CNetMessage msg = std::move(*it);\n \n         // at this point, any failure means we can delete the current message\n-        it++;\n+        pfrom->vRecvMsg.erase(pfrom->vRecvMsg.begin());\n \n         msg.SetVersion(pfrom->GetRecvVersion());\n         // Scan for message start\n         if (memcmp(msg.hdr.pchMessageStart, chainparams.MessageStart(), CMessageHeader::MESSAGE_START_SIZE) != 0) {\n             LogPrintf(\"PROCESSMESSAGE: INVALID MESSAGESTART %s peer=%d\\n\", SanitizeString(msg.hdr.GetCommand()), pfrom->id);\n-            fOk = false;\n-            break;\n+            pfrom->fDisconnect = true;\n+            return false;\n         }\n \n         // Read header\n         CMessageHeader& hdr = msg.hdr;\n         if (!hdr.IsValid(chainparams.MessageStart()))\n         {\n             LogPrintf(\"PROCESSMESSAGE: ERRORS IN HEADER %s peer=%d\\n\", SanitizeString(hdr.GetCommand()), pfrom->id);\n-            continue;\n+            return fMoreWork;",
      "path": "src/net_processing.cpp",
      "position": 121,
      "original_position": 54,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "4157c99cd81c57dbc934beadfdaf2a48a6110bd0",
      "in_reply_to_id": 94853525,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is unclear due to rebasing. In the end-result, this will return true if there are more messages.\r\n\r\nIn this commit, there's an interim chunk that's missing. line 2479 should have:\r\n```c++\r\nfMoreWork = !pfrom->vRecvMsg.empty()\r\n```\r\nI'll fix it in the next rebase so that it's more clear.",
      "created_at": "2017-01-05T21:27:11Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94854980",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94854980"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2494,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94857821",
      "pull_request_review_id": 15398798,
      "id": 94857821,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODU3ODIx",
      "diff_hunk": "@@ -650,6 +651,7 @@ class CNode\n     const NodeId id;\n \n     const uint64_t nKeyedNetGroup;\n+    std::atomic_bool fPauseRecv;",
      "path": "src/net.h",
      "position": 73,
      "original_position": 12,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "a109f7bd1801392bf99994a7165d495200156c4a",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is never set to true until a later commit. I'm generally ok with this, but it is a bit strange.",
      "created_at": "2017-01-05T21:43:00Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94857821",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94857821"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 652,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94859040",
      "pull_request_review_id": 15400063,
      "id": 94859040,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODU5MDQw",
      "diff_hunk": "@@ -1239,8 +1239,18 @@ void CConnman::ThreadSocketHandler()\n                             if (!pnode->ReceiveMsgBytes(pchBuf, nBytes, notify))\n                                 pnode->CloseSocketDisconnect();\n                             RecordBytesRecv(nBytes);\n-                            if (notify)\n+                            if (notify) {\n+                                auto it(pnode->vRecvMsg.begin());",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "b5ea4f2199b66fdf2da844b884742b1d97448aab",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You're not holding cs_vRecvMsg here, which hyou need to access vRecvMsg.",
      "created_at": "2017-01-05T21:50:05Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94859040",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94859040"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1230,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94859110",
      "pull_request_review_id": 15400144,
      "id": 94859110,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODU5MTEw",
      "diff_hunk": "@@ -650,6 +651,7 @@ class CNode\n     const NodeId id;\n \n     const uint64_t nKeyedNetGroup;\n+    std::atomic_bool fPauseRecv;",
      "path": "src/net.h",
      "position": 73,
      "original_position": 12,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "a109f7bd1801392bf99994a7165d495200156c4a",
      "in_reply_to_id": 94857821,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Grr, another artifact of breaking up an end-result into smaller commits. I'll add this where it belongs in the next rebase.",
      "created_at": "2017-01-05T21:50:33Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94859110",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94859110"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 652,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94861479",
      "pull_request_review_id": 15402708,
      "id": 94861479,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODYxNDc5",
      "diff_hunk": "@@ -1239,8 +1239,18 @@ void CConnman::ThreadSocketHandler()\n                             if (!pnode->ReceiveMsgBytes(pchBuf, nBytes, notify))\n                                 pnode->CloseSocketDisconnect();\n                             RecordBytesRecv(nBytes);\n-                            if (notify)\n+                            if (notify) {\n+                                auto it(pnode->vRecvMsg.begin());",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "b5ea4f2199b66fdf2da844b884742b1d97448aab",
      "in_reply_to_id": 94859040,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "vRecvMsg no longer needs cs_vRecvMsg starting here. It's only ever used on this thread. In reality, cs_vRecvMsg isn't needed at all, so it would probably be more clear to just remove it. copyStats is the only thing that accesses some of these vars, but it already operates without any locks, so the situation isn't changed from before.",
      "created_at": "2017-01-05T22:03:46Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94861479",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94861479"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1230,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94863381",
      "pull_request_review_id": 15404644,
      "id": 94863381,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0ODYzMzgx",
      "diff_hunk": "@@ -1239,8 +1239,18 @@ void CConnman::ThreadSocketHandler()\n                             if (!pnode->ReceiveMsgBytes(pchBuf, nBytes, notify))\n                                 pnode->CloseSocketDisconnect();\n                             RecordBytesRecv(nBytes);\n-                            if (notify)\n+                            if (notify) {\n+                                auto it(pnode->vRecvMsg.begin());",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "b5ea4f2199b66fdf2da844b884742b1d97448aab",
      "in_reply_to_id": 94859040,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hum, ok, can you just add a comment somewhere to note that cs_vRecvMsg no longer protects vRecvMsg, and instead protects other stuff.",
      "created_at": "2017-01-05T22:14:56Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94863381",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94863381"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1230,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94996847",
      "pull_request_review_id": 15542366,
      "id": 94996847,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk0OTk2ODQ3",
      "diff_hunk": "@@ -1167,10 +1159,7 @@ void CConnman::ThreadSocketHandler()\n                     }\n                 }\n                 {\n-                    TRY_LOCK(pnode->cs_vRecvMsg, lockRecv);\n-                    if (lockRecv && (\n-                        pnode->vRecvMsg.empty() || !pnode->vRecvMsg.front().complete() ||\n-                        pnode->GetTotalRecvSize() <= GetReceiveFloodSize()))\n+                    if (!pnode->fPauseRecv)",
      "path": "src/net.cpp",
      "position": 111,
      "original_position": 74,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "ddac068fa5d6b43925a96149f2d9b81ec736a5e7",
      "in_reply_to_id": null,
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The comment above this code section describing the logic could be updated.",
      "created_at": "2017-01-06T18:44:47Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r94996847",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/94996847"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1158,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95403337",
      "pull_request_review_id": 15956592,
      "id": 95403337,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1NDAzMzM3",
      "diff_hunk": "@@ -648,6 +648,9 @@ void CNode::copyStats(CNodeStats &stats)\n bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes, bool& complete)\n {\n     complete = false;\n+    int64_t nTime = GetTimeMicros();",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "f39dd534702a00ee46e9bdf2633bbc32f21c99f0",
      "in_reply_to_id": null,
      "user": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It would be nice if this was nTimeMicros instead of nTime",
      "created_at": "2017-01-10T16:37:02Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r95403337",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95403337"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95406662",
      "pull_request_review_id": 15960011,
      "id": 95406662,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1NDA2NjYy",
      "diff_hunk": "@@ -1882,10 +1878,10 @@ void CConnman::ThreadMessageHandler()\n                 pnode->Release();\n         }\n \n-        if (fSleep) {\n-            std::unique_lock<std::mutex> lock(mutexMsgProc);\n-            condMsgProc.wait_until(lock, std::chrono::steady_clock::now() + std::chrono::milliseconds(100));\n-        }\n+        std::unique_lock<std::mutex> lock(mutexMsgProc);\n+        if (!fMoreWork)",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "ba4cae284f6acac4bbbfe08c89dcb8c2ace5da83",
      "in_reply_to_id": null,
      "user": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Please add the {} back even though it's now 1 line",
      "created_at": "2017-01-10T16:50:49Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r95406662",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95406662"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95407030",
      "pull_request_review_id": 15960398,
      "id": 95407030,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1NDA3MDMw",
      "diff_hunk": "@@ -2453,44 +2453,51 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman, std::atomic<bool>& interru\n     //  (4) checksum\n     //  (x) data\n     //\n-    bool fOk = true;\n+    bool fMoreWork = false;\n \n     if (!pfrom->vRecvGetData.empty())\n         ProcessGetData(pfrom, chainparams.GetConsensus(), connman, interruptMsgProc);\n \n     // this maintains the order of responses\n-    if (!pfrom->vRecvGetData.empty()) return fOk;\n+    if (!pfrom->vRecvGetData.empty()) return true;",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "ba4cae284f6acac4bbbfe08c89dcb8c2ace5da83",
      "in_reply_to_id": null,
      "user": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Probably should swap these around.",
      "created_at": "2017-01-10T16:52:29Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r95407030",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95407030"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95409501",
      "pull_request_review_id": 15962998,
      "id": 95409501,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1NDA5NTAx",
      "diff_hunk": "@@ -2453,44 +2453,44 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman, std::atomic<bool>& interru\n     //  (4) checksum\n     //  (x) data\n     //\n-    bool fOk = true;\n+    bool fMoreWork = false;\n \n     if (!pfrom->vRecvGetData.empty())\n         ProcessGetData(pfrom, chainparams.GetConsensus(), connman, interruptMsgProc);\n \n     // this maintains the order of responses\n-    if (!pfrom->vRecvGetData.empty()) return fOk;\n+    if (!pfrom->vRecvGetData.empty()) return true;\n \n     auto it = pfrom->vRecvMsg.begin();\n-    while (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n+    if (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n         // Don't bother if send buffer is too full to respond anyway\n         if (pfrom->nSendSize >= nMaxSendBufferSize)\n-            break;\n-\n-        // get next message\n-        CNetMessage& msg = *it;\n+            return false;\n \n         // end, if an incomplete message is found\n-        if (!msg.complete())\n-            break;\n+        if (!it->complete())\n+            return false;\n+\n+        // get next message\n+        CNetMessage msg = std::move(*it);\n \n         // at this point, any failure means we can delete the current message\n-        it++;\n+        pfrom->vRecvMsg.erase(pfrom->vRecvMsg.begin());\n \n         msg.SetVersion(pfrom->GetRecvVersion());\n         // Scan for message start\n         if (memcmp(msg.hdr.pchMessageStart, chainparams.MessageStart(), CMessageHeader::MESSAGE_START_SIZE) != 0) {\n             LogPrintf(\"PROCESSMESSAGE: INVALID MESSAGESTART %s peer=%d\\n\", SanitizeString(msg.hdr.GetCommand()), pfrom->id);\n-            fOk = false;\n-            break;\n+            pfrom->fDisconnect = true;\n+            return false;\n         }\n \n         // Read header\n         CMessageHeader& hdr = msg.hdr;\n         if (!hdr.IsValid(chainparams.MessageStart()))\n         {\n             LogPrintf(\"PROCESSMESSAGE: ERRORS IN HEADER %s peer=%d\\n\", SanitizeString(hdr.GetCommand()), pfrom->id);\n-            continue;\n+            return fMoreWork;",
      "path": "src/net_processing.cpp",
      "position": 121,
      "original_position": 54,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "4157c99cd81c57dbc934beadfdaf2a48a6110bd0",
      "in_reply_to_id": 94853525,
      "user": {
        "login": "pstratem",
        "id": 620611,
        "node_id": "MDQ6VXNlcjYyMDYxMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pstratem",
        "html_url": "https://github.com/pstratem",
        "followers_url": "https://api.github.com/users/pstratem/followers",
        "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
        "organizations_url": "https://api.github.com/users/pstratem/orgs",
        "repos_url": "https://api.github.com/users/pstratem/repos",
        "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pstratem/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This should set fDisconnect and return false unconditionally actually.\r\n\r\n(Yeah that changes the current behavior)",
      "created_at": "2017-01-10T17:03:33Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r95409501",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95409501"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2494,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95439862",
      "pull_request_review_id": 15994665,
      "id": 95439862,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1NDM5ODYy",
      "diff_hunk": "@@ -2453,44 +2453,51 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman, std::atomic<bool>& interru\n     //  (4) checksum\n     //  (x) data\n     //\n-    bool fOk = true;\n+    bool fMoreWork = false;\n \n     if (!pfrom->vRecvGetData.empty())\n         ProcessGetData(pfrom, chainparams.GetConsensus(), connman, interruptMsgProc);\n \n     // this maintains the order of responses\n-    if (!pfrom->vRecvGetData.empty()) return fOk;\n+    if (!pfrom->vRecvGetData.empty()) return true;",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "ba4cae284f6acac4bbbfe08c89dcb8c2ace5da83",
      "in_reply_to_id": 95407030,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "ok",
      "created_at": "2017-01-10T19:34:44Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r95439862",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95439862"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95439882",
      "pull_request_review_id": 15994680,
      "id": 95439882,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1NDM5ODgy",
      "diff_hunk": "@@ -1882,10 +1878,10 @@ void CConnman::ThreadMessageHandler()\n                 pnode->Release();\n         }\n \n-        if (fSleep) {\n-            std::unique_lock<std::mutex> lock(mutexMsgProc);\n-            condMsgProc.wait_until(lock, std::chrono::steady_clock::now() + std::chrono::milliseconds(100));\n-        }\n+        std::unique_lock<std::mutex> lock(mutexMsgProc);\n+        if (!fMoreWork)",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "ba4cae284f6acac4bbbfe08c89dcb8c2ace5da83",
      "in_reply_to_id": 95406662,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "will do",
      "created_at": "2017-01-10T19:34:51Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r95439882",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95439882"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95439915",
      "pull_request_review_id": 15994713,
      "id": 95439915,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1NDM5OTE1",
      "diff_hunk": "@@ -648,6 +648,9 @@ void CNode::copyStats(CNodeStats &stats)\n bool CNode::ReceiveMsgBytes(const char *pch, unsigned int nBytes, bool& complete)\n {\n     complete = false;\n+    int64_t nTime = GetTimeMicros();",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "f39dd534702a00ee46e9bdf2633bbc32f21c99f0",
      "in_reply_to_id": 95403337,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "will do",
      "created_at": "2017-01-10T19:35:00Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r95439915",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95439915"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95440528",
      "pull_request_review_id": 15995345,
      "id": 95440528,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1NDQwNTI4",
      "diff_hunk": "@@ -2453,44 +2453,44 @@ bool ProcessMessages(CNode* pfrom, CConnman& connman, std::atomic<bool>& interru\n     //  (4) checksum\n     //  (x) data\n     //\n-    bool fOk = true;\n+    bool fMoreWork = false;\n \n     if (!pfrom->vRecvGetData.empty())\n         ProcessGetData(pfrom, chainparams.GetConsensus(), connman, interruptMsgProc);\n \n     // this maintains the order of responses\n-    if (!pfrom->vRecvGetData.empty()) return fOk;\n+    if (!pfrom->vRecvGetData.empty()) return true;\n \n     auto it = pfrom->vRecvMsg.begin();\n-    while (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n+    if (!pfrom->fDisconnect && it != pfrom->vRecvMsg.end()) {\n         // Don't bother if send buffer is too full to respond anyway\n         if (pfrom->nSendSize >= nMaxSendBufferSize)\n-            break;\n-\n-        // get next message\n-        CNetMessage& msg = *it;\n+            return false;\n \n         // end, if an incomplete message is found\n-        if (!msg.complete())\n-            break;\n+        if (!it->complete())\n+            return false;\n+\n+        // get next message\n+        CNetMessage msg = std::move(*it);\n \n         // at this point, any failure means we can delete the current message\n-        it++;\n+        pfrom->vRecvMsg.erase(pfrom->vRecvMsg.begin());\n \n         msg.SetVersion(pfrom->GetRecvVersion());\n         // Scan for message start\n         if (memcmp(msg.hdr.pchMessageStart, chainparams.MessageStart(), CMessageHeader::MESSAGE_START_SIZE) != 0) {\n             LogPrintf(\"PROCESSMESSAGE: INVALID MESSAGESTART %s peer=%d\\n\", SanitizeString(msg.hdr.GetCommand()), pfrom->id);\n-            fOk = false;\n-            break;\n+            pfrom->fDisconnect = true;\n+            return false;\n         }\n \n         // Read header\n         CMessageHeader& hdr = msg.hdr;\n         if (!hdr.IsValid(chainparams.MessageStart()))\n         {\n             LogPrintf(\"PROCESSMESSAGE: ERRORS IN HEADER %s peer=%d\\n\", SanitizeString(hdr.GetCommand()), pfrom->id);\n-            continue;\n+            return fMoreWork;",
      "path": "src/net_processing.cpp",
      "position": 121,
      "original_position": 54,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "4157c99cd81c57dbc934beadfdaf2a48a6110bd0",
      "in_reply_to_id": 94853525,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, that would be a change of behavior, and I'm not entirely sure that we want it changed.\r\nPresumably this was done to avoid partitioning the network in the event that the header structure (or magic bytes) ever needs to change.",
      "created_at": "2017-01-10T19:38:14Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r95440528",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95440528"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2494,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95884670",
      "pull_request_review_id": 16455191,
      "id": 95884670,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODg0Njcw",
      "diff_hunk": "@@ -1239,20 +1239,16 @@ void CConnman::ThreadSocketHandler()\n                             RecordBytesRecv(nBytes);\n                             if (notify) {\n                                 size_t nSizeAdded = 0;\n+                                std::list<CNetMessage> completeMessages;\n                                 auto it(pnode->vRecvMsg.begin());\n                                 for (; it != pnode->vRecvMsg.end(); ++it) {\n                                     if (!it->complete())\n                                         break;\n                                     nSizeAdded += it->vRecv.size() + CMessageHeader::HEADER_SIZE;\n                                 }\n-                                {\n-                                    LOCK(pnode->cs_vProcessMsg);\n-                                    pnode->vProcessMsg.splice(pnode->vProcessMsg.end(), pnode->vRecvMsg, pnode->vRecvMsg.begin(), it);\n-                                    pnode->nProcessQueueSize += nSizeAdded;\n-                                    if (pnode->nProcessQueueSize >= nReceiveFloodSize)\n-                                        pnode->fPauseRecv = true;\n-                                }\n-                                WakeMessageHandler();\n+                                completeMessages.splice(completeMessages.end(), pnode->vRecvMsg, pnode->vRecvMsg.begin(), it);\n+                                if (!QueueReceivedMessages(pnode, std::move(completeMessages), nSizeAdded))\n+                                    pnode->fPauseRecv = true;",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "975fc9dd6f55a87f7d0db62898e58169b2816baf",
      "in_reply_to_id": null,
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "By moving the setting of fPauseRecv outside of the cs_vProcessMsg lock you've introduced a race where the message processing thread may have already taken the next message and set fPauseRecv to false before this line (seems pretty unlikely, but its not unheard of). I'd suggest simply dropping this commit.",
      "created_at": "2017-01-12T21:06:41Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r95884670",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95884670"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95888318",
      "pull_request_review_id": 16459143,
      "id": 95888318,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDk1ODg4MzE4",
      "diff_hunk": "@@ -1239,20 +1239,16 @@ void CConnman::ThreadSocketHandler()\n                             RecordBytesRecv(nBytes);\n                             if (notify) {\n                                 size_t nSizeAdded = 0;\n+                                std::list<CNetMessage> completeMessages;\n                                 auto it(pnode->vRecvMsg.begin());\n                                 for (; it != pnode->vRecvMsg.end(); ++it) {\n                                     if (!it->complete())\n                                         break;\n                                     nSizeAdded += it->vRecv.size() + CMessageHeader::HEADER_SIZE;\n                                 }\n-                                {\n-                                    LOCK(pnode->cs_vProcessMsg);\n-                                    pnode->vProcessMsg.splice(pnode->vProcessMsg.end(), pnode->vRecvMsg, pnode->vRecvMsg.begin(), it);\n-                                    pnode->nProcessQueueSize += nSizeAdded;\n-                                    if (pnode->nProcessQueueSize >= nReceiveFloodSize)\n-                                        pnode->fPauseRecv = true;\n-                                }\n-                                WakeMessageHandler();\n+                                completeMessages.splice(completeMessages.end(), pnode->vRecvMsg, pnode->vRecvMsg.begin(), it);\n+                                if (!QueueReceivedMessages(pnode, std::move(completeMessages), nSizeAdded))\n+                                    pnode->fPauseRecv = true;",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "e60360e139852c655930e99d4bb4db554cd8385e",
      "original_commit_id": "975fc9dd6f55a87f7d0db62898e58169b2816baf",
      "in_reply_to_id": 95884670,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good catch!",
      "created_at": "2017-01-12T21:27:19Z",
      "updated_at": "2017-01-13T04:40:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/9441#discussion_r95888318",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/95888318"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9441"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": null,
      "side": "RIGHT"
    }
  ]
}