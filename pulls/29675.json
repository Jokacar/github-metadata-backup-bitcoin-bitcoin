{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29675",
    "id": 1778607753,
    "node_id": "PR_kwDOABII585qA2aJ",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29675",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29675.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29675.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29675",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29675/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29675/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29675/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/c6d0433fb5e89f598c559e3db5db955b3592812d",
    "number": 29675,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "wallet: Be able to receive and spend inputs involving MuSig2 aggregate keys",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This PR implements the [proposed](https://github.com/bitcoin/bips/pull/1540) MuSig2 descriptors, derivation, and PSBT fields so that the wallet can receive and spend from taproot addresses that have keys involving a MuSig2 aggregate key.\r\n\r\nThis pulls in (an older version of) the musig module in libsecp (https://github.com/bitcoin-core/secp256k1/pull/1479) in order to do all of the necessary MuSig2 computation.\r\n\r\nAn open question is whether the approach for handling the secnonces is ideal and safe. Since nonces must not be reused, this PR holds them exclusively in memory, so a restart of the software will require a restart of the MuSig2 signing process. Additionally, the current MuSig API in libsecp basically involves us holding onto and passing around an opaque libsecp object. There may be some additional work there to make the code more ergonomic.",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2024-03-18T22:32:37Z",
    "updated_at": "2024-03-19T17:09:59Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "22dad140f7198e2342c723abe4510b855e6e2926",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "achow101:musig2",
      "ref": "musig2",
      "sha": "c6d0433fb5e89f598c559e3db5db955b3592812d",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 45006379,
        "node_id": "MDEwOlJlcG9zaXRvcnk0NTAwNjM3OQ==",
        "name": "bitcoin",
        "full_name": "achow101/bitcoin",
        "owner": {
          "login": "achow101",
          "id": 3782274,
          "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/achow101",
          "html_url": "https://github.com/achow101",
          "followers_url": "https://api.github.com/users/achow101/followers",
          "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
          "organizations_url": "https://api.github.com/users/achow101/orgs",
          "repos_url": "https://api.github.com/users/achow101/repos",
          "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/achow101/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/achow101/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/achow101/bitcoin",
        "archive_url": "https://api.github.com/repos/achow101/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/achow101/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/achow101/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/achow101/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/achow101/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/achow101/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/achow101/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/achow101/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/achow101/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/achow101/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/achow101/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/achow101/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/achow101/bitcoin/events",
        "forks_url": "https://api.github.com/repos/achow101/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/achow101/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/achow101/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/achow101/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/achow101/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/achow101/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/achow101/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/achow101/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/achow101/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/achow101/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/achow101/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/achow101/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/achow101/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/achow101/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/achow101/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/achow101/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:achow101/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/achow101/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/achow101/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/achow101/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/achow101/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/achow101/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/achow101/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/achow101/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/achow101/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/achow101/bitcoin/hooks",
        "svn_url": "https://github.com/achow101/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 10,
        "stargazers_count": 35,
        "watchers_count": 35,
        "size": 269674,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-19T16:41:13Z",
        "created_at": "2015-10-27T00:20:28Z",
        "updated_at": "2024-01-13T23:12:15Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "8e95a9cd7ad6c448ed91f1c30e582c31e96c9df3",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34866,
        "stargazers_count": 74893,
        "watchers_count": 74893,
        "size": 253263,
        "default_branch": "master",
        "open_issues_count": 699,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-19T17:46:23Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-03-19T17:16:33Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29675"
      }
    },
    "author_association": "MEMBER",
    "draft": true,
    "additions": 6254,
    "deletions": 274,
    "changed_files": 66,
    "commits": 29,
    "review_comments": 3,
    "comments": 5
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDlkOTYyZTVlMGQxZmM0MTI3YmM2NTUzMjBlZDM1NWM3Y2Q5ZmY3MzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9d962e5e0d1fc4127bc655320ed355c7cd9ff730",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9d962e5e0d1fc4127bc655320ed355c7cd9ff730",
      "tree": {
        "sha": "839ecab3535972ede3d0584cd969188ec3331913",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/839ecab3535972ede3d0584cd969188ec3331913"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/29fde0223abc706925188014209eba75390a9df8",
          "sha": "29fde0223abc706925188014209eba75390a9df8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/29fde0223abc706925188014209eba75390a9df8"
        }
      ],
      "message": "Squashed 'src/secp256k1/' changes from efe85c70a2..a3be00ce24\n\na3be00ce24 Merge 70bb68536d27d44ed0b0ae76be6790ae38d77ef6 into a9db9f2d75ac9df0312dec0c329266969bcc2946\n70bb68536d build: allow enabling the musig module in cmake\nfce0857aa0 Add module \"musig\" that implements MuSig2 multi-signatures (BIP 327)\n13b226ea60 group: add ge_to_bytes and ge_from_bytes\ne1ba262f16 extrakeys: add secp256k1_pubkey_sort\na9db9f2d75 Merge bitcoin-core/secp256k1#1480: Get rid of untested sizeof(secp256k1_ge_storage) == 64 code path\n74b7c3b53e Merge bitcoin-core/secp256k1#1476: include: make docs more consistent\nba5d72d626 assumptions: Use new STATIC_ASSERT macro\ne53c2d9ffc Require that sizeof(secp256k1_ge_storage) == 64\nd0ba2abbff util: Add STATIC_ASSERT macro\nda7bc1b803 include: in doc, remove article in front of \"pointer\"\naa3dd5280b include: make doc about ctx more consistent\ne3f690015a include: remove obvious \"cannot be NULL\" doc\nd373bf6d08 Merge bitcoin-core/secp256k1#1474: tests: restore scalar_mul test\n79e094517c Merge bitcoin-core/secp256k1#1473: Fix typos\n3dbfb48946 tests: restore scalar_mul test\nd77170a88d Fix typos\n\ngit-subtree-dir: src/secp256k1\ngit-subtree-split: a3be00ce24a9073312a9f4c39433481ba137423e",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-15T20:24:40Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-15T20:24:40Z"
      },
      "sha": "9d962e5e0d1fc4127bc655320ed355c7cd9ff730"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDViZTgyZmZkY2Q2MDYzYTVmZDlmYjNkOTM4N2U1YmZlZDBjNzVlOTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5be82ffdcd6063a5fd9fb3d9387e5bfed0c75e99",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5be82ffdcd6063a5fd9fb3d9387e5bfed0c75e99",
      "tree": {
        "sha": "42b5f971f19ea38a9f72d323531314c098c552a9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/42b5f971f19ea38a9f72d323531314c098c552a9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/05c4c5a4347018d6d0e81b8f12cf5bdcaa8b4a89",
          "sha": "05c4c5a4347018d6d0e81b8f12cf5bdcaa8b4a89",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/05c4c5a4347018d6d0e81b8f12cf5bdcaa8b4a89"
        },
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9d962e5e0d1fc4127bc655320ed355c7cd9ff730",
          "sha": "9d962e5e0d1fc4127bc655320ed355c7cd9ff730",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9d962e5e0d1fc4127bc655320ed355c7cd9ff730"
        }
      ],
      "message": "Merge commit '9d962e5e0d1fc4127bc655320ed355c7cd9ff730' into musig2",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-15T20:24:40Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-15T20:24:40Z"
      },
      "sha": "5be82ffdcd6063a5fd9fb3d9387e5bfed0c75e99"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZkZGI5NWMwNTE3Mjg2NWJmMTUwNzNmNTRiMGUyZjJlZDEzZWJjNTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6ddb95c05172865bf15073f54b0e2f2ed13ebc56",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6ddb95c05172865bf15073f54b0e2f2ed13ebc56",
      "tree": {
        "sha": "ed20e8d5d8b15db8e4dd5c55f02fc53097a5e81f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ed20e8d5d8b15db8e4dd5c55f02fc53097a5e81f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5be82ffdcd6063a5fd9fb3d9387e5bfed0c75e99",
          "sha": "5be82ffdcd6063a5fd9fb3d9387e5bfed0c75e99",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5be82ffdcd6063a5fd9fb3d9387e5bfed0c75e99"
        }
      ],
      "message": "XOnlyPubKey: Add GetCPubKeys\n\nWe need to retrieve the even and odd compressed pubkeys for xonly\npubkeys, so add a function to do that. Also reuse it in GetKeyIDs.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-19T23:06:09Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-29T22:32:02Z"
      },
      "sha": "6ddb95c05172865bf15073f54b0e2f2ed13ebc56"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU0MWY2MDIyNzc4MWI4MDI3ZGI4Y2M5ZDlhM2FlODdhYTFkOTMwYzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e41f60227781b8027db8cc9d9a3ae87aa1d930c5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e41f60227781b8027db8cc9d9a3ae87aa1d930c5",
      "tree": {
        "sha": "688e0fcf6de1b376e7fa0cfff82f63388377f1e7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/688e0fcf6de1b376e7fa0cfff82f63388377f1e7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6ddb95c05172865bf15073f54b0e2f2ed13ebc56",
          "sha": "6ddb95c05172865bf15073f54b0e2f2ed13ebc56",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6ddb95c05172865bf15073f54b0e2f2ed13ebc56"
        }
      ],
      "message": "desc spkm: Return SigningProvider only if we have the privkey\n\nIf we know about a pubkey that's in our descriptor, but we don't have\nthe private key, don't return a SigningProvider for that pubkey.\n\nThis is specifically an issue for Taproot outputs that use the H point\nas the resulting PSBTs may end up containing irrelevant information\nbecause the H point was detected as a pubkey each unrelated descriptor\nknew about.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T22:22:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T20:16:48Z"
      },
      "sha": "e41f60227781b8027db8cc9d9a3ae87aa1d930c5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGEwMTRiYmNjMzUzMDI0ZDkwOTkzYTQ4MjljY2VlNGE3Nzg2ZWY5MzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a014bbcc353024d90993a4829ccee4a7786ef936",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a014bbcc353024d90993a4829ccee4a7786ef936",
      "tree": {
        "sha": "894da5d768c8e75fcf32397ba31edc7ca7d96c42",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/894da5d768c8e75fcf32397ba31edc7ca7d96c42"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e41f60227781b8027db8cc9d9a3ae87aa1d930c5",
          "sha": "e41f60227781b8027db8cc9d9a3ae87aa1d930c5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e41f60227781b8027db8cc9d9a3ae87aa1d930c5"
        }
      ],
      "message": "pubkey: Add functions for MuSig2 function\n\n- GetMuSig2KeyAggCache creates the secp256k1_musig_keyagg_cache from a\n  std::vector<CPubKey>\n- GetCPubKeyFromMuSig2KeyAggCache creates a CPubKey from a cache created\n  with GetMuSig2KeyAggCache\n- MuSig2AggregatePubKeys does the two above functions together.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T22:22:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-22T20:18:28Z"
      },
      "sha": "a014bbcc353024d90993a4829ccee4a7786ef936"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFmMTEwZmMzMzRmODRiYjBjMDBlMGI0YWY5NzUyMDJkYjIyZDdhN2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/af110fc334f84bb0c00e0b4af975202db22d7a7d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/af110fc334f84bb0c00e0b4af975202db22d7a7d",
      "tree": {
        "sha": "e59ec8925ec2d263a079674be700bacf89c4732f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e59ec8925ec2d263a079674be700bacf89c4732f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a014bbcc353024d90993a4829ccee4a7786ef936",
          "sha": "a014bbcc353024d90993a4829ccee4a7786ef936",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a014bbcc353024d90993a4829ccee4a7786ef936"
        }
      ],
      "message": "spanparsing: Allow Const to not skip the found constant",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T22:22:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-15T22:08:47Z"
      },
      "sha": "af110fc334f84bb0c00e0b4af975202db22d7a7d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYxNmQwODI1OGMyNTQxNDY2ZTI4MmJiMjIyOWIzYjYyOTVkM2ZkYjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f16d08258c2541466e282bb2229b3b6295d3fdb4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f16d08258c2541466e282bb2229b3b6295d3fdb4",
      "tree": {
        "sha": "9a7330bc2553e2bdf35100eff9f8610021b8efac",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9a7330bc2553e2bdf35100eff9f8610021b8efac"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/af110fc334f84bb0c00e0b4af975202db22d7a7d",
          "sha": "af110fc334f84bb0c00e0b4af975202db22d7a7d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/af110fc334f84bb0c00e0b4af975202db22d7a7d"
        }
      ],
      "message": "descriptors: Add PubkeyProvider::IsBIP32()",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T22:22:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-15T22:09:22Z"
      },
      "sha": "f16d08258c2541466e282bb2229b3b6295d3fdb4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFmOWNhYTdkMmNjNjVlNmViMjdhZDI5M2FiZWMyNWZiNzQ5ZmNlZDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1f9caa7d2cc65e6eb27ad293abec25fb749fced6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1f9caa7d2cc65e6eb27ad293abec25fb749fced6",
      "tree": {
        "sha": "0ad30fc30a04d4e1b1e7fe7424d404ecb8af678a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0ad30fc30a04d4e1b1e7fe7424d404ecb8af678a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f16d08258c2541466e282bb2229b3b6295d3fdb4",
          "sha": "f16d08258c2541466e282bb2229b3b6295d3fdb4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f16d08258c2541466e282bb2229b3b6295d3fdb4"
        }
      ],
      "message": "wallet, rpc: Only allow keypool import from single key descriptors\n\nInstead of relying on implicit assumptions about whether pubkeys show up\nor now after expanding a descriptor, just explicitly allow only single\nkey descriptors to import keys into a legacy wallet's keypool.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T22:22:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-23T00:00:31Z"
      },
      "sha": "1f9caa7d2cc65e6eb27ad293abec25fb749fced6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ1ZTIyY2E2Mjc3ZmM1NGY2YWI2NjRhNzc0YzcyOWRjNjBhYTQ4Y2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/45e22ca6277fc54f6ab664a774c729dc60aa48cc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/45e22ca6277fc54f6ab664a774c729dc60aa48cc",
      "tree": {
        "sha": "6c9c17c7ff6ca5a4faf01e7b7ace5d4edf5978df",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6c9c17c7ff6ca5a4faf01e7b7ace5d4edf5978df"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1f9caa7d2cc65e6eb27ad293abec25fb749fced6",
          "sha": "1f9caa7d2cc65e6eb27ad293abec25fb749fced6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1f9caa7d2cc65e6eb27ad293abec25fb749fced6"
        }
      ],
      "message": "descriptors: Have GetPubKey fill origins directly\n\nInstead of having ExpandHelper fill in the origins in the\nFlatSigningProvider output, have GetPubKey do it by itself. This reduces\nthe extra variables needed in order to track and set origins in\nExpandHelper.\n\nAlso changes GetPubKey to return a std::optional<CPubKey> rather than\nusing a bool and output parameters.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T22:22:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-22T22:07:50Z"
      },
      "sha": "45e22ca6277fc54f6ab664a774c729dc60aa48cc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJmOGY0Yjg3OTUwMjRmZjcxNDY3MDBiOTk0NWE3ZTI2NTdmZGE4MGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bf8f4b8795024ff7146700b9945a7e2657fda80b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bf8f4b8795024ff7146700b9945a7e2657fda80b",
      "tree": {
        "sha": "7487e2624878f7308f05762433ce8d16672685f4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7487e2624878f7308f05762433ce8d16672685f4"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/45e22ca6277fc54f6ab664a774c729dc60aa48cc",
          "sha": "45e22ca6277fc54f6ab664a774c729dc60aa48cc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/45e22ca6277fc54f6ab664a774c729dc60aa48cc"
        }
      ],
      "message": "descriptors: Move FlatSigningProvider pubkey filling to GetPubKey\n\nInstead of MakeScripts inconsistently filling the output\nFlatSigningProvider with the pubkeys involved, just do it in GetPubKey.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T22:22:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-22T22:23:08Z"
      },
      "sha": "bf8f4b8795024ff7146700b9945a7e2657fda80b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY1YTZkZjQzYzhhMGFlZGY4Zjg1ZTI0ZTk1M2U2YWVhZDhmYmUyN2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/65a6df43c8a0aedf8f85e24e953e6aead8fbe27a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/65a6df43c8a0aedf8f85e24e953e6aead8fbe27a",
      "tree": {
        "sha": "62264d0dce7a7ee70739dd8e6300b1b002fff150",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/62264d0dce7a7ee70739dd8e6300b1b002fff150"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bf8f4b8795024ff7146700b9945a7e2657fda80b",
          "sha": "bf8f4b8795024ff7146700b9945a7e2657fda80b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bf8f4b8795024ff7146700b9945a7e2657fda80b"
        }
      ],
      "message": "descriptors: Have GetPrivKey fill keys directly\n\nInstead of GetPrivKey returning a key and having the caller fill the\nFlatSigningProvider, have GetPrivKey take the FlatSigningProvider and\nfill it by itself.\n\nGetPrivKey is now changed to void as the caller no longer cares whether\nit succeeds or fails.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T22:22:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-12T22:06:01Z"
      },
      "sha": "65a6df43c8a0aedf8f85e24e953e6aead8fbe27a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGEyYWQwOGYzZDVhYzBmNzI3N2RhZWFhZDNlM2E3Mzc0NDNjNjJhNzE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a2ad08f3d5ac0f7277daeaad3e3a737443c62a71",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a2ad08f3d5ac0f7277daeaad3e3a737443c62a71",
      "tree": {
        "sha": "f4fcbeebfe30ffbfe9f72f380e0b1a137db69f2d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f4fcbeebfe30ffbfe9f72f380e0b1a137db69f2d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/65a6df43c8a0aedf8f85e24e953e6aead8fbe27a",
          "sha": "65a6df43c8a0aedf8f85e24e953e6aead8fbe27a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/65a6df43c8a0aedf8f85e24e953e6aead8fbe27a"
        }
      ],
      "message": "descriptor: Add MuSigPubkeyProvider",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T22:22:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-15T22:10:08Z"
      },
      "sha": "a2ad08f3d5ac0f7277daeaad3e3a737443c62a71"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcyZTQ2YzdjYjZkY2RkYTI4YTk2Yzg1MzhmMTc4ZGU5Y2RkZWEyNGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/72e46c7cb6dcdda28a96c8538f178de9cddea24c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/72e46c7cb6dcdda28a96c8538f178de9cddea24c",
      "tree": {
        "sha": "e0d255ee95a617f59425b4a5e3e1712d57fa9424",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e0d255ee95a617f59425b4a5e3e1712d57fa9424"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a2ad08f3d5ac0f7277daeaad3e3a737443c62a71",
          "sha": "a2ad08f3d5ac0f7277daeaad3e3a737443c62a71",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a2ad08f3d5ac0f7277daeaad3e3a737443c62a71"
        }
      ],
      "message": "descriptor: Parse musig() key expressions",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T22:22:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-15T22:10:25Z"
      },
      "sha": "72e46c7cb6dcdda28a96c8538f178de9cddea24c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMzNWU1Mzg0ZDVmOWYyNjBkYjBmNTk1MTIwYmRkMmY3NGFjYTg3OGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c35e5384d5f9f260db0f595120bdd2f74aca878a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c35e5384d5f9f260db0f595120bdd2f74aca878a",
      "tree": {
        "sha": "5ba26ac304f01206235b46f18d5997fa4c9c7a46",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5ba26ac304f01206235b46f18d5997fa4c9c7a46"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/72e46c7cb6dcdda28a96c8538f178de9cddea24c",
          "sha": "72e46c7cb6dcdda28a96c8538f178de9cddea24c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/72e46c7cb6dcdda28a96c8538f178de9cddea24c"
        }
      ],
      "message": "sign: Add GetAggregateParticipantPubkeys to SigningProvider",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-18T22:22:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-22T21:43:26Z"
      },
      "sha": "c35e5384d5f9f260db0f595120bdd2f74aca878a"
    },
    {
      "event": "commented",
      "id": 2005162597,
      "node_id": "IC_kwDOABII5853hFpl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2005162597",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T22:32:40Z",
      "updated_at": "2024-03-19T00:10:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29675).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29491](https://github.com/bitcoin/bitcoin/pull/29491) ([DO NOT MERGE] Schnorr batch verification for blocks by fjahr)\n* [#29432](https://github.com/bitcoin/bitcoin/pull/29432) (Stratum v2 Template Provider (take 3) by Sjors)\n* [#29295](https://github.com/bitcoin/bitcoin/pull/29295) (CKey: add Serialize and Unserialize by Sjors)\n* [#29136](https://github.com/bitcoin/bitcoin/pull/29136) (wallet: `addhdkey` RPC to add just keys to wallets via new `void(KEY)` descriptor by achow101)\n* [#29130](https://github.com/bitcoin/bitcoin/pull/29130) (wallet: Add `createwalletdescriptor` and `gethdkeys` RPCs for adding new automatically generated descriptors by achow101)\n* [#29050](https://github.com/bitcoin/bitcoin/pull/29050) (Add OP_TXHASH and OP_CHECKTXHASHVERIFY opcodes by stevenroose)\n* [#28122](https://github.com/bitcoin/bitcoin/pull/28122) (Silent Payments: Implement BIP352 by josibake)\n* [#27351](https://github.com/bitcoin/bitcoin/pull/27351) (wallet: add `seeds` argument to `importdescriptors` by apoelstra)\n* [#26840](https://github.com/bitcoin/bitcoin/pull/26840) (refactor: importpubkey, importprivkey, importaddress, importmulti, and importdescriptors rpc by KolbyML)\n* [#22838](https://github.com/bitcoin/bitcoin/pull/22838) (descriptors: Be able to specify change and receiving in a single descriptor string by achow101)\n* [#21283](https://github.com/bitcoin/bitcoin/pull/21283) (Implement BIP 370 PSBTv2 by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29675#issuecomment-2005162597",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29675"
    },
    {
      "event": "labeled",
      "id": 12160351140,
      "node_id": "LE_lADOABII586CvrSDzwAAAALU0Duk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12160351140",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T22:32:42Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T02:07:31Z",
      "updated_at": "2024-03-19T02:07:31Z",
      "source": {
        "issue": {
          "id": 2157180803,
          "node_id": "PR_kwDOABII585oE8QZ",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29491",
          "number": 29491,
          "state": "open",
          "state_reason": null,
          "title": "[DO NOT MERGE] Schnorr batch verification for blocks",
          "body": "This is a simple draft implementation of Schnorr signature batch verification in blocks, put here for conceptual discussion, and collaborative benchmarking. Most of code added here is from the `secp256k1` implementation.\r\n\r\nThe `secp256k1` code is still under review itself, please spend some time giving feedback on the API etc. if you can:\r\n- [Original PR](https://github.com/bitcoin-core/secp256k1/pull/1134)\r\n- [My rebase used here including some minor fixes](https://github.com/fjahr/secp256k1/tree/pr1134-rebase-2024)\r\n\r\nTODOs\r\n- [ ] Fix `functional/feature_taproot.py`\r\n- [ ] Extensive benchmarking using `ConnectBlock()` tracing\r\n- [ ] Add unit tests\r\n- [ ] Batch taproot tweak verification as well\r\n- [ ] Conceptual discussion in what form this realistically could be introduced into the code base, and later, a release",
          "user": {
            "login": "fjahr",
            "id": 1322187,
            "node_id": "MDQ6VXNlcjEzMjIxODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fjahr",
            "html_url": "https://github.com/fjahr",
            "followers_url": "https://api.github.com/users/fjahr/followers",
            "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
            "organizations_url": "https://api.github.com/users/fjahr/orgs",
            "repos_url": "https://api.github.com/users/fjahr/repos",
            "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fjahr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29491",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29491.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29491.patch"
          },
          "created_at": "2024-02-27T17:06:26Z",
          "updated_at": "2024-03-19T02:07:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T02:28:51Z",
      "updated_at": "2024-03-19T02:28:51Z",
      "source": {
        "issue": {
          "id": 2134155715,
          "node_id": "PR_kwDOABII585m2Xsr",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29432",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29432/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29432/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29432/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29432",
          "number": 29432,
          "state": "open",
          "state_reason": null,
          "title": "Stratum v2 Template Provider (take 3)",
          "body": "Based on on @Fi3's https://github.com/bitcoin/bitcoin/compare/master...Fi3:bitcoin:PatchTemplates which is based on @ccdle12's #27854. I rebased it and re-wrote the commit history. Compared to #28983 it introduces EllSwift in the handshake and fixes various bugs. I used that opportunity to change the branch name, which makes testing against [SRI](https://github.com/stratum-mining/stratum) slightly easier. There's no conceptual discussion on #28983 so it can be ignored by reviewers.\r\n\r\nSee [docs/stratum-v2.md](https://github.com/Sjors/bitcoin/blob/sv2/doc/stratum-v2.md) for a brief description of Stratum v2 and the role of Bitcoin Core in that system..\r\n\r\n## What to test and review?\r\n\r\nI'll make separate pull requests for parts that are ready for detailed review.\r\n\r\n- [ ] #29346\r\n- [ ] #29295 \r\n- [ ] Custom signet mining improvement: #29032\r\n- [ ] Make nested pull-requests easier: #29274\r\n\r\nSee the [testing guide](https://github.com/Sjors/bitcoin/blob/2023/11/sv2-poll/doc/stratum-v2.md#testing-guide) for various ways to test this PR. This branch is actively used by (testnet) pools, so it should be ready for high level review.\r\n\r\n### Related useful PRs\r\n\r\n- [ ] #26812\r\n\r\n## Implementation notes\r\n\r\nThere's roughly three layers:\r\n\r\n1. Noise encryption #29346\r\n2. Messages and transport layer\r\n3. The Template Provider\r\n\r\n* the `ci:` commits (#29274) are there to facilitate PR's against this branch, but they are not blocking for Stratum v2\r\n* the commits that move `transport.h` and some other stuff from `node` to `common` are not blocking. But in the longer run I'd like to see process separation between the node and the template provider.\r\n* I will occasionally add commits to _undo_ bug fixes, in order to stay compatible with the SRI `main` branch. Those will get dropped over time and can be ignored. \r\n\r\n## Contributing\r\n\r\nIf you want to help out with any of the issues below, please open a PR to my fork. I will then squash your commits into my own where needed. \r\n\r\n## Things left todo\r\n\r\n### Spec\r\n\r\n- [ ] modify spec to use `ProvideMissingTransactions`? (followup?)\r\n- [ ] pick a good default for `default_coinbase_tx_additional_output_size` (see `getblocktemplate` RPC)\r\n\r\n### Networking\r\n\r\n- [ ] add `-sv2bind` and `-sv2allowip`\r\n- [ ] optional `-sv2cert`\r\n- [ ] drop `Sv2TemplateProvider::SendBuf`, reuse p2p socket handling if possible\r\n- [ ] limit number of connected clients\r\n- [ ] maybe limit (number of) `coinbase_output_max_additional_size`\r\n- [ ] TMP / TODO comments at the top of `sv2_messages.h`\r\n\r\n### Testing\r\n\r\n- [ ] expand sv2_template_provider_tests\r\n- [ ] add transport fuzzer\r\n- [ ] add template provider fuzzer\r\n\r\n### Template generation and updating\r\n\r\n- [ ] group templates with the same `coinbase_tx_additional_output_size`\r\n- [ ] don't generate templates when no client is connected\r\n\r\n### Misc\r\n\r\n- [ ] move / refactor `GetMerklePathForCoinbase` helper (see Future Work in original PR, and https://github.com/stratum-mining/stratum/issues/567)\r\n- [ ] truncate long trace messages\r\n\r\n## Potential followups\r\n\r\n- [ ] implement Noise protocol and mock client in Python, add functional tests (based on `test/sv2_template_provider_tests.cpp`)\r\n- [ ] use process separation, e.g. a `bitcoin-tp` binary, see [multiprocess.md](https://github.com/bitcoin/bitcoin/blob/master/doc/design/multiprocess.md?plain=1)\r\n- [ ] make template updates push based, on top of Cluster Mempool, see [docs/stratum-v2.md](https://github.com/Sjors/bitcoin/blob/2023/11/sv2-poll/doc/stratum-v2.md) (for new blocks it's already push based)\r\n- [ ] push empty template for the next block (downstream can ignore or use, https://github.com/stratum-mining/stratum/issues/715)\r\n  - send prevhash for this template as soon as any new block arrives\r\n- [ ] push optimistic template for the next block\r\n  - send prevhash if and only if our template won (i.e. we got a `SubmitSolution` message)",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29432",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29432",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29432.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29432.patch"
          },
          "created_at": "2024-02-14T11:34:49Z",
          "updated_at": "2024-03-19T02:28:50Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 12162666410,
      "node_id": "LE_lADOABII586CvrSDzwAAAALU84-q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12162666410",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T02:45:20Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2005647364,
      "node_id": "IC_kwDOABII5853i8AE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2005647364",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T02:45:21Z",
      "updated_at": "2024-03-19T02:45:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\n🚧 At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/22808312237</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29675#issuecomment-2005647364",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29675"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T03:11:20Z",
      "updated_at": "2024-03-19T03:11:20Z",
      "source": {
        "issue": {
          "id": 2096139309,
          "node_id": "PR_kwDOABII585k1vcl",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29295",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29295/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29295/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29295/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29295",
          "number": 29295,
          "state": "open",
          "state_reason": null,
          "title": "CKey: add Serialize and Unserialize",
          "body": "In #28983 I need to read and write two private keys to/from disk that are used by Stratum v2 peers to (optionally) authenticate us.\r\n\r\nFor the write part, I initially just put the key data into a `std::vector<unsigned char>` and then used a modified version of `WriteBinaryFile`. But @vasild pointed out in #29229 that:\r\n\r\n> `CKey` stores sensitive data and takes care to wipe it from memory when freed. In #28983 `Read/WriteBinaryData()` is used in a way that defeats that - the sensitive data will be copied to a temporary variable (ordinary `std::vector`) for IO. Can we change `Read/WriteBinaryData()` to operate directly on `CKey` in such a way that data goes directly from `CKey` to the disk?\r\n\r\nThis PR tries a different approach that hopefully addresses that. See https://github.com/Sjors/bitcoin/pull/32 for how it's used (in `sv2_template_provider.cpp`).",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 32,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29295",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29295",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29295.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29295.patch"
          },
          "created_at": "2024-01-23T13:50:53Z",
          "updated_at": "2024-03-19T03:11:20Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T03:52:48Z",
      "updated_at": "2024-03-19T03:52:48Z",
      "source": {
        "issue": {
          "id": 2054578166,
          "node_id": "PR_kwDOABII585ir-jz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29136",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29136/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29136/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29136/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29136",
          "number": 29136,
          "state": "open",
          "state_reason": null,
          "title": "wallet: `addhdkey` RPC to add just keys to wallets via new `void(KEY)` descriptor",
          "body": "It is sometimes useful for the wallet to have keys that it can sign with but are not (initially) involved in any scripts, e.g. for setting up a multisig. Ryanofsky [suggested](https://github.com/bitcoin/bitcoin/pull/26728#issuecomment-1867721948) A `void(KEY)` descriptor which allows for a key to be specified, but produces no scripts. These can be imported into the wallet, and subsequently retrieved with `gethdkeys`. Additionally, `listdescriptors` will output these descriptors so that they can be easily backed up.\r\n\r\nIn order to make it easier for people to add HD keys to their wallet, and to generate a new one if they want to rotate their descriptors, an `addhdkey` RPC is also added. Without arguments, it will generate a new HD key and add it to the wallet via a `void(KEY)` descriptor. If provided a private key, it will construct the descriptor and add it to the wallet.\r\n\r\nSee also: https://github.com/bitcoin/bitcoin/pull/26728#issuecomment-1866961865\r\n\r\nBased on #29130 as `gethdkeys` is useful for testing this.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29136",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29136",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29136.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29136.patch"
          },
          "created_at": "2023-12-22T23:40:15Z",
          "updated_at": "2024-03-19T03:52:47Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T03:54:31Z",
      "updated_at": "2024-03-19T03:54:31Z",
      "source": {
        "issue": {
          "id": 2053192843,
          "node_id": "PR_kwDOABII585inOYp",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29130",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29130/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29130/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29130/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29130",
          "number": 29130,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Add `createwalletdescriptor` and `gethdkeys` RPCs for adding new automatically generated descriptors",
          "body": "This PR adds a `createwalletdescriptor` RPC which allows users to add new automatically generated descriptors to their wallet, e.g. to upgrade a 0.21.x wallet to contain a taproot descriptor. This RPC takes 3 arguments: the output type to create a descriptor for, whether the descriptor will be internal or external, and the HD key to use if the user wishes to use a specific key. The HD key is an optional parameter. If it is not specified, the wallet will use the key shared by the active descriptors, if they are all single key. For most users in the expected upgrade scenario, this should be sufficient. In more advanced cases, the user must specify the HD key to use.\r\n\r\nCurrently, specified HD keys must already exist in the wallet. To make it easier for the user to know, `gethdkeys` is also added to list out the HD keys in use by all of the descriptors in the wallet. This will include all HD keys, whether we have the private key, for it, which descriptors use it and their activeness, and optionally the extended private key. In this way, users with more complex wallets will be still be able to get HD keys from their wallet for use in other scenarios, and if they want to use `createwalletdescriptor`, they can easily get the keys that they can specify to it.\r\n\r\nSee also https://github.com/bitcoin/bitcoin/pull/26728#issuecomment-1866961865",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29130",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29130",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29130.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29130.patch"
          },
          "created_at": "2023-12-22T00:05:47Z",
          "updated_at": "2024-03-19T16:26:10Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T04:14:50Z",
      "updated_at": "2024-03-19T04:14:50Z",
      "source": {
        "issue": {
          "id": 2035160572,
          "node_id": "PR_kwDOABII585hp4Pn",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29050",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29050/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29050/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29050/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29050",
          "number": 29050,
          "state": "open",
          "state_reason": null,
          "title": "Add OP_TXHASH and OP_CHECKTXHASHVERIFY opcodes",
          "body": "Implementation of OP_TXHASH and OP_CHECKTXHASHVERIFY, as per the [draft BIP](https://github.com/bitcoin/bips/pull/1500).\r\n\r\nThis MR includes a test using the test vectors generated from the reference implementation in the BIP.\r\nThe implementation utilizes a caching strategy that hopefully alleviates concerns around resource usage like quadratic hashing.\r\n\r\nThis MR on purpose does not make any consensus changes yet. Activation of the proposed opcodes will be coordinated in an independent MR, probably combined with other opcodes (like OP_CAT and/or OP_CHECKSIGFROMSTACK).\r\n\r\n(I'm not very familiar with checks and lints on here, so I'll try to address problems as they come. I have personally been able to compile and run the tests, but that usually is only the tip of the iceberg.)",
          "user": {
            "login": "stevenroose",
            "id": 853468,
            "node_id": "MDQ6VXNlcjg1MzQ2OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stevenroose",
            "html_url": "https://github.com/stevenroose",
            "followers_url": "https://api.github.com/users/stevenroose/followers",
            "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
            "organizations_url": "https://api.github.com/users/stevenroose/orgs",
            "repos_url": "https://api.github.com/users/stevenroose/repos",
            "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stevenroose/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 192202000,
              "node_id": "MDU6TGFiZWwxOTIyMDIwMDA=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Consensus",
              "name": "Consensus",
              "color": "009800",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29050",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29050",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29050.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29050.patch"
          },
          "created_at": "2023-12-11T09:00:40Z",
          "updated_at": "2024-03-19T04:14:50Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T06:23:35Z",
      "updated_at": "2024-03-19T06:23:35Z",
      "source": {
        "issue": {
          "id": 1816230792,
          "node_id": "PR_kwDOABII585WHu-Q",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28122",
          "number": 28122,
          "state": "open",
          "state_reason": null,
          "title": "Silent Payments: Implement BIP352",
          "body": "This PR is part of integrating silent payments into Bitcoin Core. The project is tracked in https://github.com/bitcoin/bitcoin/issues/28536\r\n\r\n## BIP352\r\n\r\nThis PR focuses strictly on the BIP logic and attempts to separate it from the wallet and transaction implementation details. This is accomplished by working directly with public and private keys, instead of needing a wallet backend and transactions for testing. Labels for the receiver are optional and thus deferred for a later PR.\r\n\r\nTest vectors from the BIP are included as unit tests.\r\n\r\nBefore reviewing, it is strongly recommended you read https://github.com/bitcoin/bips/pull/1458 and take a look at the reference python implementation on the BIP.\r\n",
          "user": {
            "login": "josibake",
            "id": 7444140,
            "node_id": "MDQ6VXNlcjc0NDQxNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/josibake",
            "html_url": "https://github.com/josibake",
            "followers_url": "https://api.github.com/users/josibake/followers",
            "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
            "organizations_url": "https://api.github.com/users/josibake/orgs",
            "repos_url": "https://api.github.com/users/josibake/repos",
            "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/josibake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 249581124,
              "node_id": "MDU6TGFiZWwyNDk1ODExMjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Privacy",
              "name": "Privacy",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 32,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28122",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28122.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28122.patch"
          },
          "created_at": "2023-07-21T18:36:37Z",
          "updated_at": "2024-03-19T06:23:34Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T06:58:28Z",
      "updated_at": "2024-03-19T06:58:28Z",
      "source": {
        "issue": {
          "id": 1643033911,
          "node_id": "PR_kwDOABII585NBVge",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27351",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27351/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27351/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27351/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27351",
          "number": 27351,
          "state": "open",
          "state_reason": null,
          "title": "wallet: add `seeds` argument to `importdescriptors`",
          "body": "This PR introduces the ability to import BIP32 master seeds alongside xpubs. It currently expects seeds to be provided in [BIP 93/codex32](https://github.com/bitcoin/bips/blob/master/bip-0093.mediawiki) either as a single seed or as a list of shares which can be assembled via Shamir Secret Sharing.\r\n\r\nIt could be generalized to other seed formats, e.g. a hex-encoding or the old `sethdseeds` WIF format, easily enough by just attempting to parse the input in those formats and retrying until we find one that works. (Though we must be extremely careful that these formats are unambiguous! If the user imports a seed they don't expect, which fails to match the one they've backed up, the result could be coin loss. For formats with no prefix or checksum, e.g. hex-encoded bytes, we may need to require the user provide a prefix or a separate flag.)\r\n\r\nThe motivation here is that users who are importing their coins from another wallet likely have them in the form of a public descriptor (probably one of the standard `pkh(BIP44/48/84/whatever)` ones) along with a master seed (probably in some seed word format, but this is easy enough to convert to a straight BIP32 seed with an external tool). The seed, presumably, they want to minimize handling of, while the descriptor they are likely to be copy/pasting from somewhere and generally being less careful with.\r\n\r\nTo import this into Core, they currently need to construct a version of their descriptor in which xpubs are replaced by xprivs, and import that. This is cumbersome and potentially dangerous. With this extra RPC flag they are able to separately tweak their descriptor however they need, and then adding their seed data, unmodified, at the last minute in one place.\r\n\r\nMy specific use case is: I have an estate planning document which contains careful instructions for reconstructing seed data from shares which are stored separately and externally to the planning document. Meanwhile, the document itself contains a public descriptor, with checksum already computed, which is stored in several locations accessible by an open-ended set of people. If I were forced to mix the secret data with the public data, it would increase the risk of leaking the secrets as well as the risk of losing the public part.\r\n\r\n**Edit:** Other approaches, that I considered but chose not to take:\r\n\r\n* Extend the existing `sethdseed` RPC. This RPC is legacy-only and not supported by descriptor wallets, because it depends on the legacy \"bag of keys\" model where you could stick keys into the wallet and it'd \"just work\", often in surprising ways.\r\n* Add a new descriptor-wallet-based `importseed` RPC or something. This doesn't work for more-or-less the same reason; the descriptor wallet associates all its keys with `ScriptPubKeyManager`s, so we would need to add support for \"global keys\" somehow. This is a lot of work, lots of room for bikeshedding, and I worry that @achow101 will NACK anything that looks too much like a \"bag of keys\" model. (The situation would be much less bad than the legacy one, where 3rd parties could do stuff like mapping p2wpkh addresses to p2pkh ones and the wallet would just accept it ... but it would still potentially lead to user confusion about what exact conditions the wallet could sign for what descriptors, and it may constrain future wallet changes.)\r\n* Adding a `codex32(...)/1/2/3` xpriv format to the descriptor import format. This was suggested to me by @sipa and has the benefit that very closely matches the existing import model.\r\n\r\nPersonally I don't like the latter\r\n* for the reasons stated in the PR description -- I like my descriptors to be public, and my secret data to be limited to 16 bytes, and I think this is a common mode of operation for people coming from other wallets\r\n* ...and maybe worse, a common model for other wallet authors, who would refuse to nicely interoperate with this);\r\n* because it felt like enough of a change to deserve a change to one of the descriptor BIPs, but those are big enough already and it's hard to get tiny changes to propagate to all implementors of standards. Plus it felt wrong to couple codex32 with descriptors like this.i\r\n* because if you have multiple descirptors that use the same seed, it would force you to copy the seed multiple times, which is dangerous. (In some cases [BIP 389](https://github.com/bitcoin/bips/pull/1354) will make this better, but it doesn't cover everything and anyway is not accepted or implemented yet. One thing at a time :))\r\n\r\nBut what cinched it, and made me switch to the approach in the PR, was that @roconnor-blockstream pointed out to me that the codex32 model means that you can't predict, at writing-down-the-descriptor time, exactly what shares you'll be inputting. And because descriptors have a checksum which covers their entire string encoding, this means that you can't predict ahead-of-timei what will go into the `codex32(...)` slot and therefore what the total checksum ought to be. And this means that either (a) you lose the descriptor checksum, which is a Bad Idea and also inconvenient for importers who' will have to construct a checksum with `getdescriptorinfo` to get `importdescriptors` to accept it, even though said checksum had never been used to protect data in storage; or (b) you modify the descriptor checksum algorithm to be aware of `codex(...)` and to skip checksumming the data inside of that. This means even more implementation complexity that other wallets are unlikely to bring in, plus the result generalizes less easily to other seed formats (e.g. hex) which don't have checksums of their own.\r\n\r\n",
          "user": {
            "login": "apoelstra",
            "id": 1351933,
            "node_id": "MDQ6VXNlcjEzNTE5MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/apoelstra",
            "html_url": "https://github.com/apoelstra",
            "followers_url": "https://api.github.com/users/apoelstra/followers",
            "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
            "organizations_url": "https://api.github.com/users/apoelstra/orgs",
            "repos_url": "https://api.github.com/users/apoelstra/repos",
            "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/apoelstra/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27351",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27351",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27351.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27351.patch"
          },
          "created_at": "2023-03-28T00:57:14Z",
          "updated_at": "2024-03-19T06:58:27Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T07:22:54Z",
      "updated_at": "2024-03-19T07:22:54Z",
      "source": {
        "issue": {
          "id": 1523382830,
          "node_id": "PR_kwDOABII585G3Hol",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26840",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26840/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26840/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26840/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26840",
          "number": 26840,
          "state": "open",
          "state_reason": null,
          "title": "refactor: importpubkey, importprivkey, importaddress, importmulti, and importdescriptors rpc",
          "body": "This is a wallet rpc refactor from my gui pr https://github.com/bitcoin-core/gui/pull/650\r\n\r\nI was told by a contributor I should make a pr here for anything not in src/qt except for makefile/.ui stuff\r\n\r\nSo this pr refactors the RPC code so that it can be used through interfaces so there isn't a ton of code duplication more details would be in my bitcoin-core/gui pr.\r\n\r\nFor context this is apart of my Summer of Bitcoin project achow101 was my mentor.\r\n",
          "user": {
            "login": "KolbyML",
            "id": 31669092,
            "node_id": "MDQ6VXNlcjMxNjY5MDky",
            "avatar_url": "https://avatars.githubusercontent.com/u/31669092?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/KolbyML",
            "html_url": "https://github.com/KolbyML",
            "followers_url": "https://api.github.com/users/KolbyML/followers",
            "following_url": "https://api.github.com/users/KolbyML/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/KolbyML/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/KolbyML/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/KolbyML/subscriptions",
            "organizations_url": "https://api.github.com/users/KolbyML/orgs",
            "repos_url": "https://api.github.com/users/KolbyML/repos",
            "events_url": "https://api.github.com/users/KolbyML/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/KolbyML/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26840",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26840",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26840.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26840.patch"
          },
          "created_at": "2023-01-07T01:24:33Z",
          "updated_at": "2024-03-19T07:22:53Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T08:13:10Z",
      "updated_at": "2024-03-19T08:13:10Z",
      "source": {
        "issue": {
          "id": 983140832,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzIyNzY4MTc5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22838",
          "number": 22838,
          "state": "open",
          "state_reason": null,
          "title": "descriptors: Be able to specify change and receiving in a single descriptor string",
          "body": "It is convenient to have a descriptor which specifies both receiving and change addresses in a single string. However, as discussed in https://github.com/bitcoin/bitcoin/issues/17190#issuecomment-895515768, it is not feasible to use a generic multipath specification like BIP 88 due to combinatorial blow up and that it would result in unexpected descriptors.\r\n\r\nTo resolve that problem, this PR proposes a targeted solution which allows only a single pair of 2 derivation indexes to be inserted in the place of a single derivation index. So instead of two descriptor `wpkh(xpub.../0/0/*)` and `wpkh(xpub.../0/1/*)` to represent receive and change addresses, this could be written as `wpkh(xpub.../0/<0;1>/*)`. The multipath specifier is of the form `<NUM;NUM>`. Each `NUM` can have its own hardened specifier, e.g. `<0;1h>` is valid. The multipath specifier can also only appear in one path index in the derivation path.\r\n\r\nThis results in the parser returning two descriptors. The first descriptor uses the first `NUM` in all pairs present, and the second uses the second `NUM`. In our implementation, if a multipath descriptor is not provided, a pair is still returned, but the second element is just `nullptr`.\r\n\r\nThe wallet will not output the multipath descriptors (yet). Furthermore, when a multipath descriptor is imported, it is expanded to the two descriptors and each imported on its own, with the second descriptor being implicitly for internal (change) addresses. There is no change to how the wallet stores or outputs descriptors (yet).\r\n\r\nNote that the path specifier is different from what was proposed. It uses angle brackets and the semicolon because these are unused characters available in the character set and I wanted to avoid conflicts with characters already in use in descriptors.\r\n\r\nCloses #17190 ",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 1482182044,
              "node_id": "MDU6TGFiZWwxNDgyMTgyMDQ0",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Descriptors",
              "name": "Descriptors",
              "description": "",
              "color": "e9f76c",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 41,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22838",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22838",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22838.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22838.patch"
          },
          "created_at": "2021-08-30T19:46:34Z",
          "updated_at": "2024-03-19T08:13:09Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T08:23:32Z",
      "updated_at": "2024-03-19T08:23:32Z",
      "source": {
        "issue": {
          "id": 814723992,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTc4NjY1NDk1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21283",
          "number": 21283,
          "state": "open",
          "state_reason": null,
          "title": "Implement BIP 370 PSBTv2",
          "body": "BIP 370 PSBTv2 introduces several new fields and different invariants for PSBT. This PR implements those new fields and restructures the PSBT implementation to match PSBTv2 but still remain compatible with PSBTv0.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135946,
              "node_id": "MDU6TGFiZWwxMzU5NDY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI",
              "name": "GUI",
              "color": "02d7e1",
              "default": false
            },
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21283",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21283.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21283.patch"
          },
          "created_at": "2021-02-23T18:29:20Z",
          "updated_at": "2024-03-19T08:23:32Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1945828953,
      "node_id": "PRR_kwDOABII585z-v5Z",
      "url": null,
      "actor": null,
      "commit_id": "a1e4c323dbff9fa5095cf216d7cd528f10a1feeb",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Very cool stuff! Will review more later.\r\n\r\n> This pulls in (an older version of) the musig module in libsecp\r\n\r\nWhat do you mean by \"older\"? Just that the PR to libsecp needs another rebase?\r\n\r\n> An open question is whether the approach for handling the secnonces is ideal and safe. Since nonces must not be reused, this PR holds them exclusively in memory, so a restart of the software will require a restart of the MuSig2 signing process. \r\n\r\nIt sounds safe, but not ideal, which might make it unsafe. Every Bitcoin Core instance involved would need to keep running, with the wallet loaded (and decrypted?) throughout the two rounds. For an airgapped setup with keys in multiple locations, the node in each location would have to be left running unattended (assuming one person running between them).\r\n\r\nMy understanding is that Ledger (cc @bigspider) creates a nonce, stores it, and then deletes it from storage as soon as it's loaded (before signing). We could similarly store the nonce in our wallet and then delete the field at the start of the new round. For safety we could disable backups and dump RPC's while a round is in progress (e.g. with a `NO_BACKUP` flag). \r\n\r\nThat only prevents accidental replay, not a replay _attack_, but it seems that anyone who is able to replay a node, already has access to its private keys (from the time a wallet was decrypted), so can't do additional harm?\r\n\r\n---\r\n\r\nImplementation questions.\r\n\r\nI tried making a 2 party tr(musig(A,B)) in a blank wallet. Initially I obtained two private keys and their public keys from another legacy wallet. I gave the new Alice wallet her private key and Bob's public key, i.e. `tr(musig(a,B)/0/*)` but this failed with `Ranged musig() requires all participants to be xpubs`. Why though? Given that bip-musig2-derivation defines a virtual root xpub, and providers a fake chaincode, this restriction seems unneeded? (though it's not blocker either, with descriptor wallets it's easy to get an xpub - after #29130 anyway)\r\n\r\nOnce I had two wallets, I could see they generated the same receive address, nice! I then imported the same xpub/xpriv pair for the change address `1/*`. I sent some (signet) coins to it, which arrived and confirmed.\r\n\r\nSadly after the GUI rugged me :-) Trying to send any amount elsewhere resulted in \"Signing transaction failed\" followed by \"Transaction creation failed!\". Whereas I was hoping to get a PSBT this way.\r\n\r\nUsing the `send` RPC I do get a PSBT (from Alice). I had the `musig2_participant_pubkeys` set, but no `musig2_pubnonces`. That required calling `walletprocesspsbt` which seems an unnecessary extra step (but such fine tuning can wait). On Bob's side the GUI complained with \"Could not sign any more inputs\", but it did add a nonce.\r\n\r\nAt this point all the nonces were commited, so Bob could have added his partial signature. But at the stage the GUI crashes when trying to sign: `[libsecp256k1] illegal argument: secp256k1_memcmp_var(&nonce->data[0], secp256k1_musig_pubnonce_magic, 4) == 0`.\r\n\r\nAfter a restart Bob's `walletprocesspsbt` command didn't fail. Which seems wrong: at this point the nonce should be gone, which he should complain about.\r\n\r\nStarting with a fresh transaction, sing only the RPC I got the same crash, i.e.:\r\n1. Alice: `send`\r\n2. Alice: `processpsbt`\r\n3. Bob: `processpsbt`\r\n4. Bob: `processpsbt`: crash\r\n\r\nPerhaps relevant: Bob's wallet is encrypted, though it was unlocked throughout steps 3 and 4.\r\n\r\n---\r\n\r\n```\r\n % test/functional/wallet_musig.py \r\n2024-03-19T14:23:33.113000Z TestFramework (INFO): PRNG seed is: 6470719924404054174\r\n2024-03-19T14:23:33.115000Z TestFramework (INFO): Initializing test directory /var/folders/h6/qrb4j9vn6530kp7j4ymj934h0000gn/T/bitcoin_func_test_66knao3l\r\n2024-03-19T14:23:35.070000Z TestFramework (INFO): Testing rawtr(musig(keys/*))\r\n2024-03-19T14:23:35.192000Z TestFramework (ERROR): Unexpected exception caught during testing\r\n```\r\n\r\n(didn't check if it's the same crash)\r\n\r\n",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29675#pullrequestreview-1945828953",
      "submitted_at": "2024-03-19T14:22:48Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29675"
    },
    {
      "event": "commented",
      "id": 2007354913,
      "node_id": "IC_kwDOABII5853pc4h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2007354913",
      "actor": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T14:36:41Z",
      "updated_at": "2024-03-19T14:36:41Z",
      "author_association": "NONE",
      "body": "> My understanding is that Ledger (cc @bigspider) creates a nonce, stores it, and then deletes it from storage as soon as it's loaded (before signing). We could similarly store the nonce in our wallet and then delete the field at the start of the new round. For safety we could disable backups and dump RPC's while a round is in progress (e.g. with a `NO_BACKUP` flag).\r\n\r\nNot yet implemented, but that's the plan: store nonces in flash memory (persistent memory) after generation; remove them from flash memory _before_ signing starts (therefore, they're gone even if there is a later failure, and signing must restart from nonce generation).\r\n\r\nNote that there is no backup possibility for the persistent memory.",
      "user": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29675#issuecomment-2007354913",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29675"
    },
    {
      "event": "mentioned",
      "id": 12170604889,
      "node_id": "MEE_lADOABII586CvrSDzwAAAALVbLFZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12170604889",
      "actor": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T14:36:43Z"
    },
    {
      "event": "subscribed",
      "id": 12170604914,
      "node_id": "SE_lADOABII586CvrSDzwAAAALVbLFy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12170604914",
      "actor": {
        "login": "bigspider",
        "id": 6681844,
        "node_id": "MDQ6VXNlcjY2ODE4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6681844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bigspider",
        "html_url": "https://github.com/bigspider",
        "followers_url": "https://api.github.com/users/bigspider/followers",
        "following_url": "https://api.github.com/users/bigspider/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bigspider/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bigspider/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bigspider/subscriptions",
        "organizations_url": "https://api.github.com/users/bigspider/orgs",
        "repos_url": "https://api.github.com/users/bigspider/repos",
        "events_url": "https://api.github.com/users/bigspider/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bigspider/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T14:36:43Z"
    },
    {
      "event": "commented",
      "id": 2007551641,
      "node_id": "IC_kwDOABII5853qM6Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2007551641",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T15:52:12Z",
      "updated_at": "2024-03-19T15:52:12Z",
      "author_association": "MEMBER",
      "body": "> What do you mean by \"older\"? Just that the PR to libsecp needs another rebase?\r\n\r\nI pulled in a commit that is probably outdated at this point. There may have been API changes since.\r\n\r\n> We could similarly store the nonce in our wallet and then delete the field at the start of the new round. For safety we could disable backups and dump RPC's while a round is in progress (e.g. with a `NO_BACKUP` flag).\r\n\r\nDisabling backups with a flag would not help as an oft suggested method for backing up a wallet is by copying the wallet file. There's nothing that we can do about that, so to be safe, I don't think we can store the nonces in the wallet file.\r\n\r\n> I tried making a 2 party tr(musig(A,B)) in a blank wallet. Initially I obtained two private keys and their public keys from another legacy wallet. I gave the new Alice wallet her private key and Bob's public key, i.e. `tr(musig(a,B)/0/*)` but this failed with `Ranged musig() requires all participants to be xpubs`. Why though? Given that bip-musig2-derivation defines a virtual root xpub, and providers a fake chaincode, this restriction seems unneeded? (though it's not blocker either, with descriptor wallets it's easy to get an xpub - after #29130 anyway)\r\n\r\nIt's specified in bip-musig2-descriptors that the musig must only contain xpubs if the aggregate will be derived from. I believe the rationale for this is that xpubs are intended to have derivation done on them whereas normal keys are not, and so there may be particular handling of such keys to deal with possibilities of derivation doing something unexpected, and so if we do anything with derivation, we should only use keys that are intended for derivation to avoid any confusion. I think @sipa was the one who made this suggestion.\r\n\r\n> Sadly after the GUI rugged me :-) Trying to send any amount elsewhere resulted in \"Signing transaction failed\" followed by \"Transaction creation failed!\". Whereas I was hoping to get a PSBT this way.\r\n\r\nThe GUI may be expecting that at least one signature is produced, but we can't do that with musig without at least one round with the cosigners. I have it implemented such that `ProduceSignature` does not report the tx as being signed until there is actually a signature, so even the partial sigs generation will not return \"signed\".\r\n\r\n> After a restart Bob's `walletprocesspsbt` command didn't fail. Which seems wrong: at this point the nonce should be gone, which he should complain about.\r\n\r\nCurrently it just ignores if there is already a nonce for a participant's key. It doesn't replace the nonce, but it also doesn't validate whether that key belongs to the wallet or whether the nonce exists in the wallet.\r\n\r\n\r\n> At this point all the nonces were commited, so Bob could have added his partial signature. But at the stage the GUI crashes when trying to sign: `[libsecp256k1] illegal argument: secp256k1_memcmp_var(&nonce->data[0], secp256k1_musig_pubnonce_magic, 4) == 0`.\r\n> ...\r\n> Starting with a fresh transaction, sing only the RPC I got the same crash, i.e.:\r\n> \r\n>     1. Alice: `send`\r\n> \r\n>     2. Alice: `processpsbt`\r\n> \r\n>     3. Bob: `processpsbt`\r\n> \r\n>     4. Bob: `processpsbt`: crash\r\n> \r\n> \r\n> Perhaps relevant: Bob's wallet is encrypted, though it was unlocked throughout steps 3 and 4.\r\n> \r\n> ```\r\n>  % test/functional/wallet_musig.py \r\n> 2024-03-19T14:23:33.113000Z TestFramework (INFO): PRNG seed is: 6470719924404054174\r\n> 2024-03-19T14:23:33.115000Z TestFramework (INFO): Initializing test directory /var/folders/h6/qrb4j9vn6530kp7j4ymj934h0000gn/T/bitcoin_func_test_66knao3l\r\n> 2024-03-19T14:23:35.070000Z TestFramework (INFO): Testing rawtr(musig(keys/*))\r\n> 2024-03-19T14:23:35.192000Z TestFramework (ERROR): Unexpected exception caught during testing\r\n> ```\r\n> \r\n> (didn't check if it's the same crash)\r\n\r\nHuh, works fine for me.\r\n\r\n",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29675#issuecomment-2007551641",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29675"
    },
    {
      "event": "mentioned",
      "id": 12171807689,
      "node_id": "MEE_lADOABII586CvrSDzwAAAALVfwvJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12171807689",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T15:52:14Z"
    },
    {
      "event": "subscribed",
      "id": 12171807711,
      "node_id": "SE_lADOABII586CvrSDzwAAAALVfwvf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12171807711",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T15:52:14Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDczZjA5NmMwZDg2ZjE5ZWQ3Y2M4MGJmZDczMTE4NzcxZGI1M2IxNWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/73f096c0d86f19ed7cc80bfd73118771db53b15b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/73f096c0d86f19ed7cc80bfd73118771db53b15b",
      "tree": {
        "sha": "7a9a74e29a00760949e149764a204ae1fa5172b2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7a9a74e29a00760949e149764a204ae1fa5172b2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c35e5384d5f9f260db0f595120bdd2f74aca878a",
          "sha": "c35e5384d5f9f260db0f595120bdd2f74aca878a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c35e5384d5f9f260db0f595120bdd2f74aca878a"
        }
      ],
      "message": "tests: Test musig() parsing",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:01:49Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-15T22:48:19Z"
      },
      "sha": "73f096c0d86f19ed7cc80bfd73118771db53b15b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNlNGE0ODNjNTVlOGYwYmY1YWQxMmM3NTYxNWIzYjVkMmU5YzMzZTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3e4a483c55e8f0bf5ad12c75615b3b5d2e9c33e8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3e4a483c55e8f0bf5ad12c75615b3b5d2e9c33e8",
      "tree": {
        "sha": "e429b9a8ed0825275368810ebfb039498aa8d7ed",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e429b9a8ed0825275368810ebfb039498aa8d7ed"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/73f096c0d86f19ed7cc80bfd73118771db53b15b",
          "sha": "73f096c0d86f19ed7cc80bfd73118771db53b15b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/73f096c0d86f19ed7cc80bfd73118771db53b15b"
        }
      ],
      "message": "pubkey: Return tweaks from BIP32 derivation",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:02:31Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-04T20:40:00Z"
      },
      "sha": "3e4a483c55e8f0bf5ad12c75615b3b5d2e9c33e8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhmZDY2NWE4M2QwNmFjZWY1YTUxZDhiY2U4NDY3ZDllZDQyYTNkMTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8fd665a83d06acef5a51d8bce8467d9ed42a3d11",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8fd665a83d06acef5a51d8bce8467d9ed42a3d11",
      "tree": {
        "sha": "71f67092929a192d21545180789408bcf821a582",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/71f67092929a192d21545180789408bcf821a582"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3e4a483c55e8f0bf5ad12c75615b3b5d2e9c33e8",
          "sha": "3e4a483c55e8f0bf5ad12c75615b3b5d2e9c33e8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3e4a483c55e8f0bf5ad12c75615b3b5d2e9c33e8"
        }
      ],
      "message": "sign: Include taproot output key's KeyOriginInfo in sigdata",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:02:31Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-04T22:53:37Z"
      },
      "sha": "8fd665a83d06acef5a51d8bce8467d9ed42a3d11"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJmNDNlYjFhNGU3OWQyZTQ4NzcyYWYzMzc0MGNiODU2ZjA2ZWE2OWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2f43eb1a4e79d2e48772af33740cb856f06ea69c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2f43eb1a4e79d2e48772af33740cb856f06ea69c",
      "tree": {
        "sha": "7aa3e2115903a005d33f7c0d5d4add1343c3a5f5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7aa3e2115903a005d33f7c0d5d4add1343c3a5f5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8fd665a83d06acef5a51d8bce8467d9ed42a3d11",
          "sha": "8fd665a83d06acef5a51d8bce8467d9ed42a3d11",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8fd665a83d06acef5a51d8bce8467d9ed42a3d11"
        }
      ],
      "message": "sign: Refactor Schnorr sighash computation out of CreateSchnorrSig\n\nThere will be other functions within MutableTransactionSignatureCreator\nthat need to compute the same sighash, so make it a separate member\nfunction.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:02:31Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-05T20:09:40Z"
      },
      "sha": "2f43eb1a4e79d2e48772af33740cb856f06ea69c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY5MjA2NmJiN2ZmMzIyNzJhZTc3OGQwYzI0Njc0ZTQ4YTUxZTg4NjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/692066bb7ff32272ae778d0c24674e48a51e8864",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/692066bb7ff32272ae778d0c24674e48a51e8864",
      "tree": {
        "sha": "b62a63782e7e6fbfc3e57d1e53005df187fdc321",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b62a63782e7e6fbfc3e57d1e53005df187fdc321"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2f43eb1a4e79d2e48772af33740cb856f06ea69c",
          "sha": "2f43eb1a4e79d2e48772af33740cb856f06ea69c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2f43eb1a4e79d2e48772af33740cb856f06ea69c"
        }
      ],
      "message": "signingprovider: Add musig2 secnonces\n\nAdds GetMuSig2SecNonces which returns secp256k1_musig_secnonce*, and\nDeleteMuSig2Session which removes the MuSig2 secnonce from wherever it\nwas retrieved. FlatSigningProvider stores it as a pointer to a map of\nsession id to secnonce so that deletion will actually delete from the\nobject that actually owns the secnonces.\n\nThe session id is just a unique identifier for the caller to determine\nwhat secnonces have been created.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:02:31Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-05T21:49:09Z"
      },
      "sha": "692066bb7ff32272ae778d0c24674e48a51e8864"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDlkMzI4ZGQxZWU3Nzc1MmNkNzNjYTZiMTgzZGViMzI4MGQ4NWI2ODU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9d328dd1ee77752cd73ca6b183deb3280d85b685",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9d328dd1ee77752cd73ca6b183deb3280d85b685",
      "tree": {
        "sha": "7c44e4624310b344dbdb67cfc7a42b39e8a1d35d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7c44e4624310b344dbdb67cfc7a42b39e8a1d35d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/692066bb7ff32272ae778d0c24674e48a51e8864",
          "sha": "692066bb7ff32272ae778d0c24674e48a51e8864",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/692066bb7ff32272ae778d0c24674e48a51e8864"
        }
      ],
      "message": "sign: Add CreateMuSig2AggregateSig",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:02:31Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-29T22:32:49Z"
      },
      "sha": "9d328dd1ee77752cd73ca6b183deb3280d85b685"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEzOTlhOWFjNDM4NzFmYzEwM2Q0OGQxNDVmYmQyODc2YTFkZmJhZjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1399a9ac43871fc103d48d145fbd2876a1dfbaf8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1399a9ac43871fc103d48d145fbd2876a1dfbaf8",
      "tree": {
        "sha": "0e4cb33496185189a454d5e94a68b464de9fc899",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0e4cb33496185189a454d5e94a68b464de9fc899"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9d328dd1ee77752cd73ca6b183deb3280d85b685",
          "sha": "9d328dd1ee77752cd73ca6b183deb3280d85b685",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9d328dd1ee77752cd73ca6b183deb3280d85b685"
        }
      ],
      "message": "sign: Add CreateMuSig2Nonce",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:27:59Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-12T20:31:16Z"
      },
      "sha": "1399a9ac43871fc103d48d145fbd2876a1dfbaf8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFjNTE0ZTRlMDVmYTU2YzM3YmQ5MTIwZDg3M2MxNThlM2E3MGFlZmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1c514e4e05fa56c37bd9120d873c158e3a70aefb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1c514e4e05fa56c37bd9120d873c158e3a70aefb",
      "tree": {
        "sha": "0b5ad4c0d47e1926665bd97c68fbffc9ae13311f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0b5ad4c0d47e1926665bd97c68fbffc9ae13311f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1399a9ac43871fc103d48d145fbd2876a1dfbaf8",
          "sha": "1399a9ac43871fc103d48d145fbd2876a1dfbaf8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1399a9ac43871fc103d48d145fbd2876a1dfbaf8"
        }
      ],
      "message": "sign: Add CreateMuSig2PartialSig",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:27:59Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-05T21:44:03Z"
      },
      "sha": "1c514e4e05fa56c37bd9120d873c158e3a70aefb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk2ZDUwMTM2MjMwZGYwNDMzNmZjOGZiNmU3NWEyMmQ1ZjA4ZGNiODQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/96d50136230df04336fc8fb6e75a22d5f08dcb84",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/96d50136230df04336fc8fb6e75a22d5f08dcb84",
      "tree": {
        "sha": "dbee36da73e0b4c16156abaa5164a82b7c8f8941",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dbee36da73e0b4c16156abaa5164a82b7c8f8941"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1c514e4e05fa56c37bd9120d873c158e3a70aefb",
          "sha": "1c514e4e05fa56c37bd9120d873c158e3a70aefb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1c514e4e05fa56c37bd9120d873c158e3a70aefb"
        }
      ],
      "message": "sign: Create MuSig2 signatures for known MuSig2 aggregate keys\n\nWhen creating Taproot signatures, if the key being signed for is known\nto be a MuSig2 aggregate key, do the MuSig2 signing algorithms.\n\nFirst try to create the aggregate signature. This will fail if there are\nnot enough partial signatures or public nonces. If it does fail, try to\ncreate a partial signature with all participant keys. This will fail for\nthose keys that we do not have the private keys for, and if there are\nnot enough public nonces. Lastly, if the partial signatures could be\ncreated, add our own public nonces for the private keys that we know, if\nthey do not yet exist.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:27:59Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-05T20:57:01Z"
      },
      "sha": "96d50136230df04336fc8fb6e75a22d5f08dcb84"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ2M2I3NjhkZDI0MTk4MTAyNzNjYWEwOGFhNTg1NDM5YmE1NGZjOTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/463b768dd2419810273caa08aa585439ba54fc91",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/463b768dd2419810273caa08aa585439ba54fc91",
      "tree": {
        "sha": "b6cc9dfc59f552b1b6b8e72bb25f427d226152ef",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b6cc9dfc59f552b1b6b8e72bb25f427d226152ef"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/96d50136230df04336fc8fb6e75a22d5f08dcb84",
          "sha": "96d50136230df04336fc8fb6e75a22d5f08dcb84",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/96d50136230df04336fc8fb6e75a22d5f08dcb84"
        }
      ],
      "message": "wallet: Keep secnonces in DescriptorScriptPubKeyMan",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:27:59Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-12T22:33:44Z"
      },
      "sha": "463b768dd2419810273caa08aa585439ba54fc91"
    },
    {
      "event": "commented",
      "id": 2007648581,
      "node_id": "IC_kwDOABII5853qklF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2007648581",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T16:37:34Z",
      "updated_at": "2024-03-19T17:09:59Z",
      "author_association": "MEMBER",
      "body": "> Huh, works fine for me.\r\n\r\nThis was on Intel macOS 14.4 with a clean checkout and `./configure --disable-bench --disable-tests --enable-wallet --disable-fuzz-binary --disable-zmq --with-gui`.\r\n\r\nOn Ubuntu 23.10 with gcc 13.2.0 the test do pass, odd.\r\n\r\n(if this still happens after CI passes, I'll dig a bit deeper, for now I'll just test on Ubuntu)\r\n\r\n> I don't think we can store the nonces in the wallet file.\r\n\r\nStoring them in some other file might be fine too. As long as we delete it upon read, don't sign anything if deletion fails and maybe also commit to some unique property of the PSBT.\r\n\r\n> Currently it just ignores if there is already a nonce for a participant's key. \r\n\r\nI guess we need to distinguish here between a nonce for our own key and one for other participants. We have no idea if some other node crashed. But it does seem reasonable to fail if we see a nonce for ourselves. Whether we previously crashed or if someone is trying a replay attack doesn't really matter. Though it's unusual for `processpsbt` to fail when called twice normally, here it seems justifiable.\r\n\r\n--- \r\n\r\nUpdate: successfully completed the MuSig2 signing on Ubuntu! ",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29675#issuecomment-2007648581",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29675"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM3ZGU3ODJlMzUyNDQwMDlmNGJjZGJhZDZmYjJjZDI2OTQwYjliMmU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c7de782e35244009f4bcdbad6fb2cd26940b9b2e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c7de782e35244009f4bcdbad6fb2cd26940b9b2e",
      "tree": {
        "sha": "f47833fbe25208a48c5dad980a76b7136d0b0d93",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f47833fbe25208a48c5dad980a76b7136d0b0d93"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/463b768dd2419810273caa08aa585439ba54fc91",
          "sha": "463b768dd2419810273caa08aa585439ba54fc91",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/463b768dd2419810273caa08aa585439ba54fc91"
        }
      ],
      "message": "psbt: Implement un/ser of musig2 fields",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:40:43Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-19T20:13:02Z"
      },
      "sha": "c7de782e35244009f4bcdbad6fb2cd26940b9b2e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg2Mjk0NGI3ZDZkNjc0YmU0NDQxZGNlMWNhZTEzZDhhOGFiYTc5YTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/862944b7d6d674be4441dce1cae13d8a8aba79a2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/862944b7d6d674be4441dce1cae13d8a8aba79a2",
      "tree": {
        "sha": "baf31804a81ffdf801370348fea34a1674cc977b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/baf31804a81ffdf801370348fea34a1674cc977b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c7de782e35244009f4bcdbad6fb2cd26940b9b2e",
          "sha": "c7de782e35244009f4bcdbad6fb2cd26940b9b2e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c7de782e35244009f4bcdbad6fb2cd26940b9b2e"
        }
      ],
      "message": "rpc: Include MuSig2 fields in decodepsbt",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:40:43Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-19T23:03:40Z"
      },
      "sha": "862944b7d6d674be4441dce1cae13d8a8aba79a2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYzN2EyZmI2YmVkYThjMDQzMjkzZjk5YzA3NmRiMWVkMDczNjAxZjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f37a2fb6beda8c043293f99c076db1ed073601f5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f37a2fb6beda8c043293f99c076db1ed073601f5",
      "tree": {
        "sha": "a2f4bb5142872b33723b88c8986007f5786ee31d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a2f4bb5142872b33723b88c8986007f5786ee31d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/862944b7d6d674be4441dce1cae13d8a8aba79a2",
          "sha": "862944b7d6d674be4441dce1cae13d8a8aba79a2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/862944b7d6d674be4441dce1cae13d8a8aba79a2"
        }
      ],
      "message": "psbt: MuSig2 data in Fill/FromSignatureData",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:40:43Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-19T20:28:21Z"
      },
      "sha": "f37a2fb6beda8c043293f99c076db1ed073601f5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRhYTJlMmVmNzJiMWQwZDcwODJhNzNhZGExMDkyOWU4YTI3YTg3MjM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4aa2e2ef72b1d0d7082a73ada10929e8a27a8723",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4aa2e2ef72b1d0d7082a73ada10929e8a27a8723",
      "tree": {
        "sha": "9229daeae222107a6924d30ed7f0216e385b85bf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9229daeae222107a6924d30ed7f0216e385b85bf"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f37a2fb6beda8c043293f99c076db1ed073601f5",
          "sha": "f37a2fb6beda8c043293f99c076db1ed073601f5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f37a2fb6beda8c043293f99c076db1ed073601f5"
        }
      ],
      "message": "psbt: Use specified sighash or SIGHASH_DEFAULT when dummy signing\n\nWhen dummy signing for finalizing, use either the specificed sighash, or\nSIGHASH_DEFAULT, rather than always SIGHASH_ALL.\n\nFor outputs, just use SIGHASH_DEFAULT.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:40:43Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-02-26T21:56:06Z"
      },
      "sha": "4aa2e2ef72b1d0d7082a73ada10929e8a27a8723"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM2ZDA0MzNmYjVlODlmNTk4YzU1OWUzZGI1ZGI5NTViMzU5MjgxMmQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c6d0433fb5e89f598c559e3db5db955b3592812d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c6d0433fb5e89f598c559e3db5db955b3592812d",
      "tree": {
        "sha": "3c106623a9f0036535685410a8d41afac821c2c5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3c106623a9f0036535685410a8d41afac821c2c5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4aa2e2ef72b1d0d7082a73ada10929e8a27a8723",
          "sha": "4aa2e2ef72b1d0d7082a73ada10929e8a27a8723",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4aa2e2ef72b1d0d7082a73ada10929e8a27a8723"
        }
      ],
      "message": "test: Test MuSig2 in the wallet",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-19T16:40:43Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-03-04T21:34:42Z"
      },
      "sha": "c6d0433fb5e89f598c559e3db5db955b3592812d"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12172489751,
      "node_id": "HRFPE_lADOABII586CvrSDzwAAAALViXQX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12172489751",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T16:41:14Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530133148",
      "pull_request_review_id": 1945828953,
      "id": 1530133148,
      "node_id": "PRRC_kwDOABII585bM_qc",
      "diff_hunk": "@@ -0,0 +1,188 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2024 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+import re\n+\n+from test_framework.descriptors import descsum_create\n+from test_framework.key import H_POINT\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.wallet_util import WalletUnlock\n+\n+PRIVKEY_RE = re.compile(r\"^tr\\((.+?)/.+\\)#.{8}$\")\n+PUBKEY_RE = re.compile(r\"^tr\\((\\[.+?\\].+?)/.+\\)#.{8}$\")\n+ORIGIN_PATH_RE = re.compile(r\"^\\[\\w{8}(/.*)\\].*$\")\n+MULTIPATH_RE = re.compile(r\"(.*?)<(\\d+);(\\d+)>\")\n+\n+\n+class WalletMuSigTest(BitcoinTestFramework):\n+    WALLET_NUM = 0\n+    def add_options(self, parser):\n+        self.add_wallet_options(parser, legacy=False)\n+\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def do_test(self, comment, pattern):\n+        self.log.info(f\"Testing {comment}\")\n+        def_wallet = self.nodes[0].get_wallet_rpc(self.default_wallet_name)\n+        has_int = \"<\" in pattern and \">\" in pattern\n+\n+        wallets = []\n+        keys = []\n+\n+        pat = pattern.replace(\"$H\", H_POINT)\n+\n+        # Figure out how many wallets are needed and create them\n+        exp_key_leaf = 0\n+        for i in range(10):\n+            if f\"${i}\" in pat:\n+                exp_key_leaf += pat.count(f\"${i}\")\n+                wallet_name = f\"musig_{self.WALLET_NUM}\"\n+                self.WALLET_NUM += 1\n+                self.nodes[0].createwallet(wallet_name)\n+                wallet = self.nodes[0].get_wallet_rpc(wallet_name)\n+                wallets.append(wallet)\n+\n+                for priv_desc in wallet.listdescriptors(True)[\"descriptors\"]:\n+                    desc = priv_desc[\"desc\"]\n+                    if not desc.startswith(\"tr(\"):\n+                        continue\n+                    privkey = PRIVKEY_RE.search(desc).group(1)\n+                    break\n+                for pub_desc in wallet.listdescriptors()[\"descriptors\"]:\n+                    desc = pub_desc[\"desc\"]\n+                    if not desc.startswith(\"tr(\"):\n+                        continue\n+                    pubkey = PUBKEY_RE.search(desc).group(1)\n+                    # Since the pubkey is derived from the private key that we have, we need\n+                    # to extract and insert the origin path from the pubkey as well.\n+                    privkey += ORIGIN_PATH_RE.search(pubkey).group(1)\n+                    break\n+                keys.append((privkey, pubkey))\n+\n+        # Construct and import each wallet's musig descriptor\n+        for i, wallet in enumerate(wallets):\n+            desc = pat\n+            import_descs = []\n+            for j, (priv, pub) in enumerate(keys):\n+                if j == i:\n+                    desc = desc.replace(f\"${i}\", priv)\n+                else:\n+                    desc = desc.replace(f\"${j}\", pub)\n+\n+            # Deal with the multipath descriptor syntax for external and internal\n+            if has_int:\n+                ext_desc = \"\"\n+                int_desc = \"\"\n+                for m in MULTIPATH_RE.finditer(desc):\n+                    ext_desc += m.group(1) + m.group(2)\n+                    int_desc += m.group(1) + m.group(3)\n+                postfix = desc.split(\">\")[-1]\n+                ext_desc += postfix\n+                int_desc += postfix\n+\n+                import_descs.append({\n+                    \"desc\": descsum_create(int_desc),\n+                    \"active\": True,\n+                    \"internal\": True,\n+                    \"timestamp\": \"now\",\n+                })\n+            else:\n+                ext_desc = desc\n+\n+            import_descs.append({\n+                \"desc\": descsum_create(ext_desc),\n+                \"active\": True,\n+                \"internal\": False,\n+                \"timestamp\": \"now\",\n+            })\n+\n+            res = wallet.importdescriptors(import_descs)\n+            for r in res:\n+                assert_equal(r[\"success\"], True)\n+\n+        # Check that the wallets agree on the same musig address\n+        addr = None\n+        change_addr = None\n+        for wallet in wallets:\n+            if addr is None:\n+                addr = wallet.getnewaddress(address_type=\"bech32m\")\n+            else:\n+                assert_equal(addr, wallet.getnewaddress(address_type=\"bech32m\"))\n+            if has_int:\n+                if change_addr is None:\n+                    change_addr = wallet.getrawchangeaddress(address_type=\"bech32m\")\n+                else:\n+                    assert_equal(change_addr, wallet.getrawchangeaddress(address_type=\"bech32m\"))\n+\n+        # Fund that address\n+        def_wallet.sendtoaddress(addr, 10)\n+        self.generate(self.nodes[0], 1)\n+\n+        # Spend that UTXO\n+        utxo = wallets[0].listunspent()[0]\n+        psbt = wallets[0].send(outputs=[{def_wallet.getnewaddress(): 5}], inputs=[utxo], change_type=\"bech32m\")[\"psbt\"]\n+\n+        dec_psbt = self.nodes[0].decodepsbt(psbt)\n+        assert_equal(len(dec_psbt[\"inputs\"]), 1)\n+        assert_equal(len(dec_psbt[\"inputs\"][0][\"musig2_participant_pubkeys\"]), pattern.count(\"musig(\"))\n+\n+        # Retrieve all participant pubkeys\n+        part_pks = set()\n+        for agg in dec_psbt[\"inputs\"][0][\"musig2_participant_pubkeys\"]:\n+            for part_pub in agg[\"participant_pubkeys\"]:\n+                part_pks.add(part_pub[2:])\n+        # Check that there are as many participants as we expected\n+        assert_equal(len(part_pks), len(keys))\n+        # Check that each participant has a derivation path\n+        for deriv_path in dec_psbt[\"inputs\"][0][\"taproot_bip32_derivs\"]:\n+            if deriv_path[\"pubkey\"] in part_pks:\n+                part_pks.remove(deriv_path[\"pubkey\"])\n+        assert_equal(len(part_pks), 0)\n+\n+        nonce_psbts = []",
      "path": "test/functional/wallet_musig.py",
      "position": 149,
      "original_position": 149,
      "commit_id": "c6d0433fb5e89f598c559e3db5db955b3592812d",
      "original_commit_id": "a1e4c323dbff9fa5095cf216d7cd528f10a1feeb",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "a1e4c323dbff9fa5095cf216d7cd528f10a1feeb: I assume this where the first nonce collection round starts, maybe say so in a comment?",
      "created_at": "2024-03-19T10:49:30Z",
      "updated_at": "2024-03-19T14:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29675#discussion_r1530133148",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530133148"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29675"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 149,
      "original_line": 149,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530136029",
      "pull_request_review_id": 1945828953,
      "id": 1530136029,
      "node_id": "PRRC_kwDOABII585bNAXd",
      "diff_hunk": "@@ -0,0 +1,188 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2024 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+import re\n+\n+from test_framework.descriptors import descsum_create\n+from test_framework.key import H_POINT\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.wallet_util import WalletUnlock\n+\n+PRIVKEY_RE = re.compile(r\"^tr\\((.+?)/.+\\)#.{8}$\")\n+PUBKEY_RE = re.compile(r\"^tr\\((\\[.+?\\].+?)/.+\\)#.{8}$\")\n+ORIGIN_PATH_RE = re.compile(r\"^\\[\\w{8}(/.*)\\].*$\")\n+MULTIPATH_RE = re.compile(r\"(.*?)<(\\d+);(\\d+)>\")\n+\n+\n+class WalletMuSigTest(BitcoinTestFramework):\n+    WALLET_NUM = 0\n+    def add_options(self, parser):\n+        self.add_wallet_options(parser, legacy=False)\n+\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def do_test(self, comment, pattern):\n+        self.log.info(f\"Testing {comment}\")\n+        def_wallet = self.nodes[0].get_wallet_rpc(self.default_wallet_name)\n+        has_int = \"<\" in pattern and \">\" in pattern\n+\n+        wallets = []\n+        keys = []\n+\n+        pat = pattern.replace(\"$H\", H_POINT)\n+\n+        # Figure out how many wallets are needed and create them\n+        exp_key_leaf = 0\n+        for i in range(10):\n+            if f\"${i}\" in pat:\n+                exp_key_leaf += pat.count(f\"${i}\")\n+                wallet_name = f\"musig_{self.WALLET_NUM}\"\n+                self.WALLET_NUM += 1\n+                self.nodes[0].createwallet(wallet_name)\n+                wallet = self.nodes[0].get_wallet_rpc(wallet_name)\n+                wallets.append(wallet)\n+\n+                for priv_desc in wallet.listdescriptors(True)[\"descriptors\"]:\n+                    desc = priv_desc[\"desc\"]\n+                    if not desc.startswith(\"tr(\"):\n+                        continue\n+                    privkey = PRIVKEY_RE.search(desc).group(1)\n+                    break\n+                for pub_desc in wallet.listdescriptors()[\"descriptors\"]:\n+                    desc = pub_desc[\"desc\"]\n+                    if not desc.startswith(\"tr(\"):\n+                        continue\n+                    pubkey = PUBKEY_RE.search(desc).group(1)\n+                    # Since the pubkey is derived from the private key that we have, we need\n+                    # to extract and insert the origin path from the pubkey as well.\n+                    privkey += ORIGIN_PATH_RE.search(pubkey).group(1)\n+                    break\n+                keys.append((privkey, pubkey))\n+\n+        # Construct and import each wallet's musig descriptor\n+        for i, wallet in enumerate(wallets):\n+            desc = pat\n+            import_descs = []\n+            for j, (priv, pub) in enumerate(keys):\n+                if j == i:\n+                    desc = desc.replace(f\"${i}\", priv)\n+                else:\n+                    desc = desc.replace(f\"${j}\", pub)\n+\n+            # Deal with the multipath descriptor syntax for external and internal\n+            if has_int:\n+                ext_desc = \"\"\n+                int_desc = \"\"\n+                for m in MULTIPATH_RE.finditer(desc):\n+                    ext_desc += m.group(1) + m.group(2)\n+                    int_desc += m.group(1) + m.group(3)\n+                postfix = desc.split(\">\")[-1]\n+                ext_desc += postfix\n+                int_desc += postfix\n+\n+                import_descs.append({\n+                    \"desc\": descsum_create(int_desc),\n+                    \"active\": True,\n+                    \"internal\": True,\n+                    \"timestamp\": \"now\",\n+                })\n+            else:\n+                ext_desc = desc\n+\n+            import_descs.append({\n+                \"desc\": descsum_create(ext_desc),\n+                \"active\": True,\n+                \"internal\": False,\n+                \"timestamp\": \"now\",\n+            })\n+\n+            res = wallet.importdescriptors(import_descs)\n+            for r in res:\n+                assert_equal(r[\"success\"], True)\n+\n+        # Check that the wallets agree on the same musig address\n+        addr = None\n+        change_addr = None\n+        for wallet in wallets:\n+            if addr is None:\n+                addr = wallet.getnewaddress(address_type=\"bech32m\")\n+            else:\n+                assert_equal(addr, wallet.getnewaddress(address_type=\"bech32m\"))\n+            if has_int:\n+                if change_addr is None:\n+                    change_addr = wallet.getrawchangeaddress(address_type=\"bech32m\")\n+                else:\n+                    assert_equal(change_addr, wallet.getrawchangeaddress(address_type=\"bech32m\"))\n+\n+        # Fund that address\n+        def_wallet.sendtoaddress(addr, 10)\n+        self.generate(self.nodes[0], 1)\n+\n+        # Spend that UTXO\n+        utxo = wallets[0].listunspent()[0]\n+        psbt = wallets[0].send(outputs=[{def_wallet.getnewaddress(): 5}], inputs=[utxo], change_type=\"bech32m\")[\"psbt\"]\n+\n+        dec_psbt = self.nodes[0].decodepsbt(psbt)\n+        assert_equal(len(dec_psbt[\"inputs\"]), 1)\n+        assert_equal(len(dec_psbt[\"inputs\"][0][\"musig2_participant_pubkeys\"]), pattern.count(\"musig(\"))\n+\n+        # Retrieve all participant pubkeys\n+        part_pks = set()\n+        for agg in dec_psbt[\"inputs\"][0][\"musig2_participant_pubkeys\"]:\n+            for part_pub in agg[\"participant_pubkeys\"]:\n+                part_pks.add(part_pub[2:])\n+        # Check that there are as many participants as we expected\n+        assert_equal(len(part_pks), len(keys))\n+        # Check that each participant has a derivation path\n+        for deriv_path in dec_psbt[\"inputs\"][0][\"taproot_bip32_derivs\"]:\n+            if deriv_path[\"pubkey\"] in part_pks:\n+                part_pks.remove(deriv_path[\"pubkey\"])\n+        assert_equal(len(part_pks), 0)\n+\n+        nonce_psbts = []\n+        for wallet in wallets:\n+            proc = wallet.walletprocesspsbt(psbt)\n+            assert_equal(proc[\"complete\"], False)\n+            nonce_psbts.append(proc[\"psbt\"])\n+\n+        comb_nonce_psbt = self.nodes[0].combinepsbt(nonce_psbts)\n+\n+        dec_psbt = self.nodes[0].decodepsbt(comb_nonce_psbt)\n+        assert_equal(len(dec_psbt[\"inputs\"][0][\"musig2_pubnonces\"]), exp_key_leaf)\n+\n+        psig_psbts = []",
      "path": "test/functional/wallet_musig.py",
      "position": 161,
      "original_position": 160,
      "commit_id": "c6d0433fb5e89f598c559e3db5db955b3592812d",
      "original_commit_id": "a1e4c323dbff9fa5095cf216d7cd528f10a1feeb",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "a1e4c323dbff9fa5095cf216d7cd528f10a1feeb: and that this is where round 2 happens (maybe link to the BIP at the top of the test and briefly summarise the steps)",
      "created_at": "2024-03-19T10:51:45Z",
      "updated_at": "2024-03-19T14:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29675#discussion_r1530136029",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530136029"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29675"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 161,
      "original_line": 161,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530139689",
      "pull_request_review_id": 1945828953,
      "id": 1530139689,
      "node_id": "PRRC_kwDOABII585bNBQp",
      "diff_hunk": "@@ -0,0 +1,188 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2024 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+import re\n+\n+from test_framework.descriptors import descsum_create\n+from test_framework.key import H_POINT\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal, assert_raises_rpc_error\n+from test_framework.wallet_util import WalletUnlock\n+\n+PRIVKEY_RE = re.compile(r\"^tr\\((.+?)/.+\\)#.{8}$\")\n+PUBKEY_RE = re.compile(r\"^tr\\((\\[.+?\\].+?)/.+\\)#.{8}$\")\n+ORIGIN_PATH_RE = re.compile(r\"^\\[\\w{8}(/.*)\\].*$\")\n+MULTIPATH_RE = re.compile(r\"(.*?)<(\\d+);(\\d+)>\")\n+\n+\n+class WalletMuSigTest(BitcoinTestFramework):\n+    WALLET_NUM = 0\n+    def add_options(self, parser):\n+        self.add_wallet_options(parser, legacy=False)\n+\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def do_test(self, comment, pattern):\n+        self.log.info(f\"Testing {comment}\")\n+        def_wallet = self.nodes[0].get_wallet_rpc(self.default_wallet_name)\n+        has_int = \"<\" in pattern and \">\" in pattern\n+\n+        wallets = []\n+        keys = []\n+\n+        pat = pattern.replace(\"$H\", H_POINT)\n+\n+        # Figure out how many wallets are needed and create them\n+        exp_key_leaf = 0\n+        for i in range(10):\n+            if f\"${i}\" in pat:\n+                exp_key_leaf += pat.count(f\"${i}\")\n+                wallet_name = f\"musig_{self.WALLET_NUM}\"\n+                self.WALLET_NUM += 1\n+                self.nodes[0].createwallet(wallet_name)\n+                wallet = self.nodes[0].get_wallet_rpc(wallet_name)\n+                wallets.append(wallet)\n+\n+                for priv_desc in wallet.listdescriptors(True)[\"descriptors\"]:\n+                    desc = priv_desc[\"desc\"]\n+                    if not desc.startswith(\"tr(\"):\n+                        continue\n+                    privkey = PRIVKEY_RE.search(desc).group(1)\n+                    break\n+                for pub_desc in wallet.listdescriptors()[\"descriptors\"]:\n+                    desc = pub_desc[\"desc\"]\n+                    if not desc.startswith(\"tr(\"):\n+                        continue\n+                    pubkey = PUBKEY_RE.search(desc).group(1)\n+                    # Since the pubkey is derived from the private key that we have, we need\n+                    # to extract and insert the origin path from the pubkey as well.\n+                    privkey += ORIGIN_PATH_RE.search(pubkey).group(1)\n+                    break\n+                keys.append((privkey, pubkey))\n+\n+        # Construct and import each wallet's musig descriptor\n+        for i, wallet in enumerate(wallets):\n+            desc = pat\n+            import_descs = []\n+            for j, (priv, pub) in enumerate(keys):\n+                if j == i:\n+                    desc = desc.replace(f\"${i}\", priv)\n+                else:\n+                    desc = desc.replace(f\"${j}\", pub)\n+\n+            # Deal with the multipath descriptor syntax for external and internal\n+            if has_int:\n+                ext_desc = \"\"\n+                int_desc = \"\"\n+                for m in MULTIPATH_RE.finditer(desc):\n+                    ext_desc += m.group(1) + m.group(2)\n+                    int_desc += m.group(1) + m.group(3)\n+                postfix = desc.split(\">\")[-1]\n+                ext_desc += postfix\n+                int_desc += postfix\n+\n+                import_descs.append({\n+                    \"desc\": descsum_create(int_desc),\n+                    \"active\": True,\n+                    \"internal\": True,\n+                    \"timestamp\": \"now\",\n+                })\n+            else:\n+                ext_desc = desc\n+\n+            import_descs.append({\n+                \"desc\": descsum_create(ext_desc),\n+                \"active\": True,\n+                \"internal\": False,\n+                \"timestamp\": \"now\",\n+            })\n+\n+            res = wallet.importdescriptors(import_descs)\n+            for r in res:\n+                assert_equal(r[\"success\"], True)\n+\n+        # Check that the wallets agree on the same musig address\n+        addr = None\n+        change_addr = None\n+        for wallet in wallets:\n+            if addr is None:\n+                addr = wallet.getnewaddress(address_type=\"bech32m\")\n+            else:\n+                assert_equal(addr, wallet.getnewaddress(address_type=\"bech32m\"))\n+            if has_int:\n+                if change_addr is None:\n+                    change_addr = wallet.getrawchangeaddress(address_type=\"bech32m\")\n+                else:\n+                    assert_equal(change_addr, wallet.getrawchangeaddress(address_type=\"bech32m\"))\n+\n+        # Fund that address\n+        def_wallet.sendtoaddress(addr, 10)\n+        self.generate(self.nodes[0], 1)\n+\n+        # Spend that UTXO\n+        utxo = wallets[0].listunspent()[0]\n+        psbt = wallets[0].send(outputs=[{def_wallet.getnewaddress(): 5}], inputs=[utxo], change_type=\"bech32m\")[\"psbt\"]\n+\n+        dec_psbt = self.nodes[0].decodepsbt(psbt)\n+        assert_equal(len(dec_psbt[\"inputs\"]), 1)\n+        assert_equal(len(dec_psbt[\"inputs\"][0][\"musig2_participant_pubkeys\"]), pattern.count(\"musig(\"))\n+\n+        # Retrieve all participant pubkeys\n+        part_pks = set()\n+        for agg in dec_psbt[\"inputs\"][0][\"musig2_participant_pubkeys\"]:\n+            for part_pub in agg[\"participant_pubkeys\"]:\n+                part_pks.add(part_pub[2:])\n+        # Check that there are as many participants as we expected\n+        assert_equal(len(part_pks), len(keys))\n+        # Check that each participant has a derivation path\n+        for deriv_path in dec_psbt[\"inputs\"][0][\"taproot_bip32_derivs\"]:\n+            if deriv_path[\"pubkey\"] in part_pks:\n+                part_pks.remove(deriv_path[\"pubkey\"])\n+        assert_equal(len(part_pks), 0)\n+\n+        nonce_psbts = []\n+        for wallet in wallets:\n+            proc = wallet.walletprocesspsbt(psbt)\n+            assert_equal(proc[\"complete\"], False)\n+            nonce_psbts.append(proc[\"psbt\"])\n+\n+        comb_nonce_psbt = self.nodes[0].combinepsbt(nonce_psbts)\n+\n+        dec_psbt = self.nodes[0].decodepsbt(comb_nonce_psbt)\n+        assert_equal(len(dec_psbt[\"inputs\"][0][\"musig2_pubnonces\"]), exp_key_leaf)\n+\n+        psig_psbts = []\n+        for wallet in wallets:\n+            proc = wallet.walletprocesspsbt(comb_nonce_psbt)\n+            assert_equal(proc[\"complete\"], False)\n+            psig_psbts.append(proc[\"psbt\"])\n+\n+        comb_psig_psbt = self.nodes[0].combinepsbt(psig_psbts)",
      "path": "test/functional/wallet_musig.py",
      "position": 167,
      "original_position": 166,
      "commit_id": "c6d0433fb5e89f598c559e3db5db955b3592812d",
      "original_commit_id": "a1e4c323dbff9fa5095cf216d7cd528f10a1feeb",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "a1e4c323dbff9fa5095cf216d7cd528f10a1feeb: because all wallets live on the same node, it's useful to point out here that _anyone_, including non-participants can combine the partial signatures. Which is why the non-wallet `combinepsbt` and `finalizepsbt` RPC's are used.",
      "created_at": "2024-03-19T10:54:32Z",
      "updated_at": "2024-03-19T14:22:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29675#discussion_r1530139689",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530139689"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29675"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 167,
      "original_line": 167,
      "side": "RIGHT"
    }
  ]
}