{
  "type": "issue",
  "issue": {
    "id": 2034276059,
    "node_id": "I_kwDOABII5855QJbb",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29046",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29046/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29046/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29046/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/29046",
    "number": 29046,
    "state": "open",
    "state_reason": null,
    "title": "Nit: Inconsistency in the docs regarding block-relay-only connections",
    "body": "I was looking into why my node was frequently opening new block-relay-only connections even though it already had two such nodes connected, and while this appears to be intended behavior to counter eclipse attacks, while searching the codebase for this I encountered a minor contradiction in the docs.\r\n\r\nSpecifically, [doc/reduce-memory.md](https://github.com/bitcoin/bitcoin/blob/3e691258d8789a4a89cce42e7e71b130491594d7/doc/reduce-memory.md?plain=1#L29) says:\r\n\r\n```\r\n- `-maxconnections=<n>` - the maximum number of connections, which defaults to 125. Each active connection takes up some\r\n  memory. This option applies only if inbound connections are enabled; otherwise, the number of connections will not\r\n  be more than 11. Of the 11 outbound peers, there can be 8 full-relay connections, 2 block-relay-only ones,\r\n  and occasionally 1 short-lived feeler or extra outbound block-relay-only connection.\r\n```\r\n\r\nWhile [doc/reduce-traffic.md](https://github.com/bitcoin/bitcoin/blob/3e691258d8789a4a89cce42e7e71b130491594d7/doc/reduce-traffic.md?plain=1#L9) says:\r\n\r\n```\r\nBy default, Bitcoin Core allows up to 125 connections to different peers, 10 of\r\nwhich are outbound. You can therefore, have at most 115 inbound connections.\r\nOf the 10 outbound peers, there can be 8 full-relay connections and 2\r\nblock-relay-only ones.\r\n```\r\n\r\nI'm not sure if the extra feeler/block-relay-only connection takes up one of the maxconnections slots or not, but the latter should probably be updated to reflect this behavior.",
    "user": {
      "login": "ArmchairCryptologist",
      "id": 73581993,
      "node_id": "MDQ6VXNlcjczNTgxOTkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/73581993?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ArmchairCryptologist",
      "html_url": "https://github.com/ArmchairCryptologist",
      "followers_url": "https://api.github.com/users/ArmchairCryptologist/followers",
      "following_url": "https://api.github.com/users/ArmchairCryptologist/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ArmchairCryptologist/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ArmchairCryptologist/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ArmchairCryptologist/subscriptions",
      "organizations_url": "https://api.github.com/users/ArmchairCryptologist/orgs",
      "repos_url": "https://api.github.com/users/ArmchairCryptologist/repos",
      "events_url": "https://api.github.com/users/ArmchairCryptologist/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ArmchairCryptologist/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 1,
    "created_at": "2023-12-10T08:44:39Z",
    "updated_at": "2023-12-11T10:23:37Z"
  },
  "events": [
    {
      "event": "renamed",
      "id": 11202462719,
      "node_id": "RTE_lADOABII5855QJbbzwAAAAKbuAP_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11202462719",
      "actor": {
        "login": "ArmchairCryptologist",
        "id": 73581993,
        "node_id": "MDQ6VXNlcjczNTgxOTkz",
        "avatar_url": "https://avatars.githubusercontent.com/u/73581993?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArmchairCryptologist",
        "html_url": "https://github.com/ArmchairCryptologist",
        "followers_url": "https://api.github.com/users/ArmchairCryptologist/followers",
        "following_url": "https://api.github.com/users/ArmchairCryptologist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ArmchairCryptologist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ArmchairCryptologist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ArmchairCryptologist/subscriptions",
        "organizations_url": "https://api.github.com/users/ArmchairCryptologist/orgs",
        "repos_url": "https://api.github.com/users/ArmchairCryptologist/repos",
        "events_url": "https://api.github.com/users/ArmchairCryptologist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ArmchairCryptologist/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-10T09:28:35Z",
      "rename": {
        "from": "Nit: Inconsistency in the docs regarding blocks-relay-only connections",
        "to": "Nit: Inconsistency in the docs regarding block-relay-only connections"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "MarnixCroes",
        "id": 93143998,
        "node_id": "U_kgDOBY1Dvg",
        "avatar_url": "https://avatars.githubusercontent.com/u/93143998?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarnixCroes",
        "html_url": "https://github.com/MarnixCroes",
        "followers_url": "https://api.github.com/users/MarnixCroes/followers",
        "following_url": "https://api.github.com/users/MarnixCroes/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarnixCroes/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarnixCroes/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarnixCroes/subscriptions",
        "organizations_url": "https://api.github.com/users/MarnixCroes/orgs",
        "repos_url": "https://api.github.com/users/MarnixCroes/repos",
        "events_url": "https://api.github.com/users/MarnixCroes/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarnixCroes/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T10:21:44Z",
      "updated_at": "2023-12-11T10:21:44Z",
      "source": {
        "issue": {
          "id": 2035325837,
          "node_id": "PR_kwDOABII585hqcl-",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29052",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29052/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29052/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29052/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29052",
          "number": 29052,
          "state": "open",
          "state_reason": null,
          "title": "doc/reduce-traffic: update/clarify max outbound connection count",
          "body": "closes https://github.com/bitcoin/bitcoin/issues/29046\r\n\r\n",
          "user": {
            "login": "MarnixCroes",
            "id": 93143998,
            "node_id": "U_kgDOBY1Dvg",
            "avatar_url": "https://avatars.githubusercontent.com/u/93143998?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarnixCroes",
            "html_url": "https://github.com/MarnixCroes",
            "followers_url": "https://api.github.com/users/MarnixCroes/followers",
            "following_url": "https://api.github.com/users/MarnixCroes/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarnixCroes/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarnixCroes/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarnixCroes/subscriptions",
            "organizations_url": "https://api.github.com/users/MarnixCroes/orgs",
            "repos_url": "https://api.github.com/users/MarnixCroes/repos",
            "events_url": "https://api.github.com/users/MarnixCroes/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarnixCroes/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29052",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29052",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29052.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29052.patch"
          },
          "created_at": "2023-12-11T10:21:39Z",
          "updated_at": "2023-12-11T10:21:54Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1849754763,
      "node_id": "IC_kwDOABII585uQQSL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1849754763",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T10:23:35Z",
      "updated_at": "2023-12-11T10:23:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "The short-lived feeler connections are not counted against the full outbound count:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/09ab9d4fa731866802a6a9f9aa00d92536a8b420/src/net.cpp#L2349-L2355\r\n\r\n...so reduce-traffic.md could be updated to mention that there are occasionally up to 11 outbound nodes, which it appears @MarnixCroes has just done :)",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29046#issuecomment-1849754763",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29046"
    },
    {
      "event": "mentioned",
      "id": 11208336168,
      "node_id": "MEE_lADOABII5855QJbbzwAAAAKcEaMo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11208336168",
      "actor": {
        "login": "MarnixCroes",
        "id": 93143998,
        "node_id": "U_kgDOBY1Dvg",
        "avatar_url": "https://avatars.githubusercontent.com/u/93143998?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarnixCroes",
        "html_url": "https://github.com/MarnixCroes",
        "followers_url": "https://api.github.com/users/MarnixCroes/followers",
        "following_url": "https://api.github.com/users/MarnixCroes/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarnixCroes/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarnixCroes/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarnixCroes/subscriptions",
        "organizations_url": "https://api.github.com/users/MarnixCroes/orgs",
        "repos_url": "https://api.github.com/users/MarnixCroes/repos",
        "events_url": "https://api.github.com/users/MarnixCroes/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarnixCroes/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T10:23:35Z"
    },
    {
      "event": "subscribed",
      "id": 11208336181,
      "node_id": "SE_lADOABII5855QJbbzwAAAAKcEaM1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11208336181",
      "actor": {
        "login": "MarnixCroes",
        "id": 93143998,
        "node_id": "U_kgDOBY1Dvg",
        "avatar_url": "https://avatars.githubusercontent.com/u/93143998?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarnixCroes",
        "html_url": "https://github.com/MarnixCroes",
        "followers_url": "https://api.github.com/users/MarnixCroes/followers",
        "following_url": "https://api.github.com/users/MarnixCroes/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarnixCroes/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarnixCroes/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarnixCroes/subscriptions",
        "organizations_url": "https://api.github.com/users/MarnixCroes/orgs",
        "repos_url": "https://api.github.com/users/MarnixCroes/repos",
        "events_url": "https://api.github.com/users/MarnixCroes/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarnixCroes/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T10:23:35Z"
    }
  ]
}