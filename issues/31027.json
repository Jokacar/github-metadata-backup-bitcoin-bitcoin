{
  "type": "issue",
  "issue": {
    "id": 2564450350,
    "node_id": "I_kwDOABII586Y2mgu",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31027",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31027/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31027/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31027/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31027",
    "number": 31027,
    "state": "open",
    "state_reason": null,
    "title": "Unable to cross compile on linux for macos (28.x branch)",
    "body": "### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Current behaviour\r\n\r\nRunning the command `make HOST=x86_64-apple-darwin -C depends` on Bitcoin Core 28.x no longer compiles the dependencies as expected. It fails.\r\n\r\n### Expected behaviour\r\n\r\nThe command `make HOST=x86_64-apple-darwin -C depends` should successfully compile all required dependencies without errors, as it did in previous versions of Bitcoin Core.\r\n\r\n### Steps to reproduce\r\n\r\nmake HOST=x86_64-apple-darwin -C depends -j32\r\n\r\n### Relevant log output\r\n```\r\nroot@localhost:~/.build/bitcoin-untouched# make HOST=x86_64-apple-darwin -C depends -j32\r\nmake: Entering directory '/root/.build/bitcoin-untouched/depends'\r\nFetching boost_1_81_0.tar.gz from https://archives.boost.io/release/1.81.0/source/\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100  133M  100  133M    0     0  1221k      0  0:01:52  0:01:52 --:--:-- 1183k\r\n/root/.build/bitcoin-untouched/depends/work/download/boost-1.81.0/boost_1_81_0.tar.gz.temp: OK\r\nExtracting boost...\r\n/root/.build/bitcoin-untouched/depends/sources/boost_1_81_0.tar.gz: OK\r\nPreprocessing boost...\r\nConfiguring boost...\r\nBuilding boost...\r\nStaging boost...\r\nPostprocessing boost...\r\nCaching boost...\r\nFetching libevent-2.1.12-stable.tar.gz from https://github.com/libevent/libevent/releases/download/release-2.1.12-stable/\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r\n100 1075k  100 1075k    0     0   389k      0  0:00:02  0:00:02 --:--:--  885k\r\n/root/.build/bitcoin-untouched/depends/work/download/libevent-2.1.12-stable/libevent-2.1.12-stable.tar.gz.temp: OK\r\nExtracting libevent...\r\n/root/.build/bitcoin-untouched/depends/sources/libevent-2.1.12-stable.tar.gz: OK\r\nPreprocessing libevent...\r\npatching file CMakeLists.txt\r\npatching file cmake/AddEventLibrary.cmake\r\npatching file CMakeLists.txt\r\nConfiguring libevent...\r\n-- The C compiler identification is Clang 14.0.6\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - failed\r\n-- Check for working C compiler: /usr/bin/clang\r\n-- Check for working C compiler: /usr/bin/clang - broken\r\nCMake Error at /usr/share/cmake-3.25/Modules/CMakeTestCCompiler.cmake:70 (message):\r\n  The C compiler\r\n\r\n    \"/usr/bin/clang\"\r\n\r\n  is not able to compile a simple test program.\r\n\r\n  It fails with the following output:\r\n\r\n    Change Dir: /root/.build/bitcoin-untouched/depends/work/build/x86_64-apple-darwin/libevent/2.1.12-stable-66fa9a79555/build/CMakeFiles/CMakeScratch/TryCompile-Y3lnvg\r\n\r\n    Run Build Command(s):/usr/bin/gmake -f Makefile cmTC_bccc1/fast && gmake[1]: Entering directory '/root/.build/bitcoin-untouched/depends/work/build/x86_64-apple-darwin/libevent/2.1.12-stable-66fa9a79555/build/CMakeFiles/CMakeScratch/TryCompile-Y3lnvg'\r\n    /usr/bin/gmake  -f CMakeFiles/cmTC_bccc1.dir/build.make CMakeFiles/cmTC_bccc1.dir/build\r\n    gmake[2]: Entering directory '/root/.build/bitcoin-untouched/depends/work/build/x86_64-apple-darwin/libevent/2.1.12-stable-66fa9a79555/build/CMakeFiles/CMakeScratch/TryCompile-Y3lnvg'\r\n    Building C object CMakeFiles/cmTC_bccc1.dir/testCCompiler.c.o\r\n    /usr/bin/clang  --target=x86_64-apple-darwin -isysroot/root/.build/bitcoin-untouched/depends/SDKs/Xcode-15.0-15A240d-extracted-SDK-with-libcxx-headers -nostdlibinc -iwithsysroot/usr/include -iframeworkwithsysroot/System/Library/Frameworks --target=x86_64-apple-darwin   -I/usr/local/python-3.12.6/include -I/usr/local/node-v22.9.0/include -I/usr/local/python-3.12.6/include -I/usr/local/node-v22.9.0/include  -I/root/.build/bitcoin-untouched/depends/x86_64-apple-darwin/include -D_GNU_SOURCE -D_FORTIFY_SOURCE=3  -I/usr/local/python-3.12.6/include -I/usr/local/node-v22.9.0/include -I/usr/local/python-3.12.6/include -I/usr/local/node-v22.9.0/include  -fPIE -MD -MT CMakeFiles/cmTC_bccc1.dir/testCCompiler.c.o -MF CMakeFiles/cmTC_bccc1.dir/testCCompiler.c.o.d -o CMakeFiles/cmTC_bccc1.dir/testCCompiler.c.o -c /root/.build/bitcoin-untouched/depends/work/build/x86_64-apple-darwin/libevent/2.1.12-stable-66fa9a79555/build/CMakeFiles/CMakeScratch/TryCompile-Y3lnvg/testCCompiler.c\r\n    Linking C executable cmTC_bccc1\r\n    /usr/bin/cmake -E cmake_link_script CMakeFiles/cmTC_bccc1.dir/link.txt --verbose=1\r\n    /usr/bin/clang  --target=x86_64-apple-darwin -isysroot/root/.build/bitcoin-untouched/depends/SDKs/Xcode-15.0-15A240d-extracted-SDK-with-libcxx-headers -nostdlibinc -iwithsysroot/usr/include -iframeworkwithsysroot/System/Library/Frameworks --target=x86_64-apple-darwin -I/usr/local/python-3.12.6/include -I/usr/local/node-v22.9.0/include -I/usr/local/python-3.12.6/include -I/usr/local/node-v22.9.0/include  -I/root/.build/bitcoin-untouched/depends/x86_64-apple-darwin/include -D_GNU_SOURCE -D_FORTIFY_SOURCE=3  -I/usr/local/python-3.12.6/include -I/usr/local/node-v22.9.0/include -I/usr/local/python-3.12.6/include -I/usr/local/node-v22.9.0/include  -Wl,-headerpad_max_install_names -L/usr/local/python-3.12.6/lib -L/usr/local/node-v22.9.0/lib -L/usr/local/python-3.12.6/lib -L/usr/local/node-v22.9.0/lib  -L/root/.build/bitcoin-untouched/depends/x86_64-apple-darwin/lib  CMakeFiles/cmTC_bccc1.dir/testCCompiler.c.o -o cmTC_bccc1\r\n    clang: warning: argument unused during compilation: '-nostdlibinc' [-Wunused-command-line-argument]\r\n    /usr/bin/ld: unrecognised emulation mode: acosx_version_min\r\n    Supported emulations: elf_x86_64 elf32_x86_64 elf_i386 elf_iamcu i386pep i386pe\r\n    clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n    gmake[2]: *** [CMakeFiles/cmTC_bccc1.dir/build.make:100: cmTC_bccc1] Error 1\r\n    gmake[2]: Leaving directory '/root/.build/bitcoin-untouched/depends/work/build/x86_64-apple-darwin/libevent/2.1.12-stable-66fa9a79555/build/CMakeFiles/CMakeScratch/TryCompile-Y3lnvg'\r\n    gmake[1]: *** [Makefile:127: cmTC_bccc1/fast] Error 2\r\n    gmake[1]: Leaving directory '/root/.build/bitcoin-untouched/depends/work/build/x86_64-apple-darwin/libevent/2.1.12-stable-66fa9a79555/build/CMakeFiles/CMakeScratch/TryCompile-Y3lnvg'\r\n\r\n\r\n\r\n\r\n\r\n  CMake will not be able to correctly generate this project.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:47 (project)\r\n\r\n\r\n-- Configuring incomplete, errors occurred!\r\nSee also \"/root/.build/bitcoin-untouched/depends/work/build/x86_64-apple-darwin/libevent/2.1.12-stable-66fa9a79555/build/CMakeFiles/CMakeOutput.log\".\r\nSee also \"/root/.build/bitcoin-untouched/depends/work/build/x86_64-apple-darwin/libevent/2.1.12-stable-66fa9a79555/build/CMakeFiles/CMakeError.log\".\r\nmake: *** [funcs.mk:302: /root/.build/bitcoin-untouched/depends/x86_64-apple-darwin/.libevent_stamp_configured] Error 1\r\nmake: Leaving directory '/root/.build/bitcoin-untouched/depends'\r\n```\r\n### How did you obtain Bitcoin Core\r\n\r\nCompiled from source\r\n\r\n### What version of Bitcoin Core are you using?\r\n\r\n28.x\r\n\r\n### Operating system and version\r\n\r\nDebian 12.7.0\r\n\r\n### Machine specifications\r\n\r\n_No response_",
    "user": {
      "login": "JayBitron",
      "id": 16558105,
      "node_id": "MDQ6VXNlcjE2NTU4MTA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/16558105?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JayBitron",
      "html_url": "https://github.com/JayBitron",
      "followers_url": "https://api.github.com/users/JayBitron/followers",
      "following_url": "https://api.github.com/users/JayBitron/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/JayBitron/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/JayBitron/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/JayBitron/subscriptions",
      "organizations_url": "https://api.github.com/users/JayBitron/orgs",
      "repos_url": "https://api.github.com/users/JayBitron/repos",
      "events_url": "https://api.github.com/users/JayBitron/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/JayBitron/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 0,
    "created_at": "2024-10-03T16:17:09Z",
    "updated_at": "2024-10-03T16:17:41Z"
  },
  "events": []
}