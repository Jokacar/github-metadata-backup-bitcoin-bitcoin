{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280",
    "id": 1478150495,
    "node_id": "PR_kwDOABII585YGslf",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28280",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28280.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28280.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/8e5b1615852b082c477f532242a361d02bb0baa3",
    "number": 28280,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Don't empty dbcache on prune flushes: >30% faster IBD",
    "user": {
      "login": "andrewtoth",
      "id": 237213,
      "node_id": "MDQ6VXNlcjIzNzIxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrewtoth",
      "html_url": "https://github.com/andrewtoth",
      "followers_url": "https://api.github.com/users/andrewtoth/followers",
      "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
      "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
      "repos_url": "https://api.github.com/users/andrewtoth/repos",
      "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Since https://github.com/bitcoin/bitcoin/pull/17487 we no longer need to clear the coins cache when syncing to disk. A warm coins cache significantly speeds up block connection, and only needs to be fully flushed when nearing the `dbcache` limit.\r\n\r\nFor frequent pruning flushes there's no need to empty the cache and kill connect block speed. However, simply using `Sync` in place of `Flush` actually slows down a pruned full IBD with a high `dbcache` value. This is because as the cache grows, sync takes longer since every coin in the cache is scanned to check if it's dirty. For frequent prune flushes and a large cache this constant scanning starts to really slow IBD down, and just emptying the cache on every prune becomes faster.\r\n\r\nTo fix this, we can add two pointers to each cache entry and construct a doubly linked list of dirty entries. We can then only iterate through all dirty entries on each `Sync`, and simply clear the pointers after.\r\n\r\nWith this approach a full IBD with `dbcache=16384` and `prune=550` was 34% faster than master. For default `dbcache=450` speedup was 10%. All benchmarks were run with `stopatheight=800000`.\r\n\r\n|  | prune | dbcache | time | max RSS | speedup |\r\n|-----------:|----------:|------------:|--------:|-------------:|--------------:|\r\n| master | 550 | 16384 | 8:52:57 | 2,417,464k |-|\r\n| branch | 550 | 16384 | 5:51:03 | 17,109,712k | 34% |\r\n| branch | 550 | 450 | 7:56:31 | 2,856,416k | 10.5% |\r\n| master | 0 | 16384 | 4:51:53 | 14,726,408k | - |\r\n| branch | 0 | 16384 | 4:43:13 | 17,256,760k | 2.7% |\r\n| master | 0 | 450 | 7:08:07 | 3,005,892k | - |\r\n| branch | 0 | 450 | 7:08:38 | 2,986,396k |-|\r\n\r\nWhile the 2 pointers add memory to each cache entry, it did not slow down IBD (these benchmarks also had a 3rd pointer, which is now removed so memory will be even less). For non-pruned IBD results were similar for this branch and master. A non-pruned IBD with full `dbcache` to tip ended up using 15% more memory, but it was also 2.7% faster somehow. For smaller `dbcache` values the `dbcache` limit is respected so does not consume more memory, and the potentially more frequent flushes were not significant enough to cause any slowdown.\r\n\r\nInspired by [this comment](https://github.com/bitcoin/bitcoin/pull/15265#issuecomment-457720636).\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/11315.",
    "labels": [],
    "created_at": "2023-08-16T22:38:19Z",
    "updated_at": "2023-08-18T17:12:33Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "653f8d6a66198ae87415c1a2ade9b31e01f32249",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "andrewtoth:sync-dirty",
      "ref": "sync-dirty",
      "sha": "8e5b1615852b082c477f532242a361d02bb0baa3",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 156145027,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNTYxNDUwMjc=",
        "name": "bitcoin",
        "full_name": "andrewtoth/bitcoin",
        "owner": {
          "login": "andrewtoth",
          "id": 237213,
          "node_id": "MDQ6VXNlcjIzNzIxMw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/andrewtoth",
          "html_url": "https://github.com/andrewtoth",
          "followers_url": "https://api.github.com/users/andrewtoth/followers",
          "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
          "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
          "repos_url": "https://api.github.com/users/andrewtoth/repos",
          "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/andrewtoth/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/andrewtoth/bitcoin",
        "archive_url": "https://api.github.com/repos/andrewtoth/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/andrewtoth/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/andrewtoth/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/andrewtoth/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/andrewtoth/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/andrewtoth/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/andrewtoth/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/andrewtoth/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/andrewtoth/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/andrewtoth/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/andrewtoth/bitcoin/events",
        "forks_url": "https://api.github.com/repos/andrewtoth/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/andrewtoth/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/andrewtoth/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/andrewtoth/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/andrewtoth/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/andrewtoth/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/andrewtoth/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/andrewtoth/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/andrewtoth/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/andrewtoth/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:andrewtoth/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/andrewtoth/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/andrewtoth/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/andrewtoth/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/andrewtoth/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/andrewtoth/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/andrewtoth/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/andrewtoth/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/andrewtoth/bitcoin/hooks",
        "svn_url": "https://github.com/andrewtoth/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 219278,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-18T17:12:26Z",
        "created_at": "2018-11-05T01:43:59Z",
        "updated_at": "2022-12-23T04:16:30Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "9b066da8af77f971046a42118fd65046321bed1b",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35552,
        "stargazers_count": 70974,
        "watchers_count": 70974,
        "size": 236836,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-18T17:51:12Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-18T17:02:00Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 142,
    "deletions": 67,
    "changed_files": 8,
    "commits": 4,
    "review_comments": 4,
    "comments": 1
  },
  "events": [
    {
      "event": "commented",
      "id": 1681358199,
      "node_id": "IC_kwDOABII585kN313",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1681358199",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-16T22:38:21Z",
      "updated_at": "2023-08-17T05:07:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28233](https://github.com/bitcoin/bitcoin/pull/28233) (validation: don't clear cache on periodic flush by andrewtoth)\n* [#28216](https://github.com/bitcoin/bitcoin/pull/28216) (fuzz: a new target for the coins database by darosior)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#issuecomment-1681358199",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280"
    },
    {
      "event": "reviewed",
      "id": 1581554153,
      "node_id": "PRR_kwDOABII585eRJnp",
      "url": null,
      "actor": null,
      "commit_id": "dbd663c4461cf0d8f478d46e224a966293db3bd3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#pullrequestreview-1581554153",
      "submitted_at": "2023-08-16T23:14:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T05:48:32Z",
      "updated_at": "2023-08-17T05:48:32Z",
      "source": {
        "issue": {
          "id": 1839616362,
          "node_id": "PR_kwDOABII585XWA3I",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28233",
          "number": 28233,
          "state": "open",
          "state_reason": null,
          "title": "validation: don't clear cache on periodic flush",
          "body": "Since https://github.com/bitcoin/bitcoin/pull/17487 we no longer need to clear the coins cache when syncing to disk. [A warm coins cache significantly speeds up block connection](https://github.com/bitcoin/bitcoin/pull/18941#issuecomment-633684774), and only needs to be fully flushed when nearing the `dbcache` limit.\r\n\r\nPeriodic flushes occur every 24 hours, which empties the cache and causes block connection to slow down. By keeping the cache through periodic flushes a node can run for several days with an increasingly hotter cache and connect blocks much more quickly.\r\n\r\nAlso note that this still clears the cache for pruning flushes. Having frequent pruning flushes with a large cache that doesn't clear is less performant than the status quo https://github.com/bitcoin/bitcoin/pull/15265#issuecomment-458657451. See https://github.com/bitcoin/bitcoin/pull/28280.",
          "user": {
            "login": "andrewtoth",
            "id": 237213,
            "node_id": "MDQ6VXNlcjIzNzIxMw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andrewtoth",
            "html_url": "https://github.com/andrewtoth",
            "followers_url": "https://api.github.com/users/andrewtoth/followers",
            "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
            "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
            "repos_url": "https://api.github.com/users/andrewtoth/repos",
            "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28233",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28233",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28233.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28233.patch"
          },
          "created_at": "2023-08-07T14:44:40Z",
          "updated_at": "2023-08-18T15:28:49Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T06:18:52Z",
      "updated_at": "2023-08-17T06:18:52Z",
      "source": {
        "issue": {
          "id": 1836664702,
          "node_id": "PR_kwDOABII585XMXKB",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28216",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28216/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28216/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28216/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28216",
          "number": 28216,
          "state": "open",
          "state_reason": null,
          "title": "fuzz: a new target for the coins database",
          "body": "Similarly to #28209, this introduces a fuzz target for `CCoinsViewDb` by using an in-memory LevelDB. We reuse the body of the existing fuzz target for `coins_view`.\r\n\r\nThis is based on #28215, which fixes a couple mistakes in the `coins_view` fuzz logic exposed by this new target.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28216",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28216",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28216.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28216.patch"
          },
          "created_at": "2023-08-04T12:31:16Z",
          "updated_at": "2023-08-17T11:54:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10123512171,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJbaIlr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10123512171",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T20:10:20Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10123555599,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJbaTMP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10123555599",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T20:15:59Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10124422402,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJbdm0C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10124422402",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T22:31:30Z"
    },
    {
      "event": "labeled",
      "id": 10124422736,
      "node_id": "LE_lADOABII585ugaXwzwAAAAJbdm5Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10124422736",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T22:31:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 10130705083,
      "node_id": "UNLE_lADOABII585ugaXwzwAAAAJb1kq7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10130705083",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-18T14:35:06Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYxOTA5ZDUzZDU1NmY2MjA0YTdiMGM5MzFlMjJiNWJhN2FjNGMzNzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f1909d53d556f6204a7b0c931e22b5ba7ac4c370",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f1909d53d556f6204a7b0c931e22b5ba7ac4c370",
      "tree": {
        "sha": "1c58d95fdbacd1139435fdde07bf756cc9eb134d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1c58d95fdbacd1139435fdde07bf756cc9eb134d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1c58d95fdbacd1139435fdde07bf756cc9eb134d\nparent 9b066da8af77f971046a42118fd65046321bed1b\nauthor Andrew Toth <andrewstoth@gmail.com> 1692378369 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1692378423 -0400\n\ncoins: track dirty cache entries in doubly linked list\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmTfpTcACgkQYAB6/Ik4\nsBhzSQ/+LA0n6k3FEhJV3uX7LOQ8FjKVbCgor+yHU0DEtbzXIn1fchfKgsi6G4o0\nBEHGw/9qMQdx6fxAQTlGjFrOtHZLuP+TR2zhiZP1jQ+U/RUvLL4Dd7VjW2+MhE6/\nXUxxunq1JMGkWKzq3Yfl7zvFrJp7KIS2V88onf9E90HbtQOIK+P8Qy8YMCL0OjFY\nboo/0AE3dsmQPRx7Ft8T+lbH/5b5nJNg1yUZzPCr4Ux31e9T80h2Wk7OcYwQCEGB\nNCfEGsUTxsLH90AHW4ZfI6qbExY8s0IgZ/f+p4RrAtt0LOsBUDDktUiNXQhkeIVO\nvObSCe/vQNldBubn2LOc4zJPh4PktNrXURA2TCbiGdqFycHrksIkHpWrxrI7q7XD\nKHTSBtQWr5tabMM/Pzj6eTo8QF4O1LDcGH2ILm9Q9Bjy0Li0TRCjTRxL3W2G9JQQ\n63oGyg4R2eAgs/Mihf1a7w+DG5v5FsU5Trad/+5CpBpGonCt1oRPIMNtN6q9eR0c\nPaNTbCVfXFml2Itqav6WQYhA8gbmIWiYlez7lUZ9MmLY+X0F9K0UM3cA6E72v+t3\n8OfA5Ww7/vhvc6b1ICByHlhjS1w7EFwC49PABqmllLYthOELArJP7776sg0pXbaW\nsGujjf9d034HlHbAk7mlhMH+16uU0cbm7lxvYK95pNEtQ+GHMws=\n=mEKa\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9b066da8af77f971046a42118fd65046321bed1b",
          "sha": "9b066da8af77f971046a42118fd65046321bed1b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9b066da8af77f971046a42118fd65046321bed1b"
        }
      ],
      "message": "coins: track dirty cache entries in doubly linked list",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-18T17:07:03Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-18T17:06:09Z"
      },
      "sha": "f1909d53d556f6204a7b0c931e22b5ba7ac4c370"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZiMTFjNjBjN2JlMjE5ZTMxY2Y2NTY3YjdlYWZmMjFjN2IwOWFkNzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fb11c60c7be219e31cf6567b7eaff21c7b09ad76",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fb11c60c7be219e31cf6567b7eaff21c7b09ad76",
      "tree": {
        "sha": "f9d1cc03fb3cd988d85d28c30383dcc1bef3203c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f9d1cc03fb3cd988d85d28c30383dcc1bef3203c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f9d1cc03fb3cd988d85d28c30383dcc1bef3203c\nparent f1909d53d556f6204a7b0c931e22b5ba7ac4c370\nauthor Andrew Toth <andrewstoth@gmail.com> 1692378380 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1692378423 -0400\n\ntest: update coins tests to use doubly linked list for dirty entries\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmTfpTcACgkQYAB6/Ik4\nsBjXnw//bP14lK5y/M4EtBQhS0Asg9s6Xpt+hYue3Lnpm8Ybajj6iinX1FsXF+f6\ni8SKhZ5Fcz8tomBpOlUJnw9TIUhpuZ9Z3eUji0h60hLy4F1SFmHz1e9xMYVNZgNG\nxWKvyicHlzXxBLmZ8ybu9QC/fEDg27YChhMT5wwCnME+KmiqGv9gTALQmZS1Hyxe\nsEn6XLgZ4E9PoWKZ0z21IdPVY7ssKP1CKSci5qmfW1gMseKsp9flmYtKDYdCg9zN\nI5wGvjzleX9IRLfrfbDtnYu4kzDpvdMaOQ63e0R7Cfw/hDaU3wE6eEPHcJtpMvbQ\nkYqzAOWTWAxGK5Viq2492Cp+foFAqEBEof1pgyEJsEAQMbGh8d+N892jd+zpTN8F\nLxAKkNjNhcYtgeQ+H3boURGRljjMrOwV2C0+upmwJqch8awNqxLYThsBmgjA51qw\ndIB6cptsj+yywYEIx5vz3SJuDFoktzrVnmStSxatZ2QosFYZhWF51kbprQUVajh6\nI+2vmrqu3WOm7gR/JLWD+bE1fuWMpLRSvfwy/g4s6xL0XazR7PiriQqorM3KPs80\naMut9LQ17xHreUY+lt3Khc2ocBhSUFLLefL9tqStJnQykdsX4QHa7cmsyXPN2nPb\nJHip9G+C8WTJ9QAkHDauBUeBEfzP03yND2EEALmfqn4J8j0aL6g=\n=GLkx\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f1909d53d556f6204a7b0c931e22b5ba7ac4c370",
          "sha": "f1909d53d556f6204a7b0c931e22b5ba7ac4c370",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f1909d53d556f6204a7b0c931e22b5ba7ac4c370"
        }
      ],
      "message": "test: update coins tests to use doubly linked list for dirty entries",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-18T17:07:03Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-18T17:06:20Z"
      },
      "sha": "fb11c60c7be219e31cf6567b7eaff21c7b09ad76"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGUwMjAwNTNiZTQ0Y2UwYjYwMDliODZmMTU3ZGM0NDE5NGIzN2ZlNzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e020053be44ce0b6009b86f157dc44194b37fe75",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e020053be44ce0b6009b86f157dc44194b37fe75",
      "tree": {
        "sha": "9795baeaf58c7de7df5f7ab9790ff5f9122bdc88",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9795baeaf58c7de7df5f7ab9790ff5f9122bdc88"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9795baeaf58c7de7df5f7ab9790ff5f9122bdc88\nparent fb11c60c7be219e31cf6567b7eaff21c7b09ad76\nauthor Andrew Toth <andrewstoth@gmail.com> 1692378393 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1692378423 -0400\n\nfuzz: update coins targets to use doubly linked list for dirty entries\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmTfpTcACgkQYAB6/Ik4\nsBiucg//bbzxKvHEiHU4fChxWg59GkkP1rlhTjmgBHCPmgSPxMuF5i6m8JPi2w6E\nVQUCmgCB0kqmGI22QcaPUmFzjOcEW4cMOcW5pWB26rLgm8gwvGGBUYJBXwx6Wyyc\nJeQarUetYFVurdNjjhBoubvJ2g4eG9eY/dTiowiuN+JcIwo/LTvjsgWTEWTB+mmx\nTEIBnur8YmpvdDlH+89glNw/DZA6008G5P08hTq+Mhi9CxFULG61uJrKYS0Mk8nI\n/NzNSyhlfHUov9JKq4gcSCrVC0acBmR1099/6ku1tHRTmCHReYyE7UtSOFyiWXA8\nnJ2x1hbjEcyj8hAk+UjFJDtEv+e0Rhd7aPWtFRhVhsK7wF+nm81xNDQ/+hdTeqmj\n8+pwCCWaUmZmpkin8YY/NWBHo/qthF8PULeH0wtGAWgXl/NyucaozvfxUoMqNgPO\n5c4+WLP17Q+Bv3n1XPunmJkWwMQpsZfxwqA+i1imgy6iMnw4EI6uA4+RRqUXQEO4\nXQTtvgrVP4HQqpugTM8gkP6rVgtRiVHadnaHJimS80j5rCKbLcY9LCOsyZo+GGMj\npGiCXL8f/zMg5GpCpoknWTY/IX0yZaMmyqaBh5x8CB4rAbYK324DT4qOJ9KQwE/N\nLnjvvW4uc/GxlISuKOsLqiwMGHnVh17TtaYZm5NGsLZGObRr1NE=\n=aF6E\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fb11c60c7be219e31cf6567b7eaff21c7b09ad76",
          "sha": "fb11c60c7be219e31cf6567b7eaff21c7b09ad76",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fb11c60c7be219e31cf6567b7eaff21c7b09ad76"
        }
      ],
      "message": "fuzz: update coins targets to use doubly linked list for dirty entries",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-18T17:07:03Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-18T17:06:33Z"
      },
      "sha": "e020053be44ce0b6009b86f157dc44194b37fe75"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhlNWIxNjE1ODUyYjA4MmM0NzdmNTMyMjQyYTM2MWQwMmJiMGJhYTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8e5b1615852b082c477f532242a361d02bb0baa3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8e5b1615852b082c477f532242a361d02bb0baa3",
      "tree": {
        "sha": "87defa74c3e0f554115ee5d94f38d994a575d44f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/87defa74c3e0f554115ee5d94f38d994a575d44f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 87defa74c3e0f554115ee5d94f38d994a575d44f\nparent e020053be44ce0b6009b86f157dc44194b37fe75\nauthor Andrew Toth <andrewstoth@gmail.com> 1692378407 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1692378423 -0400\n\nvalidation: don't erase coins cache on prune flushes\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmTfpTcACgkQYAB6/Ik4\nsBjaqhAAmg7v8LOm4DSt8IVMxksgIFrhy8hOn1uLPrWNVDR8m7vD0mVOKfkzELVo\nHnusRDVEvmBFOL0K+R2Gc0QAux0HxUxCdErixSymc43Jmmr364+yGD1SfxwDyzn1\nT489lXNhb9iuO4n1WY4G51aU9i9SIXq7gZ0wUfzCi7s+lKe+drOMbK78VO71/i6V\nVyjBeAmEB4jETRtKFLUJ6onp9b0aoTgRR+J66IaZsXuzBZ/icrFRinItrWUGnGFp\n/VlTrbnBNZ5a/0tvlPyo7R3Cw3LjyhinUWxP2ekHns8yXYhQsO3RezD/a3mKhT6G\nje7Fjp6Aqu5+brStTWOdfCr2RhF9gbEcg3sC+qd0e/rycwUD3lFSup70ujmd14ou\nbiU84J21tfRnGvZ/Ywj8JAlnyUKu+JAdDjPMYXqnf/7/LzK0g42RnDzRADHP3xoH\nMFigpHgEGBnyWy1/nOBXJMQFOwBjKmrG0GcBuMfsUJxN8GW/JBDk4wWf77ESDVaV\nt2GNo+XfJzLSSHnQuu2dfAL3qHdx2NpgwGeOOL7lTDHVXsa3nh00bV5s2RSjJvdM\n0tOVIwSsO8tnUmulYP+fjPIpSzS7/pDcKrjf4DHnOo6YMj9SJ6G5reofhph6hYfk\n4ispRKPlEXqQsicYJgM7b/2BoS5Xj4yxrHmWLHs4WzY/j6Neoaw=\n=WpFA\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e020053be44ce0b6009b86f157dc44194b37fe75",
          "sha": "e020053be44ce0b6009b86f157dc44194b37fe75",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e020053be44ce0b6009b86f157dc44194b37fe75"
        }
      ],
      "message": "validation: don't erase coins cache on prune flushes",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-18T17:07:03Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-18T17:06:47Z"
      },
      "sha": "8e5b1615852b082c477f532242a361d02bb0baa3"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10132002506,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJb6hbK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10132002506",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-18T17:12:33Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296524385",
      "pull_request_review_id": 1581554153,
      "id": 1296524385,
      "node_id": "PRRC_kwDOABII585NR2Rh",
      "diff_hunk": "@@ -103,8 +103,16 @@ class Coin\n  */\n struct CCoinsCacheEntry\n {\n+private:\n+    //! These are used to create a doubly linked list of dirty entries. They are\n+    //! set in SetFlags and unset in ClearFlags.\n+    CCoinsCacheEntry *m_prev{nullptr};",
      "path": "src/coins.h",
      "position": null,
      "original_position": 7,
      "commit_id": "8e5b1615852b082c477f532242a361d02bb0baa3",
      "original_commit_id": "dbd663c4461cf0d8f478d46e224a966293db3bd3",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If these were iterators into the map, rather than pointers to the value, I think you wouldn't need the `m_outpoint`.",
      "created_at": "2023-08-16T23:14:03Z",
      "updated_at": "2023-08-16T23:14:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#discussion_r1296524385",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296524385"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297300532",
      "pull_request_review_id": 1582751611,
      "id": 1297300532,
      "node_id": "PRRC_kwDOABII585NUzw0",
      "diff_hunk": "@@ -103,8 +103,16 @@ class Coin\n  */\n struct CCoinsCacheEntry\n {\n+private:\n+    //! These are used to create a doubly linked list of dirty entries. They are\n+    //! set in SetFlags and unset in ClearFlags.\n+    CCoinsCacheEntry *m_prev{nullptr};",
      "path": "src/coins.h",
      "position": null,
      "original_position": 7,
      "commit_id": "8e5b1615852b082c477f532242a361d02bb0baa3",
      "original_commit_id": "dbd663c4461cf0d8f478d46e224a966293db3bd3",
      "in_reply_to_id": 1296524385,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Actually, it seems iterators may get invalidated when a map rehash occurs, but pointers to elements don't.\r\n\r\nI think you can however store pointers to `std::pair<const COutPoint, CoinsCacheEntry>` (the `value_type` of the map). Would that help alleviate the need for `m_outpoint`?",
      "created_at": "2023-08-17T14:23:57Z",
      "updated_at": "2023-08-17T14:55:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#discussion_r1297300532",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297300532"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297307567",
      "pull_request_review_id": 1582762652,
      "id": 1297307567,
      "node_id": "PRRC_kwDOABII585NU1ev",
      "diff_hunk": "@@ -103,8 +103,16 @@ class Coin\n  */\n struct CCoinsCacheEntry\n {\n+private:\n+    //! These are used to create a doubly linked list of dirty entries. They are\n+    //! set in SetFlags and unset in ClearFlags.\n+    CCoinsCacheEntry *m_prev{nullptr};",
      "path": "src/coins.h",
      "position": null,
      "original_position": 7,
      "commit_id": "8e5b1615852b082c477f532242a361d02bb0baa3",
      "original_commit_id": "dbd663c4461cf0d8f478d46e224a966293db3bd3",
      "in_reply_to_id": 1296524385,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Brilliant, thanks! Was just trying this last night, this looks like the way. Will give it a shot.",
      "created_at": "2023-08-17T14:28:58Z",
      "updated_at": "2023-08-17T14:29:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#discussion_r1297307567",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297307567"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297701571",
      "pull_request_review_id": 1583408156,
      "id": 1297701571,
      "node_id": "PRRC_kwDOABII585NWVrD",
      "diff_hunk": "@@ -103,8 +103,16 @@ class Coin\n  */\n struct CCoinsCacheEntry\n {\n+private:\n+    //! These are used to create a doubly linked list of dirty entries. They are\n+    //! set in SetFlags and unset in ClearFlags.\n+    CCoinsCacheEntry *m_prev{nullptr};",
      "path": "src/coins.h",
      "position": null,
      "original_position": 7,
      "commit_id": "8e5b1615852b082c477f532242a361d02bb0baa3",
      "original_commit_id": "dbd663c4461cf0d8f478d46e224a966293db3bd3",
      "in_reply_to_id": 1296524385,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@sipa done! Thank you for the elegant solution.",
      "created_at": "2023-08-17T20:21:49Z",
      "updated_at": "2023-08-17T20:21:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#discussion_r1297701571",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297701571"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    }
  ]
}