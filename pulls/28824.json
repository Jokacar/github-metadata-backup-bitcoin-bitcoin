{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824",
    "id": 1592920087,
    "node_id": "PR_kwDOABII585e8ggX",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28824",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28824.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28824.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/89547bb05ff5ebe5332297761cb6585ffbf21815",
    "number": 28824,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Use LE hex-encoded representations in script ASM for pushed values <= 4 bytes",
    "user": {
      "login": "willcl-ark",
      "id": 6606587,
      "node_id": "MDQ6VXNlcjY2MDY1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willcl-ark",
      "html_url": "https://github.com/willcl-ark",
      "followers_url": "https://api.github.com/users/willcl-ark/followers",
      "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
      "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
      "repos_url": "https://api.github.com/users/willcl-ark/repos",
      "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Closes: #27795\r\nCloses: #7996\r\n\r\nPreviously `ScriptToAsmStr` returned hex-encoded values, except if data length was <= 4 bytes, in which case it displayed using decimal encoding.\r\n\r\nRemove the decimal encoding carve-out for small pushes and always display hex results from `decodescript` RPC.\r\n\r\nThere were [other suggestions](https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-1692870456) for approaches in #27795, but IMO moving to hex-only-always makes the most sense.",
    "labels": [
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-11-08T16:07:36Z",
    "updated_at": "2024-03-11T07:51:46Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "7cf68138410cff50d34c230fd471af7d92805317",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "willcl-ark:asm-full-hex",
      "ref": "asm-full-hex",
      "sha": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 164122552,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNjQxMjI1NTI=",
        "name": "bitcoin",
        "full_name": "willcl-ark/bitcoin",
        "owner": {
          "login": "willcl-ark",
          "id": 6606587,
          "node_id": "MDQ6VXNlcjY2MDY1ODc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/willcl-ark",
          "html_url": "https://github.com/willcl-ark",
          "followers_url": "https://api.github.com/users/willcl-ark/followers",
          "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
          "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
          "repos_url": "https://api.github.com/users/willcl-ark/repos",
          "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/willcl-ark/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/willcl-ark/bitcoin",
        "archive_url": "https://api.github.com/repos/willcl-ark/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/willcl-ark/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/willcl-ark/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/willcl-ark/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/willcl-ark/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/willcl-ark/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/willcl-ark/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/willcl-ark/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/willcl-ark/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/willcl-ark/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/willcl-ark/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/willcl-ark/bitcoin/events",
        "forks_url": "https://api.github.com/repos/willcl-ark/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/willcl-ark/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/willcl-ark/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/willcl-ark/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/willcl-ark/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/willcl-ark/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/willcl-ark/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/willcl-ark/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/willcl-ark/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/willcl-ark/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/willcl-ark/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/willcl-ark/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/willcl-ark/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:willcl-ark/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/willcl-ark/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/willcl-ark/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/willcl-ark/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/willcl-ark/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/willcl-ark/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/willcl-ark/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/willcl-ark/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/willcl-ark/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/willcl-ark/bitcoin/hooks",
        "svn_url": "https://github.com/willcl-ark/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 234928,
        "default_branch": "master",
        "open_issues_count": 4,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-10T15:08:03Z",
        "created_at": "2019-01-04T15:17:29Z",
        "updated_at": "2023-11-07T12:50:29Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "0aa014d5a34ed6b020b687ec924f8a17351f5aeb",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34794,
        "stargazers_count": 74654,
        "watchers_count": 74654,
        "size": 252716,
        "default_branch": "master",
        "open_issues_count": 710,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-11T07:37:15Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-03-11T07:16:56Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 278,
    "deletions": 209,
    "changed_files": 34,
    "commits": 7,
    "review_comments": 15,
    "comments": 36
  },
  "events": [
    {
      "event": "commented",
      "id": 1802203254,
      "node_id": "IC_kwDOABII585ra3B2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1802203254",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-08T16:07:38Z",
      "updated_at": "2023-11-08T16:07:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28824).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1802203254",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "referenced",
      "id": 10907302342,
      "node_id": "REFE_lADOABII5852QJEQzwAAAAKKIDnG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10907302342",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "08ab70da3cd680523fa1f900332ec8380fe52251",
      "commit_url": "https://api.github.com/repos/bitcoinknots/bitcoin/commits/08ab70da3cd680523fa1f900332ec8380fe52251",
      "created_at": "2023-11-09T01:00:05Z"
    },
    {
      "event": "reviewed",
      "id": 1721660658,
      "node_id": "PRR_kwDOABII585mnnTy",
      "url": null,
      "actor": null,
      "commit_id": "fde11cb0fa300914721f55932a3bfabfcd428d27",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#pullrequestreview-1721660658",
      "submitted_at": "2023-11-09T04:12:28Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
    },
    {
      "event": "reviewed",
      "id": 1721661821,
      "node_id": "PRR_kwDOABII585mnnl9",
      "url": null,
      "actor": null,
      "commit_id": "fde11cb0fa300914721f55932a3bfabfcd428d27",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#pullrequestreview-1721661821",
      "submitted_at": "2023-11-09T04:14:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
    },
    {
      "event": "commented",
      "id": 1803471329,
      "node_id": "IC_kwDOABII585rfsnh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1803471329",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T09:32:39Z",
      "updated_at": "2023-11-09T09:33:48Z",
      "author_association": "NONE",
      "body": "In the dart library coinlib (https://pub.dev/packages/coinlib) I followed the same approach of encoding everything in HEX with integers encoded as LE. However -1 is encoded as -1. See the code here: https://github.com/peercoin/coinlib/blob/master/coinlib/lib/src/scripts/operations.dart\r\n\r\nI did this to avoid changing the ASM too much. However, I'm happy to move towards using `0x` for hex and presenting decimal for smaller data of up-to 32bits if this is introduced in Bitcoin. This would make the ASM easy to understand and read.",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1803471329",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1804150932,
      "node_id": "IC_kwDOABII585riSiU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1804150932",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T16:25:19Z",
      "updated_at": "2023-11-09T16:25:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "@ajtowns @MatthewLM thank for your comments.\r\n\r\nI agree that after these changes some ASM fields will be less human-readable-friendly in LE hex.\r\n\r\nPrefixing with `0d` was another possibility discussed previously, but there still exists a chance that someone will interpret these as hex-encoded values, as `d` is a valid hex char (whereas `x` is clearly not decimal or hex). e.g this is not necessarily _that_ much clearer, but does offer some improvement:\r\n\r\n```sh\r\n$ bitcoin-cli -regtest decodescript 0511121314150457c74942 | jq .asm\r\n\"1112131415 0d1112131415\"\r\n\r\n$ src/bitcoin-cli -regtest decodescript 0512345678900320A107b1 | jq .asm\r\n\"1234567890 0d500000 OP_CHECKLOCKTIMEVERIFY\"\r\n\r\n```\r\n\r\nThinking about this more, it feels like the question to be answered is perhaps \"is the `asm` field supposed to be human or machine readable?\" If the former, then maintaining decimal for small values, and adding a hex-prefix for > 4 byte values might be most desirable, even it it leaves some ambiguity in some circumstances?\r\n\r\n```sh\r\n$ src/bitcoin-cli -regtest decodescript 0512345678900320A107b1 | jq .asm\r\n\"0x1234567890 500000 OP_CHECKLOCKTIMEVERIFY\"\r\n```\r\n\r\nThis would create a moderately inconvenient interface in a few of the tests (and possibly some downstream users relying on this output) where hex prefixes, if present, have to be stripped from rpc output, but perhaps that's not too terrible.\r\n\r\nIf we are designing the asm output to be a canonical, machine-readable format then my opinion remains that using hex-only makes the most sense.\r\n\r\nFWIW [btcdeb](https://github.com/bitcoin-core/btcdeb) interprets all values as decimal but prints a warning that they are ambiguous:\r\n\r\n```sh\r\n$ btcc 1234567890 500000 OP_CHECKLOCKTIMEVERIFY\r\nwarning: ambiguous input 1234567890 is interpreted as a numeric value; use 0x1234567890 to force into hexadecimal interpretation\r\nwarning: ambiguous input 500000 is interpreted as a numeric value; use 0x500000 to force into hexadecimal interpretation\r\n04d20296490320a107b1\r\n\r\n$ btcc 0x1234567890 500000 OP_CHECKLOCKTIMEVERIFY\r\nwarning: ambiguous input 500000 is interpreted as a numeric value; use 0x500000 to force into hexadecimal interpretation\r\n0512345678900320a107b1\r\n\r\n```\r\n\r\nAnd consequently generates a different script without manually specifying hex. I don't know what other tools do by default.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1804150932",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "mentioned",
      "id": 10915404404,
      "node_id": "MEE_lADOABII5852QJEQzwAAAAKKm9p0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10915404404",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T16:25:20Z"
    },
    {
      "event": "subscribed",
      "id": 10915404417,
      "node_id": "SE_lADOABII5852QJEQzwAAAAKKm9qB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10915404417",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T16:25:20Z"
    },
    {
      "event": "mentioned",
      "id": 10915404440,
      "node_id": "MEE_lADOABII5852QJEQzwAAAAKKm9qY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10915404440",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T16:25:20Z"
    },
    {
      "event": "subscribed",
      "id": 10915404452,
      "node_id": "SE_lADOABII5852QJEQzwAAAAKKm9qk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10915404452",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T16:25:20Z"
    },
    {
      "event": "commented",
      "id": 1804161011,
      "node_id": "IC_kwDOABII585riU_z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1804161011",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T16:31:06Z",
      "updated_at": "2023-11-09T16:31:06Z",
      "author_association": "NONE",
      "body": "I agree that `0d` is not a good idea, much better to go with `0x` for hex.",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1804161011",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1804651014,
      "node_id": "IC_kwDOABII585rkMoG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1804651014",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-09T20:39:41Z",
      "updated_at": "2023-11-09T20:39:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Thinking about this more, it feels like the question to be answered is perhaps \"is the `asm` field supposed to be human or machine readable?\"\r\n\r\nI think it's human readable? For machines we could just give the raw hex script and not bother with an asm format.\r\n\r\nAnyway, how about going for something more left field and having `decodescript 0511121314150457c74942` output `[1112131415] 1112131415` where the square brackets indicated \"quoted hexidecimal\", and values without square brackets are always decimal numbers within `CScriptNum` range? That would still be pretty clear for pubkeys:\r\n\r\n```\r\n2 [027d28a3580d0823dbee34f1df927ee58664eb8349e79b94017ddaf3f7e159153f] [03a3af0f49a21d29106ebeef9b3c3d69fc375c856a7153d97156a5b7a161ca6c25] 2 OP_CHECKMULTISIG\r\n```\r\n\r\nCould perhaps also represent non-minimal pushes that way, eg the different encodings of -1 or `[ff]`, something like:\r\n\r\n```\r\n decodescript 4f -> -1\r\n decodescript 0181 -> [0:81]\r\n decodescript 4c0181 -> [1:81]\r\n decodescript 4d010081 -> [2:81]\r\n decodescript 4e0100000081 -> [4:81]\r\n```",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1804651014",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1808117267,
      "node_id": "IC_kwDOABII585rxa4T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1808117267",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-13T12:57:44Z",
      "updated_at": "2023-11-13T12:57:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I think it's human readable? For machines we could just give the raw hex script and not bother with an asm format.\r\n\r\nThis has always been my interpretation too.\r\n\r\n> Anyway, how about going for something more left field...\r\n\r\nSquare brackets is something I could get behind; to me it is clear from your example that the brackets are indicating _something_, and just by looking at them I can see in most cases that they're hex values. To use the previous (less common?) example formatted with the brackets:\r\n\r\n```sh\r\n$ bitcoin-cli -regtest decodescript 0511121314150457c74942 | jq .asm\r\n\"[1112131415] 1112131415\"\r\n```\r\n\r\nIMO it's again clear to me now that there's _something_ different about these two values, and if I didn't know what it was then I should find out.\r\n\r\nOne question I have is whether this will interfere with the scripthash types too badly? e.g. Is this nested bracket undesirable?\r\n\r\n```sh\r\n$ src/bitcoin-cli -regtest decoderawtransaction 0100000001696a20784a2c70143f634e95227dbdfdf0ecd51647052e70854512235f5986ca010000008a47304402207174775824bec6c2700023309a168231ec80b82c6069282f5133e6f11cbb04460220570edc55c7c5da2ca687ebd0372d3546ebc3f810516a002350cac72dfe192dfb014104d3f898e6487787910a690410b7a917ef198905c27fb9d3b0a42da12aceae0544fc7088d239d9a48f2828a15a09e84043001f27cc80d162cb95404e1210161536ffffffff0100e1f505000000001976a914eb6c6e0cdb2d256a32d97b8df1fc75d1920d9bca88ac00000000 | jq .vin[].scriptSig.asm\r\n\"[304402207174775824bec6c2700023309a168231ec80b82c6069282f5133e6f11cbb04460220570edc55c7c5da2ca687ebd0372d3546ebc3f810516a002350cac72dfe192dfb[ALL]] [04d3f898e6487787910a690410b7a917ef198905c27fb9d3b0a42da12aceae0544fc7088d239d9a48f2828a15a09e84043001f27cc80d162cb95404e1210161536]\"\r\n\r\n```\r\n\r\nspecifically:\r\n\r\n```sh\r\n[... 2dfb[ALL]]\r\n```\r\n\r\nIt might be preferable to have this format instead?\r\n\r\n```sh\r\n[... 2dfb][ALL]\r\n```",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1808117267",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1808180595,
      "node_id": "IC_kwDOABII585rxqVz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1808180595",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-13T13:37:26Z",
      "updated_at": "2023-11-13T13:37:26Z",
      "author_association": "NONE",
      "body": "`0x` is much more standard and recognisable than `[]`.",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1808180595",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1809279093,
      "node_id": "IC_kwDOABII585r12h1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1809279093",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-13T23:09:48Z",
      "updated_at": "2023-11-13T23:09:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "> `0x` is much more standard and recognisable than `[]`.\r\n\r\nIt's pretty misleading though, since `CScriptNum` is little-endian: if you see `0x0100` you would expect that to be 256, but for us it would actually be non-minimally-encoded 1; For us, `0x0201` would actually be less than `0x0102`, etc.\r\n\r\nNote this applies to block hashes, as well, so if you provide block 816651's header and execute HASH256, you end up with `[7d6368795d9675a198bd1dbe3d87dbdbbc3e0f3560a202000000000000000000]`; if you were to write `0x00000000000000000002a260350f3ebcdbdb873dbe1dbd98a175965d7968637d` to refer to the block hash, the same way we do in kernel/chainparams.cpp, you'd end up with the wrong thing. But you can't have \"0x\" just reverse things either, as that would mess up 33-byte pubkeys (they'd now end with 02 or 03 instead of beginning with it) and signatures.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1809279093",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1809302135,
      "node_id": "IC_kwDOABII585r18J3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1809302135",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-13T23:34:49Z",
      "updated_at": "2023-11-13T23:34:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "> One question I have is whether this will interfere with the scripthash types too badly? e.g. Is this nested bracket undesirable?\r\n> \r\n> specifically:\r\n> \r\n> ```shell\r\n> [... 2dfb[ALL]]\r\n> ```\r\n> \r\n> It might be preferable to have this format instead?\r\n> \r\n> ```shell\r\n> [... 2dfb][ALL]\r\n> ```\r\n\r\nI guess it being inside the brackets seems slightly clearer to me? Could have different brackets for the two things, eg `[... 2dfb<ALL>]`. Could perhaps also drop the feature entirely (reverting #5264); note that we don't display sighash flags for taproot signatures.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1809302135",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1809997651,
      "node_id": "IC_kwDOABII585r4l9T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1809997651",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-14T11:05:52Z",
      "updated_at": "2023-11-14T11:05:52Z",
      "author_association": "NONE",
      "body": "> It's pretty misleading though, since `CScriptNum` is little-endian: if you see `0x0100` you would expect that to be 256, but for us it would actually be non-minimally-encoded 1; For us, `0x0201` would actually be less than `0x0102`, etc.\r\n\r\nThose smaller numbers will be shown in decimal still. For larger pushdata, hex is already shown in the little-endian encoded byte order. If `0x` is too suggestive of a big-endian hex number (a fair point), then maybe `bytes(123456789abcdef)` is clearer and less ambiguous (maybe use `push` instead of `bytes`). If following that scheme, signatures could be something like `sig(...2dfb, ALL)`. Possibly public keys could be `pk(...)`.",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1809997651",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1810204432,
      "node_id": "IC_kwDOABII585r5YcQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1810204432",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-14T13:28:07Z",
      "updated_at": "2023-11-14T13:28:07Z",
      "author_association": "MEMBER",
      "body": "Do we actually want to resolve all forms of ambiguity? E.g. what about the distinction between an OP_1 vs. a direct push of 0x01, vs. OP_PUSHDATA1 of 0x01? I think it'd be nice if there was a one-to-one correspondence between the disassembly and the actual script bytes.\r\n\r\nMy contribution to this bikeshedding would be:\r\n* `OP_n` -> `n` (so `-1`, `0`, `1`, ..., `10`, ..., `16`).\r\n* Drop \"OP_\" prefix for other opcodes too; they're redundant.\r\n* Other *minimal* pushes (so direct pushes, as well as OP_PUSHDATA1 over 75 bytes, and OP_PUSHDATA2 over 255 bytes):\r\n  * If the data pushed is a minimally-encoded positive number between 0 and 2^39-1 (`OP_CLTV` / `OP_CSV` accept 5-byte numbers) -> `<0x12345678>` (BE hex, as that's what a human expects for a numeric value with 0x).\r\n  * Otherwise, `<1234567890ABCDEF>` (in wire byte order, no 0x because not attempting to convey a number)\r\n* For non-minimal pushes, use `PUSHDATA1<...>` or `PUSHDATA2<...>` (with the contents of `...` using the same rules as for minimal pushes).\r\n* Drop the sighash byte type decoding. I don't feel it matches what asm is trying to do.\r\n* Optionally, for P2SH(-like) scriptSigs, the final redeemScript push could be recursively decoded (so inside `<...>`, put the asm decoding of the script being pushed), while remaining fully unambiguous.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1810204432",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1811766792,
      "node_id": "IC_kwDOABII585r_V4I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1811766792",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T03:50:57Z",
      "updated_at": "2023-11-15T03:50:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "> My contribution to this bikeshedding would be:\r\n>     * `OP_n` -> `n` (so `-1`, `0`, `1`, ..., `10`, ..., `16`).\r\n>     * Drop \"OP_\" prefix for other opcodes too; they're redundant.\r\n>     * Drop the sighash byte type decoding. I don't feel it matches what asm is trying to do.\r\n\r\n:+1:\r\n\r\n> * For non-minimal pushes, use `PUSHDATA1<...>` or `PUSHDATA2<...>` (with the contents of `...` using the same rules as for minimal pushes).\r\n\r\nAlso `PUSHDATA4<...>` for completeness, presumably. A direct push of values -1 and 1..16 is also non-minimal (ie, `0101` instead of `51`), could perhaps use `PUSHDATA<..>` (without 1, 2 or 4) for that case.\r\n\r\n> * Other _minimal_ pushes (so direct pushes, as well as OP_PUSHDATA1 over 75 bytes, and OP_PUSHDATA2 over 255 bytes):       \r\n> * If the data pushed is a minimally-encoded positive number between 0 and 2^39-1 (`OP_CLTV` / `OP_CSV` accept 5-byte numbers) -> `<0x12345678>` (BE hex, as that's what a human expects for a numeric value with 0x).\r\n\r\nProvided you've already dealt with non-minimally encoded -1 and 1..16, using decimals seems nicer here? You can cope with negatives cleanly (`-2` vs `<82>`), and it's one less encoding variation?\r\n\r\n> * Optionally, for P2SH(-like) scriptSigs, the final redeemScript push could be recursively decoded (so inside `<...>`, put the asm decoding of the script being pushed), while remaining fully unambiguous.\r\n\r\nThat would be nice. Probably requires remembering info from the scriptPubKey and using it when decoding the scriptSig or witness.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1811766792",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1812093815,
      "node_id": "IC_kwDOABII585sAlt3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812093815",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T09:29:32Z",
      "updated_at": "2023-11-15T09:29:32Z",
      "author_association": "NONE",
      "body": "> Provided you've already dealt with non-minimally encoded -1 and 1..16, using decimals seems nicer here? You can cope with negatives cleanly (`-2` vs `<82>`), and it's one less encoding variation?\r\n\r\nI was thinking it would be nice to retain decimal but, due to ambiguity that could arise with CLTV and CSV, I'm not sure.\r\n\r\nHaving embedded ASM for redeem scripts and Tapscripts would be very useful.",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812093815",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1812212359,
      "node_id": "IC_kwDOABII585sBCqH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812212359",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T10:35:55Z",
      "updated_at": "2023-11-15T10:35:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I was thinking it would be nice to retain decimal but, due to ambiguity that could arise with CLTV and CSV, I'm not sure.\r\n\r\nWhat ambiguity?",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812212359",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1812455750,
      "node_id": "IC_kwDOABII585sB-FG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812455750",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:31:16Z",
      "updated_at": "2023-11-15T12:31:40Z",
      "author_association": "NONE",
      "body": "For 32-bit signed integers, the 32nd leftmost bit is negative, but that's not true for CLTV and CSV which uses 5 bytes. So a push data could represent a negative 32-bit signed integer, or a positive 40-bit signed integer if I understand the `CScriptNum` without looking more closely at it.",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812455750",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1812458710,
      "node_id": "IC_kwDOABII585sB-zW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812458710",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:33:39Z",
      "updated_at": "2023-11-15T12:33:39Z",
      "author_association": "MEMBER",
      "body": "@MatthewLM I don't think that's correct. What's special in CSV and CLTV is that they permit numbers whose encoding is up to 5 bytes (rather than the math opcodes which only support encodings up to 4 bytes on input). But the encoding algorithm is the same: the top bit is the sign.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812458710",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "mentioned",
      "id": 10966873966,
      "node_id": "MEE_lADOABII5852QJEQzwAAAAKNrTdu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10966873966",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:33:40Z"
    },
    {
      "event": "subscribed",
      "id": 10966873988,
      "node_id": "SE_lADOABII5852QJEQzwAAAAKNrTeE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10966873988",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:33:40Z"
    },
    {
      "event": "commented",
      "id": 1812462943,
      "node_id": "IC_kwDOABII585sB_1f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812462943",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:36:48Z",
      "updated_at": "2023-11-15T12:36:58Z",
      "author_association": "NONE",
      "body": "@sipa I'll have to look at the code. I imagine it is two's complement? Then the negative bit will be different for each type of integer meaning that a 4 byte pushdata that would encode a negative 32-bit signed integer could also be interpreted as a positive 40-bit signed integer.",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812462943",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "mentioned",
      "id": 10966904895,
      "node_id": "MEE_lADOABII5852QJEQzwAAAAKNrbA_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10966904895",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:36:48Z"
    },
    {
      "event": "subscribed",
      "id": 10966904914,
      "node_id": "SE_lADOABII5852QJEQzwAAAAKNrbBS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10966904914",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:36:49Z"
    },
    {
      "event": "commented",
      "id": 1812477898,
      "node_id": "IC_kwDOABII585sCDfK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812477898",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:47:55Z",
      "updated_at": "2023-11-15T12:49:41Z",
      "author_association": "MEMBER",
      "body": "@ajtowns Ok, iterating on that, new proposal:\r\n\r\n* Any minimally-encoded number, using a minimal push (`OP_n`, or direct push for numbers that cannot be encoded using OP_n) of an integer between *2<sup>31</sup>* and *2<sup>39</sup>-1*, is just encoded in decimal directly (no `<>` or anything).\r\n* `OP_` prefix dropped in general\r\n* Drop sighash type.\r\n* Any other minimal pushes (so direct push <= 75 bytes, PUSHDATA1 > 75 bytes, PUSHDATA2 > 255 bytes) become `<...>` with ... the hex-encoding (in wire byte order) of the push.\r\n* Non-minimal pushes become `PUSHDATA1<...>`, `PUSHDATA2<...>`, or `PUSHDATA4<...>`.\r\n* Inside `<...>` instead of having hex data, it's also allowed to put another decoded script (as long the script doesn't consist of exactly one 2-digit number push, because that'd be ambiguous...).\r\n\r\nThere is no need for `PUSHDATA<...>` here, because a direct push of `3` for example (`0103` in hex) would become `<03>`, while `OP_3` would become `3`.\r\n\r\n@MatthewLM I think you're missing something, but I don't see what. There is no ambiguity. Every byte encoding represents exactly one number, with a well-defined sign.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812477898",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "mentioned",
      "id": 10967020983,
      "node_id": "MEE_lADOABII5852QJEQzwAAAAKNr3W3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10967020983",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:47:55Z"
    },
    {
      "event": "subscribed",
      "id": 10967021000,
      "node_id": "SE_lADOABII5852QJEQzwAAAAKNr3XI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10967021000",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:47:56Z"
    },
    {
      "event": "mentioned",
      "id": 10967021013,
      "node_id": "MEE_lADOABII5852QJEQzwAAAAKNr3XV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10967021013",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:47:56Z"
    },
    {
      "event": "subscribed",
      "id": 10967021027,
      "node_id": "SE_lADOABII5852QJEQzwAAAAKNr3Xj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10967021027",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:47:56Z"
    },
    {
      "event": "commented",
      "id": 1812490008,
      "node_id": "IC_kwDOABII585sCGcY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812490008",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:56:24Z",
      "updated_at": "2023-11-15T12:56:24Z",
      "author_association": "NONE",
      "body": "@sipa Sorry, you are right. I looked at the code again. Bitcoin doesn't use two's complement for this (I have to keep in mind that Bitcoin has a lot of quirks). It uses a sign bit that negates the other bits, and this sign bit depends on the size of the push data (whatever the last byte is), so there is no ambiguity.\r\n\r\nTherefore I think minimally pushed numbers ought to be displayed as decimal for readability reasons as you now suggest.\r\n\r\n> * Inside `<...>` instead of having hex data, it's also allowed to put another decoded script (as long the script doesn't consist of exactly one 2-digit number push, because that'd be ambiguous...).\r\n\r\nOr any other decimal that has an even number of digits. Maybe use something like `SCRIPT<...>`?\r\n\r\n",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812490008",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "mentioned",
      "id": 10967115627,
      "node_id": "MEE_lADOABII5852QJEQzwAAAAKNsOdr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10967115627",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:56:24Z"
    },
    {
      "event": "subscribed",
      "id": 10967115641,
      "node_id": "SE_lADOABII5852QJEQzwAAAAKNsOd5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10967115641",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T12:56:25Z"
    },
    {
      "event": "commented",
      "id": 1812500265,
      "node_id": "IC_kwDOABII585sCI8p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812500265",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T13:01:46Z",
      "updated_at": "2023-11-15T13:03:13Z",
      "author_association": "MEMBER",
      "body": "@MatthewLM Right, any single numeric push of even number of digits inside `<>` would be ambiguous. But also, scripts consisting of a single push are generally useless as a redeemscript (they'd be anyone-can-spend), so I'm not sure it's an issue. If you actually encounter one of those, just don't do recursive decoding.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812500265",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "mentioned",
      "id": 10967180338,
      "node_id": "MEE_lADOABII5852QJEQzwAAAAKNseQy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10967180338",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T13:01:47Z"
    },
    {
      "event": "subscribed",
      "id": 10967180354,
      "node_id": "SE_lADOABII5852QJEQzwAAAAKNseRC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10967180354",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T13:01:47Z"
    },
    {
      "event": "commented",
      "id": 1812532463,
      "node_id": "IC_kwDOABII585sCQzv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812532463",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T13:24:12Z",
      "updated_at": "2023-11-15T13:24:35Z",
      "author_association": "MEMBER",
      "body": "One more thought: if the format we end up with is unambiguous, there could also be a function/RPC/tool to convert asm back to script (and we can have fuzz tests that the roundtripping encoding+decoding is exact!). If so, we can probably permit a few things in the decoding that the encoder might not (yet) support:\r\n* Optionally `OP_` prefixing opcodes (and using aliases like `TRUE` or `OP_TRUE` for `OP_1`).\r\n* Using `0x...` for BE hex encoded numbers in all places where a decimal number is supported (so outside `<>`).\r\n* `PUSHDATA1<...>` or `PUSHDATA2<...>` notation even when the push is minimal.\r\n* Recursive decoding (if not supported in the encoder in the first iteration).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812532463",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1812534458,
      "node_id": "IC_kwDOABII585sCRS6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812534458",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T13:25:39Z",
      "updated_at": "2023-11-15T13:25:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "I like where this is going now. Thanks for the conversation.\r\n\r\nI've written a branch implementing this [previous version](https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1810204432) as I wanted to see what the changes would look like (although I'm not convinced I'm handling `OP_1NEGATE` properly yet, even though tests are passing...)\r\n\r\n> Any minimally-encoded number, using a minimal push (OP_n, or direct push for numbers that cannot be encoded using OP_n) of an integer between 231 and 239-1, is just encoded in decimal directly (no <> or anything).\r\n\r\nI think this will make the representation even nicer to interpret and will gladly make this change.\r\n\r\n> Inside <...> instead of having hex data, it's also allowed to put another decoded script (as long the script doesn't consist of exactly one 2-digit number push, because that'd be ambiguous...).\r\n\r\nI'll take a stab at implementing these nested scripts as well, as I think they'd be a nice improvement too...",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812534458",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZkNjk4MmM3YjE5NjEyZjc1MjRhYzVkOWY0ZjA5NzAwMjM4MWNkNzE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6d6982c7b19612f7524ac5d9f4f097002381cd71",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6d6982c7b19612f7524ac5d9f4f097002381cd71",
      "tree": {
        "sha": "9a7480738f77ff4d11025ea9d7ac6b63b9c41c92",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9a7480738f77ff4d11025ea9d7ac6b63b9c41c92"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9a7480738f77ff4d11025ea9d7ac6b63b9c41c92\nparent 8243762700bc6e7876ae5d4fc000500858b99f66\nauthor willcl-ark <will@256k1.dev> 1700039197 +0000\ncommitter willcl-ark <will@256k1.dev> 1700054926 +0000\n\nscript: don't decode sighash flags in ASM repr\n\nWe don't decode these on taproot signatures already, modify non-taproot\nsignatures to match.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEoAg2YPI1onAAzTyBzm7EmUXBfqYFAmVUx44ACgkQzm7EmUXB\nfqa8Ug/9HIQD5GaLSR/VZVFuVcHtsd9gNfomYfCEzWdznM7uf5prYA3wSKyOZNLW\nngqLTWd+MMZc2rOoymxYhOwm26lqyf2KPB//oeHvDbSTKfsJvjKTF9dIQapQSFWr\nqB3dV6aWldvmZ6PYzyZDUzlhRNfkhqtc4r2a82LPh8jui/FHryRuayggPGFl6oNS\nvlQa/3Lh5eAkB5+c+2SkYZhqRZE/x2RXKNBjbJPLXgss1wroc/EMNHSolWVF5T4I\nBB3qpVFKzauGwcPX9sEW+BtJyKGCQw90xvL+BIQsCqLluj/HDo9+ZNeGyuz/kQK2\nH5RTpLQNKHNcrg6z/DQDegQFmO5gdQIvrORc6tePP8V56KRbWdBo6m+foewDPsJF\nmOsTtWcFHQgX2eKw7nhguVRS1wpndgHt9t447gvfeJn4o1ty0bL/tbrx1Pt36g4q\n2dniI6fC+/vlVmcEblw1PaaLmBDltbps4NRZGuW+hRsuM5G6AfHQj2h5l6k6g6gi\n7mu+umR59snkRqPMVan67N9kSdCgKoQITZzqo3shIr3xZhAfc2lEe1sy9nu/fdRE\ncam1q52xV6ATO9Eu/XYBoZ1bhKw0SY5G41jYF5stjaprVi/lcy+Napn1v4UxSkxr\nTLq6BcUbkCRDKzWWHpjv3D71SyNoi0Z59giRsx0EHcA2BLDAqkk=\n=Jjvw\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8243762700bc6e7876ae5d4fc000500858b99f66",
          "sha": "8243762700bc6e7876ae5d4fc000500858b99f66",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8243762700bc6e7876ae5d4fc000500858b99f66"
        }
      ],
      "message": "script: don't decode sighash flags in ASM repr\n\nWe don't decode these on taproot signatures already, modify non-taproot\nsignatures to match.",
      "committer": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T13:28:46Z"
      },
      "author": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T09:06:37Z"
      },
      "sha": "6d6982c7b19612f7524ac5d9f4f097002381cd71"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRkMmRkMzQ5NmFkOTBhZWFmNjJiMTBlMjM1MDUzOThjM2M5N2NkNjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4d2dd3496ad90aeaf62b10e23505398c3c97cd64",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4d2dd3496ad90aeaf62b10e23505398c3c97cd64",
      "tree": {
        "sha": "4407afc3e7c52025d4b7690dea66f6501300f080",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4407afc3e7c52025d4b7690dea66f6501300f080"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4407afc3e7c52025d4b7690dea66f6501300f080\nparent 6d6982c7b19612f7524ac5d9f4f097002381cd71\nauthor willcl-ark <will@256k1.dev> 1700038863 +0000\ncommitter willcl-ark <will@256k1.dev> 1700054968 +0000\n\nscript: add GetOpNameAsm helper fn\n\nStrip unneccesary leading \"OP_\" prefix from opcodes when they are\nrendered as ASM.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEoAg2YPI1onAAzTyBzm7EmUXBfqYFAmVUx7gACgkQzm7EmUXB\nfqYjAQ//Wcw8CXhpdwywwNxKKAQYag1XCpV2n4e033r/3xNF5r/PilVNSvBhNTxF\nVlL1yAKPfN96/Q9p8IB+ea5zRhvO7HxDaRuD4Xx3MBgCe4zdPu0XJ8EeDs7EfrHh\nHY+h96kHqBh0bL2v/S4wOi+NWBTDFxrZ6X7lFg8KfTDUOM18xxHO9TnEZhW0Lzrz\niWPitKlIzZmWrTfBt5L9XQtKWO5N2/I2Xgss+rxOJb+6QpCqNiHctYAguFd6vtyD\nlo0OFwp/lxe2412knKhjwOuPrl+eDKDD/xyzdA/uMnTYRVy5vjN6e4F7RW6PD15z\nivCJ2wfIQA+y3hR7E4rBE7ksQneP4AXkojG8b8MUd6h1z74AGsnDmouPoaw6r2+N\nad1oW5RaTrbQ3+g0nCWhVA+UCeYXk6HEIdeXt10i9OvJTSDlXax+iwTIVfYGeOyo\nYCTZgof5uvMS/WQJOVaPOM2h1t5f7E73PBu460O7ege3ztiVy2DS9UjqNd2WILOR\njI6AljiaolofL2Qslplg8gvvwjlQI8AcB/VpDSreUMmSENAgjTWvNkeGNbczbEeA\nzL3DlgqkNVpCXaBja4/YkuiWQKWz2yH4plIVbDENUXs6D2ptBzcPgV+KKikLibLd\nMGHI/2psAImz+0r9PLsFmuy7lNuTKtpBCpBZOBoSoCcp1VUEGrE=\n=ZjNr\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6d6982c7b19612f7524ac5d9f4f097002381cd71",
          "sha": "6d6982c7b19612f7524ac5d9f4f097002381cd71",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6d6982c7b19612f7524ac5d9f4f097002381cd71"
        }
      ],
      "message": "script: add GetOpNameAsm helper fn\n\nStrip unneccesary leading \"OP_\" prefix from opcodes when they are\nrendered as ASM.",
      "committer": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T13:29:28Z"
      },
      "author": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T09:01:03Z"
      },
      "sha": "4d2dd3496ad90aeaf62b10e23505398c3c97cd64"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY0Yzk5YjAzNWI2MWNmNGJjNzYxYzBhMWRiMzJkYzdhZjg1MzQ2OWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/64c99b035b61cf4bc761c0a1db32dc7af853469e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/64c99b035b61cf4bc761c0a1db32dc7af853469e",
      "tree": {
        "sha": "2e4808d7a16030937ef87e933ba98a46e41deaeb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2e4808d7a16030937ef87e933ba98a46e41deaeb"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2e4808d7a16030937ef87e933ba98a46e41deaeb\nparent 4d2dd3496ad90aeaf62b10e23505398c3c97cd64\nauthor willcl-ark <will@256k1.dev> 1700043390 +0000\ncommitter willcl-ark <will@256k1.dev> 1700054969 +0000\n\nscript: drop OP_ prefix from ASM repr\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEoAg2YPI1onAAzTyBzm7EmUXBfqYFAmVUx7kACgkQzm7EmUXB\nfqYzyA//fWQpsVtMXp1W9C3NxWkLJB3jbdlZ+q7wFYNJDZTr/o990mz4e2/YpLa0\nEL5ujPL9ej53rIO0igS8Uf2tAFzi8eKZSMPgqY8ujBl60FpYtz06XFN8LukPwqv4\noD8e2dsadnAADNh/lsR+d0RRP/tOX2/Lbnq7u6K0GC88Jno7PgBQkCTIB11KObms\n8JCnKqEX0eSPbw6LpMWHC0iQDFC3HymwXhszyUkrhc+SM2NxNhWd+/BOOSNcv2Mr\nKyHAMQg+VdevJimQxWKg5xGMK9eOLSHkITTi3XuTPRr/+H6HrWbGLo/55mNYMpYf\nN4oDPO/QcDe7P9AGLr+FKxz6JWjWd6Vrx11JbKUvPrpU7J3eFjCXsYvzZwRvgYnN\njPkDPT1Wpp3SgOVE/W/9ZL8c0c6rYQovyvgIT/S/CD6DfpyQ9uFy3GtK/ymUzCIz\n+ZgXYpZRJQyiM3TELd1ZrHNFaOUlq+U/whTGf1YuEvrLmLoiWiQdmB9xIOofmuwL\n8peRoFTjIvmoJpABgzkQnoIiJ0gBr84G1RYn41UHK4xrwCKlqcivHkkvf9HnU5/O\nMy7I/I4AkMyqZhH6wrJsgiby2feAtLIkJ5TUhw6BbvBdJJVJ7KLj2HBLV2FatBtB\nD+UlxR5E68OwuO1hKAb1IClYDVzhHYuahf/pYq+uPx7Cvd1a1aM=\n=DfdI\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4d2dd3496ad90aeaf62b10e23505398c3c97cd64",
          "sha": "4d2dd3496ad90aeaf62b10e23505398c3c97cd64",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4d2dd3496ad90aeaf62b10e23505398c3c97cd64"
        }
      ],
      "message": "script: drop OP_ prefix from ASM repr",
      "committer": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T13:29:29Z"
      },
      "author": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T10:16:30Z"
      },
      "sha": "64c99b035b61cf4bc761c0a1db32dc7af853469e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhmOWQ3Y2E5Y2U3NGMzZDQwYjgyNTI4ZjMyMGYxY2FkNTVkOGY1Y2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8f9d7ca9ce74c3d40b82528f320f1cad55d8f5cd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8f9d7ca9ce74c3d40b82528f320f1cad55d8f5cd",
      "tree": {
        "sha": "9f82a5e0b7f81d61602979d64f5ad0795f49ae2a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9f82a5e0b7f81d61602979d64f5ad0795f49ae2a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9f82a5e0b7f81d61602979d64f5ad0795f49ae2a\nparent 64c99b035b61cf4bc761c0a1db32dc7af853469e\nauthor willcl-ark <will@256k1.dev> 1699878970 +0000\ncommitter willcl-ark <will@256k1.dev> 1700054970 +0000\n\ntest: add asm repr asm_hex helper fn\n\nA simple helper function to square bracket a hex string.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEoAg2YPI1onAAzTyBzm7EmUXBfqYFAmVUx7oACgkQzm7EmUXB\nfqaymxAAt2CUi0y+XClARbI5CmF5O9yHtUXdd8Z20PEV2jwfZZw6OzgR3RF3wy41\ndQdCLvGvG0nVw12SNGfIsRKxzGizKbszdxOEvN6O6zmPVyRLVQgPW/jlL1RsroZU\ney9rEu2lP31jOLFEbXbp0g0Y53M9F4LJNc8zf5sEMJpk6sbaoUO3Fw74J38jWgYG\nvgwkz6+5jZVu7J/yzIguqI27M7LOmRyIMcqT9SDs2U2LPcb5HkIoxYUTs3XuF2R9\nO+E8zXUUB/8eX3zXW5q2800gGbAV9PsM8SLe2RDPcjfntr760lKlYiAc3Zc05HLl\nfZ3dh46Xqh/SFYdnWRQspZL3hk8xPR3y+LA9FRH9KVyMuOguzeXkq3gvoXEaorQt\nVSBIssrQihP/1rhVrYKPwMUXHgioqiQlAcvbmLu7DlonjDKnbv4IO3zDNKaZx1HI\n7mwg5Hp3/xAxMEw/1s8SrxUHU5s51zS26LQ+MVSVpk5GS+L/+DKf10h1bSYJOok+\njJFnAjfAAw+vqkDTSImDm05aN4li1fSEWxmHlFT3k3mV1pmwwHWe7PtSSi0ir9yj\ncqG+X8OK0xquUR5PYroyP/Sqq7mpOhZal1N11r6ky6RoubqTlryQ78xSQg+nBF2e\nczMOI0F9z+cmng4zJ6YWXqy5p3eJiMB8Wt3mv6vXH/V3qbaxo+E=\n=YbB7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/64c99b035b61cf4bc761c0a1db32dc7af853469e",
          "sha": "64c99b035b61cf4bc761c0a1db32dc7af853469e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/64c99b035b61cf4bc761c0a1db32dc7af853469e"
        }
      ],
      "message": "test: add asm repr asm_hex helper fn\n\nA simple helper function to square bracket a hex string.",
      "committer": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T13:29:30Z"
      },
      "author": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-13T12:36:10Z"
      },
      "sha": "8f9d7ca9ce74c3d40b82528f320f1cad55d8f5cd"
    },
    {
      "event": "commented",
      "id": 1812570217,
      "node_id": "IC_kwDOABII585sCaBp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812570217",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T13:49:41Z",
      "updated_at": "2023-11-15T13:59:00Z",
      "author_association": "CONTRIBUTOR",
      "body": ">  * Any minimally-encoded number, using a minimal push (`OP_n`, or direct push for numbers that cannot be encoded using OP_n) of an integer between _231_ and _239-1_, is just encoded in decimal directly (no `<>` or anything).\r\n\r\n~`-2**31`~ `-2**31+1` and `2**39-1` presumably? (original lacks the negative sign, and github can't quote superscript correctly apparently). EDIT: `0xffff_ffff` is `-2**31+1` with a sign-flag, rather than `-2**31` being `0x8000_0000` in two's complement\r\n \r\n> * Any other minimal pushes (so direct push <= 75 bytes, PUSHDATA1 > 75 bytes, PUSHDATA2 > 255 bytes) become `<...>` with ... the hex-encoding (in wire byte order) of the push.\r\n\r\nPer `script/script.cpp:CheckMinimalPush()`, `0101` isn't a minimal push, so I think it'd be better to drop the \"minimal push\" phrasing and just use the definition currently in brackets. (also; PUSHDATA4 > 65535 bytes)\r\n\r\n> * Inside `<...>` instead of having hex data, it's also allowed to put another decoded script (as long the script doesn't consist of exactly one 2-digit number push, because that'd be ambiguous...).\r\n\r\nAny push of a single positive number between 10-99; 1,000-9,999; 100,000-999,999; 10,000,000-99,999,999; 1,000,000,000-9,999,999,999; and 100,000,000,000-549,755,813,887 would be ambiguous, no?",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812570217",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1812587025,
      "node_id": "IC_kwDOABII585sCeIR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812587025",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T14:00:01Z",
      "updated_at": "2023-11-15T14:00:01Z",
      "author_association": "MEMBER",
      "body": "@ajtowns Right on all 3 counts. Instead of limiting the integer range, maybe just \"all minimal pushes of up to 5 bytes, which push a minimally-encoded integer\".",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812587025",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "mentioned",
      "id": 10967806098,
      "node_id": "MEE_lADOABII5852QJEQzwAAAAKNu3CS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10967806098",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T14:00:01Z"
    },
    {
      "event": "subscribed",
      "id": 10967806116,
      "node_id": "SE_lADOABII5852QJEQzwAAAAKNu3Ck",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10967806116",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T14:00:01Z"
    },
    {
      "event": "commented",
      "id": 1812596092,
      "node_id": "IC_kwDOABII585sCgV8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812596092",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T14:05:45Z",
      "updated_at": "2023-11-15T14:12:35Z",
      "author_association": "MEMBER",
      "body": "One more question: what to do with unknown opcodes, and undecodable bytes? The current `FormatScript` just turns it into bare hex with 0x prefix. I guess we could keep the \"0x\" prefix to denote \"raw stuff\", but the current format is pretty misleading (it uses wire byte order, while \"0x\" suggests they're BE numbers) and incompatible with allowing \"0x...\" for denoting actual integers.\r\n\r\nSuggestion: use `RAW(...)` with \"...\" the hex in wire byte order for those. I'd prefer not to use `RAW<...>` because I associate `<>` with \"pushing\", which wouldn't be correct here. I'm not too happy with having a special keyword in the syntax just for that either, so suggestions welcome.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812596092",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1812610712,
      "node_id": "IC_kwDOABII585sCj6Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812610712",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T14:14:40Z",
      "updated_at": "2023-11-15T14:14:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "Currently `GetOpCode()` will return `OP_UNKNOWN` for unknown opcodes which seems reasonable. Dropping the `OP_` would appear in the asm as `UNKNOWN`.\r\n\r\nAs for undecodable bytes, if we did want a keyword, perhaps something more explicit like `UNDECODABLE<...>` would be better? We are essentially using what I would expect `RAW` to denote for > 5 byte minimal pushes if we go with this:\r\n\r\n> Any other minimal pushes (so direct push <= 75 bytes, PUSHDATA1 > 75 bytes, PUSHDATA2 > 255 bytes) become <...> with ... the hex-encoding (in wire byte order) of the push.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812610712",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1812617163,
      "node_id": "IC_kwDOABII585sClfL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812617163",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T14:18:32Z",
      "updated_at": "2023-11-15T14:25:13Z",
      "author_association": "MEMBER",
      "body": "> Currently GetOpCode() will return OP_UNKNOWN for unknown opcodes which seems reasonable.\r\n\r\nThat's trivially ambiguous, as *all* unknown opcodes are mapped to the same thing.\r\n\r\n> As for undecodable bytes, if we did want a keyword, perhaps something more explicit like UNDECODABLE<...> would be better?\r\n\r\nMaybe, but I wouldn't use `<...>` because it's not a push.\r\n\r\n> We are essentially using what I would expect RAW to denote for > 5 byte minimal pushes if we go with this:\r\n\r\nNo, *any* pushes become either decimal numbers, or `<...>`, or `PUSHDATA[124]<...>`. ~~Pushes are not undecodable.~~\r\n\r\nEDIT: actually, I think all undecodable things (ignoring unknown opcodes) *are* pushes (but ones which straddle the end of the script boundary).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812617163",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1812829602,
      "node_id": "IC_kwDOABII585sDZWi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812829602",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T16:10:39Z",
      "updated_at": "2023-11-15T16:10:39Z",
      "author_association": "NONE",
      "body": "Could we use `UNKNOWN_n` where n denotes the op code hex/decimal such as `UNKOWN_FE` for `0xfe`?",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1812829602",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "convert_to_draft",
      "id": 10971737579,
      "node_id": "CTDE_lADOABII5852QJEQzwAAAAKN923r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10971737579",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T20:02:38Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10972947633,
      "node_id": "HRFPE_lADOABII5852QJEQzwAAAAKOCeSx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10972947633",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T22:24:46Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFmZGViOWFiMTdlMjZmNWQ0MzBjMzlkODNhODM3NmY4ZmM0YzkxOWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1fdeb9ab17e26f5d430c39d83a8376f8fc4c919b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1fdeb9ab17e26f5d430c39d83a8376f8fc4c919b",
      "tree": {
        "sha": "481f66945d22f6063e6d30f3f624c552849994d5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/481f66945d22f6063e6d30f3f624c552849994d5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 481f66945d22f6063e6d30f3f624c552849994d5\nparent 8f9d7ca9ce74c3d40b82528f320f1cad55d8f5cd\nauthor willcl-ark <will@256k1.dev> 1700043631 +0000\ncommitter willcl-ark <will@256k1.dev> 1700087453 +0000\n\nscript: remove ambiguity from ASM repr\n\n* Return minimal pushes < 5 bytes as decimal\n* Return non-minimal pushes < 5 bytes wrapped as OP_CODE<...>\n* Return pushes > 5 bytes as native LE hex wrapped as <...>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEoAg2YPI1onAAzTyBzm7EmUXBfqYFAmVVRp0ACgkQzm7EmUXB\nfqaKhA//UGYXONs/GJnksNt8kfJS3r4YkgvxKShUW7QLjGjZeMcoZiTxLD2/dq9F\nGNk4CL888137cI6y8S5IvEuGdek1/nlnX1+Ry3gJaqUnGQiDIwn5+Ihj5xSAMGT7\nRgrpuehVtEpZby2BFSjRFvZ6bhci39pgviCnmtLE6kxuGz+Yr2Zn2pG1F4khfYk6\nGeZ4Szk3sVUOVBWohDKUkJ1+abRRDdjZUbVIoeMzdTXeNOd59VPaytvyEKujYnAv\n3YZFjvfHXkPKUbhsxrf4lP//JVwpC+HGDK8+lzfDR228EKYtMPQBXjD6MjTwIuWT\nIlTwnCPpwEc3HKEDaV8lSNho0VrYXfw0bAGR9Zw1IGpjNh47BTmi6yniauduxXcG\neWBOYYwIrteTqfwRIv84Jg3JauM3MuLqHhDH+MYYN65H+B3MXBmG6MNA4wkAcG3n\ntcHhfsZYne6BqDmB6WDKlpVx9dgMnzvP00ElcblLJI5WnBdSKRoe06rt75Eoarcc\nn/EtDencf5yKYG2WXZcErn2hZK2zdqy8JPqqkQ/VB6Gvz41Ga9/MhUWRPSHX6+Gl\nGWzFTjmTKVKxTN9xIVowPcIXTfZM+ez8Mt3bxYFteXnO8bXY8BJNeyGRGk67uArO\ncbTae7fukAHdkmpEXfo9CfV8NnaQn1iBMOVJvudB00obeMKyLOo=\n=sEsN\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8f9d7ca9ce74c3d40b82528f320f1cad55d8f5cd",
          "sha": "8f9d7ca9ce74c3d40b82528f320f1cad55d8f5cd",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8f9d7ca9ce74c3d40b82528f320f1cad55d8f5cd"
        }
      ],
      "message": "script: remove ambiguity from ASM repr\n\n* Return minimal pushes < 5 bytes as decimal\n* Return non-minimal pushes < 5 bytes wrapped as OP_CODE<...>\n* Return pushes > 5 bytes as native LE hex wrapped as <...>",
      "committer": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T22:30:53Z"
      },
      "author": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T10:20:31Z"
      },
      "sha": "1fdeb9ab17e26f5d430c39d83a8376f8fc4c919b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDlmNzg2M2VmMzIwNmJiMGQyZDJjNmJmOGNiZjZkZDZmMDVjNTc5NTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9f7863ef3206bb0d2d2c6bf8cbf6dd6f05c57956",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9f7863ef3206bb0d2d2c6bf8cbf6dd6f05c57956",
      "tree": {
        "sha": "a3a72f7ecd8718cf7865fef0b8027340fa64bc1d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a3a72f7ecd8718cf7865fef0b8027340fa64bc1d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a3a72f7ecd8718cf7865fef0b8027340fa64bc1d\nparent 1fdeb9ab17e26f5d430c39d83a8376f8fc4c919b\nauthor willcl-ark <will@256k1.dev> 1700081701 +0000\ncommitter willcl-ark <will@256k1.dev> 1700087454 +0000\n\nscript: add BracketStr helper fn\n\nwrap a pushed value in angle brackets\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEoAg2YPI1onAAzTyBzm7EmUXBfqYFAmVVRp4ACgkQzm7EmUXB\nfqa+tRAAi1qEpyynChOtyLkiDcX1mo+Aof+25nXeBunZqcUP7dGD7s59lJ1cqVwa\nKv0+F0g7MvBMM/CX7Z6hjUjLiKadES+/FbYNpbELN0BX5BkILwm6C5+lElRTB6GV\nIppZuF4O+X4I72vtnA2SxsJz3jvdm1h89Zj2psHwnIWlCEo95dzqhsJU1amhFssq\n1eBpvZePthluKNA7pZ0WxKPdzOxmftXrbEGgiApHgNAEWGxgvxe1cdOwEiWTBmmO\nvfDu2i+g6Kcb+BX4MADqJJXMSAb/YDnJ5346kJ4fu7ckS+V/V3ER4l2U2N1734Cs\np16mnqo7hrvUOztyKwSahnk6ssrJzzXewkEpWJPsovww8OB78QvGsLZLdnfb5ujM\netjk1+6s8K6bTG9eAapAiUqplIMhqa3LfDfW0yllm7HwcddOHUwNlYcRGQNADKaR\nkUsfF6Af8s+V7f3t2AwsW3018pESCpvVBtNAJolgP116/v4pfs18d7XFrEpgNU81\n7FS2Q4hELqDh6prtTyXFwT9SmhFXBUi0nWDTiYYUeZ/8bhYxM5eYvhUuKfrV467z\nWQz7hNWMcsRsF07PTsc4bc22vGQc/OuJWeDJPTfLT0ziCW9RM9YPARDU9THOKOY1\nRMfZ96DKxBWN1nl9bHc89UPk/7eSQ5LqiJin5NTE0VRaPANUh2s=\n=Vo0W\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1fdeb9ab17e26f5d430c39d83a8376f8fc4c919b",
          "sha": "1fdeb9ab17e26f5d430c39d83a8376f8fc4c919b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1fdeb9ab17e26f5d430c39d83a8376f8fc4c919b"
        }
      ],
      "message": "script: add BracketStr helper fn\n\nwrap a pushed value in angle brackets",
      "committer": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T22:30:54Z"
      },
      "author": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T20:55:01Z"
      },
      "sha": "9f7863ef3206bb0d2d2c6bf8cbf6dd6f05c57956"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg5NTQ3YmIwNWZmNWViZTUzMzIyOTc3NjFjYjY1ODVmZmJmMjE4MTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/89547bb05ff5ebe5332297761cb6585ffbf21815",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/89547bb05ff5ebe5332297761cb6585ffbf21815",
      "tree": {
        "sha": "0ffe560a40cf5bc23444c5346ad556cc152773d4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0ffe560a40cf5bc23444c5346ad556cc152773d4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0ffe560a40cf5bc23444c5346ad556cc152773d4\nparent 9f7863ef3206bb0d2d2c6bf8cbf6dd6f05c57956\nauthor willcl-ark <will@256k1.dev> 1699456042 +0000\ncommitter willcl-ark <will@256k1.dev> 1700087455 +0000\n\ndoc: release note for asm repr script changes\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEoAg2YPI1onAAzTyBzm7EmUXBfqYFAmVVRp8ACgkQzm7EmUXB\nfqbF8g/9E2ZMc5R9YVKUst/pCI3hFrhJnLXd26SFi4KLEWz3n+lZXVMFookYt+1W\ngXEiYHeQBE07X0ohHzGQaSMMoWqYA+2jXOqajSeBsH22u/LXFaQE8RsgjORDnN4n\n/N3FrBmMkNtwru2/Tu90ad6fj7xna3TAUMIZ9zfdDCjglANupU3acsoDDT8GB4nH\n536Gbvy+od2p1uCNaDWRE84fl2/VNfKGiDbN1ZUb9jgXB5zQmkjWIk9v3Muv3agg\nzgjbUgtogEfk+mq5I6mnKpITFyR+HSUXjco5jTp4u6ypixhPcjEUTL5NIf1DMmOO\nROeat+ivCkuzQ6bo3mqKhh4RYw62glSbfJcfDT2NkJh6AgiDwtnY1Ta6a9GWSxSV\nDyLaobsSp+6sxhwCDJdDVKBgUVZp5tCaHi0WP/GiYV6VKFIfYRBEr7hO/AM8ZkvA\nhIlBJdp/79g7tKrj13qyoxWHtpgkxui2GI5RMfuFk6GFNZ/+1vdBaBEHA8cLKpM7\nhMJptWeii1cECgkP2VrqwOq0D++EaMoVK7aR9K04HcwUasQ8glziAKeWjStLbNkf\nOrIgsSL+uVQ2RUlwuGMLmeaaPgMIpc7ueCl1wvuQk+JEtMqKWbCdU12vUsN8XKPl\nlxSetCfTyAtsDEKwHz8sJBLv1FOqKo4ZJluB34AK4nCGUoM8VGk=\n=p2DF\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9f7863ef3206bb0d2d2c6bf8cbf6dd6f05c57956",
          "sha": "9f7863ef3206bb0d2d2c6bf8cbf6dd6f05c57956",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9f7863ef3206bb0d2d2c6bf8cbf6dd6f05c57956"
        }
      ],
      "message": "doc: release note for asm repr script changes",
      "committer": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-15T22:30:55Z"
      },
      "author": {
        "name": "willcl-ark",
        "email": "will@256k1.dev",
        "date": "2023-11-08T15:07:22Z"
      },
      "sha": "89547bb05ff5ebe5332297761cb6585ffbf21815"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10973009980,
      "node_id": "HRFPE_lADOABII5852QJEQzwAAAAKOCtg8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10973009980",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T22:31:04Z"
    },
    {
      "event": "commented",
      "id": 1813371106,
      "node_id": "IC_kwDOABII585sFdji",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1813371106",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T22:33:26Z",
      "updated_at": "2023-11-15T22:33:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "Marked as draft for now and pushed what I have worked on so far.\r\n\r\nI haven't looked at implementing undecodable bytes or nested scripts yet.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1813371106",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "reviewed",
      "id": 1733242118,
      "node_id": "PRR_kwDOABII585nTy0G",
      "url": null,
      "actor": null,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#pullrequestreview-1733242118",
      "submitted_at": "2023-11-15T23:53:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
    },
    {
      "event": "reviewed",
      "id": 1733253522,
      "node_id": "PRR_kwDOABII585nT1mS",
      "url": null,
      "actor": null,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#pullrequestreview-1733253522",
      "submitted_at": "2023-11-16T00:07:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
    },
    {
      "event": "commented",
      "id": 1816445363,
      "node_id": "IC_kwDOABII585sRMGz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1816445363",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-17T13:35:46Z",
      "updated_at": "2023-11-17T13:48:11Z",
      "author_association": "MEMBER",
      "body": "Brainstormy idea for undecodable scripts.\r\n\r\nThese are necessarily pushes (direct or OP_PUSHDATA[124]) whose prescribed length exceeds the end of the script. What about using `<...+N>` or `OPCODE<...+N>`, where `...` is hexadecimal as before, and `N` is a decimal number indicating how many bytes are missing?\r\n\r\nEDIT: for `OP_PUSHDATA[124]` it's also possible that the 1-4 byte length field itself straddles the script end, and that isn't covered by this suggestion.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1816445363",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1816491609,
      "node_id": "IC_kwDOABII585sRXZZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1816491609",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-17T14:06:10Z",
      "updated_at": "2023-11-17T14:06:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Brainstormy idea for undecodable scripts.\r\n\r\nCurrently failure to fully parse in `GetScriptOp` will only return `false` if we run out of bytes to read either the length, or from the operand, and we don't store the `opcode` or the available remaining bytes from the iterator in `opcodeRet` or `pvchRet`. But we could change `GetScriptOpt` to store them the failure case too.\r\n\r\n> `<...+N>` or `OPCODE<...+N>`\r\n\r\nI don't think it makes much difference which flavour is chosen here; both would require the `N` to be parsed to calculate the total length and therefore determine the opcode that was used before it was encoded. As there are bytes missing, I don't think we can tell if this was a minimal push or not either. I'd probably slightly lean towards using `OPCODE<...+N>` as it's slightly more human-friendly?",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1816491609",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1816496295,
      "node_id": "IC_kwDOABII585sRYin",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1816496295",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-17T14:08:44Z",
      "updated_at": "2023-11-18T02:21:14Z",
      "author_association": "MEMBER",
      "body": "> I'd probably slightly lean towards using `OPCODE<...+N>` as it's slightly more human-friendly?\r\n\r\nIn case it's a direct push there is no opcode at all. I didn't mean this as a flavor to choose from; we need both.\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1816496295",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1821929092,
      "node_id": "IC_kwDOABII585smG6E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1821929092",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-22T01:03:05Z",
      "updated_at": "2023-11-22T01:03:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Brainstormy idea for undecodable scripts.\r\n> \r\n> These are necessarily pushes (direct or OP_PUSHDATA[124]) whose prescribed length exceeds the end of the script. What about using `<...+N>` or `OPCODE<...+N>`, where `...` is hexadecimal as before, and `N` is a decimal number indicating how many bytes are missing?\r\n> \r\n> EDIT: for `OP_PUSHDATA[124]` it's also possible that the 1-4 byte length field itself straddles the script end, and that isn't covered by this suggestion.\r\n\r\nIf you're adding extra encoding that need to be parsed (`+N`), maybe just have `UNPARSABLE<hex>` or `GARBAGE<hex>` to capture the trailing data that wasn't a full push? Seems less likely to be confusing (easy to miss a +30 at the end of a hex string), and works even if we change an OP_SUCCESS into a multibyte opcode in future?",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1821929092",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1821933197,
      "node_id": "IC_kwDOABII585smH6N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1821933197",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-22T01:08:42Z",
      "updated_at": "2023-11-22T01:08:42Z",
      "author_association": "MEMBER",
      "body": "Yeah, my only (rather minor) reservation about `UNPARSEABLE<...>` is that I think of `<...>` as a way of indicating \"stuff being pushed\", which wouldn't be the case here. And if we're going to introduce some special syntax for unparseable stuff anyway, I thought it might be useful to integrate *into* the push syntax itself (as everything unparseable is an incomplete push).\n\nThat said, I agree that the +N thing isn't super readabable, and it's incomplete anyway (can't deal with OP_PUSHDATA[124] whose length descriptor itself is missing).\n\nSo maybe just `UNPARSEABLE(...)`?",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1821933197",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "commented",
      "id": 1822050550,
      "node_id": "IC_kwDOABII585smkj2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1822050550",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-22T03:58:21Z",
      "updated_at": "2023-11-22T03:58:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Yeah, my only (rather minor) reservation about `UNPARSEABLE<...>` is that I think of `<...>` as a way of indicating \"stuff being pushed\",\r\n\r\nYeah, I guess being able to scan and say `<...>` means data is going onto the stack makes sense.\r\n\r\n> So maybe just `UNPARSEABLE(...)`?\r\n\r\nCould do `UNPARSEABLE:04010203` or something (colon instead of brackets). \r\n\r\n(Arguably, everything after the first OP_SUCCESS in a tapscript could also be considered trailing hex that shouldn't be decoded. Probably more useful to decode it anyway, though)",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1822050550",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    },
    {
      "event": "labeled",
      "id": 11503999416,
      "node_id": "LE_lADOABII5852QJEQzwAAAAKtsRm4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11503999416",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-16T21:28:00Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-27T20:05:39Z",
      "updated_at": "2024-01-27T20:05:39Z",
      "source": {
        "issue": {
          "id": 2103669777,
          "node_id": "I_kwDOC85ISc59Y3QR",
          "url": "https://api.github.com/repos/mempool/mempool/issues/4620",
          "repository_url": "https://api.github.com/repos/mempool/mempool",
          "labels_url": "https://api.github.com/repos/mempool/mempool/issues/4620/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/mempool/mempool/issues/4620/comments",
          "events_url": "https://api.github.com/repos/mempool/mempool/issues/4620/events",
          "html_url": "https://github.com/mempool/mempool/issues/4620",
          "number": 4620,
          "state": "open",
          "state_reason": null,
          "title": "Script Visualization",
          "body": "<!--\r\n   SUPPORT REQUESTS:\r\n   This is for requesting features in Mempool, not for support requests. \r\n   If you have a support request, please reach out on Matrix:\r\n   https://matrix.to/#/#mempool.support:bitcoin.kyoto\r\n-->\r\n\r\n### Description\r\n\r\nWhen currently viewing a bitcoin transaction details on mempool.space, the script stack and corresponding witness is shown in raw OP codes and stack values (pubkeys, numbers for timelocks). It would be a great feature to visualize this in more human readable form, providing a better UX and opportunity to better learn how Bitcoin Script works. This is currently done for simple multisigs of N of M (2 of 3, 3 of 5 etc). The feature request is to provide greater context on how this can be achieved for more robust script templates. If mempool had the ability to parse miniscript script stacks, a generalizeable tool set could be built to visualize dynamic scripts.\r\n\r\n### Problem to be solved\r\n\r\nBitcoin Script isn't intuitive to most users of the Bitcoin Protocol, by providing visual aids to identify the rules in which a UTXO is encumbered by, would allow for an opportunity to demistify how bitcoin works for users of mempool.space, and the network.\r\n\r\n### Proposed solution\r\n\r\nSimilar to mempool googles, being able to have an option when clicking on the details to see either how the stack is visualized today, or a \"script goggles\" option to see how the bitcoin is secured with better abstracted diagrams.\r\n\r\n#### Additional info\r\n\r\nFor reference, here is a testnet transaction I did yesterday:\r\n\r\nhttps://mempool.space/testnet/tx/7cafffe638fe32a74f3c02e89084fb89226834338f59a3e4e0a9610844bef127\r\n\r\nThe P2WSH script is as follows:\r\n```\r\nOP_PUSHNUM_2\r\nOP_PUSHBYTES_33 02d2c579a78092e946d2845b3eb30b0285d6f7f5552ca6ed0c784a77bac51e1a69\r\nOP_PUSHBYTES_33 03ebfd5122214b100e9da78c22f5fb50c76d29ba832eff0051206b6aa697fd2c95\r\nOP_PUSHBYTES_33 03d450e676a34fa4539e3a3cd9b2ee7e7a7c323a9ca519c7a6e62f519d60e52eea\r\nOP_PUSHNUM_3\r\nOP_CHECKMULTISIG\r\nOP_NOTIF\r\nOP_DUP\r\nOP_HASH160\r\nOP_PUSHBYTES_20 d5e3235b082acb32c6072ba7a7ce51c598fcb727\r\nOP_EQUALVERIFY\r\nOP_CHECKSIG\r\nOP_TOALTSTACK\r\nOP_DUP\r\nOP_HASH160\r\nOP_PUSHBYTES_20 00cd08227b0263209dd74d532b28d0a219999cef\r\nOP_EQUALVERIFY\r\nOP_CHECKSIG\r\nOP_FROMALTSTACK\r\nOP_ADD\r\nOP_TOALTSTACK\r\nOP_DUP\r\nOP_HASH160\r\nOP_PUSHBYTES_20 6dcde9844a479637cc97f7721ba92d2f0297ff0f\r\nOP_EQUALVERIFY\r\nOP_CHECKSIG\r\nOP_FROMALTSTACK\r\nOP_ADD\r\nOP_PUSHNUM_2\r\nOP_EQUALVERIFY\r\nOP_PUSHBYTES_4 80abd963\r\nOP_CLTV\r\nOP_ELSE\r\nOP_PUSHBYTES_33 03fffee31d8aa067721cc8fd9754a26ab67d42724923a8dd0f5ea71e4eb9377e64\r\nOP_CHECKSIG\r\nOP_NOTIF\r\nOP_DUP\r\nOP_HASH160\r\nOP_PUSHBYTES_20 dc19a8b23be1d1a930bafe95019e37636fc257ec\r\nOP_EQUALVERIFY\r\nOP_CHECKSIG\r\nOP_TOALTSTACK\r\nOP_DUP\r\nOP_HASH160\r\nOP_PUSHBYTES_20 a10a049eb8a6183dfab65de6342cf004d87a5644\r\nOP_EQUALVERIFY\r\nOP_CHECKSIG\r\nOP_FROMALTSTACK\r\nOP_ADD\r\nOP_TOALTSTACK\r\nOP_DUP\r\nOP_HASH160\r\nOP_PUSHBYTES_20 ad0b1f7bc01c23174193210cf37b8700d9707942\r\nOP_EQUALVERIFY\r\nOP_CHECKSIG\r\nOP_FROMALTSTACK\r\nOP_ADD\r\nOP_PUSHNUM_2\r\nOP_EQUAL\r\nOP_ELSE\r\nOP_PUSHBYTES_4 00cdb063\r\nOP_CLTV\r\nOP_ENDIF\r\nOP_ENDIF\r\n```\r\n\r\nWhat does this mean in plain english though? I generated this script using miniscript, so the script stack can actually be abstracted to miniscript:\r\n\r\n```wsh(andor(multi(2,[30c7c72b/48'/1'/0'/2']tpubDEXQJ7zfCxN3Fm1VUoZZ5EBwb6yaT813Dt2EPcUgHkcdp5ETtY7rZbTimiVwFpBi4xcpdJ4W9mxZGkbAgfYqdRGrNtHULYTcyTLLQFR7JpD/*,[62fa764a/48'/1'/0'/2']tpubDFRjazvAAGtQjKGTTSch6FKnsXYnDNibnd5syZ3oXqSraCwbW9mhtm7CiGKQ7zZ7cpNCSXVyjYZwSb8YskRzVqoNSVX1jXJ9efRpJFPY4sf/*,[277dcebc/48'/1'/0'/2']tpubDEmEWF2iixNg9rSKtBRL6qCi9M1DpnAuwsmDYiyEi5TMnA2UfuJ2oTnpvrEvotbYtgNupL72rV4HjsM7o4EyKgqid47RM7DiYj3FgCm4HKa/*),andor(pk([562f7833/48'/1'/0'/2']tpubDFULx2EDJgEQtXLEd6zKizLP1LfMUMkY31zME6tvFReS3y3hvsZLeTDwZiZ8YxqNQWaLnHe4fdhb5EAjrrhfZD8cFRa69wTnMYutJxw3WuF/*),after(1672531200),thresh(2,pkh([860a2400/48'/1'/0'/2']tpubDEa2Qdj8t9RkyjGqixGZuvHjVYKhti2uD6YJtiUmbhYYWBvJBuT7JYWPF3fPX2inGjeTv3rVCooK1L2vLdK4Rv3psCbbGHEyDiiLaMvzvJW/*),a:pkh([6355bbe3/48'/1'/0'/2']tpubDEMVcMk6t7b3nfpLdngdudhaEnQSD4inorHmCuj1RdgJaAuRuJGe99Ssq6BPeSWZrZYGGo7qcRa1m48LGuYD9dK7B4chUTk3tANseHd5tEY/*),a:pkh([72c7e86b/48'/1'/0'/2']tpubDExTVsbh95Ps92deZWmSbazDNthPEq6osvi6r61SqRMtMxp2vSJ6JbH2TkhFkDq5R4dnbftRDeUVMfV8NTVx1daE8Z9kxADY3NoEQurVwGZ/*))),and_v(v:thresh(2,pkh([9463f6aa/48'/1'/0'/2']tpubDEtVwVxs3LCbhgrhL72LDDjvRuaJSzXiMU9B6MXy4B2aRvb9GFJ5emNgEt83EZ65yYrCqxdTocC6g2iCoLcEPQqxeVJMmQmFQqGsD6UyJ3w/*),a:pkh([f90fc832/48'/1'/0'/2']tpubDFQ3CMPN1ETYsfWMNe5nfbUMRN6Ckph2BS3wJZGiGMoNh2Nz2CG33zrYEsJ6WYG4WKpdgDNagnsDQpwVhz9B9aq1K8Vti6GRH3UAAoeqFx3/*),a:pkh([d28d56f7/48'/1'/0'/2']tpubDE63xn1YqAidzwguM5gu3LPVXaWS9xfE1Q7UwHyPYRKaiVyByoDpa63C18cM7Q5mcsTMKKGxhHDGaZTXHR3b3yXxik3hTczj5rhg6DugpZ2/*)),after(1675209600))))#f0h8g4ev```\r\n\r\nSo, to generate the specific UTXO: `tb1qsjafrqfwrnkzay8x97zzpvju5g8ns2fqcarqwjv2nnnpxdz79xjsfnmkll` you'd take the 0/0 index for each of these tpubs, as this was the first recieve address for the wallet, so swapping the tpubs for public keys gets you:\r\n\r\n```wsh(andor(multi(2,02d2c579a78092e946d2845b3eb30b0285d6f7f5552ca6ed0c784a77bac51e1a69,03ebfd5122214b100e9da78c22f5fb50c76d29ba832eff0051206b6aa697fd2c95,03d450e676a34fa4539e3a3cd9b2ee7e7a7c323a9ca519c7a6e62f519d60e52eea),andor(pk(03fffee31d8aa067721cc8fd9754a26ab67d42724923a8dd0f5ea71e4eb9377e64),after(1672531200),thresh(2,pkh(035b7f5811a7863db0ef70eada285ffc1098bdc612edd7413d0cf5ac38b5f42b59),a:pkh(02457dd2c9741d718f3fe2e8fb2e9c844f710683cde6441be442ac5aa87ef6bb15),a:pkh(024bb627f22745740e74482344b000d66d7d06a405a9309df4610e124fa0fcdff2))),and_v(v:thresh(2,pkh(023ab4f3af852c13d274a9a3b4eb53227a336b335f883459ee80b5e4cd59b021a1),a:pkh(034cd1d366c0d0077971fc01e331b0a294d8f4bb9097ddd1f5d99980a5988913e4),a:pkh(03efc52a221512f7b6618e5c3f11a8619ddfe7ca56ef411be1baf28b05766db322)),after(1675209600))))```\r\n\r\nThis is then compiled into bitcoin script, and shown as the P2WSH op code stack shown above. There are some transformations, for example, if an output descriptor fragment has pkh, it takes the hash of the public key, for example:\r\n\r\n`02457dd2c9741d718f3fe2e8fb2e9c844f710683cde6441be442ac5aa87ef6bb15` when ran through OP_HASH16 becomes `a10a049eb8a6183dfab65de6342cf004d87a5644` - which is the actual element on the script stack.\r\n\r\nAdditionally, the `after()` fragments are absolute timelocks, which are seen with the OP_CLTV elements of the P2WSH: \r\n\r\n`after(1672531200)` is an epoch timestamp, which is January 1st, 2023 at Midnight GMT. On the stack, this is visualized as:\r\n\r\n```\r\nOP_PUSHBYTES_4 00cdb063\r\nOP_CLTV\r\n```\r\n\r\n`00cdb063` in little endian represents `63B0CD00` in HEX, which converts to `1672531200` in decimal form. In Bitcoin Script, when a number is larger than 500,000,000, timelocks are interpreted as epoch timestamps. If lower than 500,000,000, they are interpreted as block height based timelocks, as CLTV uses the `nLockTime` field in a transaction. This transaction complies with CLTV, since the locktime for the transaction is: `‎1,672,531,200`.\r\n\r\nA low hanging fruit would be providing a calendar date/time reference for a CLTV/CSV timelock upon hovering over that block of the script stack.\r\n\r\nAs for the actual rules for how this script is being secured, one could evaluate the output descriptor:\r\n\r\n```\r\nwsh(\r\n\tandor(\r\n\t\tmulti(\r\n\t\t\t2,\r\n\t\t\t\t02d2c579a78092e946d2845b3eb30b0285d6f7f5552ca6ed0c784a77bac51e1a69,\r\n\t\t\t\t03ebfd5122214b100e9da78c22f5fb50c76d29ba832eff0051206b6aa697fd2c95,\r\n\t\t\t\t03d450e676a34fa4539e3a3cd9b2ee7e7a7c323a9ca519c7a6e62f519d60e52eea\r\n\t\t\t)\r\n\t\t\t,\r\n\t\t\tandor(\r\n\t\t\t\tpk(\r\n\t\t\t\t\t03fffee31d8aa067721cc8fd9754a26ab67d42724923a8dd0f5ea71e4eb9377e64),\r\n\t\t\t\t\tafter(1672531200)\r\n\t\t\t\t,\r\n\t\t\t\tthresh(\r\n\t\t\t\t\t2,pkh(035b7f5811a7863db0ef70eada285ffc1098bdc612edd7413d0cf5ac38b5f42b59),\r\n\t\t\t\t\ta:pkh(02457dd2c9741d718f3fe2e8fb2e9c844f710683cde6441be442ac5aa87ef6bb15),\r\n\t\t\t\t\ta:pkh(024bb627f22745740e74482344b000d66d7d06a405a9309df4610e124fa0fcdff2))\r\n\t\t\t\t),\r\n\t\tand_v(\r\n\t\t\tv:thresh(\r\n\t\t\t\t2,\r\n\t\t\t\tpkh(023ab4f3af852c13d274a9a3b4eb53227a336b335f883459ee80b5e4cd59b021a1),\r\n\t\t\t\ta:pkh(034cd1d366c0d0077971fc01e331b0a294d8f4bb9097ddd1f5d99980a5988913e4),\r\n\t\t\t\ta:pkh(03efc52a221512f7b6618e5c3f11a8619ddfe7ca56ef411be1baf28b05766db322)\r\n\t\t\t\t),\r\n\t\t\tafter(1675209600)\r\n\t\t\t)\r\n\t\t)\r\n)\r\n```\r\n\r\nOk, to actually make this plain english, this is a WSH address that can be spent several ways:\r\n\r\nOption 1:\r\n\r\n2 of 3 of :\r\n```\t\t\t\t02d2c579a78092e946d2845b3eb30b0285d6f7f5552ca6ed0c784a77bac51e1a69,\r\n\t\t\t\t03ebfd5122214b100e9da78c22f5fb50c76d29ba832eff0051206b6aa697fd2c95,\r\n\t\t\t\t03d450e676a34fa4539e3a3cd9b2ee7e7a7c323a9ca519c7a6e62f519d60e52eea\r\n```\r\nAND\r\n\r\neither:\r\n\r\n`03fffee31d8aa067721cc8fd9754a26ab67d42724923a8dd0f5ea71e4eb9377e64` AND `after(1672531200)` (january 1st 2023 at midnight GMT)\r\n\r\nOR\r\n\r\n2 of 3:\r\n```\r\n035b7f5811a7863db0ef70eada285ffc1098bdc612edd7413d0cf5ac38b5f42b59\r\n02457dd2c9741d718f3fe2e8fb2e9c844f710683cde6441be442ac5aa87ef6bb15\r\n024bb627f22745740e74482344b000d66d7d06a405a9309df4610e124fa0fcdff2\r\n```\r\n\r\nOption 2:\r\n\r\n2 of 3: \r\n\r\n```023ab4f3af852c13d274a9a3b4eb53227a336b335f883459ee80b5e4cd59b021a1\r\n034cd1d366c0d0077971fc01e331b0a294d8f4bb9097ddd1f5d99980a5988913e4\r\n03efc52a221512f7b6618e5c3f11a8619ddfe7ca56ef411be1baf28b05766db322\r\n```\r\nAND\r\n`after(1675209600)` (February 1st, 2023 at Midnight GMT)\r\n\r\n\r\nUsing the [BDK Playground](https://bitcoindevkit.org/bdk-cli/playground/), this can be visualized as:\r\n\r\n![image](https://github.com/mempool/mempool/assets/6456095/56ae0994-8dd1-4ea1-8aa9-31241fcc771d)\r\n\r\nThis results in the miniscript policy of:\r\n\r\n```or(99@and(thresh(2,pk(A),pk(B),pk(C)),or(thresh(2,pk(D),pk(E),pk(F)),99@and(pk(G),after(1672531200)))),and(thresh(2,pk(H),pk(I),pk(J)),after(1675209600)))```\r\n\r\nNote: Miniscript Policy, unlike a miniscript output descriptor, can not be derived from Bitcoin Script. Going from a miniscript policy to script/output descriptors is a one way function. This is provided as a reference for a cleaner way to diagram how this bitcoin is secured.\r\n\r\nIf you take the diagram above, and swap in the mapping for  Keys A-J, you can see how this is executed on the script stack in my testnet transaction:\r\n\r\n| Key Name      | Public Key                                  |\r\n|---------------|---------------------------------------------|\r\n| A          | 02d2c579a78092e946d2845b3eb30b0285d6f7f5552ca6ed0c784a77bac51e1a69        |\r\n| B          | 03ebfd5122214b100e9da78c22f5fb50c76d29ba832eff0051206b6aa697fd2c95        |\r\n| C          | 03d450e676a34fa4539e3a3cd9b2ee7e7a7c323a9ca519c7a6e62f519d60e52eea  |\r\n| D         | 03fffee31d8aa067721cc8fd9754a26ab67d42724923a8dd0f5ea71e4eb9377e64        |\r\n| E         | 035b7f5811a7863db0ef70eada285ffc1098bdc612edd7413d0cf5ac38b5f42b59        |\r\n| F         | 02457dd2c9741d718f3fe2e8fb2e9c844f710683cde6441be442ac5aa87ef6bb15        |\r\n| G         | 024bb627f22745740e74482344b000d66d7d06a405a9309df4610e124fa0fcdff2        |\r\n| H         | 023ab4f3af852c13d274a9a3b4eb53227a336b335f883459ee80b5e4cd59b021a1        |\r\n| I         | 034cd1d366c0d0077971fc01e331b0a294d8f4bb9097ddd1f5d99980a5988913e4        |\r\n| J         | 03efc52a221512f7b6618e5c3f11a8619ddfe7ca56ef411be1baf28b05766db322        |\r\n\r\n\r\nThere are other elements to consider as well for generlaized miniscript, specifically `older()` fragments, which use OP_CSV for relative timelocks, block height specific timelocks, hashlocks, and thresholds which combine more than just keys, for example a 3 of 4 multisig with 3 keys and ` timelocks (in practice, this is a 3 of 3 multisig, which becomes a 2 of 3 multisig after a timelock is satisfied).\r\n\r\nThere are added visualizations to be considered as well for taproot addresses and traversing to a given tapleaf, but any logic built for P2WSH/P2SH scripts could be extended to taproot.\r\n\r\nI'd be happy to brainstorm other ways of visualizing this data as well, I think having a site like mempool provide neutral visualization of how scripts are secured will bring about better user confidence and understanding of how bitcoin is being secured!\r\n\r\n--\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
          "user": {
            "login": "Rob1Ham",
            "id": 6456095,
            "node_id": "MDQ6VXNlcjY0NTYwOTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6456095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Rob1Ham",
            "html_url": "https://github.com/Rob1Ham",
            "followers_url": "https://api.github.com/users/Rob1Ham/followers",
            "following_url": "https://api.github.com/users/Rob1Ham/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Rob1Ham/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Rob1Ham/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Rob1Ham/subscriptions",
            "organizations_url": "https://api.github.com/users/Rob1Ham/orgs",
            "repos_url": "https://api.github.com/users/Rob1Ham/repos",
            "events_url": "https://api.github.com/users/Rob1Ham/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Rob1Ham/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignee": {
            "login": "mononaut",
            "id": 83316221,
            "node_id": "MDQ6VXNlcjgzMzE2MjIx",
            "avatar_url": "https://avatars.githubusercontent.com/u/83316221?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mononaut",
            "html_url": "https://github.com/mononaut",
            "followers_url": "https://api.github.com/users/mononaut/followers",
            "following_url": "https://api.github.com/users/mononaut/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/mononaut/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/mononaut/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/mononaut/subscriptions",
            "organizations_url": "https://api.github.com/users/mononaut/orgs",
            "repos_url": "https://api.github.com/users/mononaut/repos",
            "events_url": "https://api.github.com/users/mononaut/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/mononaut/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "mononaut",
              "id": 83316221,
              "node_id": "MDQ6VXNlcjgzMzE2MjIx",
              "avatar_url": "https://avatars.githubusercontent.com/u/83316221?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/mononaut",
              "html_url": "https://github.com/mononaut",
              "followers_url": "https://api.github.com/users/mononaut/followers",
              "following_url": "https://api.github.com/users/mononaut/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/mononaut/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/mononaut/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/mononaut/subscriptions",
              "organizations_url": "https://api.github.com/users/mononaut/orgs",
              "repos_url": "https://api.github.com/users/mononaut/repos",
              "events_url": "https://api.github.com/users/mononaut/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/mononaut/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "NONE",
          "locked": false,
          "comments": 1,
          "created_at": "2024-01-27T16:47:41Z",
          "updated_at": "2024-01-27T20:05:39Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1927060160,
      "node_id": "PRR_kwDOABII585y3JrA",
      "url": null,
      "actor": null,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "body": "",
      "user": {
        "login": "Luiscolo",
        "id": 154256138,
        "node_id": "U_kgDOCTHDCg",
        "avatar_url": "https://avatars.githubusercontent.com/u/154256138?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Luiscolo",
        "html_url": "https://github.com/Luiscolo",
        "followers_url": "https://api.github.com/users/Luiscolo/followers",
        "following_url": "https://api.github.com/users/Luiscolo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Luiscolo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Luiscolo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Luiscolo/subscriptions",
        "organizations_url": "https://api.github.com/users/Luiscolo/orgs",
        "repos_url": "https://api.github.com/users/Luiscolo/repos",
        "events_url": "https://api.github.com/users/Luiscolo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Luiscolo/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#pullrequestreview-1927060160",
      "submitted_at": "2024-03-11T07:14:09Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
    },
    {
      "event": "commented",
      "id": 1987808491,
      "node_id": "IC_kwDOABII5852e4zr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1987808491",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T07:51:44Z",
      "updated_at": "2024-03-11T07:51:44Z",
      "author_association": "MEMBER",
      "body": "Are you still working on this?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#issuecomment-1987808491",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28824"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387462425",
      "pull_request_review_id": 1721660658,
      "id": 1387462425,
      "node_id": "PRRC_kwDOABII585Ssv8Z",
      "diff_hunk": "@@ -133,7 +133,7 @@ def decodescript_script_pub_key(self):\n         cltv_script = '63' + push_public_key + 'ad670320a107b17568' + push_public_key + 'ac'\n         rpc_result = self.nodes[0].decodescript(cltv_script)\n         assert_equal('nonstandard', rpc_result['type'])\n-        assert_equal('OP_IF ' + public_key + ' OP_CHECKSIGVERIFY OP_ELSE 500000 OP_CHECKLOCKTIMEVERIFY OP_DROP OP_ENDIF ' + public_key + ' OP_CHECKSIG', rpc_result['asm'])\n+        assert_equal('OP_IF ' + public_key + ' OP_CHECKSIGVERIFY OP_ELSE 20a107 OP_CHECKLOCKTIMEVERIFY OP_DROP OP_ENDIF ' + public_key + ' OP_CHECKSIG', rpc_result['asm'])",
      "path": "test/functional/rpc_decodescript.py",
      "position": null,
      "original_position": 5,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "fde11cb0fa300914721f55932a3bfabfcd428d27",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This seems much harder to understand to me -- you need to convert it to `0x07a120` then convert that to decimal to get back to the nice round number block height? In particular mistaking it for `0x20a107` (2,138,375) would be particularly misleading.",
      "created_at": "2023-11-09T04:12:28Z",
      "updated_at": "2023-11-09T04:12:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1387462425",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387462425"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 136,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387463136",
      "pull_request_review_id": 1721661821,
      "id": 1387463136,
      "node_id": "PRRC_kwDOABII585SswHg",
      "diff_hunk": "@@ -170,7 +170,7 @@ def test_send(self, from_wallet, to_wallet=None, amount=None, data=None,\n                 else:\n                     assert_greater_than(from_balance_before - from_balance, amount)\n             else:\n-                assert next((out for out in tx[\"vout\"] if out[\"scriptPubKey\"][\"asm\"] == \"OP_RETURN 35\"), None)\n+                assert next((out for out in tx[\"vout\"] if out[\"scriptPubKey\"][\"asm\"] == \"OP_RETURN 23\"), None)",
      "path": "test/functional/wallet_send.py",
      "position": null,
      "original_position": 5,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "fde11cb0fa300914721f55932a3bfabfcd428d27",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This also seems confusing, particularly if it appears in something like `DUP SIZE 20 EQUALVERIFY HASH160 <x> EQUAL` -- whoops, that's actually saying the input should be 32 bytes, not 20 bytes.",
      "created_at": "2023-11-09T04:14:19Z",
      "updated_at": "2023-11-09T04:14:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1387463136",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387463136"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 173,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1394993981",
      "pull_request_review_id": 1733242118,
      "id": 1394993981,
      "node_id": "PRRC_kwDOABII585TJes9",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);",
      "path": "src/core_write.cpp",
      "position": 67,
      "original_position": 67,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think you want `fRequireMinimal=true` true here, otherwise it'll turn non-minimally-encoded values into decimal too.",
      "created_at": "2023-11-15T23:53:04Z",
      "updated_at": "2023-11-15T23:53:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1394993981",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1394993981"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395001686",
      "pull_request_review_id": 1733253522,
      "id": 1395001686,
      "node_id": "PRRC_kwDOABII585TJglW",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);\n+                    str += strprintf(\"%lld\", n.GetInt64());\n                 } else {\n-                    str += HexStr(vch);\n+                    // Otherwise display the push as LE hex enclosed in angle brackets",
      "path": "src/core_write.cpp",
      "position": 71,
      "original_position": 71,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I expect this to be a controversial opinion, but I disagree with calling this \"little endian\". That's a term that applies to encoding numbers to bytes/bits. Since what's being encoded isn't a number, or to be interpreted as a number, endianness is inapplicable. It's just encoding bytes in hexadecimal format, in order.",
      "created_at": "2023-11-16T00:07:15Z",
      "updated_at": "2023-11-16T00:07:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1395001686",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395001686"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 140,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395004582",
      "pull_request_review_id": 1733257316,
      "id": 1395004582,
      "node_id": "PRRC_kwDOABII585TJhSm",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);\n+                    str += strprintf(\"%lld\", n.GetInt64());\n                 } else {\n-                    str += HexStr(vch);\n+                    // Otherwise display the push as LE hex enclosed in angle brackets",
      "path": "src/core_write.cpp",
      "position": 71,
      "original_position": 71,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": 1395001686,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's not little endian, I agree.",
      "created_at": "2023-11-16T00:11:14Z",
      "updated_at": "2023-11-16T00:11:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1395004582",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395004582"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 140,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395555866",
      "pull_request_review_id": 1734148610,
      "id": 1395555866,
      "node_id": "PRRC_kwDOABII585TLn4a",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);",
      "path": "src/core_write.cpp",
      "position": 67,
      "original_position": 67,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": 1394993981,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Agree that it should be `true` as a belt-and-suspenders, but we are inside `if (CheckMinimalPush(vch, opcode))` already here, so shouldn't happen?",
      "created_at": "2023-11-16T11:28:51Z",
      "updated_at": "2023-11-16T11:28:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1395555866",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395555866"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395576175",
      "pull_request_review_id": 1734181268,
      "id": 1395576175,
      "node_id": "PRRC_kwDOABII585TLs1v",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);",
      "path": "src/core_write.cpp",
      "position": 67,
      "original_position": 67,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": 1394993981,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Byte code `024000` is a minimal push of the two-byte vector `4000` (so passes `CheckMinimalPush`) but it's not a minimal `CScriptNum` since it just evaluates to 64, and should have been `0140` (so fails `fRequireMinimal` due to the trailing 0).",
      "created_at": "2023-11-16T11:47:08Z",
      "updated_at": "2023-11-16T11:47:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1395576175",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395576175"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395623337",
      "pull_request_review_id": 1734259926,
      "id": 1395623337,
      "node_id": "PRRC_kwDOABII585TL4Wp",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);",
      "path": "src/core_write.cpp",
      "position": 67,
      "original_position": 67,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": 1394993981,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, there are two distinct concepts of minimality:\r\n* Minimal pushes apply to the interpretation of stack elements as *byte vectors*, and are about whether you used the right opcode (OP_n, direct push, OP_PUSHDATA1, OP_PUSHDATA2, OP_PUSHDATA4): you have to use the first applicable one from that list for a push to be a minimal push. It's relevant even for non-numeric data in script (e.g. you shouldn't use OP_PUSHDATA1 to push a public key, as a direct push suffices).\r\n* Minimally-encoded integers apply to the interpretation of stack elements as *numbers*, and are about whether no surplus bytes were introduced when encoding the number as a byte vector but not about how that byte vector gets pushed. The byte vectors `42`, `4200`, `420000` all encode the number 66, and `83`, `0380`, `030080`, ... all encode the number -3, but you have to use the first one from each list for it to be minimally-encoded.",
      "created_at": "2023-11-16T12:29:50Z",
      "updated_at": "2023-11-16T12:36:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1395623337",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395623337"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395831233",
      "pull_request_review_id": 1734604024,
      "id": 1395831233,
      "node_id": "PRRC_kwDOABII585TMrHB",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);",
      "path": "src/core_write.cpp",
      "position": 67,
      "original_position": 67,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": 1394993981,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for the explanations.\r\n\r\nI've refactored out handling pushed data, as I wasn't enjoying all the nested if statements, and notice that we are currently handling \"non-minimal pushes\" the same as minimal pushes with non-minimally-encoded values, which is to use `OPCODE<hex>`. This seems ok, and it will not be a lossy decode, but do we want to differentiate between the two pathways to this decode format?\r\n\r\nSee first and last case in snippet to illustrate what I mean above:\r\n\r\n```cpp\r\n/*\r\n * Format pushed bytes into appropriate ASM format\r\n */\r\nstd::string FormatPushDataAsm(const std::vector<unsigned char>& vch, opcodetype opcode)\r\n{\r\n    // Use OPCODE<hex> for non-minimal pushes\r\n    // TODO: There are no tests for this currently\r\n    if (!CheckMinimalPush(vch, opcode)) {\r\n        return GetOpNameAsm(opcode) + BracketStr(HexStr(vch));\r\n    }\r\n\r\n    // Use <hex> for minimal pushes > 5 bytes\r\n    if (!(vch.size() <= 5) ) {\r\n        return BracketStr(HexStr(vch));\r\n    }\r\n\r\n    // Use decimal for minimally-encoded, minimal pushes <= 5 bytes\r\n    // Note: OP_CLTV / OP_CSV accept 5-byte numbers\r\n    try {\r\n        CScriptNum n{vch, true, 5};\r\n        return strprintf(\"%lld\", n.GetInt64());\r\n    }\r\n\r\n    // Use OPCODE<hex> for non-minimally-encoded minimal pushes\r\n    // TODO: There are no tests for this currently\r\n    catch (scriptnum_error& e) {\r\n        return GetOpNameAsm(opcode) + BracketStr(HexStr(vch));\r\n    }\r\n}\r\n```",
      "created_at": "2023-11-16T14:48:25Z",
      "updated_at": "2023-11-16T14:48:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1395831233",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395831233"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395839903",
      "pull_request_review_id": 1734617682,
      "id": 1395839903,
      "node_id": "PRRC_kwDOABII585TMtOf",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);",
      "path": "src/core_write.cpp",
      "position": 67,
      "original_position": 67,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": 1394993981,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The `<...>` and `OPCODE<...>` cases treat the pushed values as byte arrays, not as numbers, so minimal encoding or not is irrelevant.",
      "created_at": "2023-11-16T14:50:25Z",
      "updated_at": "2023-11-16T14:50:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1395839903",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395839903"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395846308",
      "pull_request_review_id": 1734628217,
      "id": 1395846308,
      "node_id": "PRRC_kwDOABII585TMuyk",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);",
      "path": "src/core_write.cpp",
      "position": 67,
      "original_position": 67,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": 1394993981,
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sure, but what I mean is that in my current impl there are _two_ ways we can end up with `OPCODE<...>`:\r\n\r\n1) Wasn't a minimal push\r\n2) Was a minimal push <5 bytes, but wasn't a minimally-encoded decimal value",
      "created_at": "2023-11-16T14:54:30Z",
      "updated_at": "2023-11-16T14:54:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1395846308",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395846308"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395859701",
      "pull_request_review_id": 1734653538,
      "id": 1395859701,
      "node_id": "PRRC_kwDOABII585TMyD1",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);",
      "path": "src/core_write.cpp",
      "position": 67,
      "original_position": 67,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": 1394993981,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hmm, right. I think that's redundant.\r\n\r\nI'd go for something like:\r\n* If minimal push, not over 5 bytes, and minimally encoded, use decimal.\r\n* Otherwise, if minimal push, or direct push, use `<...>`.\r\n* Otherwise, use `OPCODE<...>`.\r\n\r\n",
      "created_at": "2023-11-16T15:03:23Z",
      "updated_at": "2023-11-16T15:03:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1395859701",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395859701"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395881820",
      "pull_request_review_id": 1734691122,
      "id": 1395881820,
      "node_id": "PRRC_kwDOABII585TM3dc",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);",
      "path": "src/core_write.cpp",
      "position": 67,
      "original_position": 67,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": 1394993981,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is unambiguous, with the following decoding rules:\r\n* Decimal numbers are turned into `OP_n` if applicable, otherwise into a direct push of the minimally-encoded form of that number.\r\n* `<...>` is turned into a direct push if up to 75 bytes, into `OP_PUSHDATA1` if below 256 bytes, into `OP_PUSHDATA2` if below 65536 bytes, and into `OP_PUSHDATA4` otherwise.\r\n* `OPCODE<...>` is turned into a push using the relevant opcode.\r\n\r\nIn particular (I think @ajtowns pointed this out before as well), using `<...>` for non-minimal but direct pushes is fine, as it cannot represent anything else (not an `OP_n`, because those use decimal, and not a `PUSHDATA` opcode because if those were used for sizes <= 75 bytes, they'd have used `OPCODE<...>`).",
      "created_at": "2023-11-16T15:16:28Z",
      "updated_at": "2023-11-16T15:18:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1395881820",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395881820"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1396624902",
      "pull_request_review_id": 1735926839,
      "id": 1396624902,
      "node_id": "PRRC_kwDOABII585TPs4G",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);",
      "path": "src/core_write.cpp",
      "position": 67,
      "original_position": 67,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": 1394993981,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah. This just means changing the final `catch` to `return BracketStr(HexStr(vch));`, no?",
      "created_at": "2023-11-17T02:40:46Z",
      "updated_at": "2023-11-17T02:40:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1396624902",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1396624902"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1396625356",
      "pull_request_review_id": 1735927423,
      "id": 1396625356,
      "node_id": "PRRC_kwDOABII585TPs_M",
      "diff_hunk": "@@ -109,33 +115,46 @@ std::string ScriptToAsmStr(const CScript& script, const bool fAttemptSighashDeco\n             str += \"[error]\";\n             return str;\n         }\n+        // Covers OP_FALSE\n+        if (opcode == OP_0) {\n+            str += \"0\";\n+            continue;\n+        }\n+        if (opcode == OP_1NEGATE) {\n+            str += \"-1\";\n+            continue;\n+        }\n+        // OP_n -> n (so 1, ..., 10, ..., 16), covers OP_TRUE\n+        if ((opcode >= OP_1 && opcode <= OP_16)) {\n+            // These are always minimal, use the corresponding value\n+            str += strprintf(\"%i\", opcode - OP_1NEGATE - 1);\n+            continue;\n+        }\n         if (0 <= opcode && opcode <= OP_PUSHDATA4) {\n-            if (vch.size() <= static_cast<std::vector<unsigned char>::size_type>(4)) {\n-                str += strprintf(\"%d\", CScriptNum(vch, false).getint());\n-            } else {\n-                // the IsUnspendable check makes sure not to try to decode OP_RETURN data that may match the format of a signature\n-                if (fAttemptSighashDecode && !script.IsUnspendable()) {\n-                    std::string strSigHashDecode;\n-                    // goal: only attempt to decode a defined sighash type from data that looks like a signature within a scriptSig.\n-                    // this won't decode correctly formatted public keys in Pubkey or Multisig scripts due to\n-                    // the restrictions on the pubkey formats (see IsCompressedOrUncompressedPubKey) being incongruous with the\n-                    // checks in CheckSignatureEncoding.\n-                    if (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, nullptr)) {\n-                        const unsigned char chSigHashType = vch.back();\n-                        const auto it = mapSigHashTypes.find(chSigHashType);\n-                        if (it != mapSigHashTypes.end()) {\n-                            strSigHashDecode = \"[\" + it->second + \"]\";\n-                            vch.pop_back(); // remove the sighash type byte. it will be replaced by the decode.\n-                        }\n-                    }\n-                    str += HexStr(vch) + strSigHashDecode;\n+            if (CheckMinimalPush(vch, opcode)) {\n+                if (vch.size() <= 5 ) {\n+                    // Return decimal for minimially-encoded values <= 5 bytes (OP_CLTV / OP_CSV accept 5-byte numbers)\n+                    CScriptNum n(vch, false, 5);",
      "path": "src/core_write.cpp",
      "position": 67,
      "original_position": 67,
      "commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "original_commit_id": "89547bb05ff5ebe5332297761cb6585ffbf21815",
      "in_reply_to_id": 1394993981,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also,\r\n\r\n```c++\r\nif (!(vch.size() <= 5) ) {\r\n```\r\n\r\nCan I introduce you to `>` ? :smile:",
      "created_at": "2023-11-17T02:41:45Z",
      "updated_at": "2023-11-17T02:41:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28824#discussion_r1396625356",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1396625356"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28824"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 137,
      "original_line": 137,
      "side": "RIGHT"
    }
  ]
}