{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832",
    "id": 1025203133,
    "node_id": "PR_kwDOABII5849G1u9",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/25832",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/25832.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/25832.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25832",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25832/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
    "number": 25832,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "tracing: network connection tracepoints",
    "user": {
      "login": "0xB10C",
      "id": 19157360,
      "node_id": "MDQ6VXNlcjE5MTU3MzYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xB10C",
      "html_url": "https://github.com/0xB10C",
      "followers_url": "https://api.github.com/users/0xB10C/followers",
      "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
      "organizations_url": "https://api.github.com/users/0xB10C/orgs",
      "repos_url": "https://api.github.com/users/0xB10C/repos",
      "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/0xB10C/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This adds five new tracepoints with documentation and tests for network connections:\r\n\r\n- established connections with `net:inbound_connection` and `net:outbound_connection`\r\n- closed connections (both closed by us or by the peer) with `net:closed_connnection`\r\n- connections that we choose to evict with `net:evicted_connection`\r\n- connections that are misbehaving and punished with `net:misbehaving_connection`\r\n\r\nI've been using these tracepoints for a few months now to monitor connection lifetimes, re-connection frequency by IP and netgroup, misbehavior, peer discouragement, and eviction and more. Together with the two existing P2P message tracepoints they allow for a good overview of local P2P network activity. Also sort-of addresses https://github.com/bitcoin/bitcoin/pull/22006#discussion_r636775863. \r\n\r\nI've been back and forth on which arguments to include. For example, `net:evicted_connection` could also include some of the eviction metrics like e.g. `last_block_time`, `min_ping_time`, ... but I've left them out for now. If wanted, this can be added here or in a follow-up. I've tried to minimize a potential performance impact by measuring executed instructions with `gdb` where possible (method described [here](https://github.com/bitcoin/bitcoin/pull/23724#issuecomment-996919963)). I don't think a few hundred extra instructions are too crucial, as connection opens/closes aren't too frequent (compared to e.g. P2P messages).   Note: e.g. `CreateNodeFromAcceptedSocket()` usually executes between 80k and 90k instructions for each new inbound connection.\r\n\r\n| tracepoint                 \t| instructions                                           \t|\r\n|----------------------------\t|--------------------------------------------------------\t|\r\n| net:inbound_connection     \t| 390 ins                                                \t|\r\n| net:outbound_connection    \t| between 700 and 1000 ins                                     \t|\r\n| net:closed_connnection     \t| 473 ins                                                \t|\r\n| net:evicted_connection     \t| not measured; likely similar to net:closed_connnection \t|\r\n| net:misbehaving_connection | not measured                                           \t|\r\n\r\nAlso added a bpftrace (tested with v0.14.1) `log_p2p_connections.bt` example script that produces output similar to:\r\n```\r\nAttaching 6 probes...\r\nLogging opened, closed, misbehaving, and evicted P2P connections\r\nOUTBOUND conn to 127.0.0.1:15287: id=0, type=block-relay-only, network=0, net_group=245974404224840066, total_out=1\r\nINBOUND conn from 127.0.0.1:45324: id=1, type=inbound, network=0, net_group=90061749176390714, total_in=1\r\nMISBEHAVING conn id=1, score_before=0, score_increase=20, message='getdata message size = 50001', threshold_exceeded=false\r\nCLOSED conn to 127.0.0.1:15287: id=0, type=block-relay-only, network=0, net_group=245974404224840066, established=1231006505\r\nEVICTED conn to 127.0.0.1:45324: id=1, type=inbound, network=0, net_group=90061749176390714, established=1612312312\r\n```",
    "labels": [
      {
        "id": 241832923,
        "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
        "name": "Utils/log/libs",
        "description": "",
        "color": "5319e7",
        "default": false
      }
    ],
    "created_at": "2022-08-12T17:18:21Z",
    "updated_at": "2023-08-07T11:22:29Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "7cfb22ccf2598b56e45943a38a70397d9486e26b",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "0xB10C:2022-05-connection-tracepoints",
      "ref": "2022-05-connection-tracepoints",
      "sha": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 184896538,
        "node_id": "MDEwOlJlcG9zaXRvcnkxODQ4OTY1Mzg=",
        "name": "bitcoin",
        "full_name": "0xB10C/bitcoin",
        "owner": {
          "login": "0xB10C",
          "id": 19157360,
          "node_id": "MDQ6VXNlcjE5MTU3MzYw",
          "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/0xB10C",
          "html_url": "https://github.com/0xB10C",
          "followers_url": "https://api.github.com/users/0xB10C/followers",
          "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
          "organizations_url": "https://api.github.com/users/0xB10C/orgs",
          "repos_url": "https://api.github.com/users/0xB10C/repos",
          "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/0xB10C/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/0xB10C/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/0xB10C/bitcoin",
        "archive_url": "https://api.github.com/repos/0xB10C/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/0xB10C/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/0xB10C/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/0xB10C/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/0xB10C/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/0xB10C/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/0xB10C/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/0xB10C/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/0xB10C/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/0xB10C/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/0xB10C/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/0xB10C/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/0xB10C/bitcoin/events",
        "forks_url": "https://api.github.com/repos/0xB10C/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/0xB10C/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/0xB10C/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/0xB10C/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/0xB10C/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/0xB10C/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/0xB10C/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/0xB10C/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/0xB10C/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/0xB10C/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/0xB10C/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/0xB10C/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/0xB10C/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/0xB10C/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/0xB10C/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/0xB10C/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:0xB10C/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/0xB10C/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/0xB10C/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/0xB10C/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/0xB10C/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/0xB10C/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/0xB10C/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/0xB10C/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/0xB10C/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/0xB10C/bitcoin/hooks",
        "svn_url": "https://github.com/0xB10C/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 220575,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-17T07:33:30Z",
        "created_at": "2019-05-04T13:11:05Z",
        "updated_at": "2022-08-30T07:36:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "f4e42a78c75719ad6a99962360ec67d92a563a9d",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35484,
        "stargazers_count": 70649,
        "watchers_count": 70649,
        "size": 236312,
        "default_branch": "master",
        "open_issues_count": 681,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-07T11:14:01Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-07T11:50:55Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 559,
    "deletions": 4,
    "changed_files": 6,
    "commits": 6,
    "review_comments": 7,
    "comments": 9
  },
  "events": [
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-12T17:19:30Z",
      "updated_at": "2022-08-12T17:19:30Z",
      "source": {
        "issue": {
          "id": 897154083,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ5MTg2NzE0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22006",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22006/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22006/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22006/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22006",
          "number": 22006,
          "state": "closed",
          "state_reason": null,
          "title": "tracing: first tracepoints and documentation on User-Space, Statically Defined Tracing (USDT)",
          "body": "This PR adds documentation for User-Space, Statically Defined Tracing (USDT) as well as three tracepoints (including documentation and usage examples).\r\n\r\n## Context\r\nThe `TRACEx` macros for tracepoints and build system changes for USDT were merged in https://github.com/bitcoin/bitcoin/pull/19866 earlier this year. Issue https://github.com/bitcoin/bitcoin/issues/20981 contains discussion about potential tracepoints and guidelines for adding them (also documented with this PR). USDT was a topic in a [core-dev-meeting discussion](https://bitcoin.jonasschnelli.ch/ircmeetings/logs/bitcoin-core-dev/2021/bitcoin-core-dev.2021-01-21-19.00.moin.txt) on 21st Jan, 2021.\r\n\r\n- [collabora.com: An eBPF overview, part 1: Introduction](https://www.collabora.com/news-and-blog/blog/2019/04/05/an-ebpf-overview-part-1-introduction/)\r\n- [collabora.com: An eBPF overview, part 2: Machine & bytecode](https://www.collabora.com/news-and-blog/blog/2019/04/15/an-ebpf-overview-part-2-machine-and-bytecode/)\r\n- [Brendan D. Gregg's blog posts, and book on on eBPF](http://www.brendangregg.com/)\r\n- [Brendan D. Gregg: Linux bcc/BPF Node.js USDT Tracing](http://www.brendangregg.com/blog/2016-10-12/linux-bcc-nodejs-usdt.html)\r\n\r\n\r\n## USDT? Stablecoin?\r\n\r\nUser-space, Statically Defined Tracing (USDT) allows for more observability during development, debugging, code review, and production usage. The tracepoints make it possible to keep track of custom statistics and enable detailed monitoring of otherwise hidden internals and have little to no performance impact when unused. Linux kernels (4.x or newer) can hook into the tracepoints and execute [eBPF] programs in a kernel VM once the tracepoint is called.\r\n\r\nThis PR includes, for example, tracepoints for in- and outbound P2P messages.\r\n\r\n```\r\nUSDT and eBPF Overview\r\n======================\r\n\r\n                ┌──────────────────┐            ┌──────────────┐\r\n                │ tracing script   │            │ bitcoind     │\r\n                │==================│      2.    │==============│\r\n                │  eBPF  │ tracing │      hooks │              │\r\n                │  code  │ logic   │      into┌─┤►tracepoint 1─┼───┐ 3.\r\n                └────┬───┴──▲──────┘          ├─┤►tracepoint 2 │   │ pass args\r\n            1.       │      │ 4.              │ │ ...          │   │ to eBPF\r\n    User    compiles │      │ pass data to    │ └──────────────┘   │ program\r\n    Space    & loads │      │ tracing script  │                    │\r\n    ─────────────────┼──────┼─────────────────┼────────────────────┼───\r\n    Kernel           │      │                 │                    │\r\n    Space       ┌──┬─▼──────┴─────────────────┴────────────┐       │\r\n                │  │  eBPF program                         │◄──────┘\r\n                │  └───────────────────────────────────────┤\r\n                │ eBPF kernel Virtual Machine (sandboxed)  │\r\n                └──────────────────────────────────────────┘\r\n\r\n1. The tracing script compiles the eBPF code and loads the eBFP program into a kernel VM\r\n2. The eBPF program hooks into one or more tracepoints\r\n3. When the tracepoint is called, the arguments are passed to the eBPF program\r\n4. The eBPF program processes the arguments and returns data to the tracing script\r\n```\r\n\r\nThe two main [eBPF] front-ends with support for USDT are [bpftrace] an [BPF Compiler Collection (BCC)]. BCC is used for complex tools and daemons and `bpftrace` is preferred for one-liners and shorter scripts. Example tracing scripts for both are provided with this PR.\r\n\r\n[eBPF]: https://ebpf.io/\r\n[bpftrace]: https://github.com/iovisor/bpftrace\r\n[BPF Compiler Collection (BCC)]: https://github.com/iovisor/bcc\r\n\r\nThis PR adds three tracepoints:\r\n- `net:inbound_message`\r\n- `net:outbound_message`\r\n- `valildation:block_connected`\r\n\r\nSee `doc/tracing.md` and `contrib/tracing/` for documentation and example tracing scripts. \r\n\r\n## Open Questions (Not in scope for this PR)\r\n-  How to use these tracepoints under macOS?\r\n-  Release builds with USDT support?\r\n-  Should and can the tracepoints be automatically tested?\r\n\r\n## Todo (before undraft)\r\n- [x] bcc example showing how to read raw P2P messages up to 32kb\r\n- [x] document that you need `sys/sdt.h` from `systemtap` for USDT support in Bitcoin Core (`apt install systemtap-sdt-dev` on debian-like). See https://github.com/bitcoin/bitcoin/pull/19866/commits/933ab8a720cb9b3341adec4109cffb6dc5b322a5\r\n- [x] release notes?\r\n",
          "user": {
            "login": "0xB10C",
            "id": 19157360,
            "node_id": "MDQ6VXNlcjE5MTU3MzYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/0xB10C",
            "html_url": "https://github.com/0xB10C",
            "followers_url": "https://api.github.com/users/0xB10C/followers",
            "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
            "organizations_url": "https://api.github.com/users/0xB10C/orgs",
            "repos_url": "https://api.github.com/users/0xB10C/repos",
            "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/0xB10C/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 23,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22006",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22006",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22006.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22006.patch"
          },
          "closed_at": "2021-07-27T17:47:55Z",
          "created_at": "2021-05-20T17:16:04Z",
          "updated_at": "2022-09-15T15:15:25Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1213575387,
      "node_id": "IC_kwDOABII585IVbDb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1213575387",
      "actor": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-12T22:54:36Z",
      "updated_at": "2022-08-12T22:54:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "nice, utACK 7252c60a7ef3b86b52aba110e2f808171d952577\n",
      "user": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1213575387",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25832"
    },
    {
      "event": "referenced",
      "id": 7207081400,
      "node_id": "REFE_lADOABII585PuKCjzwAAAAGtk1W4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7207081400",
      "actor": {
        "login": "kouloumos",
        "id": 18506343,
        "node_id": "MDQ6VXNlcjE4NTA2MzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kouloumos",
        "html_url": "https://github.com/kouloumos",
        "followers_url": "https://api.github.com/users/kouloumos/followers",
        "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
        "organizations_url": "https://api.github.com/users/kouloumos/orgs",
        "repos_url": "https://api.github.com/users/kouloumos/repos",
        "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kouloumos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6f3480e2044e4beae0d324c43ce6e0294f4915b3",
      "commit_url": "https://api.github.com/repos/kouloumos/bitcoin/commits/6f3480e2044e4beae0d324c43ce6e0294f4915b3",
      "created_at": "2022-08-17T15:28:05Z"
    },
    {
      "event": "commented",
      "id": 1219305125,
      "node_id": "IC_kwDOABII585IrR6l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1219305125",
      "actor": {
        "login": "russeree",
        "id": 3104223,
        "node_id": "MDQ6VXNlcjMxMDQyMjM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3104223?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/russeree",
        "html_url": "https://github.com/russeree",
        "followers_url": "https://api.github.com/users/russeree/followers",
        "following_url": "https://api.github.com/users/russeree/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/russeree/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/russeree/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/russeree/subscriptions",
        "organizations_url": "https://api.github.com/users/russeree/orgs",
        "repos_url": "https://api.github.com/users/russeree/repos",
        "events_url": "https://api.github.com/users/russeree/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/russeree/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-18T10:10:54Z",
      "updated_at": "2022-08-18T10:12:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "Just reporting in that everything is functional. Console log looks correct.\r\n\r\nTests Passed\r\n![image](https://user-images.githubusercontent.com/3104223/185369422-1d4ed3c6-b778-448c-8d23-95e25a155279.png)\r\n",
      "user": {
        "login": "russeree",
        "id": 3104223,
        "node_id": "MDQ6VXNlcjMxMDQyMjM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3104223?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/russeree",
        "html_url": "https://github.com/russeree",
        "followers_url": "https://api.github.com/users/russeree/followers",
        "following_url": "https://api.github.com/users/russeree/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/russeree/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/russeree/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/russeree/subscriptions",
        "organizations_url": "https://api.github.com/users/russeree/orgs",
        "repos_url": "https://api.github.com/users/russeree/repos",
        "events_url": "https://api.github.com/users/russeree/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/russeree/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1219305125",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25832"
    },
    {
      "event": "labeled",
      "id": 7220723195,
      "node_id": "LE_lADOABII585PuKCjzwAAAAGuY337",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7220723195",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-19T09:23:11Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-13T12:59:42Z",
      "updated_at": "2022-09-13T12:59:42Z",
      "source": {
        "issue": {
          "id": 1293376466,
          "node_id": "PR_kwDOABII5846zyZc",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25541",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25541/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25541/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25541/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25541",
          "number": 25541,
          "state": "open",
          "state_reason": null,
          "title": "tracing: macOS USDT support",
          "body": "This PR adds macOS support for User-Space, Statically Defined Tracing (USDT) as well as dtrace example scripts based on the existing bpftrace scripts for Linux. This is tested on macOS 10.15. \r\n\r\n## Overview\r\n\r\nThe current implementation of USDT only supports Linux  as the `DTRACE_PROBE*(context, event, ...args)` macros are not supported on macOS. As initially referenced in https://github.com/bitcoin/bitcoin/pull/22238, the process of using USDT probes on macOS is slightly different and it's described in [the BUILDING CODE CONTAINING USDT PROBES section in the dtrace(1) manpage](https://gist.github.com/fanquake/e56c9866d53b326646d04ab43a8df9e2).\r\n\r\nThis more involved process includes\r\n\r\n1. Creating the providers description file `util/probes.d` which defines the providers and specifies their probes.\r\n2. Use `util/probes.d` to generate the header file `util/probes.h` with the neccesary tracepoints macros which are of the format `CONTEXT_EVENT(...args)`.\r\n3. Add the tracepoints macros to `util/trace.h`.\r\n\r\n##  Notes\r\n\r\n\r\n~Part of the macOS process is to create the providers description in a `.d` file. Therefore, types not supported by the D language (specifically `bool` and `std::byte`) cannot be used as part of the probe's signature. On those occasions, in lack of a better solution, only supported types are used and then a patch is applied at the generated `util/probes.h` file to replace the temporary D-supported types with those that we actually need.~\r\n\r\n~You can reproduce the initial header file by running `dtrace -h -s src/util/probes.d -o src/util/probes.h` (compiling with that results to errors because of not matching types) and then apply the [`probes-fix.diff`](https://gist.github.com/kouloumos/df773b1e0896adca827e7960eace1d21) patch with `git apply probes-fix.diff`.~\r\nEdit: `util/probes.h` is now generated during build time after changes (see https://github.com/bitcoin/bitcoin/pull/25541#discussion_r913646086 and https://github.com/bitcoin/bitcoin/pull/25541#discussion_r915192574) that removed the need for the non supported types.\r\n\r\nHaving the `bitcoind` binary compiled with USDT support, you can then use the dtrace example scripts `connectblock_benchmark.d`, `log_p2p_traffic.d`, `log_utxos.d` (root privileges needed) to test the macOS support. Extra documentation for those can be found at [contrib/tracing](https://github.com/bitcoin/bitcoin/tree/master/contrib/tracing) as they are functionally the same as the existing bpftrace scripts.\r\n\r\n### Adding tracepoints to Bitcoin Core (extra steps after this PR)\r\n\r\nAfter this PR when a new tracepoint is added, we will need to\r\n\r\n- Define the new probe for the tracepoint at `util/probes.d` together with a new provider if needed.\r\n- Add a new `#define context_event CONTEXT_EVENT`  macro at `util/trace.h`. This might not be final as discussed at https://github.com/bitcoin/bitcoin/pull/25541#discussion_r913611013. \r\n",
          "user": {
            "login": "kouloumos",
            "id": 18506343,
            "node_id": "MDQ6VXNlcjE4NTA2MzQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/18506343?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kouloumos",
            "html_url": "https://github.com/kouloumos",
            "followers_url": "https://api.github.com/users/kouloumos/followers",
            "following_url": "https://api.github.com/users/kouloumos/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/kouloumos/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/kouloumos/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/kouloumos/subscriptions",
            "organizations_url": "https://api.github.com/users/kouloumos/orgs",
            "repos_url": "https://api.github.com/users/kouloumos/repos",
            "events_url": "https://api.github.com/users/kouloumos/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/kouloumos/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 234879,
              "node_id": "MDU6TGFiZWwyMzQ4Nzk=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/macOS",
              "name": "macOS",
              "description": "",
              "color": "660000",
              "default": false
            },
            {
              "id": 231994551,
              "node_id": "MDU6TGFiZWwyMzE5OTQ1NTE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Scripts%20and%20tools",
              "name": "Scripts and tools",
              "color": "ffffee",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25541",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25541",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25541.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25541.patch"
          },
          "created_at": "2022-07-04T16:38:28Z",
          "updated_at": "2023-08-06T20:41:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1245786339,
      "node_id": "IC_kwDOABII585KQTDj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245786339",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-13T18:16:12Z",
      "updated_at": "2023-08-07T11:22:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [virtu](https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1482823973) |\n| Concept ACK | [dergoegge](https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1462378467) |\n| Stale ACK | [jb55](https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1213575387) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1245786339",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25832"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-13T22:57:18Z",
      "updated_at": "2022-09-13T22:57:18Z",
      "source": {
        "issue": {
          "id": 1167366626,
          "node_id": "PR_kwDOABII5840WLLa",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24545",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24545/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24545/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24545/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24545",
          "number": 24545,
          "state": "closed",
          "state_reason": null,
          "title": "BIP324: Enable v2 P2P encrypted transport",
          "body": "This PR brings together all other BIP324 PRs and enables v2 encrypted P2P transport.\r\n\r\nBuilds on top of PRs: #25361, #23233, #23561, #23432. It looks like there's a lot of commits, but **only the last 12 commits belong in this PR**. The rest will be merged with upstream PRs.\r\n\r\nThe dependency tree for BIP324 PRs is [here](https://bip324.com/sections/code-review/).\r\n\r\nBIP324 is [here](https://github.com/bitcoin/bips/blob/master/bip-0324.mediawiki).\r\n\r\n### Running a v2 node\r\n#### Get the code\r\n```\r\ngit remote add bip324 git@github.com:dhruv/bitcoin.git\r\ngit fetch bip324\r\ngit checkout bip324/bip324-enable\r\n```\r\n\r\n#### Build for your OS\r\n\r\nFollow the appropriate instructions [here](https://github.com/bitcoin/bitcoin/blob/master/doc/README.md)\r\n\r\n#### Run the node\r\n\r\n```\r\nsrc/bitcoind -conf=CONFIG_FILE -v2transport=1\r\n```\r\n\r\n#### Connect with a friend's v2 node\r\n```\r\nsrc/bitcoin-cli -conf=CONFIG_FILE addnode \"FRIEND_IP:FRIEND_PORT\" \"add\" true\r\n```\r\nThe last parameter(`p2p_v2:true`) signals to your node that the peer is running a v2 supportive client and we should attempt to make an encrypted P2P connection (you're simulating the `NODE_P2P_V2` service flag advertisement manually). Should that fail however (say because the peer told you mistakenly, lied, etc.), this code will downgrade the connection to unencrypted v1 transport.\r\n\r\n### Things you are helpful to test\r\n\r\n* If your friend's node is a v2 node, you can see with wireshark that the bytes are pseudorandom (the easiest way to confirm this is that with a v1 connection, wireshark will tell you it has detected a Bitcoin connection and it'll even parse out the metadata like message type, etc; with v2, wireshark has no idea -- of course that _could_ be because wireshark does simply not know v2, but it is because the bytestream is pseudorandom)\r\n* Compare the v2 encrypted session id exposed via `getpeerinfo` as `v2_session_id` with your friend.\r\n* Add another peer that is actually v1, but try `addnode` still indicating v2 support. You should see with wireshark that after a failed attempt at a v2 handshake, the connection is downgraded to unencrypted v1 and wireshark can parse it.\r\n\r\nI've been told there are v2 nodes running at (happy to update the list as more people run persistent v2 nodes; message me and I'll add it here):\r\n```\r\nbe.anyone.eu.org\r\nrp7k2go3s5lyj3fnj6zn62ktarlrsft2ohlsxkyd7v3e3idqyptvread.onion:8333\r\njdcoysubtxazi7dketpyb5rnjorvxad4onftveohash2pdwkgw4bvnqd.onion:8333\r\nxci6cphki2pdb5qe7axzrcxcxabkbm24z4zlv2hn4ziy6grquqco2kyd.onion:8333\r\nslvtesfgg3mkksqqzh67al4sq6dx3rhlzqepa4ny7jonzuckg6msf3id.onion:8333\r\ngifm4fnj3vua664xhgeanx5fnpco3txkqy4amr4txbfsciiyrkxpf2qd.onion:8333\r\n300:5ecb:6b8a:d837::3:8333\r\n300:5ecb:6b8a:d837::a6d6:8333\r\n2001:470:1f1a:365::2:8333\r\n2001:470:1f1b:365:aa20:66ff:fe3f:1909:8333\r\n184.74.240.157:8533\r\n95.179.145.232:8333\r\n```",
          "user": {
            "login": "dhruv",
            "id": 856960,
            "node_id": "MDQ6VXNlcjg1Njk2MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dhruv",
            "html_url": "https://github.com/dhruv",
            "followers_url": "https://api.github.com/users/dhruv/followers",
            "following_url": "https://api.github.com/users/dhruv/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dhruv/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dhruv/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
            "organizations_url": "https://api.github.com/users/dhruv/orgs",
            "repos_url": "https://api.github.com/users/dhruv/repos",
            "events_url": "https://api.github.com/users/dhruv/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dhruv/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 47,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24545",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24545",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24545.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24545.patch"
          },
          "closed_at": "2023-05-06T11:14:46Z",
          "created_at": "2022-03-12T18:43:06Z",
          "updated_at": "2023-05-06T11:14:46Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1316995182,
      "node_id": "IC_kwDOABII585Of8Bu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1316995182",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-16T13:08:29Z",
      "updated_at": "2022-11-16T13:08:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Note to self: might be worth checking if we can also pass AS information and not only the net_group.",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1316995182",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25832"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-19T01:42:50Z",
      "updated_at": "2022-11-19T01:42:50Z",
      "source": {
        "issue": {
          "id": 1455235146,
          "node_id": "PR_kwDOABII585DNy69",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26531",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26531/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26531/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26531/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26531",
          "number": 26531,
          "state": "closed",
          "state_reason": null,
          "title": "mempool: Add mempool tracepoints",
          "body": "This PR adds multiple mempool tracepoints.\r\n\r\n| tracepoint  | description |\r\n| ------------- | ------------- |\r\n| `mempool:added`  | Is called when a transaction enters the mempool  |\r\n| `mempool:removed`  | ... when a transaction is removed from the mempool |\r\n| `mempool:replaced`  | ... when a transaction is replaced in the mempool |\r\n| `mempool:rejected`  | ... when a transaction is rejected from entering the mempool |\r\n\r\nThe tracepoints are further documented in `docs/tracing.md`. Usage is demonstrated in the example script `contrib/tracing/mempool_monitor.py`. Interface tests are provided in `test/functional/interface_usdt_mempool.py`.\r\n\r\nThe rationale for passing the removal reason as a string instead of numerically is that the benefits of not having to maintain a redundant enum-string mapping seem to outweigh the small cost of string generation. The reject reason is passed as string as well, although in this instance the string does not have to be generated but is readily available.",
          "user": {
            "login": "virtu",
            "id": 72414353,
            "node_id": "MDQ6VXNlcjcyNDE0MzUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/72414353?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/virtu",
            "html_url": "https://github.com/virtu",
            "followers_url": "https://api.github.com/users/virtu/followers",
            "following_url": "https://api.github.com/users/virtu/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/virtu/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/virtu/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/virtu/subscriptions",
            "organizations_url": "https://api.github.com/users/virtu/orgs",
            "repos_url": "https://api.github.com/users/virtu/repos",
            "events_url": "https://api.github.com/users/virtu/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/virtu/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26531",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26531",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26531.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26531.patch"
          },
          "closed_at": "2023-03-20T16:43:16Z",
          "created_at": "2022-11-18T14:33:56Z",
          "updated_at": "2023-04-03T09:20:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-28T20:50:26Z",
      "updated_at": "2022-11-28T20:50:26Z",
      "source": {
        "issue": {
          "id": 1467073842,
          "node_id": "PR_kwDOABII585D1g33",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26593/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26593",
          "number": 26593,
          "state": "open",
          "state_reason": null,
          "title": "tracing: Only prepare tracepoint arguments when actually tracing",
          "body": "Currently, if the tracepoints are compiled (e.g. in depends and release builds), we always prepare the tracepoint arguments regardless of the tracepoints being used or not. We made sure that the argument preparation is as cheap as possible, but we can almost completely eliminate any overhead for users not interested in the tracepoints (the vast majority), by gating the tracepoint argument preparation with an `if(something is attached to this tracepoint)`. To achieve this, we use the optional semaphore feature provided by SystemTap.\r\n\r\nThe first commit simplifies and deduplicates our tracepoint macros from 12 TRACEn macros to a single TRACEPOINT macro. The `TRACE(context, event)` macro (without arguments) is renamed to `TRACEPOINT0(context, event)`. This makes them easier to use and also avoids more duplicate macro definitions in the second commit. These changes should be compatible with https://github.com/bitcoin/bitcoin/pull/25541 and both https://github.com/bitcoin/bitcoin/pull/25832 and https://github.com/bitcoin/bitcoin/pull/26531 should be trivial to rebase and adopt to this.\r\n\r\nThe Linux tracing tools I'm aware of (bcc, bpftrace, libbpf, and systemtap) all support the semaphore gating feature. Thus, all existing tracepoints and their argument preparation is gated in the second commit. For details, please refer to the commit messages and the updated documentation in `doc/tracing.md`.\r\n\r\nAlso adding unit tests that include all tracepoint macros to make sure there are no compiler problems with them (e.g. some varadiac extension not supported). \r\n\r\nReviewers might want to check:\r\n- Do the tracepoints still work for you? Do the examples in `contrib/tracing/` run on your system (as bpftrace frequently breaks on every new version, please test master too if it should't work for you)? Do the CI interface tests still pass?\r\n- Is the new documentation clear? \r\n- As a demonstration that the tracepoint gating works, https://github.com/0xB10C/bitcoin/commit/21774ab9618932a4df68baa36de11c7788adf143 extends the PR branch. Here is the [Cirrus CI output](https://cirrus-ci.com/task/5278617885212672) for the task running the USDT interface tests on this commit. Do you agree that this demonstrates that the semaphore gating works?\r\n- The `TRACEPOINT_SEMAPHORE(event, context)` macros places global variables in our global namespace. Is this something we strictly want to avoid or maybe move to all `TRACEPOINT_SEMAPHORE`s to a separate .cpp file or even namespace? I like having the `TRACEPOINT_SEMAPHORE()` in same file as the `TRACEPOINT()`, but open for suggestion on alternative approaches. \r\n- Are newly added tracepoints in the unit tests visible when using `readelf -n /src/test/test_bitcoin`? You can run the new unit tests with `./src/test/test_bitcoin --run_test=util_trace_tests* --log_level=all`.\r\n\r\nThese links might provide more contextual information for reviewers:\r\n- [How SystemTap Userspace Probes Work by eklitzke](https://eklitzke.org/how-sytemtap-userspace-probes-work) (actually an example on Bitcoin Core; mentions that with semaphores \"the overhead for an untraced process is effectively zero.\")\r\n- [libbpf comment on USDT semaphore handling](https://github.com/libbpf/libbpf/blob/1596a09b5de2a50ab8d44218fc29b6d42f886305/src/usdt.c#L83-L92) (can recommend the whole comment for background on how the tracepoints and tracing tools work together)\r\n- https://sourceware.org/systemtap/wiki/UserSpaceProbeImplementation#Semaphore_Handling",
          "user": {
            "login": "0xB10C",
            "id": 19157360,
            "node_id": "MDQ6VXNlcjE5MTU3MzYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/0xB10C",
            "html_url": "https://github.com/0xB10C",
            "followers_url": "https://api.github.com/users/0xB10C/followers",
            "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
            "organizations_url": "https://api.github.com/users/0xB10C/orgs",
            "repos_url": "https://api.github.com/users/0xB10C/repos",
            "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/0xB10C/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26593",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26593",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26593.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26593.patch"
          },
          "created_at": "2022-11-28T20:50:26Z",
          "updated_at": "2023-06-26T19:41:53Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-17T13:33:34Z",
      "updated_at": "2022-12-17T13:33:34Z",
      "source": {
        "issue": {
          "id": 1191033673,
          "node_id": "PR_kwDOABII5841jAnn",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24748",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24748/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24748/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24748/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24748",
          "number": 24748,
          "state": "open",
          "state_reason": null,
          "title": "test/BIP324: functional tests for v2 P2P encryption",
          "body": "This PR introduces support for v2 P2P encryption(BIP 324) in the existing functional test framework and adds functional tests for the same.\r\n\r\nIt's built on top of:\r\n* #24545 \r\n* #24005\r\n\r\nThe first 2 commits help the CI pass since the secp256k1 subtree directory is touched by the parent PR 24545.\r\nThe next 2 commits bring in the mentioned parent PRs. They'll all be removed when the parent PRs get merged.\r\n\r\n### commits overview\r\n1. Introducing cryptographic constructs(HKDF, ECDH, ChaCha20, Poly1305, FSChaCha20 and FSChaCha20Poly1305) in the test framework to help with P2P encryption.\r\n2. Performing v2 P2P encryption in a v2 connection.\r\n    * introduces a new class `EncryptedP2PState` to store the keys, functions for performing the initial v2 handshake and encryption/decryption.\r\n    * this class is used by `P2PConnection` in inbound/outbound connections to perform the initial v2 handshake before the v1 version handshake. Only after the initial v2 handshake is performed do application layer P2P messages(version, verack etc..) get exchanged. (in a v2 connection)\r\n    * the encrypted P2P messages follow a different format - 3 byte length + 1-13 byte message_type + payload + 16 byte MAC\r\n    * includes support for testing decoy messages and v2 connection downgrade(using false advertisement - when a v2 node makes an outbound connection to a node which doesn't support v2 but is advertised as v2 by some malicious\r\nintermediary)\r\n\r\n### run the tests\r\n* functional test - `test/functional/p2p_v2_encrypted.py` `test/functional/p2p_v2_earlykeyresponse.py`\r\n\r\nI'm also super grateful to @ dhruv for his really valuable feedback on this branch.",
          "user": {
            "login": "stratospher",
            "id": 44024636,
            "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
            "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stratospher",
            "html_url": "https://github.com/stratospher",
            "followers_url": "https://api.github.com/users/stratospher/followers",
            "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
            "organizations_url": "https://api.github.com/users/stratospher/orgs",
            "repos_url": "https://api.github.com/users/stratospher/repos",
            "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stratospher/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24748",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24748",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24748.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24748.patch"
          },
          "created_at": "2022-04-03T20:14:51Z",
          "updated_at": "2023-08-01T18:12:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8323078286,
      "node_id": "HRFPE_lADOABII585PuKCjzwAAAAHwGBiO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8323078286",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-20T16:22:09Z"
    },
    {
      "event": "commented",
      "id": 1398631096,
      "node_id": "IC_kwDOABII585TXWq4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1398631096",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-20T16:28:04Z",
      "updated_at": "2023-01-20T16:28:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Note to self: might be worth checking if we can also pass AS information and not only the net_group.\r\n\r\nThis is possible by accessing the CNodeStats, but don't think we should do that in the tracepoint. We have the IP and can lookup the AS in a tracing scirpt, if necessary. \r\n\r\n---\r\n\r\nFixed up the [linter complains](https://github.com/bitcoin/bitcoin/runs/7810747620) and rebased. This is ready for further review.",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1398631096",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25832"
    },
    {
      "event": "commented",
      "id": 1462378467,
      "node_id": "IC_kwDOABII585XKh_j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462378467",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-09T16:36:46Z",
      "updated_at": "2023-03-09T16:36:46Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1462378467",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25832"
    },
    {
      "event": "labeled",
      "id": 8798091245,
      "node_id": "LE_lADOABII585PuKCjzwAAAAIMaDft",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8798091245",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-20T18:45:13Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8803019538,
      "node_id": "HRFPE_lADOABII585PuKCjzwAAAAIMs2sS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8803019538",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-21T09:16:56Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhOTg4ZmU1YjkzOTQ2ODllMDhmODE0OTA4NDliNmY3MzllODM4Mjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa988fe5b9394689e08f81490849b6f739e83827",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa988fe5b9394689e08f81490849b6f739e83827",
      "tree": {
        "sha": "1bc9ee9c533272280fd91175631a03f723a18a9e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1bc9ee9c533272280fd91175631a03f723a18a9e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1bc9ee9c533272280fd91175631a03f723a18a9e\nparent f4e42a78c75719ad6a99962360ec67d92a563a9d\nauthor 0xb10c <0xb10c@gmail.com> 1651501582 +0200\ncommitter 0xb10c <b10c@b10c.me> 1679397367 +0100\n\ntracing: add inbound connection tracepoint\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEDMuq/Xai7OLM0xQd4v/VsdiMqX0FAmQZkfoACgkQ4v/VsdiM\nqX1E1A//aIVbLE0rK2nNvU+bbGS/W+7dkzoSZtSABpfqxuRB5erPj6WI3iy1te9l\nfDzOcu2NM19A6TOZkhka+rL5Ar5AgFVo/9ppnMxfqjiZC/piGDk8G4089ujyfQTG\nfWsNxpD626PhzCCyJURGXTFM1trtcLqb/HswI2gQA4xTqRUF5ITIRe0ih+i88ncQ\nRVV0dW0l/ZVA5LwFE6KNgSJe3HPrUpu100JZFDYks+FbVqLX4LmzYYkE32s05NfV\nXLp2ySLZDgBivHCSW12Vdu+6TVJ7iXXj+dZ5oIzo/8/YrvBdk6NI8xIaMLbMXnCI\naOb+/3nW8g3Ufxixljhf4oXToLMfQNEYjfh3q5QwvDMiLWpKuAZ6JYuHb8flzyRP\npJUOOAyXRYXG5UBnFb83SGZFaJVrHKQJhhmOL6u7njl+ZTfqvhKwGp7qUeOYZiq6\n8fsStOZanTEWbVNWRqKfAjXCHH81IKfOtgIiKEnphNGpOPod7FdCtgzhfVAOgP++\naFdbzks+G3J3jVpjptNTBt5rPgsWEpTAKiuVyGBW98MtF6pnQCzQWWz/xpMHenNS\nXojltEs5dtonQGe68+SO9T1HejOQFF+VXIU6ZcM9/qF0O/XxDZraJHRsFmQJGy8N\n4cCE1zNCAJo3QubUeYv6JxG4v1EWnQwxlyCW81dSLo12lWAKx4k=\n=SWh/\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIPqaIulmbCfc9uzuDxDlxsJrh06u+wHySIXlGfRO+WbWCP/wECBVbsw3rWIP\nsidMEppaC68I8SDTUwqPaCMjtc+ZUyqUtvzHGUMSzShF5OsXqjm/DWm+lQjwIBmx\nOK/iAEuN4I0mYneT9M4Pa2rlo6A//EZFpmEZc+GKCPEEZBmR/fAIpFE1bS8REe8A\ng9/jDS75DI4uLWh0dHBzOi8vYWxpY2UuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3Rh\nbXBzLm9yZ//wEEzvT+BNzhUitnZ3Dnwn6J0I8SD6uA1YsdUUzmXjVnEaLdWnJeKk\nIENDlIK8N8tpaahUSAjwIAF2MFnvjldo2vT+v0KT/VXaW/EGJnzq0bKA3VqJDfW6\nCPAgSVx+drisytUogFGtfUQc1l5FTOfHTKdGg2iVYiSBbQUI8QRkGZH98Ajhk4q7\nnNByYwCD3+MNLvkMjikoaHR0cHM6Ly9maW5uZXkuY2FsZW5kYXIuZXRlcm5pdHl3\nYWxsLmNvbfAQroth5gk10bPGf/jEHAKvbgjwIFtVWjZj/GvZdqwjpnECoCIGZAB3\nEXoRerZBliVsi/VKCPAg4749kzDTmwTX5xMzJRB5aVh/pVHdB8U6fzPPPWw0XEEI\n8CBWRiWcFgjLkzLqCn0rc4m4t4+nvINOZDji0DBSXhwilAjxBGQZkf3wCEmDyXdV\nMZ0fAIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxlbmRhci5jYXRhbGxheHkuY29t\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f4e42a78c75719ad6a99962360ec67d92a563a9d",
          "sha": "f4e42a78c75719ad6a99962360ec67d92a563a9d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f4e42a78c75719ad6a99962360ec67d92a563a9d"
        }
      ],
      "message": "tracing: add inbound connection tracepoint",
      "committer": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2023-03-21T11:16:07Z"
      },
      "author": {
        "name": "0xb10c",
        "email": "0xb10c@gmail.com",
        "date": "2022-05-02T14:26:22Z"
      },
      "sha": "fa988fe5b9394689e08f81490849b6f739e83827"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGExMzhkMjliNmIzZDg1OTAxOGNkZTI2ZTJhZWViNjNmYzM3NjJmMWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a138d29b6b3d859018cde26e2aeeb63fc3762f1b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a138d29b6b3d859018cde26e2aeeb63fc3762f1b",
      "tree": {
        "sha": "b55f648b5caa81b3fb2708d8904aad4fdb31a30c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b55f648b5caa81b3fb2708d8904aad4fdb31a30c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b55f648b5caa81b3fb2708d8904aad4fdb31a30c\nparent fa988fe5b9394689e08f81490849b6f739e83827\nauthor 0xb10c <0xb10c@gmail.com> 1651501633 +0200\ncommitter 0xb10c <b10c@b10c.me> 1679397475 +0100\n\ntracing: add outbound connection tracepoint\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEDMuq/Xai7OLM0xQd4v/VsdiMqX0FAmQZkmUACgkQ4v/VsdiM\nqX257Q/+MrJ034s30sccaZRz3xZDvJRx38jyIQJf/dKtZlK+nPik21LwckCHULSs\ntBRkk0aD2F52//eWLv/4eg8qBp8Z8RgpAZfOVvD/aN+Wjo1x0Z/v+79fFvmdgoMj\nqF/Dr5lARKNVjArTQcLgo8WIXcIzBmlKv3HjE+xylni6WfWD9RjeeSfDi6Q2YdAj\nSbwAuYPkEoQho2IJcfCfTXiXAUvZu/KncSC2dL2ngbY8yIydUAUIkUejVZxlNpMC\nX1Fja6mKoyggJYWfPizmOJ9I4nkOwYhRmFbqR6A+stL5LQF578F9lSWWQZc+TwIW\npVYO0wudH4CN/BbIpdKZtPvZTgf78TwLpJlkRfb8kMaFCXSQfKc8NjlGZn4AbekB\nEnOkXfB66CPWgKoDoG9PmAxorgqbkJwSfZR047EdT4F5n3i99cy+Kuy0fHfrVQ8M\ng06w+wJVLq2nYrRP+YOOtrp5arEGoitG3JM1QXcNIwsihqmsYeAxzGgBGQd+Hqe+\n4NT8Jo6vWVQ4aA/AKsp1o8rY5EnbVwmjwGOE6GaEFO1JIgKT5VZ5NBY2JA8D3VpA\nBSrhGnyVSGNaIp8nXrvwmz7SOaSqkcUR1yZU9KVWCuC5N9KmUzBadi30rdGPxCDz\noi6jPzj/u/tsLI4k7m5r3lCv2MForLIqBhaeUSuLrUPXCSo1R0o=\n=V2KK\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIP1LDwLW3IajomG7SWzlXVXAkkVqqqPB9sXcoG1XDFOjCP/wECi8NzJvl+xy\n4whnMzlDEwYI8SDgcgzmEeObESpRCK6zu1LKHbcphmdxnKbEdzU9uROzhQjwIFYy\nsUn+oQlPA4X7UbLjcFguf9C3QE7kZ+HSiFHQ5GyQCPEEZBmSaPAI9FDaRn2ghIwA\ng9/jDS75DI4pKGh0dHBzOi8vZmlubmV5LmNhbGVuZGFyLmV0ZXJuaXR5d2FsbC5j\nb23/8BBnpt8BMwBc2GRqdaU+TeGaCPEg8M2sfSjxp4rldJTRPbfRHuUC3Di5VEVs\nsEwX4N7q2pMI8QRkGZJp8AjXf7U40zbB7ACD3+MNLvkMji4taHR0cHM6Ly9hbGlj\nZS5idGMuY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn8BDoJuRzlisalV6VJe6x\nCDYNCPEgIOCemmR7nQrFiiyP1Q4lUMqDIKkySNPlggMtXZgiinEI8QRkGZJo8Ajo\nhQlrALAxYgCD3+MNLvkMjiMiaHR0cHM6Ly9idGMuY2FsZW5kYXIuY2F0YWxsYXh5\nLmNvbQ==\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa988fe5b9394689e08f81490849b6f739e83827",
          "sha": "fa988fe5b9394689e08f81490849b6f739e83827",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa988fe5b9394689e08f81490849b6f739e83827"
        }
      ],
      "message": "tracing: add outbound connection tracepoint",
      "committer": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2023-03-21T11:17:55Z"
      },
      "author": {
        "name": "0xb10c",
        "email": "0xb10c@gmail.com",
        "date": "2022-05-02T14:27:13Z"
      },
      "sha": "a138d29b6b3d859018cde26e2aeeb63fc3762f1b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDMwNjk5NzZiNGRiZTQyZGU1NGRiOWRjMzEyNWJhNDZlNTBiNTEwOGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3069976b4dbe42de54db9dc3125ba46e50b5108d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3069976b4dbe42de54db9dc3125ba46e50b5108d",
      "tree": {
        "sha": "98737bc62851ac971614f0544c65469c106225cd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/98737bc62851ac971614f0544c65469c106225cd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 98737bc62851ac971614f0544c65469c106225cd\nparent a138d29b6b3d859018cde26e2aeeb63fc3762f1b\nauthor 0xb10c <0xb10c@gmail.com> 1651501689 +0200\ncommitter 0xb10c <b10c@b10c.me> 1679397618 +0100\n\ntracing: add connection eviction tracepoint\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEDMuq/Xai7OLM0xQd4v/VsdiMqX0FAmQZkvMACgkQ4v/VsdiM\nqX3UoQ/+JHr4VoSnqgCGZBcK91T+VfAg15jgM0uus+T4SnHxCt32+Z7DtsMJPuYV\nlcAu4HC6UzaR9S6cJABhiaLrfSa8QTnH51fctIk4UFg8KX/+S3OWduNzoBA9amCl\n7A2WL1z5LZqx8xyOBUgtRTXBGwBw75Oyk07D9SseRC3sREQMeP+Wpg2YyaOWRYkN\ntuGZysWxtOCMsDjgBnNuHK9iqMdnjfv4+2Yjo51JZuAsTWoKscx3ydonVHxvLqGc\noYD64ZDFYvzRSbf04VgCnoFsXRtIY8U2EZFNahFHHXXqV6868Fhv9IrX629ZyXE1\n+XuFIhWumV4fberdpN2AXOdPyBBicQFx4gjhKdVWiuGF6oanD3BL125rEWPNWa5i\nqiOYrN+vjRAJrXktEHhsGhCc428SUu6zg5YiCWakwmffsxWYdM82skFi2pcXb4S8\nKmUmeyyxaFKLWO+4diCTyV1dOd2B3Z6zjuSkqik11hS1K9TOOOYay0bswP8m2twz\n1KEWdChmOmgjGkAneOz1qlD67WyHXvZy/wm5nWX5pEEw7Cv2YSyQg2UprdVtDaIF\nmwA9BgyHI9+e2uwLez09IIlJl8AT5KUtqJUnTRAfDr4Nbxf1CixFJceTyQLmbZqh\nK+XXcJWW6L1Ans8GAiJQUapMugGBsN6E/Ml8BV+K8f/Y9omsJ5w=\n=zDtC\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIJ0l5nUXSJwEyAPHmK+j5hT0jHKIDe/7Y7iRoWg1OjLxCP/wEISwxeQJiNKH\nmWPIUneP2C0I8SAfzME/4lBcWahTu4mgGUeIn4pme8Q0B7b20ADTTeLJyAjwINzs\nWq7lppY7VRJY3WNTcY/aVoqlo5v1EezOcrsENuj4CPEEZBmS9vAIOb8chO/h580A\ng9/jDS75DI4uLWh0dHBzOi8vYWxpY2UuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3Rh\nbXBzLm9yZ//wEK2XCdr0yvdhdHrlN4aCyp0I8SDiKY6uX9EN/b33l16nyiOFUruE\nxrNTcoGQeV7C7nUAPAjwIBLHT+o2z5BkgXHgsny1Gik2cObIURJgnWLHRbVnmWgp\nCPEEZBmS9vAI12RP1uEHF+0Ag9/jDS75DI4pKGh0dHBzOi8vZmlubmV5LmNhbGVu\nZGFyLmV0ZXJuaXR5d2FsbC5jb23wEPf8F+TnUbuuq0xow5Y1PIkI8QRkGZL28Ah2\n8k/a8lCMMACD3+MNLvkMjiMiaHR0cHM6Ly9idGMuY2FsZW5kYXIuY2F0YWxsYXh5\nLmNvbQ==\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a138d29b6b3d859018cde26e2aeeb63fc3762f1b",
          "sha": "a138d29b6b3d859018cde26e2aeeb63fc3762f1b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a138d29b6b3d859018cde26e2aeeb63fc3762f1b"
        }
      ],
      "message": "tracing: add connection eviction tracepoint",
      "committer": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2023-03-21T11:20:18Z"
      },
      "author": {
        "name": "0xb10c",
        "email": "0xb10c@gmail.com",
        "date": "2022-05-02T14:28:09Z"
      },
      "sha": "3069976b4dbe42de54db9dc3125ba46e50b5108d"
    },
    {
      "event": "unlabeled",
      "id": 8804255052,
      "node_id": "UNLE_lADOABII585PuKCjzwAAAAIMxkVM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8804255052",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-21T11:20:43Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZhZmYyZGE3MDcyYjVjZTg1NDc1OGIzZGRkOWJmMzc2YjllOWM3YzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6aff2da7072b5ce854758b3ddd9bf376b9e9c7c2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6aff2da7072b5ce854758b3ddd9bf376b9e9c7c2",
      "tree": {
        "sha": "6962be3e8a31e6967cdd4f8fc3f3deffd820b177",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6962be3e8a31e6967cdd4f8fc3f3deffd820b177"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6962be3e8a31e6967cdd4f8fc3f3deffd820b177\nparent 3069976b4dbe42de54db9dc3125ba46e50b5108d\nauthor 0xb10c <0xb10c@gmail.com> 1651501815 +0200\ncommitter 0xb10c <b10c@b10c.me> 1679397698 +0100\n\ntracing, refactor: add misbehaving conn tracepoint\n\nrefactor: The result of the check if the discuragement threshold is\n  exceeded with this call to Misbehaving() is stored in a boolean\n  called `discurage_threshold_exceeded`. This allows using it in the\n  tracepoint.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEDMuq/Xai7OLM0xQd4v/VsdiMqX0FAmQZk0MACgkQ4v/VsdiM\nqX3HSg/+JemXRdTfYGFPti3xzkhZdH3c53Bicfe0pKGgOT4DYEnHIB1DraPJyWPK\nApbSEnhG91qyY5xRzEd9r0ojDb/STTvRXQDyOd4U/JjVejCunF2T82vxsH5dyE9j\n9HDPMwNWLJXY7zeEwtH9EOH0WGG1BitscxVVc/AYqMKf+TSejjL761gVD+D1Mytm\nxyiyNqSBBgr4qgsn9uHY+Piig5Z4I9lL74A8YLMFqQ6Jaap6g1b07SmSYHOzy/9V\nI/68VYaIBdGXPusRca72VX30U1iUrApO58ZRgmgAIUgccpRglUI+DuyCXSDsqKPB\n3mN+2NyEVzJ+ZadjdPelFIC1TP5HO0vGLCejLzeDrixvYEpW9Knal2cAsdGXKjup\nlKpOCPC+Bzgp1NSeKi3QfoQWiKpKVe4SRX64mh5aXd8ijlmDUFcF+ltBFpxbti7s\n5JRA8GwTAu6muM1JFOX2/gk/a+2cSGslEPTQZN7NhEQLsjy0mxx3FeW/dN/CVO1O\naqRc45vnvHOfgKPryBPNUD8tboE8kPJKdFm62WWEQAwjo59jpj9/8a7iyB38tV6e\nZsSGmna8FUkNqKyfafW/97JaGuReYjv7qvcVP504vKN/b30Kb9M7sJJYtUnFSDwY\nsExTzaJkLO5daopdX0DRAce7d1vTJ3qvaoIF8foe+M8W/OaBpBo=\n=aVYd\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIEyheTTj9n/npwTMY71Qkwx5zOV30xPysH1bWG8g4gFCCP/wECi8ew6I/wg3\nhVM8M4YkPzMI8QRkGZNH8Ag/7G9vUfsA5gCD3+MNLvkMjiMiaHR0cHM6Ly9idGMu\nY2FsZW5kYXIuY2F0YWxsYXh5LmNvbf/wEJBDu3n5NOhM0E3r/azAtUAI8SC5xbgo\nrvfNDe7Q49mS2SrIcmpT/1aA5C2U6gxpokfsSwjxIMkakKza5CJ5NLy9/Lv5Mf8d\neg8pLA2VDgbFDrL5FHzpCPEEZBmTR/AIQk8LCwsB8PkAg9/jDS75DI4pKGh0dHBz\nOi8vZmlubmV5LmNhbGVuZGFyLmV0ZXJuaXR5d2FsbC5jb23wEKILUgeZIqaPQqeW\n2pt7h4EI8SAK6kC9cTyRm5vDT4TVEIGPNaaNC+Is+CdiSdIfen2x0AjwILwIPzaF\nDy0T3uHtZKXHMxRgGUH1lYHvhfRLO49A/KsPCPEEZBmTSPAIbNgCrASGmAMAg9/j\nDS75DI4uLWh0dHBzOi8vYWxpY2UuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3RhbXBz\nLm9yZw==\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3069976b4dbe42de54db9dc3125ba46e50b5108d",
          "sha": "3069976b4dbe42de54db9dc3125ba46e50b5108d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3069976b4dbe42de54db9dc3125ba46e50b5108d"
        }
      ],
      "message": "tracing, refactor: add misbehaving conn tracepoint\n\nrefactor: The result of the check if the discuragement threshold is\n  exceeded with this call to Misbehaving() is stored in a boolean\n  called `discurage_threshold_exceeded`. This allows using it in the\n  tracepoint.",
      "committer": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2023-03-21T11:21:38Z"
      },
      "author": {
        "name": "0xb10c",
        "email": "0xb10c@gmail.com",
        "date": "2022-05-02T14:30:15Z"
      },
      "sha": "6aff2da7072b5ce854758b3ddd9bf376b9e9c7c2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRhZDFkZDVhNzAyMzdiOTcyZGE5Nzk4OTg3ZGI5MDM4YmI1OTMzOWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dad1dd5a70237b972da9798987db9038bb59339b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dad1dd5a70237b972da9798987db9038bb59339b",
      "tree": {
        "sha": "82a10feb8759a4a42dda8223a42d2c8db39c70d2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/82a10feb8759a4a42dda8223a42d2c8db39c70d2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 82a10feb8759a4a42dda8223a42d2c8db39c70d2\nparent 6aff2da7072b5ce854758b3ddd9bf376b9e9c7c2\nauthor 0xb10c <b10c@b10c.me> 1660313056 +0200\ncommitter 0xb10c <b10c@b10c.me> 1679397761 +0100\n\ntracing: connection closed tracepoint\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEDMuq/Xai7OLM0xQd4v/VsdiMqX0FAmQZk4gACgkQ4v/VsdiM\nqX33vw/9G0TwnSdMOnKDmarDKW23fEyZIR3i3UDPrzMl9QtX9YAiLqG4iiHVK52s\nXbP4UKYhq9WS9ogzgniQcROwOXWHdIik0oOEbpFfiGic42MQSRUrL7unQrk6HzZt\nZyP5uYnQFvsK8RgzjSqt5vbh9rOqWX2nsyZUJ/St9iucQ/8W11qprD8B1yXRmpfu\n/8+DJVqQ/VNhrm/lcGt0Nk0OxlmoWX3rMjkemValzYEwpTf6tF2krqxSBjqui11t\nKRqvpgVILgTHi3+MXYBflyaD/A/rD2Zf825xGh6lkoNXXnkKJaMsWRRI80Cjjd3D\nPz3zu2aRN1qVSjz0HQUhAIDiXbYu/ZOr7d1cyrbk2JxXJxnTBQwIlGNNOidDuzxU\nZlJE/m5SEx5B0pj9u6DGXK6n+kLyo+40iUiNxOZTZYcqoGV/4M41mmVKfcySl0Rq\ntHij89UIR3kkVBFJUtThBbLaUlADdx92U+xTS7jTbzZdwnH7ib6RRTtl8oPIdyv8\nFR4A2UOENlzQmoqbWlxupYIOq+ZtUbgUZcOQYzXfwkyuMY06Mxk7QgOgZ/ppog+t\ncKfCoT1bsthFsrWbCCynBsQa4hPTbsS2shrwxS1I9ZtCdrv3q7cNHBmtB3gPnutg\nn92ZBUZ2gfPZKvh0Uru8Gi7y8ZUC4ZxwxFhPIDqjSv8XoswEnpc=\n=1E64\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIE7/jmUmTTvpvw3d+2eBBWMWDMgKiYsZP6EcqO9OdOiICP/wEFqQhSarg5dv\nUbh1FZvTtaYI8QRkGZOP8AiCAUYJSrl1KgCD3+MNLvkMjiMiaHR0cHM6Ly9idGMu\nY2FsZW5kYXIuY2F0YWxsYXh5LmNvbf/wEF92UxbwcZG3jf0uoz0gjZMI8CDoJEcS\nCwDCjjqupqQSLmUwAM1hlWGdHRLCwLCi8BQthgjxBGQZk5DwCDe+bNNIHH9CAIPf\n4w0u+QyOLi1odHRwczovL2FsaWNlLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1w\ncy5vcmfwEOh5Dao4M4urft6Xo5UCNRsI8CABc8x8eMDTq/95ZG6w3T2KljPeer4j\nS9s73h7ey+28IgjxBGQZk4/wCESv7xlOOk3XAIPf4w0u+QyOKShodHRwczovL2Zp\nbm5leS5jYWxlbmRhci5ldGVybml0eXdhbGwuY29t\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6aff2da7072b5ce854758b3ddd9bf376b9e9c7c2",
          "sha": "6aff2da7072b5ce854758b3ddd9bf376b9e9c7c2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6aff2da7072b5ce854758b3ddd9bf376b9e9c7c2"
        }
      ],
      "message": "tracing: connection closed tracepoint",
      "committer": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2023-03-21T11:22:41Z"
      },
      "author": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2022-08-12T14:04:16Z"
      },
      "sha": "dad1dd5a70237b972da9798987db9038bb59339b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZkZTRmYzczYzkzNWJhYTJjYzZmNTRkZDU3YzhlNTdhNWRmM2M3YWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "tree": {
        "sha": "b17bb71a12a7a077762368455067508394b77847",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b17bb71a12a7a077762368455067508394b77847"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b17bb71a12a7a077762368455067508394b77847\nparent dad1dd5a70237b972da9798987db9038bb59339b\nauthor 0xb10c <b10c@b10c.me> 1660322088 +0200\ncommitter 0xb10c <b10c@b10c.me> 1679397793 +0100\n\ntracing: log_p2p_connections.bt example\n\nA bpftrace (v0.14.1) script that logs information from the\nnet:*_connection tracepoints.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEDMuq/Xai7OLM0xQd4v/VsdiMqX0FAmQZk6EACgkQ4v/VsdiM\nqX1PRw/+JSxUqTcHb5RbyVIAUQsETSjX2X6d8qh5T6bP5TbpD2jT1oh8TF2nU1TR\n5keQJ6JhilXycUYF7M6Z6BuRSGo7Q5XHF43GizkeAUkeulHJ89moecJsqz5XiA4c\noyXbUMm/bXQyW2q/IW566XStHxwaDgN0Lh05WzRzsikBpYLYNZXm2TTm/gXPMi6j\nrpOoPM3iXdPwPt2CLFEacZ8OQcIIFVU+sipm6N9Qyty/h5Cq5KqFrjtZV9f5dJo0\nwD2s1654RsVZmNoDJBmL+ij2lNFMb6R4MoNoIsxFuzC7m+PJCpR+i+FLdfl0+OFt\n7azqZNEooTILs37qIBBlAyMT7os3ngDXJdDW7XpVGE+U/92CSPk7vb2pqsucIzXo\n57P84qPED8tue6Xjl2B4sKprIUZFZ1P7NnEszyfej8Pp4V3OZQv1kGMITqQnuWJL\nt6Man8iNeyE8/bkjWbE24+FQ9pnAMXhh+jlPVetoMfa1tEQSkN7xCAtGvmO4dXYq\n5lBBWwVjAoQjiIR7G9e3u22MQzS9DVeoTCaZ+VnP0FUof0QMT0CByV+OYKa9+16w\n8lERvK4jjOPxe0cCnP5qYatU2aNudtGoP6q6MbqkZnPsDtk299OB1bdOTLENKA38\nhzk+hh2XOdMX5e8IIzn/2ZQIsosFnb9AFd1xpsUgUpBhxY53ypM=\n=aRhx\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIEGGW3HxYoyzDorTYBx8Lm4+9jjAnNMd0gNjVqKcihwxCP/wEC5m/YOCcmLB\nHi96YkbLF+0I8CAbY4dvFtIfiOUZzfBgDCXyn4e4g7yXC6BhlpJs/4rVKQjxBGQZ\nk6XwCF5oj++dmw4GAIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxlbmRhci5jYXRh\nbGxheHkuY29t//AQ1DXWrPfuPj6vPFGfmlW6uwjxICL943nQxjDA12WqLd8wep2/\nqUh84N1MHXtTtPlOfQ5LCPEEZBmTpfAIic9kQ6SIzlUAg9/jDS75DI4uLWh0dHBz\nOi8vYWxpY2UuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3RhbXBzLm9yZ/AQ+QAltBJo\n9oO9ZN/Hy7R0KQjwICpzM5Ubs4mowawY4gBVXFeUmfY9LMZGWN/ztLfjSMg9CPAg\nKmjnuF37ac4YKu6Kw6ExtqF1UzbTbCHJ6JFEY8I9iUcI8QRkGZOl8Ag59Dg3G+Dg\nhACD3+MNLvkMjikoaHR0cHM6Ly9maW5uZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxs\nLmNvbQ==\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dad1dd5a70237b972da9798987db9038bb59339b",
          "sha": "dad1dd5a70237b972da9798987db9038bb59339b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dad1dd5a70237b972da9798987db9038bb59339b"
        }
      ],
      "message": "tracing: log_p2p_connections.bt example\n\nA bpftrace (v0.14.1) script that logs information from the\nnet:*_connection tracepoints.",
      "committer": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2023-03-21T11:23:13Z"
      },
      "author": {
        "name": "0xb10c",
        "email": "b10c@b10c.me",
        "date": "2022-08-12T16:34:48Z"
      },
      "sha": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8804398559,
      "node_id": "HRFPE_lADOABII585PuKCjzwAAAAIMyHXf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8804398559",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-21T11:36:11Z"
    },
    {
      "event": "commented",
      "id": 1477694019,
      "node_id": "IC_kwDOABII585YE9JD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1477694019",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-21T11:45:05Z",
      "updated_at": "2023-03-21T11:45:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "The linter started [complaining](https://cirrus-ci.com/task/5633626411368448?logs=lint#L224) about \"E275 missing whitespace after keyword\". Fixed this up in the individual commits.\r\n\r\nac438b10918ef05df2e564734d879699c8aa18f9 -> 6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae ([2022-05-connection-tracepoints.pr.1](https://github.com/0xB10C/bitcoin/tree/2022-05-connection-tracepoints.pr.1) -> [2022-05-connection-tracepoints.pr.2](https://github.com/0xB10C/bitcoin/tree/2022-05-connection-tracepoints.pr.2); [compare](https://github.com/0xb10c/bitcoin/compare/2022-05-connection-tracepoints.pr.1..2022-05-connection-tracepoints.pr.2))",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1477694019",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25832"
    },
    {
      "event": "reviewed",
      "id": 1350315532,
      "node_id": "PRR_kwDOABII585QfC4M",
      "url": null,
      "actor": null,
      "commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#pullrequestreview-1350315532",
      "submitted_at": "2023-03-21T12:20:57Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832"
    },
    {
      "event": "reviewed",
      "id": 1352078466,
      "node_id": "PRR_kwDOABII585QlxSC",
      "url": null,
      "actor": null,
      "commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#pullrequestreview-1352078466",
      "submitted_at": "2023-03-22T09:31:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832"
    },
    {
      "event": "commented",
      "id": 1482823973,
      "node_id": "IC_kwDOABII585YYhkl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1482823973",
      "actor": {
        "login": "virtu",
        "id": 72414353,
        "node_id": "MDQ6VXNlcjcyNDE0MzUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/72414353?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/virtu",
        "html_url": "https://github.com/virtu",
        "followers_url": "https://api.github.com/users/virtu/followers",
        "following_url": "https://api.github.com/users/virtu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/virtu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/virtu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/virtu/subscriptions",
        "organizations_url": "https://api.github.com/users/virtu/orgs",
        "repos_url": "https://api.github.com/users/virtu/repos",
        "events_url": "https://api.github.com/users/virtu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/virtu/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-24T13:43:59Z",
      "updated_at": "2023-03-24T13:43:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK [6de4fc7](https://github.com/bitcoin/bitcoin/commit/6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae)\r\n\r\nCode reviewed tracepoints, tests, and demo script. Tracepoint placement looks good, so do tests. Successfully ran functional tests and the demo script.\r\n\r\nSome points:\r\n- Any reason why only `inbound_connection` and `outbound_connection` explicitly cast all arguments in the demo script?\r\n- I think some of the format specifiers in the demo script are lightly off, leading to outputs with negative netgroup values on my system. I believe it should be  `%lld` for int64 and `%llu` for uint64.\r\n- As [brought up previously](https://github.com/bitcoin/bitcoin/pull/25832#discussion_r1143291078), it would be nice to switch from `nKeyedNetGroup` to netgroup ids that are consistent over time",
      "user": {
        "login": "virtu",
        "id": 72414353,
        "node_id": "MDQ6VXNlcjcyNDE0MzUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/72414353?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/virtu",
        "html_url": "https://github.com/virtu",
        "followers_url": "https://api.github.com/users/virtu/followers",
        "following_url": "https://api.github.com/users/virtu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/virtu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/virtu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/virtu/subscriptions",
        "organizations_url": "https://api.github.com/users/virtu/orgs",
        "repos_url": "https://api.github.com/users/virtu/repos",
        "events_url": "https://api.github.com/users/virtu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/virtu/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1482823973",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25832"
    },
    {
      "event": "review_requested",
      "id": 8838912310,
      "node_id": "RRE_lADOABII585PuKCjzwAAAAIO1xk2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8838912310",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-24T13:44:03Z",
      "requested_reviewer": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 1363350952,
      "node_id": "PRR_kwDOABII585RQxWo",
      "url": null,
      "actor": null,
      "commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#pullrequestreview-1363350952",
      "submitted_at": "2023-03-29T15:05:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-21T21:07:59Z",
      "updated_at": "2023-04-21T21:07:59Z",
      "source": {
        "issue": {
          "id": 1678541218,
          "node_id": "PR_kwDOABII585O3QRm",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27509/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27509",
          "number": 27509,
          "state": "open",
          "state_reason": null,
          "title": "Relay own transactions only via short-lived Tor or I2P connections",
          "body": "To improve privacy, relay locally submitted transactions (from the wallet or via RPC) to the P2P network only via Tor or I2P short-lived connections.\r\n\r\n* Introduce a new connection type for relaying sensitive data (our own transactions) with the following properties:\r\n  * started whenever there are local unbroadcast transactions to be sent\r\n  * only opened to Tor or I2P peers\r\n  * opened regardless of max connections limits\r\n  * after handshake is completed one local transaction is pushed to the peer and the connection is closed\r\n  * ignore all incoming messages after handshake is completed\r\n\r\n* Relay locally submitted transactions (from the wallet or via RPC) using this new mechanism, to a few Tor or I2P peers.\r\n\r\n* Hide those transactions from `GETDATA` and `MEMPOOL` requests, as if we don't have them.\r\n\r\n* Once we get an `INV` from somebody, request the transaction with `GETDATA`, as if we didn't have it before.\r\n\r\n* After we receive the full transaction as a `TX` message, in reply to our `GETDATA` request, only then consider the transaction has propagated through the network and remove it from the unbroadcast list.\r\n\r\n* `INV` it to others as a result of the `TX` message we get, like what we do with transactions that are not ours.\r\n\r\nThe messages exchange should look like this:\r\n\r\n```\r\ntx-sender >--- connect -------> tx-recipient\r\ntx-sender >--- VERSION -------> tx-recipient\r\ntx-sender <--- VERSION -------< tx-recipient\r\ntx-sender <--- WTXIDRELAY ----< tx-recipient (maybe) \r\ntx-sender <--- SENDADDRV2 ----< tx-recipient (maybe) \r\ntx-sender <--- SENDTXRCNCL ---< tx-recipient (maybe) \r\ntx-sender <--- VERACK --------< tx-recipient\r\ntx-sender >--- VERACK --------> tx-recipient\r\ntx-sender >--- TX ------------> tx-recipient\r\ntx-sender >--- PING ----------> tx-recipient\r\ntx-sender <--- PONG ----------< tx-recipient\r\ntx-sender disconnects\r\n```\r\n\r\nWhenever a new local transaction is received (from the wallet or RPC), the node will send it to 5 (`SENSITIVE_RELAY_NUM_BROADCAST_PER_TX`) recipients right away. If after 10-15 mins we still have not heard anything about the transaction from the network, then it will be sent to 5 more peers (see `PeerManagerImpl::ReattemptInitialBroadcast()`).\r\n\r\nA few considerations:\r\n* The short-lived sensitive relay connections are very cheap and fast wrt network traffic. It is expected that some of those peers will blackhole the transaction. Just one honest/proper peer is enough for successful propagation.\r\n* The peers that receive the transaction could deduce that this is initial transaction broadcast from the transaction originator. This is ok, they can't identify the sender.\r\n\r\nTODO:\r\n* [x] Disable if `-connect` is used or Tor and I2P are not reachable.\r\n* [x] Use I2P transient connections even if listening on I2P.\r\n* [x] Do something with the user-agent string (could reveal identity if it has been personalized) and make sure no identifying information in the `VERSION` message. Done: took the [suggestion below](https://github.com/bitcoin/bitcoin/pull/27509#issuecomment-1517896418).\r\n* [x] Improve the condition when we consider the transaction seen by the network: right now a single INV from somebody suffices (this is still an improvement over `master` which is ok right after pushing the tx to a peer). We could wait for more than one INV, from peers that we have selected (outbound) and that are specifically not the ones we broadcasted to (via short-lived connection). Edit: One `INV` should be enough because after that we broadcast the transaction to everybody we are connected to (like if it is not ours).\r\n* [ ] Idea: start with one connection per transaction (not 5 as it is now), optimistically assuming it will be sufficient. (numbers are examples) After 1 minute, if still not received from the network, try 2 connections, after a few minutes try more. If still unsuccessful after 10 minutes, then fall back to the old mechanism.\r\n\r\nThis is supposed to address:\r\nhttps://github.com/bitcoin/bitcoin/issues/3828\r\nhttps://github.com/bitcoin/bitcoin/issues/14692\r\nhttps://github.com/bitcoin/bitcoin/issues/19042\r\nhttps://github.com/bitcoin/bitcoin/issues/24557\r\nhttps://github.com/bitcoin/bitcoin/issues/25450\r\n",
          "user": {
            "login": "vasild",
            "id": 266751,
            "node_id": "MDQ6VXNlcjI2Njc1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vasild",
            "html_url": "https://github.com/vasild",
            "followers_url": "https://api.github.com/users/vasild/followers",
            "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
            "organizations_url": "https://api.github.com/users/vasild/orgs",
            "repos_url": "https://api.github.com/users/vasild/repos",
            "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/vasild/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64584,
              "node_id": "MDU6TGFiZWw2NDU4NA==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
              "name": "Brainstorming",
              "color": "ebd775",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 54,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27509",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27509",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27509.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27509.patch"
          },
          "created_at": "2023-04-21T13:39:19Z",
          "updated_at": "2023-08-06T17:47:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1522043071,
      "node_id": "IC_kwDOABII585auIi_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1522043071",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-25T15:57:13Z",
      "updated_at": "2023-04-25T15:57:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "Still think this is relevant, marking this as in draft until I address the feedback.",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#issuecomment-1522043071",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25832"
    },
    {
      "event": "convert_to_draft",
      "id": 9094109200,
      "node_id": "CTDE_lADOABII585PuKCjzwAAAAIeDRgQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9094109200",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-25T15:57:21Z"
    },
    {
      "event": "subscribed",
      "id": 9624644666,
      "node_id": "SE_lADOABII585PuKCjzwAAAAI9rGw6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9624644666",
      "actor": {
        "login": "HussainShuhoodh",
        "id": 137587560,
        "node_id": "U_kgDOCDNraA",
        "avatar_url": "https://avatars.githubusercontent.com/u/137587560?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/HussainShuhoodh",
        "html_url": "https://github.com/HussainShuhoodh",
        "followers_url": "https://api.github.com/users/HussainShuhoodh/followers",
        "following_url": "https://api.github.com/users/HussainShuhoodh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/HussainShuhoodh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/HussainShuhoodh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/HussainShuhoodh/subscriptions",
        "organizations_url": "https://api.github.com/users/HussainShuhoodh/orgs",
        "repos_url": "https://api.github.com/users/HussainShuhoodh/repos",
        "events_url": "https://api.github.com/users/HussainShuhoodh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/HussainShuhoodh/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-24T04:58:58Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-05T00:39:23Z",
      "updated_at": "2023-07-05T00:39:23Z",
      "source": {
        "issue": {
          "id": 1763237710,
          "node_id": "PR_kwDOABII585TUzpd",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27912",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27912/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27912/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27912/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27912",
          "number": 27912,
          "state": "open",
          "state_reason": null,
          "title": "net: disconnect inside AttemptToEvictConnection",
          "body": "Fixes #27843\r\n\r\nTo avoid overflowing `-maxconnections` disconnect nodes marked for eviction directly inside of `AttemptToEvictConnection()`. This has the end result that new connections will only be accepted _after_ an existing connection is dropped, otherwise the new connection is dropped.\r\n\r\nPreviously the number of connected nodes could overflow `nMaxInbound` as (multiple) new connections could be accepted from `ThreadI2PAccept` -- each marking an existing connection to drop (in the future) -- before `ThreadSocketHandler` looped through to `DisconnectNodes()` and took care of the disconnections.\r\n\r\nNode disconnection and deletion are broken out into individual functions which handle a single node so they can be called both from `DisconnectNodes()` and `AttemptToEvictConnection`. This will result in more un/locking operations to perform mass disconnections, but as this only really happens when the network becomes inactive it should not be a problem.",
          "user": {
            "login": "willcl-ark",
            "id": 6606587,
            "node_id": "MDQ6VXNlcjY2MDY1ODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willcl-ark",
            "html_url": "https://github.com/willcl-ark",
            "followers_url": "https://api.github.com/users/willcl-ark/followers",
            "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
            "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
            "repos_url": "https://api.github.com/users/willcl-ark/repos",
            "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27912",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27912",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27912.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27912.patch"
          },
          "created_at": "2023-06-19T10:26:52Z",
          "updated_at": "2023-08-06T17:47:00Z"
        },
        "type": "issue"
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143291078",
      "pull_request_review_id": 1350315532,
      "id": 1143291078,
      "node_id": "PRRC_kwDOABII585EJTzG",
      "diff_hunk": "@@ -930,6 +938,15 @@ bool CConnman::AttemptToEvictConnection()\n     for (CNode* pnode : m_nodes) {\n         if (pnode->GetId() == *node_id_to_evict) {\n             LogPrint(BCLog::NET, \"selected %s connection for eviction peer=%d; disconnecting\\n\", pnode->ConnectionTypeAsString(), pnode->GetId());\n+\n+            TRACE6(net, evicted_connection,\n+                pnode->GetId(),\n+                pnode->m_addr_name.c_str(),\n+                pnode->ConnectionTypeAsString().c_str(),\n+                pnode->ConnectedThroughNetwork(),\n+                pnode->nKeyedNetGroup,\n+                std::chrono::duration<uint64_t>(pnode->m_connected).count());",
      "path": "src/net.cpp",
      "position": 26,
      "original_position": 26,
      "commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "original_commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "in_reply_to_id": null,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thinking a little bit about what data should go into the tracepoints.\r\n\r\n`m_addr_name`: would it make more sense to put `addr` in binary form (or both)? I'm not sure they are equivalent all the time.\r\n`nKeyedNetGroup`: is derived deterministically from `addr` using random seeds that are created with every `CConnman`. I think that means that across restarts of a node previous net groups loose meaning (i.e. you can't compare them to netgroups of new connections). Maybe `NetGroupManager::GetGroup(addr)` would be better?\r\n",
      "created_at": "2023-03-21T12:20:57Z",
      "updated_at": "2023-03-21T12:20:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#discussion_r1143291078",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1143291078"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832"
        }
      },
      "start_line": 942,
      "original_start_line": 942,
      "start_side": "RIGHT",
      "line": 948,
      "original_line": 948,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144467948",
      "pull_request_review_id": 1352067310,
      "id": 1144467948,
      "node_id": "PRRC_kwDOABII585ENzHs",
      "diff_hunk": "@@ -930,6 +938,15 @@ bool CConnman::AttemptToEvictConnection()\n     for (CNode* pnode : m_nodes) {\n         if (pnode->GetId() == *node_id_to_evict) {\n             LogPrint(BCLog::NET, \"selected %s connection for eviction peer=%d; disconnecting\\n\", pnode->ConnectionTypeAsString(), pnode->GetId());\n+\n+            TRACE6(net, evicted_connection,\n+                pnode->GetId(),\n+                pnode->m_addr_name.c_str(),\n+                pnode->ConnectionTypeAsString().c_str(),\n+                pnode->ConnectedThroughNetwork(),\n+                pnode->nKeyedNetGroup,\n+                std::chrono::duration<uint64_t>(pnode->m_connected).count());",
      "path": "src/net.cpp",
      "position": 26,
      "original_position": 26,
      "commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "original_commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "in_reply_to_id": 1143291078,
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, helpful comments!\r\n\r\n- `m_addr_name`: my reasoning for passing `m_addr_name` as string instead of binary is that we likely don't want to implement the binary decoding in each tracing script. I think the string is closer to what users need. However, not opposing to add the binary if there's need.\r\n- `nKeyedNetGroup`: I added the netgroup as argument to better identify connections coming from the same network. For my use-case, it's not problematic if `nKeyedNetGroup` isn't consistent across restarts and doesn't have a meaning besides being an ID. I had a quick look at `NetGroupManager::GetGroup()`. This looks like a good alternative to `nKeyedNetGroup` as consumers can choose to decode it if they want.  I plan to play around with it a bit to see if it works.",
      "created_at": "2023-03-22T09:25:01Z",
      "updated_at": "2023-03-22T09:25:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#discussion_r1144467948",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144467948"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832"
        }
      },
      "start_line": 942,
      "original_start_line": 942,
      "start_side": "RIGHT",
      "line": 948,
      "original_line": 948,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144475716",
      "pull_request_review_id": 1352078466,
      "id": 1144475716,
      "node_id": "PRRC_kwDOABII585EN1BE",
      "diff_hunk": "@@ -589,6 +589,14 @@ void CNode::CloseSocketDisconnect()\n     if (m_sock) {\n         LogPrint(BCLog::NET, \"disconnecting peer=%d\\n\", id);\n         m_sock.reset();\n+\n+        TRACE6(net, closed_connection,\n+            GetId(),\n+            m_addr_name.c_str(),\n+            ConnectionTypeAsString().c_str(),\n+            ConnectedThroughNetwork(),\n+            nKeyedNetGroup,\n+            std::chrono::duration<uint64_t>(m_connected).count());",
      "path": "src/net.cpp",
      "position": 11,
      "original_position": 11,
      "commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "original_commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n            Ticks<std::chrono::seconds>(m_connected);\r\n```\r\n\r\nnit, use `Ticks`, or `count_seconds` (if you want the compile failure if m_connected is changed to higher precision than seconds)?",
      "created_at": "2023-03-22T09:31:12Z",
      "updated_at": "2023-03-22T09:31:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#discussion_r1144475716",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1144475716"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 599,
      "original_line": 599,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147575925",
      "pull_request_review_id": 1356693262,
      "id": 1147575925,
      "node_id": "PRRC_kwDOABII585EZp51",
      "diff_hunk": "@@ -930,6 +938,15 @@ bool CConnman::AttemptToEvictConnection()\n     for (CNode* pnode : m_nodes) {\n         if (pnode->GetId() == *node_id_to_evict) {\n             LogPrint(BCLog::NET, \"selected %s connection for eviction peer=%d; disconnecting\\n\", pnode->ConnectionTypeAsString(), pnode->GetId());\n+\n+            TRACE6(net, evicted_connection,\n+                pnode->GetId(),\n+                pnode->m_addr_name.c_str(),\n+                pnode->ConnectionTypeAsString().c_str(),\n+                pnode->ConnectedThroughNetwork(),\n+                pnode->nKeyedNetGroup,\n+                std::chrono::duration<uint64_t>(pnode->m_connected).count());",
      "path": "src/net.cpp",
      "position": 26,
      "original_position": 26,
      "commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "original_commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "in_reply_to_id": 1143291078,
      "user": {
        "login": "virtu",
        "id": 72414353,
        "node_id": "MDQ6VXNlcjcyNDE0MzUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/72414353?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/virtu",
        "html_url": "https://github.com/virtu",
        "followers_url": "https://api.github.com/users/virtu/followers",
        "following_url": "https://api.github.com/users/virtu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/virtu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/virtu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/virtu/subscriptions",
        "organizations_url": "https://api.github.com/users/virtu/orgs",
        "repos_url": "https://api.github.com/users/virtu/repos",
        "events_url": "https://api.github.com/users/virtu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/virtu/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I can imagine some use cases where having consistent netgroup identifiers would be advantageous. Unless `NetGroupManager::GetGroup()` adds too much overhead, they seem preferable.",
      "created_at": "2023-03-24T13:24:50Z",
      "updated_at": "2023-03-24T13:24:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#discussion_r1147575925",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147575925"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832"
        }
      },
      "start_line": 942,
      "original_start_line": 942,
      "start_side": "RIGHT",
      "line": 948,
      "original_line": 948,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1152094594",
      "pull_request_review_id": 1363350952,
      "id": 1152094594,
      "node_id": "PRRC_kwDOABII585Eq5GC",
      "diff_hunk": "@@ -930,6 +938,15 @@ bool CConnman::AttemptToEvictConnection()\n     for (CNode* pnode : m_nodes) {\n         if (pnode->GetId() == *node_id_to_evict) {\n             LogPrint(BCLog::NET, \"selected %s connection for eviction peer=%d; disconnecting\\n\", pnode->ConnectionTypeAsString(), pnode->GetId());\n+\n+            TRACE6(net, evicted_connection,",
      "path": "src/net.cpp",
      "position": 20,
      "original_position": 20,
      "commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "original_commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "in_reply_to_id": null,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n            TRACE6(net, evicted_inbound_connection,\r\n```\r\n\r\nThe logic in `net` exclusively evicts inbound peers and there is more eviction logic in `net_processing` for outbound connections. Maybe adding separate trace points for both makes sense?",
      "created_at": "2023-03-29T15:05:46Z",
      "updated_at": "2023-03-29T15:05:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#discussion_r1152094594",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1152094594"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 942,
      "original_line": 942,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166745046",
      "pull_request_review_id": 1385325217,
      "id": 1166745046,
      "node_id": "PRRC_kwDOABII585Fix3W",
      "diff_hunk": "@@ -930,6 +938,15 @@ bool CConnman::AttemptToEvictConnection()\n     for (CNode* pnode : m_nodes) {\n         if (pnode->GetId() == *node_id_to_evict) {\n             LogPrint(BCLog::NET, \"selected %s connection for eviction peer=%d; disconnecting\\n\", pnode->ConnectionTypeAsString(), pnode->GetId());\n+\n+            TRACE6(net, evicted_connection,\n+                pnode->GetId(),\n+                pnode->m_addr_name.c_str(),\n+                pnode->ConnectionTypeAsString().c_str(),\n+                pnode->ConnectedThroughNetwork(),\n+                pnode->nKeyedNetGroup,\n+                std::chrono::duration<uint64_t>(pnode->m_connected).count());",
      "path": "src/net.cpp",
      "position": 26,
      "original_position": 26,
      "commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "original_commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "in_reply_to_id": 1143291078,
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Looking into `GetGroup()` I saw it returns a C++ `std::vector<unsigned char>`. We can't pass C++ `std::vector`'s in the tracepoints as the eBPF code, written in C, won't be able to read it. We can call `data()` and pass this in the tracepoint as pointer to unsigned chars (we do this with e.g. the raw P2P messages too). To read from this pointer, we also need to pass the of the length of underlying array.\r\n\r\nI'll give this a shot in a separate branch.",
      "created_at": "2023-04-14T12:00:13Z",
      "updated_at": "2023-04-14T12:00:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#discussion_r1166745046",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166745046"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832"
        }
      },
      "start_line": 942,
      "original_start_line": 942,
      "start_side": "RIGHT",
      "line": 948,
      "original_line": 948,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166768178",
      "pull_request_review_id": 1385359577,
      "id": 1166768178,
      "node_id": "PRRC_kwDOABII585Fi3gy",
      "diff_hunk": "@@ -930,6 +938,15 @@ bool CConnman::AttemptToEvictConnection()\n     for (CNode* pnode : m_nodes) {\n         if (pnode->GetId() == *node_id_to_evict) {\n             LogPrint(BCLog::NET, \"selected %s connection for eviction peer=%d; disconnecting\\n\", pnode->ConnectionTypeAsString(), pnode->GetId());\n+\n+            TRACE6(net, evicted_connection,\n+                pnode->GetId(),\n+                pnode->m_addr_name.c_str(),\n+                pnode->ConnectionTypeAsString().c_str(),\n+                pnode->ConnectedThroughNetwork(),\n+                pnode->nKeyedNetGroup,\n+                std::chrono::duration<uint64_t>(pnode->m_connected).count());",
      "path": "src/net.cpp",
      "position": 26,
      "original_position": 26,
      "commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "original_commit_id": "6de4fc73c935baa2cc6f54dd57c8e57a5df3c7ae",
      "in_reply_to_id": 1143291078,
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "An alternative is to pass `GetMappedAS()` which is an `uint32_t` that will be !=0 in an ASMap future. A net group similar to Bitcoin Core's can be calculated from the peer address by consumers that need it. ",
      "created_at": "2023-04-14T12:20:20Z",
      "updated_at": "2023-04-14T12:20:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25832#discussion_r1166768178",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166768178"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25832"
        }
      },
      "start_line": 942,
      "original_start_line": 942,
      "start_side": "RIGHT",
      "line": 948,
      "original_line": 948,
      "side": "RIGHT"
    }
  ]
}