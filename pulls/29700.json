{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29700",
    "id": 1785565107,
    "node_id": "PR_kwDOABII585qbY-z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29700",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29700.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29700.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29700",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29700/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29700/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29700/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/69defe036c1a9b5fed49038511f6676294c13ddd",
    "number": 29700,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "kernel, refactor: return error status on all fatal errors",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Return util::Result objects from all functions that can trigger fatal errors.\r\n\r\nThere are many validation functions that handle failures by calling `AbortNode` and triggering shutdowns, without returning error information to their callers. This makes error handling in libbitcoinkernel application code difficult, because the only way to handle these errors is to register for [notification callbacks](https://github.com/bitcoin/bitcoin/blob/master/src/kernel/notifications_interface.h). Improve this by making all functions that trigger fatal errors return util::Result objects with the error information.\r\n\r\nThis PR is a pure refactoring that returns extra result information from functions without changing their behavior. It's a possible alternative to and subset of #29642, which adds similar return information but also makes behavior changes and exposes a FatalError type.\r\n\r\n---\r\n\r\n**This is based on #25665.** The non-base commits are:\r\n\r\n- [`e149ffd8128e` refactor, blockstorage: Add FlushStatus / FlushResult types](https://github.com/bitcoin/bitcoin/pull/29700/commits/e149ffd8128ebf8e59f1cc8c80ef260d72eb97e7)\r\n- [`694dc0b5ea4e` refactor, blockstorage: Return FlushResult from flush methods](https://github.com/bitcoin/bitcoin/pull/29700/commits/694dc0b5ea4ef122796f9588b104f2dd350e64b1)\r\n- [`f0acd00b4ada` refactor, blockstorage: Return fatal errors from block writes](https://github.com/bitcoin/bitcoin/pull/29700/commits/f0acd00b4ada031da38f0a04fbaa74a546c64032)\r\n- [`a94681d1da23` refactor, blockstorage: Return fatal error from LoadBlockIndex](https://github.com/bitcoin/bitcoin/pull/29700/commits/a94681d1da23706a54d588d1e3efac9372529a81)\r\n- [`f84c73423f34` refactor, validation: Return fatal errors from FlushStateToDisk](https://github.com/bitcoin/bitcoin/pull/29700/commits/f84c73423f348454e4b6cd6c33fd8521f2c57a3b)\r\n- [`01de47e9869e` refactor, validation: Return fatal errors from mempool accept functions](https://github.com/bitcoin/bitcoin/pull/29700/commits/01de47e9869e45d20ccb9c347ac1de82a640e243)\r\n- [`3e663e3df590` refactor, validation: Return fatal errors from assumeutxo snapshot functions](https://github.com/bitcoin/bitcoin/pull/29700/commits/3e663e3df59040293b3b5d1c166f1e6b967db5f4)\r\n- [`7a290d747604` refactor, validation: Return fatal errors from block connect functions](https://github.com/bitcoin/bitcoin/pull/29700/commits/7a290d747604830e25aaabf435ec9c24efff3fc7)\r\n- [`e4ba7f063ee7` refactor, validation: Return fatal errors from activate best chain functions](https://github.com/bitcoin/bitcoin/pull/29700/commits/e4ba7f063ee730feb08d9df68fb91cfd05d9e536)\r\n- [`3ca2ff1de392` refactor, validation: Return fatal errors from new block functions](https://github.com/bitcoin/bitcoin/pull/29700/commits/3ca2ff1de3925b51ebd55787de3766e589b59b93)\r\n- [`c2ae3ec2c859` refactor, blockstorage: Return fatal error from ImportBlocks](https://github.com/bitcoin/bitcoin/pull/29700/commits/c2ae3ec2c859296c404e04c5cf85e2fbaa05388a)\r\n- [`69defe036c1a` refactor, validation: Return more errors from VerifyDB](https://github.com/bitcoin/bitcoin/pull/29700/commits/69defe036c1a9b5fed49038511f6676294c13ddd)",
    "labels": [],
    "created_at": "2024-03-21T23:11:56Z",
    "updated_at": "2024-03-21T23:12:40Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "311976e4b3ad7337e74d7f76ff8288d1e56aae29",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "ryanofsky:pr/fatalresult",
      "ref": "pr/fatalresult",
      "sha": "69defe036c1a9b5fed49038511f6676294c13ddd",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 69901633,
        "node_id": "MDEwOlJlcG9zaXRvcnk2OTkwMTYzMw==",
        "name": "bitcoin",
        "full_name": "ryanofsky/bitcoin",
        "owner": {
          "login": "ryanofsky",
          "id": 7133040,
          "node_id": "MDQ6VXNlcjcxMzMwNDA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ryanofsky",
          "html_url": "https://github.com/ryanofsky",
          "followers_url": "https://api.github.com/users/ryanofsky/followers",
          "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
          "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
          "repos_url": "https://api.github.com/users/ryanofsky/repos",
          "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/ryanofsky/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/ryanofsky/bitcoin",
        "archive_url": "https://api.github.com/repos/ryanofsky/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/ryanofsky/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/ryanofsky/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/ryanofsky/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/ryanofsky/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/ryanofsky/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/ryanofsky/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/ryanofsky/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/ryanofsky/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/ryanofsky/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/ryanofsky/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/ryanofsky/bitcoin/events",
        "forks_url": "https://api.github.com/repos/ryanofsky/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/ryanofsky/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/ryanofsky/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/ryanofsky/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/ryanofsky/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/ryanofsky/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/ryanofsky/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/ryanofsky/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/ryanofsky/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/ryanofsky/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/ryanofsky/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/ryanofsky/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/ryanofsky/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:ryanofsky/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/ryanofsky/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/ryanofsky/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/ryanofsky/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/ryanofsky/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/ryanofsky/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/ryanofsky/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/ryanofsky/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/ryanofsky/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/ryanofsky/bitcoin/hooks",
        "svn_url": "https://github.com/ryanofsky/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 9,
        "stargazers_count": 12,
        "watchers_count": 12,
        "size": 250157,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-21T22:39:28Z",
        "created_at": "2016-10-03T19:05:43Z",
        "updated_at": "2024-01-25T23:52:08Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "71b63195b30b2fa0dff20ebb262ce7566dd5d673",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 34879,
        "stargazers_count": 74944,
        "watchers_count": 74944,
        "size": 253318,
        "default_branch": "master",
        "open_issues_count": 706,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-03-21T23:11:56Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-03-21T22:27:12Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29700"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 1467,
    "deletions": 619,
    "changed_files": 49,
    "commits": 21,
    "review_comments": 0,
    "comments": 1
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc4YzM0N2YxOGYyYmUzYTRlOGJmY2QyZGY1NTJiM2NjZGRjYmUwNTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/78c347f18f2be3a4e8bfcd2df552b3ccddcbe054",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/78c347f18f2be3a4e8bfcd2df552b3ccddcbe054",
      "tree": {
        "sha": "79e66148f1add71c7e3b6768fc664091f4c3cbf9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/79e66148f1add71c7e3b6768fc664091f4c3cbf9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/88b1229c134fa006d9a57e908ebebec944419347",
          "sha": "88b1229c134fa006d9a57e908ebebec944419347",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/88b1229c134fa006d9a57e908ebebec944419347"
        }
      ],
      "message": "refactor: Drop util::Result operator=\n\nIn cases where different error conditions need to be handled differently, it is\nuseful for `util::`Result` objects to be able to hold failure values and error\nmessages simultaneously. Also it is useful for `util::Result` objects to be\nable to hold multiple error message strings and warnings, instead of just\nsingle error strings.\n\nIn both of these cases, which are supported in upcoming commits, having an\n`operator=` method is potentially dangerous if it clears existing error and\nwarnings strings while setting result values, or confusing if it doesn't clear\nthem, so the safest thing is to disable `operator=` and provide an explicit\n`Set()` method so callers have a way of setting result values without having to\nclear message strings.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-02-21T18:16:51Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-09-15T15:15:06Z"
      },
      "sha": "78c347f18f2be3a4e8bfcd2df552b3ccddcbe054"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI1YjI0ODdmZGViZDM4MzU4OGQxMmEwN2NkOTYyODcwNTZiNWRhM2U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b5b2487fdebd383588d12a07cd96287056b5da3e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b5b2487fdebd383588d12a07cd96287056b5da3e",
      "tree": {
        "sha": "79bfb6b95ea1777aa6d55086c66cee273abb0e5f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/79bfb6b95ea1777aa6d55086c66cee273abb0e5f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/78c347f18f2be3a4e8bfcd2df552b3ccddcbe054",
          "sha": "78c347f18f2be3a4e8bfcd2df552b3ccddcbe054",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/78c347f18f2be3a4e8bfcd2df552b3ccddcbe054"
        }
      ],
      "message": "refactor: Avoid copying util::Result values\n\nCopying util::Result values is less efficient than moving them because they\nallocate memory and contain strings. Also this is needed to avoid compile\nerrors in the next commit which adds a std::unique_ptr member to util::Result\nwhich implicity disables copying.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-02-21T18:16:51Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2023-09-06T16:33:39Z"
      },
      "sha": "b5b2487fdebd383588d12a07cd96287056b5da3e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg2MDZjZDU4NWIwMzI3M2FhODdhNjNmYTVkMTU5MDQwNGJjODM2M2Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8606cd585b03273aa87a63fa5d1590404bc8363f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8606cd585b03273aa87a63fa5d1590404bc8363f",
      "tree": {
        "sha": "fc22464c2ec0314337cdf1170135f54f574d1ba6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fc22464c2ec0314337cdf1170135f54f574d1ba6"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b5b2487fdebd383588d12a07cd96287056b5da3e",
          "sha": "b5b2487fdebd383588d12a07cd96287056b5da3e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b5b2487fdebd383588d12a07cd96287056b5da3e"
        }
      ],
      "message": "refactor: Add util::Result failure values\n\nAdd util::Result support for returning more error information. For better error\nhandling, adds the ability to return a value on failure, not just a value on\nsuccess. This is a key missing feature that made the result class not useful\nfor functions like LoadChainstate() which produce different errors that need to\nbe handled differently.\n\nThis change also makes some more minor improvements:\n\n- Smaller type size. util::Result<int> is 16 bytes, and util::Result<void> is 8\n  bytes. Previously util::Result<int> and util::Result<void> were 72 bytes.\n\n- More documentation and tests.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-02-21T18:16:51Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-07-18T19:48:04Z"
      },
      "sha": "8606cd585b03273aa87a63fa5d1590404bc8363f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNkOWJiYTQxNjZiOWZkYWRjMDYzYTUxNTM0NTJmYzFjOTE3OWI4OGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cd9bba4166b9fdadc063a5153452fc1c9179b88d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cd9bba4166b9fdadc063a5153452fc1c9179b88d",
      "tree": {
        "sha": "a2d363c7d7877da786f42bc8fed56be8bf4259ae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a2d363c7d7877da786f42bc8fed56be8bf4259ae"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8606cd585b03273aa87a63fa5d1590404bc8363f",
          "sha": "8606cd585b03273aa87a63fa5d1590404bc8363f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8606cd585b03273aa87a63fa5d1590404bc8363f"
        }
      ],
      "message": "refactor: Use util::Result class in LoadChainstate and VerifyLoadedChainstate",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-02-21T18:16:51Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-07-21T04:46:20Z"
      },
      "sha": "cd9bba4166b9fdadc063a5153452fc1c9179b88d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE2YjFmOTEwYmVmN2JjMTJmMGJmNGU5NjQ1M2NkOWJlNGEyM2Y4ODk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/16b1f910bef7bc12f0bf4e96453cd9be4a23f889",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/16b1f910bef7bc12f0bf4e96453cd9be4a23f889",
      "tree": {
        "sha": "7e3c6c1eca33fd46a4c986de79ca0891654aefef",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7e3c6c1eca33fd46a4c986de79ca0891654aefef"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cd9bba4166b9fdadc063a5153452fc1c9179b88d",
          "sha": "cd9bba4166b9fdadc063a5153452fc1c9179b88d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cd9bba4166b9fdadc063a5153452fc1c9179b88d"
        }
      ],
      "message": "refactor: Add util::Result multiple error and warning messages\n\nAdd util::Result support for returning warning messages and multiple errors,\nnot just a single error string. This provides a way for functions to report\nerrors and warnings in a standard way, and simplifies interfaces.\n\nThe functionality is unit tested here, and put to use in followup PR\nhttps://github.com/bitcoin/bitcoin/pull/25722",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-02-21T18:16:51Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2022-07-18T19:48:04Z"
      },
      "sha": "16b1f910bef7bc12f0bf4e96453cd9be4a23f889"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNkZjdiYjE3NTYzYjkyZTQ4YjA1NzZhMDk3NWMxNjg2MTljNWFhMzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cdf7bb17563b92e48b0576a0975c168619c5aa34",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cdf7bb17563b92e48b0576a0975c168619c5aa34",
      "tree": {
        "sha": "217aea13161e8090faf8473487bbbcc3e8596cb5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/217aea13161e8090faf8473487bbbcc3e8596cb5"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/16b1f910bef7bc12f0bf4e96453cd9be4a23f889",
          "sha": "16b1f910bef7bc12f0bf4e96453cd9be4a23f889",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/16b1f910bef7bc12f0bf4e96453cd9be4a23f889"
        }
      ],
      "message": "test: add static test for util::Result memory usage\n\nSuggested by Martin Leitner-Ankerl <martin.ankerl@gmail.com>\nhttps://github.com/bitcoin/bitcoin/pull/25722#discussion_r1174298529\n\nCo-authored-by: Martin Leitner-Ankerl <martin.ankerl@gmail.com>",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-02-21T18:16:51Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2023-07-20T17:52:40Z"
      },
      "sha": "cdf7bb17563b92e48b0576a0975c168619c5aa34"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcxZWE1MGIyY2E5YjM4ZTAzYzk3Y2E2ZmNjNjM1MDY1OTQwYWExZDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71ea50b2ca9b38e03c97ca6fcc635065940aa1d6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/71ea50b2ca9b38e03c97ca6fcc635065940aa1d6",
      "tree": {
        "sha": "f8cf1a3b23f491344db3535eee1effe4ae61ad81",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f8cf1a3b23f491344db3535eee1effe4ae61ad81"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cdf7bb17563b92e48b0576a0975c168619c5aa34",
          "sha": "cdf7bb17563b92e48b0576a0975c168619c5aa34",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cdf7bb17563b92e48b0576a0975c168619c5aa34"
        },
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5b9831a0a5018e5fb77596130cd7269108273259",
          "sha": "5b9831a0a5018e5fb77596130cd7269108273259",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5b9831a0a5018e5fb77596130cd7269108273259"
        }
      ],
      "message": "Merge remote-tracking branch 'origin/master' into pr/bresult2",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T15:48:45Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T15:48:45Z"
      },
      "sha": "71ea50b2ca9b38e03c97ca6fcc635065940aa1d6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYxNDhlYjFlMGJmZGZhNmZlNjI4MmI2ZTNhYTU0N2YwODc0MTQyMzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6148eb1e0bfdfa6fe6282b6e3aa547f087414234",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6148eb1e0bfdfa6fe6282b6e3aa547f087414234",
      "tree": {
        "sha": "8451d989ee3d8e74b1e5f1f43d8970ddcf20add1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8451d989ee3d8e74b1e5f1f43d8970ddcf20add1"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71ea50b2ca9b38e03c97ca6fcc635065940aa1d6",
          "sha": "71ea50b2ca9b38e03c97ca6fcc635065940aa1d6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/71ea50b2ca9b38e03c97ca6fcc635065940aa1d6"
        },
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b50554babdddf452acaa51bac757736766c70e81",
          "sha": "b50554babdddf452acaa51bac757736766c70e81",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b50554babdddf452acaa51bac757736766c70e81"
        }
      ],
      "message": "Merge remote-tracking branch 'origin/master' into pr/bresult2",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T19:50:51Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T19:50:51Z"
      },
      "sha": "6148eb1e0bfdfa6fe6282b6e3aa547f087414234"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGUxM2Q4NTQ1YmM1Y2I0NThkODY4Y2JkNjliMDVjMThkNTA2YmM1MjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e13d8545bc5cb458d868cbd69b05c18d506bc521",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e13d8545bc5cb458d868cbd69b05c18d506bc521",
      "tree": {
        "sha": "66a1524b8869d1772567482e5ae291e3f4d0296e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/66a1524b8869d1772567482e5ae291e3f4d0296e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71b63195b30b2fa0dff20ebb262ce7566dd5d673",
          "sha": "71b63195b30b2fa0dff20ebb262ce7566dd5d673",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/71b63195b30b2fa0dff20ebb262ce7566dd5d673"
        },
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6148eb1e0bfdfa6fe6282b6e3aa547f087414234",
          "sha": "6148eb1e0bfdfa6fe6282b6e3aa547f087414234",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6148eb1e0bfdfa6fe6282b6e3aa547f087414234"
        }
      ],
      "message": "Merge remote-tracking branch 'origin/pull/25665/head'",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "sha": "e13d8545bc5cb458d868cbd69b05c18d506bc521"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGUxNDlmZmQ4MTI4ZWJmOGU1OWYxY2M4YzgwZWYyNjBkNzJlYjk3ZTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e149ffd8128ebf8e59f1cc8c80ef260d72eb97e7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e149ffd8128ebf8e59f1cc8c80ef260d72eb97e7",
      "tree": {
        "sha": "8e3e25c97a8f5fe98831fb9793c9943342213f6b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8e3e25c97a8f5fe98831fb9793c9943342213f6b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e13d8545bc5cb458d868cbd69b05c18d506bc521",
          "sha": "e13d8545bc5cb458d868cbd69b05c18d506bc521",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e13d8545bc5cb458d868cbd69b05c18d506bc521"
        }
      ],
      "message": "refactor, blockstorage: Add FlushStatus / FlushResult types",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "e149ffd8128ebf8e59f1cc8c80ef260d72eb97e7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY5NGRjMGI1ZWE0ZWYxMjI3OTZmOTU4OGIxMDRmMmRkMzUwZTY0YjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/694dc0b5ea4ef122796f9588b104f2dd350e64b1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/694dc0b5ea4ef122796f9588b104f2dd350e64b1",
      "tree": {
        "sha": "edfc94567b5c1e0e662f25415c3aad568e863829",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/edfc94567b5c1e0e662f25415c3aad568e863829"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e149ffd8128ebf8e59f1cc8c80ef260d72eb97e7",
          "sha": "e149ffd8128ebf8e59f1cc8c80ef260d72eb97e7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e149ffd8128ebf8e59f1cc8c80ef260d72eb97e7"
        }
      ],
      "message": "refactor, blockstorage: Return FlushResult from flush methods\n\nReturn FlushResult instead of bool from BlockStorage FlushUndoFile,\nFlushBlockFile, FlushChainstateBlockFile methods and update all callers of\nthese methods to use the FlushResult type internally and provide context\ninformation for the flush failure. These methods will be changed to bubble up\nthe FlushResult value to their callers in subsequent commits.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "694dc0b5ea4ef122796f9588b104f2dd350e64b1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYwYWNkMDBiNGFkYTAzMWRhMzhmMGEwNGZiYWE3NGE1NDZjNjQwMzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f0acd00b4ada031da38f0a04fbaa74a546c64032",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f0acd00b4ada031da38f0a04fbaa74a546c64032",
      "tree": {
        "sha": "0990cf64405e366db8a89f343ad9ef87cad11039",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0990cf64405e366db8a89f343ad9ef87cad11039"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/694dc0b5ea4ef122796f9588b104f2dd350e64b1",
          "sha": "694dc0b5ea4ef122796f9588b104f2dd350e64b1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/694dc0b5ea4ef122796f9588b104f2dd350e64b1"
        }
      ],
      "message": "refactor, blockstorage: Return fatal errors from block writes\n\nReturn fatal errors from BlockManager methods that write block data. Also\nupdate callers to use the new result types. The callers will be changed to\nbubble up the results to their callers in subsequent commits.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "f0acd00b4ada031da38f0a04fbaa74a546c64032"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE5NDY4MWQxZGEyMzcwNmE1NGQ1ODhkMWUzZWZhYzkzNzI1MjlhODE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a94681d1da23706a54d588d1e3efac9372529a81",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a94681d1da23706a54d588d1e3efac9372529a81",
      "tree": {
        "sha": "bd50a8d1463b93d39cb23204b601233ae5666088",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bd50a8d1463b93d39cb23204b601233ae5666088"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f0acd00b4ada031da38f0a04fbaa74a546c64032",
          "sha": "f0acd00b4ada031da38f0a04fbaa74a546c64032",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f0acd00b4ada031da38f0a04fbaa74a546c64032"
        }
      ],
      "message": "refactor, blockstorage: Return fatal error from LoadBlockIndex\n\nReturn fatal error and interrupt status from LoadBlockIndex functions and\nupdate callers to use new result types.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "a94681d1da23706a54d588d1e3efac9372529a81"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY4NGM3MzQyM2YzNDg0NTRlNGI2Y2Q2YzMzZmQ4NTIxZjJjNTdhM2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f84c73423f348454e4b6cd6c33fd8521f2c57a3b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f84c73423f348454e4b6cd6c33fd8521f2c57a3b",
      "tree": {
        "sha": "8c9418fa0392ef4c2b36b1d3879d705413b1e466",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8c9418fa0392ef4c2b36b1d3879d705413b1e466"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a94681d1da23706a54d588d1e3efac9372529a81",
          "sha": "a94681d1da23706a54d588d1e3efac9372529a81",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a94681d1da23706a54d588d1e3efac9372529a81"
        }
      ],
      "message": "refactor, validation: Return fatal errors from FlushStateToDisk\n\nReturn fatal errors from the Chainstate::FlushStateToDisk method and several\nsmall, related methods which wrap it: ForceFlushStateToDisk, PruneAndFlush,\nResizeCoinsCaches, and MaybeRebalanceCaches.\n\nAlso add nodiscard annotations so callers do not accidentally ignore the result\nvalues. Callers in init and rpc files are updated to explicitly ignore the\nflush results, and other callers (AcceptToMemoryPool, ProcessNewPackage,\nDisconnectTip, ConnectTip, ActivateBestChainStep, ActivateSnapshot,\nMaybeCompleteSnapshotValidation) are updated to store the results in this\ncommit, and will be updated in upcoming commits to bubble results up to their\ncallers.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "f84c73423f348454e4b6cd6c33fd8521f2c57a3b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAxZGU0N2U5ODY5ZTQ1ZDIwY2NiOWMzNDdhYzFkZTgyYTY0MGUyNDM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01de47e9869e45d20ccb9c347ac1de82a640e243",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/01de47e9869e45d20ccb9c347ac1de82a640e243",
      "tree": {
        "sha": "de63bdb7c5874e378ed3525b35506ca8db1f220b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/de63bdb7c5874e378ed3525b35506ca8db1f220b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f84c73423f348454e4b6cd6c33fd8521f2c57a3b",
          "sha": "f84c73423f348454e4b6cd6c33fd8521f2c57a3b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f84c73423f348454e4b6cd6c33fd8521f2c57a3b"
        }
      ],
      "message": "refactor, validation: Return fatal errors from mempool accept functions\n\nReturn fatal errors from AcceptToMemoryPool ProcessNewPackage,\nProcessTransaction, MaybeUpdateMempoolForReorg, and LoadMempool functions.\n\nAlso add nodiscard annotations so callers handle the result values. Two callers\nActivateBestChainStep and InvalidateBlock will be updated in upcommit commits\nto bubble results up to their callers.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "01de47e9869e45d20ccb9c347ac1de82a640e243"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNlNjYzZTNkZjU5MDQwMjkzYjNiNWQxYzE2NmYxZTZiOTY3ZGI1ZjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3e663e3df59040293b3b5d1c166f1e6b967db5f4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3e663e3df59040293b3b5d1c166f1e6b967db5f4",
      "tree": {
        "sha": "66243ff0d5bdc7e7eaa6576ff5d5f047678758ba",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/66243ff0d5bdc7e7eaa6576ff5d5f047678758ba"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/01de47e9869e45d20ccb9c347ac1de82a640e243",
          "sha": "01de47e9869e45d20ccb9c347ac1de82a640e243",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/01de47e9869e45d20ccb9c347ac1de82a640e243"
        }
      ],
      "message": "refactor, validation: Return fatal errors from assumeutxo snapshot functions\n\nReturn fatal errors from ActivateSnapshot, MaybeCompleteSnapshotValidation, and\nValidatedSnapshotCleanup functions. Also add nodiscard annotations so callers\nhandle the result values. One caller, ConnectTip, will be updated in an\nupcoming commits to bubble results up to its callers.\n\n# This is the commit message #2:\n\n# fixup! refactor, validation: Return fatal errors from assumeutxo snapshot",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "3e663e3df59040293b3b5d1c166f1e6b967db5f4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdhMjkwZDc0NzYwNDgzMGUyNWFhYWJmNDM1ZWM5YzI0ZWZmZjNmYzc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7a290d747604830e25aaabf435ec9c24efff3fc7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7a290d747604830e25aaabf435ec9c24efff3fc7",
      "tree": {
        "sha": "54451974bcc2a8adf89661e8af1b569d4119ea4d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/54451974bcc2a8adf89661e8af1b569d4119ea4d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3e663e3df59040293b3b5d1c166f1e6b967db5f4",
          "sha": "3e663e3df59040293b3b5d1c166f1e6b967db5f4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3e663e3df59040293b3b5d1c166f1e6b967db5f4"
        }
      ],
      "message": "refactor, validation: Return fatal errors from block connect functions\n\nReturn fatal errors from ConnectBlock, ConnectTip, DisconnectTip, and\nInvalidateBlock. Also add nodiscard annotations so callers handle the result\nvalues. Two callers, ActivateBestChainStep and TestBlockValidity will be\nupdated in an upcoming commits to bubble results up to its callers.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "7a290d747604830e25aaabf435ec9c24efff3fc7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU0YmE3ZjA2M2VlNzMwZmViMDhkOWRmNjhmYjkxY2ZkMDVkOWU1MzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e4ba7f063ee730feb08d9df68fb91cfd05d9e536",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e4ba7f063ee730feb08d9df68fb91cfd05d9e536",
      "tree": {
        "sha": "c40888a9555ccfe44c6f966ba62677784432a280",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c40888a9555ccfe44c6f966ba62677784432a280"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7a290d747604830e25aaabf435ec9c24efff3fc7",
          "sha": "7a290d747604830e25aaabf435ec9c24efff3fc7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7a290d747604830e25aaabf435ec9c24efff3fc7"
        }
      ],
      "message": "refactor, validation: Return fatal errors from activate best chain functions\n\nReturn fatal errors from ActivateBestChain, ActivateBestChainStep, and\nPreciousBlock functions.  Also add nodiscard annotations so callers handle the\nresult values. Two callers, ProcessNewBlock and LoadExternalBlockFile, will be\nupdated in an upcoming commits to bubble results up to its callers.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "e4ba7f063ee730feb08d9df68fb91cfd05d9e536"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNjYTJmZjFkZTM5MjViNTFlYmQ1NTc4N2RlMzc2NmU1ODliNTliOTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3ca2ff1de3925b51ebd55787de3766e589b59b93",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3ca2ff1de3925b51ebd55787de3766e589b59b93",
      "tree": {
        "sha": "b7465535853d5187a947d0715dc2e3d9f46c1425",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b7465535853d5187a947d0715dc2e3d9f46c1425"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e4ba7f063ee730feb08d9df68fb91cfd05d9e536",
          "sha": "e4ba7f063ee730feb08d9df68fb91cfd05d9e536",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e4ba7f063ee730feb08d9df68fb91cfd05d9e536"
        }
      ],
      "message": "refactor, validation: Return fatal errors from new block functions\n\nReturn fatal errors from AcceptBlock, ProcessNewBlock, TestBlockValidity,\nLoadGenesisBlock, and LoadExternalBlockFile. Also add nodiscard annotations so\ncallers handle the result values.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "3ca2ff1de3925b51ebd55787de3766e589b59b93"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMyYWUzZWMyYzg1OTI5NmM0MDRlMDRjNWNmODVlMmZiYWEwNTM4OGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c2ae3ec2c859296c404e04c5cf85e2fbaa05388a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c2ae3ec2c859296c404e04c5cf85e2fbaa05388a",
      "tree": {
        "sha": "42e4f465b4ef95f26783fa814e486b4fa7c8d954",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/42e4f465b4ef95f26783fa814e486b4fa7c8d954"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3ca2ff1de3925b51ebd55787de3766e589b59b93",
          "sha": "3ca2ff1de3925b51ebd55787de3766e589b59b93",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3ca2ff1de3925b51ebd55787de3766e589b59b93"
        }
      ],
      "message": "refactor, blockstorage: Return fatal error from ImportBlocks\n\nReturn fatal error ImportBlocks function and add nodiscard annotation.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "c2ae3ec2c859296c404e04c5cf85e2fbaa05388a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY5ZGVmZTAzNmMxYTliNWZlZDQ5MDM4NTExZjY2NzYyOTRjMTNkZGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/69defe036c1a9b5fed49038511f6676294c13ddd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/69defe036c1a9b5fed49038511f6676294c13ddd",
      "tree": {
        "sha": "49c43381ca5dde968f4959b587a1f30f854d536d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/49c43381ca5dde968f4959b587a1f30f854d536d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c2ae3ec2c859296c404e04c5cf85e2fbaa05388a",
          "sha": "c2ae3ec2c859296c404e04c5cf85e2fbaa05388a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c2ae3ec2c859296c404e04c5cf85e2fbaa05388a"
        }
      ],
      "message": "refactor, validation: Return more errors from VerifyDB\n\nReturn ConnectBlock errors from VerifyDB.",
      "committer": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-21T11:03:25Z"
      },
      "author": {
        "name": "Ryan Ofsky",
        "email": "ryan@ofsky.org",
        "date": "2024-03-20T21:12:09Z"
      },
      "sha": "69defe036c1a9b5fed49038511f6676294c13ddd"
    },
    {
      "event": "commented",
      "id": 2014018587,
      "node_id": "IC_kwDOABII5854C3wb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2014018587",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T23:11:58Z",
      "updated_at": "2024-03-21T23:11:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29700).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29700#issuecomment-2014018587",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29700"
    },
    {
      "event": "convert_to_draft",
      "id": 12208643846,
      "node_id": "CTDE_lADOABII586DNh6ezwAAAALXsR8G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12208643846",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T23:12:11Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T23:35:00Z",
      "updated_at": "2024-03-21T23:35:00Z",
      "source": {
        "issue": {
          "id": 2182725746,
          "node_id": "PR_kwDOABII585pcBG3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29642/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29642",
          "number": 29642,
          "state": "open",
          "state_reason": null,
          "title": "kernel: Handle fatal errors through return values",
          "body": "Based on #25665.\r\n\r\nCurrently functions issuing fatal errors call the `fatalError` notification method to issue a shutdown procedure. This makes it hard for higher level functions to figure out if an error deeper in the call stack occurred. For users of the kernel it might also be difficult to assert which function call issued a fatal error if they are being run concurrently. If the kernel would eventually be used by external users, getting fatal error information through a callback instead of function return values would also be cumbersome and limiting. Unit, bench, and fuzz tests currently don't have a way to effectively test against fatal errors.\r\n\r\nThis patch set is an attempt to make fatal error handling in the kernel code more transparent. Fatal errors are now passed up the call stack through `util::Result<T, FatalError>` failure values. A previous attempt at this by theuni always immediately returned failure values if a function call returned a failure. However, this is not always desirable (see discussion [here](https://github.com/bitcoin/bitcoin/pull/27866#discussion_r1256378064)). Sometimes, further operations can still be completed even if a fatal error was issued. The solution to this is that these \"ignored\" errors are still moved through `util::Result`'s error string values with its `.MoveMessages` method, even while a failure value in the result is not present.\r\n\r\nNext to some smaller behavior changes, the most significant change is that the issuing of a shutdown procedure is delayed until a potential fatal error is handled as opposed to immediately when it is first encountered. Another effect is that potential fatal errors are now asserted in the bench, fuzz and unit tests. Some of the currently not immediately returned fatal errors need some further scrutiny. These are marked with a `TODO (fatal error)` comment and could be tackled in a later PR.\r\n\r\nTo validate this approach a new clang-tidy check is introduced. It implements the following checks:\r\n\r\n1. If a function calls another function with a `util::Result<T, FatalCondition>` return type, its return type has to be `util::Result<T, FatalCondition>` too, or it has to handle the value returned by the function with one of `CheckFatal`, `HandleFatalError`,\r\n`UnwrapFatalError`, or `CheckFatalFailure`.\r\n2. In functions returning a `util::Result<T, FatalCondition>` a call to a function returning a `util::Result<T, FatalCondition>` needs to propagate the value by either:\r\n   - Returning it immediately\r\n   - Assigning it immediately to an existing result with `.MoveMessages()` or `.Set()`\r\n   - Eventually passing it as an argument to a `.MoveMessages()`\r\n\r\n---\r\n\r\nThis PR is part of the [libbitcoinkernel project](https://github.com/bitcoin/bitcoin/issues/27587) and is a step towards stage 2, creating a more refined kernel API.",
          "user": {
            "login": "TheCharlatan",
            "id": 8421793,
            "node_id": "MDQ6VXNlcjg0MjE3OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TheCharlatan",
            "html_url": "https://github.com/TheCharlatan",
            "followers_url": "https://api.github.com/users/TheCharlatan/followers",
            "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
            "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
            "repos_url": "https://api.github.com/users/TheCharlatan/repos",
            "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29642",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29642",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29642.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29642.patch"
          },
          "created_at": "2024-03-12T21:34:45Z",
          "updated_at": "2024-03-21T23:35:01Z"
        },
        "type": "issue"
      }
    }
  ],
  "comments": []
}