{
  "type": "issue",
  "issue": {
    "id": 2603944599,
    "node_id": "I_kwDOABII586bNQqX",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31127",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31127/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31127/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31127/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31127",
    "number": 31127,
    "state": "open",
    "state_reason": null,
    "title": "getblockchaininfo `verificationprogress` never reaches 1.0",
    "body": "In the output of `bitcoin-cli getblockchaininfo`, `verificationprogress` sometimes never reaches 1.0, and fluctuates around 0.99999.\r\n\r\n```\r\n{\r\n  ...\r\n  \"verificationprogress\": 0.9999945316157191,\r\n  ...\r\n}\r\n```\r\n\r\nThis was reported in #26433, and closed because `verificationprogress` is only an estimate. I would have commented in that issue, but it's locked. The rationale for closing the issue was because the OP in the issue wanted to use `verificationprogress` to check if the chain is synced, and the field is only an estimate, and shouldn't be relied on as exact.\r\n\r\nThis makes sense, however, however, I think it still should be fixed so that, at the chain tip, `verificationprogress` is 1.0, just for UX reasons. Many a time I've looked at the output of `getblockchaininfo` and been confused because it isn't at 1.0.",
    "user": {
      "login": "casey",
      "id": 1945,
      "node_id": "MDQ6VXNlcjE5NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1945?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/casey",
      "html_url": "https://github.com/casey",
      "followers_url": "https://api.github.com/users/casey/followers",
      "following_url": "https://api.github.com/users/casey/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/casey/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/casey/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/casey/subscriptions",
      "organizations_url": "https://api.github.com/users/casey/orgs",
      "repos_url": "https://api.github.com/users/casey/repos",
      "events_url": "https://api.github.com/users/casey/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/casey/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 2,
    "created_at": "2024-10-22T00:30:51Z",
    "updated_at": "2024-10-22T01:11:27Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 2428007153,
      "node_id": "IC_kwDOABII586QuHLx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2428007153",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-22T01:03:34Z",
      "updated_at": "2024-10-22T01:05:32Z",
      "author_association": "MEMBER",
      "body": "Maybe for UX purposes `verificationprogress` in RPC getblockchaininfo (and CLI -getinfo) could return 1 instead of the estimate, when `blocks` equals `headers` or `initialblockdownload` is false.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31127#issuecomment-2428007153",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31127"
    },
    {
      "event": "commented",
      "id": 2428013831,
      "node_id": "IC_kwDOABII586QuI0H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2428013831",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-22T01:11:26Z",
      "updated_at": "2024-10-22T01:11:26Z",
      "author_association": "MEMBER",
      "body": "The verification progress estimate is computed by first determining an estimate on the total number of transactions to date (based on the current time, and a known growth rate), and then dividing the actual number of transactions in the chain by that.\r\n\r\nIf we want something that looks nicer, it's possible to instead of using the current time, use the timestamp of the best known block header. This will give wildly inaccurate results while headers are still syncing, though.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31127#issuecomment-2428013831",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31127"
    }
  ]
}