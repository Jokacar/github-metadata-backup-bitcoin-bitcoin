{
  "type": "issue",
  "issue": {
    "id": 2388041374,
    "node_id": "I_kwDOABII586OVp6e",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30379",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30379/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30379/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30379/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/30379",
    "number": 30379,
    "state": "open",
    "state_reason": null,
    "title": "Use C++20 consteval to verify translation strings",
    "body": "It is possible to write `_(str_ptr)`, which is wrong, see https://github.com/bitcoin/bitcoin/pull/30267#discussion_r1663631973.\r\n\r\nI am not familiar with the translation build system integration, but it would be good to effectively change the signature of `_` from `auto _(const char*)` to `consteval auto _(const char*)`.\r\n\r\nMy understanding is that this would catch this error at compile time, saving review effort and follow-up fixup changes.\r\n\r\nAssumed compiler error message:\r\n\r\n```\r\nerror: the value of 'reason' is not usable in a constant expression\r\n      |   _(reason);\r\n      |     ^~~~~~",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 0,
    "created_at": "2024-07-03T08:42:14Z",
    "updated_at": "2024-07-03T08:42:14Z"
  },
  "events": []
}