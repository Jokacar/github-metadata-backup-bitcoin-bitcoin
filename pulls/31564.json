{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31564",
    "id": 2251165186,
    "node_id": "PR_kwDOABII586GLg4C",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31564",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31564.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31564.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31564",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31564/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31564/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31564/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/442f27a03ff6280212a897a083f0bc0367a1420f",
    "number": 31564,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Add checkblock RPC and checkBlock() to Mining interface",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "## Rationale\r\n\r\n### Verifying block templates (no PoW)\r\n\r\nStratum v2 and DATUM allow miners to generate their own block template. Pools may wish (or need) to verify these templates. This typically involves comparing mempools, asking miners to providing missing transactions and then reconstructing the proposed block.[^0] This is not sufficient to ensure a proposed block is actually valid. In some schemes miners could take advantage of incomplete validation[^1].\r\n\r\nThe Stratum Reference Implementation (SRI), currently the only Stratum v2 implementation, collects all missing mempool transactions, but does not yet fully verify the block.[^2] There's currently no way for it to do so, short of re-implementing Bitcoin Core validation code.\r\n\r\n(although SRI could use this PR, the Template Provider role doesn't need it, so this is _not_ part of #31098)\r\n\r\n### Verifying weak blocks (reduced PoW)\r\n\r\nStratum v2 and DATUM decentralise block template generation, but still hinge on a centralised entity to approve these templates.\r\n\r\nThere used to be a decentralised mining protocol P2Pool[^3] which relied on (what we would today call) weak blocks. In such a system all participants perform verification and there is no privileged pool operator (that can reject a template).\r\n\r\n> P2Pool shares form a \"sharechain\" with each share referencing the previous share's hash. Each share contains a standard Bitcoin block header, some P2Pool-specific data that is used to compute the generation transaction (total subsidy, payout script of this share, a nonce, the previous share's hash, and _the current target for shares_), and a Merkle branch linking that generation transaction to the block header's Merkle hash.\r\n\r\nIIUC only the header and coinbase of these shares / weak blocks were distributed amongst all pool participants and verified. This was sufficient at the time because fees were negligible, so payouts could simply be distributed based on work.\r\n\r\nHowever, if P2Pool were to be resurrected today[^5], it would need to account for fees in a similar manner as PPLNS[^1] above. In that case the share chain should include the full weak blocks[^7]. The client software would need a way to verify those weak blocks.\r\n\r\nA similar argument applies to [Braidpool](https://github.com/braidpool/braidpool).\r\n\r\n## Enter `checkblock` and its IPC counterpart `checkBlock()`\r\n\r\nGiven a serialised block, it performs the same checks as `submitblock`, but without updating the block index, chainstate, etc. The proof-of-work check can be bypassed entirely, for the first use of verifying block templates. Alternatively a `multiplier` factor can be provided to raise the target, for the use case of weak blocks. \r\n\r\nImplementation details:\r\n\r\nThis PR uses the first test commit from https://github.com/bitcoin/bitcoin/pull/31283 to refactor miner_tests.cpp. I'll keep changes synced between the two PR's (splitting into a separate PR if needed).\r\n\r\nInstead of a `multiplier` I could also allow a custom target. This would give weak block systems more flexibility on how to derive their difficulty. I do however like the simplicity of only allowing integer multiples of the target.\r\n\r\nThe `ChainstateManager::CheckNewBlock()` implementation is based on `ProcessNewBlock()`, but refactored in a number of ways (see https://github.com/Sjors/bitcoin/pull/75 for previous incarnations):\r\n\r\n- it drops the use of a `StateCatcher`\r\n- it requires building (directly) on the tip\r\n- if calls `CheckWeakProofOfWork` before the other checks\r\n- instead of `AcceptBlock()` it performs a (documented) subset of that function\r\n- it creates a throwaway `CCoinsViewCache` on top of the tip on which it connects the block (needed for full transaction verification)\r\n- it updates validation caches (and does not delete them). This should make subsequent validation (of a real block) faster if it contains overlapping transactions that are not in our mempool.\r\n\r\nThis `CheckNewBlock()` method is then called from the Mining interface `createBlock()` method. This in turn is called from the RPC `checkblock` code, which is a simplified clone of `submitblock`.\r\n\r\nThis PR contains a simple unit test and a more elaborate functional test.\r\n\r\nPotential followups:\r\n- if the block contains \"better\" transactions, (optionally) add them to our mempool [^5]\r\n- keep track of non-standard transactions[^6]\r\n- allow rollback (one or two blocks) for pools to verify stale work / uncles\r\n\r\n[^0]: https://github.com/stratum-mining/sv2-spec/blob/main/06-Job-Declaration-Protocol.md  \r\n[^1]: https://delvingbitcoin.org/t/pplns-with-job-declaration/1099/45?u=sjors\r\n[^2]: https://github.com/stratum-mining/stratum/blob/v1.1.0/roles/jd-server/src/lib/job_declarator/message_handler.rs#L196\r\n[^3]: https://en.bitcoin.it/wiki/P2Pool\r\n[^4]: I know some people are contemplating this and I'm somewhat optimistic that it can be done. In any case the additional complexity in this PR to support weak blocks is trivial.\r\n[^5]: this improves compact block relay once the real block comes in\r\n[^6]: https://delvingbitcoin.org/t/second-look-at-weak-blocks/805\r\n[^7]: The share chain client software could use compact block encoding to reduce its orphan / uncle rate. To make that easier, we could provide a `reconstructblock` RPC (`reconstructBlock` IPC) that takes the header and short ids, fills in a `CBlock` from the mempool (and jail) and returns a list of missing items. The share chain client then goes and fetches missing items and calls the method again. It then passes the complete block to `checkblock`. This avoids the need for others to fully implement compact block relay. Note that even if we implemented p2p weak block relay, it would not be useful for share chain clients, because they need to relay additional pool-specific data.",
    "labels": [],
    "created_at": "2024-12-24T17:07:27Z",
    "updated_at": "2024-12-27T00:23:57Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "4940881cf2616fd2f3e2cd286d706ee659f7d235",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "Sjors:2024/12/check-block",
      "ref": "2024/12/check-block",
      "sha": "442f27a03ff6280212a897a083f0bc0367a1420f",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 92390696,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MjM5MDY5Ng==",
        "name": "bitcoin",
        "full_name": "Sjors/bitcoin",
        "owner": {
          "login": "Sjors",
          "id": 10217,
          "node_id": "MDQ6VXNlcjEwMjE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Sjors",
          "html_url": "https://github.com/Sjors",
          "followers_url": "https://api.github.com/users/Sjors/followers",
          "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
          "organizations_url": "https://api.github.com/users/Sjors/orgs",
          "repos_url": "https://api.github.com/users/Sjors/repos",
          "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/Sjors/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/Sjors/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/Sjors/bitcoin",
        "archive_url": "https://api.github.com/repos/Sjors/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/Sjors/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/Sjors/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/Sjors/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/Sjors/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/Sjors/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/Sjors/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/Sjors/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/Sjors/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/Sjors/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/Sjors/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/Sjors/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/Sjors/bitcoin/events",
        "forks_url": "https://api.github.com/repos/Sjors/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/Sjors/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/Sjors/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/Sjors/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/Sjors/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/Sjors/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/Sjors/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/Sjors/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/Sjors/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/Sjors/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/Sjors/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/Sjors/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/Sjors/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/Sjors/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/Sjors/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/Sjors/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:Sjors/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/Sjors/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/Sjors/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/Sjors/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/Sjors/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/Sjors/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/Sjors/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/Sjors/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/Sjors/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/Sjors/bitcoin/hooks",
        "svn_url": "https://github.com/Sjors/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 11,
        "stargazers_count": 9,
        "watchers_count": 9,
        "size": 254009,
        "default_branch": "sv2",
        "open_issues_count": 11,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": false,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-12-24T15:49:28Z",
        "created_at": "2017-05-25T10:05:54Z",
        "updated_at": "2024-12-20T03:15:06Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "fc7b21484703da606c5c69b23daee8c39506d90c",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36423,
        "stargazers_count": 80861,
        "watchers_count": 80861,
        "size": 273659,
        "default_branch": "master",
        "open_issues_count": 696,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-12-20T15:19:08Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-12-26T22:54:48Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31564"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 512,
    "deletions": 79,
    "changed_files": 15,
    "commits": 6,
    "review_comments": 1,
    "comments": 2
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk4ODdkYjMxN2NhNTc5OTMyYWY2NmU0ZWEyMzRhZDE4MjRlYjBlOWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9887db317ca579932af66e4ea234ad1824eb0e9b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9887db317ca579932af66e4ea234ad1824eb0e9b",
      "tree": {
        "sha": "1e53caa848cc15c3085f41569c27b6f3442390d9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1e53caa848cc15c3085f41569c27b6f3442390d9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1e53caa848cc15c3085f41569c27b6f3442390d9\nparent fc7b21484703da606c5c69b23daee8c39506d90c\nauthor Sjors Provoost <sjors@sprovoost.nl> 1734688024 +0700\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1735028388 +0100\n\nvalidation: add CheckWeakProofOfWork\n\nCo-authored-by: Greg Sanders <gsanders87@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmdqbqQACgkQV/+b28ww\nEAko7w/9G6AwZLhxboxeDoZhOzI+DmvUFCK8elV/9YdZCpe24SzPqhDFdeYeHTcY\nAqI3Qlk+bsSI8jr5iII+VLHArrKD/Ap7qH6uFUbScHiysnZsb/jR3JnQjGc2CsGv\nhWc6Kw9NsfvB70hKJGnkXglmborzZJXirx7SUM1ZUfY0OOirL1eCSZShsGCYH6zm\nSEDGq3GgwGplk4Cs/mwXz9K90IoV6b+y+4aK4DoTMyOaJ8gf06x0TXlOY5J6PCxt\nyRRQl5ADAuY1LRV3ZpNRqDRMzo0pzQ+wm4Eqs5CK+4FqXzJjqOClSNI5kHJAKVSk\nkaPwb3FVco9PCbRiA6uQvRH1fHamUzxgfkN/NtZIMDWxeRJZBsROy2ENQV4Or0CZ\nuXebyGULNuCmEtDZyhYdVo5CZur2G3ckIU4V103pzIQm/z8KTlxhnqP/fB58/FUP\n2uaI+bgKAMf5IaNDwHkN9FmY0EfKQquBm4D12NvcFpEdwOIBGL9YYj4e+2YYWyiW\nSNbV/8ohcV1DkGcS4zW7xQlf1zdwXO9tOCLqQIp09GbOImlghgiMicyVXCKRswUT\nLkt8vIQfEVHlK9hmQa4OOf9ANhknV3rqFk+zOnVlR5iIjDZgoqJl9EnPiQ0mTAXF\nHnLmjsqxPqZlnwI8X8Z5x4grbRcCUJPuqMRnCgWFyeBaAt5RHsc=\n=3IsG\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc7b21484703da606c5c69b23daee8c39506d90c",
          "sha": "fc7b21484703da606c5c69b23daee8c39506d90c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fc7b21484703da606c5c69b23daee8c39506d90c"
        }
      ],
      "message": "validation: add CheckWeakProofOfWork\n\nCo-authored-by: Greg Sanders <gsanders87@gmail.com>",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-24T08:19:48Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-20T09:47:04Z"
      },
      "sha": "9887db317ca579932af66e4ea234ad1824eb0e9b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGViNWNhNTFlZjIwNzUyZDViYjlmNjQ5ZGQyYjZmYzBjNjM4ODg1NGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eb5ca51ef20752d5bb9f649dd2b6fc0c6388854a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/eb5ca51ef20752d5bb9f649dd2b6fc0c6388854a",
      "tree": {
        "sha": "fb66c0dba1e2380455b05260e2b38cb00843a7dd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fb66c0dba1e2380455b05260e2b38cb00843a7dd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fb66c0dba1e2380455b05260e2b38cb00843a7dd\nparent 9887db317ca579932af66e4ea234ad1824eb0e9b\nauthor Sjors Provoost <sjors@sprovoost.nl> 1734698984 +0700\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1735055272 +0100\n\nvalidation: CheckNewBlock()\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmdq16gACgkQV/+b28ww\nEAm1cA/+JIibR8nWHc/4tm6ZNaOQQSZMMqkfwncYvaB/WnGzZzZhB8wz4UuxCz3P\nRbSM0na65BgFfV6RmZmXnfU3ICqYQL4O/tWcTUfFvfgd2sZEcAdvALAN0QE4nLEl\n0DGBUIywRevmP8g0kcEoVL5HUdyYGI81hRrI+KTXXm5kRHfnuk1X8B6nD+m2q+Gf\nrrTDEUOj08K3dPb1B8MxpCtWw37JP88abFcwPvEoAD5rPI/CmUrH3A2mq3wKN/vT\n7YXe6pt+xDEUwoSadEt64NFr1qUKQEQcKrL1JygNgXMXPmSp5a2Fh96qVrFVjRWl\n97DTtvrphdu+qppwhaZ28FP2jGor0rYYoV1ToR/rM1jew9GBkROFgBkcZEF52/Ir\nX4dWGodvNDmdZR/CJNU6K6XrcMNO8yonKjo9ajmQ6/KFRpwbJr/nLnduRViHw3Kh\nmLYLL0NM1cVIJY9+gXNIfPbx5cgvmNIHuvJmM+yE477pZe1bgmEOArFqdeI/y6LO\nMt03keMulctZ6OYtAmjU9XrbvHfbKu9nrlJy3jC5MuzA31KRaKLDsy/JrMOEk0CX\nKnD6jcWBjrphUOGLZgwATwhvtYSkPiwe2va5XVcvnvl+fnvCGgFLCjaTKDvGgP5J\n9c1egz6Joah6hCcIwMEA2wUUq6L5/VnUihhpOCFk3gH4F+qH2j0=\n=CVZT\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9887db317ca579932af66e4ea234ad1824eb0e9b",
          "sha": "9887db317ca579932af66e4ea234ad1824eb0e9b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9887db317ca579932af66e4ea234ad1824eb0e9b"
        }
      ],
      "message": "validation: CheckNewBlock()",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-24T15:47:52Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-20T12:49:44Z"
      },
      "sha": "eb5ca51ef20752d5bb9f649dd2b6fc0c6388854a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM4OGVmZDExZDk5Yjg5YjA5NGIyYjYxN2U5NjUzY2ZjZTZmMzY4NzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c88efd11d99b89b094b2b617e9653cfce6f36876",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c88efd11d99b89b094b2b617e9653cfce6f36876",
      "tree": {
        "sha": "2bfb19359ab658316e383202950d872b2ec35e5e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2bfb19359ab658316e383202950d872b2ec35e5e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2bfb19359ab658316e383202950d872b2ec35e5e\nparent eb5ca51ef20752d5bb9f649dd2b6fc0c6388854a\nauthor Sjors Provoost <sjors@sprovoost.nl> 1735042555 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1735055272 +0100\n\ntest: use Mining interface in miner_tests\n\nAlternate calls between Chainman's ProcessNewBlock and submitSolution. The Chainman code path is used in production, so it's important to keep test coverage for it.\n\nUse createNewBlock via the interface instead of using the BlockAssembler directly. The latter is always called via the interface in production code.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmdq16gACgkQV/+b28ww\nEAkohQ//aM53rkfO4jaAl7bH3GzqdLTrV4QUCJN6NiCMGqx3zOL/zgC8xCrLsXZP\n/TiBxapfaI0Gtg+MC+9vC53suwlygwwhXfhzW3NgKHBqB9CBCnJFgpF8DhZJ8sKe\n4rfzmT4RmoNTCrPOFKvs6wyQGE3mHEQ4wxbBO1sQ9/5u/l24SFJ+Kb6vHknzrq/n\nR+TB0MwZbmDN9nZWIzS7+SwtRdBu25+GO6KS5IhPfa51ajpCqtI2+wdzN1ElJOul\nY6MbWcHGyxW+KhsqGdItHuVv4P0rNxyDEH03NDf5mlMVfH3z5KN4LHx05Tgsq6mM\nh0gfoNBrh8imX9/32vvbTHcmSRtmJ7syljtH2ZHL8zHOsuLqXUFBoH4jFW86hUA1\n+gfnvdCSV7DJ0Y1DFWZ1mYweE9K10t23nGB8rmCKPDMWddzrWqfBUg/JAde3zGeX\nVl6qTLdeNU8tTNsiTEuuMkt1WwLBAjtccRpMWgLp6//pU1vKX60qpX8q87Fh+pDD\nfSB86iM9r+DIr00Sg3dxM821NUN88OwbKp9fyAs27YbumjyoPs8Xqrld47Xdro/5\n00NKaNTuh9XnCMgXPPzz3qmbmO4cJs1HhQJPnW7I++qOTp+tWDrlOgLXyEzpVpcH\nZwQ51SpHRnO0q6MFhnPPxfXGjHam9zXr4tWpsspdnWSLqc26kf0=\n=h5ex\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eb5ca51ef20752d5bb9f649dd2b6fc0c6388854a",
          "sha": "eb5ca51ef20752d5bb9f649dd2b6fc0c6388854a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/eb5ca51ef20752d5bb9f649dd2b6fc0c6388854a"
        }
      ],
      "message": "test: use Mining interface in miner_tests\n\nAlternate calls between Chainman's ProcessNewBlock and submitSolution. The Chainman code path is used in production, so it's important to keep test coverage for it.\n\nUse createNewBlock via the interface instead of using the BlockAssembler directly. The latter is always called via the interface in production code.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-24T15:47:52Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-24T12:15:55Z"
      },
      "sha": "c88efd11d99b89b094b2b617e9653cfce6f36876"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhkN2Q1YTM0NTllMGYzNjQ4OGJhMjc5MzFmNjVhN2JmNWE1ZDBlZWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8d7d5a3459e0f36488ba27931f65a7bf5a5d0eee",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8d7d5a3459e0f36488ba27931f65a7bf5a5d0eee",
      "tree": {
        "sha": "0ed8be404166e85a8be2e10784c25ee044ee4b58",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0ed8be404166e85a8be2e10784c25ee044ee4b58"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0ed8be404166e85a8be2e10784c25ee044ee4b58\nparent c88efd11d99b89b094b2b617e9653cfce6f36876\nauthor Sjors Provoost <sjors@sprovoost.nl> 1735034934 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1735055272 +0100\n\nAdd checkBlock() to Mining interface\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmdq16gACgkQV/+b28ww\nEAm/ag//UHW3ST9dvBNk8W9o0DK1dI6SWSbkvQ+UwHqst9iGHlciaSH30S4fd8FY\nmCMI52OEJNVtDPZz4bxLoxiNIDN1VP/hpQqS49DlbP6RTRZ+Vf/xrtNPN98Ops5n\n5RJSs/Q6aCaDY44MDhxlOuerJhXnEgfLRs6hUmLUJZPj9rMqkAUXaFzzuMxVWC7B\nXN7DOq+sY+9hXfI+Aw6AdSc9YqAI5pU0/xvqOMVlF0s2pDusnkQAqx7RUHGxwR7D\nAhNpDcfPS77VJZsQLAJkUrzAVXSDm3Xf43YcP1hoSAMCAclwTAYzY5/B+yAqo1BO\no9TciJRdJn0lr6X5dq8g+WV2E6PG9R5+9TqcveE1PcKuozGfeutVk83tXtPOd20e\nPviWzAaXVlhkVuqgRL2MhzgqenWD2gsfYvel9XnE0XD7pHEbPcsDCSD53ICD2D45\nV4UHy1B7M+Voe0Sq2yH0De8FdU5amNa5L3nURM8dzWVLWbrZ2uPQMv5kYh/B9Gqo\n3I9uHahAZs8wZRxiwtu0KAfxuotM4lijlC+WZSqAU6NgSg29p1QwCkVL+6KuOn+C\n960uC+xtOh34WT1xRyXMNbis5/zoxKoNrZiKaqEZOteXSYXynOtrtlAUWAAkF90C\njg8RlschtFM0QtaFdddFNnvVUjoDumL7WN+wwy1y0AD4fH/og38=\n=h84x\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c88efd11d99b89b094b2b617e9653cfce6f36876",
          "sha": "c88efd11d99b89b094b2b617e9653cfce6f36876",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c88efd11d99b89b094b2b617e9653cfce6f36876"
        }
      ],
      "message": "Add checkBlock() to Mining interface",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-24T15:47:52Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-24T10:08:54Z"
      },
      "sha": "8d7d5a3459e0f36488ba27931f65a7bf5a5d0eee"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ0NzJjODEwM2Y3YmY3MzU5ODZkYTQyYjA5OTZhMTk4NTRjODBkNmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4472c8103f7bf735986da42b0996a19854c80d6c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4472c8103f7bf735986da42b0996a19854c80d6c",
      "tree": {
        "sha": "799b58a0d89c9ec5e25c7f0567648092b596d078",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/799b58a0d89c9ec5e25c7f0567648092b596d078"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 799b58a0d89c9ec5e25c7f0567648092b596d078\nparent 8d7d5a3459e0f36488ba27931f65a7bf5a5d0eee\nauthor Sjors Provoost <sjors@sprovoost.nl> 1735048957 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1735055272 +0100\n\ntest: solve weak blocks\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmdq16gACgkQV/+b28ww\nEAkHeA/9F1MjcRWsXO0aHg/rjcSzQU/v93SA+pZ7iuGHXilAN59tRBHPU7le6rhC\nSd0MvajAv0XrVyqdwE39DvNCTrFAwEj2LanGQdWWdp7v025+oP6TzHtq2ysFYHDW\nCD6ecNsEiIP8mjU9uKZUH9N+kW7vnisJW8ihX5XzAEGrlnVtN6yorrbOwNMTyHYM\n9NcubqPnT2W3Cb47zL1ZWE8rAOhyFX9Zfi1zd5OxEwQQLLTMlZU2umwVRPbaEUd3\nbFjaB37O0Sq99AxO3BdBygdCRoPZz+ifxWh2r/gEbCDPBot93DiRQTNwmXGcKmo2\nw9uhkZa024JSinPqgUKvMglJQ8GUjfehM94jOtKBXTpQOEaJXDoNJD5EaJmUmEKW\neQXg1qs+sEkAfTDeGbB23iiPLBSJo13CiafqsoNp7XYqDQmgI95isW8MD9AMWRGU\nl6XqSg3xLKB5xp5EYHM3ODMaX9nC1mAcaVbeTJpf7ZGKKfUDhTAN5XP30OZ3tzDB\ncikVo5Ajz/IfAZW1evRqyotTvuW4Mz74X2VbQsG1wp0xCTOTDqzzIxqTfqXyYUR9\ndhNHuAON1sia6pNdmbJGCXuRbmfRUuQs1RTi5FsYXCn/qsSRUfyBu2VOlI9MObQs\n0GhOc42cqguqI01unuXY39snGbfc+tO96jHI4iYFzG5GBjDqxbc=\n=NlNT\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8d7d5a3459e0f36488ba27931f65a7bf5a5d0eee",
          "sha": "8d7d5a3459e0f36488ba27931f65a7bf5a5d0eee",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8d7d5a3459e0f36488ba27931f65a7bf5a5d0eee"
        }
      ],
      "message": "test: solve weak blocks",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-24T15:47:52Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-24T14:02:37Z"
      },
      "sha": "4472c8103f7bf735986da42b0996a19854c80d6c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ0MmYyN2EwM2ZmNjI4MDIxMmE4OTdhMDgzZjBiYzAzNjdhMTQyMGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/442f27a03ff6280212a897a083f0bc0367a1420f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/442f27a03ff6280212a897a083f0bc0367a1420f",
      "tree": {
        "sha": "90d636770fbeb554bbb3d52a2e858a8198a8525a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/90d636770fbeb554bbb3d52a2e858a8198a8525a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 90d636770fbeb554bbb3d52a2e858a8198a8525a\nparent 4472c8103f7bf735986da42b0996a19854c80d6c\nauthor Sjors Provoost <sjors@sprovoost.nl> 1735036021 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1735055272 +0100\n\nrpc: add checkblock\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmdq16gACgkQV/+b28ww\nEAlxLQ/+JPBng0+3/BJrmm/gT3s49I20YpmxmmgqOmi4v2b21A2U7fMyJEn+WaUn\nj4FvsGY0m7LgXgLy3+8AjgG8GMrhwKyZebHRvC815y1UgNu3M9bE1kfmwEqBXRlL\nqSVSGDxgzKH+0yqePhhptL2UkqQqV8Y4gP6bM85J8srZEFfxWJxB7d+e6v48bWrc\nAE2NG1ALGhzjrt5ArIkp/FT52lHEPlEktYWan4rsYgI+QUFPAEOtaMj7tTap3Yf1\nmvsytBsdjTVT6xGNEOziS0aNiUt7H28vJ0NWqzRZZ1Q+oimUHjJROilA7TOf8901\nQKBpMJrOfDP+elZAVtmWhTbqV3pYYrig8bcYcbsI4PmR8lHfYXo46ihxNIY5GPhc\nUwIt19R3qcYnhEtDykQFKoeBiyZho9Hnzi8eIAgGZHPizyUwBKzDGUeW8b1jOvge\nbTrXsNt+fYw9XmwYp9hNjw1/N7e8xsyraolrO2IRi/DtIWaOznmuOmHCoCA+UPiI\nw3IwcpidbywSMmnk+kGMWJMDP+0QsSqKP3/AgeeFYKjKAVWQoVBouuUiIls/Eoo2\n60hZIXnHcP5fqHS0HDd4eFLw8bqDU4D2gp4HGpiH4QFdvQ+cQ1jAka9OPIER0CoX\nV17+997QL+eFWqTt+TBycdWTF+/HkIvEjkfYHd9GSxIX9BU2Ttw=\n=3hT7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4472c8103f7bf735986da42b0996a19854c80d6c",
          "sha": "4472c8103f7bf735986da42b0996a19854c80d6c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4472c8103f7bf735986da42b0996a19854c80d6c"
        }
      ],
      "message": "rpc: add checkblock",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-24T15:47:52Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-12-24T10:27:01Z"
      },
      "sha": "442f27a03ff6280212a897a083f0bc0367a1420f"
    },
    {
      "event": "commented",
      "id": 2561296557,
      "node_id": "IC_kwDOABII586Yqkit",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2561296557",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-24T17:07:30Z",
      "updated_at": "2024-12-27T00:21:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31564.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [tdb3](https://github.com/bitcoin/bitcoin/pull/31564#pullrequestreview-2523532175) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31283](https://github.com/bitcoin/bitcoin/pull/31283) (Add waitNext() to BlockTemplate interface by Sjors)\n* [#30391](https://github.com/bitcoin/bitcoin/pull/30391) (BlockAssembler: return selected packages virtual size and fee by ismaelsadeeq)\n* [#29415](https://github.com/bitcoin/bitcoin/pull/29415) (Broadcast own transactions only via short-lived Tor or I2P connections by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31564#issuecomment-2561296557",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31564"
    },
    {
      "event": "commented",
      "id": 2561298038,
      "node_id": "IC_kwDOABII586Yqk52",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2561298038",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-24T17:09:59Z",
      "updated_at": "2024-12-24T17:09:59Z",
      "author_association": "MEMBER",
      "body": "I wrote on IRC:\r\n\r\n>> Does anyone know what `UpdateUncommittedBlockStructures` is good for in the `submitblock` RPC?\r\n\r\nTo which @sipa responded:\r\n\r\n> Sjors[m]: it looks like it adds the \"witness nonce\" if missing (the witness for the coinbase input is a reserved field for adding future commitments, but it must be present, so that function adds a 0)\r\n\r\nThis PR omits `UpdateUncommittedBlockStructures`. It would be nice to come up with a test that shows what it does and fails on the current code.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31564#issuecomment-2561298038",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31564"
    },
    {
      "event": "mentioned",
      "id": 15757965598,
      "node_id": "MEE_lADOABII586kZdxdzwAAAAOrP3ke",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15757965598",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-24T17:10:00Z"
    },
    {
      "event": "subscribed",
      "id": 15757965602,
      "node_id": "SE_lADOABII586kZdxdzwAAAAOrP3ki",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15757965602",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-24T17:10:00Z"
    },
    {
      "event": "reviewed",
      "id": 2523480948,
      "node_id": "PRR_kwDOABII586WaUN0",
      "url": null,
      "actor": null,
      "commit_id": "442f27a03ff6280212a897a083f0bc0367a1420f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "The newly introduced `CheckNewBlock()` looks very similar to the existing `TestBlockValidity()` which was just removed from the mining interface in bfc4e029d41ec3052d68f174565802016cb05d41 - it just seems to be a bit more verbose and allows the multiplier for the PoW. Did you consider merging these functions, so that we don't have multiple functions in validation that basically do the same thing?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31564#pullrequestreview-2523480948",
      "submitted_at": "2024-12-26T20:51:57Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31564"
    },
    {
      "event": "reviewed",
      "id": 2523532175,
      "node_id": "PRR_kwDOABII586WaguP",
      "url": null,
      "actor": null,
      "commit_id": "442f27a03ff6280212a897a083f0bc0367a1420f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nReally liking the idea of facilitating these type of systems.\r\n\r\n> Instead of a multiplier I could also allow a custom target. This would give weak block systems more flexibility on how to derive their difficulty.\r\n\r\nI'd be in favor of this. It's more flexible, could prevent interface churn, and if the user wishes to create the custom target from a simple multiplication they could do the multiplication on their end.",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31564#pullrequestreview-2523532175",
      "submitted_at": "2024-12-27T00:21:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31564"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1898141894",
      "pull_request_review_id": 2523532175,
      "id": 1898141894,
      "node_id": "PRRC_kwDOABII585xI1jG",
      "diff_hunk": "@@ -161,3 +161,19 @@ bool CheckProofOfWorkImpl(uint256 hash, unsigned int nBits, const Consensus::Par\n \n     return true;\n }\n+\n+bool CheckWeakProofOfWork(uint256 hash, unsigned int nBits, unsigned int multiplier, const Consensus::Params& params)",
      "path": "src/pow.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "442f27a03ff6280212a897a083f0bc0367a1420f",
      "original_commit_id": "9887db317ca579932af66e4ea234ad1824eb0e9b",
      "in_reply_to_id": null,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Feel free to ignore before more concept acks arrive.\r\n`CheckWeakProofOfWork()` seems really similar to `CheckProofOfWorkImpl()`. Maybe I'm missing something simple. What was the rationale for creating the new function vs adding an argument?",
      "created_at": "2024-12-26T23:13:07Z",
      "updated_at": "2024-12-27T00:22:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31564#discussion_r1898141894",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1898141894"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31564"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 165,
      "original_line": 165,
      "side": "RIGHT"
    }
  ]
}