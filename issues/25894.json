{
  "type": "issue",
  "issue": {
    "id": 1345393894,
    "node_id": "I_kwDOABII585QMRTm",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25894",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25894/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25894/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25894/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/25894",
    "number": 25894,
    "state": "closed",
    "state_reason": "completed",
    "title": "EXCEPTION: 18NonFatalCheckError       ",
    "body": "I normaly would not submit a \"corrupt block\" error - however I received a pop-up dialog box that I'd never seen before and it recommended submitting...\r\n\r\n<!-- This issue tracker is only for technical issues related to Bitcoin Core.\r\n\r\n\r\n\r\nEXCEPTION: 18NonFatalCheckError       \r\nInternal bug detected: 'm_wallet->chain().findBlock(m_wallet->GetLastBlockHash(), FoundBlock().time(block_time))'\r\nwallet/interfaces.cpp:335 (tryGetTxStatus)\r\nYou may report this issue here: https://github.com/bitcoin/bitcoin/issues\r\n       \r\nbitcoin in WalletModel->WalletModel       \r\n\r\nError: A fatal internal error occurred, see debug.log for details\r\n\r\n\r\n<!-- What version of Bitcoin Core are you using, where did you get it (website, self-compiled, etc)? -->\r\n\r\n23\r\n\r\n<!-- What type of machine are you observing the error on (OS/CPU and disk type)? -->\r\n\r\nUbuntu 22.04\r\n\r\nArchitecture:           x86_64\r\n  CPU op-mode(s):       32-bit, 64-bit\r\n  Address sizes:        36 bits physical, 48 bits virtual\r\n  Byte Order:           Little Endian\r\nCPU(s):                 4\r\n  On-line CPU(s) list:  0-3\r\nVendor ID:              GenuineIntel\r\n  Model name:           Intel(R) Core(TM) i5 CPU       M 450  @ 2.40GHz\r\n    CPU family:         6\r\n    Model:              37\r\n    Thread(s) per core: 2\r\n    Core(s) per socket: 2\r\n    Socket(s):          1\r\n    Stepping:           5\r\n    Frequency boost:    enabled\r\n    CPU max MHz:        2400.0000\r\n    CPU min MHz:        1199.0000\r\n    BogoMIPS:           4788.41\r\n    Flags:              fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca\r\n                         cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ht tm\r\n                         pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs\r\n                         bts rep_good nopl xtopology nonstop_tsc cpuid aperfmper\r\n                        f pni dtes64 monitor ds_cpl est tm2 ssse3 cx16 xtpr pdcm\r\n                         pcid sse4_1 sse4_2 popcnt lahf_lm pti ssbd ibrs ibpb st\r\n                        ibp dtherm ida arat flush_l1d\r\nCaches (sum of all):    \r\n  L1d:                  64 KiB (2 instances)\r\n  L1i:                  64 KiB (2 instances)\r\n  L2:                   512 KiB (2 instances)\r\n  L3:                   3 MiB (1 instance)\r\nNUMA:                   \r\n  NUMA node(s):         1\r\n  NUMA node0 CPU(s):    0-3\r\nVulnerabilities:        \r\n  Itlb multihit:        KVM: Mitigation: VMX unsupported\r\n  L1tf:                 Mitigation; PTE Inversion\r\n  Mds:                  Vulnerable: Clear CPU buffers attempted, no microcode; S\r\n                        MT vulnerable\r\n  Meltdown:             Mitigation; PTI\r\n  Mmio stale data:      Not affected\r\n  Retbleed:             Not affected\r\n  Spec store bypass:    Mitigation; Speculative Store Bypass disabled via prctl \r\n                        and seccomp\r\n  Spectre v1:           Mitigation; usercopy/swapgs barriers and __user pointer \r\n                        sanitization\r\n  Spectre v2:           Mitigation; Retpolines, IBPB conditional, IBRS_FW, STIBP\r\n                         conditional, RSB filling\r\n  Srbds:                Not affected\r\n  Tsx async abort:      Not affected\r\n\r\n\r\n\r\n<!--- This is normally the contents of a `debug.log` or `config.log` file. Raw text or a link to a pastebin type site are preferred. -->\r\n\r\n2022-08-21T05:30:05Z UpdateTip: new best=000000000000306a3edd78461716484171ce996eebb93dae467e596037519bfc height=125103 version=0x00000001 log2_work=62.645649 tx=526072 date='2011-05-19T15:16:44Z' progress=0.000695 cache=39.7MiB(264980txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000023caaafa01aae09f11bc6fc74af091c4fb56e4f5f7af1d293540 height=125104 version=0x00000001 log2_work=62.645858 tx=526122 date='2011-05-19T15:45:51Z' progress=0.000695 cache=39.7MiB(265204txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=000000000000327d3ef203aa701d215c7231250d4787642f79b481e35ac5853e height=125105 version=0x00000001 log2_work=62.646068 tx=526134 date='2011-05-19T15:49:53Z' progress=0.000695 cache=39.7MiB(265216txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=000000000000237561c4023ce48700f7bd1128f2e777a5f5f9303feb3944cce9 height=125106 version=0x00000001 log2_work=62.646277 tx=526184 date='2011-05-19T16:08:52Z' progress=0.000695 cache=39.8MiB(265363txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000001a80449fdb9fba1427f0d150787b5dcd1ceea91cbafac1b1c49a height=125107 version=0x00000001 log2_work=62.646487 tx=526186 date='2011-05-19T16:10:51Z' progress=0.000695 cache=39.8MiB(265383txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000001e9e822df6b334be3447873a0475606c4237cc28f54a22809007 height=125108 version=0x00000001 log2_work=62.646696 tx=526197 date='2011-05-19T16:13:35Z' progress=0.000695 cache=39.8MiB(265389txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000001bcce173366b3a8722204e78453e14f6d638a0dc61fb18260eb5 height=125109 version=0x00000001 log2_work=62.646906 tx=526227 date='2011-05-19T16:29:10Z' progress=0.000695 cache=39.8MiB(265517txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000000f89cd31201b8ac9f74fbb172dae0a606712c6c9f39b3e621551 height=125110 version=0x00000001 log2_work=62.647115 tx=526278 date='2011-05-19T16:42:04Z' progress=0.000695 cache=39.8MiB(265587txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000013a3aab6751ef276eabc4ecc1a9b520641cf84573e83cffc541e height=125111 version=0x00000001 log2_work=62.647325 tx=526311 date='2011-05-19T16:42:49Z' progress=0.000695 cache=39.8MiB(265569txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000041f6e46954c878e607f3e6ea9862c86fc66d6e122a5233f1b68c height=125112 version=0x00000001 log2_work=62.647534 tx=526356 date='2011-05-19T17:04:12Z' progress=0.000695 cache=39.8MiB(265844txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000029c8e77cbed934dac076bbb06632e6690d1f178ff95553d34d89 height=125113 version=0x00000001 log2_work=62.647744 tx=526368 date='2011-05-19T17:05:41Z' progress=0.000695 cache=39.8MiB(265856txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003cc8a8e6cb3a40a6a05bb63d5101f485d4149ef1495fd4f9312c height=125114 version=0x00000001 log2_work=62.647953 tx=526383 date='2011-05-19T17:07:48Z' progress=0.000695 cache=39.8MiB(265868txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003ff3bce273521108fc9b73024437dbd7cef4e5a4531c15d9c4ad height=125115 version=0x00000001 log2_work=62.648162 tx=526384 date='2011-05-19T17:10:55Z' progress=0.000695 cache=39.8MiB(265869txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003a7ce4b8148f81482297b93c8e3d23b68ecd8d1d45c81df10c8d height=125116 version=0x00000001 log2_work=62.648371 tx=526410 date='2011-05-19T17:16:19Z' progress=0.000695 cache=39.8MiB(265915txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000002d3df639e8216cc5216cdf751ec72d0fcb6ef64c079ac22313c1 height=125117 version=0x00000001 log2_work=62.648581 tx=526437 date='2011-05-19T17:40:05Z' progress=0.000695 cache=39.8MiB(265859txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000027b9fd63fe15853e51ef32058764520a46c2398f448cb310f9f0 height=125118 version=0x00000001 log2_work=62.648790 tx=526470 date='2011-05-19T17:41:09Z' progress=0.000695 cache=39.8MiB(265863txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000013dbdd0e13cddce03f76c14f797112dcba8a83961bb8968ca074 height=125119 version=0x00000001 log2_work=62.648999 tx=526507 date='2011-05-19T17:43:40Z' progress=0.000695 cache=39.8MiB(265855txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000000b92b1a05c2541c8f44f82b30751ad7adeea883e5760e2adbb71 height=125120 version=0x00000001 log2_work=62.649208 tx=526508 date='2011-05-19T17:43:57Z' progress=0.000695 cache=39.8MiB(265856txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000001c05f32ec16f8bdeef89f50a2e212e9862c3ee6fd6cacad0b685 height=125121 version=0x00000001 log2_work=62.649417 tx=526591 date='2011-05-19T17:59:04Z' progress=0.000695 cache=39.8MiB(265932txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003ba0eb1be87d4e06afc9ef8e8a07750dec43c43e40d1ec8b2fdc height=125122 version=0x00000001 log2_work=62.649627 tx=526609 date='2011-05-19T18:06:17Z' progress=0.000695 cache=39.8MiB(266005txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=000000000000112a0a879fb15835b7ac5c5b62cf8bfdd74f34d21319e119b78e height=125123 version=0x00000001 log2_work=62.649836 tx=526655 date='2011-05-19T18:08:04Z' progress=0.000695 cache=39.8MiB(266031txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000002116dc8440d50b27bc9b7cbc9e5dcc2d735cf9806923a5cf66cf height=125124 version=0x00000001 log2_work=62.650045 tx=526664 date='2011-05-19T18:14:40Z' progress=0.000695 cache=39.8MiB(266008txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000001ba2892c7e071597fc4d58af42ae3c385b6e4282fd2525497dde height=125125 version=0x00000001 log2_work=62.650254 tx=526681 date='2011-05-19T18:20:05Z' progress=0.000695 cache=39.8MiB(265980txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003da635e0de45f9c316d650cca598792392666df911eff1176aec height=125126 version=0x00000001 log2_work=62.650463 tx=526717 date='2011-05-19T18:21:37Z' progress=0.000695 cache=39.8MiB(265972txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000001cafa82b798af07cad6231dfb6915607954fa0e77fcdad58476b height=125127 version=0x00000001 log2_work=62.650672 tx=526739 date='2011-05-19T18:32:39Z' progress=0.000695 cache=39.8MiB(265941txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000000ebd4c778f7534a0a59d4dee3940f0571c4a5d5e691251cebea height=125128 version=0x00000001 log2_work=62.650880 tx=526751 date='2011-05-19T18:33:56Z' progress=0.000695 cache=39.8MiB(265948txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000040261926d4e90b5eef4fe7ed71f0405f33ddef25125d03478745 height=125129 version=0x00000001 log2_work=62.651089 tx=526785 date='2011-05-19T18:35:59Z' progress=0.000696 cache=39.8MiB(265938txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003a9a579913be965098f6f10bce30a689fc4c853db8b2cf618067 height=125130 version=0x00000001 log2_work=62.651298 tx=526830 date='2011-05-19T18:44:44Z' progress=0.000696 cache=39.8MiB(265958txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000008b4dbd50d9e74a351d182a424371baa6e6afee10838d77bd448 height=125131 version=0x00000001 log2_work=62.651507 tx=526848 date='2011-05-19T18:45:17Z' progress=0.000696 cache=39.8MiB(265967txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=000000000000326d902688997d85222dc3a4a11cd305b531c4750561682ab5cb height=125132 version=0x00000001 log2_work=62.651716 tx=526856 date='2011-05-19T18:48:38Z' progress=0.000696 cache=39.8MiB(265982txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000027f5bdbe27fd960c979382359cddda057c86dc1e26857ba61073 height=125133 version=0x00000001 log2_work=62.651925 tx=526891 date='2011-05-19T19:07:00Z' progress=0.000696 cache=39.8MiB(266042txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000001ad97b48fb7feb44cc36c70dd35f73207a8e4ae130541b81b6da height=125134 version=0x00000001 log2_work=62.652133 tx=526919 date='2011-05-19T19:09:09Z' progress=0.000696 cache=39.9MiB(266240txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003fdddb5068005e03a3115d642e16feab630c5a397289325c3236 height=125135 version=0x00000001 log2_work=62.652342 tx=526927 date='2011-05-19T19:09:34Z' progress=0.000696 cache=39.9MiB(266240txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000041d63684d7b6959191579069b6dda4464f72a0b95bca064cbdb4 height=125136 version=0x00000001 log2_work=62.652551 tx=526929 date='2011-05-19T19:11:40Z' progress=0.000696 cache=39.9MiB(266292txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=000000000000027a6dff08ef375867557d467df436c4abe536cf2026c248e99f height=125137 version=0x00000001 log2_work=62.652759 tx=526949 date='2011-05-19T19:22:03Z' progress=0.000696 cache=39.9MiB(266269txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000000343915887cb7f0e31f211f0bfb6037fbb33033a9145bdc9f0fd height=125138 version=0x00000001 log2_work=62.652968 tx=526964 date='2011-05-19T19:28:55Z' progress=0.000696 cache=39.9MiB(266274txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000001f95cab787a8eb63c88062a8b985929949c09f773a3b84841a80 height=125139 version=0x00000001 log2_work=62.653177 tx=526972 date='2011-05-19T19:29:03Z' progress=0.000696 cache=39.9MiB(266275txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000002ca7a068a7fcdf7826557383575d1384b58ed5d3755935e503f1 height=125140 version=0x00000001 log2_work=62.653385 tx=526987 date='2011-05-19T19:31:57Z' progress=0.000696 cache=39.9MiB(266273txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000007de53793daae384bca8a39c1e21fbd7476c6aab2b34a2cfda3c height=125141 version=0x00000001 log2_work=62.653594 tx=526988 date='2011-05-19T19:32:03Z' progress=0.000696 cache=39.9MiB(266274txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000012183cd448ee8383f5a49c484a9a07970a256b6aa92a817ff9e1 height=125142 version=0x00000001 log2_work=62.653802 tx=527019 date='2011-05-19T19:35:51Z' progress=0.000696 cache=39.9MiB(266244txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000001e1f935a7d31d08a3bdf2c18fa7e505b335fe18da099e775986 height=125143 version=0x00000001 log2_work=62.654011 tx=527128 date='2011-05-19T19:58:26Z' progress=0.000696 cache=39.9MiB(266318txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000005ad5bc21a53deccc4f654b891301b5ac8a2c7d3089b950a2fcf height=125144 version=0x00000001 log2_work=62.654219 tx=527173 date='2011-05-19T19:58:53Z' progress=0.000696 cache=39.9MiB(266335txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003002c03a204036f37f921b898ec68129fe7cd51ac8447f6efe9d height=125145 version=0x00000001 log2_work=62.654427 tx=527199 date='2011-05-19T20:07:33Z' progress=0.000696 cache=39.9MiB(266361txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003bef210f4ba445e1f6b74fda175e1b69624a884d9e576322b567 height=125146 version=0x00000001 log2_work=62.654636 tx=527203 date='2011-05-19T20:10:02Z' progress=0.000696 cache=39.9MiB(266347txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003facfa59182fee2b51d288976151fc82f3df8a1a720008e2f2b5 height=125147 version=0x00000001 log2_work=62.654844 tx=527213 date='2011-05-19T20:10:17Z' progress=0.000696 cache=39.9MiB(266351txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000004496d2c01dc267af74b90c97adb424aed6a5c8309b1260ed9de height=125148 version=0x00000001 log2_work=62.655052 tx=527282 date='2011-05-19T20:22:46Z' progress=0.000696 cache=39.9MiB(266369txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=000000000000291d811ae1fb6246a183ae75dee68f3edcc6b29822b9c4f95572 height=125149 version=0x00000001 log2_work=62.655261 tx=527329 date='2011-05-19T20:30:43Z' progress=0.000696 cache=39.9MiB(266398txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000026f234806c076b4ccf64762bab345756b568ee22f3b6d6e169f3 height=125150 version=0x00000001 log2_work=62.655469 tx=527361 date='2011-05-19T20:36:47Z' progress=0.000696 cache=39.9MiB(266405txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000031670f404ac69efe8e67992916379f20731b4e39e99c71aba0be height=125151 version=0x00000001 log2_work=62.655677 tx=527365 date='2011-05-19T20:37:37Z' progress=0.000696 cache=39.9MiB(266408txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000044b0f83272d02449945b9f42699ff41d33b6202eb6f044b41697 height=125152 version=0x00000001 log2_work=62.655885 tx=527410 date='2011-05-19T20:59:34Z' progress=0.000696 cache=39.9MiB(266403txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003bc210c54f31d06ce276cc945dc275ba9c7cd26d1b4230230b77 height=125153 version=0x00000001 log2_work=62.656094 tx=527422 date='2011-05-19T21:00:27Z' progress=0.000696 cache=39.9MiB(266415txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000000c69df7486942e054a8d7f24949db220d3b71975a1175835ba1e height=125154 version=0x00000001 log2_work=62.656302 tx=527472 date='2011-05-19T21:26:09Z' progress=0.000696 cache=39.9MiB(266373txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000001ab51bd8792321e820efb28f2ae85fa586fc867a3d07fa2dd5fa height=125155 version=0x00000001 log2_work=62.656510 tx=527485 date='2011-05-19T21:32:59Z' progress=0.000696 cache=39.9MiB(266365txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000001164541bff80961321b78b385c9a19afb7bbed42a9ce3db84caa height=125156 version=0x00000001 log2_work=62.656718 tx=527525 date='2011-05-19T21:48:44Z' progress=0.000697 cache=39.9MiB(266368txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003e3ced5d844953d30af8848725b21331cc3d4158fd01894c85ff height=125157 version=0x00000001 log2_work=62.656926 tx=527565 date='2011-05-19T21:53:36Z' progress=0.000697 cache=39.9MiB(266373txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=000000000000426ad26221ed659019fdf4222084666efe0c36dcf0df5c8eaa21 height=125158 version=0x00000001 log2_work=62.657134 tx=527576 date='2011-05-19T21:54:53Z' progress=0.000697 cache=39.9MiB(266381txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000000d70cb46239afe924e9b5d2098f30c0367cd95b67b88727d0c09 height=125159 version=0x00000001 log2_work=62.657342 tx=527583 date='2011-05-19T21:58:05Z' progress=0.000697 cache=39.9MiB(266375txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000000cfcb210eb817845ee5118d72ac30bab54aa9a8d8fff1c6849dc height=125160 version=0x00000001 log2_work=62.657550 tx=527616 date='2011-05-19T22:01:22Z' progress=0.000697 cache=39.9MiB(266372txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000000ebb2510a4252aabbc6061bf116d95778c673c006534c668c422 height=125161 version=0x00000001 log2_work=62.657758 tx=527625 date='2011-05-19T22:02:02Z' progress=0.000697 cache=39.9MiB(266377txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003f6bd8d44a0e170fae7594e8e49edda04cfd2a83b95f12517f29 height=125162 version=0x00000001 log2_work=62.657966 tx=527658 date='2011-05-19T22:07:14Z' progress=0.000697 cache=39.9MiB(266441txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000000cbf23f4475611e2bdfd223033a22ae61901fc4506fce4a0dd43 height=125163 version=0x00000001 log2_work=62.658173 tx=527664 date='2011-05-19T22:09:01Z' progress=0.000697 cache=39.9MiB(266440txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000000bbd35f61ce8f14a5b9b54abeb518e542b7037acc2cc615c452f height=125164 version=0x00000001 log2_work=62.658381 tx=527677 date='2011-05-19T22:15:56Z' progress=0.000697 cache=39.9MiB(266622txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000025dc94aadf50a38d767402eddcbc2b6792b46e5633be0cd137df height=125165 version=0x00000001 log2_work=62.658589 tx=527706 date='2011-05-19T22:27:25Z' progress=0.000697 cache=39.9MiB(266624txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=00000000000000211f2ff73d7ff0ad032f7b2ef9f8da57002fd3d6d7564ff87f height=125166 version=0x00000001 log2_work=62.658797 tx=527720 date='2011-05-19T22:33:05Z' progress=0.000697 cache=39.9MiB(266631txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003868b1ecea13b2a42f1b792de874cf8f626467f83c70ed3a0711 height=125167 version=0x00000001 log2_work=62.659005 tx=527754 date='2011-05-19T22:46:11Z' progress=0.000697 cache=39.9MiB(266627txo)\r\n2022-08-21T05:30:05Z UpdateTip: new best=0000000000003d36741a29123bf2f86220c533acab315ef7a70a8b5fc2e3cecb height=125168 version=0x00000001 log2_work=62.659212 tx=527764 date='2011-05-19T22:52:25Z' progress=0.000697 cache=39.9MiB(266562txo)\r\n2022-08-21T05:30:05Z *** Corrupt block found indicating potential hardware failure; shutting down\r\n2022-08-21T05:30:05Z Error: A fatal internal error occurred, see debug.log for details",
    "user": {
      "login": "shefsam1",
      "id": 22140139,
      "node_id": "MDQ6VXNlcjIyMTQwMTM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/22140139?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shefsam1",
      "html_url": "https://github.com/shefsam1",
      "followers_url": "https://api.github.com/users/shefsam1/followers",
      "following_url": "https://api.github.com/users/shefsam1/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/shefsam1/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/shefsam1/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/shefsam1/subscriptions",
      "organizations_url": "https://api.github.com/users/shefsam1/orgs",
      "repos_url": "https://api.github.com/users/shefsam1/repos",
      "events_url": "https://api.github.com/users/shefsam1/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/shefsam1/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 323697996,
        "node_id": "MDU6TGFiZWwzMjM2OTc5OTY=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Data%20corruption",
        "name": "Data corruption",
        "color": "f7c6c7",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": true,
    "comments": 1,
    "closed_at": "2022-08-23T06:23:33Z",
    "created_at": "2022-08-21T05:51:05Z",
    "updated_at": "2023-08-23T12:08:59Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 7227269746,
      "node_id": "LE_lADOABII585QMRTmzwAAAAGux2Jy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7227269746",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-21T06:01:01Z",
      "label": {
        "name": "Data corruption",
        "color": "f7c6c7"
      }
    },
    {
      "event": "commented",
      "id": 1221475018,
      "node_id": "IC_kwDOABII585IzjrK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1221475018",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-21T06:01:05Z",
      "updated_at": "2022-08-21T06:01:05Z",
      "author_association": "MEMBER",
      "body": ">  2022-08-21T05:30:05Z *** Corrupt block found indicating potential hardware failure; shutting down\r\n\r\nBitcoin Core makes heavy use of CPU, RAM and disk IO. Hardware defects might only become visible when running Bitcoin Core. You might want to check your hardware for defects.\r\n\r\n* memtest86 to check your RAM\r\n* to check the CPU behaviour under load, use linpack or Prime95\r\n* to test your storage device use smartctl or CrystalDiskInfo\r\n\r\nSource: https://bitcoin.stackexchange.com/a/12206",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/25894#issuecomment-1221475018",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25894"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "verdy-p",
        "id": 1387035,
        "node_id": "MDQ6VXNlcjEzODcwMzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1387035?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/verdy-p",
        "html_url": "https://github.com/verdy-p",
        "followers_url": "https://api.github.com/users/verdy-p/followers",
        "following_url": "https://api.github.com/users/verdy-p/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/verdy-p/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/verdy-p/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/verdy-p/subscriptions",
        "organizations_url": "https://api.github.com/users/verdy-p/orgs",
        "repos_url": "https://api.github.com/users/verdy-p/repos",
        "events_url": "https://api.github.com/users/verdy-p/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/verdy-p/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-22T02:06:28Z",
      "updated_at": "2022-08-22T02:06:28Z",
      "source": {
        "issue": {
          "id": 1345598981,
          "node_id": "I_kwDOABII585QNDYF",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25897",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25897/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25897/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25897/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/25897",
          "number": 25897,
          "state": "closed",
          "state_reason": "completed",
          "title": "CheckBlockIndex stalls for extremely long time",
          "body": "Stale chain tips can block the RPC and all other responses from the peer for very long time (more than 15 minutes, sometimes hours, or undefinetely).\r\nDuring that time I can see that my local node no longer replies to ANY other peer (e.g. to bitnode.io core). And in process viewers, I can see that there's a single thread blocking ALL other threads in a tight loop using 100% CPU in a tight loop.\r\n\r\nI've seen that this is occurs in any db indexer (notably the chainstate indexer during IBD, or the txindexer, or the coinstat db indexer), notably in some critical steps where new blocks are added to the chain (once every about 15 minutes). This seems to happen when a new block contains a transaction validating a better chain, and invalidating other blocks from dead branches. In that case, the ongoin indexer will fail with unchecked conditions in its internal iterator, apparently because it expect the next block to be present and locks it incorrectly, and is not able to release it and retry if that next valid block has been replaced by a better block in the chain.\r\n\r\n```\r\n2022-08-21T19:44:15.875834Z [net_processing.cpp:2797] [ProcessMessage] New outbound peer connected: version: 70015, blocks=750474, peer=58, peeraddr=[2604:a880:cad:d0::d9e:f001]:8333 (block-relay-only)\r\n2022-08-21T19:44:45.012022Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 330879\r\n2022-08-21T19:45:16.005414Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 331746\r\n2022-08-21T19:45:47.003036Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 332578\r\n2022-08-21T19:46:18.039548Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 333378\r\n2022-08-21T19:46:49.007385Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 334219\r\n2022-08-21T19:47:20.013586Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 334916\r\n2022-08-21T19:47:51.022263Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 335794\r\n2022-08-21T19:48:22.007479Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 336769\r\n2022-08-21T19:48:53.009529Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 337743\r\n2022-08-21T19:49:24.039053Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 338611\r\n2022-08-21T19:49:55.041510Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 339322\r\n2022-08-21T19:50:26.010515Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 340016\r\n2022-08-21T19:50:57.016185Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 340630\r\n2022-08-21T19:51:28.055804Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 341499\r\n2022-08-21T19:52:08.460256Z [validation.cpp:2441] [UpdateTipLog] UpdateTip: new best=0000000000000000000758f0830f8c7cf41c06740b2004b4186e439b0b989062 height=750475 version=0x2281c000 log2_work=93.689008 tx=758464817 date='2022-08-21T19:50:59Z' progress=1.000000 cache=3.7MiB(27192txo)\r\n2022-08-21T19:52:10.247487Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 341803\r\n2022-08-21T19:52:30.568835Z [validation.cpp:2441] [UpdateTipLog] UpdateTip: new best=00000000000000000005d0b2bbb26ce7bb0eef932eed58853ebe6525ca71c85a height=750476 version=0x20000004 log2_work=93.689019 tx=758465224 date='2022-08-21T19:52:12Z' progress=1.000000 cache=3.9MiB(28964txo)\r\n2022-08-21T19:52:41.785630Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 341814\r\n2022-08-21T19:53:12.001085Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 342683\r\n2022-08-21T19:53:43.027307Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 343432\r\n2022-08-21T19:54:14.012871Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 344012\r\n2022-08-21T19:54:45.022063Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 344718\r\n2022-08-21T19:54:59.410934Z [validation.cpp:2441] [UpdateTipLog] UpdateTip: new best=000000000000000000098f79590f23c8bb78c3d4d22d1cd4bab3a0e94fc7e6be height=750477 version=0x2ab96000 log2_work=93.689030 tx=758465722 date='2022-08-21T19:54:36Z' progress=1.000000 cache=4.1MiB(30966txo)\r\n2022-08-21T19:55:16.033929Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 344913\r\n2022-08-21T19:56:00.985269Z [mapport.cpp:204] [ProcessUpnp] UPnP Port Mapping successful.\r\n2022-08-21T20:16:01.005268Z [mapport.cpp:204] [ProcessUpnp] UPnP Port Mapping successful.\r\n```\r\n\r\nFinally later it may eventually detect that and detect the inconsistency, by eviting some peers.\r\n\r\n```\r\n2022-08-21T20:26:10.234268Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 344915\r\n2022-08-21T20:26:10.236286Z [net_processing.cpp:4381] [CheckForStaleTipAndEvictPeers] Potential stale tip detected, will try using extra outbound peer (last tip update: 1871 seconds ago)\r\n2022-08-21T20:26:10.877268Z [net_processing.cpp:2797] [ProcessMessage] New outbound peer connected: version: 70016, blocks=750480, peer=194, peeraddr=78.108.108.38:8333 (outbound-full-relay)\r\n2022-08-21T20:26:18.436270Z [net_processing.cpp:2797] [ProcessMessage] New outbound peer connected: version: 70016, blocks=750480, peer=195, peeraddr=208.104.92.74:8333 (outbound-full-relay)\r\n2022-08-21T20:26:20.609320Z [net_processing.cpp:2797] [ProcessMessage] New outbound peer connected: version: 70016, blocks=750480, peer=196, peeraddr=[2a01:5200:6c:6162:6263:6173:6861:6263]:8333 (outbound-full-relay)\r\n2022-08-21T20:26:22.546436Z [net_processing.cpp:2797] [ProcessMessage] New outbound peer connected: version: 70016, blocks=750480, peer=198, peeraddr=141.95.45.187:30034 (outbound-full-relay)\r\n2022-08-21T20:27:18.146310Z [validation.cpp:2441] [UpdateTipLog] UpdateTip: new best=00000000000000000007cb8a63d4c0f24bf0e1c3e6bedbf0436ebab43a3ee690 height=750478 version=0x20800000 log2_work=93.689041 tx=758467003 date='2022-08-21T20:05:24Z' progress=0.999995 cache=5.5MiB(41861txo)\r\n2022-08-21T20:27:20.065326Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 344926\r\n2022-08-21T20:27:51.486742Z [validation.cpp:2441] [UpdateTipLog] UpdateTip: new best=00000000000000000006e1bb77ce90948b3050df8ee2143d1913fd583ce3c765 height=750479 version=0x20c00000 log2_work=93.689052 tx=758468307 date='2022-08-21T20:08:38Z' progress=0.999996 cache=6.6MiB(48588txo)\r\n2022-08-21T20:28:03.488188Z [validation.cpp:2441] [UpdateTipLog] UpdateTip: new best=0000000000000000000171f39891841e7128e85f45f386ddde82f65c12dd5773 height=750480 version=0x20400000 log2_work=93.689063 tx=758468706 date='2022-08-21T20:10:40Z' progress=0.999996 cache=6.8MiB(50180txo)\r\n2022-08-21T20:28:05.362170Z [index/base.cpp:169] [ThreadSync] Syncing coinstatsindex with block chain from height 344927\r\n2022-08-21T20:28:05.364170Z [net_processing.cpp:2797] [ProcessMessage] New outbound peer connected: version: 70015, blocks=750480, peer=205, peeraddr=116.203.112.73:8333 (outbound-full-relay)\r\n2022-08-21T20:28:05.718559Z [net_processing.cpp:2797] [ProcessMessage] New outbound peer connected: version: 70016, blocks=750480, peer=208, peeraddr=[2404:7a85:4161:2b00:49a1:427a:fac:3409]:8333 (outbound-full-relay)\r\n2022-08-21T20:28:08.302936Z [net_processing.cpp:2797] [ProcessMessage] New outbound peer connected: version: 70016, blocks=750480, peer=211, peeraddr=185.167.113.59:8333 (outbound-full-relay)\r\n2022-08-21T20:28:21.039390Z [net_processing.cpp:2797] [ProcessMessage] New outbound peer connected: version: 70016, blocks=750480, peer=213, peeraddr=[240b:252:9480:9d00:e65f:1ff:fe10:d767]:8333 (outbound-full-relay)\r\n```\r\n\r\nAnd here again we see the deadlock occuring for long time in the coindb indexer (note the difference of time between the last too events). And in fact nothing else occured: no resposes to other peers, the coindb indexer was stalled, the RPC service stopped to respond even locally.\r\n\r\nIt seems then that there are malicious nodes on the P2P network sending bad blocks that \"partially pass\" the basic security, but can cause BitCoin Core to be blocked and become unresponsive. It can no longer respond even to a basic RPC such as \"bitcoin -getinfo\", or \"bitcoin -netinfo\"\r\n\r\nIt will not even repond to a \"bitcoin-cli stop\": some threads are stopped, but not all, and the indexer thread is still running in its tight loop; if you are in that situation, the only way to recover is to KILL the process entirely, and you'll get the related index to become invalid as it was not committed, it will have to be reconstructed from zero.\r\n\r\nMost often, you have no way to recover (given that the RPC service is not responsive, and even the CTRL+C breaker, or a simple kill -hangup\" will not work. You have to do an instant kill (kill -9 on Linux, or manual kill in the Process Viewer on Windows: nothing else will be synced to disk).\r\n\r\nIf the index was the IBD index, the chainstate can only be recovered by check level 4 (works often, but not necessarily always, but never with check level 3). If it does not work, then you have to rebuild the chainstate entirely.\r\n\r\nBut for any other index (such as the \"txindex\" or \"coinstats\" index, there's NO check at all with recovery at startup, so the only way to recover is to entirely delete the content of that index directory and rebuild it from zero (and this will take many hours, and may fail again in the middle, due to bad blocks sent by malicious peers and that may have still not been replaced by valid blocks in the main chain).\r\n\r\nApparently these bad blocks seem to come from unapproved forks (possibly implementing SegWit with too large block sizes?), which are not correctly detected and cause the indexer to fail or run into some infinite loops, or some bad signatures using unsupported/snon-standard bytecodes, taking extremely long time to validate or just discard rapidly as invalid.\r\n\r\nSuch events with bad blocks coming from malicious peers tend to be frequent now. Unfortunately it's not easy to track which nodes caused that bug as they may not even be connected since long: they have sent their garbage and have disconnected themselves as soon as done, just to crash specific versions of Bitcoin Core not detecting them.\r\n\r\n(Note: this is once again occuring with the current unmodified release v23.0 from your official site; it affects both Linux and Windows versions).\r\n\r\nAre there blocks that are extremely long to validate or index (taking much more than just about 1 minutes normally needed here to process every logged group of about 15 blocks, such as more than 30 minutes in the 1st break above, but still not completed after several hours at end of the logs above)? Isn't it one of the reasons why SegWit was asked for, with blocks grouping many signatures, for example those generated by very large miner pools and needing tons of transactions to validate all their micropayments to many participants?\r\n\r\n----\r\n\r\nSee also Bug https://github.com/bitcoin/bitcoin/issues/25365 (may be related with the same race issue when there's a new chaintip updated while the indexer is running and iterating from the older chain view)\r\n\r\nIf this is the cause, the bug is manifested only when you run it on a machine with enough cores to allow more threads to run concurrently. The crashes/hangs I experiment are all runing with 8 cores activates; your test environment may just have 1 or 2 cores configured, most probably not enough to experiment the race issue between concurrent threads, and not experienced by people running it on cheap PC or notebooks, or in cheap/free VMs for Azure and Amazon (if you get just 1 or 2 non dedicated cores).\r\n\r\nNote also that synchronization issues in code may even more likely to cause bugs on CPUs running multiple threads per core, or using more complex parallelism (e.g. new Intel processors with power-efficient and performance CPUs, with more complex caching layers, or needing special kernel-initiated firmware mitigations like Retpoline against attacks based on latency response time on caches and with speculative execution models; those possibile attacks and firmware or OS mitigations exist on many processors, and their effect on execution latency may vary, depending on the number of active concurrent threads; if you have low I/O latency on disk storage, this will also increase the likelyhood of race issues caused by improper synchronization. But in all these cases this greatly impacts the leveldb indexers, not properly iterating over the main chain of blocks.)\r\n\r\nIf you want to experiment it faster, you may want to test it on a machine with many more CPU cores, like newest AMD ThreadRipper (48 concurrent threads!). And then try running multiple indexers running in parallel (the chainstate indexer in IBD, the coinsdbindexer, the txindex, and the coinsdbindex: one of them will crash/hand, or report \"data corruption\", but not caused by any hardware issue, but incorrect synchronization in Bitcoin Core's code).\r\n\r\nAs well it seems that all bugs like https://github.com/bitcoin/bitcoin/issues/25894 (reported quite often, but always diagnosed in replies\" incorrectly as a \"hardware issue\", just supposed but never really verified) are also related to the same synchronization issues between any indexer thread and the thread handling any changes of the tips on the chainstate (notably if there's a change between concurrent forks for new blocks after establishing a consensus. They more likely occurs at end of a trading day, when more blocks are announced for compensating transactions made by major traders (it's then more frequent to get new blocks emitted more rapidly than just once every 10 minutes during the rest of the day.\r\n\r\n----\r\n\r\nSubsidiary question: Is there way to have a knonw list of trustable peers, and a blacklist for bad peers sending fake/corrupted data? Isn't Bitcoin missing some additional checks of the structure of these blocks (not just the validation of the individual attempted transactions, but basically its assumed format, includnig for complex multipart signature schemes, or peers attempting to force the use of a hard fork with a disappoved BIP proposal, or attemping to use it too early before a valid date and proper nogociation, if they run some specific subchains)?\r\n\r\nOne remote peer I remarked was always present when I saw crashes/hangs was this one:\r\n\r\n<->   type   net  mping   ping send recv  txn  blk  hb addrp addrl  age id address                     version\r\nout   full  ipv6     27     27    4    1    0           1002          1 11 [2001:41d0:303:2b2b::]:8333 70015/Satoshi:0.14.2(bitcore-sl)/UASF-Segwit:1.0(BIP148)/\r\n\r\nI've seen it several times sending groups of 2 or 3 unconfirmed blocks with large transactions in a row. It is likely a non-upgraded miner node.\r\n\r\n(According to WHOIS, is is hosted by OVH in France, and likely on a fiber access; it uses the most antique version of Satoshi I seen for a \"full node\", but with local patches trying to enforce BIP148 but with wrong version announcements).\r\n\r\nDo I need to list it in my banlist?",
          "user": {
            "login": "verdy-p",
            "id": 1387035,
            "node_id": "MDQ6VXNlcjEzODcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1387035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/verdy-p",
            "html_url": "https://github.com/verdy-p",
            "followers_url": "https://api.github.com/users/verdy-p/followers",
            "following_url": "https://api.github.com/users/verdy-p/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/verdy-p/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/verdy-p/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/verdy-p/subscriptions",
            "organizations_url": "https://api.github.com/users/verdy-p/orgs",
            "repos_url": "https://api.github.com/users/verdy-p/repos",
            "events_url": "https://api.github.com/users/verdy-p/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/verdy-p/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 22,
          "closed_at": "2023-08-22T08:08:07Z",
          "created_at": "2022-08-21T21:24:35Z",
          "updated_at": "2023-08-22T08:08:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "closed",
      "id": 7238783939,
      "node_id": "CE_lADOABII585QMRTmzwAAAAGvdxPD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7238783939",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-23T06:23:33Z"
    },
    {
      "event": "locked",
      "id": 10169351065,
      "node_id": "LOE_lADOABII585QMRTmzwAAAAJeI_uZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10169351065",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-23T12:08:59Z"
    }
  ]
}