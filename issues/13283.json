{
  "type": "issue",
  "issue": {
    "id": 324673016,
    "node_id": "MDU6SXNzdWUzMjQ2NzMwMTY=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13283",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13283/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13283/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13283/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/13283",
    "number": 13283,
    "state": "closed",
    "state_reason": "completed",
    "title": "minRelayTxFee should be calculated on weight, not vbytes.  aka \"vbytes must die\"",
    "body": "By default, bitcoin core has minRelayTxFee of '0.00001000' or 1000 satoshi per 1000 bytes.\r\n\r\nThis should be the same as 250 satoshi per kiloweight, but it's *not* since it internally uses vbytes (which *rounds up*).  As a result, modern (segwit-only) software must perform hacks to ensure that it generates transactions which propagate, and authors write angsty, whiny commit messages:\r\n\r\nhttps://github.com/ElementsProject/lightning/commit/2e687b9b352c9092b5e8bd4a688916ac50b44af0\r\n\r\n## What behavior did you expect?\r\n\r\nTransactions with exactly 250 satoshi per kilosipa should propagate.\r\n\r\n## What was the actual behavior?\r\n\r\nOnly one in four transactions like this will propagate, the rest will be rejected.",
    "user": {
      "login": "rustyrussell",
      "id": 775844,
      "node_id": "MDQ6VXNlcjc3NTg0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rustyrussell",
      "html_url": "https://github.com/rustyrussell",
      "followers_url": "https://api.github.com/users/rustyrussell/followers",
      "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
      "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
      "repos_url": "https://api.github.com/users/rustyrussell/repos",
      "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64584,
        "node_id": "MDU6TGFiZWw2NDU4NA==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
        "name": "Brainstorming",
        "color": "ebd775",
        "default": false
      },
      {
        "id": 82428251,
        "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
        "name": "TX fees and policy",
        "color": "5319e7",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 4,
    "closed_at": "2023-04-27T14:27:07Z",
    "created_at": "2018-05-20T00:54:16Z",
    "updated_at": "2023-04-27T14:27:08Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 1635834307,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDE2MzU4MzQzMDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/1635834307",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-20T08:58:04Z",
      "label": {
        "name": "TX fees and policy",
        "color": "5319e7"
      }
    },
    {
      "event": "commented",
      "id": 390496048,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDQ5NjA0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390496048",
      "actor": {
        "login": "GreatSock",
        "id": 39350803,
        "node_id": "MDQ6VXNlcjM5MzUwODAz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39350803?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/GreatSock",
        "html_url": "https://github.com/GreatSock",
        "followers_url": "https://api.github.com/users/GreatSock/followers",
        "following_url": "https://api.github.com/users/GreatSock/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/GreatSock/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/GreatSock/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/GreatSock/subscriptions",
        "organizations_url": "https://api.github.com/users/GreatSock/orgs",
        "repos_url": "https://api.github.com/users/GreatSock/repos",
        "events_url": "https://api.github.com/users/GreatSock/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/GreatSock/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-20T16:59:33Z",
      "updated_at": "2018-05-20T16:59:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "I made an attempt at fixing this: https://github.com/GreatSock/bitcoin/commit/20a5b18358f94024114cb2208c308001ed4ee42a\r\n\r\nBut I don't feel like I understand what I'm doing enough to make a serious pull request.",
      "user": {
        "login": "GreatSock",
        "id": 39350803,
        "node_id": "MDQ6VXNlcjM5MzUwODAz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39350803?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/GreatSock",
        "html_url": "https://github.com/GreatSock",
        "followers_url": "https://api.github.com/users/GreatSock/followers",
        "following_url": "https://api.github.com/users/GreatSock/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/GreatSock/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/GreatSock/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/GreatSock/subscriptions",
        "organizations_url": "https://api.github.com/users/GreatSock/orgs",
        "repos_url": "https://api.github.com/users/GreatSock/repos",
        "events_url": "https://api.github.com/users/GreatSock/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/GreatSock/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/13283#issuecomment-390496048",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13283"
    },
    {
      "event": "commented",
      "id": 390818160,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDgxODE2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390818160",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-05-21T23:43:41Z",
      "updated_at": "2018-05-21T23:43:41Z",
      "author_association": "MEMBER",
      "body": "This isn't (or at least, wasn't) done because of fears of confusion in suddenly changing all feerates by a factor of 4, and risking people overpaying because they use a fee estimate per byte in a place where one per weight is expected. The goal was that users would never be exposed to the concept of weight (which governs consensus rules), and could just continue using (v)bytes.\r\n\r\nAll fee logic uses vbytes for that reason. This does not only apply to `minRelayTxFee` but also prioritization, dust logic, transaction replacement, ... I don't see how there is a problem with that. It could be changed, but it would be a pretty invasive thing.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/13283#issuecomment-390818160",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13283"
    },
    {
      "event": "commented",
      "id": 398654468,
      "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODY1NDQ2OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398654468",
      "actor": {
        "login": "rustyrussell",
        "id": 775844,
        "node_id": "MDQ6VXNlcjc3NTg0NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rustyrussell",
        "html_url": "https://github.com/rustyrussell",
        "followers_url": "https://api.github.com/users/rustyrussell/followers",
        "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
        "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
        "repos_url": "https://api.github.com/users/rustyrussell/repos",
        "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-06-20T07:38:47Z",
      "updated_at": "2018-06-20T07:38:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "Pieter Wuille <notifications@github.com> writes:\n> This isn't (or at least, wasn't) done because of fears of confusion in suddenly changing all feerates by a factor of 4, and risking people overpaying because they use a fee estimate per byte in a place where one per weight is expected. The goal was that users would never be exposed to the concept of weight (which governs consensus rules), and could just continue using (v)bytes.\n>\n> All fee logic uses vbytes for that reason. This does not only apply to `minRelayTxFee` but also prioritization, dust logic, transaction replacement, ... I don't see how there is a problem with that. It could be changed, but it would be a pretty invasive thing.\n\nIt's horrible for modern users, which will eventually outweigh legacy\nones.  You can't just say \"bitcoin uses weight now, not bytes\"; You have\nto know *both*.  For example, both lightning and GreenAddress were\nbroken by the \"vbytes for fee calculation\" rule; fortunately they\nmentioned it to me so I could figure out WTF was going on w/ lightning.\n\nRegarding APIs generally:\n\n1. Adding \"vbytes\" fields was contaminated thinking, but it's too late\n   now.\n2. I agree that such a change would be invasive and hard; in particular\n   care would be needed that these rules got looser, not tighter, and other\n   nodes wouldn't start banning new nodes who fwd txs they consider\n   nonstandard, and I'm sure other things I haven't thought of.\n3. minRelayTxFee, dust logic, transaction replacement and IsStandard()\n   are APIs which upper layers (like lightning) need to know; though I\n   hate that.  They should be as clear as possible and not changed\n   without broad consultation; certainly not tightened.\n\nSince I consider stuff-on-top-of-Bitcoin to be at an early phase, I\nconsider simplifying these APIs to be important to avoid contaminating\neverything up-stack with legacy.\n\n",
      "user": {
        "login": "rustyrussell",
        "id": 775844,
        "node_id": "MDQ6VXNlcjc3NTg0NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rustyrussell",
        "html_url": "https://github.com/rustyrussell",
        "followers_url": "https://api.github.com/users/rustyrussell/followers",
        "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
        "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
        "repos_url": "https://api.github.com/users/rustyrussell/repos",
        "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/13283#issuecomment-398654468",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13283"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Roasbeef",
        "id": 998190,
        "node_id": "MDQ6VXNlcjk5ODE5MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/998190?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Roasbeef",
        "html_url": "https://github.com/Roasbeef",
        "followers_url": "https://api.github.com/users/Roasbeef/followers",
        "following_url": "https://api.github.com/users/Roasbeef/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Roasbeef/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Roasbeef/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Roasbeef/subscriptions",
        "organizations_url": "https://api.github.com/users/Roasbeef/orgs",
        "repos_url": "https://api.github.com/users/Roasbeef/repos",
        "events_url": "https://api.github.com/users/Roasbeef/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Roasbeef/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-07-30T02:15:05Z",
      "updated_at": "2018-07-30T02:15:05Z",
      "source": {
        "issue": {
          "id": 341905537,
          "node_id": "MDU6SXNzdWUzNDE5MDU1Mzc=",
          "url": "https://api.github.com/repos/lightningnetwork/lnd/issues/1571",
          "repository_url": "https://api.github.com/repos/lightningnetwork/lnd",
          "labels_url": "https://api.github.com/repos/lightningnetwork/lnd/issues/1571/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/lightningnetwork/lnd/issues/1571/comments",
          "events_url": "https://api.github.com/repos/lightningnetwork/lnd/issues/1571/events",
          "html_url": "https://github.com/lightningnetwork/lnd/issues/1571",
          "number": 1571,
          "state": "closed",
          "state_reason": "completed",
          "title": "Force closed channel stuck in pending channels forever",
          "body": "### Background\r\n\r\nI have a force closed channel on pending channels for more than 1 month by now.  This is what it looks like when calling for pendingchannels, take a look at blocks_til_maturity: -1175. \r\n\r\nThe channel was with another node I own and that node pendingchannels doesn't show anything, also the closing tx was confirmed normally....\r\n\r\nCan't say if the funding channel amount was returned since I was not aware of this issue after a long time, but listchaintxns shows no tx with that amount nor block height.\r\n\r\nOther force closed channels actually don't get stuck on pendingchannels after reaching the maturity block but not this one. \r\n\r\n```\r\n\"pending_force_closing_channels\": [\r\n        {\r\n            \"channel\": {\r\n                \"remote_node_pub\": \"0292e8060da527f77be1db34a2a9f0b0baf158094e7424970806d5c9f90f4db312\",\r\n                \"channel_point\": \"253e3d087561b14fb36faba68e674a71de2d68114f9dfe463a71e0b7b0c7f555:0\",\r\n                \"capacity\": \"70143\",\r\n                \"local_balance\": \"68876\",\r\n                \"remote_balance\": \"0\"\r\n            },\r\n            \"closing_txid\": \"89efef5cc0e2b2e7d9f430ca970bef66ea031b359f986e7e14d71c0d2b1ebb75\",\r\n            \"limbo_balance\": \"68876\",\r\n            \"maturity_height\": 530840,\r\n            \"blocks_til_maturity\": -1175,\r\n            \"recovered_balance\": \"0\",\r\n            \"pending_htlcs\": [\r\n            ]\r\n        }\r\n    ],\r\n```\r\n\r\n### Your environment\r\n\r\n* version of `lnd`: \"version\": \"0.4.2-beta commit=b0288d46773ac6d45e5dc4d5e6a80dd3034d0b9f\"\r\n* version of `btcd`: version 0.12.0-beta\r\n\r\n I attach the log after restarting the node (which I've done several times). \r\n\r\n[lnd_log-2.txt](https://github.com/lightningnetwork/lnd/files/2201628/lnd_log-2.txt)",
          "user": {
            "login": "frico21",
            "id": 29632503,
            "node_id": "MDQ6VXNlcjI5NjMyNTAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/29632503?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/frico21",
            "html_url": "https://github.com/frico21",
            "followers_url": "https://api.github.com/users/frico21/followers",
            "following_url": "https://api.github.com/users/frico21/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/frico21/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/frico21/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/frico21/subscriptions",
            "organizations_url": "https://api.github.com/users/frico21/orgs",
            "repos_url": "https://api.github.com/users/frico21/repos",
            "events_url": "https://api.github.com/users/frico21/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/frico21/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 990013318,
              "node_id": "MDU6TGFiZWw5OTAwMTMzMTg=",
              "url": "https://api.github.com/repos/lightningnetwork/lnd/labels/P2",
              "name": "P2",
              "description": "should be fixed if one has time",
              "color": "fbca04",
              "default": false
            },
            {
              "id": 990053448,
              "node_id": "MDU6TGFiZWw5OTAwNTM0NDg=",
              "url": "https://api.github.com/repos/lightningnetwork/lnd/labels/utxo%20sweeping",
              "name": "utxo sweeping",
              "description": "",
              "color": "5df4e0",
              "default": false
            }
          ],
          "assignee": {
            "login": "halseth",
            "id": 3765732,
            "node_id": "MDQ6VXNlcjM3NjU3MzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3765732?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/halseth",
            "html_url": "https://github.com/halseth",
            "followers_url": "https://api.github.com/users/halseth/followers",
            "following_url": "https://api.github.com/users/halseth/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/halseth/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/halseth/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/halseth/subscriptions",
            "organizations_url": "https://api.github.com/users/halseth/orgs",
            "repos_url": "https://api.github.com/users/halseth/repos",
            "events_url": "https://api.github.com/users/halseth/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/halseth/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "halseth",
              "id": 3765732,
              "node_id": "MDQ6VXNlcjM3NjU3MzI=",
              "avatar_url": "https://avatars.githubusercontent.com/u/3765732?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/halseth",
              "html_url": "https://github.com/halseth",
              "followers_url": "https://api.github.com/users/halseth/followers",
              "following_url": "https://api.github.com/users/halseth/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/halseth/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/halseth/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/halseth/subscriptions",
              "organizations_url": "https://api.github.com/users/halseth/orgs",
              "repos_url": "https://api.github.com/users/halseth/repos",
              "events_url": "https://api.github.com/users/halseth/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/halseth/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "NONE",
          "locked": false,
          "comments": 28,
          "closed_at": "2018-08-23T04:41:51Z",
          "created_at": "2018-07-17T12:51:11Z",
          "updated_at": "2018-09-25T11:13:51Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 2043945885,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDIwNDM5NDU4ODU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2043945885",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-25T18:43:57Z",
      "label": {
        "name": "Brainstorming",
        "color": "ebd775"
      }
    },
    {
      "event": "referenced",
      "id": 2812112630,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI4MTIxMTI2MzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2812112630",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "05375845a29267b503ead51aa5122c270a0cd6f4",
      "commit_url": "https://api.github.com/repos/darosior/bitcoin/commits/05375845a29267b503ead51aa5122c270a0cd6f4",
      "created_at": "2019-11-19T16:30:55Z"
    },
    {
      "event": "referenced",
      "id": 2822712065,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI4MjI3MTIwNjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2822712065",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "cd5c8c2b4215742dbafbe0183b9d7623a88487e1",
      "commit_url": "https://api.github.com/repos/darosior/bitcoin/commits/cd5c8c2b4215742dbafbe0183b9d7623a88487e1",
      "created_at": "2019-11-22T10:14:28Z"
    },
    {
      "event": "referenced",
      "id": 2822925730,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDI4MjI5MjU3MzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2822925730",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "96e702e882309ff2cf6ddbfe33e62e5f7ba909ae",
      "commit_url": "https://api.github.com/repos/darosior/bitcoin/commits/96e702e882309ff2cf6ddbfe33e62e5f7ba909ae",
      "created_at": "2019-11-22T11:30:18Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-11-22T21:29:37Z",
      "updated_at": "2019-11-22T21:29:37Z",
      "source": {
        "issue": {
          "id": 527423828,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzQ0NzA2NjIz",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17566",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17566/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17566/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17566/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/17566",
          "number": 17566,
          "state": "closed",
          "state_reason": null,
          "title": "Switch to weight units for all feerates computation",
          "body": "This changes the current feerate computation from using virtual bytes to weight units for transaction size.\r\n\r\nThe transaction size being stored and used as virtual bytes introduced some non-negligible rounding and approximations *(See https://github.com/bitcoin/bitcoin/issues/13283 for an example.)*. This patch set is an attempt to switch to using weight units in place of virtual bytes internally for a more accurate feerate computation, while leaving intact the vbyte interface.\r\n\r\nThere is, I think, a big cleanup needed (for example renaming feerate constants as `xx_FEERATE` would really improve readability) but I wanted to keep changes as minimal as possible.\r\n\r\n Fixes #13283.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17566",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/17566",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/17566.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/17566.patch"
          },
          "closed_at": "2020-09-29T09:01:00Z",
          "created_at": "2019-11-22T21:29:37Z",
          "updated_at": "2022-02-15T10:36:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "stevenroose",
        "id": 853468,
        "node_id": "MDQ6VXNlcjg1MzQ2OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stevenroose",
        "html_url": "https://github.com/stevenroose",
        "followers_url": "https://api.github.com/users/stevenroose/followers",
        "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
        "organizations_url": "https://api.github.com/users/stevenroose/orgs",
        "repos_url": "https://api.github.com/users/stevenroose/repos",
        "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stevenroose/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-03-30T21:20:10Z",
      "updated_at": "2020-03-30T21:20:10Z",
      "source": {
        "issue": {
          "id": 590603920,
          "node_id": "MDU6SXNzdWU1OTA2MDM5MjA=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18475",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18475/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18475/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18475/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/18475",
          "number": 18475,
          "state": "closed",
          "state_reason": "completed",
          "title": "Tx with feeRate = 1100sat/vB doesn't pass -minrelaytxfee of 1100sat/vB",
          "body": "So I was fiddling with feerates today. I bumped into https://github.com/bitcoin/bitcoin/issues/13283, but this seemed different.\r\n\r\nI have the following setup:\r\n- `-regtest` and `-minrelaytxfee=0.00001100` \r\n- one node makes a block every some seconds\r\n- other node has `-mintxfee=0.00001100` as well and connects to that node and creates a tx with createraw+fundraw+signraw+sendraw\r\n\r\nOn fundraw, I use `\"{\\\"feeRate\\\": 0.00001100}\"`.\r\n\r\nResult: the txs of the second node don't get relayed to the first node and don't get mined.\r\n\r\nSo my main reason for this research was to observe fee estimation. After a while, `estimatesmartfee 3` gives a feerate of `0.00001097`, which is just below the feeRate supposedly set in every txs in the blockchain & mempool (which seems weird on itself), but is also lower than the `minRelayTxFee` for that node.",
          "user": {
            "login": "stevenroose",
            "id": 853468,
            "node_id": "MDQ6VXNlcjg1MzQ2OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stevenroose",
            "html_url": "https://github.com/stevenroose",
            "followers_url": "https://api.github.com/users/stevenroose/followers",
            "following_url": "https://api.github.com/users/stevenroose/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/stevenroose/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/stevenroose/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
            "organizations_url": "https://api.github.com/users/stevenroose/orgs",
            "repos_url": "https://api.github.com/users/stevenroose/repos",
            "events_url": "https://api.github.com/users/stevenroose/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/stevenroose/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 9,
          "closed_at": "2022-10-17T07:01:50Z",
          "created_at": "2020-03-30T21:20:10Z",
          "updated_at": "2022-10-17T07:01:50Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-18T08:23:32Z",
      "updated_at": "2020-06-18T08:23:32Z",
      "source": {
        "issue": {
          "id": 636149598,
          "node_id": "MDU6SXNzdWU2MzYxNDk1OTg=",
          "url": "https://api.github.com/repos/lightning/bolts/issues/786",
          "repository_url": "https://api.github.com/repos/lightning/bolts",
          "labels_url": "https://api.github.com/repos/lightning/bolts/issues/786/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/lightning/bolts/issues/786/comments",
          "events_url": "https://api.github.com/repos/lightning/bolts/issues/786/events",
          "html_url": "https://github.com/lightning/bolts/issues/786",
          "number": 786,
          "state": "closed",
          "state_reason": "completed",
          "title": "Lightning Specification Meeting 2020/06/22",
          "body": "The meeting will take place on Monday 2020/06/22 at 8pm UTC on IRC [#lightning-dev](irc://chat.freenode.net/lightning-dev). It is open to the public.\r\n\r\n## Pull Request Review\r\n\r\n- [x] Update BOLT 3 transaction test vectors to use static_remotekey #758\r\n- [x] CLTV expiry delta recommendations #785\r\n- [ ] ~Clarification on the occurences of TLV records with the same type #777~\r\n- [ ] ~BOLT 3: fix definition of flip(B) in P #779~\r\n\r\n## Long Term Updates\r\n\r\n- [x] Anchor outputs #688 (@joostjager)\r\n- [x] Mempool tx pinning attack (@ariard @TheBlueMatt)\r\n- ~[ ] Trampoline routing #654 (@t-bast)~\r\n- ~[ ] Blinded paths #765 (@t-bast)~\r\n- ~[ ] FoaF and rebalancing #780 (@renepickhardt)~\r\n\r\n## Backlog\r\n\r\nThe following are topics that we should discuss at some point, so if we have time to discuss them great, otherwise they slip to the next meeting.\r\n\r\n- [ ] ~Upfront payments / DoS protection~\r\n- [ ] ~Hornet (@cfromknecht)~\r\n\r\n----\r\n# Post-Meeting notes:\r\n\r\n## Action items\r\n\r\n- [ ] summarize the security loss the two-anchors proposal creates @ariard \r\n- [ ] find voice/video meeting time to discuss anchors security @t-bast \r\n- [ ] verify static_remotekey test vectors #758 \r\n- [x] address multiple feedback on #785 @t-bast \r\n\r\nThe full logs can be found [here](http://www.erisian.com.au/meetbot/lightning-dev/2020/lightning-dev.2020-06-22-20.08.log.html)",
          "user": {
            "login": "t-bast",
            "id": 31281497,
            "node_id": "MDQ6VXNlcjMxMjgxNDk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/31281497?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/t-bast",
            "html_url": "https://github.com/t-bast",
            "followers_url": "https://api.github.com/users/t-bast/followers",
            "following_url": "https://api.github.com/users/t-bast/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/t-bast/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/t-bast/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/t-bast/subscriptions",
            "organizations_url": "https://api.github.com/users/t-bast/orgs",
            "repos_url": "https://api.github.com/users/t-bast/repos",
            "events_url": "https://api.github.com/users/t-bast/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/t-bast/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "COLLABORATOR",
          "locked": false,
          "comments": 2,
          "closed_at": "2020-07-07T07:06:55Z",
          "created_at": "2020-06-10T10:55:42Z",
          "updated_at": "2020-07-07T07:06:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-29T19:55:23Z",
      "updated_at": "2020-07-29T19:55:23Z",
      "source": {
        "issue": {
          "id": 388789817,
          "node_id": "MDU6SXNzdWUzODg3ODk4MTc=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14895",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14895/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14895/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14895/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/14895",
          "number": 14895,
          "state": "open",
          "state_reason": null,
          "title": "Package relay design questions",
          "body": "Hi,\r\n\r\nI've been thinking about some improvements to transaction relay and wanted some feedback about the design goals.\r\n\r\n# Motivation\r\n\r\nA transaction is only accepted to our mempool and then relayed to our peers if (a) our mempool already has all unconfirmed dependencies of the transaction, and (b) the transaction itself passes a bunch of policy checks (feerate, package size limits, etc).\r\n\r\nIt is possible for one transaction to fail our feerate policy check, but had it been bundled with another child transaction, that the transactions together should make it in to our mempool (eg because the child's feerate is sufficiently high).  Here are some scenarios where this can come up:\r\n\r\n * A node on the network has a smaller mempool than the default/typical setting.  Our default mempool size is 300MB (huge); it seems like it should be the case that someone running a node with, say, a 20MB mempool ought to have all the transactions that will be appearing in the next block.  However, nodes running with smaller mempools can have a higher effective minimum feerate required for transaction acceptance (this is a consequence of our mempool limiting/eviction policy), and so high feerate children of a low feerate parent -- which might appear in the next block -- may never make it in to the mempool of such a node.\r\n\r\n * Matt Corallo recently wrote about an example on the bitcoin-dev mailing list involving lightning transactions, where pre-signed transactions might be broadcast to the blockchain long after they were generated, and thus not have been created with a fee that is sufficient to be confirmed quickly (or even be accepted to node mempools).  In such situations, channel participants may need to use chained transactions (CPFP) in order to increase the confirmation speed of such transactions, and that implies we may need to introduce a mechanism for those parent transactions to be relayed along with their higher feerate children, even if the parent transaction would be rejected by itself.\r\n\r\n*Are there other scenarios that suffer without a package relay solution, which have unique design requirements?*\r\n\r\n# Design questions\r\n\r\n## Who is responsible for initiating package relay, sender or recipient?\r\n\r\nWhile the sender of a transaction that is chained off a low-fee parent is well-positioned to guess that a transaction might need package relay in order to propagate, expecting relayers to do the same seems onerous and potentially bandwidth wasteful.  For example, one way for a sender-initiated package relay system to work might be for a sender to announce via an INV (or similar) all ancestor txid's along with a child txid.  However, what would the protocol look like beyond that first hop -- would each node on the network initiate package relay with their peers as well?  It seems like this could be used in a way that would cause the same txid's to be announced repeatedly on the same links in the network, which seems wasteful.  Is there a sender-initiated strategy that works better than this naive idea that we should consider?\r\n\r\nOn the other hand, the recipient of a transaction can tell if a transaction's parents are missing and can therefore know to initiate package relay from the sending peer (which means that package relay would only occur on links that require it, eg to/from low-memory-mempool nodes).\r\n\r\n## Should we update the p2p protocol to accommodate package relay, or rely on existing functionality?\r\n\r\nIn theory, we may be able to shoehorn a recipient-initiated package relay scheme within the existing p2p protocol.  A recipient who needs the parents of a transaction could iteratively request them, and then topologically sort the result once all ancestors have arrived, and then proceed with validation.\r\n\r\nBut in practice, it seems like it might be much simpler to reason about the code and computational complexity if we add some kind of special p2p messages to assist in the process, so that rather than iteratively request parents (for example) we could just ask a peer for all unconfirmed ancestors of a transaction, perhaps even already sorted in topological order. It's also possible that it'd be helpful to add information or requirements around the package feerate of such packages.\r\n\r\nThe obvious benefit to not updating the p2p protocol is that we could implement package relay in a new release and the whole network would support providing packages to new software.  The downside is potential code complexity and possibly somewhat less efficient processing of transactions due to repeatedly having to check for missing ancestors and doing the topological sort (but perhaps those could be mitigated with the right implementation).\r\n\r\n## What Denial-of-Service concerns do we need to address?\r\n\r\nIn addition to the usual things we worry about (bandwidth attacks on the network, CPU or other resource exhaustion attacks), does package relay need to incorporate further anti-DoS measures to be useful?\r\n\r\nFor example, suppose there is some low feerate transaction A, and it has multiple children: B, C, D, E ...  One of our peers relays transaction B to us, so we ask for A, but decide that A+B is not good enough for our mempool.  How many times will we be willing to re-try A, if C, D, E, etc are also relayed to us?\r\n\r\nOne approach might be to only attempt the same transaction once over some time period (say by adding it to our reject filter, which gets cleared out every block), so that the same transaction cannot be repeatedly used to CPU-attack us; however, this would seem to conflict with the lightning use-case, where we would not want an adversary to be able to prevent relay of some parent transaction.  \r\n\r\nMoreover, any situation where we might test a transaction's signatures prior to a (package-) policy failure that prevents the transaction from being ultimately accepted to the mempool would open the door to CPU-exhaustion attacks.  This would imply a design for package processing and acceptance where policy checks on the whole package are performed before signature validation -- then, if a signature is found to be invalid, we could ban the peer.  Are there any other practical solutions for this?  If we take this approach, then it seems we could re-try A over and over with limited downside.\r\n\r\nIt's important to note the existing resource usage that transaction relay can already incur -- when we receive a new transaction, we generally have to retrieve the inputs from the utxo set, which typically means that an attacker can make us do disk reads costlessly. Given that this seems difficult to avoid, I don't think package relay needs to limit an attacker's ability to have us look up inputs.  I think this implies that in the previous example, being willing to retry A+C, A+D, etc and looking up A's inputs over and over shouldn't be considered an increase in attack surface.\r\n\r\n## Consistency requirements?\r\n\r\nAre there any additional consistency requirements we should (or must) impose on package relay?  Currently it is the case that\r\nthe order that transactions are received by a node does determine which transactions make it into the mempool (some examples that come to mind: transactions that are just at the mempool min fee rate; transactions that depend on common ancestors which are near the descendant chain limit; a transaction that would conflict with another vs descendants of that original transaction; I'm sure there are more examples).\r\n\r\nNaively, we might also expect it to be the case that depending on how a package is relayed, it might affect whether a child transaction is accepted.  For instance, if we have a parent transaction A, with two children B and C, then it's possible that B+A has a high enough feerate to be accepted via package relay, but C+A does not -- so relaying B first would get all 3 transactions in, while relaying C first would only get A and B in.\r\n\r\nThis effect could be magnified if there were (for example) anti-DoS rules that would prevent A from being attempted too many times.\r\n\r\nWould this kind of behavior significantly harm any use cases that we're trying to support?",
          "user": {
            "login": "sdaftuar",
            "id": 7463573,
            "node_id": "MDQ6VXNlcjc0NjM1NzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sdaftuar",
            "html_url": "https://github.com/sdaftuar",
            "followers_url": "https://api.github.com/users/sdaftuar/followers",
            "following_url": "https://api.github.com/users/sdaftuar/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sdaftuar/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sdaftuar/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
            "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
            "repos_url": "https://api.github.com/users/sdaftuar/repos",
            "events_url": "https://api.github.com/users/sdaftuar/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64584,
              "node_id": "MDU6TGFiZWw2NDU4NA==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
              "name": "Brainstorming",
              "color": "ebd775",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 1392286103,
              "node_id": "MDU6TGFiZWwxMzkyMjg2MTAz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20Conceptual%20Review",
              "name": "Needs Conceptual Review",
              "description": "",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 21,
          "created_at": "2018-12-07T19:46:39Z",
          "updated_at": "2021-07-04T13:03:41Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-23T09:06:36Z",
      "updated_at": "2021-04-23T09:06:36Z",
      "source": {
        "issue": {
          "id": 777588162,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTQ3ODQyODI4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20833",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20833/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20833/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20833/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20833",
          "number": 20833,
          "state": "closed",
          "state_reason": null,
          "title": "rpc/validation: enable packages through testmempoolaccept",
          "body": "This PR enables validation dry-runs of packages through the `testmempoolaccept` RPC. The expectation is that the results returned from `testmempoolaccept` are what you'd get from test-then-submitting each transaction individually, in that order (this means the package is expected to be sorted in topological order, for now at least). The validation is also atomic: in the case of failure, it immediately halts and may return \"unfinished\" `MempoolAcceptResult`s for transactions that weren't fully validated. The API for 1 transaction stays the same.\r\n\r\n**Motivation:** \r\n- This allows you to test validity for transaction chains (e.g. with multiple spending paths and where you don't want to broadcast yet); closes #18480.\r\n- It's also a first step towards package validation in a minimally invasive way.\r\n- The RPC commit happens to close #21074 by clarifying the \"allowed\" key.\r\n\r\nThere are a few added restrictions on the packages, mostly to simplify the logic for areas that aren't critical to main package use cases:\r\n- No package can have conflicts, i.e. none of them can spend the same inputs, even if it would be a valid BIP125 replacement.\r\n- The package cannot conflict with the mempool, i.e. RBF is disabled.\r\n- The total count of the package cannot exceed 25 (the default descendant count limit), and total size cannot exceed 101KvB (the default descendant size limit).\r\n\r\nIf you're looking for review comments and github isn't loading them, I have a gist compiling some topics of discussion [here](https://gist.github.com/glozow/c3acaf161c95bba491fce31585b2aaf7)\r\n",
          "user": {
            "login": "glozow",
            "id": 25183001,
            "node_id": "MDQ6VXNlcjI1MTgzMDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/glozow",
            "html_url": "https://github.com/glozow",
            "followers_url": "https://api.github.com/users/glozow/followers",
            "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
            "organizations_url": "https://api.github.com/users/glozow/orgs",
            "repos_url": "https://api.github.com/users/glozow/repos",
            "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/glozow/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 35,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20833",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20833",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20833.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20833.patch"
          },
          "closed_at": "2021-05-27T20:41:05Z",
          "created_at": "2021-01-03T07:16:31Z",
          "updated_at": "2022-08-18T18:24:21Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-28T21:37:41Z",
      "updated_at": "2021-05-28T21:37:41Z",
      "source": {
        "issue": {
          "id": 906098291,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjU3MTMyNDg2",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22097",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22097/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22097/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22097/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22097",
          "number": 22097,
          "state": "closed",
          "state_reason": null,
          "title": "validation: Move package acceptance size limit from KvB to WU",
          "body": "Class of second-layers applications interested by the package acceptance API are mostly relying on trustless chain of transactions which are necessarily made of segwit input. As such, most of them are making their internal propagation sanity checks and feerate computations already in weight units (at least I can confirm for Lightning, it's mandatory in the spec to announce `feerate_per_kw` to your counterparty).\r\n\r\nTo reduce odds of bugs in second-layers implementations, such as the one mentioned in #13283, this PR changes the package acceptance size limit from kilo-bytes to weight units.\r\n\r\nE.g an internal Lightning onchain logic with an already-computed package weight of 404_002 (100_000 bytes of regular fields, 4002 bytes of witness fields), dividing by WITNESS_SCALE_FACTOR, obtaining 101_000 virtual bytes, checking against MAX_PACKAGE_SIZE and then wrongly evaluating the package as valid for mempool acceptance.\r\n\r\nIt also matches our max transaction size check already expressed in weight units (`MAX_STANDARD_TX_WEIGHT`).",
          "user": {
            "login": "ariard",
            "id": 23310655,
            "node_id": "MDQ6VXNlcjIzMzEwNjU1",
            "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ariard",
            "html_url": "https://github.com/ariard",
            "followers_url": "https://api.github.com/users/ariard/followers",
            "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
            "organizations_url": "https://api.github.com/users/ariard/orgs",
            "repos_url": "https://api.github.com/users/ariard/repos",
            "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ariard/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 18,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22097",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22097",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22097.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22097.patch"
          },
          "closed_at": "2022-07-09T00:00:02Z",
          "created_at": "2021-05-28T21:37:41Z",
          "updated_at": "2023-07-09T10:09:56Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1525797070,
      "node_id": "IC_kwDOABII585a8dDO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1525797070",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-27T14:27:07Z",
      "updated_at": "2023-04-27T14:27:07Z",
      "author_association": "MEMBER",
      "body": "This issue is unlikely to be fixed in Bitcoin Core. We'll close for now, but feel free to open another issue or pull request with a fix. ",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/13283#issuecomment-1525797070",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13283"
    },
    {
      "event": "closed",
      "id": 9115331417,
      "node_id": "CE_lADOABII584TWh34zwAAAAIfUOtZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9115331417",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-27T14:27:07Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-14T23:12:53Z",
      "updated_at": "2023-07-14T23:12:53Z",
      "source": {
        "issue": {
          "id": 1799943244,
          "node_id": "PR_kwDOB0Kp2s5VQYr_",
          "url": "https://api.github.com/repos/lightningdevkit/rust-lightning/issues/2403",
          "repository_url": "https://api.github.com/repos/lightningdevkit/rust-lightning",
          "labels_url": "https://api.github.com/repos/lightningdevkit/rust-lightning/issues/2403/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/lightningdevkit/rust-lightning/issues/2403/comments",
          "events_url": "https://api.github.com/repos/lightningdevkit/rust-lightning/issues/2403/events",
          "html_url": "https://github.com/lightningdevkit/rust-lightning/pull/2403",
          "number": 2403,
          "state": "closed",
          "state_reason": null,
          "title": "Integrate BumpTransactionEventHandler into existing anchor tests",
          "body": "This PR integrates the `BumpTransactionEventHandler` into existing anchor tests to get some free coverage. Along the way, we address a few inefficiencies around bumping commitment transactions, add debug assertions for weight estimates, and improve logging within the event handler.\r\n\r\nDepends on #2393.",
          "user": {
            "login": "wpaulino",
            "id": 9447167,
            "node_id": "MDQ6VXNlcjk0NDcxNjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9447167?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wpaulino",
            "html_url": "https://github.com/wpaulino",
            "followers_url": "https://api.github.com/users/wpaulino/followers",
            "following_url": "https://api.github.com/users/wpaulino/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/wpaulino/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/wpaulino/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/wpaulino/subscriptions",
            "organizations_url": "https://api.github.com/users/wpaulino/orgs",
            "repos_url": "https://api.github.com/users/wpaulino/repos",
            "events_url": "https://api.github.com/users/wpaulino/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/wpaulino/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 4885474239,
              "node_id": "LA_kwDOB0Kp2s8AAAABIzJrvw",
              "url": "https://api.github.com/repos/lightningdevkit/rust-lightning/labels/Anchor%20Support",
              "name": "Anchor Support",
              "description": "",
              "color": "FA9362",
              "default": false
            }
          ],
          "assignee": {
            "login": "tnull",
            "id": 521467,
            "node_id": "MDQ6VXNlcjUyMTQ2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/521467?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tnull",
            "html_url": "https://github.com/tnull",
            "followers_url": "https://api.github.com/users/tnull/followers",
            "following_url": "https://api.github.com/users/tnull/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/tnull/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/tnull/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/tnull/subscriptions",
            "organizations_url": "https://api.github.com/users/tnull/orgs",
            "repos_url": "https://api.github.com/users/tnull/repos",
            "events_url": "https://api.github.com/users/tnull/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/tnull/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "tnull",
              "id": 521467,
              "node_id": "MDQ6VXNlcjUyMTQ2Nw==",
              "avatar_url": "https://avatars.githubusercontent.com/u/521467?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/tnull",
              "html_url": "https://github.com/tnull",
              "followers_url": "https://api.github.com/users/tnull/followers",
              "following_url": "https://api.github.com/users/tnull/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/tnull/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/tnull/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/tnull/subscriptions",
              "organizations_url": "https://api.github.com/users/tnull/orgs",
              "repos_url": "https://api.github.com/users/tnull/repos",
              "events_url": "https://api.github.com/users/tnull/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/tnull/received_events",
              "type": "User",
              "site_admin": false
            },
            {
              "login": "TheBlueMatt",
              "id": 649246,
              "node_id": "MDQ6VXNlcjY0OTI0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/TheBlueMatt",
              "html_url": "https://github.com/TheBlueMatt",
              "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
              "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
              "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
              "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
              "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "CONTRIBUTOR",
          "milestone": {
            "url": "https://api.github.com/repos/lightningdevkit/rust-lightning/milestones/33",
            "html_url": "https://github.com/lightningdevkit/rust-lightning/milestone/33",
            "labels_url": "https://api.github.com/repos/lightningdevkit/rust-lightning/milestones/33/labels",
            "id": 9193181,
            "node_id": "MI_kwDOB0Kp2s4AjEbd",
            "number": 33,
            "state": "closed",
            "title": "0.0.116",
            "description": "Anchoring the Roadmap",
            "creator": {
              "login": "TheBlueMatt",
              "id": 649246,
              "node_id": "MDQ6VXNlcjY0OTI0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/TheBlueMatt",
              "html_url": "https://github.com/TheBlueMatt",
              "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
              "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
              "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
              "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
              "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 71,
            "created_at": "2023-03-22T18:26:54Z",
            "updated_at": "2023-07-22T03:03:33Z",
            "closed_at": "2023-07-22T03:03:14Z"
          },
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/lightningdevkit/rust-lightning/pulls/2403",
            "html_url": "https://github.com/lightningdevkit/rust-lightning/pull/2403",
            "diff_url": "https://github.com/lightningdevkit/rust-lightning/pull/2403.diff",
            "patch_url": "https://github.com/lightningdevkit/rust-lightning/pull/2403.patch"
          },
          "closed_at": "2023-07-17T17:18:20Z",
          "created_at": "2023-07-12T00:09:31Z",
          "updated_at": "2023-07-17T17:40:29Z"
        },
        "type": "issue"
      }
    }
  ]
}