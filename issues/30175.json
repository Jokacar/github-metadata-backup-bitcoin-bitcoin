{
  "type": "issue",
  "issue": {
    "id": 2317002268,
    "node_id": "I_kwDOABII586KGqYc",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30175",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30175/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30175/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30175/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/30175",
    "number": 30175,
    "state": "open",
    "state_reason": null,
    "title": "Enable `importprivkey`, `addmultisigaddress` in descriptor wallets",
    "body": "### Please describe the feature you'd like to see added.\n\nDescriptor wallets currently do not support the \"legacy\" import commands `importprivkey`, `importpubkey`, `importaddress`, `addmultisigaddress`, `importmulti`, and `importwallet`. This was done because the semantics of these RPC cannot be replicated in descriptor wallets, as they just fundamentally work differently (being explicit about what to watch rather than \"whatever matches the bag of keys and scripts we have\").\r\n\r\nI want to suggest the possibility to reconsider that. The exact semantics cannot be replicated, but ignoring that, for many of these RPCs, the almost certain intent of the RPCs can be replicated:\r\n* `importprivkey` and `importpubkey` can be mapped to a `combo()` descriptor\r\n* `importaddress` can be mapped to an `addr()` descriptor\r\n* `addmultisigaddress` can be mapped to a `multi()` descriptor, wrapped in `sh()`, `sh(wsh())`, or `wsh()` depending on the address type (already returned as the `descriptor` field in the RPC output).\r\n* `importmulti` and `importwallet` are more involved, but do contain enough information for mapping to descriptors.\r\n\r\nFor the simpler ones out of these, it makes sense too. `importprivkey` is simpler to use than learning the descriptor syntax, and no less safe. A reason not to do this is if a user would reasonably expect different semantics, or if there are guides out there that use certain RPCs in a way that relies on the \"bag of keys and scripts\" behavior, but I doubt it. Another reason not to do this is lack of taproot support in these RPCs, though that could be addressed with warnings, or in some cases, extensions (e.g. nothing prevents us from adding a taproot variant to `addmultisigaddress`).\n\n### Is your feature related to a problem, if so please describe it.\n\nI've seen several complaints about how hard `importdescriptors` is in use for importing a private key, or creating a multisig address. \n\n### Describe the solution you'd like\n\n_No response_\n\n### Describe any alternatives you've considered\n\n_No response_\n\n### Please leave any additional context\n\n_No response_",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 0,
    "created_at": "2024-05-25T13:17:57Z",
    "updated_at": "2024-05-25T13:17:57Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 12932834457,
      "node_id": "LE_lADOABII586KGqYczwAAAAMC22SZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12932834457",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-25T13:17:57Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    }
  ]
}