{
  "type": "issue",
  "issue": {
    "id": 647304518,
    "node_id": "MDU6SXNzdWU2NDczMDQ1MTg=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19406",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19406/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19406/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19406/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/19406",
    "number": 19406,
    "state": "closed",
    "state_reason": "completed",
    "title": "macOS Big Sur",
    "body": "New macOS releases have historically led to unpleasant surprises. I'm running the beta on an older machine, so I'll post testing progress here. Most problems deserver their own issue. See #16387 for Catalina beta testing last year.\r\n\r\nI consider [Universal Apps](https://developer.apple.com/programs/universal/) out of scope for this issue.\r\n\r\nI removed Homebrew and PyEnv first, installed Xcode 12 beta, before reinstalling them. This best represents what the actual OS will look like with a clean install. It also prevents Homebrew from installing Xcode 11 developer tools.\r\n\r\n```\r\nsudo xcode-select --switch /Applications/Xcode-beta.app/Contents/Developer\r\n```\r\n\r\n## Beta 1\r\n\r\nBuild: 20A4299v on Intel CPU, using Xcode 12 beta (without Universal App support).\r\n\r\nDownloading 0.20 binary from bitcoincore.org works fine (with right-click install).\r\n\r\nTested master @ 19612ca2eb2e335c8ccc9c0f33421df22f1cc3b6\r\n\r\nI didn't test ZMQ and libmultiprocess yet.\r\n\r\n### Without depends\r\n\r\nFirst I installed dependencies using homebrew 2.4.2. I use `--build-from-source` to see if there's any homebrew packages that probably need a Big Sure specific update . That revealed with a few problems.\r\n\r\nInstalling Python via PyEnv doesn't work yet (see https://github.com/pyenv/pyenv/issues/1643), but you can install the binary for now, or via homebrew.\r\n\r\nBrew can't install `berkeley-db4` using `--build-from-source`, but it can use the Catalina bottle.\r\n\r\nclang crashed for `test/test_bitcoin-scheduler_tests`; I sent a bug report to Apple, attached logs for @practicalswift and other compiler aficionados. I wasn't reproducible, not even after `git clean -dfx`.\r\n[crash.zip](https://github.com/bitcoin/bitcoin/files/4844713/crash.zip)\r\n\r\n### With depends\r\n\r\nI was unable to build QT the first time, but can't reproduce that problem. BDB may need a patch (#19411). During blockchain download catchup, I got a `LevelDB read failure: Corruption: block checksum mismatch` error. I'll see if I can reproduce that. See #19410.\r\n",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 234879,
        "node_id": "MDU6TGFiZWwyMzQ4Nzk=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/macOS",
        "name": "macOS",
        "description": "",
        "color": "660000",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 3,
    "closed_at": "2021-01-06T12:34:34Z",
    "created_at": "2020-06-29T11:51:26Z",
    "updated_at": "2022-08-18T18:33:39Z"
  },
  "events": [
    {
      "event": "mentioned",
      "id": 3492285061,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzQ5MjI4NTA2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3492285061",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-29T11:51:27Z"
    },
    {
      "event": "subscribed",
      "id": 3492285066,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM0OTIyODUwNjY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3492285066",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-29T11:51:27Z"
    },
    {
      "event": "commented",
      "id": 651087648,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTA4NzY0OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651087648",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-29T12:32:20Z",
      "updated_at": "2020-06-29T12:32:20Z",
      "author_association": "MEMBER",
      "body": "> clang crashed ... I wasn't reproducible\r\n\r\nUsually that is OOM, or overheating, or some other hardware fault",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19406#issuecomment-651087648",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19406"
    },
    {
      "event": "commented",
      "id": 651093998,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTA5Mzk5OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651093998",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-29T12:42:54Z",
      "updated_at": "2020-06-29T18:03:11Z",
      "author_association": "MEMBER",
      "body": "I ran with `-j6` on 8 GB of RAM, so if it was OOM, then that itself was a probably bug. I've compiled Bitcoin Core countless times on that machine, and can't remember ever seeing an error like this (though perhaps it did happen, and of course it's older now).\r\n\r\n_Update:_ The spontaneously disappearing compile error for QT depends is one point in favour of broken hardware.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19406#issuecomment-651093998",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19406"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-29T13:25:03Z",
      "updated_at": "2020-06-29T13:25:03Z",
      "source": {
        "issue": {
          "id": 647374384,
          "node_id": "MDU6SXNzdWU2NDczNzQzODQ=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19410",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19410/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19410/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19410/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/19410",
          "number": 19410,
          "state": "closed",
          "state_reason": "completed",
          "title": "LevelDB corruption on macOS Big Sur beta",
          "body": "For more problems with macOS Big Sur (beta) see #19406. \r\n\r\nI first ran the binary release v0.20.0 and it synced at least a few dozen blocks without issue (around height 604,000).\r\n\r\nDepends built with: `make NO_ZMQ=1 DEBUG=1 NO_QT=1 NO_WALLET=1`\r\nConfigured with: `./configure --enable-debug --enable-werror --prefix=/Users/sjors/dev/bitcoin/depends/x86_64-apple-darwin20.0.0`\r\n\r\nOn an existing node, bitcoind crashes at different heights, and often for different `ldb` files. Example log:\r\n\r\n```\r\nsrc/bitcoind -debug=leveldb\r\n\r\n2020-06-29T12:12:52Z UpdateTip: new best=000000000000000000106cbbe535af482a10094e546425de969cc83d42c1ab54 height=604383 version=0x3fffe000 log2_work=91.348713 tx=475833455 date='2019-11-18T16:43:29Z' progress=0.877056 cache=29.6MiB(216045txo)\r\n2020-06-29T12:12:52Z leveldb: Generated table #707286@3: 36594 keys, 2171204 bytes\r\n2020-06-29T12:12:52Z Pre-allocating up to position 0x4000000 in blk01868.dat\r\n2020-06-29T12:12:52Z leveldb: Generated table #707287@3: 36898 keys, 2171437 bytes\r\n2020-06-29T12:12:52Z leveldb: Generated table #707288@3: 35879 keys, 2170291 bytes\r\n2020-06-29T12:12:52Z leveldb: Generated table #707289@3: 36289 keys, 2170993 bytes\r\n2020-06-29T12:12:52Z leveldb: Generated table #707290@3: 36425 keys, 2171307 bytes\r\n2020-06-29T12:12:52Z leveldb: Generated table #707291@3: 36176 keys, 2170300 bytes\r\n2020-06-29T12:12:52Z leveldb: Generated table #707292@3: 37432 keys, 2172172 bytes\r\n2020-06-29T12:12:52Z leveldb: Generated table #707293@3: 13346 keys, 818093 bytes\r\n2020-06-29T12:12:52Z leveldb: Compacted 1@3 + 12@4 files => 22528033 bytes\r\n2020-06-29T12:12:53Z leveldb: compacted to: files[ 0 0 3 167 1703 0 0 ]\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #704114\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #704115\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #705541\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #705542\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #704112\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #704113\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #705543\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #703169\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #703172\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #703173\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #703171\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #703170\r\n2020-06-29T12:12:53Z leveldb: Delete type=2 #705749\r\n2020-06-29T12:12:53Z leveldb: Compacting 1@3 + 10@4 files\r\n2020-06-29T12:12:53Z LevelDB read failure: Corruption: block checksum mismatch: /Users/sjors/Library/Application Support/Bitcoin/chainstate/705763.ldb\r\n2020-06-29T12:12:53Z Fatal LevelDB error: Corruption: block checksum mismatch: /Users/sjors/Library/Application Support/Bitcoin/chainstate/705763.ldb\r\n2020-06-29T12:12:53Z You can use -debug=leveldb to get more complete diagnostic messages\r\n2020-06-29T12:12:53Z Error: Error reading from database, shutting down.\r\n```\r\n\r\nWhen building without depends or using the 0.20 release, afterwards, results in the same errors, so most likely those files are actually corrupt.\r\n\r\nI'm syncing a node (built with depends) from scratch. So far no crash (height=225,000).\r\n\r\nUnless someone else sees this (which could suggest an upgrade issue), I'll close this in a while.",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 8,
          "closed_at": "2020-07-01T19:15:27Z",
          "created_at": "2020-06-29T13:25:03Z",
          "updated_at": "2022-02-15T11:16:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-29T13:44:59Z",
      "updated_at": "2020-06-29T13:44:59Z",
      "source": {
        "issue": {
          "id": 647390153,
          "node_id": "MDU6SXNzdWU2NDczOTAxNTM=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19411/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19411/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19411/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/19411",
          "number": 19411,
          "state": "closed",
          "state_reason": "completed",
          "title": "Unable to build BDB 4.8 on macOS Big Sur beta or Xcode 12.0",
          "body": "_Update 22-9-2020:_ this happens on macOS Catalina as well with Xcode 12.0\r\n\r\n_Update 9-10-2020_; workaround suggested by @willcl-ark:\r\n\r\n```sh\r\nbrew install llvm\r\nexport LLVM_PREFIX=$(brew --prefix llvm)\r\nCC=$LLVM_PREFIX/bin/clang CXX=$LLVM_PREFIX/bin/clang++ LDFLAGS=\"-L$LLVM_PREFIX/opt/llvm/lib -Wl,-rpath,$LLVM_PREFIX/opt/llvm/lib\" ./contrib/install_db4.sh .\r\n```\r\n\r\n_Update 20-10-2020_: better workaround suggested by @fanquake:\r\n\r\n```\r\nCFLAGS=\"-Wno-error=implicit-function-declaration\"  ./contrib/install_db4.sh .\r\n```\r\n\r\nFor more problems with macOS Big Sur (beta) see #19406.\r\n\r\nI'm unable to build Berkeley DB 4.8. When using depends as when using `contrib/install_db4.sh`: \r\n\r\n```\r\nchecking for mutexes... UNIX/fcntl\r\nconfigure: WARNING: NO SHARED LATCH IMPLEMENTATION FOUND FOR THIS PLATFORM.\r\nconfigure: error: Unable to find a mutex implementation\r\n```\r\n\r\n[configure.log](https://github.com/bitcoin/bitcoin/files/4845856/configure.log) `stdout` from Big Sur beta \r\n[config.log](https://gist.github.com/Sjors/fafcaf701e8c9e9a57486310a5ed6b98) on Catalina with Xcode 12.0\r\n\r\nI got the same error when compiling for iOs in #12557.\r\n\r\nOn macOS Catalina it finds the following:\r\n\r\n```\r\nchecking for mutexes... POSIX/pthreads/library/x86_64/gcc-assembly\r\n```\r\n\r\nSo perhaps something moved or was removed...\r\n\r\nLooking at `dist/configure` I think I narrowed it down to this check:\r\n\r\n```cpp\r\n#include <pthread.h>\r\nmain() {\r\n\tpthread_cond_t cond;\r\n\tpthread_mutex_t mutex;\r\n\tpthread_condattr_t condattr;\r\n\tpthread_mutexattr_t mutexattr;\r\n\texit (\r\n\tpthread_condattr_init(&condattr) ||\r\n\tpthread_condattr_setpshared(&condattr, PTHREAD_PROCESS_SHARED) ||\r\n\tpthread_mutexattr_init(&mutexattr) ||\r\n\tpthread_mutexattr_setpshared(&mutexattr, PTHREAD_PROCESS_SHARED) ||\r\n\tpthread_cond_init(&cond, &condattr) ||\r\n\tpthread_mutex_init(&mutex, &mutexattr) ||\r\n\tpthread_mutex_lock(&mutex) ||\r\n\tpthread_mutex_unlock(&mutex) ||\r\n\tpthread_mutex_destroy(&mutex) ||\r\n\tpthread_cond_destroy(&cond) ||\r\n\tpthread_condattr_destroy(&condattr) ||\r\n\tpthread_mutexattr_destroy(&mutexattr));\r\n}\r\n_ACEOF\r\nif ac_fn_c_try_run \"$LINENO\"; then :\r\n  db_cv_mutex=\"POSIX/pthreads/library\"\r\nfi\r\n```\r\n\r\nIf I replace the `main()` function body with `exit(0);` it still fails, but it's \"happy\" when why I use `return 0;`. I initially assumed this was a `-Werror=return-type` problem, but something like `exit(0); return 0;` doesn't work either. I don't know how to inspect the compilation output.\r\n\r\nI can replace `exit` with `return` in the above function and it compiles, `bitcoind` builds and wallet tests pass.\r\n\r\nThis suggests an obvious patch, but also a bit of a mystery.",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            },
            {
              "id": 234879,
              "node_id": "MDU6TGFiZWwyMzQ4Nzk=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/macOS",
              "name": "macOS",
              "description": "",
              "color": "660000",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/45",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45/labels",
            "id": 4914019,
            "node_id": "MDk6TWlsZXN0b25lNDkxNDAxOQ==",
            "number": 45,
            "state": "closed",
            "title": "0.21.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 132,
            "created_at": "2019-12-09T08:39:58Z",
            "updated_at": "2021-01-15T19:50:53Z",
            "closed_at": "2021-01-15T19:50:53Z"
          },
          "locked": false,
          "comments": 30,
          "closed_at": "2020-10-29T11:32:17Z",
          "created_at": "2020-06-29T13:44:59Z",
          "updated_at": "2022-08-10T14:23:03Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 654616949,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY1NDYxNjk0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/654616949",
      "actor": {
        "login": "randolf",
        "id": 33541170,
        "node_id": "MDQ6VXNlcjMzNTQxMTcw",
        "avatar_url": "https://avatars.githubusercontent.com/u/33541170?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/randolf",
        "html_url": "https://github.com/randolf",
        "followers_url": "https://api.github.com/users/randolf/followers",
        "following_url": "https://api.github.com/users/randolf/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/randolf/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/randolf/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/randolf/subscriptions",
        "organizations_url": "https://api.github.com/users/randolf/orgs",
        "repos_url": "https://api.github.com/users/randolf/repos",
        "events_url": "https://api.github.com/users/randolf/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/randolf/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-07T05:47:33Z",
      "updated_at": "2020-07-07T05:47:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "> _Update:_ The spontaneously disappearing compile error for QT depends is one point in favour of broken hardware.\r\n\r\n...as long as something updating Qt, one of its dependencies, or adding a needed #include somewhere didn't happen.",
      "user": {
        "login": "randolf",
        "id": 33541170,
        "node_id": "MDQ6VXNlcjMzNTQxMTcw",
        "avatar_url": "https://avatars.githubusercontent.com/u/33541170?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/randolf",
        "html_url": "https://github.com/randolf",
        "followers_url": "https://api.github.com/users/randolf/followers",
        "following_url": "https://api.github.com/users/randolf/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/randolf/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/randolf/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/randolf/subscriptions",
        "organizations_url": "https://api.github.com/users/randolf/orgs",
        "repos_url": "https://api.github.com/users/randolf/repos",
        "events_url": "https://api.github.com/users/randolf/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/randolf/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/19406#issuecomment-654616949",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19406"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-31T17:05:43Z",
      "updated_at": "2020-07-31T17:05:43Z",
      "source": {
        "issue": {
          "id": 433286720,
          "node_id": "MDU6SXNzdWU0MzMyODY3MjA=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15819",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15819/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15819/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15819/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/15819",
          "number": 15819,
          "state": "closed",
          "state_reason": "completed",
          "title": "macOS: crash while loading wallet with berkeley-db@4",
          "body": "On macOS 10.14.4 with Homebrew berkeley-db@4 4.8.30 using master (4f4ef3138b06b405d9d8877ddc4a3492a2512c41) `bitcoind` crashes when loading an existing wallet or creating a new one.\r\n\r\n```\r\n2019-04-15T10:28:15Z init message: Verifying wallet(s)...\r\n2019-04-15T10:28:15Z Using BerkeleyDB version Berkeley DB 4.8.30: (April  9, 2010)\r\n2019-04-15T10:28:15Z Using wallet /Users/bitcoin/Library/Application Support/Bitcoin/testnet3/wallets/A\r\n2019-04-15T10:28:15Z BerkeleyEnvironment::Open: LogDir=/Users/bitcoin/Library/Application Support/Bitcoin/testnet3/wallets/A/database ErrorFile=/Users/bitcoin/Library/Application Support/Bitcoin/testnet3/wallets/A/db.log\r\nProcess 87520 stopped\r\n* thread #1, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x10000)\r\n    frame #0: 0x0000000102445d8e libdb_cxx-4.8.dylib`__lock_get_lk_max_locks + 53\r\nlibdb_cxx-4.8.dylib`__lock_get_lk_max_locks:\r\n->  0x102445d8e <+53>: movl   %eax, (%rsi)\r\n    0x102445d90 <+55>: xorl   %eax, %eax\r\n    0x102445d92 <+57>: popq   %rbp\r\n    0x102445d93 <+58>: retq\r\nTarget 0: (bitcoind) stopped.\r\n(lldb) bt\r\n* thread #1, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x10000)\r\n  * frame #0: 0x0000000102445d8e libdb_cxx-4.8.dylib`__lock_get_lk_max_locks + 53\r\n    frame #1: 0x00000001023c4afa libdb_cxx-4.8.dylib`DbEnv::get_lk_max_locks(unsigned int*) + 46\r\n    frame #2: 0x0000000100458dbf bitcoind`BerkeleyEnvironment::Open(this=<unavailable>, retry=<unavailable>) at db.cpp:195:12 [opt]\r\n    frame #3: 0x000000010045abab bitcoind`BerkeleyBatch::VerifyEnvironment(file_path=<unavailable>, errorStr=\"\") at db.cpp:417:15 [opt]\r\n    frame #4: 0x00000001004fb295 bitcoind`CWallet::Verify(chain=0x0000000102a02990, location=0x00007ffeefbfed50, salvage_wallet=false, error_string=\"\", warning_string=<unavailable>) at wallet.cpp:3972:14 [opt]\r\n    frame #5: 0x0000000100477628 bitcoind`VerifyWallets(chain=0x0000000102a02990, wallet_files=<unavailable>) at load.cpp:56:31 [opt]\r\n    frame #6: 0x00000001000727b9 bitcoind`AppInitMain(interfaces=<unavailable>) at init.cpp:1321:22 [opt]\r\n    frame #7: 0x0000000100004592 bitcoind`AppInit(argc=<unavailable>, argv=0x00007ffeefbff418) at bitcoind.cpp:171:16 [opt]\r\n    frame #8: 0x0000000100004042 bitcoind`main(argc=<unavailable>, argv=<unavailable>) at bitcoind.cpp:201:13 [opt]\r\n    frame #9: 0x00007fff7edfc3d5 libdyld.dylib`start + 1\r\n    frame #10: 0x00007fff7edfc3d5 libdyld.dylib`start + 1\r\n(lldb)\r\n```\r\n\r\nThe crash does not happen when using depends. It also does not happen with a more recent BDB version using `--with-incompatible-bdb` (this requires uninstalling berkeley-db@4).",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 234879,
              "node_id": "MDU6TGFiZWwyMzQ4Nzk=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/macOS",
              "name": "macOS",
              "description": "",
              "color": "660000",
              "default": false
            },
            {
              "id": 159815356,
              "node_id": "MDU6TGFiZWwxNTk4MTUzNTY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Upstream",
              "name": "Upstream",
              "color": "bfd4f2",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 9,
          "closed_at": "2019-04-24T09:44:11Z",
          "created_at": "2019-04-15T13:36:22Z",
          "updated_at": "2022-02-15T11:16:34Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 3724305347,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM3MjQzMDUzNDc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3724305347",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-09-03T11:46:36Z",
      "label": {
        "name": "macOS",
        "color": "660000"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "awesome-doge",
        "id": 54278075,
        "node_id": "MDQ6VXNlcjU0Mjc4MDc1",
        "avatar_url": "https://avatars.githubusercontent.com/u/54278075?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/awesome-doge",
        "html_url": "https://github.com/awesome-doge",
        "followers_url": "https://api.github.com/users/awesome-doge/followers",
        "following_url": "https://api.github.com/users/awesome-doge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/awesome-doge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/awesome-doge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/awesome-doge/subscriptions",
        "organizations_url": "https://api.github.com/users/awesome-doge/orgs",
        "repos_url": "https://api.github.com/users/awesome-doge/repos",
        "events_url": "https://api.github.com/users/awesome-doge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/awesome-doge/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-10-20T10:34:05Z",
      "updated_at": "2020-10-20T10:34:05Z",
      "source": {
        "issue": {
          "id": 725406360,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTA2NjQzOTEy",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20195",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20195/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20195/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20195/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/20195",
          "number": 20195,
          "state": "closed",
          "state_reason": null,
          "title": "build: fix mutex detection when building bdb on macOS",
          "body": "Starting with the Apple Clang shipped with Xcode 12, [Apple has enabled -Werror=implicit-function-declaration by default](https://developer.apple.com/documentation/xcode-release-notes/xcode-12-release-notes):\r\n> Clang now reports an error when you use a function without an explicit declaration when building C or Objective-C code for macOS (-Werror=implicit-function-declaration flag is on). This additional error detection unifies Clang’s behavior for iOS/tvOS and macOS 64-bit targets for this diagnostic. (49917738)\r\n\r\nThis causes bdbs mutex detection to fail when building on macOS (not cross-compiling):\r\n```bash\r\nchecking for mutexes... UNIX/fcntl\r\nconfigure: WARNING: NO SHARED LATCH IMPLEMENTATION FOUND FOR THIS PLATFORM.\r\nconfigure: error: Unable to find a mutex implementation\r\n```\r\n\r\nas previously emitted warnings are being turned into errors. i.e:\r\n```bash\r\nconfigure:18704: checking for mutexes\r\nconfigure:18815: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -mmacosx-version-min=10.12 --sysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -o conftest -pipe -O2  -I/Users/michael/github/fanquake-bitcoin/depends/x86_64-apple-darwin19.6.0/include -L/Users/michael/github/fanquake-bitcoin/depends/x86_64-apple-darwin19.6.0/lib conftest.c  -lpthread >&5\r\nconftest.c:46:1: warning: type specifier missing, defaults to 'int' [-Wimplicit-int]\r\nmain() {\r\n^\r\nconftest.c:51:2: error: implicitly declaring library function 'exit' with type 'void (int) __attribute__((noreturn))' [-Werror,-Wimplicit-function-declaration]\r\n        exit (\r\n        ^\r\nconftest.c:51:2: note: include the header <stdlib.h> or explicitly provide a declaration for 'exit'\r\n1 warning and 1 error generated.\r\n```\r\n\r\nAppend `-Wno-error=implicit-function-declaration` to `cflags` so that `-Wimplicit-function-declaration` [returns to being a warning](https://clang.llvm.org/docs/UsersManual.html#cmdoption-wno-error), and the configure checks succeed.\r\n\r\nFixes #19411.",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 234879,
              "node_id": "MDU6TGFiZWwyMzQ4Nzk=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/macOS",
              "name": "macOS",
              "description": "",
              "color": "660000",
              "default": false
            },
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/45",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45/labels",
            "id": 4914019,
            "node_id": "MDk6TWlsZXN0b25lNDkxNDAxOQ==",
            "number": 45,
            "state": "closed",
            "title": "0.21.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 132,
            "created_at": "2019-12-09T08:39:58Z",
            "updated_at": "2021-01-15T19:50:53Z",
            "closed_at": "2021-01-15T19:50:53Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20195",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/20195",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/20195.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/20195.patch"
          },
          "closed_at": "2020-10-29T11:32:28Z",
          "created_at": "2020-10-20T09:46:34Z",
          "updated_at": "2022-08-18T18:24:45Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "closed",
      "id": 4175026484,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDE3NTAyNjQ4NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4175026484",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-01-06T12:34:34Z"
    },
    {
      "event": "locked",
      "id": 7216595468,
      "node_id": "LOE_lADOABII584mlRVGzwAAAAGuJIIM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7216595468",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-18T18:33:39Z",
      "lock_reason": "resolved"
    }
  ]
}