{
  "type": "issue",
  "issue": {
    "id": 49719839,
    "node_id": "MDU6SXNzdWU0OTcxOTgzOQ==",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5342",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5342/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5342/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5342/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/5342",
    "number": 5342,
    "state": "closed",
    "state_reason": "completed",
    "title": "Refine startup error messages (e.g. wrong system time)",
    "body": "When starting the QT client with a wrong system time, an appearingly unrelated error message is shown:\n\n![systemtime](https://cloud.githubusercontent.com/assets/5836089/5145079/1887cc1e-71a0-11e4-8057-b0168e8f1ff1.png)\n\ndebug.log:\n\n```\n2013-06-09 23:46:15 init message: Verifying blocks...\n2013-06-09 23:46:15 Verifying last 288 blocks at level 3\n2013-06-09 23:46:15 ERROR: CheckBlockHeader() : block timestamp too far in the future\n2013-06-09 23:46:15 ERROR: VerifyDB() : *** found bad block at 309600, hash=00000000cf90d9c6fd903d750c46eb1ce028b69d35006ded291e447bc0ac57b5\n\n2014-11-21 16:02:27 Aborted block database rebuild. Exiting.\n```\n\nEven though it's sort of a matter of perspective (\"is the system time or the block time wrong?\"), I would prefer a more gentle notice such as _\"A block with a timestamp too far in the future was found. Please check that your computer's date and time are correct. ... something-about-potential-db-corruption ...\"_.\n\nI suggest to refine this error message, and others probably as well, and provide further insight about what seems to be the underlying reason that caused such an exception.\n",
    "user": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/dexX7/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/dexX7/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 1,
    "closed_at": "2014-11-21T16:51:03Z",
    "created_at": "2014-11-21T16:48:21Z",
    "updated_at": "2021-09-08T12:33:27Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 64000434,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDAwNDM0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64000434",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-11-21T16:51:03Z",
      "updated_at": "2014-11-21T16:51:03Z",
      "author_association": "MEMBER",
      "body": "Seems like a duplicate of #2007 or #2001\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/5342#issuecomment-64000434",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5342"
    },
    {
      "event": "closed",
      "id": 196887633,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTk2ODg3NjMz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/196887633",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-11-21T16:51:03Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-02-16T12:20:36Z",
      "updated_at": "2016-02-16T12:20:36Z",
      "source": {
        "issue": {
          "id": 116379376,
          "node_id": "MDU6SXNzdWUxMTYzNzkzNzY=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6989",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6989/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6989/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6989/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/6989",
          "number": 6989,
          "state": "closed",
          "state_reason": "completed",
          "title": "Clock-warped node gets quietly wedged",
          "body": "If you accidentally warp your clock backwards far enough, you'll cause log noise and stall:\n\n```\n2015-11-11 12:34:56 ERROR: CheckBlockHeader(): block timestamp too far in the future\n2015-11-11 12:34:56 InvalidChainFound: invalid block=00000000000000000d22b34a54be999f4eadde2ee895c208d4b3dc0210aa044f  height=123456  log2_work=12.345678  date=2015-11-11 12:34:56\n2015-11-11 12:34:56 ERROR: ConnectTip(): ConnectBlock 00000000000000000d22b34a54be999f4eadde2ee895c208d4b3dc0210aa044f failed\n```\n\nbut after you restart, the futuristic-looking block causing the stall is still considered invalid and no more messages about it get logged.  If you miss the original message and you don't tend to scan backwards past the most recent startup, you'll see a comforting `LoadBlockIndexDB: hashBestChain=...` and `No coin database inconsistencies in last N blocks` at startup, and you'll see the node acquiring peers; you might see more `ConnectInputs failed` and `AcceptToMemoryPool: non-final` than usual, but nothing explicit to alert you to the fact that the longest chain is considered invalid, nor why.\n\n@laanwj suggests \"'timestamp too far in the future' is a temporary condition, it probably shouldn't cache it indefinitely\"; failing that, maybe it's easy enough to get caught in this trap that it merits an extra startup-time breadcrumb in the logs.\n",
          "user": {
            "login": "zw",
            "id": 263299,
            "node_id": "MDQ6VXNlcjI2MzI5OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/263299?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zw",
            "html_url": "https://github.com/zw",
            "followers_url": "https://api.github.com/users/zw/followers",
            "following_url": "https://api.github.com/users/zw/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/zw/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/zw/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/zw/subscriptions",
            "organizations_url": "https://api.github.com/users/zw/orgs",
            "repos_url": "https://api.github.com/users/zw/repos",
            "events_url": "https://api.github.com/users/zw/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/zw/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 2,
          "closed_at": "2020-04-24T20:18:27Z",
          "created_at": "2015-11-11T17:11:01Z",
          "updated_at": "2022-02-15T11:02:39Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 5272007267,
      "node_id": "LOE_lADOABII584C9qofzwAAAAE6PHJj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5272007267",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T12:33:27Z",
      "lock_reason": "resolved"
    }
  ]
}