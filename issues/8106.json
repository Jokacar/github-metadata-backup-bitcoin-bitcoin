{
  "type": "issue",
  "issue": {
    "id": 157118210,
    "node_id": "MDU6SXNzdWUxNTcxMTgyMTA=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8106",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8106/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8106/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8106/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/8106",
    "number": 8106,
    "state": "closed",
    "state_reason": "completed",
    "title": "Testnet/mainnet cross-reading of settings",
    "body": "In the settings, the Testnet seems to be reading from and setting some options for mainnet and not testnet. I have noticed this with at least the strDataDir option.\n\nReplication steps on Ubuntu 15.10\n1. Tail ~/.config/Bitcoin-Qt.conf and ~/.config/Bitcoin-Qt-testnet.conf\n2. Reset the testnet settings by going to Settings > Reset Options. Notice how the testnet conf file changes.\n3. Now start Bitcoin core with `-choosedatadir -testnet`.\n\nAfter the third step, you will see that the strDataDir setting is not added to the testnet conf but is added/changed in the normal conf file.\n",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 135946,
        "node_id": "MDU6TGFiZWwxMzU5NDY=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI",
        "name": "GUI",
        "color": "02d7e1",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 5,
    "closed_at": "2023-09-21T16:49:36Z",
    "created_at": "2016-05-27T02:35:26Z",
    "updated_at": "2023-09-21T16:49:37Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 222136902,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjEzNjkwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222136902",
      "actor": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-27T12:44:42Z",
      "updated_at": "2016-05-27T12:44:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "The settings overwritten by the GUI (`QSettings`) are stored/managed by QT. The filename is handled by Qt. I guess chaining the app name (using testnet switched the application name somewhere in init) could lead to a mixed settings read/write behavior.\n",
      "user": {
        "login": "jonasschnelli",
        "id": 178464,
        "node_id": "MDQ6VXNlcjE3ODQ2NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasschnelli",
        "html_url": "https://github.com/jonasschnelli",
        "followers_url": "https://api.github.com/users/jonasschnelli/followers",
        "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
        "repos_url": "https://api.github.com/users/jonasschnelli/repos",
        "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/8106#issuecomment-222136902",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8106"
    },
    {
      "event": "commented",
      "id": 222146186,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjE0NjE4Ng==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222146186",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-27T13:28:30Z",
      "updated_at": "2016-05-27T13:28:30Z",
      "author_association": "MEMBER",
      "body": "Are you starting with `-choosedatadir` or `-choosedatadir -testnet`?\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/8106#issuecomment-222146186",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8106"
    },
    {
      "event": "commented",
      "id": 222146685,
      "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjE0NjY4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/222146685",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2016-05-27T13:30:45Z",
      "updated_at": "2016-05-27T13:30:45Z",
      "author_association": "MEMBER",
      "body": "`-choosedatadir -testnet`\n\nOn May 27, 2016 9:28:54 AM MarcoFalke notifications@github.com wrote:\n\n> Are you starting with `-choosedatadir` or `-choosedatadir -testnet`?\n> \n> ---\n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly or view it on GitHub:\n> https://github.com/bitcoin/bitcoin/issues/8106#issuecomment-222146186\n",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/8106#issuecomment-222146685",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8106"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jarolrod",
        "id": 23396902,
        "node_id": "MDQ6VXNlcjIzMzk2OTAy",
        "avatar_url": "https://avatars.githubusercontent.com/u/23396902?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jarolrod",
        "html_url": "https://github.com/jarolrod",
        "followers_url": "https://api.github.com/users/jarolrod/followers",
        "following_url": "https://api.github.com/users/jarolrod/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jarolrod/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jarolrod/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jarolrod/subscriptions",
        "organizations_url": "https://api.github.com/users/jarolrod/orgs",
        "repos_url": "https://api.github.com/users/jarolrod/repos",
        "events_url": "https://api.github.com/users/jarolrod/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jarolrod/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-19T15:55:22Z",
      "updated_at": "2021-02-19T15:55:22Z",
      "source": {
        "issue": {
          "id": 811572485,
          "node_id": "MDU6SXNzdWU4MTE1NzI0ODU=",
          "url": "https://api.github.com/repos/bitcoin-core/gui/issues/212",
          "repository_url": "https://api.github.com/repos/bitcoin-core/gui",
          "labels_url": "https://api.github.com/repos/bitcoin-core/gui/issues/212/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/gui/issues/212/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/gui/issues/212/events",
          "html_url": "https://github.com/bitcoin-core/gui/issues/212",
          "number": 212,
          "state": "open",
          "state_reason": null,
          "title": "Testnet configuration is ignored",
          "body": "Running `bitcoin-qt.exe -testnet` creates a separate testnet QSettings called `Bitcoin-Qt-testnet`. I assume this was done on purpose, so you can easily run testnet settings in parallel to mainnet.\r\n\r\n**Expected behavior**\r\n\r\nChanging settings in the `Bitcoin-Qt-testnet` QSettings should be reflected in the Qt wallet when running with `-testnet`.\r\n\r\nFor example, on Windows the QSettings are stored in the registry. The testnet key is here:\r\n\r\n![image](https://user-images.githubusercontent.com/78885860/107659308-4d685500-6c87-11eb-87b0-79e5e87b1653.png)\r\n\r\n**Actual behavior**\r\n\r\nThe `Bitcoin-Qt-testnet` settings are ignored, and `Bitcoin-Qt` mainnet settings are used in stead.\r\n\r\n**To reproduce**\r\n\r\nOn a clean system, start the wallet for the first time in `-testnet` mode. In the start wizard, change any option (e.g. the path). Observe how all defaults are written to `Bitcoin-Qt-testnet`, but the updated settings are written to the (previously empty) `Bitcoin-Qt` QSettings:\r\n\r\n![image](https://user-images.githubusercontent.com/78885860/107662270-6aeaee00-6c8a-11eb-893c-ddbab9798c99.png)\r\n\r\n**What is happening**\r\n\r\nIt appears as if during the initialization of the app (while writing default settings), the appName (and QSettings based on appName) is still `QAPP_APP_NAME_TESTNET`. Yet later (when reading the settings) the app name changed to `QAPP_APP_NAME_DEFAULT`.\r\n\r\n**What causes this**\r\n\r\nPerhaps because here the appName is set to `QAPP_APP_NAME_DEFAULT`:\r\nhttps://github.com/bitcoin/bitcoin/blob/8e1913ae025ad8912457abe24ae5c61da02fc17a/src/qt/bitcoin.cpp#L496-L501\r\n\r\nRather than the one from the test NetworkStyle:\r\nhttps://github.com/bitcoin/bitcoin/blob/8e1913ae025ad8912457abe24ae5c61da02fc17a/src/qt/networkstyle.cpp#L14-L24\r\n\r\nPerhaps it would work as intended if we would use the NetworkStyle app name. E.g.:\r\n\r\n```diff\r\n    /// 3. Application identification\r\n    // must be set before OptionsModel is initialized or translations are loaded,\r\n    // as it is used to locate QSettings\r\n    QApplication::setOrganizationName(QAPP_ORG_NAME);\r\n    QApplication::setOrganizationDomain(QAPP_ORG_DOMAIN);\r\n-    QApplication::setApplicationName(QAPP_APP_NAME_DEFAULT);\r\n+    QApplication::setApplicationName(networkStyle->getAppName());\r\n```\r\n\r\n**System information**\r\n\r\nWindows 10\r\nBitcoin 0.21 precompiled\r\n\r\n**Extra info**\r\n\r\nIt is possible that the intended behavior was never finished and forgotten, or it was never intended to work the way I am assuming.\r\n\r\nOriginally found on Syscoin here: https://github.com/syscoin/syscoin/issues/417",
          "user": {
            "login": "beirut-boop",
            "id": 78885860,
            "node_id": "MDQ6VXNlcjc4ODg1ODYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/78885860?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/beirut-boop",
            "html_url": "https://github.com/beirut-boop",
            "followers_url": "https://api.github.com/users/beirut-boop/followers",
            "following_url": "https://api.github.com/users/beirut-boop/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/beirut-boop/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/beirut-boop/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/beirut-boop/subscriptions",
            "organizations_url": "https://api.github.com/users/beirut-boop/orgs",
            "repos_url": "https://api.github.com/users/beirut-boop/repos",
            "events_url": "https://api.github.com/users/beirut-boop/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/beirut-boop/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 2140649117,
              "node_id": "MDU6TGFiZWwyMTQwNjQ5MTE3",
              "url": "https://api.github.com/repos/bitcoin-core/gui/labels/Bug",
              "name": "Bug",
              "description": "Something isn't working",
              "color": "d73a4a",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 1,
          "created_at": "2021-02-19T00:11:41Z",
          "updated_at": "2021-02-19T15:55:22Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 790193404,
      "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDE5MzQwNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/790193404",
      "actor": {
        "login": "beirut-boop",
        "id": 78885860,
        "node_id": "MDQ6VXNlcjc4ODg1ODYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/78885860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/beirut-boop",
        "html_url": "https://github.com/beirut-boop",
        "followers_url": "https://api.github.com/users/beirut-boop/followers",
        "following_url": "https://api.github.com/users/beirut-boop/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/beirut-boop/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/beirut-boop/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/beirut-boop/subscriptions",
        "organizations_url": "https://api.github.com/users/beirut-boop/orgs",
        "repos_url": "https://api.github.com/users/beirut-boop/repos",
        "events_url": "https://api.github.com/users/beirut-boop/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/beirut-boop/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-04T00:44:26Z",
      "updated_at": "2021-03-04T00:44:26Z",
      "author_association": "NONE",
      "body": "Perhaps it would work as intended if we would use the NetworkStyle app name when locating QSettings. E.g.:\r\n\r\n```diff\r\n    /// 3. Application identification\r\n    // must be set before OptionsModel is initialized or translations are loaded,\r\n    // as it is used to locate QSettings\r\n    QApplication::setOrganizationName(QAPP_ORG_NAME);\r\n    QApplication::setOrganizationDomain(QAPP_ORG_DOMAIN);\r\n-    QApplication::setApplicationName(QAPP_APP_NAME_DEFAULT);\r\n+    QApplication::setApplicationName(networkStyle->getAppName());\r\n```\r\n\r\nBut I am not confident this is all there is to it.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/8e1913ae025ad8912457abe24ae5c61da02fc17a/src/qt/bitcoin.cpp#L496-L501\r\nhttps://github.com/bitcoin-core/gui/issues/212",
      "user": {
        "login": "beirut-boop",
        "id": 78885860,
        "node_id": "MDQ6VXNlcjc4ODg1ODYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/78885860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/beirut-boop",
        "html_url": "https://github.com/beirut-boop",
        "followers_url": "https://api.github.com/users/beirut-boop/followers",
        "following_url": "https://api.github.com/users/beirut-boop/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/beirut-boop/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/beirut-boop/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/beirut-boop/subscriptions",
        "organizations_url": "https://api.github.com/users/beirut-boop/orgs",
        "repos_url": "https://api.github.com/users/beirut-boop/repos",
        "events_url": "https://api.github.com/users/beirut-boop/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/beirut-boop/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/8106#issuecomment-790193404",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8106"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "beirut-boop",
        "id": 78885860,
        "node_id": "MDQ6VXNlcjc4ODg1ODYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/78885860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/beirut-boop",
        "html_url": "https://github.com/beirut-boop",
        "followers_url": "https://api.github.com/users/beirut-boop/followers",
        "following_url": "https://api.github.com/users/beirut-boop/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/beirut-boop/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/beirut-boop/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/beirut-boop/subscriptions",
        "organizations_url": "https://api.github.com/users/beirut-boop/orgs",
        "repos_url": "https://api.github.com/users/beirut-boop/repos",
        "events_url": "https://api.github.com/users/beirut-boop/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/beirut-boop/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-04T00:52:56Z",
      "updated_at": "2021-03-04T00:52:56Z",
      "source": {
        "issue": {
          "id": 806010416,
          "node_id": "MDU6SXNzdWU4MDYwMTA0MTY=",
          "url": "https://api.github.com/repos/syscoin/syscoin/issues/417",
          "repository_url": "https://api.github.com/repos/syscoin/syscoin",
          "labels_url": "https://api.github.com/repos/syscoin/syscoin/issues/417/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/syscoin/syscoin/issues/417/comments",
          "events_url": "https://api.github.com/repos/syscoin/syscoin/issues/417/events",
          "html_url": "https://github.com/syscoin/syscoin/issues/417",
          "number": 417,
          "state": "closed",
          "state_reason": "completed",
          "title": "[v4.2.0rc5] Testnet configuration is ignored.",
          "body": "<!-- Describe the issue -->\r\n\r\nWhen the app is run in `-testnet` mode, it creates a testnet `QSettings` using `QAPP_APP_NAME_TESTNET`.\r\n\r\nThis is by design, so mainnet and testnet can exist om same computer. Options such as `strDataDirSyscoin` can be specified to use different datadirs.\r\n\r\n**Expected behavior**\r\n\r\nWhen Qt client is run with the `-testnet` command line argument, use the settings from `QAPP_APP_NAME_TESTNET`.\r\n\r\n**Actual behavior**\r\n\r\nThe settings from `QAPP_APP_NAME_DEFAULT` are used in stead.\r\n\r\nAs a workaround, devs append hardcoded `testnet3` to the mainnet value read from `strDataDirSyscoin` setting. This is wrong, because it should use the `{QAPP_APP_NAME_TESTNET}/strDataDirSyscoin` value in stead. This value should have `testnet3` or `Syscoin-testnet3` as the default, rather than an append on the mainnet settings.\r\n\r\nThe problem probably starts here:\r\n\r\nhttps://github.com/syscoin/syscoin/blob/55ed9f2011f3e7ebe2881dbd1739d551ebf0c49c/src/qt/syscoin.cpp#L522-L527\r\n\r\nBecause `QAPP_APP_NAME_DEFAULT` is hardcoded while the actual settings key name is now tucked away in `NetworkStyle`:\r\n\r\nhttps://github.com/syscoin/syscoin/blob/55ed9f2011f3e7ebe2881dbd1739d551ebf0c49c/src/qt/networkstyle.cpp#L14-L24\r\n\r\n**To reproduce**\r\n\r\nChange testnet settings in the relevant location (on Windows it's the registry) and see how the setting is ignored.\r\n\r\n![image](https://user-images.githubusercontent.com/78885860/107593174-08a0d780-6c0f-11eb-8ab8-d7c490d54099.png)\r\n\r\n**System information**\r\n\r\nWindows 10 x64\r\nv4.2.0rc5 tagged release",
          "user": {
            "login": "beirut-boop",
            "id": 78885860,
            "node_id": "MDQ6VXNlcjc4ODg1ODYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/78885860?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/beirut-boop",
            "html_url": "https://github.com/beirut-boop",
            "followers_url": "https://api.github.com/users/beirut-boop/followers",
            "following_url": "https://api.github.com/users/beirut-boop/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/beirut-boop/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/beirut-boop/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/beirut-boop/subscriptions",
            "organizations_url": "https://api.github.com/users/beirut-boop/orgs",
            "repos_url": "https://api.github.com/users/beirut-boop/repos",
            "events_url": "https://api.github.com/users/beirut-boop/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/beirut-boop/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 9,
          "closed_at": "2021-03-04T00:52:56Z",
          "created_at": "2021-02-11T01:29:08Z",
          "updated_at": "2023-03-22T11:50:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-15T11:21:27Z",
      "updated_at": "2023-04-15T11:21:27Z",
      "source": {
        "issue": {
          "id": 1652385998,
          "node_id": "PR_kwDOABII585NgcIE",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27409",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27409/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27409/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27409/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27409",
          "number": 27409,
          "state": "open",
          "state_reason": null,
          "title": "Make GUI and CLI tools use the same datadir",
          "body": "**This is based on #27302.** The non-base commits are:\r\n\r\n- [`ae5fc323b24` bitcoin-wallet: make bitcoin-wallet tool load config file](https://github.com/bitcoin/bitcoin/pull/27409/commits/ae5fc323b2441bc45c38737f1ffb40d777b134d8)\r\n- [`b091d9b0762` init: Allow bitcoin default datadir to point at an external datadir](https://github.com/bitcoin/bitcoin/pull/27409/commits/b091d9b076204f69cc814353139d5bf0df412bae)\r\n- [`5855150efae` Make GUI and CLI tools use the same datadir](https://github.com/bitcoin/bitcoin/pull/27409/commits/5855150efae74d10e0eaf3bd08b06e8655a0f1ba)\r\n\r\n---\r\n\r\nCurrently if your choose a non-default datadir in the GUI intro screen, the datadir is ignored by CLI tools.\r\n\r\nThis PR makes GUI and CLI tools the same datadir setting by default. It is followup to https://github.com/bitcoin-core/gui/pull/602 which made GUI and CLI tools use the same settings as long as they loaded the same datadir.\r\n\r\nThe reason GUI and CLI tools use inconsistent datadirs is that GUI stores the datadir path in a `strDataDir` field in `.config/Bitcoin/Bitcoin-Qt.conf`[^1] which CLI tools ignore. This PR changes the GUI to instead store the datadir path at the default datadir location `~/.bitcoin`[^2] as a symlink that CLI tools will already follow, or as a text file if the filesystem does not support symlinks.\r\n\r\nIf upgrading from a previous version of the GUI and there is only a GUI datadir, the `strDataDir` setting will be automatically migrated to a symlink so CLI tools will start using it as well.\r\n\r\nIf upgrading and GUI and CLI tools are using different datadirs, the GUI will show a prompt allowing either of the datadirs to be loaded on startup, with an option to set one as the default going forward.\r\n\r\n[^1]: `strDataDir` value is stored in `.config/Bitcoin/Bitcoin-Qt.conf` on linux, in property list files on macos, and in registry keys on windows.\r\n[^2]: The default datadir location is `~/.bitcoin` on linux, `~/Library/Application Support/Bitcoin` on macos, and `%APPDATA%\\Bitcoin` on windows",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27409",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27409",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27409.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27409.patch"
          },
          "created_at": "2023-04-03T16:21:47Z",
          "updated_at": "2023-09-20T00:34:25Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T16:49:18Z",
      "updated_at": "2023-09-21T16:49:18Z",
      "source": {
        "issue": {
          "id": 1907384503,
          "node_id": "I_kwDOEEET9c5xsGC3",
          "url": "https://api.github.com/repos/bitcoin-core/gui/issues/759",
          "repository_url": "https://api.github.com/repos/bitcoin-core/gui",
          "labels_url": "https://api.github.com/repos/bitcoin-core/gui/issues/759/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/gui/issues/759/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/gui/issues/759/events",
          "html_url": "https://github.com/bitcoin-core/gui/issues/759",
          "number": 759,
          "state": "open",
          "state_reason": null,
          "title": " Testnet/mainnet cross-reading of settings",
          "body": "> In the settings, the Testnet seems to be reading from and setting some options for mainnet and not testnet. I have noticed this with at least the strDataDir option.\r\n> \r\n> Replication steps on Ubuntu 15.10\r\n> \r\n>     1. Tail ~/.config/Bitcoin-Qt.conf and ~/.config/Bitcoin-Qt-testnet.conf\r\n> \r\n>     2. Reset the testnet settings by going to Settings > Reset Options. Notice how the testnet conf file changes.\r\n> \r\n>     3. Now start Bitcoin core with `-choosedatadir -testnet`.\r\n> \r\n> \r\n> After the third step, you will see that the strDataDir setting is not added to the testnet conf but is added/changed in the normal conf file.\r\n\r\nOriginally https://github.com/bitcoin/bitcoin/issues/8106",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 0,
          "created_at": "2023-09-21T16:49:18Z",
          "updated_at": "2023-09-21T16:49:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1729951251,
      "node_id": "IC_kwDOABII585nHPYT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1729951251",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T16:49:36Z",
      "updated_at": "2023-09-21T16:49:36Z",
      "author_association": "MEMBER",
      "body": "Moved to GUI repo: https://github.com/bitcoin-core/gui/issues/759",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/8106#issuecomment-1729951251",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8106"
    },
    {
      "event": "closed",
      "id": 10438132731,
      "node_id": "CE_lADOABII584JXW8CzwAAAAJuKUP7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10438132731",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T16:49:36Z"
    }
  ]
}