{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553",
    "id": 1755036646,
    "node_id": "PR_kwDOABII585om7vm",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29553",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29553.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29553.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/032f8c28440d0b11d1a1db385a2fd17078dc8340",
    "number": 29553,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "assumeutxo: Add dumptxoutset height param, remove shell scripts",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This adds a height parameter to the `dumptxoutset` RPC. This internalizes the workflow that was previously done by scripts: roll back the chain to the height we actually want the snapshot from, create the snapshot, roll forward to the real tip again.\r\n\r\nThe nice thing about internalizing this functionality is that we can write tests for the code and it gives us more options to make the functionality robust. The shell scripts we have so far will be more cumbersome to maintain in the long run, especially since we will only notice later when we have broken them. I think it's safe to remove these `test_utxo_snapshots.sh` as well when we have this option in `dumptxoutset` because we have also added some good additional functional test coverage for this functionality.",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2024-03-04T15:58:11Z",
    "updated_at": "2024-07-15T07:28:54Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "9b74e39361c7aeebf4ad42c50db6d26977b22d4f",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "BrandonOdiwuor",
        "id": 15610188,
        "node_id": "MDQ6VXNlcjE1NjEwMTg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/15610188?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BrandonOdiwuor",
        "html_url": "https://github.com/BrandonOdiwuor",
        "followers_url": "https://api.github.com/users/BrandonOdiwuor/followers",
        "following_url": "https://api.github.com/users/BrandonOdiwuor/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BrandonOdiwuor/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BrandonOdiwuor/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BrandonOdiwuor/subscriptions",
        "organizations_url": "https://api.github.com/users/BrandonOdiwuor/orgs",
        "repos_url": "https://api.github.com/users/BrandonOdiwuor/repos",
        "events_url": "https://api.github.com/users/BrandonOdiwuor/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BrandonOdiwuor/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "alfonsoromanz",
        "id": 19962151,
        "node_id": "MDQ6VXNlcjE5OTYyMTUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/19962151?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alfonsoromanz",
        "html_url": "https://github.com/alfonsoromanz",
        "followers_url": "https://api.github.com/users/alfonsoromanz/followers",
        "following_url": "https://api.github.com/users/alfonsoromanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/alfonsoromanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/alfonsoromanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/alfonsoromanz/subscriptions",
        "organizations_url": "https://api.github.com/users/alfonsoromanz/orgs",
        "repos_url": "https://api.github.com/users/alfonsoromanz/repos",
        "events_url": "https://api.github.com/users/alfonsoromanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/alfonsoromanz/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "fjahr:2024-03-dumptxoutset-height",
      "ref": "2024-03-dumptxoutset-height",
      "sha": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 196253948,
        "node_id": "MDEwOlJlcG9zaXRvcnkxOTYyNTM5NDg=",
        "name": "bitcoin",
        "full_name": "fjahr/bitcoin",
        "owner": {
          "login": "fjahr",
          "id": 1322187,
          "node_id": "MDQ6VXNlcjEzMjIxODc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/fjahr",
          "html_url": "https://github.com/fjahr",
          "followers_url": "https://api.github.com/users/fjahr/followers",
          "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
          "organizations_url": "https://api.github.com/users/fjahr/orgs",
          "repos_url": "https://api.github.com/users/fjahr/repos",
          "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/fjahr/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/fjahr/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/fjahr/bitcoin",
        "archive_url": "https://api.github.com/repos/fjahr/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/fjahr/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/fjahr/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/fjahr/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/fjahr/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/fjahr/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/fjahr/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/fjahr/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/fjahr/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/fjahr/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/fjahr/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/fjahr/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/fjahr/bitcoin/events",
        "forks_url": "https://api.github.com/repos/fjahr/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/fjahr/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/fjahr/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/fjahr/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/fjahr/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/fjahr/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/fjahr/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/fjahr/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/fjahr/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/fjahr/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/fjahr/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/fjahr/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/fjahr/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/fjahr/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/fjahr/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/fjahr/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:fjahr/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/fjahr/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/fjahr/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/fjahr/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/fjahr/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/fjahr/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/fjahr/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/fjahr/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/fjahr/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/fjahr/bitcoin/hooks",
        "svn_url": "https://github.com/fjahr/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 249517,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-12T22:53:51Z",
        "created_at": "2019-07-10T18:11:06Z",
        "updated_at": "2024-04-27T19:57:43Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "66114cd45bcf37cd3cd6b2152311585d5e5560f6",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35643,
        "stargazers_count": 77203,
        "watchers_count": 77203,
        "size": 263011,
        "default_branch": "master",
        "open_issues_count": 687,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-15T04:33:33Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-07-15T07:58:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 213,
    "deletions": 381,
    "changed_files": 8,
    "commits": 7,
    "review_comments": 27,
    "comments": 12
  },
  "events": [
    {
      "event": "commented",
      "id": 1976911164,
      "node_id": "IC_kwDOABII58511UU8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1976911164",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-04T15:58:15Z",
      "updated_at": "2024-07-11T16:50:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29553).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [theStack](https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-1977099942), [Sjors](https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-1978480989), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-1980783607), [BrandonOdiwuor](https://github.com/bitcoin/bitcoin/pull/29553#pullrequestreview-1919888870) |\n| Stale ACK | [alfonsoromanz](https://github.com/bitcoin/bitcoin/pull/29553#pullrequestreview-2033825476), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/29553#pullrequestreview-2132676568) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-1976911164",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    },
    {
      "event": "commented",
      "id": 1977099942,
      "node_id": "IC_kwDOABII58512Cam",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1977099942",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-04T17:25:27Z",
      "updated_at": "2024-03-04T17:25:27Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nNice idea. I think it makes sense to do the rollback (and roll forward after dump creation) directly in the RPC call, rather than relying on potentially fragile and poorly maintained shell scripts. One suggestion: on pruned nodes, the RPC should fail early if the block of the snapshot height is below the pruned block height, similar like what the script does:\r\nhttps://github.com/bitcoin/bitcoin/blob/98005b6a17907c4f7bdcf802ee96c274492f902a/contrib/devtools/utxo_snapshot.sh#L34-L37\r\n\r\nI'm neutral about removing `test_utxo_snapshots.sh`. This seems to be more meant like an interactive demo to get familiar with AssumeUTXO and as such could still make sense for some?",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-1977099942",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    },
    {
      "event": "reviewed",
      "id": 1914795143,
      "node_id": "PRR_kwDOABII585yIXSH",
      "url": null,
      "actor": null,
      "commit_id": "0325335ec019620ba388ec9cef7971b21746931f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#pullrequestreview-1914795143",
      "submitted_at": "2024-03-04T18:21:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
    },
    {
      "event": "commented",
      "id": 1977283372,
      "node_id": "IC_kwDOABII58512vMs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1977283372",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-04T19:14:21Z",
      "updated_at": "2024-03-04T19:14:21Z",
      "author_association": "MEMBER",
      "body": "Seems like this should freeze indexes, wallets, etc and hold a lock so nothing else happens during the process...?",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-1977283372",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    },
    {
      "event": "commented",
      "id": 1978480989,
      "node_id": "IC_kwDOABII58517Tld",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978480989",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T10:51:12Z",
      "updated_at": "2024-03-05T10:51:12Z",
      "author_association": "MEMBER",
      "body": "Concept ACK. But rather than relying on block invalidation, I would prefer to have a clean rollback. That would be useful as it's own RPC too: turn off network, call `rollback N/HASH`, turn on network and it will sync normally. See #29565.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-1978480989",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    },
    {
      "event": "commented",
      "id": 1980783607,
      "node_id": "IC_kwDOABII5852EFv3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1980783607",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-06T12:40:21Z",
      "updated_at": "2024-03-06T12:40:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-1980783607",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    },
    {
      "event": "reviewed",
      "id": 1919888870,
      "node_id": "PRR_kwDOABII585yby3m",
      "url": null,
      "actor": null,
      "commit_id": "0325335ec019620ba388ec9cef7971b21746931f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\ngreat idea moving `InvalidateBlock` and `ReconsiderBlock` to the `dumputxoset` RPC instead of relying on shell scripts",
      "user": {
        "login": "BrandonOdiwuor",
        "id": 15610188,
        "node_id": "MDQ6VXNlcjE1NjEwMTg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/15610188?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BrandonOdiwuor",
        "html_url": "https://github.com/BrandonOdiwuor",
        "followers_url": "https://api.github.com/users/BrandonOdiwuor/followers",
        "following_url": "https://api.github.com/users/BrandonOdiwuor/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BrandonOdiwuor/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BrandonOdiwuor/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BrandonOdiwuor/subscriptions",
        "organizations_url": "https://api.github.com/users/BrandonOdiwuor/orgs",
        "repos_url": "https://api.github.com/users/BrandonOdiwuor/repos",
        "events_url": "https://api.github.com/users/BrandonOdiwuor/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BrandonOdiwuor/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#pullrequestreview-1919888870",
      "submitted_at": "2024-03-06T14:20:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
    },
    {
      "event": "labeled",
      "id": 12107196545,
      "node_id": "LE_lADOABII586BLJvCzwAAAALRpSiB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12107196545",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T17:50:50Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12140857324,
      "node_id": "HRFPE_lADOABII586BLJvCzwAAAALTpsfs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12140857324",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-16T20:37:24Z"
    },
    {
      "event": "unlabeled",
      "id": 12140874543,
      "node_id": "UNLE_lADOABII586BLJvCzwAAAALTpwsv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12140874543",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-16T20:47:07Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2002129556,
      "node_id": "IC_kwDOABII5853VhKU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2002129556",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-16T20:57:39Z",
      "updated_at": "2024-03-16T20:57:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for all the comments! Rebased and addressed feedback.\r\n\r\n> One suggestion: on pruned nodes, the RPC should fail early if the block of the snapshot height is below the pruned block height\r\n\r\nAdded, good idea!\r\n\r\n> I'm neutral about removing test_utxo_snapshots.sh. This seems to be more meant like an interactive demo to get familiar with AssumeUTXO and as such could still make sense for some?\r\n\r\nYeah, I was kind of aiming at that when I wrote \"TBD if we need additional documentation.\". Since your comment I have been thinking about it a bit more but because that script requires the person that runs it to change the code and recompile bitcoin core I think its audience was always just a tiny group, particularly I think it was useful for reviewers of the concept and code in the early days. Going forward it should be more valuable if we instead document the code properly to make it easy to grasp for contributors (the same goes for the functional tests where we essentially go through similar steps as the script) and for users we should provide easy documentation that explains the usage of the feature properly but doesn't require changing the code.\r\n\r\nI have added another commit where I am splitting off a part of the previous design doc into a separate, usage-focused doc. Let me know what you think and if you have ideas for making the usage doc more complete.\r\n\r\n> Seems like this should freeze indexes, wallets, etc, and hold a lock so nothing else happens during the process...?\r\n\r\n> But rather than relying on block invalidation, I would prefer to have a clean rollback.\r\n\r\nI think these requests are essentially the same, or at least the ideal solution to both of these will look similar.\r\n\r\nFor now, I have only added that I am setting the network to inactive and I will now work on a draft for the clean rollback. But I am still pushing this here now because I think this is already an improvement as-is and the clean rollback may be a bigger change that could also be done as a follow-up, so I don't think review needs to be blocked here. I will report back on the rollback progress here soon.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-2002129556",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    },
    {
      "event": "reviewed",
      "id": 1941530208,
      "node_id": "PRR_kwDOABII585zuWZg",
      "url": null,
      "actor": null,
      "commit_id": "5da057c5330a49122873b9d5f5a44aea9bff1a8d",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#pullrequestreview-1941530208",
      "submitted_at": "2024-03-17T16:46:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
    },
    {
      "event": "commented",
      "id": 2003837404,
      "node_id": "IC_kwDOABII5853cCHc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2003837404",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T12:56:03Z",
      "updated_at": "2024-03-18T12:56:03Z",
      "author_association": "MEMBER",
      "body": "> > Seems like this should freeze indexes, wallets, etc, and hold a lock so nothing else happens during the process...?\r\n> \r\n> > But rather than relying on block invalidation, I would prefer to have a clean rollback.\r\n> \r\n> I think these requests are essentially the same, or at least the ideal solution to both of these will look similar.\r\n\r\nAnother approach, suggested by @maflcko in #29565 is to rewind the UTXO set inside of a cache. If that cache is kept isolated from the rest of the node, then indexes and wallets are not affected. It's also safe to abort the process, worst case just leaving a large temp file around.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-2003837404",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    },
    {
      "event": "mentioned",
      "id": 12151643204,
      "node_id": "MEE_lADOABII586BLJvCzwAAAALUS1xE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12151643204",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T12:56:05Z"
    },
    {
      "event": "subscribed",
      "id": 12151643240,
      "node_id": "SE_lADOABII586BLJvCzwAAAALUS1xo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12151643240",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T12:56:05Z"
    },
    {
      "event": "commented",
      "id": 2003847400,
      "node_id": "IC_kwDOABII5853cEjo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2003847400",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T13:00:34Z",
      "updated_at": "2024-03-18T13:00:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Another approach, suggested by @maflcko in #29565 is to rewind the UTXO set inside of a cache. If that cache is kept isolated from the rest of the node, then indexes and wallets are not affected. It's also safe to abort the process, worst case just leaving a large temp file around.\r\n\r\nYes, I have a similar approach in mind. I think that is the cleanest solution if it's feasible in terms of complexity.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-2003847400",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    },
    {
      "event": "mentioned",
      "id": 12151710479,
      "node_id": "MEE_lADOABII586BLJvCzwAAAALUTGMP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12151710479",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T13:00:36Z"
    },
    {
      "event": "subscribed",
      "id": 12151710503,
      "node_id": "SE_lADOABII586BLJvCzwAAAALUTGMn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12151710503",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T13:00:36Z"
    },
    {
      "event": "labeled",
      "id": 12188444317,
      "node_id": "LE_lADOABII586BLJvCzwAAAALWfOad",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12188444317",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T17:09:28Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12190707596,
      "node_id": "HRFPE_lADOABII586BLJvCzwAAAALWn2-M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12190707596",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T20:04:56Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12191580246,
      "node_id": "HRFPE_lADOABII586BLJvCzwAAAALWrMBW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12191580246",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T21:28:05Z"
    },
    {
      "event": "unlabeled",
      "id": 12191631393,
      "node_id": "UNLE_lADOABII586BLJvCzwAAAALWrYgh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12191631393",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T21:33:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 12237338700,
      "node_id": "LE_lADOABII586BLJvCzwAAAALZZvhM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12237338700",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-25T16:27:54Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12240085579,
      "node_id": "HRFPE_lADOABII586BLJvCzwAAAALZkOJL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12240085579",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-25T20:01:33Z"
    },
    {
      "event": "unlabeled",
      "id": 12240635448,
      "node_id": "UNLE_lADOABII586BLJvCzwAAAALZmUY4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12240635448",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-25T20:52:36Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 12588000304,
      "node_id": "LE_lADOABII586BLJvCzwAAAALuTaQw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12588000304",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-24T08:30:21Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "reviewed",
      "id": 2033825476,
      "node_id": "PRR_kwDOABII5855ObbE",
      "url": null,
      "actor": null,
      "commit_id": "c83d7a5dec3595abe4cc6c8dcb29a016c6905a98",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code Review and Tested ACK c83d7a5dec3595abe4cc6c8dcb29a016c6905a98. My impression is that this PR is good enough as is, unless there is a specific issue with `invalidate`/`reconsider` block that I am not aware of. \r\n\r\nThis will not only prevent errors (by internalizing and testing code previously ran in scripts) but will also offer an easy way for users to create a snapshot from a specific height via RPC. If the rollback functionality gets implemented after this PR is merged, it seems straightforward to change this code to: (1) use the rollback instead of the `invalidateBlock`, and (2) remove the `ReconsiderBlock` call as the node will sync to the tip again. So I don't think the rollback feature should be a blocker for this PR.\r\n\r\nNote: for testing I ran `test/functional/feature_assumeutxo.py` to make sure the test passes, and also modified line 391 to load the snapshot created by this new test in node2, to make sure the snapshot is loaded successfully too. i.e (line 391)\r\n`loaded = n2.loadtxoutset(dump_output2['path'])`",
      "user": {
        "login": "alfonsoromanz",
        "id": 19962151,
        "node_id": "MDQ6VXNlcjE5OTYyMTUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/19962151?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alfonsoromanz",
        "html_url": "https://github.com/alfonsoromanz",
        "followers_url": "https://api.github.com/users/alfonsoromanz/followers",
        "following_url": "https://api.github.com/users/alfonsoromanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/alfonsoromanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/alfonsoromanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/alfonsoromanz/subscriptions",
        "organizations_url": "https://api.github.com/users/alfonsoromanz/orgs",
        "repos_url": "https://api.github.com/users/alfonsoromanz/repos",
        "events_url": "https://api.github.com/users/alfonsoromanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/alfonsoromanz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#pullrequestreview-2033825476",
      "submitted_at": "2024-05-01T15:25:15Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
    },
    {
      "event": "review_requested",
      "id": 12671722607,
      "node_id": "RRE_lADOABII586BLJvCzwAAAALzSyRv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12671722607",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-01T15:25:19Z",
      "requested_reviewer": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 12671722726,
      "node_id": "RRE_lADOABII586BLJvCzwAAAALzSyTm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12671722726",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-01T15:25:19Z",
      "requested_reviewer": {
        "login": "BrandonOdiwuor",
        "id": 15610188,
        "node_id": "MDQ6VXNlcjE1NjEwMTg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/15610188?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BrandonOdiwuor",
        "html_url": "https://github.com/BrandonOdiwuor",
        "followers_url": "https://api.github.com/users/BrandonOdiwuor/followers",
        "following_url": "https://api.github.com/users/BrandonOdiwuor/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BrandonOdiwuor/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BrandonOdiwuor/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BrandonOdiwuor/subscriptions",
        "organizations_url": "https://api.github.com/users/BrandonOdiwuor/orgs",
        "repos_url": "https://api.github.com/users/BrandonOdiwuor/repos",
        "events_url": "https://api.github.com/users/BrandonOdiwuor/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BrandonOdiwuor/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 12671722831,
      "node_id": "RRE_lADOABII586BLJvCzwAAAALzSyVP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12671722831",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-01T15:25:20Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 12671722935,
      "node_id": "RRE_lADOABII586BLJvCzwAAAALzSyW3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12671722935",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-01T15:25:21Z",
      "requested_reviewer": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "labeled",
      "id": 13043173081,
      "node_id": "LE_lADOABII586BLJvCzwAAAAMJbwbZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13043173081",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-05T00:10:43Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13063397291,
      "node_id": "HRFPE_lADOABII586BLJvCzwAAAAMKo5-r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13063397291",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-06T09:00:38Z"
    },
    {
      "event": "commented",
      "id": 2151786093,
      "node_id": "IC_kwDOABII586AQaZt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2151786093",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-06T09:07:50Z",
      "updated_at": "2024-06-06T09:07:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased\r\n\r\n> My impression is that this PR is good enough as is, unless there is a specific issue with invalidate/reconsider block that I am not aware of.\r\n\r\n> If the rollback functionality gets implemented after this PR is merged, it seems straightforward to change this code\r\n\r\nYes, either way, this PR should be an improvement. I am still planning to do the rollback in a cleaner way but if this PR is merged before that is ready, there should be no overhead resulting from that. It would become a refactoring follow-up that does not change the RPC interface again.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-2151786093",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    },
    {
      "event": "reviewed",
      "id": 2101363203,
      "node_id": "PRR_kwDOABII5859QEID",
      "url": null,
      "actor": null,
      "commit_id": "71b9fa96bfe1c936ecb10d3e5d1b95b7d24f9ea8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#pullrequestreview-2101363203",
      "submitted_at": "2024-06-06T09:15:45Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
    },
    {
      "event": "unlabeled",
      "id": 13063813765,
      "node_id": "UNLE_lADOABII586BLJvCzwAAAAMKqfqF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13063813765",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-06T09:33:14Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13068665225,
      "node_id": "HRFPE_lADOABII586BLJvCzwAAAAMK9AGJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13068665225",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-06T15:30:26Z"
    },
    {
      "event": "commented",
      "id": 2158443019,
      "node_id": "IC_kwDOABII586ApzoL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2158443019",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-10T13:53:59Z",
      "updated_at": "2024-06-10T13:53:59Z",
      "author_association": "MEMBER",
      "body": "> I am still planning to do the rollback in a cleaner way but[...] It would become a refactoring follow-up that does not change the RPC interface again.\r\n\r\nThat makes sense.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-2158443019",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    },
    {
      "event": "reviewed",
      "id": 2132676568,
      "node_id": "PRR_kwDOABII585_Hg_Y",
      "url": null,
      "actor": null,
      "commit_id": "6a5408dd7da4c31283cb4f632b3a7aa692a53ca3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 6a5408dd7da4c31283cb4f632b3a7aa692a53ca3. This is a really nice improvement over existing shell scripts, with a surprisingly simple implementation. I left some suggestions, but none are important and this looks good to merge in its current form. ",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#pullrequestreview-2132676568",
      "submitted_at": "2024-06-21T20:03:19Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
    },
    {
      "event": "review_requested",
      "id": 13246668153,
      "node_id": "RRE_lADOABII586BLJvCzwAAAAMVkB15",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13246668153",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-21T20:03:22Z",
      "requested_reviewer": {
        "login": "alfonsoromanz",
        "id": 19962151,
        "node_id": "MDQ6VXNlcjE5OTYyMTUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/19962151?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alfonsoromanz",
        "html_url": "https://github.com/alfonsoromanz",
        "followers_url": "https://api.github.com/users/alfonsoromanz/followers",
        "following_url": "https://api.github.com/users/alfonsoromanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/alfonsoromanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/alfonsoromanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/alfonsoromanz/subscriptions",
        "organizations_url": "https://api.github.com/users/alfonsoromanz/orgs",
        "repos_url": "https://api.github.com/users/alfonsoromanz/repos",
        "events_url": "https://api.github.com/users/alfonsoromanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/alfonsoromanz/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "referenced",
      "id": 13461006935,
      "node_id": "REFE_lADOABII586BLJvCzwAAAAMiVqpX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13461006935",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f4849f692270f341f353806c44f2c1849879a6bf",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f4849f692270f341f353806c44f2c1849879a6bf",
      "created_at": "2024-07-10T19:27:19Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU1NDBiOWE5ODc0MDdmZTA3NGM0ZWFiYWQ3NzdjNzRhMTAyYjg3OTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5540b9a987407fe074c4eabad777c74a102b8794",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5540b9a987407fe074c4eabad777c74a102b8794",
      "tree": {
        "sha": "4d49f7e57dc6523018937f50ca088fa4d055cd3d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4d49f7e57dc6523018937f50ca088fa4d055cd3d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4d49f7e57dc6523018937f50ca088fa4d055cd3d\nparent 9b480f7a25a737c9c4ebc33401e94d66c2da9ec3\nauthor Fabian Jahr <fjahr@protonmail.com> 1709393820 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1720697729 +0100\n\nRPC: Extract InvalidateBlock helper\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmaPw4IVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNy6YP/AiaUYZtxbNIpZxzc6rvrM8pExB9\n2h+5KffgajK1NUdOUfFSOBwlm00J9p4iIz5gTgR7n8TWRk7Gl5oxY8L91aloTrl0\neace28F5kj/3sFgm9YLZQcT61P9wE1TGFML7FzOPUDt79bX36+Q+8PO2Pg3vH1pv\njXhkcGuELCfT9s7QQZM7Btn9bnW9+qqJwnAedVvzyRn2Yem9gLkXO3wcTKtHwMGZ\nrvnYnxoOlYZasZco0JCzZMEyrOxWD0QYKMqp/TSvZdAWWv4tiwVkQ1gzEfSTP2Ro\n2yhBGrKQq4mQroF+5DH2jyVps3YJ7UCM8Pvlgw7sQF6ph25qW5NgWCrXJkXA6doP\n2ZJR4TjqvjG05out0MxMoIqjruDFlPDm1kq80OulVTfL9a/QJbdc2K/5xBCN8UNE\nbZMfaPbQPGZc7n0ch0Z8NX4ANozKu8PpaRBODz7PjZe7Knm+8Rmfr0+X0SkYOsQE\nJ7Wwt8KtBmD5t/6BkuSUd0PTIMqgcTjNRG5k4qTnBZeX2xEdPQXOx3Vm6zpkjz5l\nS/kAEeVJ/VKT2o5P0W+N/aFuV2GN8Dm74y9XM1+IKZQh/pLNC1VVdVCtTNeAK4Sj\ntkEENs8SF+XlkJU179+AhXqsgpwsI9WQ3PKl3HDPAPYLMoC6YVM83VMLkUOGWdez\nq0c/aZ8eNtSHa/N0\n=D8R6\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9b480f7a25a737c9c4ebc33401e94d66c2da9ec3",
          "sha": "9b480f7a25a737c9c4ebc33401e94d66c2da9ec3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9b480f7a25a737c9c4ebc33401e94d66c2da9ec3"
        }
      ],
      "message": "RPC: Extract InvalidateBlock helper",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-07-11T11:35:29Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-02T15:37:00Z"
      },
      "sha": "5540b9a987407fe074c4eabad777c74a102b8794"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhhZTk2Mjc4OWQwODgzZTQ4ZWM2NjcxMGQ4ZGExMDNjODg2NDE2NGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ae962789d0883e48ec66710d8da103c8864164a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8ae962789d0883e48ec66710d8da103c8864164a",
      "tree": {
        "sha": "981452292bb0434907af5fabf6813ab1c625e97b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/981452292bb0434907af5fabf6813ab1c625e97b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 981452292bb0434907af5fabf6813ab1c625e97b\nparent 5540b9a987407fe074c4eabad777c74a102b8794\nauthor Fabian Jahr <fjahr@protonmail.com> 1709394147 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1720697732 +0100\n\nRPC: Extract ReconsiderBlock helper\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmaPw4QVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jN0gcP/0OU17nsHCBRYUQC+15tk5HqFVYu\n6PomGIFhnsktF24PvkuidEBdQvDk4pTyC5rXF82NdIWUZd1ej4oLuGMuki8I84nZ\n+9M/4aKgtls8BGylKpka5HOfE8kaBB6eM+5veeaazMJF6rQoNQLYbDAZbiT7kBEg\nRorAu919YLhko02/4K0e2f8uyAP5K/MPNVTRStgWT8NJcyq1z1HDHk/e2zP5olG2\nlW4FgFlp0kDyBCt+7TcOYATrgezUe5EDkVWSRRbk1K5hwa468enpHHHrpPCNIyHI\ncX3KbsKzTEHltLcv+z9pCWe3z6K49bf45bC6EkvV0UlXc6RtCXsh0qeFPCr71w/d\nrl6aBDqtjoSckWXu16pGvYpq+d2DONhqLcltofbPw0Rn8GJ0GBcihhKgBBkmI07C\nbZOK5LEus8NplKtf/eH4t0UwZR5+F4fOjb6jO88f9LvnlNiFdOSoJDhTB5Waq0rk\nr1e0wHLa49vuhOn+zETOK7pHvKzuC3pLwuaozOSog274MLd26EHQUcxqf6yyxJPo\nfogAYYtEcgkNg7QzqHGnus5ewavulpoSD7oIncsU7QzBzGNnsixrmg2vUtjgMfrY\nGKSOVaq/ogjDy3LkiF6A0P4OoPYiVRlrSXsJHg/jMnKLkVHx0yekZOrgdOPi69cB\noCTkL+f9mjKt2JDW\n=CBtV\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5540b9a987407fe074c4eabad777c74a102b8794",
          "sha": "5540b9a987407fe074c4eabad777c74a102b8794",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5540b9a987407fe074c4eabad777c74a102b8794"
        }
      ],
      "message": "RPC: Extract ReconsiderBlock helper",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-07-11T11:35:32Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-02T15:42:27Z"
      },
      "sha": "8ae962789d0883e48ec66710d8da103c8864164a"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13474660145,
      "node_id": "HRFPE_lADOABII586BLJvCzwAAAAMjJv8x",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13474660145",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-11T16:50:39Z"
    },
    {
      "event": "labeled",
      "id": 13478549642,
      "node_id": "LE_lADOABII586BLJvCzwAAAAMjYliK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13478549642",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-11T21:58:51Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVkZjYwZmI0OWNmYWUxZTNhNTZiNjhlMmY0M2ZmMDcyMmYzOWFiYjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5df60fb49cfae1e3a56b68e2f43ff0722f39abb7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5df60fb49cfae1e3a56b68e2f43ff0722f39abb7",
      "tree": {
        "sha": "7ae58b40e22098efdae5e43c083142ad73fceacf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7ae58b40e22098efdae5e43c083142ad73fceacf"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7ae58b40e22098efdae5e43c083142ad73fceacf\nparent 8ae962789d0883e48ec66710d8da103c8864164a\nauthor Fabian Jahr <fjahr@protonmail.com> 1709394238 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1720739268 +0100\n\nRPC: Add height parameter to dumptxoutset\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmaQZcUVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNrHwP/AhQWC6FB9AJbXIshmOxXSRmQo8b\nQ0isEBK0iGgbAN3WSTe+tZKeie8tls6bC7bG1bvLNJmeVqKvZ0V3chOfUFGv4FK9\nUw8CXfiOI0qnxiGeq9r59sal5kj6Ie98SCS7+kyst+A7QX1YW1vnY4EedN7LBb2S\nEiHk0tWY2vagEwBkAzZoUdnC5ox7jZrloMJJzZJtnCMM2MOTY/3DlMBYFIgvuqEM\nEk6lStxdPVwRd3VgQo1iztcHPHMabtxrWrJ7bwHjaaJbkDwUPmZcBBHNyW2kiI19\nTTJkxJOScBjguTyYHPb0TYaLNwCUrh1OztEkMd2wef4IHd1W5M+VOIAd5U4ZhEvt\nL1xhM8KGfrNscqlIgDGQuHHpFZ0NYOX57mtKzglgdjuipnR1W5djhDbavqGjtZmW\nYSI1oiTs9gEIzteGl6C+884RN5sbBju6bCfaLH8FpCEW5IQubtg7QeRFFfLrUB8G\nhzzQLFibrSmCQJ3LAgGoV3jcVnmoHJVfhgZDCNFQNlheQGscZ3ml/qcBY8dqKYbh\nDrw6NezdflGG1agSD/y4g76w8dla6m6X2mpbFAq0nTkVxD5n6P5/g47wEs2f2z3a\nRqpM4FVykzl9PZwKTCOLvt4UvRAgxS6AMboPb7asVh9sqqeOBPBUGfGlV0ULBMRL\nemkTutPhM/I7GU7K\n=g7Mp\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ae962789d0883e48ec66710d8da103c8864164a",
          "sha": "8ae962789d0883e48ec66710d8da103c8864164a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8ae962789d0883e48ec66710d8da103c8864164a"
        }
      ],
      "message": "RPC: Add height parameter to dumptxoutset",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-07-11T23:07:48Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-02T15:43:58Z"
      },
      "sha": "5df60fb49cfae1e3a56b68e2f43ff0722f39abb7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE5ZWUyNWRmM2VjZWIwNDYyYjBjN2RhYzJlMDAxYTRmYWE1NzVmNjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a9ee25df3eceb0462b0c7dac2e001a4faa575f60",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a9ee25df3eceb0462b0c7dac2e001a4faa575f60",
      "tree": {
        "sha": "899dc85217edd82b314399bca3050bb7c47b632d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/899dc85217edd82b314399bca3050bb7c47b632d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 899dc85217edd82b314399bca3050bb7c47b632d\nparent 5df60fb49cfae1e3a56b68e2f43ff0722f39abb7\nauthor Fabian Jahr <fjahr@protonmail.com> 1709400387 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1720739271 +0100\n\ntest: Test for dumptxoutset at specific height\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmaQZccVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNhgkP/i8enAMltrUOQ6zWIY1l91giJdml\njPeP96hiMSMHXoI/AJmku5OxtSs+nFKz4692ZtGM1wMHzKDyzJOYJ682wuWcWc4M\nV7//9xmfczKTDU3gdFBsmzglUKTOZxHdwmdmvDUiWS891amutYJX99GoEoiSvow8\nPCvFAsm9nR22NoS3vJKwYaNvjkQG7+QGDREjjYzzFQKEodKfaS3B9m7vFv5x06fq\nNYiQW8A4l9fO0An+FVPpJ2ZgC4He4GRcCvGvCg1G9gnNzMpLXxMTWcB5e6wHz/Y+\nsB2XtB6OBAdsGZkzqMF5DK7pg2oUabGFZ4MqrOntQwnKdOne2yWDKVayU2kgH3Zu\nTcW7LP4PijhdBqdcAdPXgt+J/n7uC5UHrFTAdzPzZJSrRWwv2pW1nf12A5XIC5VO\n8ZskipqBk8zV4wuUENEI1DKoQ6Q3ZJ1ABgOv9hk73/ncfK2d6gNGygiUZrPDE14H\nUtmUVodQEnmp0H6qWKm7KDvfz7jB6nXIKaJVpT6KdrTUyo5PBefIRwEWOPRtk9UY\n63cKSp/NiH43rXdiVIGpJBnNnkfSuHIdP9F7NOqc3hfVgC69W4F+YBgSV+gMc5Yp\nyOXIOR8pXDhdasFtqPdksvNxfZUikospZDMo0wPKElWs25yWdZIQwDSIoXrOXo7Q\nly6ljpATjckRaMQ+\n=uCwO\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5df60fb49cfae1e3a56b68e2f43ff0722f39abb7",
          "sha": "5df60fb49cfae1e3a56b68e2f43ff0722f39abb7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5df60fb49cfae1e3a56b68e2f43ff0722f39abb7"
        }
      ],
      "message": "test: Test for dumptxoutset at specific height",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-07-11T23:07:51Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-02T17:26:27Z"
      },
      "sha": "a9ee25df3eceb0462b0c7dac2e001a4faa575f60"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk3Yzc5OGQyZWI5N2IxMWQwMWEyMjZiZTcxYjVhMTc5Mjk2YzNiMjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/97c798d2eb97b11d01a226be71b5a179296c3b27",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/97c798d2eb97b11d01a226be71b5a179296c3b27",
      "tree": {
        "sha": "5e1b69c67c4c65d7ef326856cde61480cf9d23be",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5e1b69c67c4c65d7ef326856cde61480cf9d23be"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5e1b69c67c4c65d7ef326856cde61480cf9d23be\nparent a9ee25df3eceb0462b0c7dac2e001a4faa575f60\nauthor Fabian Jahr <fjahr@protonmail.com> 1709400487 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1720739271 +0100\n\ncontrib: Remove test_utxo_snapshots.sh\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmaQZccVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNU0QP/Aluy7PR09P0zE7jRxX0XvCNvZ7K\nJAysNHY0Y5ZIs1Xg6Ie4nS6NJhu0B7wUWXpD7Oi+yBlTJNy/I4D/GmJ1D/9LR88H\n48LoTkGdFxVsGu/zf0CuJYAFZ+TxUczCNxPIM+8Se25+tLg1OOAV+KgY+XUf9hrk\nfpdYsralpJanCK/LMyh5C/QjmzleSweLxt+a+YN9tDU5O+RpWsc5OQA/Ic0iag70\nYzIJNPxVeSmgIkslY+f6zCpn9drcdyaWKw6bdT2c539olH5/KG9npgESWaiZQESE\nvC/PFsWdBE6miVeiI3nUYbGle0TWiWpVDaGhcisprseADo19AGVSn+PQnHRK8vIV\nleLOx3+OJfObJBIUVIoTt2MquiglaIznpi0rRCcLU2y30MkumfyQeSlfNBSqRfDE\n0HZBiKCAry6A8xcZFUZmp1vLGXV2GxZomoA0Rh9ywrdpsYokJmc5nGhrFcHU73UU\nR56v10WxYeVPr5XjT34d/6r+GKRjxU7KBuHjaJAkUidfkuoHyeqXQp0BrP06G1D0\nylMf6EsCak2aqWc/+qqA7W6WJjDMjSOkTCpc7q2lWPzsGFrgQpmaFLnLhWy1ZFwu\nLl3VtklGp9Fzn67I2IHI2zY7TWY4dXc7WlCB/cWfT6VRnQwP/Z9/zjQhoTJOkZnq\ns+VVCrJWCkuHFn/F\n=XE6Q\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a9ee25df3eceb0462b0c7dac2e001a4faa575f60",
          "sha": "a9ee25df3eceb0462b0c7dac2e001a4faa575f60",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a9ee25df3eceb0462b0c7dac2e001a4faa575f60"
        }
      ],
      "message": "contrib: Remove test_utxo_snapshots.sh",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-07-11T23:07:51Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-02T17:28:07Z"
      },
      "sha": "97c798d2eb97b11d01a226be71b5a179296c3b27"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcxYjE4MmM5ZTgxZDQzOTM5MDc0YWUxZmNlMTUzYzg5NjRkOWQxMzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71b182c9e81d43939074ae1fce153c8964d9d134",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/71b182c9e81d43939074ae1fce153c8964d9d134",
      "tree": {
        "sha": "a98b8d13ce2580f7472088868dada8b1bcb265dc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a98b8d13ce2580f7472088868dada8b1bcb265dc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a98b8d13ce2580f7472088868dada8b1bcb265dc\nparent 97c798d2eb97b11d01a226be71b5a179296c3b27\nauthor Fabian Jahr <fjahr@protonmail.com> 1709565269 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1720739271 +0100\n\nassumeutxo: Remove devtools/utxo_snapshot.sh\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmaQZccVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNfH0P/1etcoJDhI8b64+XMNoZ50KzTp0P\nbzTqrstcPndO18dICwwY96A9r4xULYlhwOp+gzWGhsxRg/sSWcVu3ioSX7KfeBDr\nODG0RefmKh1RoZUGc/RP/8sLOhl+WTMgphcJ35rZHeThO2dPDFOQzCBzc1P6EEg1\nZBBH0gmgu1g98xnW+Q+PvIR88vDzdkEXaR13KmHM4GC27p1iBAo9NT/CRqsi5xPF\nkDzUwYSpkm53NwRuQ5k4I1MzDlKGEfd/SV67vqsPWYuGO1zQ1O1tFhXPVpLXbit5\nU1lOmcnVXkNbANCu478cC7LQupaIcJBsY2RDRgKx+8Y7NahLGB70fuE3lOhAcSk9\nakarW7vh8GKAaInEmgk9aBlS5yeQ6K2clYm6+OiPBJ1BqJxYuOE4/YnCZL+dalG0\nX8sRyIj5F0HY+pq2FS4h0DV1+A1lBFfFxnD7ia1h0mOqvwoMPi9uhQBKvR0tycaH\nMMK2OPxkBxqYqUTuma8XL0sZrmU+lCdlzUT6cJ/guK4V1wqxX/C5UfipyjCD99FX\nRgWYFhqg71tBllrNtgICf+nAcflEmuVq6aKEvE8+MVvTjayx9i7WRagj7CvfqT/K\nhxECWhV7IWnoa0jzLf47TV847A+dYoFu+vev+amQOxucTYSLOS2PAPd08zWh0FCF\n2QOw9Y01tcV/B8ZY\n=N8Jy\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/97c798d2eb97b11d01a226be71b5a179296c3b27",
          "sha": "97c798d2eb97b11d01a226be71b5a179296c3b27",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/97c798d2eb97b11d01a226be71b5a179296c3b27"
        }
      ],
      "message": "assumeutxo: Remove devtools/utxo_snapshot.sh",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-07-11T23:07:51Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-04T15:14:29Z"
      },
      "sha": "71b182c9e81d43939074ae1fce153c8964d9d134"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13479122564,
      "node_id": "HRFPE_lADOABII586BLJvCzwAAAAMjaxaE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13479122564",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-11T23:22:50Z"
    },
    {
      "event": "unlabeled",
      "id": 13482164120,
      "node_id": "UNLE_lADOABII586BLJvCzwAAAAMjmX-Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13482164120",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-12T05:43:26Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAzMmY4YzI4NDQwZDBiMTFkMWExZGIzODVhMmZkMTcwNzhkYzgzNDA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "tree": {
        "sha": "97c266b84b0d3af79121fd8781d2c31494573c45",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/97c266b84b0d3af79121fd8781d2c31494573c45"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 97c266b84b0d3af79121fd8781d2c31494573c45\nparent 71b182c9e81d43939074ae1fce153c8964d9d134\nauthor Fabian Jahr <fjahr@protonmail.com> 1710621388 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1720775955 +0100\n\ndoc: Improve assumeutxo guide and add more docs/comments\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmaQ9TMVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNitQP/1IdovqqAlNj2GVyupQI4pBjwWG/\nwjg+6GclIx5gnUdgtu1A65rv7BMsY2FBOJvGzfCc9Sj3iYGKpAD6cTX3IcV33FkL\nhVkKjETDNm6KTrpPUbXmWSDFuLGqUyIPgQzGQI/ZW4GaNryiBAnNoo24DCBemT/K\nGCJgWL7XR6P+/4InNlgbibq1gcYYvbASrRAP+B6lw/Vkfk7qQ7xXZiipqbEHfILn\nyvP9t65p0SUj3nEfDY+soJbPLdaEo9k7BTUFqWjtU162FAHIKrrUFY8b74uztvxo\nToJboGDcalwtutaM5WURiexVTCEP9R3Y+nZSpYVUyAcExwCzjWTtj9PWf/YMeHKZ\n5fBhRNvZ/iEZsbcwRermHHgPfnXe2jxi1s50ijlbv4C1sMPH84iHQIxArokisoRK\nGU2mE31REbmeL+t4GXhRUa8H5XgphhwnbET1k6BtHsJVkMjIY88uP9v1+GnhEVQh\nP0eIoSKwL7AJ9JZevCs6PMAHww6OPBodDe/2Ct5WddY37yw3fykb1/RyAI3FjtHA\nRajHwPLOZlyYhyJZdBGN6YenOCRQRM8z87VzTeKD2a1phLHELS/UFr/ocxsJgoPg\nHGZCp1TJwRDG2IS+pagrw6JtFwiN3JgTtHnwaGaCkJwSTU5wmD0atpYgja32wpb5\nvXmVK22ktRTxkSrO\n=XUoN\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71b182c9e81d43939074ae1fce153c8964d9d134",
          "sha": "71b182c9e81d43939074ae1fce153c8964d9d134",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/71b182c9e81d43939074ae1fce153c8964d9d134"
        }
      ],
      "message": "doc: Improve assumeutxo guide and add more docs/comments",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-07-12T09:19:15Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-16T20:36:28Z"
      },
      "sha": "032f8c28440d0b11d1a1db385a2fd17078dc8340"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13484510243,
      "node_id": "HRFPE_lADOABII586BLJvCzwAAAAMjvUwj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13484510243",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-12T09:19:56Z"
    },
    {
      "event": "commented",
      "id": 2225269474,
      "node_id": "IC_kwDOABII586Eouri",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2225269474",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-12T10:17:52Z",
      "updated_at": "2024-07-12T10:17:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased and addressed feedback from @ryanofsky and @maflcko, thank you! This now includes the check for undo data since this was made possible by merge of https://github.com/bitcoin/bitcoin/pull/29668.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-2225269474",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    },
    {
      "event": "mentioned",
      "id": 13485195781,
      "node_id": "MEE_lADOABII586BLJvCzwAAAAMjx8IF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13485195781",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-12T10:17:53Z"
    },
    {
      "event": "subscribed",
      "id": 13485195795,
      "node_id": "SE_lADOABII586BLJvCzwAAAAMjx8IT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13485195795",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-12T10:17:53Z"
    },
    {
      "event": "mentioned",
      "id": 13485195811,
      "node_id": "MEE_lADOABII586BLJvCzwAAAAMjx8Ij",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13485195811",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-12T10:17:53Z"
    },
    {
      "event": "subscribed",
      "id": 13485195824,
      "node_id": "SE_lADOABII586BLJvCzwAAAAMjx8Iw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13485195824",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-12T10:17:53Z"
    },
    {
      "event": "commented",
      "id": 2227858355,
      "node_id": "IC_kwDOABII586Eymuz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2227858355",
      "actor": {
        "login": "Asma1665",
        "id": 162090440,
        "node_id": "U_kgDOCalNyA",
        "avatar_url": "https://avatars.githubusercontent.com/u/162090440?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Asma1665",
        "html_url": "https://github.com/Asma1665",
        "followers_url": "https://api.github.com/users/Asma1665/followers",
        "following_url": "https://api.github.com/users/Asma1665/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Asma1665/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Asma1665/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Asma1665/subscriptions",
        "organizations_url": "https://api.github.com/users/Asma1665/orgs",
        "repos_url": "https://api.github.com/users/Asma1665/repos",
        "events_url": "https://api.github.com/users/Asma1665/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Asma1665/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-15T07:28:53Z",
      "updated_at": "2024-07-15T07:28:53Z",
      "author_association": "NONE",
      "body": "Revarse my assist",
      "user": {
        "login": "Asma1665",
        "id": 162090440,
        "node_id": "U_kgDOCalNyA",
        "avatar_url": "https://avatars.githubusercontent.com/u/162090440?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Asma1665",
        "html_url": "https://github.com/Asma1665",
        "followers_url": "https://api.github.com/users/Asma1665/followers",
        "following_url": "https://api.github.com/users/Asma1665/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Asma1665/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Asma1665/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Asma1665/subscriptions",
        "organizations_url": "https://api.github.com/users/Asma1665/orgs",
        "repos_url": "https://api.github.com/users/Asma1665/repos",
        "events_url": "https://api.github.com/users/Asma1665/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Asma1665/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#issuecomment-2227858355",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29553"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1511457747",
      "pull_request_review_id": 1914795143,
      "id": 1511457747,
      "node_id": "PRRC_kwDOABII585aFwPT",
      "diff_hunk": "@@ -2621,10 +2624,30 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+        invalidate_index = WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Next(target_index));\n+        InvalidateBlock(*node.chainman, invalidate_index->GetBlockHash());\n+        const CBlockIndex* new_tip_index{WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Tip())};\n+        // In case there is any issue with a block being read from disc due to\n+        // pruning for example, we need to stop here, otherwise the dump would\n+        // still be greated for the wrong height.",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "c2f62ebc44767bbc6795cb3036d4d28b5f21ffe8",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "```suggestion\r\n        // still be created for the wrong height.\r\n```",
      "created_at": "2024-03-04T16:40:35Z",
      "updated_at": "2024-03-04T18:21:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1511457747",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1511457747"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2636,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1511469672",
      "pull_request_review_id": 1914795143,
      "id": 1511469672,
      "node_id": "PRRC_kwDOABII585aFzJo",
      "diff_hunk": "@@ -210,6 +213,13 @@ def run_test(self):\n \n         assert_equal(n0.getblockchaininfo()[\"blocks\"], FINAL_HEIGHT)\n \n+        self.log.info(f\"Check that dumptxoutsetinfo works for past block heights\")\n+        dump_output2 = n0.dumptxoutset('utxos2.dat', SNAPSHOT_BASE_HEIGHT)\n+        check_dump_output(dump_output2)",
      "path": "test/functional/feature_assumeutxo.py",
      "position": 35,
      "original_position": 25,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "a480d9748b29c5467c038b3f73c0845f7ee27f70",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: could additionally check that the two dump file contents are equal, e.g.\r\n```diff\r\ndiff --git a/test/functional/feature_assumeutxo.py b/test/functional/feature_assumeutxo.py\r\nindex 71c3c2c096..a9ba96ae25 100755\r\n--- a/test/functional/feature_assumeutxo.py\r\n+++ b/test/functional/feature_assumeutxo.py\r\n@@ -39,6 +39,7 @@ from test_framework.test_framework import BitcoinTestFramework\r\n from test_framework.util import (\r\n     assert_equal,\r\n     assert_raises_rpc_error,\r\n+    sha256sum_file,\r\n )\r\n from test_framework.wallet import (\r\n     getnewdestination,\r\n@@ -216,6 +217,7 @@ class AssumeutxoTest(BitcoinTestFramework):\r\n         self.log.info(f\"Check that dumptxoutsetinfo works for past block heights\")\r\n         dump_output2 = n0.dumptxoutset('utxos2.dat', SNAPSHOT_BASE_HEIGHT)\r\n         check_dump_output(dump_output2)\r\n+        assert_equal(sha256sum_file(dump_output['path']), sha256sum_file(dump_output2['path']))\r\n \r\n         # Ensure n0 is back at the tip\r\n         assert_equal(n0.getblockchaininfo()[\"blocks\"], FINAL_HEIGHT)\r\n``` ",
      "created_at": "2024-03-04T16:49:23Z",
      "updated_at": "2024-03-04T18:21:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1511469672",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1511469672"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": 332,
      "original_start_line": 216,
      "start_side": "RIGHT",
      "line": 334,
      "original_line": 334,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1527253589",
      "pull_request_review_id": 1941317857,
      "id": 1527253589,
      "node_id": "PRRC_kwDOABII585bCApV",
      "diff_hunk": "@@ -2621,10 +2624,30 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+        invalidate_index = WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Next(target_index));\n+        InvalidateBlock(*node.chainman, invalidate_index->GetBlockHash());\n+        const CBlockIndex* new_tip_index{WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Tip())};\n+        // In case there is any issue with a block being read from disc due to\n+        // pruning for example, we need to stop here, otherwise the dump would\n+        // still be greated for the wrong height.",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "c2f62ebc44767bbc6795cb3036d4d28b5f21ffe8",
      "in_reply_to_id": 1511457747,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "fixed",
      "created_at": "2024-03-16T20:37:56Z",
      "updated_at": "2024-03-16T20:37:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1527253589",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1527253589"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2636,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1527253605",
      "pull_request_review_id": 1941317864,
      "id": 1527253605,
      "node_id": "PRRC_kwDOABII585bCApl",
      "diff_hunk": "@@ -210,6 +213,13 @@ def run_test(self):\n \n         assert_equal(n0.getblockchaininfo()[\"blocks\"], FINAL_HEIGHT)\n \n+        self.log.info(f\"Check that dumptxoutsetinfo works for past block heights\")\n+        dump_output2 = n0.dumptxoutset('utxos2.dat', SNAPSHOT_BASE_HEIGHT)\n+        check_dump_output(dump_output2)",
      "path": "test/functional/feature_assumeutxo.py",
      "position": 35,
      "original_position": 25,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "a480d9748b29c5467c038b3f73c0845f7ee27f70",
      "in_reply_to_id": 1511469672,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "added",
      "created_at": "2024-03-16T20:38:01Z",
      "updated_at": "2024-03-16T20:38:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1527253605",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1527253605"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": 332,
      "original_start_line": 216,
      "start_side": "RIGHT",
      "line": 334,
      "original_line": 334,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1527560566",
      "pull_request_review_id": 1941530208,
      "id": 1527560566,
      "node_id": "PRRC_kwDOABII585bDLl2",
      "diff_hunk": "@@ -2646,10 +2649,53 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(::cs_main);\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "5da057c5330a49122873b9d5f5a44aea9bff1a8d",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This actually isn't a fully sufficient check because we could be missing the undo data. I am addressing this here: #29668",
      "created_at": "2024-03-17T16:46:30Z",
      "updated_at": "2024-03-17T18:59:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1527560566",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1527560566"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2671,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629099295",
      "pull_request_review_id": 2101363203,
      "id": 1629099295,
      "node_id": "PRRC_kwDOABII585hGhUf",
      "diff_hunk": "@@ -2646,10 +2657,53 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(::cs_main);\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};\n+            if (first_block->nHeight > target_index->nHeight) {\n+                throw JSONRPCError(RPC_MISC_ERROR, \"Could not roll back to requested height since necessary block data is already pruned.\");\n+            }\n+        }\n+\n+        // Suspend network activity for the duration of the process when we are\n+        // rolling back the chain to get a utxo set from a past height.\n+        connman.SetNetworkActive(false);\n+        if (connman.GetNetworkActive()) {\n+            throw JSONRPCError(RPC_MISC_ERROR, \"Network activity could not be suspended.\");\n+        }\n+\n+        invalidate_index = WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Next(target_index));\n+        InvalidateBlock(*node.chainman, invalidate_index->GetBlockHash());\n+        const CBlockIndex* new_tip_index{WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Tip())};\n+\n+        // In case there is any issue with a block being read from disc we need",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 140,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "71b9fa96bfe1c936ecb10d3e5d1b95b7d24f9ea8",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Another issue could be that a sister block of `invalidate_index` was activated instead, if one exists? If so, could make sense to mention that as well.",
      "created_at": "2024-06-06T09:13:55Z",
      "updated_at": "2024-06-06T09:15:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1629099295",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629099295"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2688,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629101713",
      "pull_request_review_id": 2101363203,
      "id": 1629101713,
      "node_id": "PRRC_kwDOABII585hGh6R",
      "diff_hunk": "@@ -2646,10 +2657,53 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(::cs_main);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 121,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "71b9fa96bfe1c936ecb10d3e5d1b95b7d24f9ea8",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "style nit for new code, here and elsewhere: Could make sense to use the chainman.GetMutex() alias for chainman locking, instead of the global cs_main?",
      "created_at": "2024-06-06T09:15:29Z",
      "updated_at": "2024-06-06T09:15:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1629101713",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629101713"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2669,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629758949",
      "pull_request_review_id": 2102318274,
      "id": 1629758949,
      "node_id": "PRRC_kwDOABII585hJCXl",
      "diff_hunk": "@@ -2646,10 +2657,53 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(::cs_main);\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};\n+            if (first_block->nHeight > target_index->nHeight) {\n+                throw JSONRPCError(RPC_MISC_ERROR, \"Could not roll back to requested height since necessary block data is already pruned.\");\n+            }\n+        }\n+\n+        // Suspend network activity for the duration of the process when we are\n+        // rolling back the chain to get a utxo set from a past height.\n+        connman.SetNetworkActive(false);\n+        if (connman.GetNetworkActive()) {\n+            throw JSONRPCError(RPC_MISC_ERROR, \"Network activity could not be suspended.\");\n+        }\n+\n+        invalidate_index = WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Next(target_index));\n+        InvalidateBlock(*node.chainman, invalidate_index->GetBlockHash());\n+        const CBlockIndex* new_tip_index{WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Tip())};\n+\n+        // In case there is any issue with a block being read from disc we need",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 140,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "71b9fa96bfe1c936ecb10d3e5d1b95b7d24f9ea8",
      "in_reply_to_id": 1629099295,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, interesting edge case! I extended the comment.",
      "created_at": "2024-06-06T15:30:34Z",
      "updated_at": "2024-06-06T15:30:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1629758949",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629758949"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2688,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629759103",
      "pull_request_review_id": 2102318499,
      "id": 1629759103,
      "node_id": "PRRC_kwDOABII585hJCZ_",
      "diff_hunk": "@@ -2646,10 +2657,53 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(::cs_main);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 121,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "71b9fa96bfe1c936ecb10d3e5d1b95b7d24f9ea8",
      "in_reply_to_id": 1629101713,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2024-06-06T15:30:40Z",
      "updated_at": "2024-06-06T15:30:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1629759103",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629759103"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2669,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1648974658",
      "pull_request_review_id": 2132676568,
      "id": 1648974658,
      "node_id": "PRRC_kwDOABII585iSVtC",
      "diff_hunk": "@@ -2654,10 +2657,56 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(node.chainman->GetMutex());\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};\n+            if (first_block->nHeight > target_index->nHeight) {\n+                throw JSONRPCError(RPC_MISC_ERROR, \"Could not roll back to requested height since necessary block data is already pruned.\");\n+            }\n+        }\n+\n+        // Suspend network activity for the duration of the process when we are\n+        // rolling back the chain to get a utxo set from a past height.\n+        connman.SetNetworkActive(false);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"RPC: Add height parameter to dumptxoutset\" (2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364)\r\n\r\nI don't think it's sufficient to call `connman.SetNetworkActive()` manually in this function, because the InvalidateBlock and ReconsiderBlock functions called here can both throw exceptions and leave the network disabled after this RPC call if there is an error. Would suggest making a NetworkDisable disable_network{connman}; RAII class that disables the network in its constructor and enables it in its destructor to improve the error handling.\r\n\r\nAlso, can there be a comment to say why this is suspending network activity? I'm not actually sure why that is needed, since presumably networking code should not download invalid blocks, so it's not clear what effect this has.",
      "created_at": "2024-06-21T13:34:20Z",
      "updated_at": "2024-06-21T20:03:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1648974658",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1648974658"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2679,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1648975246",
      "pull_request_review_id": 2132676568,
      "id": 1648975246,
      "node_id": "PRRC_kwDOABII585iSV2O",
      "diff_hunk": "@@ -2654,10 +2657,56 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(node.chainman->GetMutex());\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};\n+            if (first_block->nHeight > target_index->nHeight) {\n+                throw JSONRPCError(RPC_MISC_ERROR, \"Could not roll back to requested height since necessary block data is already pruned.\");\n+            }\n+        }\n+\n+        // Suspend network activity for the duration of the process when we are\n+        // rolling back the chain to get a utxo set from a past height.\n+        connman.SetNetworkActive(false);\n+        if (connman.GetNetworkActive()) {\n+            throw JSONRPCError(RPC_MISC_ERROR, \"Network activity could not be suspended.\");\n+        }\n+\n+        invalidate_index = WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Next(target_index));\n+        InvalidateBlock(*node.chainman, invalidate_index->GetBlockHash());\n+        const CBlockIndex* new_tip_index{WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Tip())};\n+\n+        // In case there is any issue with a block being read from disc we need",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"RPC: Add height parameter to dumptxoutset\" (2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364)\r\n\r\ns/disc/disk/",
      "created_at": "2024-06-21T13:34:51Z",
      "updated_at": "2024-06-21T20:03:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1648975246",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1648975246"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2688,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1648979413",
      "pull_request_review_id": 2132676568,
      "id": 1648979413,
      "node_id": "PRRC_kwDOABII585iSW3V",
      "diff_hunk": "@@ -2646,10 +2649,53 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(::cs_main);\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "5da057c5330a49122873b9d5f5a44aea9bff1a8d",
      "in_reply_to_id": 1527560566,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"RPC: Add height parameter to dumptxoutset\" (2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364)\r\n\r\n> This actually isn't a fully sufficient check because we could be missing the undo data. I am addressing this here: #29668\r\n\r\nCan you say what the problem is in a code comment so it is clear what current behavior is? Comment can removed when the problem is fixed later.",
      "created_at": "2024-06-21T13:38:22Z",
      "updated_at": "2024-06-21T20:03:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1648979413",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1648979413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2671,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1649320665",
      "pull_request_review_id": 2132676568,
      "id": 1649320665,
      "node_id": "PRRC_kwDOABII585iTqLZ",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+# Assumeutxo Usage\n+\n+Assumeutxo is a feature that allows fast bootstrapping of a validating bitcoind\n+instance.\n+\n+For notes on the design of Assumeutxo, please refer to [the design doc](/doc/assumeutxo.md).\n+\n+## Loading a snapshot\n+\n+There is currently no canonical source for snapshots, but any downloaded snapshot\n+will be checked against a hash that's been hardcoded in source code. If there is\n+no source for the snapshot you need, you can generate it yourself using",
      "path": "doc/assumeutxo.md",
      "position": 12,
      "original_position": 12,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "6a5408dd7da4c31283cb4f632b3a7aa692a53ca3",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"doc: Improve guide for usage of assumeutxo\" (6a5408dd7da4c31283cb4f632b3a7aa692a53ca3)\r\n\r\nMaybe say \"generate it yourself from another node\" to be clear you need a different node to generate it.",
      "created_at": "2024-06-21T18:47:03Z",
      "updated_at": "2024-06-21T20:03:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1649320665",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1649320665"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 12,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1649328350",
      "pull_request_review_id": 2132676568,
      "id": 1649328350,
      "node_id": "PRRC_kwDOABII585iTsDe",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+# Assumeutxo Usage\n+\n+Assumeutxo is a feature that allows fast bootstrapping of a validating bitcoind\n+instance.\n+\n+For notes on the design of Assumeutxo, please refer to [the design doc](/doc/assumeutxo.md).\n+\n+## Loading a snapshot\n+\n+There is currently no canonical source for snapshots, but any downloaded snapshot\n+will be checked against a hash that's been hardcoded in source code. If there is\n+no source for the snapshot you need, you can generate it yourself using\n+`dumptxoutset` (see [Generating a snapshot](#generating-a-snapshot)).\n+\n+Once you've obtained the snapshot, you can use the RPC command `loadtxoutset` to\n+load it.\n+\n+```\n+$ bitcoin-cli loadtxoutset /path/to/input\n+```\n+\n+After the snapshot has loaded, the syncing process of both the snapshot chain\n+and the background IBD chain can be monitored with the `getchainstates` RPC.\n+\n+### Pruning\n+\n+A pruned node can load a snapshot. To save space, it's possible to delete the\n+snapshot file as soon as `loadtxoutset` finishes.\n+\n+The minimum `-prune` setting is 550 MiB, but this functionality ignores that\n+minimum and uses at least 1100 MiB.\n+\n+As the background sync continues there will be temporarily two chainstate\n+directories, each multiple gigabytes in size (likely growing larger than the\n+downloaded snapshot).\n+\n+### Indexes\n+\n+Indexes work but don't take advantage of this feature. They always start building\n+from the genesis block. Once the background validation reaches the snapshot block,\n+indexes will continue to build all the way to the tip.\n+\n+For indexes that support pruning, note that no pruning will take place between\n+the snapshot and the tip, until the background sync has completed - after which",
      "path": "doc/assumeutxo.md",
      "position": 45,
      "original_position": 44,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "6a5408dd7da4c31283cb4f632b3a7aa692a53ca3",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"doc: Improve guide for usage of assumeutxo\" (6a5408dd7da4c31283cb4f632b3a7aa692a53ca3)\r\n\r\nIs it true that no pruning will take place between the snapshot and the tip? I haven't experimented but it looks like GetPruneRange will only return a minimum prune height for the snapshot chainstate, not the background chainstate.",
      "created_at": "2024-06-21T18:56:27Z",
      "updated_at": "2024-06-21T20:03:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1649328350",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1649328350"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": 44,
      "original_start_line": 43,
      "start_side": "RIGHT",
      "line": 45,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1649333656",
      "pull_request_review_id": 2132676568,
      "id": 1649333656,
      "node_id": "PRRC_kwDOABII585iTtWY",
      "diff_hunk": "@@ -2615,6 +2615,9 @@ static RPCHelpMan dumptxoutset()\n         \"Write the serialized UTXO set to a file.\",\n         {\n             {\"path\", RPCArg::Type::STR, RPCArg::Optional::NO, \"Path to the output file. If relative, will be prefixed by datadir.\"},\n+            {\"height\", RPCArg::Type::NUM, RPCArg::DefaultHint{\"the current tip\"},",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"RPC: Add height parameter to dumptxoutset\" (2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364)\r\n\r\nFor a followup, it might be convenient if height value defaulted to the last height value which could actually be loaded as a snapshot. It could also accept a \"latest\" string value in case the user does want to generate the latest snapshot.",
      "created_at": "2024-06-21T19:02:48Z",
      "updated_at": "2024-06-21T20:03:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1649333656",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1649333656"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2618,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1649335464",
      "pull_request_review_id": 2132676568,
      "id": 1649335464,
      "node_id": "PRRC_kwDOABII585iTtyo",
      "diff_hunk": "@@ -2654,10 +2657,56 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(node.chainman->GetMutex());\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};\n+            if (first_block->nHeight > target_index->nHeight) {\n+                throw JSONRPCError(RPC_MISC_ERROR, \"Could not roll back to requested height since necessary block data is already pruned.\");\n+            }\n+        }\n+\n+        // Suspend network activity for the duration of the process when we are\n+        // rolling back the chain to get a utxo set from a past height.\n+        connman.SetNetworkActive(false);\n+        if (connman.GetNetworkActive()) {\n+            throw JSONRPCError(RPC_MISC_ERROR, \"Network activity could not be suspended.\");\n+        }\n+\n+        invalidate_index = WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Next(target_index));\n+        InvalidateBlock(*node.chainman, invalidate_index->GetBlockHash());\n+        const CBlockIndex* new_tip_index{WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Tip())};",
      "path": "src/rpc/blockchain.cpp",
      "position": 185,
      "original_position": 40,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"RPC: Add height parameter to dumptxoutset\" (2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364)\r\n\r\nIt seems racy to unlock cs_main before calling CreateUTXOSnapshot. Not sure if there is a way to implement this in a race-free way without looping though. Could be something to follow up on later.",
      "created_at": "2024-06-21T19:05:07Z",
      "updated_at": "2024-06-21T20:03:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1649335464",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1649335464"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2762,
      "original_line": 2762,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1649378681",
      "pull_request_review_id": 2132676568,
      "id": 1649378681,
      "node_id": "PRRC_kwDOABII585iT4V5",
      "diff_hunk": "@@ -2615,6 +2615,9 @@ static RPCHelpMan dumptxoutset()\n         \"Write the serialized UTXO set to a file.\",",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 1,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit \"RPC: Add height parameter to dumptxoutset\" (https://github.com/bitcoin/bitcoin/commit/2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364)\r\n\r\nDocumentation here is really terse. For a folluwup , I think it would be nice to add some of the documentation from the usage guide to the RPC documentation so it is more accessible. ",
      "created_at": "2024-06-21T20:00:10Z",
      "updated_at": "2024-06-21T20:03:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1649378681",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1649378681"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2615,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674351835",
      "pull_request_review_id": 2172478988,
      "id": 1674351835,
      "node_id": "PRRC_kwDOABII585jzJTb",
      "diff_hunk": "@@ -2615,6 +2615,9 @@ static RPCHelpMan dumptxoutset()\n         \"Write the serialized UTXO set to a file.\",",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 1,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": 1649378681,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added a bit more detail in the docs improvement commit.",
      "created_at": "2024-07-11T16:50:41Z",
      "updated_at": "2024-07-11T16:50:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1674351835",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674351835"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2615,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674351982",
      "pull_request_review_id": 2172479172,
      "id": 1674351982,
      "node_id": "PRRC_kwDOABII585jzJVu",
      "diff_hunk": "@@ -2654,10 +2657,56 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(node.chainman->GetMutex());\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};\n+            if (first_block->nHeight > target_index->nHeight) {\n+                throw JSONRPCError(RPC_MISC_ERROR, \"Could not roll back to requested height since necessary block data is already pruned.\");\n+            }\n+        }\n+\n+        // Suspend network activity for the duration of the process when we are\n+        // rolling back the chain to get a utxo set from a past height.\n+        connman.SetNetworkActive(false);\n+        if (connman.GetNetworkActive()) {\n+            throw JSONRPCError(RPC_MISC_ERROR, \"Network activity could not be suspended.\");\n+        }\n+\n+        invalidate_index = WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Next(target_index));\n+        InvalidateBlock(*node.chainman, invalidate_index->GetBlockHash());\n+        const CBlockIndex* new_tip_index{WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Tip())};",
      "path": "src/rpc/blockchain.cpp",
      "position": 185,
      "original_position": 40,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": 1649335464,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Leaving this for a follow-up for now.",
      "created_at": "2024-07-11T16:50:46Z",
      "updated_at": "2024-07-11T16:50:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1674351982",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674351982"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2762,
      "original_line": 2762,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674352105",
      "pull_request_review_id": 2172479324,
      "id": 1674352105,
      "node_id": "PRRC_kwDOABII585jzJXp",
      "diff_hunk": "@@ -2615,6 +2615,9 @@ static RPCHelpMan dumptxoutset()\n         \"Write the serialized UTXO set to a file.\",\n         {\n             {\"path\", RPCArg::Type::STR, RPCArg::Optional::NO, \"Path to the output file. If relative, will be prefixed by datadir.\"},\n+            {\"height\", RPCArg::Type::NUM, RPCArg::DefaultHint{\"the current tip\"},",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": 1649333656,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Right, I think that makes sense and this will be called mostly with this argument than anything else. That hadn't occurred to me so far honestly because I mostly wanted this for us to create snapshots that will potentially be added to the code in the future.\r\n\r\nI have changed this to default to the latest valid snapshot height. That makes getting the tip more cumbersome for the users but I think that's ok since this should not be what most of the want, I think.",
      "created_at": "2024-07-11T16:50:52Z",
      "updated_at": "2024-07-11T16:50:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1674352105",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674352105"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2618,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674353019",
      "pull_request_review_id": 2172480528,
      "id": 1674353019,
      "node_id": "PRRC_kwDOABII585jzJl7",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+# Assumeutxo Usage\n+\n+Assumeutxo is a feature that allows fast bootstrapping of a validating bitcoind\n+instance.\n+\n+For notes on the design of Assumeutxo, please refer to [the design doc](/doc/assumeutxo.md).\n+\n+## Loading a snapshot\n+\n+There is currently no canonical source for snapshots, but any downloaded snapshot\n+will be checked against a hash that's been hardcoded in source code. If there is\n+no source for the snapshot you need, you can generate it yourself using\n+`dumptxoutset` (see [Generating a snapshot](#generating-a-snapshot)).\n+\n+Once you've obtained the snapshot, you can use the RPC command `loadtxoutset` to\n+load it.\n+\n+```\n+$ bitcoin-cli loadtxoutset /path/to/input\n+```\n+\n+After the snapshot has loaded, the syncing process of both the snapshot chain\n+and the background IBD chain can be monitored with the `getchainstates` RPC.\n+\n+### Pruning\n+\n+A pruned node can load a snapshot. To save space, it's possible to delete the\n+snapshot file as soon as `loadtxoutset` finishes.\n+\n+The minimum `-prune` setting is 550 MiB, but this functionality ignores that\n+minimum and uses at least 1100 MiB.\n+\n+As the background sync continues there will be temporarily two chainstate\n+directories, each multiple gigabytes in size (likely growing larger than the\n+downloaded snapshot).\n+\n+### Indexes\n+\n+Indexes work but don't take advantage of this feature. They always start building\n+from the genesis block. Once the background validation reaches the snapshot block,\n+indexes will continue to build all the way to the tip.\n+\n+For indexes that support pruning, note that no pruning will take place between\n+the snapshot and the tip, until the background sync has completed - after which",
      "path": "doc/assumeutxo.md",
      "position": 45,
      "original_position": 44,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "6a5408dd7da4c31283cb4f632b3a7aa692a53ca3",
      "in_reply_to_id": 1649328350,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I need to spend some more time with this and test if this actually changed but this was added in #28618 which goes back to the conversation in the last assumeutxo PR: https://github.com/bitcoin/bitcoin/pull/27596#issuecomment-1545856135. I think nothing has changed in that regard though. I think the prune locks prevent the blocks of the snapshot from being pruned.",
      "created_at": "2024-07-11T16:51:25Z",
      "updated_at": "2024-07-11T16:51:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1674353019",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674353019"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": 44,
      "original_start_line": 43,
      "start_side": "RIGHT",
      "line": 45,
      "original_line": 45,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674353201",
      "pull_request_review_id": 2172480730,
      "id": 1674353201,
      "node_id": "PRRC_kwDOABII585jzJox",
      "diff_hunk": "@@ -0,0 +1,65 @@\n+# Assumeutxo Usage\n+\n+Assumeutxo is a feature that allows fast bootstrapping of a validating bitcoind\n+instance.\n+\n+For notes on the design of Assumeutxo, please refer to [the design doc](/doc/assumeutxo.md).\n+\n+## Loading a snapshot\n+\n+There is currently no canonical source for snapshots, but any downloaded snapshot\n+will be checked against a hash that's been hardcoded in source code. If there is\n+no source for the snapshot you need, you can generate it yourself using",
      "path": "doc/assumeutxo.md",
      "position": 12,
      "original_position": 12,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "6a5408dd7da4c31283cb4f632b3a7aa692a53ca3",
      "in_reply_to_id": 1649320665,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "added and mentioned also that this node needs to be synced already",
      "created_at": "2024-07-11T16:51:32Z",
      "updated_at": "2024-07-11T16:51:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1674353201",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674353201"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 12,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674353313",
      "pull_request_review_id": 2172480865,
      "id": 1674353313,
      "node_id": "PRRC_kwDOABII585jzJqh",
      "diff_hunk": "@@ -2654,10 +2657,56 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(node.chainman->GetMutex());\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};\n+            if (first_block->nHeight > target_index->nHeight) {\n+                throw JSONRPCError(RPC_MISC_ERROR, \"Could not roll back to requested height since necessary block data is already pruned.\");\n+            }\n+        }\n+\n+        // Suspend network activity for the duration of the process when we are\n+        // rolling back the chain to get a utxo set from a past height.\n+        connman.SetNetworkActive(false);\n+        if (connman.GetNetworkActive()) {\n+            throw JSONRPCError(RPC_MISC_ERROR, \"Network activity could not be suspended.\");\n+        }\n+\n+        invalidate_index = WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Next(target_index));\n+        InvalidateBlock(*node.chainman, invalidate_index->GetBlockHash());\n+        const CBlockIndex* new_tip_index{WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Tip())};\n+\n+        // In case there is any issue with a block being read from disc we need",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": 1648975246,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "fixed",
      "created_at": "2024-07-11T16:51:37Z",
      "updated_at": "2024-07-11T16:51:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1674353313",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674353313"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2688,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674353598",
      "pull_request_review_id": 2172481167,
      "id": 1674353598,
      "node_id": "PRRC_kwDOABII585jzJu-",
      "diff_hunk": "@@ -2654,10 +2657,56 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(node.chainman->GetMutex());\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};\n+            if (first_block->nHeight > target_index->nHeight) {\n+                throw JSONRPCError(RPC_MISC_ERROR, \"Could not roll back to requested height since necessary block data is already pruned.\");\n+            }\n+        }\n+\n+        // Suspend network activity for the duration of the process when we are\n+        // rolling back the chain to get a utxo set from a past height.\n+        connman.SetNetworkActive(false);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": 1648974658,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I have implemented the RAII class and expanded the comment. If my understanding is correct I think we would punish a peer as misbehaving if they send us a block that is connecting to an invalid block (https://github.com/bitcoin/bitcoin/blob/master/src/net_processing.cpp#L1927) so we would punish any peer sending us a normal new block. We also wouldn't accept transactions that have a locktime above the snapshot height though I am not sure if switching off network activity is getting us a better result in that case.",
      "created_at": "2024-07-11T16:51:47Z",
      "updated_at": "2024-07-11T16:51:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1674353598",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674353598"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2679,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674354358",
      "pull_request_review_id": 2172482065,
      "id": 1674354358,
      "node_id": "PRRC_kwDOABII585jzJ62",
      "diff_hunk": "@@ -2646,10 +2649,53 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(::cs_main);\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "5da057c5330a49122873b9d5f5a44aea9bff1a8d",
      "in_reply_to_id": 1527560566,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is fixed now since #29668 got merged and I am using this here now.",
      "created_at": "2024-07-11T16:52:19Z",
      "updated_at": "2024-07-11T16:52:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1674354358",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1674354358"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2671,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1675479974",
      "pull_request_review_id": 2174132182,
      "id": 1675479974,
      "node_id": "PRRC_kwDOABII585j3cum",
      "diff_hunk": "@@ -2654,10 +2657,56 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(node.chainman->GetMutex());\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};\n+            if (first_block->nHeight > target_index->nHeight) {\n+                throw JSONRPCError(RPC_MISC_ERROR, \"Could not roll back to requested height since necessary block data is already pruned.\");\n+            }\n+        }\n+\n+        // Suspend network activity for the duration of the process when we are\n+        // rolling back the chain to get a utxo set from a past height.\n+        connman.SetNetworkActive(false);\n+        if (connman.GetNetworkActive()) {\n+            throw JSONRPCError(RPC_MISC_ERROR, \"Network activity could not be suspended.\");\n+        }\n+\n+        invalidate_index = WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Next(target_index));\n+        InvalidateBlock(*node.chainman, invalidate_index->GetBlockHash());\n+        const CBlockIndex* new_tip_index{WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Tip())};",
      "path": "src/rpc/blockchain.cpp",
      "position": 185,
      "original_position": 40,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": 1649335464,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I guess it would still be good to leave a comment about the race in the source code (or in the docs on how to avoid the race). I guess the user would simply have to avoid calling other `*block` RPCs for the duration of `dumptxoutset`? (The p2p is already stopped, so shouldn't be the cause of a race)",
      "created_at": "2024-07-12T08:07:24Z",
      "updated_at": "2024-07-12T08:07:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1675479974",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1675479974"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2762,
      "original_line": 2762,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1675572668",
      "pull_request_review_id": 2174277001,
      "id": 1675572668,
      "node_id": "PRRC_kwDOABII585j3zW8",
      "diff_hunk": "@@ -2654,10 +2657,56 @@ static RPCHelpMan dumptxoutset()\n     }\n \n     NodeContext& node = EnsureAnyNodeContext(request.context);\n+    CConnman& connman = EnsureConnman(node);\n+\n+    const CBlockIndex* invalidate_index{nullptr};\n+    if (!request.params[1].isNull()) {\n+        const CBlockIndex* target_index = ParseHashOrHeight(request.params[1], *node.chainman);\n+\n+        // If the node is running in pruned mode we ensure all necessary block\n+        // data is available before starting to roll back.\n+        if (node.chainman->m_blockman.IsPruneMode()) {\n+            LOCK(node.chainman->GetMutex());\n+            const CBlockIndex* current_tip{node.chainman->ActiveChain().Tip()};\n+            const CBlockIndex* first_block{node.chainman->m_blockman.GetFirstStoredBlock(*current_tip)};\n+            if (first_block->nHeight > target_index->nHeight) {\n+                throw JSONRPCError(RPC_MISC_ERROR, \"Could not roll back to requested height since necessary block data is already pruned.\");\n+            }\n+        }\n+\n+        // Suspend network activity for the duration of the process when we are\n+        // rolling back the chain to get a utxo set from a past height.\n+        connman.SetNetworkActive(false);\n+        if (connman.GetNetworkActive()) {\n+            throw JSONRPCError(RPC_MISC_ERROR, \"Network activity could not be suspended.\");\n+        }\n+\n+        invalidate_index = WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Next(target_index));\n+        InvalidateBlock(*node.chainman, invalidate_index->GetBlockHash());\n+        const CBlockIndex* new_tip_index{WITH_LOCK(::cs_main, return node.chainman->ActiveChain().Tip())};",
      "path": "src/rpc/blockchain.cpp",
      "position": 185,
      "original_position": 40,
      "commit_id": "032f8c28440d0b11d1a1db385a2fd17078dc8340",
      "original_commit_id": "2cdce8fd9c93099db7e86ff33a1da8fbf0aaf364",
      "in_reply_to_id": 1649335464,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I added a small comment in the code and also mention it now in the usage guide as well as the rpc help text.",
      "created_at": "2024-07-12T09:20:36Z",
      "updated_at": "2024-07-12T09:20:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29553#discussion_r1675572668",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1675572668"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29553"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2762,
      "original_line": 2762,
      "side": "RIGHT"
    }
  ]
}