{
  "type": "issue",
  "issue": {
    "id": 2591781114,
    "node_id": "I_kwDOABII586ae3D6",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31098",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31098/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31098/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31098/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31098",
    "number": 31098,
    "state": "open",
    "state_reason": null,
    "title": "Stratum v2 via IPC Mining Interface tracking issue",
    "body": "After much discussion in https://github.com/bitcoin/bitcoin/pull/29432 it appears there's currently little support for directly supporting Stratum v2 in Bitcoin Core, with most contributors favouring the creation of a Mining IPC interface that external applications can use.\r\n\r\nThe only such application currently is the Template Provider implemented by me in https://github.com/Sjors/bitcoin/pull/48. This also serves to illustrate how the interface is used and that it's complete. The folks working on SRI should be able to build a Template Provider as well, once the interface is complete and shipped in a release.\r\n\r\n### Needed for (hopefully) v29\r\n\r\nTo complete the interface:\r\n\r\n- [ ] #31003\r\n- [ ] a few followups coming soon\r\n\r\nFor multiprocess release binaries\r\n\r\n- [ ] #30983\r\n- [ ] #30975 (one possible approach)\r\n- [ ] https://github.com/chaincodelabs/libmultiprocess/pull/119\r\n- [ ] https://github.com/chaincodelabs/libmultiprocess/issues/117\r\n\r\n### Can wait for later releases\r\n\r\n- [ ] https://github.com/chaincodelabs/libmultiprocess/issues/114\r\n- [ ] #31002 DATUM developers are currently uninterested in taking advantage of the more performant interface, preferring to use the `getblocktemplate` RPC instead, despite an earlier concept ACK on Stratum v2 support https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1605237375.\r\n\r\n### Current Template Provider users \r\n\r\nAs a stop-gap measure I plan to maintain https://github.com/Sjors/bitcoin/pull/68 which is a continuation of https://github.com/bitcoin/bitcoin/pull/29432, since people are currently using that. Once the Mining interface makes it into a release, along with multiprocess enabled Guix binaries, I plan to drop that in favour of https://github.com/Sjors/bitcoin/pull/48.\r\n\r\nAdditionally I plan to convert the latter from a patch set on top of Bitcoin Core into a standalone application, to make it easier for others to contribute. That should make it less dependent on my own effort. The Bitcoin Core project could decide in the future to \"adopt\" this project, but that is entirely uncertain and most contributors seems averse to this idea.",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 1,
    "created_at": "2024-10-16T12:43:56Z",
    "updated_at": "2024-10-16T13:45:53Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 2416863058,
      "node_id": "IC_kwDOABII586QDmdS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2416863058",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-16T13:35:46Z",
      "updated_at": "2024-10-16T13:45:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "I'm really quite confused by this. Creating a \"template IPC\" interface is not substantially different than creating any other protocol for providing templates. What is the advantage for Bitcoin core to provide something proprietary over a standard that matches what consumers of that interface would want?",
      "user": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31098#issuecomment-2416863058",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31098"
    }
  ]
}