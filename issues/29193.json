{
  "type": "issue",
  "issue": {
    "id": 2068511429,
    "node_id": "I_kwDOABII5857SvrF",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29193",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29193/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29193/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29193/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/29193",
    "number": 29193,
    "state": "open",
    "state_reason": null,
    "title": "Failed loading mempool when restarting bitcoind",
    "body": "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Current behaviour\n\nAfter a clean shutdown, bitcoind failed to load the majority of mempool transactions from mempool.dat. I keep a node up for months for webpage mempoolexplorer.com with options:\r\nmaxmempool=2000\r\nmempoolfullrbf=1\r\nmempoolexpiry=999999\r\nto maximize the number of txs in my mempool.\r\nThe node is currently loading and saving mempool txs when shutdown ok (but with only a small number of them instead of a fully synchronized mempool). So I think It could be related to the currently mempool size spike. (larger than ever according [jochen-hoenicke](https://jochen-hoenicke.de/queue/#BTC,all,weight) )\n\n### Expected behaviour\n\nThe expected behavior is to save/load all the transactions again no matter the size of the mempool\n\n### Steps to reproduce\n\nIt's a issue difficult to reproduce, because I have no access to a node syncronized with \"the full mempool\" since mine failed.\r\n\r\nIn order to reproduce the issue you must have access to a big mempool and try to start/stop bitcoind and monitor mempool.dat. (Mine is currenty erased and only with a few transactions)\r\n\r\nNot sure if the problem was writing the txs into mempool.dat or reading them.\r\n\r\nMaybe this utility I created can help copying a live mempool from one node to another:\r\n\r\nhttps://github.com/dev7ba/mempoolcp\n\n### Relevant log output\n\nI did not copy the debug.log line (currently erased) but it was something like this:\r\n\r\nImported mempool transactions from disk: (small number here) succeeded, (big number here) failed, 0 expired, 0 already there, 0 waiting for initial broadcast\n\n### How did you obtain Bitcoin Core\n\nPre-built binaries\n\n### What version of Bitcoin Core are you using?\n\nv24.0.0\n\n### Operating system and version\n\nUbuntu 20.04.6 LTS\n\n### Machine specifications\n\nIntel(R) Core(TM) i5-6260U CPU @ 1.80GHz 16GB RAM",
    "user": {
      "login": "dev7ba",
      "id": 93706552,
      "node_id": "U_kgDOBZXZOA",
      "avatar_url": "https://avatars.githubusercontent.com/u/93706552?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dev7ba",
      "html_url": "https://github.com/dev7ba",
      "followers_url": "https://api.github.com/users/dev7ba/followers",
      "following_url": "https://api.github.com/users/dev7ba/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/dev7ba/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/dev7ba/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/dev7ba/subscriptions",
      "organizations_url": "https://api.github.com/users/dev7ba/orgs",
      "repos_url": "https://api.github.com/users/dev7ba/repos",
      "events_url": "https://api.github.com/users/dev7ba/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/dev7ba/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 164208572,
        "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
        "name": "Mempool",
        "color": "fef2c0",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 6,
    "created_at": "2024-01-06T10:04:59Z",
    "updated_at": "2024-01-11T12:37:10Z"
  },
  "events": [
    {
      "event": "renamed",
      "id": 11407837995,
      "node_id": "RTE_lADOABII5857SvrFzwAAAAKn9csr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11407837995",
      "actor": {
        "login": "dev7ba",
        "id": 93706552,
        "node_id": "U_kgDOBZXZOA",
        "avatar_url": "https://avatars.githubusercontent.com/u/93706552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dev7ba",
        "html_url": "https://github.com/dev7ba",
        "followers_url": "https://api.github.com/users/dev7ba/followers",
        "following_url": "https://api.github.com/users/dev7ba/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dev7ba/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dev7ba/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dev7ba/subscriptions",
        "organizations_url": "https://api.github.com/users/dev7ba/orgs",
        "repos_url": "https://api.github.com/users/dev7ba/repos",
        "events_url": "https://api.github.com/users/dev7ba/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dev7ba/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T10:16:00Z",
      "rename": {
        "from": "Failed load mempool when restarting bitcoind",
        "to": "Failed loading mempool when restarting bitcoind"
      }
    },
    {
      "event": "commented",
      "id": 1879631591,
      "node_id": "IC_kwDOABII585wCObn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1879631591",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T10:32:06Z",
      "updated_at": "2024-01-06T10:32:06Z",
      "author_association": "MEMBER",
      "body": "Hard to guess without logs (which would tell us why transactions failed). How much time elapsed between saving the mempool.dat and loading it? Mempool transactions that had confirmed during that time would be marked as \"failed.\"\r\n\r\nAnd to clarify, are you restarting with the same config? What are mempoolexpiry and maxmempool now? (Is it possible you have less space or expired old transactions?)\r\n\r\n> Not sure if the problem was writing the txs into mempool.dat or reading them.\r\n\r\nMust be loading given the \"X failed\" log line.\r\n\r\n> v24.0.0\r\n\r\nMaybe try upgrading to a newer version?",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29193#issuecomment-1879631591",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29193"
    },
    {
      "event": "commented",
      "id": 1879634958,
      "node_id": "IC_kwDOABII585wCPQO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1879634958",
      "actor": {
        "login": "dev7ba",
        "id": 93706552,
        "node_id": "U_kgDOBZXZOA",
        "avatar_url": "https://avatars.githubusercontent.com/u/93706552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dev7ba",
        "html_url": "https://github.com/dev7ba",
        "followers_url": "https://api.github.com/users/dev7ba/followers",
        "following_url": "https://api.github.com/users/dev7ba/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dev7ba/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dev7ba/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dev7ba/subscriptions",
        "organizations_url": "https://api.github.com/users/dev7ba/orgs",
        "repos_url": "https://api.github.com/users/dev7ba/repos",
        "events_url": "https://api.github.com/users/dev7ba/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dev7ba/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T10:46:54Z",
      "updated_at": "2024-01-06T10:48:12Z",
      "author_association": "NONE",
      "body": "> How much time elapsed between saving the mempool.dat and loading it?\r\n\r\nOnly a few minutes.\r\n\r\n> And to clarify, are you restarting with the same config? What are mempoolexpiry and maxmempool now?\r\n\r\nI restarted with the same config. Checked I have enough disk space.\r\n\r\n> Must be loading given the \"X failed\" log line.\r\n\r\nYes, I see.\r\n\r\n> Maybe try upgrading to a newer version?\r\n\r\nI can't test it anyway, I'm trying to contact people with a \"full mempool\", And asking them to restart the node and see what happens.",
      "user": {
        "login": "dev7ba",
        "id": 93706552,
        "node_id": "U_kgDOBZXZOA",
        "avatar_url": "https://avatars.githubusercontent.com/u/93706552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dev7ba",
        "html_url": "https://github.com/dev7ba",
        "followers_url": "https://api.github.com/users/dev7ba/followers",
        "following_url": "https://api.github.com/users/dev7ba/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dev7ba/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dev7ba/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dev7ba/subscriptions",
        "organizations_url": "https://api.github.com/users/dev7ba/orgs",
        "repos_url": "https://api.github.com/users/dev7ba/repos",
        "events_url": "https://api.github.com/users/dev7ba/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dev7ba/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29193#issuecomment-1879634958",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29193"
    },
    {
      "event": "labeled",
      "id": 11408064447,
      "node_id": "LE_lADOABII5857SvrFzwAAAAKn-T-_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11408064447",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T11:27:01Z",
      "label": {
        "name": "Mempool",
        "color": "fef2c0"
      }
    },
    {
      "event": "labeled",
      "id": 11408064459,
      "node_id": "LE_lADOABII5857SvrFzwAAAAKn-T_L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11408064459",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T11:27:01Z",
      "label": {
        "name": "Data corruption",
        "color": "f7c6c7"
      }
    },
    {
      "event": "unlabeled",
      "id": 11408067006,
      "node_id": "UNLE_lADOABII5857SvrFzwAAAAKn-Um-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11408067006",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T11:27:15Z",
      "label": {
        "name": "Data corruption",
        "color": "f7c6c7"
      }
    },
    {
      "event": "commented",
      "id": 1886783736,
      "node_id": "IC_kwDOABII585wdgj4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1886783736",
      "actor": {
        "login": "deyw-bit",
        "id": 19352599,
        "node_id": "MDQ6VXNlcjE5MzUyNTk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19352599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deyw-bit",
        "html_url": "https://github.com/deyw-bit",
        "followers_url": "https://api.github.com/users/deyw-bit/followers",
        "following_url": "https://api.github.com/users/deyw-bit/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deyw-bit/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deyw-bit/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deyw-bit/subscriptions",
        "organizations_url": "https://api.github.com/users/deyw-bit/orgs",
        "repos_url": "https://api.github.com/users/deyw-bit/repos",
        "events_url": "https://api.github.com/users/deyw-bit/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deyw-bit/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-11T10:14:01Z",
      "updated_at": "2024-01-11T12:07:55Z",
      "author_association": "NONE",
      "body": "I can confirm a similar issue in a node running Bitcoin Core 25.1, as detailed below:\r\n\r\nConfig options:\r\n- maxmempool=2000\r\n- mempoolexpiry=720\r\n- mempoolfullrbf=1\r\n\r\nPrior to the node's restart, the mempool size was approximately 1.14 GB, which filled up over roughly 26 hours of uptime since the last node restart.\r\n\r\nAfter initiating the shutdown, the node restarted immediately. According to the logs, the mempool was dumped (\"Dumped mempool: 1.0479s to copy, 10.5051s to dump\"). However, there are no subsequent details indicating that the mempool data was reloaded post-restart. \r\n\r\nThree minutes following the restart, the mempool size was merely 1MB. Ten minutes later, it increased to 18MB and continued to grow gradually, accumulating unconfirmed transactions. After one hour of uptime, the mempool size reached 110MB, with approximately 18,000 pending transactions. \r\n\r\nHow did you obtain Bitcoin Core\r\nPre-built binaries: (https://bitcoincore.org/bin/bitcoin-core-25.1/bitcoin-25.1-x86_64-linux-gnu.tar.gz)\r\n\r\nWhat version of Bitcoin Core are you using?\r\nv25.1\r\n\r\nOperating system and version\r\nDebian GNU/Linux 12 (bookworm)\r\n\r\nMachine specifications\r\nSynology NAS (node running in Docker)\r\n\r\ndebug.log (for the one hour starting with the node shutdown) - showing only lines with string 'Shutdown|mempool|Bitcoin Core version v':\r\n\r\n2024-01-11T08:55:47Z Shutdown: In progress...\r\n2024-01-11T08:55:57Z Dumped mempool: 0.643629s to copy, 8.92166s to dump\r\n2024-01-11T08:56:11Z Shutdown: done\r\n\r\n>>> RESTART\r\n\r\n2024-01-11T08:56:21Z Bitcoin Core version v25.1.0 (release build)\r\n2024-01-11T08:56:21Z Config file arg: maxmempool=\"2000\"\r\n2024-01-11T08:56:21Z Config file arg: mempoolexpiry=\"720\"\r\n2024-01-11T08:56:21Z Config file arg: mempoolfullrbf=\"1\"\r\n2024-01-11T08:56:23Z * Using 335.0 MiB for in-memory UTXO set (plus up to 1907.3 MiB of unused mempool space)",
      "user": {
        "login": "deyw-bit",
        "id": 19352599,
        "node_id": "MDQ6VXNlcjE5MzUyNTk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19352599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deyw-bit",
        "html_url": "https://github.com/deyw-bit",
        "followers_url": "https://api.github.com/users/deyw-bit/followers",
        "following_url": "https://api.github.com/users/deyw-bit/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deyw-bit/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deyw-bit/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deyw-bit/subscriptions",
        "organizations_url": "https://api.github.com/users/deyw-bit/orgs",
        "repos_url": "https://api.github.com/users/deyw-bit/repos",
        "events_url": "https://api.github.com/users/deyw-bit/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deyw-bit/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29193#issuecomment-1886783736",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29193"
    },
    {
      "event": "commented",
      "id": 1886796183,
      "node_id": "IC_kwDOABII585wdjmX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1886796183",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-11T10:20:18Z",
      "updated_at": "2024-01-11T10:20:18Z",
      "author_association": "MEMBER",
      "body": "> Ten minutes later, it increased to 18MB and continued to grow gradually\r\n\r\nLoading the mempool takes time after a startup. You can monitor whether it is complete over the getmempoolinfo RPC (`loaded` field). Once it is loaded, the loading result will be printed to the debug log.\r\n\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29193#issuecomment-1886796183",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29193"
    },
    {
      "event": "commented",
      "id": 1886805643,
      "node_id": "IC_kwDOABII585wdl6L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1886805643",
      "actor": {
        "login": "deyw-bit",
        "id": 19352599,
        "node_id": "MDQ6VXNlcjE5MzUyNTk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19352599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deyw-bit",
        "html_url": "https://github.com/deyw-bit",
        "followers_url": "https://api.github.com/users/deyw-bit/followers",
        "following_url": "https://api.github.com/users/deyw-bit/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deyw-bit/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deyw-bit/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deyw-bit/subscriptions",
        "organizations_url": "https://api.github.com/users/deyw-bit/orgs",
        "repos_url": "https://api.github.com/users/deyw-bit/repos",
        "events_url": "https://api.github.com/users/deyw-bit/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deyw-bit/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-11T10:25:49Z",
      "updated_at": "2024-01-11T10:25:49Z",
      "author_association": "NONE",
      "body": "Okay, will keep monitoring it, right now (90 minutes after restart), bitcoin-cli getmempoolinfo returns \"loaded\": false",
      "user": {
        "login": "deyw-bit",
        "id": 19352599,
        "node_id": "MDQ6VXNlcjE5MzUyNTk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19352599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deyw-bit",
        "html_url": "https://github.com/deyw-bit",
        "followers_url": "https://api.github.com/users/deyw-bit/followers",
        "following_url": "https://api.github.com/users/deyw-bit/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deyw-bit/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deyw-bit/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deyw-bit/subscriptions",
        "organizations_url": "https://api.github.com/users/deyw-bit/orgs",
        "repos_url": "https://api.github.com/users/deyw-bit/repos",
        "events_url": "https://api.github.com/users/deyw-bit/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deyw-bit/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29193#issuecomment-1886805643",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29193"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-11T11:50:31Z",
      "updated_at": "2024-01-11T11:50:31Z",
      "source": {
        "issue": {
          "id": 2076409949,
          "node_id": "PR_kwDOABII585jy0LU",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29227",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29227/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29227/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29227/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29227",
          "number": 29227,
          "state": "open",
          "state_reason": null,
          "title": "log mempool loading progress",
          "body": "Motivated by #29193. Currently, we only log something (non-debug) when we fail to load the file and at the end of importing all the transactions. That means it's hard to tell what's happening if it's taking a long time to load.\r\n\r\nThis PR adds a maximum of 10 new unconditional log lines:\r\n- When we start to load transactions.\r\n- Our progress percentage when it advances by at least 10% from the last time we logged. Percentage is based on the number of transactions.\r\n\r\nIf there are lots of transactions in the mempool, the logs will look like this:\r\n```\r\n2024-01-11T11:36:30.410726Z Loading 401 mempool transactions from disk... \r\n2024-01-11T11:36:30.423374Z Progress loading mempool transactions from disk: 10% (tried 41, 360 remaining) \r\n2024-01-11T11:36:30.435539Z Progress loading mempool transactions from disk: 20% (tried 81, 320 remaining) \r\n2024-01-11T11:36:30.447874Z Progress loading mempool transactions from disk: 30% (tried 121, 280 remaining) \r\n2024-01-11T11:36:30.460474Z Progress loading mempool transactions from disk: 40% (tried 161, 240 remaining) \r\n2024-01-11T11:36:30.473731Z Progress loading mempool transactions from disk: 50% (tried 201, 200 remaining) \r\n2024-01-11T11:36:30.487806Z Progress loading mempool transactions from disk: 60% (tried 241, 160 remaining) \r\n2024-01-11T11:36:30.501739Z Progress loading mempool transactions from disk: 70% (tried 281, 120 remaining) \r\n2024-01-11T11:36:30.516334Z Progress loading mempool transactions from disk: 80% (tried 321, 80 remaining) \r\n2024-01-11T11:36:30.531309Z Progress loading mempool transactions from disk: 90% (tried 361, 40 remaining) \r\n2024-01-11T11:36:30.549019Z  Imported mempool transactions from disk: 401 succeeded, 0 failed, 0 expired, 0 already there, 400 waiting for initial broadcast \r\n```",
          "user": {
            "login": "glozow",
            "id": 25183001,
            "node_id": "MDQ6VXNlcjI1MTgzMDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/glozow",
            "html_url": "https://github.com/glozow",
            "followers_url": "https://api.github.com/users/glozow/followers",
            "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
            "organizations_url": "https://api.github.com/users/glozow/orgs",
            "repos_url": "https://api.github.com/users/glozow/repos",
            "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/glozow/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            },
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 6122707100,
              "node_id": "LA_kwDOABII588AAAABbPEYnA",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20backport%20(26.x)",
              "name": "Needs backport (26.x)",
              "description": "",
              "color": "ff8200",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29227",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29227.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29227.patch"
          },
          "created_at": "2024-01-11T11:50:31Z",
          "updated_at": "2024-01-11T11:51:34Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1887073369,
      "node_id": "IC_kwDOABII585wenRZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1887073369",
      "actor": {
        "login": "dev7ba",
        "id": 93706552,
        "node_id": "U_kgDOBZXZOA",
        "avatar_url": "https://avatars.githubusercontent.com/u/93706552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dev7ba",
        "html_url": "https://github.com/dev7ba",
        "followers_url": "https://api.github.com/users/dev7ba/followers",
        "following_url": "https://api.github.com/users/dev7ba/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dev7ba/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dev7ba/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dev7ba/subscriptions",
        "organizations_url": "https://api.github.com/users/dev7ba/orgs",
        "repos_url": "https://api.github.com/users/dev7ba/repos",
        "events_url": "https://api.github.com/users/dev7ba/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dev7ba/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-11T12:37:09Z",
      "updated_at": "2024-01-11T12:37:09Z",
      "author_association": "NONE",
      "body": "In retrospect, I believe what happened is that upon noticing the mempool wasn't loading, I gracefully shut down the node, causing mempool.dat to be overwritten with the limited contents of the mempool. \r\nIt might also be advisable not to overwrite the old mempool.dat if it hasn't finished loading completely.",
      "user": {
        "login": "dev7ba",
        "id": 93706552,
        "node_id": "U_kgDOBZXZOA",
        "avatar_url": "https://avatars.githubusercontent.com/u/93706552?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dev7ba",
        "html_url": "https://github.com/dev7ba",
        "followers_url": "https://api.github.com/users/dev7ba/followers",
        "following_url": "https://api.github.com/users/dev7ba/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dev7ba/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dev7ba/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dev7ba/subscriptions",
        "organizations_url": "https://api.github.com/users/dev7ba/orgs",
        "repos_url": "https://api.github.com/users/dev7ba/repos",
        "events_url": "https://api.github.com/users/dev7ba/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dev7ba/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29193#issuecomment-1887073369",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29193"
    }
  ]
}