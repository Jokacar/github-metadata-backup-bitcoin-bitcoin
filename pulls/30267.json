{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30267",
    "id": 1913905474,
    "node_id": "PR_kwDOABII585yE-FC",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30267",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30267.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30267.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30267",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30267/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30267/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30267/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/cbc604f6a7739bf22a5d811b6366453860d59f4c",
    "number": 30267,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "assumeutxo: Check snapshot base block is not in invalid chain",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This was discovered in a discussion in #29996\r\n\r\nIf the base block of the snapshot is marked invalid or part of an invalid chain, we currently still load the snapshot and get stuck in a weird state where we have the snapshot chainstate but it will never connect to our valid chain.\r\n\r\nWhile this scenario is highly unlikely to occur on mainnet, it still seems good to prevent this inconsistent state.\r\n\r\nAlso removes an unnecessary restart introduced in #29428.",
    "labels": [],
    "created_at": "2024-06-11T08:49:29Z",
    "updated_at": "2024-06-11T09:20:42Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "d0f25fb37536d624a27da35111ca2e6025cb22f2",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "fjahr:2024-06-invalid-snapshot-block",
      "ref": "2024-06-invalid-snapshot-block",
      "sha": "cbc604f6a7739bf22a5d811b6366453860d59f4c",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 196253948,
        "node_id": "MDEwOlJlcG9zaXRvcnkxOTYyNTM5NDg=",
        "name": "bitcoin",
        "full_name": "fjahr/bitcoin",
        "owner": {
          "login": "fjahr",
          "id": 1322187,
          "node_id": "MDQ6VXNlcjEzMjIxODc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/fjahr",
          "html_url": "https://github.com/fjahr",
          "followers_url": "https://api.github.com/users/fjahr/followers",
          "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
          "organizations_url": "https://api.github.com/users/fjahr/orgs",
          "repos_url": "https://api.github.com/users/fjahr/repos",
          "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/fjahr/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/fjahr/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/fjahr/bitcoin",
        "archive_url": "https://api.github.com/repos/fjahr/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/fjahr/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/fjahr/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/fjahr/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/fjahr/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/fjahr/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/fjahr/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/fjahr/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/fjahr/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/fjahr/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/fjahr/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/fjahr/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/fjahr/bitcoin/events",
        "forks_url": "https://api.github.com/repos/fjahr/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/fjahr/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/fjahr/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/fjahr/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/fjahr/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/fjahr/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/fjahr/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/fjahr/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/fjahr/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/fjahr/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/fjahr/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/fjahr/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/fjahr/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/fjahr/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/fjahr/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/fjahr/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:fjahr/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/fjahr/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/fjahr/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/fjahr/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/fjahr/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/fjahr/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/fjahr/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/fjahr/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/fjahr/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/fjahr/bitcoin/hooks",
        "svn_url": "https://github.com/fjahr/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 247576,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-06-11T09:19:39Z",
        "created_at": "2019-07-10T18:11:06Z",
        "updated_at": "2024-04-27T19:57:43Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "b1ba1b178f501daa1afdd91f9efec34e5ec1e294",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35497,
        "stargazers_count": 76865,
        "watchers_count": 76865,
        "size": 260368,
        "default_branch": "master",
        "open_issues_count": 694,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-06-11T09:28:16Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-06-11T09:57:08Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30267"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 19,
    "deletions": 1,
    "changed_files": 2,
    "commits": 2,
    "review_comments": 0,
    "comments": 1
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYzMDI5NTYwNjIwNDUzZDc4NDhlNTdiYzJjYmY1YjA0MmNiMGEyYTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f3029560620453d7848e57bc2cbf5b042cb0a2a6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f3029560620453d7848e57bc2cbf5b042cb0a2a6",
      "tree": {
        "sha": "66e7b91da93d465a8ee85d4c3e878b0bb5b5259a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/66e7b91da93d465a8ee85d4c3e878b0bb5b5259a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 66e7b91da93d465a8ee85d4c3e878b0bb5b5259a\nparent ff7d2054c4f1d7ff98078b9695e7c36e79a476c6\nauthor Fabian Jahr <fjahr@protonmail.com> 1718093421 +0200\ncommitter Fabian Jahr <fjahr@protonmail.com> 1718094101 +0200\n\nassumeutxo: Check snapshot base block is not marked invalid\n\nCo-authored-by: Alfonso Roman Zubeldia <alfonsoromanz24@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmZoCXIVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jND98QAIq2fdvOSfpv3kYvHHjxmMji+J1n\nn1AEfwBRg3ajNxOYkWHUgjQTmmmDeP15DShgsw6cSQc0GAp8q4LpLWBoj9VCJthd\nRK0bcg/ck3gLzPlVXg9Zx7huWLkr+38KHTmMcCC19Wn+IXgxUM2pxj9Nu/64pk7o\nIYNHFVHxLJ87BmlImgSB31foTi+SOX0+W/7rI5laHszFT6FQKUqTiJ//1tsFOJvD\nFFYlbhQFRmr96R9G8vPeYdFkGGuBkxRPUAH1rPmqV4cfften6rXEDwMeKguhS7s/\ndNRfkszt+j+jbvkrlCld4eT95TQHqRs1Mhsn7C+iO42B1/mwmm7Yd58wH3X/b/8h\nnAbkV3v1Qjqd65Ey9rEK+HkzQCHZLHgsq5j8cvCDTzAKo5kLDT3GBFhAicexc9W4\nvQDW0KlVw7TW8WqV3r35MwWAS+cN3X44p7L+PwckmCckJ7mtN4C4B/osgKzDOI7Z\nqHgfHbiMoki4EDlACh4sonbnSpq7iX1cNQVR+gpDrWrBjQ8QeCX/U91AhtHc2Jyy\nWb4HAR/LUUnDboNWr8yOKDP3nCp4k6nX8tGGvgbLRGNym82wjvW1GE8jEvPKcV4K\n/3ASRKX8lf7P12MKB3BGtgvtPYo43TCK5HAWeTAPY8zbjt5FeTklzBX2LcshmPzW\n34/u/Yy6G8cJNMVM\n=FNLA\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ff7d2054c4f1d7ff98078b9695e7c36e79a476c6",
          "sha": "ff7d2054c4f1d7ff98078b9695e7c36e79a476c6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ff7d2054c4f1d7ff98078b9695e7c36e79a476c6"
        }
      ],
      "message": "assumeutxo: Check snapshot base block is not marked invalid\n\nCo-authored-by: Alfonso Roman Zubeldia <alfonsoromanz24@gmail.com>",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-06-11T08:21:41Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-06-11T08:10:21Z"
      },
      "sha": "f3029560620453d7848e57bc2cbf5b042cb0a2a6"
    },
    {
      "event": "commented",
      "id": 2160152241,
      "node_id": "IC_kwDOABII586AwU6x",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2160152241",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-11T08:49:32Z",
      "updated_at": "2024-06-11T08:49:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30267).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30267#issuecomment-2160152241",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30267"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-11T08:50:04Z",
      "updated_at": "2024-06-11T08:50:04Z",
      "source": {
        "issue": {
          "id": 2269304788,
          "node_id": "PR_kwDOABII585uByqD",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29996",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29996/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29996/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29996/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/29996",
          "number": 29996,
          "state": "open",
          "state_reason": null,
          "title": "test: Assumeutxo: import snapshot in a node with a divergent chain",
          "body": "This PR adds tests to cover two scenarios of loading a snapshot when the current chain tip is:\r\n\r\n- Not an ancestor of the snapshot block but has less work\r\n- Not an ancestor or a descendant of the snapshot block and has more work\r\n\r\nIn the second scenario, the snapshot block does not belong to the most-work chain anymore so I believe it covers this scenario too: `TODO: Valid snapshot file and snapshot block, but the block is not on the\r\n      most-work chain`. Therefore I deleted that TODO as well.\r\n",
          "user": {
            "login": "alfonsoromanz",
            "id": 19962151,
            "node_id": "MDQ6VXNlcjE5OTYyMTUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/19962151?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alfonsoromanz",
            "html_url": "https://github.com/alfonsoromanz",
            "followers_url": "https://api.github.com/users/alfonsoromanz/followers",
            "following_url": "https://api.github.com/users/alfonsoromanz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/alfonsoromanz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/alfonsoromanz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/alfonsoromanz/subscriptions",
            "organizations_url": "https://api.github.com/users/alfonsoromanz/orgs",
            "repos_url": "https://api.github.com/users/alfonsoromanz/repos",
            "events_url": "https://api.github.com/users/alfonsoromanz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/alfonsoromanz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29996",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/29996",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/29996.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/29996.patch"
          },
          "created_at": "2024-04-29T15:13:24Z",
          "updated_at": "2024-06-11T09:45:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-11T09:07:05Z",
      "updated_at": "2024-06-11T09:07:05Z",
      "source": {
        "issue": {
          "id": 2177880415,
          "node_id": "I_kwDOABII586Bz9Ff",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29616",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29616/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29616/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29616/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/29616",
          "number": 29616,
          "state": "open",
          "state_reason": null,
          "title": "AssumeUTXO Mainnet Readiness Tracking",
          "body": "## Goals of this issue\r\n\r\n- Track all ongoing work on assumeutxo until mainnet params are included in a release\r\n- Categorize the work into critical/optional for mainnet readiness\r\n- Conceptual discussion on assumeutxo topics that may or may not be critical for mainnet readiness\r\n\r\nThe initial categorizations here are suggestions and changes should be discussed here in the issue. Obviously let me know if I missed anything.\r\n\r\n## Critical Issues/PRs\r\n\r\n- [x] #29612 (which fixes #25675) - Improves size of dump, critical because it is not backwards compatible\r\n- [ ] #29519 - Stop syncing non-snapshot chain from peers that are already connected\r\n- [x] #29726 - Fix -reindex behavior\r\n- [x] #29370 - Get rid of faked nTx and nChainTx values (closing issues discussed in #29261)\r\n- [ ] #29720 - RPC fixes for missing values, addressing #29328\r\n- [ ] #30267 - Prevent issues from loading dump for invalid block\r\n- [ ] #28553 - The mainnet params themselves\r\n\r\n## Optional Issues/PRs\r\n\r\n(Attempted a rough ordering by importance)\r\n\r\n- [ ] #28616 (which fixes #28598) - Show background chain funds as not fully confirmed in GUI\r\n- [ ] #29553 - `dumptxoutset` with height param\r\n- [ ] #30214 - First part of #28608\r\n- [x] (obsolete) #28670 - Improved error handling for `loadtxoutset`\r\n- [x] #29478 - Additional test coverage for `loadtxoutset`\r\n- [x] #29617 - Additional test coverage\r\n- [x] #29973 - Additional test coverage\r\n- [x] #29428 - Additional test coverage\r\n- [ ]  #29996 - Additional test coverage\r\n- [ ] #29993 - Improve usability\r\n- [ ] #28608 (draft) - State and locking cleanup\r\n\r\n## Critical conceptual discussion\r\n\r\n- [ ] Agreement on a rule of thumb which height we choose once there is consensus for mainnet readiness, i.e. how to choose the height for #28553 once we are close to an upcoming release. I think the earlier we discuss this the better, so that this doesn't get in the way later.\r\n\r\n## Optional conceptual discussion\r\n\r\nThese were taken from #28553 and [the original assumeutxo PR](https://github.com/bitcoin/bitcoin/pull/27596#issuecomment-1727936044).\r\n\r\n- [ ] Distribution of snapshots - This recently came up [here](https://github.com/bitcoin/bitcoin/pull/29551#pullrequestreview-1917416713) and [here](https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2024-03-07#1012635;). There are multiple levels to this topic but I believe that this is not critical either way. If it were critical then, at the most basic level, we would probably provide an \"official\" torrent/download link for the dump with the release. It would be great if one or more contributors could do that (@Sjors did this in #28516 for example) and are willing to maintain this for a reasonable amount of time but it is not critical IMO because anyone can use `dumptxoutset` to recreate the dump and then share it any way they like. So there is no need to provide this service from within the project. I think anyone who plans to distribute the dump to other users (think of downstream projects like BTCPayServer, Raspiblitz, Umbrel, Greenlight etc.) should validate the dump like this at least once anyway. And there may even be options for distribution possible for downstream projects that we can not even think of right now but if we don't make the feature available they can also not be explored.\r\n- [ ] Usage of MuHash #27669 - While it would be nice to have this I don't think it is blocking because this can still be introduced later without invalidating existing dumps.\r\n- [ ] Make params configurable/not hardcoded params - I think it would be good to stay on the safe side for now and make the feature available to the public as originally planned. If the feature sees wide adoption and requests for more flexibility come in that would be the right point to explore this further.\r\n- [ ] Should old hashes be removed from source code at some point? - Obviously not relevant for the first mainnet params\r\n- [ ] How frequently should we update testnet/signet params and is there any way to deal with the possibility that these chains [may get nuked at some point](https://x.com/kallewoof/status/1763222648367308958)?",
          "user": {
            "login": "fjahr",
            "id": 1322187,
            "node_id": "MDQ6VXNlcjEzMjIxODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fjahr",
            "html_url": "https://github.com/fjahr",
            "followers_url": "https://api.github.com/users/fjahr/followers",
            "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
            "organizations_url": "https://api.github.com/users/fjahr/orgs",
            "repos_url": "https://api.github.com/users/fjahr/repos",
            "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fjahr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 17,
          "created_at": "2024-03-10T19:57:46Z",
          "updated_at": "2024-06-11T09:20:26Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNiYzYwNGY2YTc3MzliZjIyYTVkODExYjYzNjY0NTM4NjBkNTlmNGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cbc604f6a7739bf22a5d811b6366453860d59f4c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cbc604f6a7739bf22a5d811b6366453860d59f4c",
      "tree": {
        "sha": "495d35a77c81e1ef6f66c45c04868fe7d583dc14",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/495d35a77c81e1ef6f66c45c04868fe7d583dc14"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 495d35a77c81e1ef6f66c45c04868fe7d583dc14\nparent f3029560620453d7848e57bc2cbf5b042cb0a2a6\nauthor Fabian Jahr <fjahr@protonmail.com> 1718097571 +0200\ncommitter Fabian Jahr <fjahr@protonmail.com> 1718097571 +0200\n\ntest: Remove unnecessary restart in assumeutxo test\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmZoFqQVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNPmcP/29yeyf4WVtJQiRYOU8rEEz8qdPt\nAiVJpQVOWZn0wFiGCiy9QUJGAdEwIVIMPnsRcmLEc6dZoZNI35KSVSrRQi1YqmDc\nZyAnB6Xixg35mQW9eJc5NhtwBlhOguriSIXSnNZ0cMUssnr1q/ZsM0nFiRF8N8Oq\nV1Fg9W9O4p7OX5uG72iArqw5vcO0OefYZpl68SFpqB2tLa5BJBUFcorbd02hNMHD\nSntCIiujVCIu8nxb4NF67mmExZWUiDSqV37/1LOFEBcM8EkaCv1YBCILTeWLimAj\nIFiMRWG+gEjNwPNnWzbP5dCTsaHMlmXEldFLkSX8RjWQKoNhxTlmDFInyODiwH+r\nWOOreEeYF4jDbqQFWm8EHGMR9So3pO5XHlZtDSxNSUGXA5f3VMyiFNTfMA8NdHXG\nDoQDZuvCErSWoiF5RiGxeGR16U8bSaos/1XUG020WHdL68u0nMTwifSwmN1uljQB\nwM3GhQKtQRoQp3LtMEn3cRA5es0CIQ8BpxwXA+VqwwWa0hIAB4jUznj7Wh9dex1Y\nLdwpsbkxoM9IpY0kw1V0jagyDRGVamhrQqMW2JUrRq2HDHlpSdhUSeKRfvSIl1u0\nijHYLoCrNEfbk/V9I8rmy1N9lIK+eXBo8CmJyQFbXS47jBE4devAO8pd8+7PvbmX\nvzsxPxEBVcZbN9OQ\n=aq8l\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f3029560620453d7848e57bc2cbf5b042cb0a2a6",
          "sha": "f3029560620453d7848e57bc2cbf5b042cb0a2a6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f3029560620453d7848e57bc2cbf5b042cb0a2a6"
        }
      ],
      "message": "test: Remove unnecessary restart in assumeutxo test",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-06-11T09:19:31Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-06-11T09:19:31Z"
      },
      "sha": "cbc604f6a7739bf22a5d811b6366453860d59f4c"
    }
  ],
  "comments": []
}