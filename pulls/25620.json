{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25620",
    "id": 997739659,
    "node_id": "PR_kwDOABII5847eEyL",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/25620",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/25620.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/25620.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25620/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25620/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/20705cc08038054847ba165ffc055bacc78444ab",
    "number": 25620,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "wallet: Introduce AddressBookManager",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Finishing the encapsulation work started in #25337. Please review https://github.com/bitcoin/bitcoin/pull/26836 first.\r\n\r\n#### Context\r\n\r\nWe are currently using the address book for different purposes and features in the wallet such us:\r\n\r\n1) Store and retrieve own receive addresses with a label.\r\n2) Store and retrieve external addresses with a label.\r\n3) Store and retrieve payment requests.\r\n4) Mark addresses/destinations as 'used' if they appear on the blockchain (part of the “avoid re-use” feature).\r\n5) Know whether an output is a change or not based on the encoded script.\r\n\r\nSome of these points aren’t well known by many because this code has been spread and obfuscated across the wallet’s sources. (and created in a Frankenstein style).\r\n\r\n#### PR Goals\r\n\r\nEncapsulate the address book functionalities into its own `AddressBookManager` class, so we are able to distinguish properly the address book responsibilities and capabilities.\r\n\r\nBe able to decouple the address book dependency on the wallet’s main mutex (up to a certain point, because we are still using the same db connection).\r\n\r\nClean up the wallet sources further.\r\n\r\nBe able to unit/fuzz test the address book manager implementation isolated from the wallet flows.\r\n\r\nAnd create a new class that can be easily upgraded/replaced, and even different implementations can be used in parallel in different local wallets, by just providing a different manager instance to the wallet in the constructor.\r\n\r\n#### Next steps\r\n\r\nAfter this PR, will be working on improve the ‘change output’ flow which, at least for now, is strictly connected to this process (goal will be to remove the strict dependency).\r\n\r\n#### Pending work (still under WIP, almost there)\r\n\r\n* [ ] Add manager class description.\r\n* [ ] Clean CAddressBookData.\r\n* [ ] Cover the class with unit tests.\r\n* [ ] Double-check commits order.\r\n* [ ] Add addrbook purposes enum.\r\n* [ ] Make cs_addrbook RecursiveMutex a Mutex?\r\n",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2022-07-15T13:06:04Z",
    "updated_at": "2023-07-11T01:47:36Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "7fba812146e48cd8dedf55fd5d8c177689aa9d69",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "furszy:2022_wallet_addressbookman",
      "ref": "2022_wallet_addressbookman",
      "sha": "20705cc08038054847ba165ffc055bacc78444ab",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 143624913,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDM2MjQ5MTM=",
        "name": "bitcoin-core",
        "full_name": "furszy/bitcoin-core",
        "owner": {
          "login": "furszy",
          "id": 5377650,
          "node_id": "MDQ6VXNlcjUzNzc2NTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/furszy",
          "html_url": "https://github.com/furszy",
          "followers_url": "https://api.github.com/users/furszy/followers",
          "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
          "organizations_url": "https://api.github.com/users/furszy/orgs",
          "repos_url": "https://api.github.com/users/furszy/repos",
          "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/furszy/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/furszy/bitcoin-core",
        "description": "Bitcoin-Core",
        "fork": true,
        "url": "https://api.github.com/repos/furszy/bitcoin-core",
        "archive_url": "https://api.github.com/repos/furszy/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/furszy/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/furszy/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/furszy/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/furszy/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/furszy/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/furszy/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/furszy/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/furszy/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/furszy/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/furszy/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/furszy/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/furszy/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/furszy/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/furszy/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/furszy/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/furszy/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/furszy/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/furszy/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/furszy/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/furszy/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/furszy/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/furszy/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/furszy/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/furszy/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:furszy/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/furszy/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/furszy/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/furszy/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/furszy/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/furszy/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/furszy/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/furszy/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/furszy/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/furszy/bitcoin-core/hooks",
        "svn_url": "https://github.com/furszy/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 2,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 381574,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:22:00Z",
        "created_at": "2018-08-05T15:28:43Z",
        "updated_at": "2023-02-27T18:01:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "29d540b7ada890dd588c4825d40c27c5e6f20061",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T23:26:31Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25620"
      }
    },
    "author_association": "MEMBER",
    "draft": true,
    "additions": 344,
    "deletions": 117,
    "changed_files": 12,
    "commits": 12,
    "review_comments": 0,
    "comments": 10
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGExN2U1OTFjZDhkN2MzZGY4YmU0YTI5NjM0YTEwZjY2ZTMwMTNlY2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a17e591cd8d7c3df8be4a29634a10f66e3013ecc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a17e591cd8d7c3df8be4a29634a10f66e3013ecc",
      "tree": {
        "sha": "c44c21559bf0cbb20db625e49e98be7dac5d5011",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c44c21559bf0cbb20db625e49e98be7dac5d5011"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c44c21559bf0cbb20db625e49e98be7dac5d5011\nparent 85b601e04363664eae1b4b802cd8dde942761939\nauthor furszy <matiasfurszyfer@protonmail.com> 1657412642 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657846886 -0300\n\nrefactor: walletdb load, encapsulate 'm_address_book' access\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvGYACgkQXdI8zGhq\npiOGyw/+Nzo2RhlKJLnr55R4F+WYXkwXZBsr+UTudcoRBWlp8eQ8+1yMwAufZ3za\nG0mSwryIrDU7InG2D1AITpCIk+0H0OTxKDSdKNShOOq8oKXF4eM0ws2ByphQ2M7G\n6VQAK2bMdw+tFPm8rQUgFtSVRKDHuS9B9wn/mXUqJ+DTqz8uHZTZ6jgaODYVhtTQ\nUBJFALYIElVm5FnH4t9KPkYqrRHCx9ozpiU53JULHIxpSSuX6SM0UtL32s6YTO8o\nZD6fbEldX1YvCw6NYMqaLT/RwejVd9CHoxSeFfAINLnDg/yu5uF3QoAmEZpiFMlY\nu8f/CcXyfh4Jd8zrmTsCgDp3Gn2dhTfWOEQBbHmXhuPH29YYeLYYtGQJCwV7xBAj\nYJxTODHj6Ji2TBo7JRIrVMFTqO8Wo7jl6H2RdFUbtw/Q3FsNBn/CcevU9AeN5QiO\nBif0S4tDeGiV9/RSASBnOzhRgsqG2QZnNolgIPR/XshldzAG7hp58k+qxSiGAU66\nmIXO8sr66OKeDafVhdxS17sZtvd3NEPZHe2zYBzcUsltOUY1X5OILeeDi6wFWThZ\ns1clkv1srNAXetGoWeRWsLHhyuM7+xwb/Lx02sm6xGZApcUW3PhRbnX4cnd96olu\nYn6L/Xyk/1IbE2j0lhmIpiLb8WC21YvYr55a5nNAuIBzLDYk6qQ=\n=mJwV\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/85b601e04363664eae1b4b802cd8dde942761939",
          "sha": "85b601e04363664eae1b4b802cd8dde942761939",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/85b601e04363664eae1b4b802cd8dde942761939"
        }
      ],
      "message": "refactor: walletdb load, encapsulate 'm_address_book' access",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:01:26Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T00:24:02Z"
      },
      "sha": "a17e591cd8d7c3df8be4a29634a10f66e3013ecc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI3NmMzOGUzZjc0OWY5MmY1YTYwZWJiMzM5MTllN2Y1YTVmZWFiYzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b76c38e3f749f92f5a60ebb33919e7f5a5feabc8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b76c38e3f749f92f5a60ebb33919e7f5a5feabc8",
      "tree": {
        "sha": "a421d43f8a75937e869f6551a31794417a41459d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a421d43f8a75937e869f6551a31794417a41459d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a421d43f8a75937e869f6551a31794417a41459d\nparent a17e591cd8d7c3df8be4a29634a10f66e3013ecc\nauthor furszy <matiasfurszyfer@protonmail.com> 1657413057 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657846886 -0300\n\nwallet: clean redundancies in DelAddressBook\n\n1) Call IsMine only once (instead of two).\n2) Encode destination only once (instead of three).\n3) Don't remove the entry from the map if db write failed.\n4) Notify GUI only if removal succeeded\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvGYACgkQXdI8zGhq\npiMWPQ//Z1S6GWcBWb932q0hAU6Jlel07t2m0AElGJN7gR0hOyuxcASgFxpazsxZ\n5wqliPhhoBlVsQSIFP8va9dyBCxm1t6hFFC5rbhhdJZXGegL10dS7jMbIQrl87zc\nZcKgGXUuNKDnrxBmB0BY9QDEMKzCUh1Dn0i/xic81oQYHPuin3lCWdD0gWTHojge\nFnpB/LoavFOlkcdX8coAbd1uQO3lVNgmUN7CQH6EchOubrEmcZi7V9/r16RUyU2j\nhkFdFOr3wQEs+shHa61+2+ntgaKGDTjnxT2OYhoDIBv+Y27kaybGKASQMmClVYUG\nnfgI0+i0jJCDkzdR0gCIy2kEl1f6GEkpKbAx19BeMPbobbZ6Gtmz2jrmeoboC2Hj\n7Aedw87gKsljeObSWJtRRuVJtrwuINubv9C89qBMmacZAk/dIsSoB1SITUZw1QGp\niXnTcqUvfuzRSZHZrJydj+VsLNG0yMB6tgyE8Y2H9H8TQgr8HqyUDTNfMjZieXXV\nDU67GjdTzvFeM6oURsZjK0brueLl1T1ohLFSmEuI3u2yN5QZEaf0OpJk1MDkhLCX\nfqEaEUCrgGxV5yc+jKv3nQiKeS+1BprGc4FThcDqVETEnuadlmSDL+1kYrjoZEjY\nfyp+yuEWDWFaZfmJnI8Ig50ShyVSGC2JiN8OdO6le0BAUYbRSAc=\n=rMve\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a17e591cd8d7c3df8be4a29634a10f66e3013ecc",
          "sha": "a17e591cd8d7c3df8be4a29634a10f66e3013ecc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a17e591cd8d7c3df8be4a29634a10f66e3013ecc"
        }
      ],
      "message": "wallet: clean redundancies in DelAddressBook\n\n1) Call IsMine only once (instead of two).\n2) Encode destination only once (instead of three).\n3) Don't remove the entry from the map if db write failed.\n4) Notify GUI only if removal succeeded",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:01:26Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T00:30:57Z"
      },
      "sha": "b76c38e3f749f92f5a60ebb33919e7f5a5feabc8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcyODUzMGJlN2MzM2I0ZjE3YzBlNmI0YWZmOGE0ZmZkMTJjZjhhNjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/728530be7c33b4f17c0e6b4aff8a4ffd12cf8a68",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/728530be7c33b4f17c0e6b4aff8a4ffd12cf8a68",
      "tree": {
        "sha": "f945328bf0947e98da2b759f2dde37a02733efec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f945328bf0947e98da2b759f2dde37a02733efec"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f945328bf0947e98da2b759f2dde37a02733efec\nparent b76c38e3f749f92f5a60ebb33919e7f5a5feabc8\nauthor furszy <matiasfurszyfer@protonmail.com> 1657414117 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657846886 -0300\n\nrefactor: SetAddrBookWithDB, signal only if write succeeded\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvGYACgkQXdI8zGhq\npiNP0xAAgURqM3iPYbmItrFC67d4fIsLpIq4pUoThD/Pzau7eZIGTln9RK/i7TBc\n7OSh7agGnT6UNR7U2PaXrWCJobGY/IVAcA9cGmZpI2udrpkKwwCQmHieTpa0a2MG\nBBGg78YH+H07XfKAGK7z/gVwnK4gksHrInxXRHLvE4p4c5E3vbu1awOpoO5GR/io\neR8VE10BUicWDb5MWrKNJkF918bFHYA1cSrgimWPYCR3tLjOamVKXlFwjp6oJwTY\nHi2jKDZQO2jedx1OY4omGfgotVGijVrZVRPgFpLzbw2aXtLRSgBfQRIa6h6bRF5x\nehxqS0vOPmoTOdWOOqlPb7qNq3Lk6xEdzKlwgmj0VvDpELeVyTfaH8w+aZi0L3TM\nn8wYMbMWrpWTLDsIezmd6k+KrFDWaDLtbAV8+bGe3x2XKkgEd7Gl1bYwhtNnQQl0\nwexz61ZAq07Mh2rDa+DN7XV86GAEAX/1UtHQ3gBfQdi4x7lqXZj3a//SEU6gpb4i\nzm1/buz5BnVfhheXicAXwN8bzjLSjTTYMLjXNMiolUfACPPPI9TvI9aKph+fzZ81\nB/4QHxC2KGzIMkE2LCBLLPQZC9CJ+IXanWbS3hIOJJT4SBNiQK81rScX8J97dtS0\nUrnNFLvfE9xhUgFFb21jg0JHJ5wv3BmjN7/7FhhFqICAsvPQqS0=\n=E3B0\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b76c38e3f749f92f5a60ebb33919e7f5a5feabc8",
          "sha": "b76c38e3f749f92f5a60ebb33919e7f5a5feabc8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b76c38e3f749f92f5a60ebb33919e7f5a5feabc8"
        }
      ],
      "message": "refactor: SetAddrBookWithDB, signal only if write succeeded",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:01:26Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T00:48:37Z"
      },
      "sha": "728530be7c33b4f17c0e6b4aff8a4ffd12cf8a68"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM1ZGQzZjkwMWU2YWNiMTY5ZmQzYjllMTE0ZGM5ZjIwNTM2MTI0M2Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c5dd3f901e6acb169fd3b9e114dc9f205361243f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c5dd3f901e6acb169fd3b9e114dc9f205361243f",
      "tree": {
        "sha": "0be3b5ef5091fd6936a57e0812c777db12e5ed3c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0be3b5ef5091fd6936a57e0812c777db12e5ed3c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0be3b5ef5091fd6936a57e0812c777db12e5ed3c\nparent 728530be7c33b4f17c0e6b4aff8a4ffd12cf8a68\nauthor furszy <matiasfurszyfer@protonmail.com> 1657414355 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657846887 -0300\n\nrefactor: encapsulate wallet addrbook size\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvGcACgkQXdI8zGhq\npiP6BQ/9GhPkkpT7ei5qzXu+tRp1bYwJpI8NaGNqKKjMUbi96RxVMbd7NElWuMny\nml4kJ4uOGtKdXftq0CY++Ov+02W0JbaVTPKbON18xQqUHMpCBZ2tn7OjVFeRGVnI\nj/rsj0GRwNQ+R3qieQSVXd4Ph8zfN6qTaka4Sb/KvfBzJP9TwKnngD4RCO2VKTfN\nXw51VyYsqPmtP65IohHd976wRGIa9wwtrbv9xaPpAnY6h2u2QulPew4SMsB2kBRi\nc1MUhoduvQNJq7fAEoXAV04qLpTtr3VDkqV8bAURApaEwR1AS70ERgm0GKa9a30M\nip2DbNyehSRPNldOVD2CUjqR8h83MS+Vmu1HdOfxmQcxx1w5TAAInmxQrzQ+d2w8\nj4jB44h+ntd4WriKurJwQ4YWBPTzlOWBCvqolzf/KY0jTkHwF9pQOEdeeejKS56M\nsNOUm1nauM0ZIy2SNmh3NC42iczelAYWL63xFhYtInI6OrFNVNBcRhBnEsI5fYqX\n7Ys4f9KnaSlTcl7JUBCq2pUu75wzufJOCJhihU37FcxKl+EUf60BKDe7o1c0AzxN\nOnZ6kcHDzrporNF+tDX+QU9wM4oGpjis940PzwtGkYheXdFxNiJzyM06kWyfeyVE\np4AUaFLC78koRm3njfTGcCcwzYlmJec8FZMH4PZBaOUKQNG2Ozc=\n=V4v9\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/728530be7c33b4f17c0e6b4aff8a4ffd12cf8a68",
          "sha": "728530be7c33b4f17c0e6b4aff8a4ffd12cf8a68",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/728530be7c33b4f17c0e6b4aff8a4ffd12cf8a68"
        }
      ],
      "message": "refactor: encapsulate wallet addrbook size",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:01:27Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T00:52:35Z"
      },
      "sha": "c5dd3f901e6acb169fd3b9e114dc9f205361243f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ1NDNmZjYzNTk0NjkwMDNmNThkMGJiODUyZjYwMWIzZjg5MzQ1ZDU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4543ff6359469003f58d0bb852f601b3f89345d5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4543ff6359469003f58d0bb852f601b3f89345d5",
      "tree": {
        "sha": "6511bd2cfd9f15b01f168ac928c15f6054950685",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6511bd2cfd9f15b01f168ac928c15f6054950685"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6511bd2cfd9f15b01f168ac928c15f6054950685\nparent c5dd3f901e6acb169fd3b9e114dc9f205361243f\nauthor furszy <matiasfurszyfer@protonmail.com> 1657330490 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657846887 -0300\n\nrefactor: move CAddressBookData to addressbookman.h\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvGcACgkQXdI8zGhq\npiMqmRAAkG9V7gLQM2s2W/304gDkaVa/RK+hkAAXJvNEVsENXcia0dUZenMIVHX5\n630qh49489rtcBPsYmNACHHEPoaYcC3PtJGYm4CLbJStIEl2pXWZrxe6+9sCECAk\nXc9XtN6wQroWNjW0rrQG16WDp7eQrGnO+kK8NGSGVAI5218zVogWC6ixqWMV383F\n2W+N+IYjr1JlL+alYJ/42mJDNVIl7wOXKFT1pkwWSJAk0RUUZ9wOHoWNqvNAkq7I\nW5lxQ/tXIU4w6k9bh/Rg7xdBjl6i120WIdOuL6YIxZBEJ38+y5LmtvgY8aKeIMKv\na78I/tI4UITBIamIb/iOro50TDNuC4Kh/IZ11BYqIezyx4m4lwhEE1V2dC+Ut9m1\nblnh6o5bLocZViAU0OO09qnmIalxLb0tDS6m7w3/U0rbdVDadg3cwQd3f256p6Lr\nL9g1aYEhAFKNbw5e2CoC6cGrQ4l16DEUXrVAltTUUoEeN+l4JHEK8c5ZGndaLrWn\nG2gwubTYL0Upd9UqYwW65AD3wJYW3CDFU9IKopY3K3PR8WUcC7xqtU/EpvBLPOpI\nYaR8U/M4jVI+cGu9oUEDyncEMffPSEZUico7/9VTIZQg9FJQr8RIHraGDw8O0Hyu\nWpgMnrqHwonYw58HWQyfIoSb/TsOqFcQxkxcuNV1ia+ocSPjczc=\n=6MKO\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c5dd3f901e6acb169fd3b9e114dc9f205361243f",
          "sha": "c5dd3f901e6acb169fd3b9e114dc9f205361243f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c5dd3f901e6acb169fd3b9e114dc9f205361243f"
        }
      ],
      "message": "refactor: move CAddressBookData to addressbookman.h",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:01:27Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-09T01:34:50Z"
      },
      "sha": "4543ff6359469003f58d0bb852f601b3f89345d5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU5ZTcxYWJhMDFhNzMyYTNjNTQzOGRlZmFhMWEyNmM3YjhiZmJkOGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59e71aba01a732a3c5438defaa1a26c7b8bfbd8e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/59e71aba01a732a3c5438defaa1a26c7b8bfbd8e",
      "tree": {
        "sha": "8ca01032b7e783e29782f238c054ea9a2896a0a6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8ca01032b7e783e29782f238c054ea9a2896a0a6"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8ca01032b7e783e29782f238c054ea9a2896a0a6\nparent 4543ff6359469003f58d0bb852f601b3f89345d5\nauthor furszy <matiasfurszyfer@protonmail.com> 1657334013 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657846887 -0300\n\naddressbook: introduce addressbook manager\n\nWith Put, Find, Has and Delete methods\n(Same as it's implemented in the wallet)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvGcACgkQXdI8zGhq\npiPj2g/8DA3cPgFlWhBMoQLO4EmRTzwvGOtEd9aoUSGeaqRDNjlNB+Kh2V0p93ZL\njtv2pRprdEXRIj0Bcz4rs1lc5RQNp36D92ykQD+54b3gdfjvd/lg5IH0OtuXz3x4\nYm7roSY+6sDhwEbJWmEi2BF50o9bwWfiKZvPYmKmDnvKK4e8FUWbIPBnU+GkRGLJ\niInn1uI/xOa0bxfE9IZ8x7+ZOBB+4vhB4ZToEVDJ/mpxPImjarGdEWkERbAnBIhD\n5lcgg0TFqhbWSwYjshzdooGAfFAb7o+4GOzPr9/GONN5Mo4tHgHC+St4HUZQBUUX\nSOuRgMLk7c6A84dso+3/3DwGX1GUl27dBsNKvbIli9IxNeULS5Y2yi7r0EeYtEQG\nfPlldKpWKFCw4N7uQigTdayo82a1U++ufEZ4TtZPpFfOdU/a01XIvaaCOcDDoQxU\nIn4MSqsOXWKnHH9nus1HcgNpIZsa0ShVRSPeJMzM9BOv4yrs4ICTveV39LJmlF12\ndwyUEukJTJVXEetY35BUouVziadvZGn8HxsZR3rdPNsA7sXOTyIbzFfFrJGLQn6Y\nFK8RuVW1xFCFeRofaqKJ5yyHQXc4WFGfyS2dNFsb6evQTiWG6vohRIZBYo1p7wpN\nnr4LRNPQIez4821LQHVRnwCbIaIZejjgsnqJ/sGZZ8YgVamF/yE=\n=2Fw3\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4543ff6359469003f58d0bb852f601b3f89345d5",
          "sha": "4543ff6359469003f58d0bb852f601b3f89345d5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4543ff6359469003f58d0bb852f601b3f89345d5"
        }
      ],
      "message": "addressbook: introduce addressbook manager\n\nWith Put, Find, Has and Delete methods\n(Same as it's implemented in the wallet)",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:01:27Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-09T02:33:33Z"
      },
      "sha": "59e71aba01a732a3c5438defaa1a26c7b8bfbd8e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVhYzMyNDNjODczNzRlZTkzMGY1NzJiYTY1ZTlmYTY2ZWRjYzRiZjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ac3243c87374ee930f572ba65e9fa66edcc4bf8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5ac3243c87374ee930f572ba65e9fa66edcc4bf8",
      "tree": {
        "sha": "401337c67132e06950b5dec6cb71d085f0f74c96",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/401337c67132e06950b5dec6cb71d085f0f74c96"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 401337c67132e06950b5dec6cb71d085f0f74c96\nparent 59e71aba01a732a3c5438defaa1a26c7b8bfbd8e\nauthor furszy <matiasfurszyfer@protonmail.com> 1657459593 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657846887 -0300\n\naddressbookman: implement ForEachAddrBookEntry\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvGcACgkQXdI8zGhq\npiMNWxAAnwL/3im8TA6ErPhU6CSv4tDGz0PBF5RuMi9G63eiPRLdJKufEk1yl83q\nlIe5yQT/VToDQKRsv/dICVGwuxCUfzxGREfYdNjN5OsDoqQEAA9WrIQ2L5Q3BaW/\nT8f80fy5FFNTny3xzP9p1r7sgDRTn9szNAXbO3LMnEGH8xidj/+kq4IdHHUpJi5G\nd+U/i2DcrlYMLQmqk3nmoN4FvMegBBmYmvhn7U1E1iCU7yfAn6LIK8fRi15IjDvq\nt5f97NT2hL5/ZjuP5Pk2xXhTMAGmwNe9shTDsX8Xb88S8J3pI2VmuzxrPPLkn74w\nNYq+v9WtCPnjxqo3d4QJ05G7kPRc0e69WLVCFtnQUkUYecp1z3lQObLJqY33CY3f\n5b6jEsqUNo/B6g5uM8HOt1yQuGA3KKZ8BBNTgF/jIjEO3+uL3iQpyyb6IWx08eTA\n862sHiVEUuLmd6qcGHiPCzLNEui2p/ROf2soIFdM7a9r+V2mEgnLiLbUFtmohnxp\ni21vkxylzaitpQ0v3b1rWc3IYmIhBE2iVtWVx9MCoqiPHXT6IxdE/pkTn5ztOkae\nIjIBM6zih5ldNDyK4T1waTw88uq3kkuu2YZzF6BRhwv41BRbNzOLqIzc1lHUCTEj\nDqGbZJEn/v9xgyU/lQYQjKKRe93j0AcJu2fSwn7EWCavT23QIEc=\n=kOS6\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59e71aba01a732a3c5438defaa1a26c7b8bfbd8e",
          "sha": "59e71aba01a732a3c5438defaa1a26c7b8bfbd8e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/59e71aba01a732a3c5438defaa1a26c7b8bfbd8e"
        }
      ],
      "message": "addressbookman: implement ForEachAddrBookEntry",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:01:27Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T13:26:33Z"
      },
      "sha": "5ac3243c87374ee930f572ba65e9fa66edcc4bf8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFlZjYzMzY4NDM2ZWM5NjgzZTZlNWRmMzQ0NzFiOGM4Y2Q4MjUyODM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aef63368436ec9683e6e5df34471b8c8cd825283",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aef63368436ec9683e6e5df34471b8c8cd825283",
      "tree": {
        "sha": "0b47eb33c8192ac9a777613b36656d3e59f4469d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0b47eb33c8192ac9a777613b36656d3e59f4469d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0b47eb33c8192ac9a777613b36656d3e59f4469d\nparent 5ac3243c87374ee930f572ba65e9fa66edcc4bf8\nauthor furszy <matiasfurszyfer@protonmail.com> 1657459900 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657846887 -0300\n\naddressbookman: implement GetSize, LoadDestData, LoadEntryLabel and LoadEntryPurpose\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvGcACgkQXdI8zGhq\npiPt4g/+JVtCgkCShiAuZkuBkpK2ZhFAXLFJpmf5vPZajHkIbS7fG4chAZk9qpTM\nQZTzOhiMh3um6gPbmyd29xrkbPOTxK1rZi3LwSyFKsYqVjC24yToTqAnIk0bSHhg\ndicVmliCsS4P7DilJX6TR1J4S6FvDHgrHeCO8z1lh7OmbqizBcE/xLgQXNSuu2gR\nNem1bm8IOGtRI9DmHwGpmhIu49u9Do99jB83ueFmxqgU+Y4xN27YqaATHE/iz3ed\nvosbEIttGRJFmn9w3TIqG0ObKF3p6wXaI2gCezG9Sk4wWsP1XkMmkOQqz2lWoA92\nLAOKPZjeua/Q+B78v0F/Rb2HN+qbMvLFdOUoMuNideJ4Qal4gt3fHG43lL0t3MI6\nQqMR2H5J9S+4ylPntNBhpeFFTXdGseG/I2Z0exf+BQDxvWl5vTZWzMnsSab84yVn\noWZr1czaPL0uaJAB+g+10flbgmNMAoSD9LnUe7AsW/2SCgKhGG+pSLcTgB+qiB2o\ncsqtIlKf/vtDskBl2PwDFv54Nqfj4MVOAaIBJUqPSDbu1JxPB7FVnlg3LnAEO23j\nCs6D3XQAXxhRNbX90vSXfm8hZkdHnYjwyz+Ecgi+cnitUlsB6AxAlZm7k61hv8Uj\nrxofR7o1RUoho7YQJA4YQTEF+mr+9XhIlVq2+FdwFDaJmaxuy1s=\n=wC8x\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ac3243c87374ee930f572ba65e9fa66edcc4bf8",
          "sha": "5ac3243c87374ee930f572ba65e9fa66edcc4bf8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5ac3243c87374ee930f572ba65e9fa66edcc4bf8"
        }
      ],
      "message": "addressbookman: implement GetSize, LoadDestData, LoadEntryLabel and LoadEntryPurpose",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:01:27Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T13:31:40Z"
      },
      "sha": "aef63368436ec9683e6e5df34471b8c8cd825283"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZlZmQyMjViYmZjMDVjNzY0ZDEzYjlkYTY2ZTlkOGQwYWRlOGFhODY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6efd225bbfc05c764d13b9da66e9d8d0ade8aa86",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6efd225bbfc05c764d13b9da66e9d8d0ade8aa86",
      "tree": {
        "sha": "7e91e949b9bd8c565ee039da271e60e4dc33ca0a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7e91e949b9bd8c565ee039da271e60e4dc33ca0a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7e91e949b9bd8c565ee039da271e60e4dc33ca0a\nparent aef63368436ec9683e6e5df34471b8c8cd825283\nauthor furszy <matiasfurszyfer@protonmail.com> 1657460741 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657847421 -0300\n\naddressbookman: implement SetDestUsed and IsDestUsed methods\n\nSame flow as CWallet::SetAddressUsed and CWallet::IsAddressUsed\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvn0ACgkQXdI8zGhq\npiOUFA/8CmRTgvCkUC9epL6vNhBadtKy/CYyCGUrFtI+2p30NEqLQoV55HcJAw2D\nGGbv8bfsVeJcLB+RFghJehSrPu2vuB+19Fc3Q7qCx/yparJF9x663ps+u3OPs0/1\nBh7hZulsGg1hEIj5bLMmnsqJM3Ki9A8F8g9DXvX5kkSSKVPAsiEQny1uiRvXuI3A\n604zLNaCkc3ZU/eVDbz4Vb1wHC+2h8Mmhcc1/JlVDESs+V9rbWJ9JP1T/N/8YOyp\neu7djxFubHoXwD1Zudk2OwnsQsznIKvq/nJiJUXRp2+6oYgkqFvyD8R1AwzrmzFN\nbVO26TFPRa2Zz3u+IncZtNK3028aHFfbyU72VmWJeomEQV2nDroBrlWt5/1lZwNC\npYSENArCgK3JpTWmuD0twFmomdOHVQ/ICZVgs4E9EVjHbGAYFZhlHQ31R1bptpHu\nXrNzMoqy+G86fRdRNwfiy0SNoPJkrd+w1hmA4hN7YydJCZC+zQNJ5GKAj59Dck6X\nVTvfC6yNyZVMvoGO6McR39q4aLK7FSS7w/j3Sq58DR9LvqtArdzdJUYnhVlnbJMc\nyuzjkrO7bHJNefxExmCjOn4HKpbNYdQwawmI3RY34QGzw8KpEy3DKuycOs6XusnN\n8pRX+agdE2CC/QcVoJmOOP+lvnxE+Y+mhUSN0rjF5UygfLI5Cfk=\n=lr/x\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aef63368436ec9683e6e5df34471b8c8cd825283",
          "sha": "aef63368436ec9683e6e5df34471b8c8cd825283",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/aef63368436ec9683e6e5df34471b8c8cd825283"
        }
      ],
      "message": "addressbookman: implement SetDestUsed and IsDestUsed methods\n\nSame flow as CWallet::SetAddressUsed and CWallet::IsAddressUsed",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:10:21Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T13:45:41Z"
      },
      "sha": "6efd225bbfc05c764d13b9da66e9d8d0ade8aa86"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYxZGZlZDM3OWEyNDRjYWVhMGU2MWZiNzk5YTJmOGMxOTY1MDUyNGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/61dfed379a244caea0e61fb799a2f8c19650524c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/61dfed379a244caea0e61fb799a2f8c19650524c",
      "tree": {
        "sha": "bba623be2a834b2d0dbb23ff9a7c21992ef18331",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bba623be2a834b2d0dbb23ff9a7c21992ef18331"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree bba623be2a834b2d0dbb23ff9a7c21992ef18331\nparent 6efd225bbfc05c764d13b9da66e9d8d0ade8aa86\nauthor furszy <matiasfurszyfer@protonmail.com> 1657461821 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657847421 -0300\n\nwallet: connect AddressBookManager\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvn0ACgkQXdI8zGhq\npiMRkA//UDhpjDYyvftIVtTgDZouBHUtkJ31xZ1DQej9nNf46vu8brjsxh7vY5rn\nqnKj1FNu8BzgLMVCUYF1n1IZciIl1Z9RCuiUEAvpznXLk+DRZMXaPxoKUUKjhR7X\n1f2Hs1AEa/InlnGB/yfiXe7sdtmgO1FHnQD64qhKznTMrnpWFMhxtpf5guBxn4lV\n4vmn30Hnu14DXIAWs8InrleLVtGbARD0CXWfbAXD3H7GXuOdfn+o1bgkDEPIgbPW\nE+PgJiugoY/EMFDFDwnONn8wMytPf2sXd34UV4hbE+lusjg8jPITpNJumiQTflAv\n21X5hm6s3Fn07+weboezWXywiWtrTJ6PJU24mIyj2FCzYAQQyxmqQNK0yuW893eH\ngSWl8ybaTrNs4ZFfsu3vYfvWa07Bx1le367VG7FicQmrNkeYZ17iDOLSVqJ46GlR\n8FR9zQHZpAIkbaYXc2v6aoycTv1OUQUU5ezWgPHQfMdwJP147n+h42WcM1mEYhHc\njDGNEb5FayN/QGIKzHEjyuNmt7enD19QxzlxxL6g+fy+YCfyfuR0Toa49qe6VOvq\n9bmO7e8w0azROIDF3bpD5kpajcuk0R16bowobGCPhuwbuZbJpy91vY9WhhmqvQm3\nrBfhsVWOXpBUos99hz9dSYFCfqSI+B0J0mOAsfEsQ0iDel4pAHA=\n=nxkf\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6efd225bbfc05c764d13b9da66e9d8d0ade8aa86",
          "sha": "6efd225bbfc05c764d13b9da66e9d8d0ade8aa86",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6efd225bbfc05c764d13b9da66e9d8d0ade8aa86"
        }
      ],
      "message": "wallet: connect AddressBookManager",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:10:21Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T14:03:41Z"
      },
      "sha": "61dfed379a244caea0e61fb799a2f8c19650524c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDljNDA2YWM1M2RjZmU5ODY1NmFhMGI2NmNmOTU1MGI3MjEwNmMyZDQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9c406ac53dcfe98656aa0b66cf9550b72106c2d4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9c406ac53dcfe98656aa0b66cf9550b72106c2d4",
      "tree": {
        "sha": "b6eff782721be059f4f34f7e3fe206bfc6297fc1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b6eff782721be059f4f34f7e3fe206bfc6297fc1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b6eff782721be059f4f34f7e3fe206bfc6297fc1\nparent 61dfed379a244caea0e61fb799a2f8c19650524c\nauthor furszy <matiasfurszyfer@protonmail.com> 1657462495 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657847421 -0300\n\naddressbookman: add GetEntriesByDestDataPrefix and SetEntryDestData\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvn0ACgkQXdI8zGhq\npiMssw/+LUVAPzpk5VsiZdr4elj/3IGw5+fK2TRkWXzVmjI+DegWq4jix7QWxSGI\nfoitZBFBjDAy9jCK6LAqt97a8b1QbfADXe7DXaEmiThfBsljsU7f1msREhQyfh1N\nWGMhNWCwEo/j+n1URhkjVf3LU/ghItWk5sJeVz5n6mlHQmqPQuykMfpxMptt/N/n\njpJpjtdG6aAGvbSkMG98vszVkC4QWsxVPRKpTVJhqbmDRyE3rh5hwaa3vpV1BjEB\nWFcloAVQs8VUIDjVnZZKzL8+nDKVE3YyKWgXgpIDbUqEyfl0Ufhsaxf4pXQeoKnY\nrrNcVGqeq/ROLRebtpspFfrytsTUR44/fYRxUpwr4Rk/pxx/PwLwNxB60t1eWG7v\nAaPYk5BnsZBgUNz+HLHYIMvYK66Ml7VaqI7qPZ9V7jIiM8H0pmacGhPoLkxPIG2C\nlwqm9rLyvi7CgbZ08Ppi1fkXnY/KvnJsqR+fMNlGMaGePdoSOy3A4HXCVOvDNMbZ\n34qohSDk28eftf9n70rMTsmP104rncsv95IbKEZ1wEFOUNv268jE2LfdnnaK7RCj\n1CTLMBiZYkRt01NgrkGo6URKjT26xKkL0Mns4hGT8DQF8g1ku9nHv1MQCRCq/vVU\nXHj0Wvjzbe1SIzxxJBb/lpvsW/IqA4NPJ4N4x+LbiRWSKktBLLU=\n=Qp5E\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/61dfed379a244caea0e61fb799a2f8c19650524c",
          "sha": "61dfed379a244caea0e61fb799a2f8c19650524c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/61dfed379a244caea0e61fb799a2f8c19650524c"
        }
      ],
      "message": "addressbookman: add GetEntriesByDestDataPrefix and SetEntryDestData",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:10:21Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T14:14:55Z"
      },
      "sha": "9c406ac53dcfe98656aa0b66cf9550b72106c2d4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIwNzA1Y2MwODAzODA1NDg0N2JhMTY1ZmZjMDU1YmFjYzc4NDQ0YWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/20705cc08038054847ba165ffc055bacc78444ab",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/20705cc08038054847ba165ffc055bacc78444ab",
      "tree": {
        "sha": "b4eefac075fcbd10f0d354732bd910e5fe136843",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b4eefac075fcbd10f0d354732bd910e5fe136843"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b4eefac075fcbd10f0d354732bd910e5fe136843\nparent 9c406ac53dcfe98656aa0b66cf9550b72106c2d4\nauthor furszy <matiasfurszyfer@protonmail.com> 1657462714 -0300\ncommitter furszy <matiasfurszyfer@protonmail.com> 1657847422 -0300\n\nwallet: refactor FindAddressBookEntry to return std::optional\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmLQvn4ACgkQXdI8zGhq\npiMifQ//SmDf9+fhIr/Eiv9H3agGIjeCKgoXBS0avxkk2mkCATFJqtg9EHHWN/d+\nioa/UIl4HpOnIBQZXf3ua3JQ+LSNNytdKNfaNJViSTkDzhV5TnHbWIvMv9vqhdii\nvtMXi9iYc05ZEPNW55J9wFQt1ZoiqBdevEwFLAFqY2xqltTD5i8i7KJNd/bOVB7m\nOjX663W9dC2j4vjC45Z/vudXm1ahii56nqYFm+pcFd6mmPIh7j/FBav1nN9KOXgK\nVd73X+QtXscbr6cW/0a3yDDD6ABzWGOukLXqYB/lyi/Gt0atSEy0jGRBWHrgURBK\n5xZxxsRe+EhA713lsd0li/LPaB1gAM1I7xsBCpfpSE59rpMZUNjZZw2hsz9G+A9x\nC7AnwIJDNsvx6rq/QQ1yN27F+yAcWf822ZFHZHomtFhwij+MburbjPyvNbpYbzU6\nbZHvKcSPrUzY84ia5w84zlQbLlQ17bBwPdnxUY5718NsfZ6QxYqjd8nNdK9Kb37u\n+3w4MZ1p0beU0KQ8DwLdYQ4tO+WSemq9kH/zFI8iPju6/5t2PlFccsyF1XVGBpPT\nLNI28SoZsqiXtUwT51wH8a3HRJM/+zH0SSfhQDOMYf3YIa8+07j+D4IyQS+AlIMb\nyvNaQ8RgYQHwXDOIfzm6XAOcWWJd2ANzUhWbEMJtNAiKcJJ+S5g=\n=c2il\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9c406ac53dcfe98656aa0b66cf9550b72106c2d4",
          "sha": "9c406ac53dcfe98656aa0b66cf9550b72106c2d4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9c406ac53dcfe98656aa0b66cf9550b72106c2d4"
        }
      ],
      "message": "wallet: refactor FindAddressBookEntry to return std::optional",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-15T01:10:22Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2022-07-10T14:18:34Z"
      },
      "sha": "20705cc08038054847ba165ffc055bacc78444ab"
    },
    {
      "event": "labeled",
      "id": 7002388017,
      "node_id": "LE_lADOABII585N2DhPzwAAAAGhX_Yx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7002388017",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-15T14:31:34Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "commented",
      "id": 1186052486,
      "node_id": "IC_kwDOABII585GsbmG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186052486",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-16T01:43:17Z",
      "updated_at": "2023-04-12T10:18:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [S3RK](https://github.com/bitcoin/bitcoin/pull/25620#issuecomment-1191091976) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#bitcoin-core/gui/723](https://github.com/bitcoin-core/gui/pull/723) (Add warnings for non-active addresses in receive tab and address book by pinheadmz)\n* [#27286](https://github.com/bitcoin/bitcoin/pull/27286) (wallet: Keep track of the wallet's own transaction outputs in memory by achow101)\n* [#27224](https://github.com/bitcoin/bitcoin/pull/27224) (refactor: Remove CAddressBookData::destdata by ryanofsky)\n* [#27217](https://github.com/bitcoin/bitcoin/pull/27217) (wallet: Replace use of purpose strings with an enum by achow101)\n* [#26951](https://github.com/bitcoin/bitcoin/pull/26951) (wallet: improve rescan performance 640% by pstratem)\n* [#26836](https://github.com/bitcoin/bitcoin/pull/26836) (wallet: finish addressbook encapsulation by furszy)\n* [#25297](https://github.com/bitcoin/bitcoin/pull/25297) (wallet: group independent db writes on single batched db transaction by furszy)\n* [#24914](https://github.com/bitcoin/bitcoin/pull/24914) (wallet: Load database records in a particular order by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25620#issuecomment-1186052486",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-16T04:06:13Z",
      "updated_at": "2022-07-16T04:06:13Z",
      "source": {
        "issue": {
          "id": 1263730107,
          "node_id": "PR_kwDOABII5845REBZ",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25297",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25297/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25297/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25297/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25297",
          "number": 25297,
          "state": "open",
          "state_reason": null,
          "title": "wallet: group independent db writes on single batched db transaction",
          "body": "The block connection process, same as many other wallet processes, contains plenty individual db writes.\r\n\r\nThis PR batches all the db transaction that occurs along each wallet workflow. Dumping all the information to disk at once atomically at the end of the process.\r\n\r\nThen, for BDB, fixed places where we are flushing to db directly on individual writes. e.g we do it in the in the chain sync/scan process, when an output that belongs to the wallet is found if the address is not inside the address book. \r\n\r\nPlus, in several places across the wallet flows, we create new `WalletBatch` objects. Which, internally, mean: Increasing the db references number, try to open the db and, for SQLite, setup and bind the statements.\r\nThis PR avoids all this overhead by sharing the same db handler instance through each entire workflow.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25297",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25297",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25297.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25297.patch"
          },
          "created_at": "2022-06-07T18:55:49Z",
          "updated_at": "2023-05-15T12:01:42Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-16T05:46:48Z",
      "updated_at": "2022-07-16T05:46:48Z",
      "source": {
        "issue": {
          "id": 1207463736,
          "node_id": "PR_kwDOABII5842Yh4P",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24914",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24914/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24914/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24914/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24914",
          "number": 24914,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Load database records in a particular order",
          "body": "Currently when we load a wallet, we just iterate through all of the records in the database and add them completely statelessly. However we have some records which do rely on other records being loaded before they are. To deal with this, we use `CWalletScanState` to hold things temporarily until all of the records have been read and then we load the stateful things.\r\n\r\nHowever this can be slow, and with some future improvements, can cause some pretty drastic slowdowns to retain this pattern. So this PR changes the way we load records by choosing to load the records in a particular order. This lets us do things such as loading a descriptor record, then finding and loading that descriptor's cache and key records. In the future, this will also let us use `IsMine` when loading transactions as then `IsMine` will actually be working as we now always load keys and descriptors before transactions.\r\n\r\nIn order to get records of a specific type, this PR includes some refactors to how we do database cursors. Functionality is also added to retrieve a cursor that will give us records beginning with a specified prefix.\r\n\r\nLastly, one thing that iterating the entire database let us do was to find unknown records. However even if unknown records were found, we would not do anything with this information except output a number in a log line. With this PR, we would no longer be aware of any unknown records. This does not change functionality as we don't do anything with unknown records, and having unknown records is not an error. Now we would just not be aware that unknown records even exist.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 23,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24914",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24914",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24914.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24914.patch"
          },
          "closed_at": "2023-06-27T23:03:39Z",
          "created_at": "2022-04-18T21:18:28Z",
          "updated_at": "2023-06-27T23:03:39Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-16T05:49:18Z",
      "updated_at": "2022-07-16T05:49:18Z",
      "source": {
        "issue": {
          "id": 1206247497,
          "node_id": "PR_kwDOABII5842Uktn",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24897",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24897/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24897/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24897/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24897",
          "number": 24897,
          "state": "closed",
          "state_reason": null,
          "title": "[Draft / POC] Silent Payments",
          "body": "This PR proposes an early version of [Silent Payment](https://gist.github.com/RubenSomsen/c43b79517e7cb701ebf77eec6dbb46b8) (author:@RubenSomsen).\r\nIn this scheme, the recipient generates a public address, but the sender tweaks the address and the recipient detects the payment by verifying all transactions on the blockchain. An example use case would be private donations.\r\n\r\nThe purpose of this PR is not a final version, but to start the discussion and get benchmarks based on a real implementation.\r\n\r\nThis version is built on top of [#994](https://github.com/bitcoin-core/secp256k1/pull/994) (bitcoin-core/secp256k1) for x-only ECDH support and #23480 (bitcoin/bitcoin) for `rawtr()`. Each new silent transaction detected is stored in wallet as a `rawtr()` descriptor. \r\n\r\nIn this implementation, the sender can tweak the recipient address by passing the `silent_payment` option to send RPC. The transaction output will be different from the address entered.\r\n\r\nFor example `./src/bitcoin-cli -regtest -named send outputs=\"[{\\\"bcrt1pwlh5xuyrpgfunwyww8cfu78yfs2yqyevl7yturavahh5kgxwdd2q5hzgfu\\\": 1.1}]\" fee_rate=1 options=\"{ \\\"silent_payment\\\": true}\"`.\r\n\r\nwill generate `vout` with completely unrelated outputs:\r\n\r\n```\r\n\"vout\": [\r\n    {\r\n      \"value\": 1.10000000,\r\n      \"n\": 0,\r\n      \"scriptPubKey\": {\r\n        \"desc\": \"rawtr(65b19890c5ca40edb816d26f5f48cd9f3ed51121613b1c2405adc1a6dbbc824a)#8myx9tcu\",\r\n        \"address\": \"bcrt1pvkce3yx9efqwmwqk6fh47jxdnuld2yfpvya3cfq94hq6dkausf9qrfjkgz\",\r\n\r\n      }\r\n    },\r\n    {\r\n      \"value\": 2.02499835,\r\n      \"n\": 1,\r\n      \"scriptPubKey\": {\r\n        \"desc\": \"rawtr(c45cb3d500bbf8f0c8841e8e011b008781d826c16ee348edb822c0f97419bc4d)#26hcce63\",\r\n        \"address\": \"bcrt1pc3wt84gqh0u0pjyyr68qzxcqs7qasfkpdm353mdcytq0jaqeh3xsuvlykg\",\r\n      }\r\n    }\r\n  ]\r\n```\r\n\r\nAny wallet, as long as it has access to private keys, can send silent payments. Thus, this excludes watch-only wallets or wallets with external signers .\r\n\r\nBut the recipient's wallet needs a new flag called `SILENT_PAYMENT`. This flag allows an additional scan that verifies that the wallet keys match the silent payment scheme. When it detects a silent payment that belongs to the wallet, it is stored in a `rawtr()` descriptor.\r\n\r\n`./src/bitcoin-cli -regtest -named createwallet wallet_name=\"recipient\" silent_payment=true`\r\n\r\nTherefore, scanning each address for each transaction is potentially prohibitive overhead, so the node can be initialized with `keypool=1` or a descriptor with range [0,1] can be imported into a blank wallet. Until there is more benchmark data, it is the safest option. The proposal recommends one static address.\r\n\r\nI've been running some silent payments on signet using wallets with default keypool and default range, I haven't noticed any relevant performance drops on the signet node.\r\nApparently this implementation is working as expected but I can't guarantee that the scheme is implemented correctly or safely, so I'm opening this PR for reviews, modifications and improvements.\r\n\r\nThere is a new functional test (`test/functional/wallet_silentpayment.py`) that can help to better understand the implementation.",
          "user": {
            "login": "w0xlt",
            "id": 94266259,
            "node_id": "U_kgDOBZ5jkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/w0xlt",
            "html_url": "https://github.com/w0xlt",
            "followers_url": "https://api.github.com/users/w0xlt/followers",
            "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
            "organizations_url": "https://api.github.com/users/w0xlt/orgs",
            "repos_url": "https://api.github.com/users/w0xlt/repos",
            "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/w0xlt/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 159815356,
              "node_id": "MDU6TGFiZWwxNTk4MTUzNTY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Upstream",
              "name": "Upstream",
              "color": "bfd4f2",
              "default": false
            },
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 1482182044,
              "node_id": "MDU6TGFiZWwxNDgyMTgyMDQ0",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Descriptors",
              "name": "Descriptors",
              "description": "",
              "color": "e9f76c",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 86,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24897",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24897",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24897.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24897.patch"
          },
          "closed_at": "2023-06-05T13:18:14Z",
          "created_at": "2022-04-17T00:37:23Z",
          "updated_at": "2023-06-27T11:03:39Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-16T10:01:03Z",
      "updated_at": "2022-07-16T10:01:03Z",
      "source": {
        "issue": {
          "id": 969809743,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzExODMzMTUx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22693/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22693",
          "number": 22693,
          "state": "open",
          "state_reason": null,
          "title": "RPC/Wallet: Add \"use_txids\" to output of getaddressinfo",
          "body": "(Non-GUI part of https://github.com/bitcoin-core/gui/pull/562, but without the bloom stuff)",
          "user": {
            "login": "luke-jr",
            "id": 1095675,
            "node_id": "MDQ6VXNlcjEwOTU2NzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luke-jr",
            "html_url": "https://github.com/luke-jr",
            "followers_url": "https://api.github.com/users/luke-jr/followers",
            "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
            "organizations_url": "https://api.github.com/users/luke-jr/orgs",
            "repos_url": "https://api.github.com/users/luke-jr/repos",
            "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/luke-jr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 18,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22693",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22693.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22693.patch"
          },
          "created_at": "2021-08-13T00:19:27Z",
          "updated_at": "2023-07-06T19:10:43Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1188256001,
      "node_id": "IC_kwDOABII585G01kB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1188256001",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-18T20:13:33Z",
      "updated_at": "2022-07-18T20:13:33Z",
      "author_association": "MEMBER",
      "body": "The first four commits seem fine and could stand alone, but I'm not sure that introducing an entire class for managing the address book is really necessary. I don't really see how it is more beneficial to have such a class vs just cleaning up existing address book access and making `m_address_book` private. I don't really foresee a situation where we would want to have different implementations of the address book.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25620#issuecomment-1188256001",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620"
    },
    {
      "event": "commented",
      "id": 1189575145,
      "node_id": "IC_kwDOABII585G53np",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1189575145",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-19T21:37:06Z",
      "updated_at": "2022-07-20T01:17:38Z",
      "author_association": "MEMBER",
      "body": "> The first four commits seem fine and could stand alone, but I'm not sure that introducing an entire class for managing the address book is really necessary. I don't really see how it is more beneficial to have such a class vs just cleaning up existing address book access and making `m_address_book` private. I don't really foresee a situation where we would want to have different implementations of the address book.\r\n\r\nThat point is more a \"plus\" than part of the short term benefits.\r\n\r\nThe manager decoupling could worth it mainly for three reasons:\r\n\r\n1) It's another extra responsibility removed from the wallet class. Class that, even with the spend/receive files decoupling, is still a long file that keeps growing. Handling more responsibilities that what should ideally handle.\r\n\r\n    The `CWallet` class description says: “CWallet maintains a set of transactions and balances, and provides the ability to create new transactions.”. And.. that is not even 1/10 of what the wallet class does (there is a good phrase that says something like: \"Try to sum up what a class does in a single phrase. If this phrase includes “AND” it’s probably doing too much.\").\r\n\r\n    Plus, I’m unsure about how many devs know all the current address book functionalities, the code was a bit spread across the wallet without any proper description.\r\n\r\n2) The new manager cuts the address book dependency on the wallet mutex. So, every walk-through the address book entries (which we do in several RPC commands and on the GUI too), single entry searches, the `isAddressUsed` and the payment requests retrieval can run **wallet mutex free**. Which, as we use the wallet mutex for practically everything that happens inside the wallet, seems to be an even nicer property.\r\nAn easy example is the RPC command ´listlabels´, which will run `cs_wallet` lock free.\r\n\r\n3) Then a separated class let us add test coverage isolated from the whole wallet class. So, bugs like an unknown address book entry purpose, an entry purpose change from \"receive\" to \"send\" (which would be pretty bad), a removal of a “receive” entry, among other negative test scenarios, could be guarded inside the class and test covered without requiring to setup an entire wallet, the signals etc.\r\nNote: the purpose field instead of be a hardcoded string on the caller side, could be an enum that internally (only inside the manager class) maps to the string value. Which will be less error prone.\r\n\r\n---------\r\n\r\nPD: we could still implement all of this inside the wallet class as well (including methods descriptions and what people shouldn't do), but.. is that the best for a maintainability point of view?. Shouldn't the wallet class ideally act more as a flow dispatcher, calling the appropriate classes/functions based on the contextual information?\r\nSo each inner class contains few properly documented responsibilities and we prevent problems that classes with a large span of responsibilities and activities have (plus, we make the wallet sources more friendly to review).\r\n\r\nSaying that, I'm weighting approaches out loud.. I would be fine either way for this. Maybe it's too early to implement the `AddressBookManager`.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25620#issuecomment-1189575145",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620"
    },
    {
      "event": "commented",
      "id": 1191091976,
      "node_id": "IC_kwDOABII585G_p8I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1191091976",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T06:28:11Z",
      "updated_at": "2022-07-21T06:28:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "ConceptACK. Separating this responsibility from `CWallet` class is reducing complexity and introduces useful abstractions.\r\n\r\n@furszy I noticed that you left original methods to deal with address book in `CWallet`. Some of the are pure proxies. Is that on purpose? Do you have any further plans here?",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25620#issuecomment-1191091976",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620"
    },
    {
      "event": "mentioned",
      "id": 7035381190,
      "node_id": "MEE_lADOABII585N2DhPzwAAAAGjV2XG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7035381190",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T06:28:12Z"
    },
    {
      "event": "subscribed",
      "id": 7035381197,
      "node_id": "SE_lADOABII585N2DhPzwAAAAGjV2XN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7035381197",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T06:28:12Z"
    },
    {
      "event": "commented",
      "id": 1191636318,
      "node_id": "IC_kwDOABII585HBu1e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1191636318",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T15:32:29Z",
      "updated_at": "2022-07-21T15:32:58Z",
      "author_association": "MEMBER",
      "body": "> @furszy I noticed that you left original methods to deal with address book in CWallet. Some of the are pure proxies. Is that on purpose? Do you have any further plans here?\r\n\r\nYeah, I left them for two main reason:\r\n (1) To keep the same wallet interface and (2) To not give callers free will to do anything that want with the `AddressBookManager` object. Preventing external code to call any write function without triggering the wallet internal signals which are useful to notify to the upper layers (example: the `SetAddressBook` method triggers the wallet's `NotifyAddressBookChanged` signal when an entry gets added or updated in the addressbook).",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25620#issuecomment-1191636318",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620"
    },
    {
      "event": "mentioned",
      "id": 7039413981,
      "node_id": "MEE_lADOABII585N2DhPzwAAAAGjlO7d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7039413981",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T15:32:29Z"
    },
    {
      "event": "subscribed",
      "id": 7039413996,
      "node_id": "SE_lADOABII585N2DhPzwAAAAGjlO7s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7039413996",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-21T15:32:29Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-07-29T22:46:11Z",
      "updated_at": "2022-07-29T22:46:11Z",
      "source": {
        "issue": {
          "id": 1316592675,
          "node_id": "PR_kwDOABII5848BwTe",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25695",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25695/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25695/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25695/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25695",
          "number": 25695,
          "state": "closed",
          "state_reason": null,
          "title": "tidy: add modernize-use-using",
          "body": "Refactor and introduce `modernize-use-using` into our clang-tidy job. Given we already use both, consolidate to the later.\r\n\r\nSee: https://releases.llvm.org/14.0.0/tools/clang/tools/extra/docs/clang-tidy/checks/modernize-use-using.html.",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25695",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25695",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25695.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25695.patch"
          },
          "closed_at": "2022-12-05T11:19:11Z",
          "created_at": "2022-07-25T10:19:42Z",
          "updated_at": "2022-12-05T11:19:11Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1203200126,
      "node_id": "IC_kwDOABII585Ht2B-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1203200126",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-02T20:48:35Z",
      "updated_at": "2022-08-02T20:48:35Z",
      "author_association": "MEMBER",
      "body": "> 2. The new manager cuts the address book dependency on the wallet mutex. So, every walk-through the address book entries (which we do in several RPC commands and on the GUI too), single entry searches, the `isAddressUsed` and the payment requests retrieval can run **wallet mutex free**. Which, as we use the wallet mutex for practically everything that happens inside the wallet, seems to be an even nicer property.\r\n>  An easy example is the RPC command ´listlabels´, which will run `cs_wallet` lock free.\r\n\r\nI don't think the presence of `cs_wallet` precludes having another `cs_address_book` (or whatever) also in `CWallet`.\r\n\r\n> we could still implement all of this inside the wallet class as well (including methods descriptions and what people shouldn't do), but.. is that the best for a maintainability point of view?\r\n\r\nI don't really think that having the separate class helps though. `AddressBookMan` is entirely internal to the wallet, so no callers will have access to its functions (as it should be). It also largely doesn't have its own private functions that its functions regularly call, so it just ends up being a wrapper around m_address_book. We end up keeping all of the same address book functions in `CWallet`, and actually end up adding even more functions. Those functions in `CWallet` just pass straight through to `AddressBookMan` and largely don't do anything interesting. So any change to function signatures now requires changing 4 places, rather than 2 places. IMO that is not more maintainable.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25620#issuecomment-1203200126",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-03T14:31:59Z",
      "updated_at": "2022-08-03T14:31:59Z",
      "source": {
        "issue": {
          "id": 532884367,
          "node_id": "MDU6SXNzdWU1MzI4ODQzNjc=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17667",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17667/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17667/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17667/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/17667",
          "number": 17667,
          "state": "closed",
          "state_reason": "completed",
          "title": "Wallet: breaking cs_wallet into more fine-grained locks",
          "body": "Once https://github.com/bitcoin/bitcoin/pull/16426 merged, splitting our big `cs_wallet` into multiple ones would make sense because multiple RPCs won't be in conflict anymore to hold `cs_main`.\r\n\r\nNew locks like `cs_mapWallet` and `cs_mapTxSpends`, while handling well cases like we don't want to commit twice a coin to different transactions or return twice an address to avoid key reuse. Multiple \"read\" RPCs like `listtransactions` or `listsinceblock` should work smoothly concurrently without stopping each other.\r\n\r\nI don't know exactly what is possible but I think there is room for improvements and I don't plan to do it so feel free to dig into it.\r\n\r\nSee logs https://bitcoincore.reviews/16426.html for more context.",
          "user": {
            "login": "ariard",
            "id": 23310655,
            "node_id": "MDQ6VXNlcjIzMzEwNjU1",
            "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ariard",
            "html_url": "https://github.com/ariard",
            "followers_url": "https://api.github.com/users/ariard/followers",
            "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
            "organizations_url": "https://api.github.com/users/ariard/orgs",
            "repos_url": "https://api.github.com/users/ariard/repos",
            "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ariard/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "closed_at": "2022-08-03T11:57:13Z",
          "created_at": "2019-12-04T19:23:13Z",
          "updated_at": "2022-08-03T15:07:14Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1207718030,
      "node_id": "IC_kwDOABII585H_FCO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1207718030",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-08T06:25:45Z",
      "updated_at": "2022-08-08T06:25:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "@achow101 why do you think no callers should have access to `AddressBookMan`?\r\n\r\nI agree that having proxy functions doesn't help with maintainability, but I'd just say we need to drop the wrappers in `CWallet` and let the callers interact with the address book.",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25620#issuecomment-1207718030",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620"
    },
    {
      "event": "mentioned",
      "id": 7144170934,
      "node_id": "MEE_lADOABII585N2DhPzwAAAAGp02W2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7144170934",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-08T06:25:46Z"
    },
    {
      "event": "subscribed",
      "id": 7144170946,
      "node_id": "SE_lADOABII585N2DhPzwAAAAGp02XC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7144170946",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-08T06:25:46Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-09-01T21:23:24Z",
      "updated_at": "2022-09-01T21:23:24Z",
      "source": {
        "issue": {
          "id": 1359383041,
          "node_id": "PR_kwDOABII584-PV2_",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25979/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25979",
          "number": 25979,
          "state": "open",
          "state_reason": null,
          "title": "[WIP] wallet: standardize change output detection process",
          "body": "Depends on https://github.com/bitcoin/bitcoin/pull/27601, please go there first.\r\n\r\nThis work aims to define, and implement a base standard mechanism to\r\ndetect individual change outputs.\r\n\r\n### Context\r\n\r\nCurrently, the wallet detects whether an output is change or not based\r\non data stored in the address book.\r\n\r\nThere is no notion of “change outputs”, the wallet detects change scripts.\r\n\r\nConnoting that any address book record modification has implications\r\non all the historical outputs related to that particular destination. Meaning\r\nthat all those outputs can either be change or not. There is no middle-ground\r\ngranular distinction.\r\n\r\n#### How Change Detection Currently Works?\r\n\r\nThe wallet walks-through the transaction outputs, extracts the script\r\ndestination and verify the following two points:\r\n\r\n1) If the destination doesn't exist in the address book, then the script\r\n    is a \"change address\".\r\n   \r\n2) If the destination exists in the address book, but it doesn't have a\r\n     label, then the script is a \"change address\".\r\n\r\n### Motivation\r\n\r\nThere are a good number of problems in the current approach:\r\n\r\n- We make the wallet dependent on an external structure, with separate storage.\r\n   Which has to be updated and maintained along with the wallet state.\r\n\r\n- It cannot be maintained nor recovered across different wallet instances.\r\n   Cannot re-create the, possibly custom, address book data only by importing\r\n   the wallet descriptor string.\r\n\r\n- As the address book is an structure that the user can freely modify, the change\r\n   detection process might differ through different wallets.\r\n \r\n- The current rudimentary assumptions of \"no address book entry\" or \"no label set for the address book entry\"\r\n  to denote that certain script destination is change or not can easily be broken:\r\n  E.g. derive an address from one of the wallet’s external paths manually. Then send coins to it.\r\n  As the receive destination wasn't created inside the wallet, the wallet has no associated address book entry.\r\n  So, the reception is invalidly detected as change (added a test case for it).\r\n\r\n- The wallet can't detect change outputs on more complex scripts such as multi-sig change outputs.\r\n\r\n- The wallet is not able to detect change outputs going to an internal address if the internal address has a label.\r\n  (E.g. the user can manually set a label for the internal address and, doing that, make that all the change\r\n  outputs, in the wallet history, that were sent to the destination are no longer detected as change).\r\n\r\n- There isn’t a way to distinguish the external reception of coins into an internal address. Coins reception on any\r\n   internal address are always detected as change.\r\n\r\n### New Change Detection Mechanism Goals\r\n\r\nAiming to:\r\n\r\n* Define a base mechanism to align different wallet implementations. Preventing each piece of software\r\n  from diverging on the basic change outputs distinction.\r\n\r\n* Detect change outputs on-demand without requiring to maintain an external data structure synced with the\r\n   latest wallet state.\r\n\r\n* Independently, and accurately, detect change outputs regardless data stored in structures that the user\r\n   can freely modify.\r\n\r\n* Granular distinction between change vs non-change outputs that were sent to the same internal address.\r\n  E.g. the reception of coins, from an external source, on internal addresses will not longer be detected\r\n  as change anymore.\r\n\r\n* Expand the change detection to more complex scripts such as a multi-sig protected addresses. (While they\r\n  are added into the wallet on an internal spkm)\r\n\r\n#### Change Output Detection Rules\r\n\r\nA transaction output is change if it fulfills the following points:\r\n\r\n1) At least one of the parent transaction inputs is from the wallet. (If none of them are, then the wallet is receiving coins\r\n    on an internal address).\r\n\r\n2) The script extracted destination is from the wallet and is located in one of the internal script pub key manager.\r\n    (e.g. derived from an internal derivation path)\r\n\r\n#### What about legacy wallets?\r\n\r\nIf the legacy wallet is HD post-split, we have an internal derivation path, so we can follow the same process as\r\ndescriptors wallet. Unless the destination is on the pre-split key pool, in which case, we fallback to the follow-up\r\ncase.\r\n\r\nIf the legacy wallet is pre-split, we continue using the address book as we either have an HD wallet with keys\r\nderived only on the external path, or we are using raw keypool.\r\n\r\n———————————————————————\r\n\r\n#### Extra Note\r\nThis PR, in about 85% at least, is about expanding the current test coverage for the change output detection area.\r\n\r\n#### TO DO (still WIP):\r\n\r\n* [x] Save “internal” flag on non-active descriptors so the wallet can use them on the change detection process.\r\n   (which will fix the currently failing test cases).\r\n* [ ] Re-organize commits so tests always pass.\r\n* [ ] Verify backwards compatibility.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25979",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25979",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25979.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25979.patch"
          },
          "created_at": "2022-09-01T20:40:07Z",
          "updated_at": "2023-07-20T10:57:10Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-10-03T23:35:48Z",
      "updated_at": "2022-10-03T23:35:48Z",
      "source": {
        "issue": {
          "id": 1395216330,
          "node_id": "PR_kwDOABII585AFMRG",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26238",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26238/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26238/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26238/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26238",
          "number": 26238,
          "state": "closed",
          "state_reason": null,
          "title": "clang-tidy: fixup named argument comments",
          "body": "Fix comments so they are checked/consistent.\r\nFix incorrect comments.",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26238",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26238",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26238.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26238.patch"
          },
          "closed_at": "2022-12-06T11:06:58Z",
          "created_at": "2022-10-03T19:27:58Z",
          "updated_at": "2022-12-06T11:07:15Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-28T03:42:03Z",
      "updated_at": "2022-12-28T03:42:03Z",
      "source": {
        "issue": {
          "id": 1511435068,
          "node_id": "PR_kwDOABII585GOkOp",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26756",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26756/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26756/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26756/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26756",
          "number": 26756,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Replace `GetBalance()` logic with `AvailableCoins()`",
          "body": "This PR proposes a solution for https://github.com/bitcoin/bitcoin/issues/26500 by changing the `AvailableCoins()` function to calculate values by status (`TRUSTED`, `UNTRUSTED_PENDING` and `IMMATURE`) and ownership (`MINE`, `WATCH_ONLY`), eliminating the `GetBalance()` logic.\r\n\r\nThe downside is that the cache is no longer used. Not sure about the performance implication, but if the approach is OK, caching can also be used with this solution.\r\n\r\nThis approach also fixes the bug mentioned at the end of the `wallet_abandonconflict.py` file.",
          "user": {
            "login": "w0xlt",
            "id": 94266259,
            "node_id": "U_kgDOBZ5jkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/94266259?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/w0xlt",
            "html_url": "https://github.com/w0xlt",
            "followers_url": "https://api.github.com/users/w0xlt/followers",
            "following_url": "https://api.github.com/users/w0xlt/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/w0xlt/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/w0xlt/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/w0xlt/subscriptions",
            "organizations_url": "https://api.github.com/users/w0xlt/orgs",
            "repos_url": "https://api.github.com/users/w0xlt/repos",
            "events_url": "https://api.github.com/users/w0xlt/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/w0xlt/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26756",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26756",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26756.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26756.patch"
          },
          "closed_at": "2023-05-03T14:43:16Z",
          "created_at": "2022-12-27T04:58:13Z",
          "updated_at": "2023-05-03T14:43:17Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-06T13:05:27Z",
      "updated_at": "2023-01-06T13:05:27Z",
      "source": {
        "issue": {
          "id": 1522557576,
          "node_id": "PR_kwDOABII585G0Yzm",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26836",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26836/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26836/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26836/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26836",
          "number": 26836,
          "state": "open",
          "state_reason": null,
          "title": "wallet: simplify addressbook migration process",
          "body": "Decoupled the initial commits from #25620 and went further over few other points.\r\n\r\n1) Finish [#25337](https://github.com/bitcoin/bitcoin/pull/25337) goal of encapsulating the addressbook code into the wallet class.\r\n2) Code improvements to `CWallet::DelAddressBook` and `Wallet::SetAddrBookWithDB` methods.\r\n3) DB batch operations and flow simplification for the address book migration process.\r\n4) Expanded coverage for address book migration process.\r\n\r\nThis will also allow decoupling the address book dependency on the wallet’s main mutex for reading. RPC commands such `getaddressbylabel` and similars will be able to run `cs_wallet` lock free.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26836",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26836",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26836.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26836.patch"
          },
          "created_at": "2023-01-06T13:05:27Z",
          "updated_at": "2023-07-23T01:00:42Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-09T21:04:08Z",
      "updated_at": "2023-01-09T21:04:08Z",
      "source": {
        "issue": {
          "id": 1525922049,
          "node_id": "PR_kwDOABII585G_oZW",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26858",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26858/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26858/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26858/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26858",
          "number": 26858,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Use defined purposes instead of inlining",
          "body": "Based on this comment https://github.com/bitcoin/bitcoin/pull/26761#discussion_r1062447532.\r\n\r\nThis PR stores the currently inlined address purposes as constants and use them accordingly.",
          "user": {
            "login": "aureleoules",
            "id": 22493292,
            "node_id": "MDQ6VXNlcjIyNDkzMjky",
            "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aureleoules",
            "html_url": "https://github.com/aureleoules",
            "followers_url": "https://api.github.com/users/aureleoules/followers",
            "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
            "organizations_url": "https://api.github.com/users/aureleoules/orgs",
            "repos_url": "https://api.github.com/users/aureleoules/repos",
            "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/aureleoules/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26858",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26858",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26858.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26858.patch"
          },
          "closed_at": "2023-03-26T00:12:06Z",
          "created_at": "2023-01-09T16:30:06Z",
          "updated_at": "2023-03-26T00:12:15Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-23T17:38:23Z",
      "updated_at": "2023-01-23T17:38:23Z",
      "source": {
        "issue": {
          "id": 1553025619,
          "node_id": "PR_kwDOABII585IUr3w",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26951",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26951/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26951/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26951/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26951",
          "number": 26951,
          "state": "open",
          "state_reason": null,
          "title": "wallet: improve rescan performance 640%",
          "body": "The BIP158 compact block filters make a compromise between performance and security by re-keying the filter for each block.  That means every block requires re-hashing and re-sorting for every script pub key before matching against the filter.\r\n\r\nTo improve on the performance we can simply generate filters using per index random keys (rather than per filter keys).  We don't share these filters with any attacker so there is no security risk.\r\n\r\nI don't use synthetic benchmarks for this as we have only a single data set we're ever processing.\r\n\r\nOn an arbitrary server:\r\nNo filters: 132 minutes\r\nBlock filters: 45 minutes\r\nWallet filters: 7 minutes\r\n\r\n",
          "user": {
            "login": "pstratem",
            "id": 620611,
            "node_id": "MDQ6VXNlcjYyMDYxMQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/620611?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pstratem",
            "html_url": "https://github.com/pstratem",
            "followers_url": "https://api.github.com/users/pstratem/followers",
            "following_url": "https://api.github.com/users/pstratem/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pstratem/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pstratem/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pstratem/subscriptions",
            "organizations_url": "https://api.github.com/users/pstratem/orgs",
            "repos_url": "https://api.github.com/users/pstratem/repos",
            "events_url": "https://api.github.com/users/pstratem/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pstratem/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 17,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26951",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26951",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26951.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26951.patch"
          },
          "created_at": "2023-01-23T12:38:35Z",
          "updated_at": "2023-07-30T00:06:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1422834129,
      "node_id": "IC_kwDOABII585UzrnR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1422834129",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-08T15:48:12Z",
      "updated_at": "2023-02-08T15:48:12Z",
      "author_association": "MEMBER",
      "body": "Have decoupled the commits that have no conceptual opposition within https://github.com/bitcoin/bitcoin/pull/26836. So we can move forward with them first. Afterwards, we can re-evaluate whether to rework this PR or not, based on a smaller set of patches.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25620#issuecomment-1422834129",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620"
    },
    {
      "event": "convert_to_draft",
      "id": 8470340670,
      "node_id": "CTDE_lADOABII585N2DhPzwAAAAH43yQ-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8470340670",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-08T15:49:01Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-06T23:11:38Z",
      "updated_at": "2023-03-06T23:11:38Z",
      "source": {
        "issue": {
          "id": 1612221855,
          "node_id": "PR_kwDOABII585LaUXb",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27215",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27215/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27215/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27215/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27215",
          "number": 27215,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Turn `destdata` entries into  `CAddressBookData` fields",
          "body": "`destdata` is a generic strings map in `CAddressBookEntry`. It is opaque and thus hard to know what is actually being stored in a `CAddressBookEntry`. It is a map with fixed fields, but these are not documented nor are they immediately obvious when looking at the class definition. This PR changes those to be member variables inside of `CAddressBookEntry` to make it easier to understand what kind of data is being stored.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27215",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27215",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27215.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27215.patch"
          },
          "closed_at": "2023-03-15T16:58:37Z",
          "created_at": "2023-03-06T21:19:53Z",
          "updated_at": "2023-03-15T16:58:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-07T10:35:37Z",
      "updated_at": "2023-03-07T10:35:37Z",
      "source": {
        "issue": {
          "id": 1612315619,
          "node_id": "PR_kwDOABII585LaolD",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27217",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27217/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27217/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27217/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27217",
          "number": 27217,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Replace use of purpose strings with an enum",
          "body": "Instead of storing and passing around fixed strings for the purpose of an address, use an enum.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27217",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27217",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27217.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27217.patch"
          },
          "closed_at": "2023-04-12T09:31:28Z",
          "created_at": "2023-03-06T22:28:58Z",
          "updated_at": "2023-04-13T11:05:04Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-08T08:35:40Z",
      "updated_at": "2023-03-08T08:35:40Z",
      "source": {
        "issue": {
          "id": 1614263156,
          "node_id": "PR_kwDOABII585LhNqA",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27224",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27224/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27224/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27224/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27224",
          "number": 27224,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Remove CAddressBookData::destdata",
          "body": "This is cleanup that doesn't change external behavior. Benefits of the cleanup are:\r\n\r\n- Removes awkward `StringMap` intermediate representation for wallet address metadata.\r\n- Simplifies `CWallet`, deals with used address and received request serialization in `walletdb.cpp` instead of higher level wallet code\r\n- Adds test coverage and documentation\r\n\r\nThis PR doesn't change externally observable behavior. Internally, the only change in behavior is that `EraseDestData` deletes rows directly from the database because they are no longer stored in memory. This is more direct and efficient because it uses a single lookup and scan instead of multiple lookups.\r\n\r\nMotivation for this cleanup is making changes like #18550, #18192, #13756 easier to reason about and less likely to result in unintended behavior and bugs\r\n\r\n---\r\n\r\nThis PR is a rebased copy of #18608. For some reason that PR is locked and couldn't be reopened or commented on.\r\n\r\nThis PR is an alternative to #27215 with differences described in https://github.com/bitcoin/bitcoin/pull/27215#pullrequestreview-1329028143\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27224",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27224",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27224.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27224.patch"
          },
          "closed_at": "2023-05-01T12:17:51Z",
          "created_at": "2023-03-07T21:51:45Z",
          "updated_at": "2023-05-01T17:17:42Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-21T04:09:19Z",
      "updated_at": "2023-03-21T04:09:19Z",
      "source": {
        "issue": {
          "id": 1632858009,
          "node_id": "PR_kwDOABII585MfYTP",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27286",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27286/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27286/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27286/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27286",
          "number": 27286,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Keep track of the wallet's own transaction outputs in memory",
          "body": "Currently, the wallet is not actually aware about its own transaction outputs. Instead, it will iterate all of the transactions stored in `mapWallet`, and then all of the outputs of those transactions, in order to figure out what belongs to it for the purposes of coin selection and balance calculation. For balance calculation, there is caching that results in it only iterating all of the transactions, but not all of the outputs. However when the cache is dirty, everything is iterated. This is especially problematic for wallets that have a lot of transactions, or transactions that have a lot of unrelated outputs (as may occur with coinjoins or batched payments).\r\n\r\nThis PR helps to resolve this issue by making the wallet track all of the outputs that belong to it in a new member `m_txos`. Note that this includes outputs that may have already been spent. Both balance calculation (`GetBalance`) and coin selection (`AvailableCoins`) are updated to iterate `m_txos`. This is generally faster since it ignores all of the unrelated outputs, and it is not slower as in the worst case of wallets containing only single output transactions, it's exactly the same number of outputs iterated.\r\n\r\n`m_txos` is memory only, and it is populated during wallet loading. When each transaction is loaded, all of its outputs are checked to see if it is `IsMine`, and if so, an entry added to `m_txos`. When new transactions are received, the same procedure is done.\r\n\r\nSince imports can change the `IsMine` status of a transaction (although they can only be \"promoted\" from watchonly to spendable), all of the import RPCs will be a bit slower as they re-iterate all transactions and all outputs to update `m_txos`.\r\n\r\nEach output in `m_txos` is stored in a new `WalletTXO` class. This class contains references to the parent `CWalletTx` and the `CTxOut` itself. It also caches the `IsMine` value of the txout. This should be safe as `IsMine` should not change unless there are imports. This allows us to have additional performance improvements in places that use these `WalletTXO`s as they can use the cached `IsMine` rather than repeatedly calling `IsMine` which can be expensive.\r\n\r\nThe existing `WalletBalance` benchmark demonstrates the performance improvement that this PR makes. The existing `WalletAvailableCoins` benchmark doesn't as all of the outputs used in that benchmark belong to the test wallet. I've updated that benchmark to have a bunch of unrelated outputs in each transaction so that the difference is demonstrated.\r\n\r\nThis is part of a larger project to have the wallet actually track and store a set of its UTXOs.\r\n\r\nBuilt on #24914 as it requires loading the txs last in order for `m_txos` to be built correctly.\r\n\r\n***\r\n\r\n## Benchmarks:\r\n\r\nMaster:\r\n\r\n|               ns/op |                op/s |    err% |          ins/op |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|---------------:|--------:|----------:|:----------\r\n|       92,245,141.50 |               10.84 |    0.1% |  988,823,975.00 |  66,803,340.50 |    0.0% |      2.04 | `WalletAvailableCoins`\r\n|            5,709.90 |          175,134.50 |    0.5% |       80,968.24 |      25,539.15 |    0.1% |      0.01 | `WalletBalanceClean`\r\n|          139,396.17 |            7,173.80 |    0.6% |    1,383,390.50 |     430,276.86 |    0.0% |      0.01 | `WalletBalanceDirty`\r\n|            5,055.80 |          197,792.47 |    0.3% |       80,968.10 |      25,539.02 |    0.1% |      0.01 | `WalletBalanceMine`\r\n|                9.79 |      102,152,396.19 |    0.1% |          161.00 |          37.00 |    0.0% |      0.01 | `WalletBalanceWatch`\r\n|        1,552,736.00 |              644.02 |    1.5% |   20,316,315.80 |     618,545.80 |    0.6% |      0.08 | `WalletCreateTxUseOnlyPresetInputs`\r\n|      114,114,732.00 |                8.76 |    0.5% |1,291,047,717.60 | 320,244,602.00 |    0.0% |      6.30 | `WalletCreateTxUsePresetInputsAndCoinSelection`\r\n|      359,315,754.00 |                2.78 |    0.1% |4,339,447,818.00 | 136,619,757.00 |    0.7% |      1.80 | `WalletLoadingDescriptors`\r\n|       98,230,601.00 |               10.18 |    0.1% |  537,688,964.00 |  97,332,266.00 |    0.3% |      0.49 | `WalletLoadingLegacy`\r\n\r\nPR:\r\n\r\n|               ns/op |                op/s |    err% |          ins/op |         bra/op |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|---------------:|--------:|----------:|:----------\r\n|       75,319,868.50 |               13.28 |    0.2% |  863,758,229.00 |  30,892,593.00 |    0.2% |      1.66 | `WalletAvailableCoins`\r\n|            2,367.62 |          422,364.95 |    1.0% |       35,785.05 |       9,893.01 |    0.2% |      0.01 | `WalletBalanceClean`\r\n|            2,685.58 |          372,359.55 |    0.2% |       36,501.05 |      10,027.01 |    0.1% |      0.01 | `WalletBalanceDirty`\r\n|            3,462.24 |          288,830.68 |    2.7% |       35,785.06 |       9,893.01 |    0.3% |      0.01 | `WalletBalanceMine`\r\n|               11.65 |       85,838,176.97 |    0.1% |          180.00 |          42.00 |    0.0% |      0.01 | `WalletBalanceWatch`\r\n|        1,563,092.60 |              639.76 |    1.5% |   20,426,154.40 |     649,953.80 |    0.6% |      0.09 | `WalletCreateTxUseOnlyPresetInputs`\r\n|       58,367,804.40 |               17.13 |    0.9% |  587,164,005.00 | 107,905,843.80 |    0.1% |      3.21 | `WalletCreateTxUsePresetInputsAndCoinSelection`\r\n|      365,302,636.00 |                2.74 |    0.2% |4,349,345,147.00 | 138,730,668.00 |    0.8% |      1.83 | `WalletLoadingDescriptors`\r\n|      124,995,585.00 |                8.00 |    1.2% |  801,998,316.00 | 103,210,721.00 |    0.3% |      0.63 | `WalletLoadingLegacy`\r\n",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27286",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27286",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27286.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27286.patch"
          },
          "created_at": "2023-03-20T21:02:45Z",
          "updated_at": "2023-08-01T08:46:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-24T21:32:56Z",
      "updated_at": "2023-03-24T21:32:56Z",
      "source": {
        "issue": {
          "id": 1639876657,
          "node_id": "PR_kwDOEEET9c5M2-Ur",
          "url": "https://api.github.com/repos/bitcoin-core/gui/issues/723",
          "repository_url": "https://api.github.com/repos/bitcoin-core/gui",
          "labels_url": "https://api.github.com/repos/bitcoin-core/gui/issues/723/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/gui/issues/723/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/gui/issues/723/events",
          "html_url": "https://github.com/bitcoin-core/gui/pull/723",
          "number": 723,
          "state": "open",
          "state_reason": null,
          "title": "Add warnings for non-active addresses in receive tab and address book",
          "body": "Closes https://github.com/bitcoin/bitcoin/issues/3314\r\nBuilt off of https://github.com/bitcoin/bitcoin/pull/27216 (== first two commits of this PR, required core updates)\r\n\r\nThis PR adds a \"warnings\" column in the receive coins dialog (recent requests table) and the address book receive page. Hovering over the ⚠️ if present shows a tooltip with a list of warnings.  We also add a \"warnings\" field in the receive request dialog (shown after double-clicking an address in the first table) with the same message.\r\n\r\nThe warnings shown can be anything implemented in new methods `GetWarnings()` but for now the only message we show there is:\r\n\r\n> This address should not be used. It was derived from an inactive seed, was imported, or may have been stored unencrypted.\r\n\r\nExample screenshots:\r\n\r\n# 1. Create new unencrypted wallet, get new receive address\r\n\r\n![1](https://user-images.githubusercontent.com/2084648/229900643-52c49c2c-589a-450c-b78d-1d3f5489bf63.png)\r\n\r\n# 2. Encrypt wallet\r\n\r\nNotice how the first address is immediately flagged.\r\n\r\n![2](https://user-images.githubusercontent.com/2084648/229900642-b3a02025-39fa-4679-913d-e8cd9984a5ab.png)\r\n\r\n# 3. Get new receive address after encrypting wallet\r\n\r\nNew address is not flagged, it is active and safe to use.\r\n\r\n![3](https://user-images.githubusercontent.com/2084648/229900641-4dd59d82-c9a9-4134-bb5a-155dc90811d2.png)\r\n\r\n\r\n\r\n\r\n\r\n",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 2145506980,
              "node_id": "MDU6TGFiZWwyMTQ1NTA2OTgw",
              "url": "https://api.github.com/repos/bitcoin-core/gui/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 2927906211,
              "node_id": "MDU6TGFiZWwyOTI3OTA2MjEx",
              "url": "https://api.github.com/repos/bitcoin-core/gui/labels/Wallet",
              "name": "Wallet",
              "description": "",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/gui/pulls/723",
            "html_url": "https://github.com/bitcoin-core/gui/pull/723",
            "diff_url": "https://github.com/bitcoin-core/gui/pull/723.diff",
            "patch_url": "https://github.com/bitcoin-core/gui/pull/723.patch"
          },
          "created_at": "2023-03-24T18:47:32Z",
          "updated_at": "2023-07-27T21:48:01Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 8984528339,
      "node_id": "LE_lADOABII585N2DhPzwAAAAIXhQXT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8984528339",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-12T11:28:42Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1505109127,
      "node_id": "IC_kwDOABII585ZtiSH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1505109127",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-04-12T11:28:43Z",
      "updated_at": "2023-04-12T11:28:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n🐙 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25620#issuecomment-1505109127",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620"
    },
    {
      "event": "commented",
      "id": 1629977917,
      "node_id": "IC_kwDOABII585hJ309",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1629977917",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-11T01:47:36Z",
      "updated_at": "2023-07-11T01:47:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--13523179cfe9479db18ec6c5d236f789-->\nThere hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant? ➡️ Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant? ➡️ Please close.\n* Did the author lose interest or time to work on this? ➡️ Please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/25620#issuecomment-1629977917",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25620"
    }
  ],
  "comments": []
}