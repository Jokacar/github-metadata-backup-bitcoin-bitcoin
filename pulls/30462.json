{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30462",
    "id": 1972188159,
    "node_id": "PR_kwDOABII5851jTP_",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30462",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30462.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30462.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30462",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30462/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30462/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30462/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
    "number": 30462,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "utils: replace boost::date_time usage with c++20 std::chrono",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This would be a very straightforward and uncontroversial change if not for the sad state of std lib implementations which implement this functionality.\r\n\r\nAs of now, `std::chrono::parse` and friends (c++20 additions) are only available as of gcc 14 and (unreleased) clang 19.\r\n\r\nFormatting in chrono is quite useful, so I don't think it makes sense to wait years until we require those compilers.\r\n\r\nInstead of waiting around, this PR takes the sledgehammer approach of adding a fully-conformant implementation of the new c++20 chrono features (from the author of `std::chrono` himself). More info available here: https://howardhinnant.github.io/date/date.html\r\n\r\nA convenience header adds the `chrono_parse` namespace, which uses the std lib if possible, and `date.h` otherwise.\r\n\r\nThis allows us to get rid of our last use of `boost::date_time`, and we can begin using more modern c++20-isms as well.",
    "labels": [
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2024-07-16T19:04:55Z",
    "updated_at": "2024-07-16T20:06:49Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "7d72b73cab1a93cc30fe9a82fbb7f8514d885767",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "theuni:nuke-date-time",
      "ref": "nuke-date-time",
      "sha": "b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 10302141,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMDMwMjE0MQ==",
        "name": "bitcoin",
        "full_name": "theuni/bitcoin",
        "owner": {
          "login": "theuni",
          "id": 417043,
          "node_id": "MDQ6VXNlcjQxNzA0Mw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/theuni",
          "html_url": "https://github.com/theuni",
          "followers_url": "https://api.github.com/users/theuni/followers",
          "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
          "organizations_url": "https://api.github.com/users/theuni/orgs",
          "repos_url": "https://api.github.com/users/theuni/repos",
          "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/theuni/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/theuni/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/theuni/bitcoin",
        "archive_url": "https://api.github.com/repos/theuni/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/theuni/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/theuni/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/theuni/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/theuni/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/theuni/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/theuni/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/theuni/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/theuni/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/theuni/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/theuni/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/theuni/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/theuni/bitcoin/events",
        "forks_url": "https://api.github.com/repos/theuni/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/theuni/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/theuni/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/theuni/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/theuni/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/theuni/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/theuni/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/theuni/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/theuni/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/theuni/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/theuni/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/theuni/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/theuni/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/theuni/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/theuni/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/theuni/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:theuni/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/theuni/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/theuni/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/theuni/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/theuni/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/theuni/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/theuni/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/theuni/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/theuni/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/theuni/bitcoin/hooks",
        "svn_url": "https://github.com/theuni/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "C++",
        "forks_count": 3,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 248464,
        "default_branch": "trivial-next",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-16T19:09:54Z",
        "created_at": "2013-05-26T18:55:06Z",
        "updated_at": "2024-02-19T15:18:09Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "1d24d383b45ec54b65da2c9ea86554f45a8f1b06",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35644,
        "stargazers_count": 77221,
        "watchers_count": 77221,
        "size": 263125,
        "default_branch": "master",
        "open_issues_count": 669,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-16T20:57:02Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-07-16T20:27:39Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30462"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 8286,
    "deletions": 12,
    "changed_files": 6,
    "commits": 2,
    "review_comments": 4,
    "comments": 7
  },
  "events": [
    {
      "event": "commented",
      "id": 2231638358,
      "node_id": "IC_kwDOABII586FBBlW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231638358",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T19:04:58Z",
      "updated_at": "2024-07-16T19:06:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30462).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/30462#issuecomment-2231641415) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#issuecomment-2231638358",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30462"
    },
    {
      "event": "commented",
      "id": 2231641407,
      "node_id": "IC_kwDOABII586FBCU_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231641407",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T19:06:41Z",
      "updated_at": "2024-07-16T19:06:41Z",
      "author_association": "MEMBER",
      "body": "This was noticed while working on #30434, which requires us to install `boost::date_time`. Though vendoring `date.h` here may seem heavy, keep in mind that the status quo is a forward-incompatible mess of boost headers :)",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#issuecomment-2231641407",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30462"
    },
    {
      "event": "commented",
      "id": 2231641415,
      "node_id": "IC_kwDOABII586FBCVH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231641415",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T19:06:41Z",
      "updated_at": "2024-07-16T19:06:41Z",
      "author_association": "MEMBER",
      "body": "> This allows us to get rid of our last use of `boost::date_time`\r\n\r\nConcept ACK on that.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#issuecomment-2231641415",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30462"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE0MDg0ZGI0YjA4OTAyMzA5Y2NiYzg5NzdiNGM3Yzc1YWY4ZmVmMmU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a4084db4b08902309ccbc8977b4c7c75af8fef2e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a4084db4b08902309ccbc8977b4c7c75af8fef2e",
      "tree": {
        "sha": "d196140d1da7fca683a1fb8374212f82250b5815",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d196140d1da7fca683a1fb8374212f82250b5815"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/46878326808f643f08ec3f69dcec5c8fafeb7b59",
          "sha": "46878326808f643f08ec3f69dcec5c8fafeb7b59",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/46878326808f643f08ec3f69dcec5c8fafeb7b59"
        }
      ],
      "message": "util: add date.h from Howard Hinnant's date lib\n\nTaken from commit 8a932116795f4046ba8ed79ce33717c7331a1490\n\nSee documentation here: https://howardhinnant.github.io/date/date.html\n\nThis is meant to be a full implementation of the c++20 additions to\nstd::chrono.\n\nThis functionality is only available in libstd++ >= 14, and libc++ >= 19,\nmeaning that it will be years before we can require availability in the std\nnamespace.\n\nUse of this lib will allow us to drop our current dependency on\nboost::date_time, as well as to begin using (at least) formatting with\nstd::chrono.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2024-07-16T19:09:18Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2024-07-16T18:32:08Z"
      },
      "sha": "a4084db4b08902309ccbc8977b4c7c75af8fef2e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIzZjVjMjkyZDNhZGVmYjJiZjZlZDkzYjRlNmQ1YzNhNGFhMmM5ZGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "tree": {
        "sha": "187e8cba674d105fe4b5ffdf061351b5d86cc27f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/187e8cba674d105fe4b5ffdf061351b5d86cc27f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a4084db4b08902309ccbc8977b4c7c75af8fef2e",
          "sha": "a4084db4b08902309ccbc8977b4c7c75af8fef2e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a4084db4b08902309ccbc8977b4c7c75af8fef2e"
        }
      ],
      "message": "util: add date_parse convenience header and use it for ParseISO8601DateTime\n\nBecause the functions in date.h are intended to line up exactly with the c++20\nimplementation in the std namespace, attempt to use std::chrono if a conforming\nversion is found.\n\nWhile testing, I noticed that libstdc++ breaks for very old timestamps, so\nguard against that and add an additional test.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2024-07-16T19:09:18Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2024-07-16T18:41:43Z"
      },
      "sha": "b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13525952990,
      "node_id": "HRFPE_lADOABII586PwhHGzwAAAAMmNane",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13525952990",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T19:09:55Z"
    },
    {
      "event": "labeled",
      "id": 13525963608,
      "node_id": "LE_lADOABII586PwhHGzwAAAAMmNdNY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13525963608",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T19:10:59Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2231648085,
      "node_id": "IC_kwDOABII586FBD9V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231648085",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T19:11:00Z",
      "updated_at": "2024-07-16T19:11:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/27526907840</sub>\n\n<details><summary>Hints</summary>\n\nMake sure to run all tests locally, according to the documentation.\n\nThe failure may happen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#issuecomment-2231648085",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30462"
    },
    {
      "event": "reviewed",
      "id": 2181128551,
      "node_id": "PRR_kwDOABII586CAWFn",
      "url": null,
      "actor": null,
      "commit_id": "b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#pullrequestreview-2181128551",
      "submitted_at": "2024-07-16T19:19:51Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30462"
    },
    {
      "event": "commented",
      "id": 2231680026,
      "node_id": "IC_kwDOABII586FBLwa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231680026",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T19:26:48Z",
      "updated_at": "2024-07-16T19:26:48Z",
      "author_association": "MEMBER",
      "body": "> Formatting in chrono is quite useful, so I don't think it makes sense to wait years until we require those compilers.\r\n\r\nCan you give some examples where it would be useful? Right now it is only used in a single place in the wallet.\r\n\r\n> This was noticed while working on https://github.com/bitcoin/bitcoin/pull/30434, which requires us to install boost::date_time. Though vendoring date.h here may seem heavy, keep in mind that the status quo is a forward-incompatible mess of boost headers :)\r\n\r\nIs the boost header footprint larger than this header? Also, by adding this header the locale linter alerts, so I wonder if the new stuff changes the behavior for users, or if the linter just alerts about unused code. Finally, `ParseISO8601DateTime` can be done in much less than 8k lines of C++ code, so I wonder if just the required parts can be extracted?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#issuecomment-2231680026",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30462"
    },
    {
      "event": "commented",
      "id": 2231717016,
      "node_id": "IC_kwDOABII586FBUyY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231717016",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T19:51:51Z",
      "updated_at": "2024-07-16T19:51:51Z",
      "author_association": "MEMBER",
      "body": "> > Formatting in chrono is quite useful, so I don't think it makes sense to wait years until we require those compilers.\r\n> \r\n> Can you give some examples where it would be useful? Right now it is only used in a single place in the wallet.\r\n\r\nI was assuming that it'd be useful in other places where it's simply cumbersome to deal with these conversions like logging. Or as a simplification for `FormatISO8601DateTime` in `util/time.cpp`. But sure, if we're not going to end up using any more of this formatting in the future, I agree it's not worth bothering with for this single function.\r\n\r\n\r\n> Is the boost header footprint larger than this header? \r\n\r\nHeh. I modified #30434 to only install the headers required by boost::date_time (and its dependencies, recursively). The result:\r\n\r\n```bash\r\ncory@nowhere:19:48:40:~/dev/bitcoin (cmake-boost-depends)\r\n $ find depends/x86_64-pc-linux-gnu/include/boost/ -type f -name \"*.hpp\" | wc -l\r\n4268\r\n```\r\n\r\nI won't even bother adding up the lines of code, but I'm quite sure it's less than 8k :)\r\n\r\n\r\n> Also, by adding this header the locale linter alerts, so I wonder if the new stuff changes the behavior for users, or if the linter just alerts about unused code.\r\n\r\nHmm, will have a look at this.\r\n\r\n> Finally, `ParseISO8601DateTime` can be done in much less than 8k lines of C++ code, so I wonder if just the required parts can be extracted?\r\n\r\nI started down this rabbit hole intending to simply rewrite this function, but ended up afraid of introducing bugs due to the locale footguns. Maybe I'm over-complicating it?\r\n\r\nI think if you look at this as: \"use c++20 functionality with a bridge for compilers which don't support it yet\", this PR makes perfect sense. But given the size of that bridge, I agree it's maybe not worth it.\r\n\r\nI suppose I was _also_ curious if anyone else was waiting on this functionality for other code.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#issuecomment-2231717016",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30462"
    },
    {
      "event": "commented",
      "id": 2231739397,
      "node_id": "IC_kwDOABII586FBaQF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231739397",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T20:06:48Z",
      "updated_at": "2024-07-16T20:06:48Z",
      "author_association": "MEMBER",
      "body": "> I started down this rabbit hole intending to simply rewrite this function, but ended up afraid of introducing bugs due to the locale footguns. Maybe I'm over-complicating it?\r\n\r\nHappy to try myself, but https://en.cppreference.com/w/cpp/chrono/year_month_day (which can convert to system clock) is available, so using `Split` + `ToIntegral` + `year_month_day`, then adding the hours, minutes and seconds should do everything in about 20 lines of code?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#issuecomment-2231739397",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30462"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679956299",
      "pull_request_review_id": 2181128551,
      "id": 1679956299,
      "node_id": "PRRC_kwDOABII585kIhlL",
      "diff_hunk": "@@ -7,31 +7,38 @@\n #include <common/url.h>\n #include <rpc/util.h>\n #include <util/any.h>\n+#include <util/date/date_parse.h>\n #include <util/translation.h>\n #include <wallet/context.h>\n #include <wallet/wallet.h>\n \n #include <string_view>\n #include <univalue.h>\n \n-#include <boost/date_time/posix_time/posix_time.hpp>\n+#include <sstream>\n+#include <chrono>\n \n namespace wallet {\n static const std::string WALLET_ENDPOINT_BASE = \"/wallet/\";\n const std::string HELP_REQUIRING_PASSPHRASE{\"\\nRequires wallet passphrase to be set with walletpassphrase call if wallet is encrypted.\\n\"};\n \n int64_t ParseISO8601DateTime(const std::string& str)\n {\n-    static const boost::posix_time::ptime epoch = boost::posix_time::from_time_t(0);\n-    static const std::locale loc(std::locale::classic(),\n-        new boost::posix_time::time_input_facet(\"%Y-%m-%dT%H:%M:%SZ\"));\n-    std::istringstream iss(str);\n-    iss.imbue(loc);\n-    boost::posix_time::ptime ptime(boost::date_time::not_a_date_time);\n-    iss >> ptime;\n-    if (ptime.is_not_a_date_time() || epoch > ptime)\n+    static const auto epoch{std::chrono::system_clock::from_time_t(0)};\n+    std::istringstream in{str};\n+    std::chrono::time_point<std::chrono::system_clock, std::chrono::seconds> tp;\n+    in >> chrono_parse::parse(\"%Y-%m-%dT%H:%M:%SZ\", tp);\n+    if (in.fail() || tp < epoch)\n         return 0;\n-    return (ptime - epoch).total_seconds();\n+\n+    // Guard against broken implementations which can't handle very old time\n+    // values. Speficically, libstdc++ (as of v14) is broken at least on x86_64\n+    // with times before 1677-09-21T00:12:44Z .",
      "path": "src/wallet/rpc/util.cpp",
      "position": 40,
      "original_position": 40,
      "commit_id": "b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "original_commit_id": "b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can you add more details, whether this is a crash/UB, or just wrong behavior? Is there a bug?",
      "created_at": "2024-07-16T19:18:59Z",
      "updated_at": "2024-07-16T19:19:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#discussion_r1679956299",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679956299"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30462"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679972352",
      "pull_request_review_id": 2181153601,
      "id": 1679972352,
      "node_id": "PRRC_kwDOABII585kIlgA",
      "diff_hunk": "@@ -7,31 +7,38 @@\n #include <common/url.h>\n #include <rpc/util.h>\n #include <util/any.h>\n+#include <util/date/date_parse.h>\n #include <util/translation.h>\n #include <wallet/context.h>\n #include <wallet/wallet.h>\n \n #include <string_view>\n #include <univalue.h>\n \n-#include <boost/date_time/posix_time/posix_time.hpp>\n+#include <sstream>\n+#include <chrono>\n \n namespace wallet {\n static const std::string WALLET_ENDPOINT_BASE = \"/wallet/\";\n const std::string HELP_REQUIRING_PASSPHRASE{\"\\nRequires wallet passphrase to be set with walletpassphrase call if wallet is encrypted.\\n\"};\n \n int64_t ParseISO8601DateTime(const std::string& str)\n {\n-    static const boost::posix_time::ptime epoch = boost::posix_time::from_time_t(0);\n-    static const std::locale loc(std::locale::classic(),\n-        new boost::posix_time::time_input_facet(\"%Y-%m-%dT%H:%M:%SZ\"));\n-    std::istringstream iss(str);\n-    iss.imbue(loc);\n-    boost::posix_time::ptime ptime(boost::date_time::not_a_date_time);\n-    iss >> ptime;\n-    if (ptime.is_not_a_date_time() || epoch > ptime)\n+    static const auto epoch{std::chrono::system_clock::from_time_t(0)};\n+    std::istringstream in{str};\n+    std::chrono::time_point<std::chrono::system_clock, std::chrono::seconds> tp;\n+    in >> chrono_parse::parse(\"%Y-%m-%dT%H:%M:%SZ\", tp);\n+    if (in.fail() || tp < epoch)\n         return 0;\n-    return (ptime - epoch).total_seconds();\n+\n+    // Guard against broken implementations which can't handle very old time\n+    // values. Speficically, libstdc++ (as of v14) is broken at least on x86_64\n+    // with times before 1677-09-21T00:12:44Z .",
      "path": "src/wallet/rpc/util.cpp",
      "position": 40,
      "original_position": 40,
      "commit_id": "b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "original_commit_id": "b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "in_reply_to_id": 1679956299,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Specifically the comparison against the epoch (0) fails. So, if the timestamp is old enough, this should fail but doesn't:\r\n```c++\r\nassert tp < epoch\r\n```\r\n\r\nYou can play around here: https://godbolt.org/z/G8r837oGf\r\n\r\nI'll add more specific info. I should probably submit a bug report upstream as well.",
      "created_at": "2024-07-16T19:32:19Z",
      "updated_at": "2024-07-16T19:32:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#discussion_r1679972352",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679972352"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30462"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679976789",
      "pull_request_review_id": 2181161419,
      "id": 1679976789,
      "node_id": "PRRC_kwDOABII585kImlV",
      "diff_hunk": "@@ -7,31 +7,38 @@\n #include <common/url.h>\n #include <rpc/util.h>\n #include <util/any.h>\n+#include <util/date/date_parse.h>\n #include <util/translation.h>\n #include <wallet/context.h>\n #include <wallet/wallet.h>\n \n #include <string_view>\n #include <univalue.h>\n \n-#include <boost/date_time/posix_time/posix_time.hpp>\n+#include <sstream>\n+#include <chrono>\n \n namespace wallet {\n static const std::string WALLET_ENDPOINT_BASE = \"/wallet/\";\n const std::string HELP_REQUIRING_PASSPHRASE{\"\\nRequires wallet passphrase to be set with walletpassphrase call if wallet is encrypted.\\n\"};\n \n int64_t ParseISO8601DateTime(const std::string& str)\n {\n-    static const boost::posix_time::ptime epoch = boost::posix_time::from_time_t(0);\n-    static const std::locale loc(std::locale::classic(),\n-        new boost::posix_time::time_input_facet(\"%Y-%m-%dT%H:%M:%SZ\"));\n-    std::istringstream iss(str);\n-    iss.imbue(loc);\n-    boost::posix_time::ptime ptime(boost::date_time::not_a_date_time);\n-    iss >> ptime;\n-    if (ptime.is_not_a_date_time() || epoch > ptime)\n+    static const auto epoch{std::chrono::system_clock::from_time_t(0)};\n+    std::istringstream in{str};\n+    std::chrono::time_point<std::chrono::system_clock, std::chrono::seconds> tp;\n+    in >> chrono_parse::parse(\"%Y-%m-%dT%H:%M:%SZ\", tp);\n+    if (in.fail() || tp < epoch)\n         return 0;\n-    return (ptime - epoch).total_seconds();\n+\n+    // Guard against broken implementations which can't handle very old time\n+    // values. Speficically, libstdc++ (as of v14) is broken at least on x86_64\n+    // with times before 1677-09-21T00:12:44Z .",
      "path": "src/wallet/rpc/util.cpp",
      "position": 40,
      "original_position": 40,
      "commit_id": "b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "original_commit_id": "b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "in_reply_to_id": 1679956299,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah, so it is UB/crash, according to ubsan:\r\n\r\n```\r\n/opt/compiler-explorer/gcc-14.1.0/include/c++/14.1.0/bits/chrono.h:227:38: runtime error: signed integer overflow: -9223372037 * 1000000000 cannot be represented in type 'long int'",
      "created_at": "2024-07-16T19:37:11Z",
      "updated_at": "2024-07-16T19:37:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#discussion_r1679976789",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679976789"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30462"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679982342",
      "pull_request_review_id": 2181171156,
      "id": 1679982342,
      "node_id": "PRRC_kwDOABII585kIn8G",
      "diff_hunk": "@@ -7,31 +7,38 @@\n #include <common/url.h>\n #include <rpc/util.h>\n #include <util/any.h>\n+#include <util/date/date_parse.h>\n #include <util/translation.h>\n #include <wallet/context.h>\n #include <wallet/wallet.h>\n \n #include <string_view>\n #include <univalue.h>\n \n-#include <boost/date_time/posix_time/posix_time.hpp>\n+#include <sstream>\n+#include <chrono>\n \n namespace wallet {\n static const std::string WALLET_ENDPOINT_BASE = \"/wallet/\";\n const std::string HELP_REQUIRING_PASSPHRASE{\"\\nRequires wallet passphrase to be set with walletpassphrase call if wallet is encrypted.\\n\"};\n \n int64_t ParseISO8601DateTime(const std::string& str)\n {\n-    static const boost::posix_time::ptime epoch = boost::posix_time::from_time_t(0);\n-    static const std::locale loc(std::locale::classic(),\n-        new boost::posix_time::time_input_facet(\"%Y-%m-%dT%H:%M:%SZ\"));\n-    std::istringstream iss(str);\n-    iss.imbue(loc);\n-    boost::posix_time::ptime ptime(boost::date_time::not_a_date_time);\n-    iss >> ptime;\n-    if (ptime.is_not_a_date_time() || epoch > ptime)\n+    static const auto epoch{std::chrono::system_clock::from_time_t(0)};\n+    std::istringstream in{str};\n+    std::chrono::time_point<std::chrono::system_clock, std::chrono::seconds> tp;\n+    in >> chrono_parse::parse(\"%Y-%m-%dT%H:%M:%SZ\", tp);\n+    if (in.fail() || tp < epoch)\n         return 0;\n-    return (ptime - epoch).total_seconds();\n+\n+    // Guard against broken implementations which can't handle very old time\n+    // values. Speficically, libstdc++ (as of v14) is broken at least on x86_64\n+    // with times before 1677-09-21T00:12:44Z .",
      "path": "src/wallet/rpc/util.cpp",
      "position": 40,
      "original_position": 40,
      "commit_id": "b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "original_commit_id": "b3f5c292d3adefb2bf6ed93b4e6d5c3a4aa2c9df",
      "in_reply_to_id": 1679956299,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Would be good to add a fuzz target as well to https://github.com/google/oss-fuzz/tree/master/projects/libstdcpp\r\n\r\nEdit: https://www.github.com/pauldreik/stdfuzz/issues/8",
      "created_at": "2024-07-16T19:42:02Z",
      "updated_at": "2024-07-16T19:42:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30462#discussion_r1679982342",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679982342"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30462"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    }
  ]
}