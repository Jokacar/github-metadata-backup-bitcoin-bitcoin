{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280",
    "id": 1478150495,
    "node_id": "PR_kwDOABII585YGslf",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28280",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28280.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28280.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/d35cea3df53b972302066adca603c75b56ade08e",
    "number": 28280,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Don't empty dbcache on prune flushes: >30% faster IBD",
    "user": {
      "login": "andrewtoth",
      "id": 237213,
      "node_id": "MDQ6VXNlcjIzNzIxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrewtoth",
      "html_url": "https://github.com/andrewtoth",
      "followers_url": "https://api.github.com/users/andrewtoth/followers",
      "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
      "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
      "repos_url": "https://api.github.com/users/andrewtoth/repos",
      "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Since https://github.com/bitcoin/bitcoin/pull/17487 we no longer need to clear the coins cache when syncing to disk. A warm coins cache significantly speeds up block connection, and only needs to be fully flushed when nearing the `dbcache` limit.\r\n\r\nFor frequent pruning flushes there's no need to empty the cache and kill connect block speed. However, simply using `Sync` in place of `Flush` actually slows down a pruned full IBD with a high `dbcache` value. This is because as the cache grows, sync takes longer since every coin in the cache is scanned to check if it's dirty. For frequent prune flushes and a large cache this constant scanning starts to really slow IBD down, and just emptying the cache on every prune becomes faster.\r\n\r\nTo fix this, we can add two pointers to each cache entry and construct a doubly linked list of dirty entries. We can then only iterate through all dirty entries on each `Sync`, and simply clear the pointers after.\r\n\r\nWith this approach a full IBD with `dbcache=16384` and `prune=550` was 32% faster than master. For default `dbcache=450` speedup was ~9%. All benchmarks were run with `stopatheight=800000`.\r\n\r\n|  | prune | dbcache | time | max RSS | speedup |\r\n|-----------:|----------:|------------:|--------:|-------------:|--------------:|\r\n| master | 550 | 16384 | 8:52:57 | 2,417,464k | - |\r\n| branch | 550 | 16384 | 6:01:00 | 16,216,736k | 32% |\r\n| branch | 550 | 450 | 8:05:08 | 2,818,072k | 8.8% |\r\n| master | 10000 | 5000 | 8:19:59 | 2,962,752k | - |\r\n| branch | 10000 | 5000| 5:56:39 | 6,179,764k | 28.8% |\r\n| master | 0 | 16384 | 4:51:53 | 14,726,408k | - |\r\n| branch | 0 | 16384 | 4:43:11 | 16,526,348k | 2.7% |\r\n| master | 0 | 450 | 7:08:07 | 3,005,892k | - |\r\n| branch | 0 | 450 | 6:57:24 | 3,013,556k |2.6%|\r\n\r\nWhile the 2 pointers add memory to each cache entry, it did not slow down IBD. For non-pruned IBD results were similar for this branch and master. A non-pruned IBD with full `dbcache` to tip ended up using 12% more memory, but it was also 2.7% faster somehow. For smaller `dbcache` values the `dbcache` limit is respected so does not consume more memory, and the potentially more frequent flushes were not significant enough to cause any slowdown.\r\n\r\nInspired by [this comment](https://github.com/bitcoin/bitcoin/pull/15265#issuecomment-457720636).\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/11315.",
    "labels": [],
    "created_at": "2023-08-16T22:38:19Z",
    "updated_at": "2023-08-24T13:29:51Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "1dad7a1cc1c273167aadd1579bca87a6eb833f5b",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "andrewtoth:sync-dirty",
      "ref": "sync-dirty",
      "sha": "d35cea3df53b972302066adca603c75b56ade08e",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 156145027,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNTYxNDUwMjc=",
        "name": "bitcoin",
        "full_name": "andrewtoth/bitcoin",
        "owner": {
          "login": "andrewtoth",
          "id": 237213,
          "node_id": "MDQ6VXNlcjIzNzIxMw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/andrewtoth",
          "html_url": "https://github.com/andrewtoth",
          "followers_url": "https://api.github.com/users/andrewtoth/followers",
          "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
          "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
          "repos_url": "https://api.github.com/users/andrewtoth/repos",
          "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/andrewtoth/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/andrewtoth/bitcoin",
        "archive_url": "https://api.github.com/repos/andrewtoth/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/andrewtoth/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/andrewtoth/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/andrewtoth/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/andrewtoth/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/andrewtoth/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/andrewtoth/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/andrewtoth/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/andrewtoth/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/andrewtoth/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/andrewtoth/bitcoin/events",
        "forks_url": "https://api.github.com/repos/andrewtoth/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/andrewtoth/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/andrewtoth/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/andrewtoth/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/andrewtoth/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/andrewtoth/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/andrewtoth/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/andrewtoth/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/andrewtoth/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/andrewtoth/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:andrewtoth/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/andrewtoth/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/andrewtoth/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/andrewtoth/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/andrewtoth/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/andrewtoth/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/andrewtoth/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/andrewtoth/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/andrewtoth/bitcoin/hooks",
        "svn_url": "https://github.com/andrewtoth/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 220268,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-24T13:29:46Z",
        "created_at": "2018-11-05T01:43:59Z",
        "updated_at": "2022-12-23T04:16:30Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "1fa6411dde3a6c4c4a89d7aebfba03f114f12bb1",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35579,
        "stargazers_count": 71039,
        "watchers_count": 71039,
        "size": 237993,
        "default_branch": "master",
        "open_issues_count": 664,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-24T13:45:53Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-24T13:26:02Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 282,
    "deletions": 65,
    "changed_files": 10,
    "commits": 6,
    "review_comments": 4,
    "comments": 1
  },
  "events": [
    {
      "event": "commented",
      "id": 1681358199,
      "node_id": "IC_kwDOABII585kN313",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1681358199",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-16T22:38:21Z",
      "updated_at": "2023-08-22T08:47:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28311](https://github.com/bitcoin/bitcoin/pull/28311) ([WIP] BIP300 (Drivechains) consensus-level logic by luke-jr)\n* [#28233](https://github.com/bitcoin/bitcoin/pull/28233) (validation: don't clear cache on periodic flush by andrewtoth)\n* [#28216](https://github.com/bitcoin/bitcoin/pull/28216) (fuzz: a new target for the coins database by darosior)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#issuecomment-1681358199",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28280"
    },
    {
      "event": "reviewed",
      "id": 1581554153,
      "node_id": "PRR_kwDOABII585eRJnp",
      "url": null,
      "actor": null,
      "commit_id": "dbd663c4461cf0d8f478d46e224a966293db3bd3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#pullrequestreview-1581554153",
      "submitted_at": "2023-08-16T23:14:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T05:48:32Z",
      "updated_at": "2023-08-17T05:48:32Z",
      "source": {
        "issue": {
          "id": 1839616362,
          "node_id": "PR_kwDOABII585XWA3I",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28233/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28233",
          "number": 28233,
          "state": "open",
          "state_reason": null,
          "title": "validation: don't clear cache on periodic flush",
          "body": "Since https://github.com/bitcoin/bitcoin/pull/17487 we no longer need to clear the coins cache when syncing to disk. [A warm coins cache significantly speeds up block connection](https://github.com/bitcoin/bitcoin/pull/18941#issuecomment-633684774), and only needs to be fully flushed when nearing the `dbcache` limit.\r\n\r\nPeriodic flushes occur every 24 hours, which empties the cache and causes block connection to slow down. By keeping the cache through periodic flushes a node can run for several days with an increasingly hotter cache and connect blocks much more quickly.\r\n\r\nAlso note that this still clears the cache for pruning flushes. Having frequent pruning flushes with a large cache that doesn't clear is less performant than the status quo https://github.com/bitcoin/bitcoin/pull/15265#issuecomment-458657451. See https://github.com/bitcoin/bitcoin/pull/28280.",
          "user": {
            "login": "andrewtoth",
            "id": 237213,
            "node_id": "MDQ6VXNlcjIzNzIxMw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andrewtoth",
            "html_url": "https://github.com/andrewtoth",
            "followers_url": "https://api.github.com/users/andrewtoth/followers",
            "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
            "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
            "repos_url": "https://api.github.com/users/andrewtoth/repos",
            "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28233",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28233",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28233.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28233.patch"
          },
          "created_at": "2023-08-07T14:44:40Z",
          "updated_at": "2023-08-18T15:28:49Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T06:18:52Z",
      "updated_at": "2023-08-17T06:18:52Z",
      "source": {
        "issue": {
          "id": 1836664702,
          "node_id": "PR_kwDOABII585XMXKB",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28216",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28216/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28216/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28216/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28216",
          "number": 28216,
          "state": "open",
          "state_reason": null,
          "title": "fuzz: a new target for the coins database",
          "body": "Similarly to #28209, this introduces a fuzz target for `CCoinsViewDb` by using an in-memory LevelDB. We reuse the body of the existing fuzz target for `coins_view`.\r\n\r\nThis is based on #28215, which fixes a couple mistakes in the `coins_view` fuzz logic exposed by this new target.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28216",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28216",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28216.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28216.patch"
          },
          "created_at": "2023-08-04T12:31:16Z",
          "updated_at": "2023-08-17T11:54:40Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10123512171,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJbaIlr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10123512171",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T20:10:20Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10123555599,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJbaTMP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10123555599",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T20:15:59Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10124422402,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJbdm0C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10124422402",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T22:31:30Z"
    },
    {
      "event": "labeled",
      "id": 10124422736,
      "node_id": "LE_lADOABII585ugaXwzwAAAAJbdm5Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10124422736",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T22:31:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 10130705083,
      "node_id": "UNLE_lADOABII585ugaXwzwAAAAJb1kq7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10130705083",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-18T14:35:06Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10132002506,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJb6hbK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10132002506",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-18T17:12:33Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10132957791,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJb-Kpf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10132957791",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-18T19:22:35Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10134958395,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJcFzE7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10134958395",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-19T03:03:43Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10134960283,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJcFzib",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10134960283",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-19T03:04:25Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10138434528,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJcTDvg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10138434528",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-20T14:46:58Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-22T08:23:50Z",
      "updated_at": "2023-08-22T08:23:50Z",
      "source": {
        "issue": {
          "id": 1860387785,
          "node_id": "PR_kwDOABII585YcPUw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28311",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28311/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28311/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28311/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28311",
          "number": 28311,
          "state": "open",
          "state_reason": null,
          "title": "[WIP] BIP300 (Drivechains) consensus-level logic",
          "body": "This is a (rough draft) clean rewrite of BIP300 (Drivechain) consensus-level code.\r\n\r\nInstead of a separate sidechain database (which may be prone to hard-to-review/test consistency issues), instead the unusable 8 MSB of the UTXO index are reserved for non-UTXO database entries, and the existing UTXO db and caching layer is shared. This can be refactored in the future, but I think it is the cleanest and most reviewable approach initially - open to other ideas, though. There's also some ugliness in the undo data to handle restoring the new data, but it's abstracted and shouldn't be too hard to reason about.\r\n\r\nUsing these new primitives, Drivechains can be reimplemented with a UTXO-like model. Note that there is zero activation logic in the current PR: the protocol changes are *always* active. Therefore, this will *not* work (at least not safely) on Bitcoin today, and cannot be deployed without significant additional changes to handle an activation.\r\n\r\nA new `SERIALIZE_TRANSACTION_FOR_WEIGHT` serialization flag is also added, that is meant only for weight counting. This allows for adjusting weight (upward) to fit additional resource requirements by new functionality. In this case, several Drivechain \"messages\" are expected to have a larger burden than their `OP_RETURN` encoding would otherwise weigh. However, the specific adjustments are not implemented in this draft.\r\n\r\nAs a consensus change, this can only be implemented with community support. Many people seem to have opinions, but please keep them to other forums. Despite providing and continuing this implementation, I myself do not thereby endorse or otherwise comment on the proposal itself.\r\n\r\nTherefore, not looking for concept ACKs/NACKs (ie, about Drivechains), just *Approach* ACKs / constructive criticism (ie, about *how* I'm implementing it).",
          "user": {
            "login": "luke-jr",
            "id": 1095675,
            "node_id": "MDQ6VXNlcjEwOTU2NzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luke-jr",
            "html_url": "https://github.com/luke-jr",
            "followers_url": "https://api.github.com/users/luke-jr/followers",
            "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
            "organizations_url": "https://api.github.com/users/luke-jr/orgs",
            "repos_url": "https://api.github.com/users/luke-jr/repos",
            "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/luke-jr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28311",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28311",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28311.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28311.patch"
          },
          "created_at": "2023-08-22T01:17:13Z",
          "updated_at": "2023-08-23T16:11:52Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10164404536,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJd2IE4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10164404536",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-23T01:18:45Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgyZDMxNmMyNjViNDRjMzYwNzViNGI5MjAxODkyNGYyZmIzMWVmMWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/82d316c265b44c36075b4b92018924f2fb31ef1f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/82d316c265b44c36075b4b92018924f2fb31ef1f",
      "tree": {
        "sha": "027c38a1c37b18312054e401736c6a9113ad74c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/027c38a1c37b18312054e401736c6a9113ad74c7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 027c38a1c37b18312054e401736c6a9113ad74c7\nparent 1fa6411dde3a6c4c4a89d7aebfba03f114f12bb1\nauthor Andrew Toth <andrewstoth@gmail.com> 1692883678 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1692883678 -0400\n\ncoins: add cache entry linked list fields and methods\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmTnWt4ACgkQYAB6/Ik4\nsBhB4g/+Oia1c2+3GYYo1YpwFuovhVXqAvpNt/ar2hD39UmKLfkkM7xsYKjQaS9h\n2MqZ7IDBX7wiCZqi7dJt7B5f6WXFFoI4dN8/x/TYGCUOkC13ZwqbJsw4WKV3HuR3\nD9TbnwPhW6LFdBjWFpSyLZKS9CVuIi/CQGGfd/wT5FglM0YeurcX2chGqQBxienm\n6kiTje/JITUHZ2lIp3kGCZO+vG9iWMfvFWYSYE55coYJUGU48sZ3NJ4Yfhi7eU5W\nFY3/u3Bf0MoJ6sfoFQol+25F+Zg06HWcdJyZa/Ccflm/c+9OKO4R5+xPAdfZ1UVz\nkKUJUHnmRIQCPt8tRl1gdp+veUbYRVWT8auDX/CL+LuhPJXUqw2pJYKFgDaJehMv\nDOx7VGGUFa/243w/quWukRHmh7izg8NUKSnNkMYuL1wm4pWRX7tlbw9kgyAFN98s\neKdj3yI0WPGYUfQCA8TYOiUo+5vItxpOn1QHJQWXZjLelGE7Mnw5753mPu+bjUEJ\nOmf22E7U/5tTlGUYtikC+RYdeIr764uJOyqunIaJVX/P4ofkEOcsVEyrdv9ganni\n/TW8Dn0iXdbP+gnBw9RLlFEF9N0OHf9DA7UDkbJ7xHcgXNaOESJ+s8rxmS1E9F4o\nIIQOq/wdmLuy4vOf77Q9zsofCKYyKRXwaa++ukv4DaFByHvVMNo=\n=+1I6\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1fa6411dde3a6c4c4a89d7aebfba03f114f12bb1",
          "sha": "1fa6411dde3a6c4c4a89d7aebfba03f114f12bb1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1fa6411dde3a6c4c4a89d7aebfba03f114f12bb1"
        }
      ],
      "message": "coins: add cache entry linked list fields and methods",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:27:58Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:27:58Z"
      },
      "sha": "82d316c265b44c36075b4b92018924f2fb31ef1f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY5MzFmMmZmOWJmMjhjMGUxMWY5MjZmYzJkZmE1N2NiZGQzYjEyZDU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6931f2ff9bf28c0e11f926fc2dfa57cbdd3b12d5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6931f2ff9bf28c0e11f926fc2dfa57cbdd3b12d5",
      "tree": {
        "sha": "5c9259a4b5d73f2c9fe499221f53dd73e0b402f0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5c9259a4b5d73f2c9fe499221f53dd73e0b402f0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5c9259a4b5d73f2c9fe499221f53dd73e0b402f0\nparent 82d316c265b44c36075b4b92018924f2fb31ef1f\nauthor Andrew Toth <andrewstoth@gmail.com> 1692883691 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1692883691 -0400\n\ntest: add coinscacheentry linked list tests\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmTnWusACgkQYAB6/Ik4\nsBghPBAAvI1ITv1SS27Olvlzz0J4QyNXXClfEAlviaar5YXJ3lDFR1uUn4vkI1re\nDFf376e4hz4fyTUaOad3dE08ZyoTI1WlmOZxhPXpa0MBebzvikxBv1fSSseHzpe9\nqr8/OasnR9WUpgybO068bwXPYynSlkw2NgUHgg8irN4OC4bhFcwC2HE0VmPcnEmG\n8y08FGtDT8tnqHLu3ZhKXtz2Ph/8DG2bYKKW4OSMyyLFp+iqbOyRyW0oheRk30NC\nmAStag8ufUlGcUZ4Vwx/6Nnfii5C5l74pwJI9GiJ742Jv7Fg618NotISj+WoqmtY\nwtvrhABoOYmgZp2EelJhqNNRd6FwAc8c0SuNu6GAOEpBnKOwExTf58eYFhurN6f6\nMSyUGO5at4NsY5MOyLthXwN86UJheL4PGSETDMdLeyItP+cmI9FO4LRnXjlUt4PM\niKkDAk9d/Gmq/nyp50AS5Ax15Tym3qjrTfm6Q7Sq1pA7/L5Z9e2jfjxJ0WyL9DyF\ngZOAwJ1fkyS/aBKnE8+ioGyeamGLabXELLKOEBVspd40LI9bGS9ox+VyPgLHM4xr\nCQTACJWNPSzKN+w/BS83HPSF61HBbUuGf5tLPURzyE1/BO8D3bq7p8+ojdy9/eK6\nCIkntBsKJ6pUbsHGWJVA/DqPhKSIRZJdTCFSxYF7Pf0rcZ1+zVk=\n=GPDo\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/82d316c265b44c36075b4b92018924f2fb31ef1f",
          "sha": "82d316c265b44c36075b4b92018924f2fb31ef1f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/82d316c265b44c36075b4b92018924f2fb31ef1f"
        }
      ],
      "message": "test: add coinscacheentry linked list tests",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:28:11Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:28:11Z"
      },
      "sha": "6931f2ff9bf28c0e11f926fc2dfa57cbdd3b12d5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ2MWRkMGZhMDk4ODU4MmEwNmRmZDQwZTFlZjA4ZGU3NjdkMjg2ZDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/461dd0fa0988582a06dfd40e1ef08de767d286d2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/461dd0fa0988582a06dfd40e1ef08de767d286d2",
      "tree": {
        "sha": "80576c2054e9abcaaf497b5df7803cc82d04ddd2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/80576c2054e9abcaaf497b5df7803cc82d04ddd2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 80576c2054e9abcaaf497b5df7803cc82d04ddd2\nparent 6931f2ff9bf28c0e11f926fc2dfa57cbdd3b12d5\nauthor Andrew Toth <andrewstoth@gmail.com> 1692883705 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1692883705 -0400\n\ncoins: track dirty cache entries in doubly linked list\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmTnWvkACgkQYAB6/Ik4\nsBiDCA/+JPh/Hg5Gc5fEk6o1tSZ0MjTjU93XY1Nz/8wP1z+EDvox1Ik4cxXMwwI4\nP0I843dLQ3RcF0vCC9IqjXdZ5QYzab63amyB47XPX8zTuSxtSvQLI0IXcKRy+sEw\n62dD9oOelSx5Z371jant/bjqfnLWz+Li94iK8grRRhXR9ODFXf2Bs//MS8G633er\nKR6YtewNi8Gt+xNQmC8NXLYYM/SuTcGkJDTPDSu7PwH5/A6EYIH06fh3wKDc/0Qp\nlrGlamPhq6pHRlgZjwRcpBS1L8tKwdi/r/KG1/DZulkAcQFSUFMlTMk8Ten3JPOT\n2LH7j8+Q2218CAnsmPGsA9cVpNKaTR/gBB8v4OteABcUD4Y4Bhpw1rZA8dzTiq1x\ns5sEuMUBHDuYsrYai4Jt4/Xk8g65VyfsO9MZVV913DofDee1+P3LED5KmSo4p36S\ntKRI6TJh1S3JznRnX/cgWG3vQF9xwB/aqGvVYT4hZ67c2b5V4WNkssrzb6zdFVXZ\nHO/NWFQXUf8HlMNRgah8g5AdLOPDI+Y+UXcZsSDTUSULll8J3eVyfz4lWqmTM6FN\nluSWnQp9fOmu3hdPikMf5RMNQ+74lqo8nebFfqU/jQhYdBGAUFAhgUDmqGqzUs7g\npzPrv/n0f/DV6lS/ABKEcdCWRbLk/f4AnthUWr8WFHVjgXAjY9o=\n=g8QR\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6931f2ff9bf28c0e11f926fc2dfa57cbdd3b12d5",
          "sha": "6931f2ff9bf28c0e11f926fc2dfa57cbdd3b12d5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6931f2ff9bf28c0e11f926fc2dfa57cbdd3b12d5"
        }
      ],
      "message": "coins: track dirty cache entries in doubly linked list",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:28:25Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:28:25Z"
      },
      "sha": "461dd0fa0988582a06dfd40e1ef08de767d286d2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM5MTI2ZGI1MzRmYjRhYTc4OGE0MTAyZWIwOGY0NWEzZDE3OTJhNDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c9126db534fb4aa788a4102eb08f45a3d1792a48",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c9126db534fb4aa788a4102eb08f45a3d1792a48",
      "tree": {
        "sha": "71a865c600deb4205b316c5319755ec4483ceda3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/71a865c600deb4205b316c5319755ec4483ceda3"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 71a865c600deb4205b316c5319755ec4483ceda3\nparent 461dd0fa0988582a06dfd40e1ef08de767d286d2\nauthor Andrew Toth <andrewstoth@gmail.com> 1692883714 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1692883714 -0400\n\ntest: update coins tests to use doubly linked list for dirty entries\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmTnWwIACgkQYAB6/Ik4\nsBjWrg//Q2dsPfRz1826jirtFL8kHBvLcW0GaqI+Rahbrpiqsgcp4mAPmsXASZJf\njnbbTWKKElSKPj9KYmNx6Y/ElAqFIq4iyT0j/K6fFIjpvq4O8jEfC/qOsCYl7LEE\nRcCFoFM6n+kYJUXeu4gOiUKbdw8fR4v3YM6padhRs0ze942NTOHeqYQy9NfvgfQI\ngP5I7hjJ+g7TuQk0XeIYqqmt2FSdvcLd1uVKvpwmuz5THlbmUsfQvLTNpmq4hBL+\nVfPxvvVQrArEb167ypy6riBXvBpcr8ZrwcYFIrnR4m4t5eGRlaHqJI3z7mDEVY0W\n7mDxKMRmWSZb3eI3YX2dVslStkeSKRpI1dh1uqr70LHZHkVXoBzPCE0Nw/5evJgh\nGOxC83w6rDwllhBtZTTZ+Ild9rL+t+WH8R2DnkFzWMGZG19MXCILMNqctA5M7l5C\nliktv5E2bLDGw6oL4pefhFAIToYcrEhD24HNBTD+S2qx5U8puzKsq78++wZt9EzM\n6zppwZqr9AFg3IEOIsakNHi6+HXyzb6OGBNDA7HGZrQGc70BprwP8UCXjeVMj1lY\nzTl3HKj2a5gIC+LrTH6v/tJsflkEKiNymfLx+AmCnHpKOcxRoOeSHHRa4NaOlp9U\nctK4jm5RipvSZ65y4k7r8lrbj2Uo6Rbyda6aMzo+zsHffbq9pgA=\n=pWKj\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/461dd0fa0988582a06dfd40e1ef08de767d286d2",
          "sha": "461dd0fa0988582a06dfd40e1ef08de767d286d2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/461dd0fa0988582a06dfd40e1ef08de767d286d2"
        }
      ],
      "message": "test: update coins tests to use doubly linked list for dirty entries",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:28:34Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:28:34Z"
      },
      "sha": "c9126db534fb4aa788a4102eb08f45a3d1792a48"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk1ZGQzY2Q3ZWQ4Zjc2NWRlMWUwZWRmMTdjYjQzYzE5ZWZhYmQ5ZGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/95dd3cd7ed8f765de1e0edf17cb43c19efabd9df",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/95dd3cd7ed8f765de1e0edf17cb43c19efabd9df",
      "tree": {
        "sha": "97f5b4743df004c2bfdf6284624f152e24c69d07",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/97f5b4743df004c2bfdf6284624f152e24c69d07"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 97f5b4743df004c2bfdf6284624f152e24c69d07\nparent c9126db534fb4aa788a4102eb08f45a3d1792a48\nauthor Andrew Toth <andrewstoth@gmail.com> 1692883722 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1692883722 -0400\n\nfuzz: update coins targets to use doubly linked list for dirty entries\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmTnWwoACgkQYAB6/Ik4\nsBhxxg/+POR8/r7vo8AcxR6tuentpSzxEt0I/h7UWu+H4hcEKWyM2eY0jBijOza+\nFwLuYjxlJOEaEYtPaOnNKGcoe7SQWWw9rQuqV7tgT93OgP/bnldXkYwUOy4LHUIx\niyiYtk/aSSVaHnl+cHoopec1svzXSWjI6Upgk77Z4c06Mx4CY3yA82XEN2Q0Z3sk\nHGPt2JPfysZhD4TGGFDANxz7i6iHV4BMZwB5PzE/VW7aDGCwxgZ1teBkIGhhxZZ4\nuzF+28/pr3CF58F0+SW5Mao1yVGClGSXjDLOnTaz8PkDokOeIH1EI6DcgiyAYwE8\nWMbXpGPkzY3MBVlmYFK57aZWg8yFchkLxJEuilyF+iMoQifqpWhL073qNZgOAHGm\nuRoXOC6My/Yt1Ab308GgQhWbzCmsB6K7C2k7ZXyiCOEs0v/o0fvw69JmXubaFf6g\nljDW0uTeB+q7XU19RyfkqlVsmNQ+Up9dZHQxU5dXnAJ03QclARN4LfMHIXeZR8q9\nDyTCCDiQZFvGCDBgOUal5FjcdAdQU+jiA8t70CCzAtuJI+Ve3rATYhDfbLYcCTZb\nX9H/vezVX5yJCfjL78Ij+lhq24nwB5pe3JQYO1lrymQ5qT/dEra7C3ZxzIczb3uq\nmo3jJ9PDdPsNbw2qPjIF5T9O0uL+GaRUpfrWb2rOj6rQJpdUuaI=\n=8Mvu\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c9126db534fb4aa788a4102eb08f45a3d1792a48",
          "sha": "c9126db534fb4aa788a4102eb08f45a3d1792a48",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c9126db534fb4aa788a4102eb08f45a3d1792a48"
        }
      ],
      "message": "fuzz: update coins targets to use doubly linked list for dirty entries",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:28:42Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:28:42Z"
      },
      "sha": "95dd3cd7ed8f765de1e0edf17cb43c19efabd9df"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQzNWNlYTNkZjUzYjk3MjMwMjA2NmFkY2E2MDNjNzViNTZhZGUwOGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d35cea3df53b972302066adca603c75b56ade08e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d35cea3df53b972302066adca603c75b56ade08e",
      "tree": {
        "sha": "dd4390dad495b6338089c4ded070c907e9f36937",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dd4390dad495b6338089c4ded070c907e9f36937"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dd4390dad495b6338089c4ded070c907e9f36937\nparent 95dd3cd7ed8f765de1e0edf17cb43c19efabd9df\nauthor Andrew Toth <andrewstoth@gmail.com> 1692883730 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1692883730 -0400\n\nvalidation: don't erase coins cache on prune flushes\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmTnWxIACgkQYAB6/Ik4\nsBiJ9A//Tpkp0XvTKSHq7Ojpdz+JZDcZZL8bEOLEOJq79F2f7PPd2Mn2KPK+Yf9o\nJ5/ebD0ttDG/n2g7Dn+JYgrMY4NQoUrWkrsxajPqegg8emZgx5cE1XFLmaXgTUlE\nZIdZu6eT24B683CR12DsFyhwMuAV3EKLPynOdx7M3L5QGx3DEorxbNT0z/bsbGBh\nwTawE0x4R4xlVLbfjCdvJYu7kAx5G2kcRiynF6sww7t/h5/lBMDn/Zo9VE4Dnhr2\nAGGMftDsGBmOgieoc5L4ixSSXkjTAkF1wG59qj8Zwe+0OBbBNsIsrfy169NtUj04\nOG5kkmHResmiWGJlUqbF6qTAhriBzzcuYT3bJKz3M1wScpFH8LbhWB7Y5cYtoBjj\n3QOrnLJ5VnCxbTAahwp3gVXNHw+YjmkxVP/J8982rjNW3jsZe1NFIklAj6wWOGql\n/yro7Fupqi3JUNwnldDcMC84HqFT6azy/wC6Ee3+tkcfXFL91N7sGksQj5T8zlJU\nK6qXsAmspWz2Zsiu8OA3/8umEs5MdFK5U1nDuQFtEpOlLBoWfeK4mSdk6Y+hZI0F\n5m2iUJMgqslJKu6bo29XpJpiKNyM4v9uI8E6OyFQtki3TOL0A3DG96D3iFHgCakw\n12/BzK0gw/3sugHn5HNg3pALagkha5EquKqHjwR/Ay8tWNcEX90=\n=tPvg\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/95dd3cd7ed8f765de1e0edf17cb43c19efabd9df",
          "sha": "95dd3cd7ed8f765de1e0edf17cb43c19efabd9df",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/95dd3cd7ed8f765de1e0edf17cb43c19efabd9df"
        }
      ],
      "message": "validation: don't erase coins cache on prune flushes",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:28:50Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2023-08-24T13:28:50Z"
      },
      "sha": "d35cea3df53b972302066adca603c75b56ade08e"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10181502847,
      "node_id": "HRFPE_lADOABII585ugaXwzwAAAAJe3Wd_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10181502847",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-24T13:29:51Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296524385",
      "pull_request_review_id": 1581554153,
      "id": 1296524385,
      "node_id": "PRRC_kwDOABII585NR2Rh",
      "diff_hunk": "@@ -103,8 +103,16 @@ class Coin\n  */\n struct CCoinsCacheEntry\n {\n+private:\n+    //! These are used to create a doubly linked list of dirty entries. They are\n+    //! set in SetFlags and unset in ClearFlags.\n+    CCoinsCacheEntry *m_prev{nullptr};",
      "path": "src/coins.h",
      "position": null,
      "original_position": 7,
      "commit_id": "d35cea3df53b972302066adca603c75b56ade08e",
      "original_commit_id": "dbd663c4461cf0d8f478d46e224a966293db3bd3",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If these were iterators into the map, rather than pointers to the value, I think you wouldn't need the `m_outpoint`.",
      "created_at": "2023-08-16T23:14:03Z",
      "updated_at": "2023-08-16T23:14:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#discussion_r1296524385",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296524385"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297300532",
      "pull_request_review_id": 1582751611,
      "id": 1297300532,
      "node_id": "PRRC_kwDOABII585NUzw0",
      "diff_hunk": "@@ -103,8 +103,16 @@ class Coin\n  */\n struct CCoinsCacheEntry\n {\n+private:\n+    //! These are used to create a doubly linked list of dirty entries. They are\n+    //! set in SetFlags and unset in ClearFlags.\n+    CCoinsCacheEntry *m_prev{nullptr};",
      "path": "src/coins.h",
      "position": null,
      "original_position": 7,
      "commit_id": "d35cea3df53b972302066adca603c75b56ade08e",
      "original_commit_id": "dbd663c4461cf0d8f478d46e224a966293db3bd3",
      "in_reply_to_id": 1296524385,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Actually, it seems iterators may get invalidated when a map rehash occurs, but pointers to elements don't.\r\n\r\nI think you can however store pointers to `std::pair<const COutPoint, CoinsCacheEntry>` (the `value_type` of the map). Would that help alleviate the need for `m_outpoint`?",
      "created_at": "2023-08-17T14:23:57Z",
      "updated_at": "2023-08-17T14:55:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#discussion_r1297300532",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297300532"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297307567",
      "pull_request_review_id": 1582762652,
      "id": 1297307567,
      "node_id": "PRRC_kwDOABII585NU1ev",
      "diff_hunk": "@@ -103,8 +103,16 @@ class Coin\n  */\n struct CCoinsCacheEntry\n {\n+private:\n+    //! These are used to create a doubly linked list of dirty entries. They are\n+    //! set in SetFlags and unset in ClearFlags.\n+    CCoinsCacheEntry *m_prev{nullptr};",
      "path": "src/coins.h",
      "position": null,
      "original_position": 7,
      "commit_id": "d35cea3df53b972302066adca603c75b56ade08e",
      "original_commit_id": "dbd663c4461cf0d8f478d46e224a966293db3bd3",
      "in_reply_to_id": 1296524385,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Brilliant, thanks! Was just trying this last night, this looks like the way. Will give it a shot.",
      "created_at": "2023-08-17T14:28:58Z",
      "updated_at": "2023-08-17T14:29:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#discussion_r1297307567",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297307567"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297701571",
      "pull_request_review_id": 1583408156,
      "id": 1297701571,
      "node_id": "PRRC_kwDOABII585NWVrD",
      "diff_hunk": "@@ -103,8 +103,16 @@ class Coin\n  */\n struct CCoinsCacheEntry\n {\n+private:\n+    //! These are used to create a doubly linked list of dirty entries. They are\n+    //! set in SetFlags and unset in ClearFlags.\n+    CCoinsCacheEntry *m_prev{nullptr};",
      "path": "src/coins.h",
      "position": null,
      "original_position": 7,
      "commit_id": "d35cea3df53b972302066adca603c75b56ade08e",
      "original_commit_id": "dbd663c4461cf0d8f478d46e224a966293db3bd3",
      "in_reply_to_id": 1296524385,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@sipa done! Thank you for the elegant solution.",
      "created_at": "2023-08-17T20:21:49Z",
      "updated_at": "2023-08-17T20:21:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28280#discussion_r1297701571",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297701571"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28280"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 109,
      "side": "RIGHT"
    }
  ]
}