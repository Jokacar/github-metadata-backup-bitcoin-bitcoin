{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279",
    "id": 2175521330,
    "node_id": "PR_kwDOABII586Bq9Iy",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31279",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31279.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31279.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/466e4df3fb83ef82b6add22e202e3a70dbf83a12",
    "number": 31279,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "policy: ephemeral dust followups",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Follow-up to https://github.com/bitcoin/bitcoin/pull/30239\r\n\r\nHere are the parent PR's comments that should be addressed by this PR:\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/30239/files#r1834529646\r\nhttps://github.com/bitcoin/bitcoin/pull/30239/files#r1831247308\r\nhttps://github.com/bitcoin/bitcoin/pull/30239/files#r1832622481\r\nhttps://github.com/bitcoin/bitcoin/pull/30239/files#r1831195216\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1835805164\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1835805164\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1834639096\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1834624976\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1834619709\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1834610434\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1834504436\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1834500036\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1832985488\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1830929809\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1832376920\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1832755799\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1832492686\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1832980576\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1832784278\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1837989979\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1830996993\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1830997947\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1830012890\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1830037288\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1830977092\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1832622481\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1834726168\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1832453654\r\nhttps://github.com/bitcoin/bitcoin/pull/30239#discussion_r1848488226",
    "labels": [
      {
        "id": 82428251,
        "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
        "name": "TX fees and policy",
        "color": "5319e7",
        "default": false
      }
    ],
    "milestone": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/69",
      "html_url": "https://github.com/bitcoin/bitcoin/milestone/69",
      "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/69/labels",
      "id": 11324346,
      "node_id": "MI_kwDOABII584ArMu6",
      "number": 69,
      "state": "open",
      "title": "29.0",
      "description": "",
      "creator": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "open_issues": 17,
      "closed_issues": 24,
      "created_at": "2024-07-17T08:47:56Z",
      "updated_at": "2024-11-24T15:26:08Z"
    },
    "created_at": "2024-11-12T18:38:32Z",
    "updated_at": "2024-11-24T20:57:41Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "0e0f7fd3ed3e6c5453a7621148dba1ddc8f447e2",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "instagibbs:2024-11-eph_dust_followups",
      "ref": "2024-11-eph_dust_followups",
      "sha": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 13910191,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMzkxMDE5MQ==",
        "name": "bitcoin",
        "full_name": "instagibbs/bitcoin",
        "owner": {
          "login": "instagibbs",
          "id": 5767891,
          "node_id": "MDQ6VXNlcjU3Njc4OTE=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/instagibbs",
          "html_url": "https://github.com/instagibbs",
          "followers_url": "https://api.github.com/users/instagibbs/followers",
          "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
          "organizations_url": "https://api.github.com/users/instagibbs/orgs",
          "repos_url": "https://api.github.com/users/instagibbs/repos",
          "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/instagibbs/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/instagibbs/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/instagibbs/bitcoin",
        "archive_url": "https://api.github.com/repos/instagibbs/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/instagibbs/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/instagibbs/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/instagibbs/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/instagibbs/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/instagibbs/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/instagibbs/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/instagibbs/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/instagibbs/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/instagibbs/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/instagibbs/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/instagibbs/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/instagibbs/bitcoin/events",
        "forks_url": "https://api.github.com/repos/instagibbs/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/instagibbs/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/instagibbs/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/instagibbs/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/instagibbs/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/instagibbs/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/instagibbs/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/instagibbs/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/instagibbs/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/instagibbs/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/instagibbs/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/instagibbs/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/instagibbs/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/instagibbs/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/instagibbs/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/instagibbs/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:instagibbs/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/instagibbs/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/instagibbs/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/instagibbs/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/instagibbs/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/instagibbs/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/instagibbs/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/instagibbs/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/instagibbs/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/instagibbs/bitcoin/hooks",
        "svn_url": "https://github.com/instagibbs/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 250807,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-11-22T19:30:15Z",
        "created_at": "2013-10-27T20:56:53Z",
        "updated_at": "2024-08-28T03:28:00Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "22ef95dbe3e467039e6cd18988e66557d94041d1",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36453,
        "stargazers_count": 79775,
        "watchers_count": 79775,
        "size": 272662,
        "default_branch": "master",
        "open_issues_count": 665,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-11-22T00:11:35Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-11-24T20:57:44Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 210,
    "deletions": 146,
    "changed_files": 15,
    "commits": 29,
    "review_comments": 36,
    "comments": 11
  },
  "events": [
    {
      "event": "commented",
      "id": 2471291617,
      "node_id": "IC_kwDOABII586TTOrh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2471291617",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-12T18:38:36Z",
      "updated_at": "2024-11-24T20:57:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31279.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [naumenkogs](https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2490182594), [hodlinator](https://github.com/bitcoin/bitcoin/pull/31279#pullrequestreview-2452817327), [theStack](https://github.com/bitcoin/bitcoin/pull/31279#pullrequestreview-2456791069) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2471291617",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279"
    },
    {
      "event": "labeled",
      "id": 15269383033,
      "node_id": "LE_lADOABII586eIZa6zwAAAAOOIEt5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15269383033",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-12T18:38:38Z",
      "label": {
        "name": "TX fees and policy",
        "color": "5319e7"
      }
    },
    {
      "event": "milestoned",
      "id": 15273634435,
      "node_id": "MIE_lADOABII586eIZa6zwAAAAOOYSqD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15273634435",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-13T01:04:54Z",
      "milestone": {
        "title": "29.0"
      }
    },
    {
      "event": "commented",
      "id": 2472070642,
      "node_id": "IC_kwDOABII586TWM3y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2472070642",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-13T01:07:18Z",
      "updated_at": "2024-11-13T01:07:18Z",
      "author_association": "MEMBER",
      "body": "Time to sweep the ephemeral top 9 commits",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2472070642",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNiZjFhNDdkNjA2MmVjMmMyYzRhNzg4NjM2ZThjOTUwYTAyNzE5OTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cbf1a47d6062ec2c2c4a788636e8c950a0271997",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cbf1a47d6062ec2c2c4a788636e8c950a0271997",
      "tree": {
        "sha": "2d452557c4d45d7c6fa7313a01086349d0e38762",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2d452557c4d45d7c6fa7313a01086349d0e38762"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/36f5effa1783a72d57c393588059a688068336e2",
          "sha": "36f5effa1783a72d57c393588059a688068336e2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/36f5effa1783a72d57c393588059a688068336e2"
        }
      ],
      "message": "CheckEphemeralSpends: only compute txid of tx when needed",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-13T14:19:10Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T16:54:28Z"
      },
      "sha": "cbf1a47d6062ec2c2c4a788636e8c950a0271997"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15283943707,
      "node_id": "HRFPE_lADOABII586eIZa6zwAAAAOO_nkb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15283943707",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "827ab83ce531409295ce346626d9ac93f9db07cc",
      "commit_url": "https://api.github.com/repos/instagibbs/bitcoin/commits/827ab83ce531409295ce346626d9ac93f9db07cc",
      "created_at": "2024-11-13T14:19:20Z"
    },
    {
      "event": "ready_for_review",
      "id": 15285896393,
      "node_id": "RFRE_lADOABII586eIZa6zwAAAAOPHETJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15285896393",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-13T16:25:44Z"
    },
    {
      "event": "commented",
      "id": 2474116685,
      "node_id": "IC_kwDOABII586TeAZN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2474116685",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-13T16:29:12Z",
      "updated_at": "2024-11-13T16:29:12Z",
      "author_association": "MEMBER",
      "body": "ready for review, I think",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2474116685",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279"
    },
    {
      "event": "commented",
      "id": 2474371365,
      "node_id": "IC_kwDOABII586Te-kl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2474371365",
      "actor": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-13T18:06:17Z",
      "updated_at": "2024-11-13T18:06:17Z",
      "author_association": "CONTRIBUTOR",
      "body": "From various fuzz runs:\r\n\r\n<details>\r\n<summary>stack trace 1</summary>\r\n\r\n```\r\nUndefinedBehaviorSanitizer:DEADLYSIGNAL\r\n==1654160==ERROR: UndefinedBehaviorSanitizer: SEGV on unknown address 0x000000000010 (pc 0x7f4ed8ac0563 bp 0x7ffd7bdeff90 sp 0x7ffd7bdefba8 T1654160)\r\n==1654160==The signal is caused by a READ memory access.\r\n==1654160==Hint: address points to the zero page.\r\n    #0 0x7f4ed8ac0563 in std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xc0563) (BuildId: 0c47cec75226c7736517d5acb61e373d541a5023)\r\n    #1 0x5579575141b5 in std::_Rb_tree<COutPoint, COutPoint, std::_Identity<COutPoint>, std::less<COutPoint>, std::allocator<COutPoint>>::_M_erase_aux(std::_Rb_tree_const_iterator<COutPoint>) /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/stl_tree.h:2492:26\r\n    #2 0x5579575141b5 in std::_Rb_tree<COutPoint, COutPoint, std::_Identity<COutPoint>, std::less<COutPoint>, std::allocator<COutPoint>>::erase[abi:cxx11](std::_Rb_tree_const_iterator<COutPoint>) /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/stl_tree.h:1197:2\r\n    #3 0x5579575141b5 in std::set<COutPoint, std::less<COutPoint>, std::allocator<COutPoint>>::erase[abi:cxx11](std::_Rb_tree_const_iterator<COutPoint>) /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/stl_set.h:655:21\r\n    #4 0x5579575141b5 in (anonymous namespace)::ephemeral_package_eval_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_0::operator()() const /root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/../../../../src/test/fuzz/package_eval.cpp:257:35\r\n    #5 0x5579575141b5 in (anonymous namespace)::ephemeral_package_eval_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>) /root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/../../../../src/test/fuzz/package_eval.cpp:228:27\r\n    #6 0x5579576628c7 in std::function<void (std::span<unsigned char const, 18446744073709551615ul>)>::operator()(std::span<unsigned char const, 18446744073709551615ul>) const /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/std_function.h:591:9\r\n    #7 0x5579576628c7 in LLVMFuzzerTestOneInput /root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/util/../../../../../src/test/fuzz/fuzz.cpp:213:5\r\n    #8 0x5579572dfd00 in fuzzer::Fuzzer::ExecuteCallback(unsigned char const*, unsigned long) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x94ed00) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #9 0x5579572df435 in fuzzer::Fuzzer::RunOne(unsigned char const*, unsigned long, bool, fuzzer::InputInfo*, bool, bool*) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x94e435) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #10 0x5579572e0bc5 in fuzzer::Fuzzer::MutateAndTestOne() (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x94fbc5) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #11 0x5579572e17c5 in fuzzer::Fuzzer::Loop(std::vector<fuzzer::SizedFile, std::allocator<fuzzer::SizedFile>>&) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x9507c5) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #12 0x5579572cf9ef in fuzzer::FuzzerDriver(int*, char***, int (*)(unsigned char const*, unsigned long)) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x93e9ef) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #13 0x5579572f8da2 in main (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x967da2) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #14 0x7f4ed8608249  (/lib/x86_64-linux-gnu/libc.so.6+0x27249) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #15 0x7f4ed8608304 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x27304) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #16 0x5579572c4de0 in _start (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x933de0) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n```\r\n</details>\r\n\r\n<details>\r\n<summary>stack trace 2</summary>\r\n\r\n```\r\n../../../../src/test/fuzz/package_eval.cpp:286 operator(): Assertion `outpoints.insert(in.prevout).second' failed.\r\n==1656011== ERROR: libFuzzer: deadly signal\r\n    #0 0x55a766a785a4 in __sanitizer_print_stack_trace (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x9915a4) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #1 0x55a766a4e4d8 in fuzzer::PrintStackTrace() (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x9674d8) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #2 0x55a766a348f3 in fuzzer::Fuzzer::CrashCallback() (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x94d8f3) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #3 0x7f5f78a1d04f  (/lib/x86_64-linux-gnu/libc.so.6+0x3c04f) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #4 0x7f5f78a6be2b  (/lib/x86_64-linux-gnu/libc.so.6+0x8ae2b) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #5 0x7f5f78a1cfb1 in raise (/lib/x86_64-linux-gnu/libc.so.6+0x3bfb1) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #6 0x7f5f78a07471 in abort (/lib/x86_64-linux-gnu/libc.so.6+0x26471) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #7 0x55a766f77e07 in assertion_fail(std::basic_string_view<char, std::char_traits<char>>, int, std::basic_string_view<char, std::char_traits<char>>, std::basic_string_view<char, std::char_traits<char>>) /root/bitcoin/ephemeralfuzzbuild/src/util/../../../src/util/check.cpp:34:5\r\n    #8 0x55a766c6ac7f in bool&& inline_assertion_check<true, bool>(bool&&, char const*, int, char const*, char const*) /root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/../../../../src/util/check.h:59:13\r\n    #9 0x55a766c6ac7f in (anonymous namespace)::ephemeral_package_eval_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_0::operator()() const /root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/../../../../src/test/fuzz/package_eval.cpp:286:25\r\n    #10 0x55a766c6ac7f in (anonymous namespace)::ephemeral_package_eval_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>) /root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/../../../../src/test/fuzz/package_eval.cpp:228:27\r\n    #11 0x55a766db88c7 in std::function<void (std::span<unsigned char const, 18446744073709551615ul>)>::operator()(std::span<unsigned char const, 18446744073709551615ul>) const /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/std_function.h:591:9\r\n    #12 0x55a766db88c7 in LLVMFuzzerTestOneInput /root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/util/../../../../../src/test/fuzz/fuzz.cpp:213:5\r\n    #13 0x55a766a35d00 in fuzzer::Fuzzer::ExecuteCallback(unsigned char const*, unsigned long) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x94ed00) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #14 0x55a766a35435 in fuzzer::Fuzzer::RunOne(unsigned char const*, unsigned long, bool, fuzzer::InputInfo*, bool, bool*) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x94e435) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #15 0x55a766a36bc5 in fuzzer::Fuzzer::MutateAndTestOne() (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x94fbc5) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #16 0x55a766a377c5 in fuzzer::Fuzzer::Loop(std::vector<fuzzer::SizedFile, std::allocator<fuzzer::SizedFile>>&) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x9507c5) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #17 0x55a766a259ef in fuzzer::FuzzerDriver(int*, char***, int (*)(unsigned char const*, unsigned long)) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x93e9ef) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #18 0x55a766a4eda2 in main (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x967da2) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #19 0x7f5f78a08249  (/lib/x86_64-linux-gnu/libc.so.6+0x27249) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #20 0x7f5f78a08304 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x27304) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #21 0x55a766a1ade0 in _start (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x933de0) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n ```\r\n</details>\r\n\r\n<details>\r\n<summary>stack trace 3</summary>\r\n\r\n```\r\nterminate called after throwing an instance of 'std::out_of_range'\r\n  what():  map::at\r\n==1656362== ERROR: libFuzzer: deadly signal\r\n    #0 0x5560e2e3c5a4 in __sanitizer_print_stack_trace (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x9915a4) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #1 0x5560e2e124d8 in fuzzer::PrintStackTrace() (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x9674d8) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #2 0x5560e2df88f3 in fuzzer::Fuzzer::CrashCallback() (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x94d8f3) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #3 0x7fc27ba1d04f  (/lib/x86_64-linux-gnu/libc.so.6+0x3c04f) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #4 0x7fc27ba6be2b  (/lib/x86_64-linux-gnu/libc.so.6+0x8ae2b) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #5 0x7fc27ba1cfb1 in raise (/lib/x86_64-linux-gnu/libc.so.6+0x3bfb1) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #6 0x7fc27ba07471 in abort (/lib/x86_64-linux-gnu/libc.so.6+0x26471) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #7 0x7fc27be9d918  (/lib/x86_64-linux-gnu/libstdc++.so.6+0x9d918) (BuildId: 0c47cec75226c7736517d5acb61e373d541a5023)\r\n    #8 0x7fc27bea8e19  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xa8e19) (BuildId: 0c47cec75226c7736517d5acb61e373d541a5023)\r\n    #9 0x7fc27bea8e84 in std::terminate() (/lib/x86_64-linux-gnu/libstdc++.so.6+0xa8e84) (BuildId: 0c47cec75226c7736517d5acb61e373d541a5023)\r\n    #10 0x7fc27bea90d7 in __cxa_throw (/lib/x86_64-linux-gnu/libstdc++.so.6+0xa90d7) (BuildId: 0c47cec75226c7736517d5acb61e373d541a5023)\r\n    #11 0x7fc27bea023f in std::__throw_out_of_range(char const*) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xa023f) (BuildId: 0c47cec75226c7736517d5acb61e373d541a5023)\r\n    #12 0x5560e30339be in std::map<COutPoint, long, std::less<COutPoint>, std::allocator<std::pair<COutPoint const, long>>>::at(COutPoint const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/stl_map.h:551:4\r\n    #13 0x5560e302e1d4 in (anonymous namespace)::ephemeral_package_eval_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_0::operator()() const /root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/../../../../src/test/fuzz/package_eval.cpp:260:50\r\n    #14 0x5560e302e1d4 in (anonymous namespace)::ephemeral_package_eval_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>) /root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/../../../../src/test/fuzz/package_eval.cpp:228:27\r\n    #15 0x5560e317c8c7 in std::function<void (std::span<unsigned char const, 18446744073709551615ul>)>::operator()(std::span<unsigned char const, 18446744073709551615ul>) const /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/std_function.h:591:9\r\n    #16 0x5560e317c8c7 in LLVMFuzzerTestOneInput /root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/util/../../../../../src/test/fuzz/fuzz.cpp:213:5\r\n    #17 0x5560e2df9d00 in fuzzer::Fuzzer::ExecuteCallback(unsigned char const*, unsigned long) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x94ed00) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #18 0x5560e2df9435 in fuzzer::Fuzzer::RunOne(unsigned char const*, unsigned long, bool, fuzzer::InputInfo*, bool, bool*) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x94e435) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #19 0x5560e2dfabc5 in fuzzer::Fuzzer::MutateAndTestOne() (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x94fbc5) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #20 0x5560e2dfb7c5 in fuzzer::Fuzzer::Loop(std::vector<fuzzer::SizedFile, std::allocator<fuzzer::SizedFile>>&) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x9507c5) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #21 0x5560e2de99ef in fuzzer::FuzzerDriver(int*, char***, int (*)(unsigned char const*, unsigned long)) (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x93e9ef) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #22 0x5560e2e12da2 in main (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x967da2) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n    #23 0x7fc27ba08249  (/lib/x86_64-linux-gnu/libc.so.6+0x27249) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #24 0x7fc27ba08304 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x27304) (BuildId: 58254ca972028402bc40624f81388d85ec95f70d)\r\n    #25 0x5560e2ddede0 in _start (/root/bitcoin/ephemeralfuzzbuild/src/test/fuzz/fuzz+0x933de0) (BuildId: a5b9aaf3b4abf14131d79477c841f1529fb62bf2)\r\n```\r\n</details>\r\n\r\nThey all happen within a few seconds of fuzzing. The errors are non-deterministic, so the inputs aren't of much use unfortunately 😕  I'm still looking for the bug, but will likely be easier for you.",
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2474371365",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279"
    },
    {
      "event": "commented",
      "id": 2474376868,
      "node_id": "IC_kwDOABII586Te_6k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2474376868",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-13T18:09:00Z",
      "updated_at": "2024-11-13T18:09:00Z",
      "author_association": "MEMBER",
      "body": "@marcofleon to be clear this is happening on master or follow-up?",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2474376868",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279"
    },
    {
      "event": "mentioned",
      "id": 15287490390,
      "node_id": "MEE_lADOABII586eIZa6zwAAAAOPNJdW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15287490390",
      "actor": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-13T18:09:01Z"
    },
    {
      "event": "subscribed",
      "id": 15287490400,
      "node_id": "SE_lADOABII586eIZa6zwAAAAOPNJdg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15287490400",
      "actor": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-13T18:09:01Z"
    },
    {
      "event": "commented",
      "id": 2474385001,
      "node_id": "IC_kwDOABII586TfB5p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2474385001",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-13T18:13:05Z",
      "updated_at": "2024-11-13T18:13:05Z",
      "author_association": "MEMBER",
      "body": "ok replicated on this PR, I'll track it down",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2474385001",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279"
    },
    {
      "event": "commented",
      "id": 2474387376,
      "node_id": "IC_kwDOABII586TfCew",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2474387376",
      "actor": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-13T18:14:21Z",
      "updated_at": "2024-11-13T18:14:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Yeah not on master, just this PR.",
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2474387376",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279"
    },
    {
      "event": "reviewed",
      "id": 2434094834,
      "node_id": "PRR_kwDOABII586RFVby",
      "url": null,
      "actor": null,
      "commit_id": "7f0d8633b174c8b96cc28ec05005b8e89ab4957d",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#pullrequestreview-2434094834",
      "submitted_at": "2024-11-13T18:19:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15288457206,
      "node_id": "HRFPE_lADOABII586eIZa6zwAAAAOPQ1f2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15288457206",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "572ad09fab50651a7bbde53af85b2f9ccc95b273",
      "commit_url": "https://api.github.com/repos/instagibbs/bitcoin/commits/572ad09fab50651a7bbde53af85b2f9ccc95b273",
      "created_at": "2024-11-13T19:38:56Z"
    },
    {
      "event": "reviewed",
      "id": 2435343111,
      "node_id": "PRR_kwDOABII586RKGMH",
      "url": null,
      "actor": null,
      "commit_id": "572ad09fab50651a7bbde53af85b2f9ccc95b273",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#pullrequestreview-2435343111",
      "submitted_at": "2024-11-14T09:03:31Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA0YTYxNGJmOWE3YmI2YWJhZDE1MGEzZWRmODkzODM1OGY1NGQ1NWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/04a614bf9a7bb6abad150a3edf8938358f54d55b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/04a614bf9a7bb6abad150a3edf8938358f54d55b",
      "tree": {
        "sha": "8580f6975821583e78ec81b09027cee097110307",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8580f6975821583e78ec81b09027cee097110307"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cbf1a47d6062ec2c2c4a788636e8c950a0271997",
          "sha": "cbf1a47d6062ec2c2c4a788636e8c950a0271997",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cbf1a47d6062ec2c2c4a788636e8c950a0271997"
        }
      ],
      "message": "Rename CheckValidEphemeralTx to PreCheckEphemeralTx",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-15T14:31:59Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T16:56:32Z"
      },
      "sha": "04a614bf9a7bb6abad150a3edf8938358f54d55b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNlZDkzMGExZjQxZjdkNzE2MGM2ZWRlNWRjZjNkNGQ1ZjFjZmE4NzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3ed930a1f41f7d7160c6ede5dcf3d4d5f1cfa876",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3ed930a1f41f7d7160c6ede5dcf3d4d5f1cfa876",
      "tree": {
        "sha": "f6990cc5f15f875aef0269a0833ea93444ee5214",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f6990cc5f15f875aef0269a0833ea93444ee5214"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/04a614bf9a7bb6abad150a3edf8938358f54d55b",
          "sha": "04a614bf9a7bb6abad150a3edf8938358f54d55b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/04a614bf9a7bb6abad150a3edf8938358f54d55b"
        }
      ],
      "message": "Have HasDust and PreCheckValidEphemeralTx take CTransaction",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-15T14:31:59Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T16:59:42Z"
      },
      "sha": "3ed930a1f41f7d7160c6ede5dcf3d4d5f1cfa876"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYyMDE2YjMyMzAwMTIzYTQ0NTk5ZTY0OWI0ZjM1YTNhMGYzMjU2NWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/62016b32300123a44599e649b4f35a3a0f32565f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/62016b32300123a44599e649b4f35a3a0f32565f",
      "tree": {
        "sha": "e94169b13cf924973605ee12e97b773ceccc2472",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e94169b13cf924973605ee12e97b773ceccc2472"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3ed930a1f41f7d7160c6ede5dcf3d4d5f1cfa876",
          "sha": "3ed930a1f41f7d7160c6ede5dcf3d4d5f1cfa876",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3ed930a1f41f7d7160c6ede5dcf3d4d5f1cfa876"
        }
      ],
      "message": "Use std::ranges for ephemeral policy checks",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-15T14:31:59Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:04:29Z"
      },
      "sha": "62016b32300123a44599e649b4f35a3a0f32565f"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15313402545,
      "node_id": "HRFPE_lADOABII586eIZa6zwAAAAOQv_qx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15313402545",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "commit_url": "https://api.github.com/repos/instagibbs/bitcoin/commits/5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "created_at": "2024-11-15T14:34:44Z"
    },
    {
      "event": "commented",
      "id": 2482237418,
      "node_id": "IC_kwDOABII586T8-_q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2482237418",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-18T08:17:32Z",
      "updated_at": "2024-11-18T08:17:32Z",
      "author_association": "MEMBER",
      "body": "ACK 5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2482237418",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279"
    },
    {
      "event": "reviewed",
      "id": 2445579323,
      "node_id": "PRR_kwDOABII586RxJQ7",
      "url": null,
      "actor": null,
      "commit_id": "0f542e4bd52a9f41c3091578e893889cc3823069",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Reviewed 5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7\r\n\r\nEspecially like the refactor of `CheckEphemeralSpends()` with less surprising return/out-values.\r\n\r\nGood to see `LIMITED_WHILE(fuzzed_data_provider.remaining_bytes() > 0` in more places than I suggested.\r\n\r\nSuggested changes aside from inline comments:\r\n\r\n### 03ec3f6230f440b264abe3aa42a57fdd29bd3ba3 commit message\r\n\r\n```diff\r\n- Implement GetDust to replace HasDust, use where appropriate\r\n+ Move+rename GetDustIndexes -> GetDust to replace HasDust, use where appropriate\r\n```\r\n\r\n### Deduplicate `assert_mempool_contents()`\r\n\r\nAs [pointed out by theStack & me](https://github.com/bitcoin/bitcoin/pull/30239#discussion_r1825278134):\r\n```diff\r\ndiff --git a/test/functional/mempool_package_rbf.py b/test/functional/mempool_package_rbf.py\r\nindex a5b8fa5f87..14194f9e1a 100755\r\n--- a/test/functional/mempool_package_rbf.py\r\n+++ b/test/functional/mempool_package_rbf.py\r\n@@ -19,6 +19,7 @@ from test_framework.wallet import (\r\n     DEFAULT_FEE,\r\n     MiniWallet,\r\n )\r\n+from test_framework import mempool_util\r\n \r\n MAX_REPLACEMENT_CANDIDATES = 100\r\n \r\n@@ -37,15 +38,7 @@ class PackageRBFTest(BitcoinTestFramework):\r\n         ]] * self.num_nodes\r\n \r\n     def assert_mempool_contents(self, expected=None):\r\n-        \"\"\"Assert that all transactions in expected are in the mempool,\r\n-        and no additional ones exist.\r\n-        \"\"\"\r\n-        if not expected:\r\n-            expected = []\r\n-        mempool = self.nodes[0].getrawmempool(verbose=False)\r\n-        assert_equal(len(mempool), len(expected))\r\n-        for tx in expected:\r\n-            assert tx.rehash() in mempool\r\n+        mempool_util.assert_mempool_contents(self, self.nodes[0], expected, sync=False)\r\n \r\n     def create_simple_package(self, parent_coin, parent_fee=DEFAULT_FEE, child_fee=DEFAULT_CHILD_FEE, heavy_child=False):\r\n         \"\"\"Create a 1 parent 1 child package using the coin passed in as the parent's input. The\r\n```\r\n\r\n### + Sanity check for `assert_mempool_contents()`\r\n\r\nCould add sanity check if passing same tx twice in `expected` (https://github.com/bitcoin/bitcoin/pull/30239#discussion_r1831120099)\r\n```diff\r\ndiff --git a/test/functional/test_framework/mempool_util.py b/test/functional/test_framework/mempool_util.py\r\nindex e04ae914cc..72da52d957 100644\r\n--- a/test/functional/test_framework/mempool_util.py\r\n+++ b/test/functional/test_framework/mempool_util.py\r\n@@ -30,6 +30,9 @@ def assert_mempool_contents(test_framework, node, expected=None, sync=True):\r\n         test_framework.sync_mempools()\r\n     if not expected:\r\n         expected = []\r\n+    else:\r\n+        # Sanity check that elements are unique.\r\n+        assert_equal(len(expected), len(set(expected)))\r\n     mempool = node.getrawmempool(verbose=False)\r\n     assert_equal(len(mempool), len(expected))\r\n     for tx in expected:\r\n```\r\n",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#pullrequestreview-2445579323",
      "submitted_at": "2024-11-19T23:45:11Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM2ODU5Y2UyZGU3NTMxZTQyZmMzMDRiNjlkNzRjYTBkOGU5OWVhMjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c6859ce2de7531e42fc304b69d74ca0d8e99ea29",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c6859ce2de7531e42fc304b69d74ca0d8e99ea29",
      "tree": {
        "sha": "bfffc8568a220f66caee4a49ddff0f86befad294",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bfffc8568a220f66caee4a49ddff0f86befad294"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/62016b32300123a44599e649b4f35a3a0f32565f",
          "sha": "62016b32300123a44599e649b4f35a3a0f32565f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/62016b32300123a44599e649b4f35a3a0f32565f"
        }
      ],
      "message": "Move+rename GetDustIndexes -> GetDust\n\nUse to replace HasDust and where appropraite",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T17:48:03Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:14:32Z"
      },
      "sha": "c6859ce2de7531e42fc304b69d74ca0d8e99ea29"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRkOTA0NGI4ZDQ2MjRmYjdmZmQ0MzJiNmI4OWFiOTkyOTA5NTdhM2U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dd9044b8d4624fb7ffd432b6b89ab99290957a3e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dd9044b8d4624fb7ffd432b6b89ab99290957a3e",
      "tree": {
        "sha": "1de071e839a414c97cd37160f6022e3b779b89f3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1de071e839a414c97cd37160f6022e3b779b89f3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c6859ce2de7531e42fc304b69d74ca0d8e99ea29",
          "sha": "c6859ce2de7531e42fc304b69d74ca0d8e99ea29",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c6859ce2de7531e42fc304b69d74ca0d8e99ea29"
        }
      ],
      "message": "ephemeral policy: IWYU",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T17:49:03Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:20:30Z"
      },
      "sha": "dd9044b8d4624fb7ffd432b6b89ab99290957a3e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM1YzEwZmQzMTdjNmI0YzAzM2YzMDAxNzU3ZTY5NzViOGI5YTQ5NDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c5c10fd317c6b4c033f3001757e6975b8b9a4942",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c5c10fd317c6b4c033f3001757e6975b8b9a4942",
      "tree": {
        "sha": "aa8f73430b475e27f3c50f3a39a236091bf1ca57",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aa8f73430b475e27f3c50f3a39a236091bf1ca57"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dd9044b8d4624fb7ffd432b6b89ab99290957a3e",
          "sha": "dd9044b8d4624fb7ffd432b6b89ab99290957a3e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dd9044b8d4624fb7ffd432b6b89ab99290957a3e"
        }
      ],
      "message": "ephemeral policy doxygen cleanup",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T17:49:03Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:22:51Z"
      },
      "sha": "c5c10fd317c6b4c033f3001757e6975b8b9a4942"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVmOTRkODRiNGU0NjlkOGRiZDYzZTYzNTk4ZDNiOGQ1MzU5NWM2OTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef94d84b4e469d8dbd63e63598d3b8d53595c695",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ef94d84b4e469d8dbd63e63598d3b8d53595c695",
      "tree": {
        "sha": "4ac67023a1057c3eb157415caeedec558408686d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4ac67023a1057c3eb157415caeedec558408686d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c5c10fd317c6b4c033f3001757e6975b8b9a4942",
          "sha": "c5c10fd317c6b4c033f3001757e6975b8b9a4942",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c5c10fd317c6b4c033f3001757e6975b8b9a4942"
        }
      ],
      "message": "bench: remove unnecessary CMTxn constructors",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T17:49:03Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:24:22Z"
      },
      "sha": "ef94d84b4e469d8dbd63e63598d3b8d53595c695"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVmYmNmZDEyYjhmNTA4Yzg3NzQwODgzNDM1ODAwYjYyNjBmYTMwOGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5fbcfd12b8f508c87740883435800b6260fa308b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5fbcfd12b8f508c87740883435800b6260fa308b",
      "tree": {
        "sha": "815bfcbfc8daa4dd924dc5bf7ea1275a63943d98",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/815bfcbfc8daa4dd924dc5bf7ea1275a63943d98"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef94d84b4e469d8dbd63e63598d3b8d53595c695",
          "sha": "ef94d84b4e469d8dbd63e63598d3b8d53595c695",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ef94d84b4e469d8dbd63e63598d3b8d53595c695"
        }
      ],
      "message": "unit test: assert txid returned on CheckEphemeralSpends failures\n\nSimplify nullopt checks",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T17:49:03Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:30:49Z"
      },
      "sha": "5fbcfd12b8f508c87740883435800b6260fa308b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE1YjZjYmYwN2Y1YzNkYjY1MGEwYThjY2NmNDZkM2ZiZTAzMWFlZjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/15b6cbf07f5c3db650a0a8cccf46d3fbe031aef0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/15b6cbf07f5c3db650a0a8cccf46d3fbe031aef0",
      "tree": {
        "sha": "a659a29c8748c2e6ac1a14e6650e6e0fb89a314e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a659a29c8748c2e6ac1a14e6650e6e0fb89a314e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5fbcfd12b8f508c87740883435800b6260fa308b",
          "sha": "5fbcfd12b8f508c87740883435800b6260fa308b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5fbcfd12b8f508c87740883435800b6260fa308b"
        }
      ],
      "message": "unit test: make dust index less magical",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:44:49Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:39:19Z"
      },
      "sha": "15b6cbf07f5c3db650a0a8cccf46d3fbe031aef0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJjMGQ5OGVhNjEyNmVhOTU1MjZjMmI3MDcyMTEzMTc2NGM2ZmYzYTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bc0d98ea6126ea95526c2b70721131764c6ff3a7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bc0d98ea6126ea95526c2b70721131764c6ff3a7",
      "tree": {
        "sha": "82c407a5e6ef39f32ceab1f3a7d73a874f19e608",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/82c407a5e6ef39f32ceab1f3a7d73a874f19e608"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/15b6cbf07f5c3db650a0a8cccf46d3fbe031aef0",
          "sha": "15b6cbf07f5c3db650a0a8cccf46d3fbe031aef0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/15b6cbf07f5c3db650a0a8cccf46d3fbe031aef0"
        }
      ],
      "message": "fuzz: remove dangling reference to GetEntry",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:44:49Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:40:43Z"
      },
      "sha": "bc0d98ea6126ea95526c2b70721131764c6ff3a7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMwNDFhZDZlY2NiNWFhZTg3NjQ4Y2Y1MTAyNTdhMDZmNzExYjFiYzM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c041ad6eccb5aae87648cf510257a06f711b1bc3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c041ad6eccb5aae87648cf510257a06f711b1bc3",
      "tree": {
        "sha": "40870187240c763276a26cf4c860525fcbfaac28",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/40870187240c763276a26cf4c860525fcbfaac28"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bc0d98ea6126ea95526c2b70721131764c6ff3a7",
          "sha": "bc0d98ea6126ea95526c2b70721131764c6ff3a7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bc0d98ea6126ea95526c2b70721131764c6ff3a7"
        }
      ],
      "message": "fuzz: explain package eval coin tracking better",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:44:49Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:42:09Z"
      },
      "sha": "c041ad6eccb5aae87648cf510257a06f711b1bc3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJlZGNhMWNiNjYzM2Y0YjlhNWY4ZjUzMmYyN2UwODRmMjNmMDRhMmU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bedca1cb6633f4b9a5f8f532f27e084f23f04a2e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bedca1cb6633f4b9a5f8f532f27e084f23f04a2e",
      "tree": {
        "sha": "afd5e41892e6c57e631d54941a37741421795aee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/afd5e41892e6c57e631d54941a37741421795aee"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c041ad6eccb5aae87648cf510257a06f711b1bc3",
          "sha": "c041ad6eccb5aae87648cf510257a06f711b1bc3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c041ad6eccb5aae87648cf510257a06f711b1bc3"
        }
      ],
      "message": "fuzz: Directly place transactions in vector",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:44:49Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:47:56Z"
      },
      "sha": "bedca1cb6633f4b9a5f8f532f27e084f23f04a2e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc2OGEwYzE4ODllNTdhZThiYjM1OTZhYzdhYTlmZDJiMWVjYWI5ZmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/768a0c1889e57ae8bb3596ac7aa9fd2b1ecab9fa",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/768a0c1889e57ae8bb3596ac7aa9fd2b1ecab9fa",
      "tree": {
        "sha": "cd5091bef133a6586c85611b2c33488915b47741",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cd5091bef133a6586c85611b2c33488915b47741"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bedca1cb6633f4b9a5f8f532f27e084f23f04a2e",
          "sha": "bedca1cb6633f4b9a5f8f532f27e084f23f04a2e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bedca1cb6633f4b9a5f8f532f27e084f23f04a2e"
        }
      ],
      "message": "func: cleanup test_dustrelay comments",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:44:49Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:57:39Z"
      },
      "sha": "768a0c1889e57ae8bb3596ac7aa9fd2b1ecab9fa"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA5Y2U5MjZlNGExNGYxODNjZmFiMzg3ZDI1MzE1MTllMDAwZWExNzY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/09ce926e4a14f183cfab387d2531519e000ea176",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/09ce926e4a14f183cfab387d2531519e000ea176",
      "tree": {
        "sha": "b12b5e32ac9d5ef03c618eb869f4cba303c416fe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b12b5e32ac9d5ef03c618eb869f4cba303c416fe"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/768a0c1889e57ae8bb3596ac7aa9fd2b1ecab9fa",
          "sha": "768a0c1889e57ae8bb3596ac7aa9fd2b1ecab9fa",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/768a0c1889e57ae8bb3596ac7aa9fd2b1ecab9fa"
        }
      ],
      "message": "func: cleanup reorg test comment",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:44:49Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T17:59:34Z"
      },
      "sha": "09ce926e4a14f183cfab387d2531519e000ea176"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRkZmRmNjE1YjlkYmRjMjIwNDM0NzAyOWJlYTFkYjk3NGE4OGUzOTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4dfdf615b9dbdc2204347029bea1db974a88e392",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4dfdf615b9dbdc2204347029bea1db974a88e392",
      "tree": {
        "sha": "8a8bd1b995ba625d91ce2054b78a5c31d0c801ca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8a8bd1b995ba625d91ce2054b78a5c31d0c801ca"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/09ce926e4a14f183cfab387d2531519e000ea176",
          "sha": "09ce926e4a14f183cfab387d2531519e000ea176",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/09ce926e4a14f183cfab387d2531519e000ea176"
        }
      ],
      "message": "fuzz: remove unused TransactionsDelta validation interface",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:44:49Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T18:02:24Z"
      },
      "sha": "4dfdf615b9dbdc2204347029bea1db974a88e392"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ0NWVhZWQxODJhNzE0ZTY1ZWUyZmU2NzllY2RmN2E4NjA1NTMxM2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/445eaed182a714e65ee2fe679ecdf7a86055313b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/445eaed182a714e65ee2fe679ecdf7a86055313b",
      "tree": {
        "sha": "65421a060370f1dc4d281486588f0a6faaf453d2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/65421a060370f1dc4d281486588f0a6faaf453d2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4dfdf615b9dbdc2204347029bea1db974a88e392",
          "sha": "4dfdf615b9dbdc2204347029bea1db974a88e392",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4dfdf615b9dbdc2204347029bea1db974a88e392"
        }
      ],
      "message": "fuzz: use optional status instead of should_rbf_eph_spend",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T18:06:50Z"
      },
      "sha": "445eaed182a714e65ee2fe679ecdf7a86055313b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdjMzQ5MDE2OWM5ZTIwMzc1ZDNmNTI1ZjgxNzk4ZmNjZWQwMWEzMGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7c3490169c9e20375d3f525f81798fcced01a30a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7c3490169c9e20375d3f525f81798fcced01a30a",
      "tree": {
        "sha": "1533c1e324e895c305ba7318b896d7a0dd6d918a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1533c1e324e895c305ba7318b896d7a0dd6d918a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/445eaed182a714e65ee2fe679ecdf7a86055313b",
          "sha": "445eaed182a714e65ee2fe679ecdf7a86055313b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/445eaed182a714e65ee2fe679ecdf7a86055313b"
        }
      ],
      "message": "fuzz: package_eval: move last_tx inside txn ctor",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T18:09:40Z"
      },
      "sha": "7c3490169c9e20375d3f525f81798fcced01a30a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNhMDUwZDEyZTc2ZjYxYWY3ZTYwZmE1NjRkZDA0ZGIwOGYyYjhmMzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ca050d12e76f61af7e60fa564dd04db08f2b8f38",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ca050d12e76f61af7e60fa564dd04db08f2b8f38",
      "tree": {
        "sha": "7fd4d425c389ae9b604853f0bb52d6a0975948a3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7fd4d425c389ae9b604853f0bb52d6a0975948a3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7c3490169c9e20375d3f525f81798fcced01a30a",
          "sha": "7c3490169c9e20375d3f525f81798fcced01a30a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7c3490169c9e20375d3f525f81798fcced01a30a"
        }
      ],
      "message": "unit test: adapt to changing MAX_DUST_OUTPUTS_PER_TX",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T18:15:09Z"
      },
      "sha": "ca050d12e76f61af7e60fa564dd04db08f2b8f38"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA4ZTk2OWJkMTA3NmM5OWUwYjQzZWNkMDFkZDc5MGI5ZWJkMDRkMGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/08e969bd1076c99e0b43ecd01dd790b9ebd04d0a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/08e969bd1076c99e0b43ecd01dd790b9ebd04d0a",
      "tree": {
        "sha": "99b1601565d1094a52741bb70d477415d0d88aba",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/99b1601565d1094a52741bb70d477415d0d88aba"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ca050d12e76f61af7e60fa564dd04db08f2b8f38",
          "sha": "ca050d12e76f61af7e60fa564dd04db08f2b8f38",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ca050d12e76f61af7e60fa564dd04db08f2b8f38"
        }
      ],
      "message": "RPC: only enforce dust rules on priority when standardness active",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T18:19:40Z"
      },
      "sha": "08e969bd1076c99e0b43ecd01dd790b9ebd04d0a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU1NzA5YTRhNDFlY2Q4YzdiMWU2OTU4NzFjMWE2MTUzODY0ZTc2YWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e5709a4a41ecd8c7b1e695871c1a6153864e76ae",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e5709a4a41ecd8c7b1e695871c1a6153864e76ae",
      "tree": {
        "sha": "1e73a3e356afd6ba81f3c782ac0ad1a2699d10b7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1e73a3e356afd6ba81f3c782ac0ad1a2699d10b7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/08e969bd1076c99e0b43ecd01dd790b9ebd04d0a",
          "sha": "08e969bd1076c99e0b43ecd01dd790b9ebd04d0a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/08e969bd1076c99e0b43ecd01dd790b9ebd04d0a"
        }
      ],
      "message": "func: slight elaboration on submitpackage restriction",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T18:22:09Z"
      },
      "sha": "e5709a4a41ecd8c7b1e695871c1a6153864e76ae"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg3YjI2ZTNkYzA3YjI4M2NiMDUwNjRjY2RlMTc5YzY3NzczOTdjZTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/87b26e3dc07b283cb05064ccde179c6777397ce8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/87b26e3dc07b283cb05064ccde179c6777397ce8",
      "tree": {
        "sha": "1006cb7812cfeda5f95e34ca52998d4093d7c369",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1006cb7812cfeda5f95e34ca52998d4093d7c369"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e5709a4a41ecd8c7b1e695871c1a6153864e76ae",
          "sha": "e5709a4a41ecd8c7b1e695871c1a6153864e76ae",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e5709a4a41ecd8c7b1e695871c1a6153864e76ae"
        }
      ],
      "message": "func: rename test_free_relay to test_no_minrelay_fee",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T18:22:59Z"
      },
      "sha": "87b26e3dc07b283cb05064ccde179c6777397ce8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ5Y2ZhNWZjNGViMDNmYjQyNWZkNWQ0NmQzYjcyZGI3MmZiYzMyNDM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9cfa5fc4eb03fb425fd5d46d3b72db72fbc3243",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d9cfa5fc4eb03fb425fd5d46d3b72db72fbc3243",
      "tree": {
        "sha": "5fc74ff87108917414170d40df590966720b2079",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5fc74ff87108917414170d40df590966720b2079"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/87b26e3dc07b283cb05064ccde179c6777397ce8",
          "sha": "87b26e3dc07b283cb05064ccde179c6777397ce8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/87b26e3dc07b283cb05064ccde179c6777397ce8"
        }
      ],
      "message": "CheckEphemeralSpends: no need to iterate inputs if no parent dust",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T18:26:34Z"
      },
      "sha": "d9cfa5fc4eb03fb425fd5d46d3b72db72fbc3243"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg0MjQyOTAzMDQzYmIxNGZjYTkxNzc5MGM5MzgxYzQxMTgxN2M5Zjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/84242903043bb14fca917790c9381c411817c9f7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/84242903043bb14fca917790c9381c411817c9f7",
      "tree": {
        "sha": "26aabba4ac07a046b8cedbd20d61cd930414287f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/26aabba4ac07a046b8cedbd20d61cd930414287f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9cfa5fc4eb03fb425fd5d46d3b72db72fbc3243",
          "sha": "d9cfa5fc4eb03fb425fd5d46d3b72db72fbc3243",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d9cfa5fc4eb03fb425fd5d46d3b72db72fbc3243"
        }
      ],
      "message": "unit test: ephemeral_tests is using a dust relay rate, not minrelay",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T18:30:08Z"
      },
      "sha": "84242903043bb14fca917790c9381c411817c9f7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNmMGNlZTE2MTdjMGJmMDY1YjI5NWE5ODA3YTRjN2RlMDU1ODM5M2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf0cee1617c0bf065b295a9807a4c7de0558393d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cf0cee1617c0bf065b295a9807a4c7de0558393d",
      "tree": {
        "sha": "abe0ad5295e85e05349a609ec7a93aad397d311e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/abe0ad5295e85e05349a609ec7a93aad397d311e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/84242903043bb14fca917790c9381c411817c9f7",
          "sha": "84242903043bb14fca917790c9381c411817c9f7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/84242903043bb14fca917790c9381c411817c9f7"
        }
      ],
      "message": "func: add note about lack of 1P1C propagation in tree submitpackage",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-12T18:32:11Z"
      },
      "sha": "cf0cee1617c0bf065b295a9807a4c7de0558393d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJhMzVhNTcwYzVkNGFkZTM0MmNiMzI2MzBmZmFhNWY1YmRkNWU4MjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ba35a570c5d4ade342cb32630ffaa5f5bdd5e826",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ba35a570c5d4ade342cb32630ffaa5f5bdd5e826",
      "tree": {
        "sha": "361d69f3201521db144847327362c43541d5a604",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/361d69f3201521db144847327362c43541d5a604"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf0cee1617c0bf065b295a9807a4c7de0558393d",
          "sha": "cf0cee1617c0bf065b295a9807a4c7de0558393d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cf0cee1617c0bf065b295a9807a4c7de0558393d"
        }
      ],
      "message": "CheckEphemeralSpends: return boolean, and set child state and txid outparams",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-13T16:19:14Z"
      },
      "sha": "ba35a570c5d4ade342cb32630ffaa5f5bdd5e826"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQwMzNhY2I2MDgzOTFmM2JhOTU4NjRjZGFhNzAyNWNjMDA4ODhlYTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d033acb608391f3ba95864cdaa7025cc00888ea2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d033acb608391f3ba95864cdaa7025cc00888ea2",
      "tree": {
        "sha": "bf5f0b9a612a7d6e2e5528967d85c7b5d52b7c75",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bf5f0b9a612a7d6e2e5528967d85c7b5d52b7c75"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ba35a570c5d4ade342cb32630ffaa5f5bdd5e826",
          "sha": "ba35a570c5d4ade342cb32630ffaa5f5bdd5e826",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ba35a570c5d4ade342cb32630ffaa5f5bdd5e826"
        }
      ],
      "message": "fuzz: package_eval: let fuzzer run out input in main tx creation loop",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-13T16:36:08Z"
      },
      "sha": "d033acb608391f3ba95864cdaa7025cc00888ea2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVhNWRiMmYyNjkyMGJjZTdjYWY4NWU1YzFiNzBhNTI3Y2MzYjgyYzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ea5db2f26920bce7caf85e5c1b70a527cc3b82c2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ea5db2f26920bce7caf85e5c1b70a527cc3b82c2",
      "tree": {
        "sha": "2e6ddb9af8186c61babcdbf93d2902b4b74367ef",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2e6ddb9af8186c61babcdbf93d2902b4b74367ef"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d033acb608391f3ba95864cdaa7025cc00888ea2",
          "sha": "d033acb608391f3ba95864cdaa7025cc00888ea2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d033acb608391f3ba95864cdaa7025cc00888ea2"
        }
      ],
      "message": "functional: only generate required blocks for test",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-19T14:55:35Z"
      },
      "sha": "ea5db2f26920bce7caf85e5c1b70a527cc3b82c2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ2NmU0ZGYzZmI4M2VmODJiNmFkZDIyZTIwMmUzYTcwZGJmODNhMTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "tree": {
        "sha": "cdc74f225f8456e4616c03cc43c8a90019757c9f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cdc74f225f8456e4616c03cc43c8a90019757c9f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ea5db2f26920bce7caf85e5c1b70a527cc3b82c2",
          "sha": "ea5db2f26920bce7caf85e5c1b70a527cc3b82c2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ea5db2f26920bce7caf85e5c1b70a527cc3b82c2"
        }
      ],
      "message": "assert_mempool_contents: assert not duplicates expected",
      "committer": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T18:49:41Z"
      },
      "author": {
        "name": "Greg Sanders",
        "email": "gsanders87@gmail.com",
        "date": "2024-11-20T17:57:29Z"
      },
      "sha": "466e4df3fb83ef82b6add22e202e3a70dbf83a12"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15371500970,
      "node_id": "HRFPE_lADOABII586eIZa6zwAAAAOUNn2q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15371500970",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "commit_url": "https://api.github.com/repos/instagibbs/bitcoin/commits/466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "created_at": "2024-11-20T18:50:57Z"
    },
    {
      "event": "commented",
      "id": 2489321625,
      "node_id": "IC_kwDOABII586UYAiZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2489321625",
      "actor": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-20T18:51:52Z",
      "updated_at": "2024-11-20T18:51:52Z",
      "author_association": "MEMBER",
      "body": "reworked https://github.com/bitcoin/bitcoin/commit/03ec3f6230f440b264abe3aa42a57fdd29bd3ba3 commit message\r\n\r\n> Deduplicate assert_mempool_contents()\r\nDeferring to future work since that's a different test, I'll review it if someone opens a clenaup PR.\r\n\r\n>  Sanity check for assert_mempool_contents()\r\n\r\nGood idea, added minimal diff\r\n\r\n\r\n",
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2489321625",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279"
    },
    {
      "event": "commented",
      "id": 2490182594,
      "node_id": "IC_kwDOABII586UbSvC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2490182594",
      "actor": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-21T06:31:04Z",
      "updated_at": "2024-11-21T06:31:04Z",
      "author_association": "MEMBER",
      "body": "ACK 466e4df3fb83ef82b6add22e202e3a70dbf83a12\r\n\r\na trivial refactoring since the last ack",
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2490182594",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279"
    },
    {
      "event": "reviewed",
      "id": 2452817327,
      "node_id": "PRR_kwDOABII586SMwWv",
      "url": null,
      "actor": null,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 466e4df3fb83ef82b6add22e202e3a70dbf83a12\r\n\r\nMostly responded to my feedback since my last review.\r\n\r\nCompiled with BDB and passed functional tests, unittests and ran `ephemeral_package_eval` fuzz target for 1 minute.\r\n\r\nStill have [reservations about the prioritisetransaction RPC](https://github.com/bitcoin/bitcoin/pull/31279/files#r1848453460), but not blocking.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#pullrequestreview-2452817327",
      "submitted_at": "2024-11-21T21:46:44Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
    },
    {
      "event": "referenced",
      "id": 15390460816,
      "node_id": "REFE_lADOABII586eIZa6zwAAAAOVV8uQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15390460816",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2638fdb4f934be96b7c798dbac38ea5ab8a6374a",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2638fdb4f934be96b7c798dbac38ea5ab8a6374a",
      "created_at": "2024-11-22T00:11:35Z"
    },
    {
      "event": "commented",
      "id": 2495097900,
      "node_id": "IC_kwDOABII586UuCws",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2495097900",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-22T23:33:50Z",
      "updated_at": "2024-11-22T23:33:50Z",
      "author_association": "MEMBER",
      "body": "cc @stickies-v, many of your comments",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#issuecomment-2495097900",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31279"
    },
    {
      "event": "mentioned",
      "id": 15405273084,
      "node_id": "MEE_lADOABII586eIZa6zwAAAAOWOc_8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15405273084",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-22T23:33:52Z"
    },
    {
      "event": "subscribed",
      "id": 15405273088,
      "node_id": "SE_lADOABII586eIZa6zwAAAAOWOdAA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15405273088",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-22T23:33:52Z"
    },
    {
      "event": "reviewed",
      "id": 2456791069,
      "node_id": "PRR_kwDOABII586Sb6gd",
      "url": null,
      "actor": null,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "lgtm ACK 466e4df3fb83ef82b6add22e202e3a70dbf83a12\r\n\r\nIf you need to retouch, could also tackle https://github.com/bitcoin/bitcoin/pull/30239#discussion_r1828577696 (e.g. put it into c5c10fd317c6b4c033f3001757e6975b8b9a4942)\r\n",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#pullrequestreview-2456791069",
      "submitted_at": "2024-11-24T20:57:38Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1840960818",
      "pull_request_review_id": 2434094834,
      "id": 1840960818,
      "node_id": "PRRC_kwDOABII585tutUy",
      "diff_hunk": "@@ -338,9 +333,6 @@ FUZZ_TARGET(ephemeral_package_eval, .init = initialize_tx_pool)\n             Assert(!CheckPackageMempoolAcceptResult(txs, result_package, expect_valid, &tx_pool));\n         }\n \n-        node.validation_signals->SyncWithValidationInterfaceQueue();\n-        node.validation_signals->UnregisterSharedValidationInterface(txr);\n-\n         CheckMempoolEphemeralInvariants(tx_pool);\n     }\n ",
      "path": "src/test/fuzz/package_eval.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "7f0d8633b174c8b96cc28ec05005b8e89ab4957d",
      "in_reply_to_id": null,
      "user": {
        "login": "marcofleon",
        "id": 95179662,
        "node_id": "U_kgDOBaxTjg",
        "avatar_url": "https://avatars.githubusercontent.com/u/95179662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/marcofleon",
        "html_url": "https://github.com/marcofleon",
        "followers_url": "https://api.github.com/users/marcofleon/followers",
        "following_url": "https://api.github.com/users/marcofleon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/marcofleon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/marcofleon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/marcofleon/subscriptions",
        "organizations_url": "https://api.github.com/users/marcofleon/orgs",
        "repos_url": "https://api.github.com/users/marcofleon/repos",
        "events_url": "https://api.github.com/users/marcofleon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/marcofleon/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It's this commit here that's causing the errors. Seems that this was actually needed.",
      "created_at": "2024-11-13T18:19:14Z",
      "updated_at": "2024-11-13T18:19:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1840960818",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1840960818"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 336,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1841060999",
      "pull_request_review_id": 2434252190,
      "id": 1841060999,
      "node_id": "PRRC_kwDOABII585tvFyH",
      "diff_hunk": "@@ -338,9 +333,6 @@ FUZZ_TARGET(ephemeral_package_eval, .init = initialize_tx_pool)\n             Assert(!CheckPackageMempoolAcceptResult(txs, result_package, expect_valid, &tx_pool));\n         }\n \n-        node.validation_signals->SyncWithValidationInterfaceQueue();\n-        node.validation_signals->UnregisterSharedValidationInterface(txr);\n-\n         CheckMempoolEphemeralInvariants(tx_pool);\n     }\n ",
      "path": "src/test/fuzz/package_eval.cpp",
      "position": null,
      "original_position": 21,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "7f0d8633b174c8b96cc28ec05005b8e89ab4957d",
      "in_reply_to_id": 1840960818,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "specifically needs the `SyncWithValidationInterfaceQueue`, not the unused part. ",
      "created_at": "2024-11-13T19:39:27Z",
      "updated_at": "2024-11-13T19:39:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1841060999",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1841060999"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 336,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1841755721",
      "pull_request_review_id": 2435343111,
      "id": 1841755721,
      "node_id": "PRRC_kwDOABII585txvZJ",
      "diff_hunk": "@@ -10,7 +10,7 @@ bool HasDust(const CTransactionRef& tx, CFeeRate dust_relay_rate)\n     return std::any_of(tx->vout.cbegin(), tx->vout.cend(), [&](const auto& output) { return IsDust(output, dust_relay_rate); });\n }\n \n-bool CheckValidEphemeralTx(const CTransactionRef& tx, CFeeRate dust_relay_rate, CAmount base_fee, CAmount mod_fee, TxValidationState& state)\n+bool PreCheckValidEphemeralTx(const CTransactionRef& tx, CFeeRate dust_relay_rate, CAmount base_fee, CAmount mod_fee, TxValidationState& state)",
      "path": "src/policy/ephemeral_policy.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "7dc8a0ba1be86352fa51860af504ed09fba9307e",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "7dc8a0ba1be86352fa51860af504ed09fba9307e\r\n\r\nWhat does `valid` mean in this context? Can't this word be dropped?",
      "created_at": "2024-11-14T08:23:09Z",
      "updated_at": "2024-11-14T09:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1841755721",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1841755721"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1841774691",
      "pull_request_review_id": 2435343111,
      "id": 1841774691,
      "node_id": "PRRC_kwDOABII585tx0Bj",
      "diff_hunk": "@@ -814,9 +814,11 @@ BOOST_AUTO_TEST_CASE(test_IsStandard)\n     CAmount nDustThreshold = 182 * g_dust.GetFeePerK() / 1000;\n     BOOST_CHECK_EQUAL(nDustThreshold, 546);\n \n-    // Add dust output to take dust slot, still standard!\n-    t.vout.emplace_back(0, t.vout[0].scriptPubKey);\n-    CheckIsStandard(t);\n+    // Add dust outputs up to allowed maximum, still standard!",
      "path": "src/test/transaction_tests.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "7020d29e7fb276af9877b6767b4bacf1edfe050c",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "7020d29e7fb276af9877b6767b4bacf1edfe050c\r\n\r\nwanna also check for non-standard if add one more?",
      "created_at": "2024-11-14T08:37:45Z",
      "updated_at": "2024-11-14T09:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1841774691",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1841774691"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 817,
      "original_line": 817,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1841816179",
      "pull_request_review_id": 2435343111,
      "id": 1841816179,
      "node_id": "PRRC_kwDOABII585tx-Jz",
      "diff_hunk": "@@ -50,8 +50,9 @@ bool PreCheckValidEphemeralTx(const CTransaction& tx, CFeeRate dust_relay_rate,\n /** Must be called for each transaction(package) if any dust is in the package.\n  *  Checks that each transaction's parents have their dust spent by the child,\n  *  where parents are either in the mempool or in the package itself.\n- *  @returns std::nullopt if all dust is properly spent, or the txid of the violating child spend.\n+ *  child_state and child_txid set on failure.",
      "path": "src/policy/ephemeral_policy.h",
      "position": null,
      "original_position": 5,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "f306a940d2ba470a13120853ace49509a8e496a6",
      "in_reply_to_id": null,
      "user": {
        "login": "naumenkogs",
        "id": 7975071,
        "node_id": "MDQ6VXNlcjc5NzUwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naumenkogs",
        "html_url": "https://github.com/naumenkogs",
        "followers_url": "https://api.github.com/users/naumenkogs/followers",
        "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
        "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
        "repos_url": "https://api.github.com/users/naumenkogs/repos",
        "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "f306a940d2ba470a13120853ace49509a8e496a6\r\n\r\nlooks odd, perhaps a pasting issue.",
      "created_at": "2024-11-14T09:02:46Z",
      "updated_at": "2024-11-14T09:03:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1841816179",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1841816179"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 53,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1842272710",
      "pull_request_review_id": 2436168852,
      "id": 1842272710,
      "node_id": "PRRC_kwDOABII585tztnG",
      "diff_hunk": "@@ -814,9 +814,11 @@ BOOST_AUTO_TEST_CASE(test_IsStandard)\n     CAmount nDustThreshold = 182 * g_dust.GetFeePerK() / 1000;\n     BOOST_CHECK_EQUAL(nDustThreshold, 546);\n \n-    // Add dust output to take dust slot, still standard!\n-    t.vout.emplace_back(0, t.vout[0].scriptPubKey);\n-    CheckIsStandard(t);\n+    // Add dust outputs up to allowed maximum, still standard!",
      "path": "src/test/transaction_tests.cpp",
      "position": 7,
      "original_position": 7,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "7020d29e7fb276af9877b6767b4bacf1edfe050c",
      "in_reply_to_id": 1841774691,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "we do in the following lines",
      "created_at": "2024-11-14T14:01:06Z",
      "updated_at": "2024-11-14T14:01:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1842272710",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1842272710"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 817,
      "original_line": 817,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1842274954",
      "pull_request_review_id": 2436172754,
      "id": 1842274954,
      "node_id": "PRRC_kwDOABII585tzuKK",
      "diff_hunk": "@@ -50,8 +50,9 @@ bool PreCheckValidEphemeralTx(const CTransaction& tx, CFeeRate dust_relay_rate,\n /** Must be called for each transaction(package) if any dust is in the package.\n  *  Checks that each transaction's parents have their dust spent by the child,\n  *  where parents are either in the mempool or in the package itself.\n- *  @returns std::nullopt if all dust is properly spent, or the txid of the violating child spend.\n+ *  child_state and child_txid set on failure.",
      "path": "src/policy/ephemeral_policy.h",
      "position": null,
      "original_position": 5,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "f306a940d2ba470a13120853ace49509a8e496a6",
      "in_reply_to_id": 1841816179,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It's a sentence fragment, I can touch it up to be grammatically correct",
      "created_at": "2024-11-14T14:02:38Z",
      "updated_at": "2024-11-14T14:02:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1842274954",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1842274954"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 53,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1843921416",
      "pull_request_review_id": 2438781407,
      "id": 1843921416,
      "node_id": "PRRC_kwDOABII585t6AII",
      "diff_hunk": "@@ -50,8 +50,9 @@ bool PreCheckValidEphemeralTx(const CTransaction& tx, CFeeRate dust_relay_rate,\n /** Must be called for each transaction(package) if any dust is in the package.\n  *  Checks that each transaction's parents have their dust spent by the child,\n  *  where parents are either in the mempool or in the package itself.\n- *  @returns std::nullopt if all dust is properly spent, or the txid of the violating child spend.\n+ *  child_state and child_txid set on failure.",
      "path": "src/policy/ephemeral_policy.h",
      "position": null,
      "original_position": 5,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "f306a940d2ba470a13120853ace49509a8e496a6",
      "in_reply_to_id": 1841816179,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "touched up",
      "created_at": "2024-11-15T14:34:47Z",
      "updated_at": "2024-11-15T14:34:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1843921416",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1843921416"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 53,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1843921461",
      "pull_request_review_id": 2438781497,
      "id": 1843921461,
      "node_id": "PRRC_kwDOABII585t6AI1",
      "diff_hunk": "@@ -10,7 +10,7 @@ bool HasDust(const CTransactionRef& tx, CFeeRate dust_relay_rate)\n     return std::any_of(tx->vout.cbegin(), tx->vout.cend(), [&](const auto& output) { return IsDust(output, dust_relay_rate); });\n }\n \n-bool CheckValidEphemeralTx(const CTransactionRef& tx, CFeeRate dust_relay_rate, CAmount base_fee, CAmount mod_fee, TxValidationState& state)\n+bool PreCheckValidEphemeralTx(const CTransactionRef& tx, CFeeRate dust_relay_rate, CAmount base_fee, CAmount mod_fee, TxValidationState& state)",
      "path": "src/policy/ephemeral_policy.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "7dc8a0ba1be86352fa51860af504ed09fba9307e",
      "in_reply_to_id": 1841755721,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done",
      "created_at": "2024-11-15T14:34:49Z",
      "updated_at": "2024-11-15T14:34:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1843921461",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1843921461"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848428300",
      "pull_request_review_id": 2445579323,
      "id": 1848428300,
      "node_id": "PRRC_kwDOABII585uLMcM",
      "diff_hunk": "@@ -63,16 +72,23 @@ std::optional<Txid> CheckEphemeralSpends(const Package& package, CFeeRate dust_r\n             processed_parent_set.insert(parent_txid);\n         }\n \n+        if (unspent_parent_dust.empty()) {\n+            continue;\n+        }\n+\n         // Now that we have gathered parents' dust, make sure it's spent\n         // by the child\n         for (const auto& tx_input : tx->vin) {\n             unspent_parent_dust.erase(tx_input.prevout);\n         }\n \n         if (!unspent_parent_dust.empty()) {\n-            return txid;\n+            child_txid = tx->GetHash();\n+            child_state.Invalid(TxValidationResult::TX_MEMPOOL_POLICY, \"missing-ephemeral-spends\",",
      "path": "src/policy/ephemeral_policy.cpp",
      "position": null,
      "original_position": 74,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: Could prefix with `out_` to communicate that they are out-reference-parameters instead of locals.\r\n\r\n```suggestion\r\n            out_child_txid = tx->GetHash();\r\n            out_child_state.Invalid(TxValidationResult::TX_MEMPOOL_POLICY, \"missing-ephemeral-spends\",\r\n```",
      "created_at": "2024-11-19T14:05:40Z",
      "updated_at": "2024-11-19T23:45:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1848428300",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848428300"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": 86,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 87,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848433819",
      "pull_request_review_id": 2445579323,
      "id": 1848433819,
      "node_id": "PRRC_kwDOABII585uLNyb",
      "diff_hunk": "@@ -63,16 +72,23 @@ std::optional<Txid> CheckEphemeralSpends(const Package& package, CFeeRate dust_r\n             processed_parent_set.insert(parent_txid);",
      "path": "src/policy/ephemeral_policy.cpp",
      "position": 58,
      "original_position": 58,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "perf nit: Could remove this line if using `.insert` and checking the return value instead of `.contains` above as suggested here https://github.com/bitcoin/bitcoin/pull/30239#discussion_r1831063128.\r\n\r\nThe current version is slightly easier to read but does an *extra lookup*. I understand if you want to leave as-is for readability as the perf-hit is probably negligible.",
      "created_at": "2024-11-19T14:08:46Z",
      "updated_at": "2024-11-19T23:45:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1848433819",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848433819"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 72,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848453460",
      "pull_request_review_id": 2445579323,
      "id": 1848453460,
      "node_id": "PRRC_kwDOABII585uLSlU",
      "diff_hunk": "@@ -496,7 +496,7 @@ static RPCHelpMan prioritisetransaction()\n \n     // Non-0 fee dust transactions are not allowed for entry, and modification not allowed afterwards\n     const auto& tx = mempool.get(hash);\n-    if (tx && HasDust(tx, mempool.m_opts.dust_relay_feerate)) {\n+    if (mempool.m_opts.require_standard && tx && !GetDust(*tx, mempool.m_opts.dust_relay_feerate).empty()) {",
      "path": "src/rpc/mining.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thinking back to [discussion](https://github.com/bitcoin/bitcoin/pull/30239#discussion_r1831104732) around how limiting prioritizetransaction for miners could backfire on the ecosystem in previous PR.\r\n\r\nEncouraging miners to run with `-acceptnonstdtxn` means all *relayfee* limits for other transactions are effectively zero. But standardness touches upon other aspects of transactions as well (with more to be added in the future). So this is worse than only pushing miners to zero out *relayfee*-args/settings. This if-block should probably not have been added in the main PR in the first place.",
      "created_at": "2024-11-19T14:20:22Z",
      "updated_at": "2024-11-19T23:45:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1848453460",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848453460"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 499,
      "original_line": 499,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848502466",
      "pull_request_review_id": 2445579323,
      "id": 1848502466,
      "node_id": "PRRC_kwDOABII585uLejC",
      "diff_hunk": "@@ -210,50 +210,47 @@ FUZZ_TARGET(ephemeral_package_eval, .init = initialize_tx_pool)\n \n     chainstate.SetMempool(&tx_pool);\n \n-    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 300)\n+    LIMITED_WHILE(fuzzed_data_provider.remaining_bytes() > 0, 300)\n     {\n         Assert(!mempool_outpoints.empty());\n \n         std::vector<CTransactionRef> txs;\n \n         // Find something we may want to double-spend with two input single tx\n-        std::optional<COutPoint> outpoint_to_rbf{GetChildEvictingPrevout(tx_pool)};\n-        bool should_rbf_eph_spend = outpoint_to_rbf && fuzzed_data_provider.ConsumeBool();\n+        std::optional<COutPoint> outpoint_to_rbf{fuzzed_data_provider.ConsumeBool() ? GetChildEvictingPrevout(tx_pool) : std::nullopt};\n \n         // Make small packages\n-        const auto num_txs = should_rbf_eph_spend ? 1 : (size_t) fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n+        const auto num_txs = outpoint_to_rbf ? 1 : (size_t) fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n \n         std::set<COutPoint> package_outpoints;\n         while (txs.size() < num_txs) {\n-\n-            // Last transaction in a package needs to be a child of parents to get further in validation\n-            // so the last transaction to be generated(in a >1 package) must spend all package-made outputs\n-            // Note that this test currently only spends package outputs in last transaction.\n-            bool last_tx = num_txs > 1 && txs.size() == num_txs - 1;\n-\n             // Create transaction to add to the mempool\n-            const CTransactionRef tx = [&] {\n+            txs.push_back([&] {",
      "path": "src/test/fuzz/package_eval.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: Could emplace movable `CTransaction`, apologies for not including it in my original suggestion.\r\n```suggestion\r\n            txs.emplace_back([&] {\r\n```",
      "created_at": "2024-11-19T14:47:24Z",
      "updated_at": "2024-11-19T23:45:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1848502466",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848502466"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 228,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848737688",
      "pull_request_review_id": 2445579323,
      "id": 1848737688,
      "node_id": "PRRC_kwDOABII585uMX-Y",
      "diff_hunk": "@@ -128,85 +128,88 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\n     // We first start with nothing \"in the mempool\", using package checks\n \n     // Trivial single transaction with no dust\n-    BOOST_CHECK(!CheckEphemeralSpends({dust_spend}, minrelay, pool).has_value());\n+    BOOST_CHECK(!CheckEphemeralSpends({dust_spend}, minrelay, pool));\n \n     // Now with dust, ok because the tx has no dusty parents\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1}, minrelay, pool).has_value());\n+    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1}, minrelay, pool));\n \n     // Dust checks pass\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, CFeeRate(0), pool).has_value());\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, minrelay, pool).has_value());\n+    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, CFeeRate(0), pool));\n+    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, minrelay, pool));\n \n     auto dust_non_spend = make_tx({COutPoint{dust_txid, dust_index - 1}}, /*version=*/2);\n \n     // Child spending non-dust only from parent should be disallowed even if dust otherwise spent\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend, dust_spend}, minrelay, pool).has_value());\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_spend, dust_non_spend}, minrelay, pool).has_value());\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend}, minrelay, pool).has_value());\n+    const auto dust_non_spend_txid{dust_non_spend->GetHash()};\n+    const Txid null_txid;\n+    assert(dust_non_spend_txid != null_txid);\n+    BOOST_CHECK_EQUAL(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend, dust_spend}, minrelay, pool).value_or(null_txid), dust_non_spend_txid);",
      "path": "src/test/txvalidation_tests.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "60e18bb2dcd2c16a64e01023b793b0494cd6ca64",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 60e18bb2dcd2c16a64e01023b793b0494cd6ca64:\r\n\r\nnit: (Resolved in later commit) - `.value_or(null_txid)` seems unnecessary? Suggestion:\r\n```C++\r\n    BOOST_CHECK_EQUAL(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend, dust_spend}, minrelay, pool), dust_non_spend_txid);\r\n```\r\nChanging to that convention makes the introduction of `null_txid` pointless.",
      "created_at": "2024-11-19T17:03:54Z",
      "updated_at": "2024-11-19T23:45:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1848737688",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848737688"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 146,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848750297",
      "pull_request_review_id": 2445579323,
      "id": 1848750297,
      "node_id": "PRRC_kwDOABII585uMbDZ",
      "diff_hunk": "@@ -100,9 +100,11 @@ static inline CTransactionRef make_ephemeral_tx(const std::vector<COutPoint>& in\n     for (size_t i{0}; i < inputs.size(); ++i) {\n         mtx.vin[i].prevout = inputs[i];\n     }\n-    for (auto i{0}; i < 3; ++i) {\n+    int num_outputs{3};\n+    int dust_index{num_outputs - 1};",
      "path": "src/test/txvalidation_tests.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "263a85023c4d883873c72783cbe24c31d0bffb65",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Should further link `dust_index` with the value used by callers of the function, as current version has a hidden dependency.\r\n\r\n<details>\r\n<summary>\r\nSending as parameter\r\n</summary>\r\n\r\n```diff\r\ndiff --git a/src/test/txvalidation_tests.cpp b/src/test/txvalidation_tests.cpp\r\nindex b362abfa1d..0a51ff411f 100644\r\n--- a/src/test/txvalidation_tests.cpp\r\n+++ b/src/test/txvalidation_tests.cpp\r\n@@ -91,8 +91,10 @@ static inline CTransactionRef make_tx(const std::vector<COutPoint>& inputs, int3\r\n }\r\n \r\n // Same as make_tx but adds 2 normal outputs and 0-value dust to end of vout\r\n-static inline CTransactionRef make_ephemeral_tx(const std::vector<COutPoint>& inputs, int32_t version)\r\n+static inline CTransactionRef make_ephemeral_tx(const std::vector<COutPoint>& inputs, int32_t version, uint32_t dust_index)\r\n {\r\n+    const uint32_t num_outputs{3};\r\n+    assert(dust_index < num_outputs);\r\n     CMutableTransaction mtx = CMutableTransaction{};\r\n     mtx.version = version;\r\n     mtx.vin.resize(inputs.size());\r\n@@ -100,9 +102,7 @@ static inline CTransactionRef make_ephemeral_tx(const std::vector<COutPoint>& in\r\n     for (size_t i{0}; i < inputs.size(); ++i) {\r\n         mtx.vin[i].prevout = inputs[i];\r\n     }\r\n-    int num_outputs{3};\r\n-    int dust_index{num_outputs - 1};\r\n-    for (auto i{0}; i < num_outputs; ++i) {\r\n+    for (uint32_t i{0}; i < num_outputs; ++i) {\r\n         mtx.vout[i].scriptPubKey = CScript() << OP_TRUE;\r\n         mtx.vout[i].nValue = (i == dust_index) ? 0 : 10000;\r\n     }\r\n@@ -118,12 +118,12 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\r\n \r\n     CFeeRate minrelay(1000);\r\n \r\n+    const uint32_t dust_index = 2;\r\n+\r\n     // Basic transaction with dust\r\n-    auto grandparent_tx_1 = make_ephemeral_tx(random_outpoints(1), /*version=*/2);\r\n+    auto grandparent_tx_1 = make_ephemeral_tx(random_outpoints(1), /*version=*/2, dust_index);\r\n     const auto dust_txid = grandparent_tx_1->GetHash();\r\n \r\n-    uint32_t dust_index = 2;\r\n-\r\n     // Child transaction spending dust\r\n     auto dust_spend = make_tx({COutPoint{dust_txid, dust_index}}, /*version=*/2);\r\n \r\n@@ -149,7 +149,7 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\r\n     BOOST_CHECK_EQUAL(CheckEphemeralSpends({grandparent_tx_1, dust_spend, dust_non_spend}, minrelay, pool).value_or(null_txid), dust_non_spend_txid);\r\n     BOOST_CHECK_EQUAL(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend}, minrelay, pool).value_or(null_txid), dust_non_spend_txid);\r\n \r\n-    auto grandparent_tx_2 = make_ephemeral_tx(random_outpoints(1), /*version=*/2);\r\n+    auto grandparent_tx_2 = make_ephemeral_tx(random_outpoints(1), /*version=*/2, dust_index);\r\n     const auto dust_txid_2 = grandparent_tx_2->GetHash();\r\n \r\n     // Spend dust from one but not another is ok, as long as second grandparent has no child\r\n@@ -169,14 +169,14 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, grandparent_tx_2, dust_spend_all_outpoints}, minrelay, pool));\r\n \r\n     // 2 grandparents with dust <- 1 dust-spending parent with dust <- child with no dust\r\n-    auto parent_with_dust = make_ephemeral_tx({COutPoint{dust_txid, dust_index}, COutPoint{dust_txid_2, dust_index}}, /*version=*/2);\r\n+    auto parent_with_dust = make_ephemeral_tx({COutPoint{dust_txid, dust_index}, COutPoint{dust_txid_2, dust_index}}, /*version=*/2, dust_index);\r\n     // Ok for parent to have dust\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, grandparent_tx_2, parent_with_dust}, minrelay, pool));\r\n     auto child_no_dust = make_tx({COutPoint{parent_with_dust->GetHash(), dust_index}}, /*version=*/2);\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, grandparent_tx_2, parent_with_dust, child_no_dust}, minrelay, pool));\r\n \r\n     // 2 grandparents with dust <- 1 dust-spending parent with dust <- child with dust\r\n-    auto child_with_dust = make_ephemeral_tx({COutPoint{parent_with_dust->GetHash(), dust_index}}, /*version=*/2);\r\n+    auto child_with_dust = make_ephemeral_tx({COutPoint{parent_with_dust->GetHash(), dust_index}}, /*version=*/2, dust_index);\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, grandparent_tx_2, parent_with_dust, child_with_dust}, minrelay, pool));\r\n \r\n     // Tests with parents in mempool\r\n```\r\n</details>\r\n\r\n<details>\r\n<summary>\r\nFile-local constant\r\n</summary>\r\n\r\n```diff\r\ndiff --git a/src/test/txvalidation_tests.cpp b/src/test/txvalidation_tests.cpp\r\nindex b362abfa1d..2309cd4f4d 100644\r\n--- a/src/test/txvalidation_tests.cpp\r\n+++ b/src/test/txvalidation_tests.cpp\r\n@@ -90,6 +90,8 @@ static inline CTransactionRef make_tx(const std::vector<COutPoint>& inputs, int3\r\n     return MakeTransactionRef(mtx);\r\n }\r\n \r\n+static constexpr auto EPHEMERAL_DUST_INDEX = 2;\r\n+\r\n // Same as make_tx but adds 2 normal outputs and 0-value dust to end of vout\r\n static inline CTransactionRef make_ephemeral_tx(const std::vector<COutPoint>& inputs, int32_t version)\r\n {\r\n@@ -100,11 +102,11 @@ static inline CTransactionRef make_ephemeral_tx(const std::vector<COutPoint>& in\r\n     for (size_t i{0}; i < inputs.size(); ++i) {\r\n         mtx.vin[i].prevout = inputs[i];\r\n     }\r\n-    int num_outputs{3};\r\n-    int dust_index{num_outputs - 1};\r\n-    for (auto i{0}; i < num_outputs; ++i) {\r\n+    constexpr uint32_t num_outputs{3};\r\n+    static_assert(EPHEMERAL_DUST_INDEX < num_outputs);\r\n+    for (uint32_t i{0}; i < num_outputs; ++i) {\r\n         mtx.vout[i].scriptPubKey = CScript() << OP_TRUE;\r\n-        mtx.vout[i].nValue = (i == dust_index) ? 0 : 10000;\r\n+        mtx.vout[i].nValue = (i == EPHEMERAL_DUST_INDEX) ? 0 : 10000;\r\n     }\r\n     return MakeTransactionRef(mtx);\r\n }\r\n@@ -122,10 +124,8 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\r\n     auto grandparent_tx_1 = make_ephemeral_tx(random_outpoints(1), /*version=*/2);\r\n     const auto dust_txid = grandparent_tx_1->GetHash();\r\n \r\n-    uint32_t dust_index = 2;\r\n-\r\n     // Child transaction spending dust\r\n-    auto dust_spend = make_tx({COutPoint{dust_txid, dust_index}}, /*version=*/2);\r\n+    auto dust_spend = make_tx({COutPoint{dust_txid, EPHEMERAL_DUST_INDEX}}, /*version=*/2);\r\n \r\n     // We first start with nothing \"in the mempool\", using package checks\r\n \r\n@@ -139,7 +139,7 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, CFeeRate(0), pool));\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, minrelay, pool));\r\n \r\n-    auto dust_non_spend = make_tx({COutPoint{dust_txid, dust_index - 1}}, /*version=*/2);\r\n+    auto dust_non_spend = make_tx({COutPoint{dust_txid, EPHEMERAL_DUST_INDEX - 1}}, /*version=*/2);\r\n \r\n     // Child spending non-dust only from parent should be disallowed even if dust otherwise spent\r\n     const auto dust_non_spend_txid{dust_non_spend->GetHash()};\r\n@@ -155,11 +155,11 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\r\n     // Spend dust from one but not another is ok, as long as second grandparent has no child\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, grandparent_tx_2, dust_spend}, minrelay, pool));\r\n \r\n-    auto dust_non_spend_both_parents = make_tx({COutPoint{dust_txid, dust_index}, COutPoint{dust_txid_2, dust_index - 1}}, /*version=*/2);\r\n+    auto dust_non_spend_both_parents = make_tx({COutPoint{dust_txid, EPHEMERAL_DUST_INDEX}, COutPoint{dust_txid_2, EPHEMERAL_DUST_INDEX - 1}}, /*version=*/2);\r\n     // But if we spend from the parent, it must spend dust\r\n     BOOST_CHECK_EQUAL(CheckEphemeralSpends({grandparent_tx_1, grandparent_tx_2, dust_non_spend_both_parents}, minrelay, pool).value_or(null_txid), dust_non_spend_both_parents->GetHash());\r\n \r\n-    auto dust_spend_both_parents = make_tx({COutPoint{dust_txid, dust_index}, COutPoint{dust_txid_2, dust_index}}, /*version=*/2);\r\n+    auto dust_spend_both_parents = make_tx({COutPoint{dust_txid, EPHEMERAL_DUST_INDEX}, COutPoint{dust_txid_2, EPHEMERAL_DUST_INDEX}}, /*version=*/2);\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, grandparent_tx_2, dust_spend_both_parents}, minrelay, pool));\r\n \r\n     // Spending other outputs is also correct, as long as the dusty one is spent\r\n@@ -169,14 +169,14 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, grandparent_tx_2, dust_spend_all_outpoints}, minrelay, pool));\r\n \r\n     // 2 grandparents with dust <- 1 dust-spending parent with dust <- child with no dust\r\n-    auto parent_with_dust = make_ephemeral_tx({COutPoint{dust_txid, dust_index}, COutPoint{dust_txid_2, dust_index}}, /*version=*/2);\r\n+    auto parent_with_dust = make_ephemeral_tx({COutPoint{dust_txid, EPHEMERAL_DUST_INDEX}, COutPoint{dust_txid_2, EPHEMERAL_DUST_INDEX}}, /*version=*/2);\r\n     // Ok for parent to have dust\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, grandparent_tx_2, parent_with_dust}, minrelay, pool));\r\n-    auto child_no_dust = make_tx({COutPoint{parent_with_dust->GetHash(), dust_index}}, /*version=*/2);\r\n+    auto child_no_dust = make_tx({COutPoint{parent_with_dust->GetHash(), EPHEMERAL_DUST_INDEX}}, /*version=*/2);\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, grandparent_tx_2, parent_with_dust, child_no_dust}, minrelay, pool));\r\n \r\n     // 2 grandparents with dust <- 1 dust-spending parent with dust <- child with dust\r\n-    auto child_with_dust = make_ephemeral_tx({COutPoint{parent_with_dust->GetHash(), dust_index}}, /*version=*/2);\r\n+    auto child_with_dust = make_ephemeral_tx({COutPoint{parent_with_dust->GetHash(), EPHEMERAL_DUST_INDEX}}, /*version=*/2);\r\n     BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, grandparent_tx_2, parent_with_dust, child_with_dust}, minrelay, pool));\r\n \r\n     // Tests with parents in mempool\r\n```\r\n\r\n</details>",
      "created_at": "2024-11-19T17:13:24Z",
      "updated_at": "2024-11-19T23:45:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1848750297",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1848750297"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1849177866",
      "pull_request_review_id": 2445579323,
      "id": 1849177866,
      "node_id": "PRRC_kwDOABII585uODcK",
      "diff_hunk": "@@ -210,50 +210,47 @@ FUZZ_TARGET(ephemeral_package_eval, .init = initialize_tx_pool)\n \n     chainstate.SetMempool(&tx_pool);\n \n-    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 300)\n+    LIMITED_WHILE(fuzzed_data_provider.remaining_bytes() > 0, 300)\n     {\n         Assert(!mempool_outpoints.empty());\n \n         std::vector<CTransactionRef> txs;\n \n         // Find something we may want to double-spend with two input single tx\n-        std::optional<COutPoint> outpoint_to_rbf{GetChildEvictingPrevout(tx_pool)};\n-        bool should_rbf_eph_spend = outpoint_to_rbf && fuzzed_data_provider.ConsumeBool();\n+        std::optional<COutPoint> outpoint_to_rbf{fuzzed_data_provider.ConsumeBool() ? GetChildEvictingPrevout(tx_pool) : std::nullopt};\n \n         // Make small packages\n-        const auto num_txs = should_rbf_eph_spend ? 1 : (size_t) fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n+        const auto num_txs = outpoint_to_rbf ? 1 : (size_t) fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n \n         std::set<COutPoint> package_outpoints;\n         while (txs.size() < num_txs) {\n-\n-            // Last transaction in a package needs to be a child of parents to get further in validation\n-            // so the last transaction to be generated(in a >1 package) must spend all package-made outputs\n-            // Note that this test currently only spends package outputs in last transaction.\n-            bool last_tx = num_txs > 1 && txs.size() == num_txs - 1;\n-\n             // Create transaction to add to the mempool\n-            const CTransactionRef tx = [&] {\n+            txs.push_back([&] {\n                 CMutableTransaction tx_mut;\n                 tx_mut.version = CTransaction::CURRENT_VERSION;\n                 tx_mut.nLockTime = 0;\n-                // Last tx will sweep half or more of all outpoints from package\n-                const auto num_in = should_rbf_eph_spend ? 2 :\n+                // Last transaction in a package needs to be a child of parents to get further in validation\n+                // so the last transaction to be generated(in a >1 package) must spend all package-made outputs\n+                // Note that this test currently only spends package outputs in last transaction.\n+                bool last_tx = num_txs > 1 && txs.size() == num_txs - 1;\n+                const auto num_in = outpoint_to_rbf ? 2 :\n                     last_tx ? fuzzed_data_provider.ConsumeIntegralInRange<int>(package_outpoints.size()/2 + 1, package_outpoints.size()) :\n                     fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n-                auto num_out = should_rbf_eph_spend ? 1 : fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n+                auto num_out = outpoint_to_rbf ? 1 : fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);",
      "path": "src/test/fuzz/package_eval.cpp",
      "position": null,
      "original_position": 53,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "0f542e4bd52a9f41c3091578e893889cc3823069",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: Could add `const` to `num_out` for symmetry with `num_in` as you are touching this line (pointed out in https://github.com/bitcoin/bitcoin/pull/30239#discussion_r1832788903).",
      "created_at": "2024-11-19T23:11:54Z",
      "updated_at": "2024-11-19T23:45:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1849177866",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1849177866"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": 236,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 239,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1849209897",
      "pull_request_review_id": 2445579323,
      "id": 1849209897,
      "node_id": "PRRC_kwDOABII585uOLQp",
      "diff_hunk": "@@ -128,85 +134,145 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\n     // We first start with nothing \"in the mempool\", using package checks\n \n     // Trivial single transaction with no dust\n-    BOOST_CHECK(!CheckEphemeralSpends({dust_spend}, minrelay, pool).has_value());\n+    BOOST_CHECK(CheckEphemeralSpends({dust_spend}, dustrelay, pool, child_state, child_txid));\n+    BOOST_CHECK(child_state.IsValid());\n+    BOOST_CHECK_EQUAL(child_txid, Txid());\n \n     // Now with dust, ok because the tx has no dusty parents\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1}, minrelay, pool).has_value());\n+    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1}, dustrelay, pool, child_state, child_txid));\n+    BOOST_CHECK(child_state.IsValid());\n+    BOOST_CHECK_EQUAL(child_txid, Txid());\n \n     // Dust checks pass\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, CFeeRate(0), pool).has_value());\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, minrelay, pool).has_value());\n+    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_spend}, CFeeRate(0), pool, child_state, child_txid));\n+    BOOST_CHECK(child_state.IsValid());\n+    BOOST_CHECK_EQUAL(child_txid, Txid());\n+    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_spend}, dustrelay, pool, child_state, child_txid));\n+    BOOST_CHECK(child_state.IsValid());\n+    BOOST_CHECK_EQUAL(child_txid, Txid());\n \n     auto dust_non_spend = make_tx({COutPoint{dust_txid, dust_index - 1}}, /*version=*/2);\n \n     // Child spending non-dust only from parent should be disallowed even if dust otherwise spent\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend, dust_spend}, minrelay, pool).has_value());\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_spend, dust_non_spend}, minrelay, pool).has_value());\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend}, minrelay, pool).has_value());\n+    const auto dust_non_spend_txid{dust_non_spend->GetHash()};\n+    const Txid null_txid;\n+    assert(dust_non_spend_txid != null_txid);",
      "path": "src/test/txvalidation_tests.cpp",
      "position": null,
      "original_position": 60,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "0f542e4bd52a9f41c3091578e893889cc3823069",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 0f92fa2d468186a1526827a063f66e3042e028dc:\r\nNo longer used, should probably be removed there.",
      "created_at": "2024-11-19T23:16:55Z",
      "updated_at": "2024-11-19T23:45:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1849209897",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1849209897"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": 158,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 159,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1849298256",
      "pull_request_review_id": 2445579323,
      "id": 1849298256,
      "node_id": "PRRC_kwDOABII585uOg1Q",
      "diff_hunk": "@@ -142,13 +150,11 @@ bool IsStandardTx(const CTransaction& tx, const std::optional<unsigned>& max_dat\n         else if ((whichType == TxoutType::MULTISIG) && (!permit_bare_multisig)) {\n             reason = \"bare-multisig\";\n             return false;\n-        } else if (IsDust(txout, dust_relay_fee)) {\n-            num_dust_outputs++;\n         }\n     }\n \n     // Only MAX_DUST_OUTPUTS_PER_TX dust is permitted(on otherwise valid ephemeral dust)",
      "path": "src/policy/policy.cpp",
      "position": 33,
      "original_position": 33,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "0f542e4bd52a9f41c3091578e893889cc3823069",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit:\r\n```suggestion\r\n    // Only MAX_DUST_OUTPUTS_PER_TX dust is permitted (on otherwise valid ephemeral dust)\r\n```",
      "created_at": "2024-11-19T23:34:00Z",
      "updated_at": "2024-11-19T23:45:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1849298256",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1849298256"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 156,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850825553",
      "pull_request_review_id": 2449448501,
      "id": 1850825553,
      "node_id": "PRRC_kwDOABII585uUVtR",
      "diff_hunk": "@@ -142,13 +150,11 @@ bool IsStandardTx(const CTransaction& tx, const std::optional<unsigned>& max_dat\n         else if ((whichType == TxoutType::MULTISIG) && (!permit_bare_multisig)) {\n             reason = \"bare-multisig\";\n             return false;\n-        } else if (IsDust(txout, dust_relay_fee)) {\n-            num_dust_outputs++;\n         }\n     }\n \n     // Only MAX_DUST_OUTPUTS_PER_TX dust is permitted(on otherwise valid ephemeral dust)",
      "path": "src/policy/policy.cpp",
      "position": 33,
      "original_position": 33,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "0f542e4bd52a9f41c3091578e893889cc3823069",
      "in_reply_to_id": 1849298256,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "leaving as is",
      "created_at": "2024-11-20T18:50:57Z",
      "updated_at": "2024-11-20T18:50:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1850825553",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850825553"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 156,
      "original_line": 156,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850825631",
      "pull_request_review_id": 2449448622,
      "id": 1850825631,
      "node_id": "PRRC_kwDOABII585uUVuf",
      "diff_hunk": "@@ -128,85 +134,145 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\n     // We first start with nothing \"in the mempool\", using package checks\n \n     // Trivial single transaction with no dust\n-    BOOST_CHECK(!CheckEphemeralSpends({dust_spend}, minrelay, pool).has_value());\n+    BOOST_CHECK(CheckEphemeralSpends({dust_spend}, dustrelay, pool, child_state, child_txid));\n+    BOOST_CHECK(child_state.IsValid());\n+    BOOST_CHECK_EQUAL(child_txid, Txid());\n \n     // Now with dust, ok because the tx has no dusty parents\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1}, minrelay, pool).has_value());\n+    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1}, dustrelay, pool, child_state, child_txid));\n+    BOOST_CHECK(child_state.IsValid());\n+    BOOST_CHECK_EQUAL(child_txid, Txid());\n \n     // Dust checks pass\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, CFeeRate(0), pool).has_value());\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, minrelay, pool).has_value());\n+    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_spend}, CFeeRate(0), pool, child_state, child_txid));\n+    BOOST_CHECK(child_state.IsValid());\n+    BOOST_CHECK_EQUAL(child_txid, Txid());\n+    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_spend}, dustrelay, pool, child_state, child_txid));\n+    BOOST_CHECK(child_state.IsValid());\n+    BOOST_CHECK_EQUAL(child_txid, Txid());\n \n     auto dust_non_spend = make_tx({COutPoint{dust_txid, dust_index - 1}}, /*version=*/2);\n \n     // Child spending non-dust only from parent should be disallowed even if dust otherwise spent\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend, dust_spend}, minrelay, pool).has_value());\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_spend, dust_non_spend}, minrelay, pool).has_value());\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend}, minrelay, pool).has_value());\n+    const auto dust_non_spend_txid{dust_non_spend->GetHash()};\n+    const Txid null_txid;\n+    assert(dust_non_spend_txid != null_txid);",
      "path": "src/test/txvalidation_tests.cpp",
      "position": null,
      "original_position": 60,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "0f542e4bd52a9f41c3091578e893889cc3823069",
      "in_reply_to_id": 1849209897,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "removed",
      "created_at": "2024-11-20T18:51:02Z",
      "updated_at": "2024-11-20T18:51:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1850825631",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850825631"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": 158,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 159,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850825725",
      "pull_request_review_id": 2449448762,
      "id": 1850825725,
      "node_id": "PRRC_kwDOABII585uUVv9",
      "diff_hunk": "@@ -210,50 +210,47 @@ FUZZ_TARGET(ephemeral_package_eval, .init = initialize_tx_pool)\n \n     chainstate.SetMempool(&tx_pool);\n \n-    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 300)\n+    LIMITED_WHILE(fuzzed_data_provider.remaining_bytes() > 0, 300)\n     {\n         Assert(!mempool_outpoints.empty());\n \n         std::vector<CTransactionRef> txs;\n \n         // Find something we may want to double-spend with two input single tx\n-        std::optional<COutPoint> outpoint_to_rbf{GetChildEvictingPrevout(tx_pool)};\n-        bool should_rbf_eph_spend = outpoint_to_rbf && fuzzed_data_provider.ConsumeBool();\n+        std::optional<COutPoint> outpoint_to_rbf{fuzzed_data_provider.ConsumeBool() ? GetChildEvictingPrevout(tx_pool) : std::nullopt};\n \n         // Make small packages\n-        const auto num_txs = should_rbf_eph_spend ? 1 : (size_t) fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n+        const auto num_txs = outpoint_to_rbf ? 1 : (size_t) fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n \n         std::set<COutPoint> package_outpoints;\n         while (txs.size() < num_txs) {\n-\n-            // Last transaction in a package needs to be a child of parents to get further in validation\n-            // so the last transaction to be generated(in a >1 package) must spend all package-made outputs\n-            // Note that this test currently only spends package outputs in last transaction.\n-            bool last_tx = num_txs > 1 && txs.size() == num_txs - 1;\n-\n             // Create transaction to add to the mempool\n-            const CTransactionRef tx = [&] {\n+            txs.push_back([&] {\n                 CMutableTransaction tx_mut;\n                 tx_mut.version = CTransaction::CURRENT_VERSION;\n                 tx_mut.nLockTime = 0;\n-                // Last tx will sweep half or more of all outpoints from package\n-                const auto num_in = should_rbf_eph_spend ? 2 :\n+                // Last transaction in a package needs to be a child of parents to get further in validation\n+                // so the last transaction to be generated(in a >1 package) must spend all package-made outputs\n+                // Note that this test currently only spends package outputs in last transaction.\n+                bool last_tx = num_txs > 1 && txs.size() == num_txs - 1;\n+                const auto num_in = outpoint_to_rbf ? 2 :\n                     last_tx ? fuzzed_data_provider.ConsumeIntegralInRange<int>(package_outpoints.size()/2 + 1, package_outpoints.size()) :\n                     fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n-                auto num_out = should_rbf_eph_spend ? 1 : fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n+                auto num_out = outpoint_to_rbf ? 1 : fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);",
      "path": "src/test/fuzz/package_eval.cpp",
      "position": null,
      "original_position": 53,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "0f542e4bd52a9f41c3091578e893889cc3823069",
      "in_reply_to_id": 1849177866,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done",
      "created_at": "2024-11-20T18:51:07Z",
      "updated_at": "2024-11-20T18:51:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1850825725",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850825725"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": 236,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 239,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850825828",
      "pull_request_review_id": 2449448945,
      "id": 1850825828,
      "node_id": "PRRC_kwDOABII585uUVxk",
      "diff_hunk": "@@ -100,9 +100,11 @@ static inline CTransactionRef make_ephemeral_tx(const std::vector<COutPoint>& in\n     for (size_t i{0}; i < inputs.size(); ++i) {\n         mtx.vin[i].prevout = inputs[i];\n     }\n-    for (auto i{0}; i < 3; ++i) {\n+    int num_outputs{3};\n+    int dust_index{num_outputs - 1};",
      "path": "src/test/txvalidation_tests.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "263a85023c4d883873c72783cbe24c31d0bffb65",
      "in_reply_to_id": 1848750297,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "took modified version of file-local constant",
      "created_at": "2024-11-20T18:51:12Z",
      "updated_at": "2024-11-20T18:51:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1850825828",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850825828"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 104,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850825989",
      "pull_request_review_id": 2449449192,
      "id": 1850825989,
      "node_id": "PRRC_kwDOABII585uUV0F",
      "diff_hunk": "@@ -128,85 +128,88 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\n     // We first start with nothing \"in the mempool\", using package checks\n \n     // Trivial single transaction with no dust\n-    BOOST_CHECK(!CheckEphemeralSpends({dust_spend}, minrelay, pool).has_value());\n+    BOOST_CHECK(!CheckEphemeralSpends({dust_spend}, minrelay, pool));\n \n     // Now with dust, ok because the tx has no dusty parents\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1}, minrelay, pool).has_value());\n+    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1}, minrelay, pool));\n \n     // Dust checks pass\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, CFeeRate(0), pool).has_value());\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, minrelay, pool).has_value());\n+    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, CFeeRate(0), pool));\n+    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, minrelay, pool));\n \n     auto dust_non_spend = make_tx({COutPoint{dust_txid, dust_index - 1}}, /*version=*/2);\n \n     // Child spending non-dust only from parent should be disallowed even if dust otherwise spent\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend, dust_spend}, minrelay, pool).has_value());\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_spend, dust_non_spend}, minrelay, pool).has_value());\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend}, minrelay, pool).has_value());\n+    const auto dust_non_spend_txid{dust_non_spend->GetHash()};\n+    const Txid null_txid;\n+    assert(dust_non_spend_txid != null_txid);\n+    BOOST_CHECK_EQUAL(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend, dust_spend}, minrelay, pool).value_or(null_txid), dust_non_spend_txid);",
      "path": "src/test/txvalidation_tests.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "60e18bb2dcd2c16a64e01023b793b0494cd6ca64",
      "in_reply_to_id": 1848737688,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "IIUC I'd have needed to at least make the RHS an optional to do that?\r\n\r\nEither way, this goes away in a later commit, so I'm going to leave as-s.",
      "created_at": "2024-11-20T18:51:20Z",
      "updated_at": "2024-11-20T18:51:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1850825989",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850825989"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 146,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850826058",
      "pull_request_review_id": 2449449296,
      "id": 1850826058,
      "node_id": "PRRC_kwDOABII585uUV1K",
      "diff_hunk": "@@ -210,50 +210,47 @@ FUZZ_TARGET(ephemeral_package_eval, .init = initialize_tx_pool)\n \n     chainstate.SetMempool(&tx_pool);\n \n-    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 300)\n+    LIMITED_WHILE(fuzzed_data_provider.remaining_bytes() > 0, 300)\n     {\n         Assert(!mempool_outpoints.empty());\n \n         std::vector<CTransactionRef> txs;\n \n         // Find something we may want to double-spend with two input single tx\n-        std::optional<COutPoint> outpoint_to_rbf{GetChildEvictingPrevout(tx_pool)};\n-        bool should_rbf_eph_spend = outpoint_to_rbf && fuzzed_data_provider.ConsumeBool();\n+        std::optional<COutPoint> outpoint_to_rbf{fuzzed_data_provider.ConsumeBool() ? GetChildEvictingPrevout(tx_pool) : std::nullopt};\n \n         // Make small packages\n-        const auto num_txs = should_rbf_eph_spend ? 1 : (size_t) fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n+        const auto num_txs = outpoint_to_rbf ? 1 : (size_t) fuzzed_data_provider.ConsumeIntegralInRange<int>(1, 4);\n \n         std::set<COutPoint> package_outpoints;\n         while (txs.size() < num_txs) {\n-\n-            // Last transaction in a package needs to be a child of parents to get further in validation\n-            // so the last transaction to be generated(in a >1 package) must spend all package-made outputs\n-            // Note that this test currently only spends package outputs in last transaction.\n-            bool last_tx = num_txs > 1 && txs.size() == num_txs - 1;\n-\n             // Create transaction to add to the mempool\n-            const CTransactionRef tx = [&] {\n+            txs.push_back([&] {",
      "path": "src/test/fuzz/package_eval.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "in_reply_to_id": 1848502466,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done",
      "created_at": "2024-11-20T18:51:24Z",
      "updated_at": "2024-11-20T18:51:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1850826058",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850826058"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 228,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850826205",
      "pull_request_review_id": 2449449529,
      "id": 1850826205,
      "node_id": "PRRC_kwDOABII585uUV3d",
      "diff_hunk": "@@ -496,7 +496,7 @@ static RPCHelpMan prioritisetransaction()\n \n     // Non-0 fee dust transactions are not allowed for entry, and modification not allowed afterwards\n     const auto& tx = mempool.get(hash);\n-    if (tx && HasDust(tx, mempool.m_opts.dust_relay_feerate)) {\n+    if (mempool.m_opts.require_standard && tx && !GetDust(*tx, mempool.m_opts.dust_relay_feerate).empty()) {",
      "path": "src/rpc/mining.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "in_reply_to_id": 1848453460,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Setting `-dustrelayfee=0` avoids the check much more directly and simply, with no recompilation needed.\r\n\r\nGating it based on standardness checks is just easier to understand when e.g., standardness isn't being enforced anyways, so dust should be treated as a no-op.\r\n\r\nI'm going to mark this as resolved. If we want to reverse this logic, imo we should do it in another PR that removes both the logic in prioritisation as well as the modified fee checks.",
      "created_at": "2024-11-20T18:51:32Z",
      "updated_at": "2024-11-20T18:51:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1850826205",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850826205"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 499,
      "original_line": 499,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850826295",
      "pull_request_review_id": 2449449695,
      "id": 1850826295,
      "node_id": "PRRC_kwDOABII585uUV43",
      "diff_hunk": "@@ -63,16 +72,23 @@ std::optional<Txid> CheckEphemeralSpends(const Package& package, CFeeRate dust_r\n             processed_parent_set.insert(parent_txid);",
      "path": "src/policy/ephemeral_policy.cpp",
      "position": 58,
      "original_position": 58,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "in_reply_to_id": 1848433819,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "going to leave as is ",
      "created_at": "2024-11-20T18:51:38Z",
      "updated_at": "2024-11-20T18:51:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1850826295",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850826295"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 72,
      "original_line": 72,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850826413",
      "pull_request_review_id": 2449449881,
      "id": 1850826413,
      "node_id": "PRRC_kwDOABII585uUV6t",
      "diff_hunk": "@@ -63,16 +72,23 @@ std::optional<Txid> CheckEphemeralSpends(const Package& package, CFeeRate dust_r\n             processed_parent_set.insert(parent_txid);\n         }\n \n+        if (unspent_parent_dust.empty()) {\n+            continue;\n+        }\n+\n         // Now that we have gathered parents' dust, make sure it's spent\n         // by the child\n         for (const auto& tx_input : tx->vin) {\n             unspent_parent_dust.erase(tx_input.prevout);\n         }\n \n         if (!unspent_parent_dust.empty()) {\n-            return txid;\n+            child_txid = tx->GetHash();\n+            child_state.Invalid(TxValidationResult::TX_MEMPOOL_POLICY, \"missing-ephemeral-spends\",",
      "path": "src/policy/ephemeral_policy.cpp",
      "position": null,
      "original_position": 74,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "in_reply_to_id": 1848428300,
      "user": {
        "login": "instagibbs",
        "id": 5767891,
        "node_id": "MDQ6VXNlcjU3Njc4OTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/instagibbs",
        "html_url": "https://github.com/instagibbs",
        "followers_url": "https://api.github.com/users/instagibbs/followers",
        "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
        "organizations_url": "https://api.github.com/users/instagibbs/orgs",
        "repos_url": "https://api.github.com/users/instagibbs/repos",
        "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/instagibbs/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "sure, changed",
      "created_at": "2024-11-20T18:51:44Z",
      "updated_at": "2024-11-20T18:51:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1850826413",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1850826413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": 86,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 87,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1851804865",
      "pull_request_review_id": 2450976089,
      "id": 1851804865,
      "node_id": "PRRC_kwDOABII585uYEzB",
      "diff_hunk": "@@ -496,7 +496,7 @@ static RPCHelpMan prioritisetransaction()\n \n     // Non-0 fee dust transactions are not allowed for entry, and modification not allowed afterwards\n     const auto& tx = mempool.get(hash);\n-    if (tx && HasDust(tx, mempool.m_opts.dust_relay_feerate)) {\n+    if (mempool.m_opts.require_standard && tx && !GetDust(*tx, mempool.m_opts.dust_relay_feerate).empty()) {",
      "path": "src/rpc/mining.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "in_reply_to_id": 1848453460,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Still worried that this will backfire, but will investigate more and maybe spawn a new PR.",
      "created_at": "2024-11-21T10:41:12Z",
      "updated_at": "2024-11-21T10:41:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1851804865",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1851804865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 499,
      "original_line": 499,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1851810120",
      "pull_request_review_id": 2450983995,
      "id": 1851810120,
      "node_id": "PRRC_kwDOABII585uYGFI",
      "diff_hunk": "@@ -128,85 +128,88 @@ BOOST_FIXTURE_TEST_CASE(ephemeral_tests, RegTestingSetup)\n     // We first start with nothing \"in the mempool\", using package checks\n \n     // Trivial single transaction with no dust\n-    BOOST_CHECK(!CheckEphemeralSpends({dust_spend}, minrelay, pool).has_value());\n+    BOOST_CHECK(!CheckEphemeralSpends({dust_spend}, minrelay, pool));\n \n     // Now with dust, ok because the tx has no dusty parents\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1}, minrelay, pool).has_value());\n+    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1}, minrelay, pool));\n \n     // Dust checks pass\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, CFeeRate(0), pool).has_value());\n-    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, minrelay, pool).has_value());\n+    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, CFeeRate(0), pool));\n+    BOOST_CHECK(!CheckEphemeralSpends({grandparent_tx_1, dust_spend}, minrelay, pool));\n \n     auto dust_non_spend = make_tx({COutPoint{dust_txid, dust_index - 1}}, /*version=*/2);\n \n     // Child spending non-dust only from parent should be disallowed even if dust otherwise spent\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend, dust_spend}, minrelay, pool).has_value());\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_spend, dust_non_spend}, minrelay, pool).has_value());\n-    BOOST_CHECK(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend}, minrelay, pool).has_value());\n+    const auto dust_non_spend_txid{dust_non_spend->GetHash()};\n+    const Txid null_txid;\n+    assert(dust_non_spend_txid != null_txid);\n+    BOOST_CHECK_EQUAL(CheckEphemeralSpends({grandparent_tx_1, dust_non_spend, dust_spend}, minrelay, pool).value_or(null_txid), dust_non_spend_txid);",
      "path": "src/test/txvalidation_tests.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "60e18bb2dcd2c16a64e01023b793b0494cd6ca64",
      "in_reply_to_id": 1848737688,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "FYI: https://en.cppreference.com/w/cpp/utility/optional/operator_cmp overloads 21-33\r\n\r\nOkay with leaving as-is.",
      "created_at": "2024-11-21T10:44:12Z",
      "updated_at": "2024-11-21T10:44:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1851810120",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1851810120"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 146,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1854880571",
      "pull_request_review_id": 2455983268,
      "id": 1854880571,
      "node_id": "PRRC_kwDOABII585ujzs7",
      "diff_hunk": "@@ -496,7 +496,7 @@ static RPCHelpMan prioritisetransaction()\n \n     // Non-0 fee dust transactions are not allowed for entry, and modification not allowed afterwards\n     const auto& tx = mempool.get(hash);\n-    if (tx && HasDust(tx, mempool.m_opts.dust_relay_feerate)) {\n+    if (mempool.m_opts.require_standard && tx && !GetDust(*tx, mempool.m_opts.dust_relay_feerate).empty()) {",
      "path": "src/rpc/mining.cpp",
      "position": 5,
      "original_position": 5,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "5679f398e2a3ab8315d39ee674ccb8ad6a8f73c7",
      "in_reply_to_id": 1848453460,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "fwiw I'm not too concerned about this \"encouraging\" miners to patch. Miners might mine dust and this doesn't stop them from doing anything, but I don't think this would make that more likely given \"subverting\" it would only require `-dustrelayfee=0` and has always been possible. I think it's worth discussing and asking miners. But that's my thinking.",
      "created_at": "2024-11-22T23:25:11Z",
      "updated_at": "2024-11-22T23:25:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1854880571",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1854880571"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 499,
      "original_line": 499,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1855531801",
      "pull_request_review_id": 2456791069,
      "id": 1855531801,
      "node_id": "PRRC_kwDOABII585umSsZ",
      "diff_hunk": "@@ -67,6 +67,15 @@ bool IsDust(const CTxOut& txout, const CFeeRate& dustRelayFeeIn)\n     return (txout.nValue < GetDustThreshold(txout, dustRelayFeeIn));\n }\n \n+std::vector<uint32_t> GetDust(const CTransaction& tx, CFeeRate dust_relay_rate)",
      "path": "src/policy/policy.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "466e4df3fb83ef82b6add22e202e3a70dbf83a12",
      "original_commit_id": "c6859ce2de7531e42fc304b69d74ca0d8e99ea29",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: imho the name `GetDustIndexes` was fine and more expressive, but no strong feelings",
      "created_at": "2024-11-24T20:47:42Z",
      "updated_at": "2024-11-24T20:57:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31279#discussion_r1855531801",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1855531801"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31279"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 70,
      "original_line": 70,
      "side": "RIGHT"
    }
  ]
}