{
  "type": "issue",
  "issue": {
    "id": 2625167717,
    "node_id": "I_kwDOABII586ceOFl",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31188",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31188/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31188/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31188/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31188",
    "number": 31188,
    "state": "closed",
    "state_reason": "completed",
    "title": "Bitcoin Core 28.0 (Flatpak Linux Mint) pointing or saving blockchain to external drives does not work",
    "body": "### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Current behaviour\r\n\r\n- bitcoin core 28.0 (flatpak) won't save data (blockchain nor chainstate) to external drive\r\n- dialogue box for creating path to save blockchain to save elsewhere will never appear\r\n- changing config file doesn't change anything but continue to save to home directory\r\n\r\n### Expected behaviour\r\n\r\nsaving or continuing blockchain on external harddrive\r\n\r\n### Steps to reproduce\r\n\r\n1. Fresh install of Linux Mint 22.0\r\n2. Install via mintinstall (flatpak) bitcoin core 28.0\r\n3. Saving or continuing of blockchain to external drive doesn't work, everything gets saved to home directory for example:        /home/USERNAME/.var/app/org.bitcoincore.bitcoin-qt\r\n7.  Configuration via bitcoin.config (datadir = /media/USERNAME/EXTERNALDRIVE) doesn't work, download will always fall back to home directory\r\n8. Overriding flatpak in terminal with command doesn't change anything: sudo flatpak override org.bitcoincore.bitcoin-qt --filesystem=/media/USERNAME/EXTERNALDRIVE\r\n\r\n### Relevant log output\r\n\r\n_No response_\r\n\r\n### How did you obtain Bitcoin Core\r\n\r\nPackage manager\r\n\r\n### What version of Bitcoin Core are you using?\r\n\r\n28.0\r\n\r\n### Operating system and version\r\n\r\nLinux Mint 22.0, (6.2.9)\r\n\r\n### Machine specifications\r\n\r\nDell Latitude E7240, Intel© Core™ i5-4310U CPU, SSD 128GB",
    "user": {
      "login": "Urpferd",
      "id": 186859602,
      "node_id": "U_kgDOCyNAUg",
      "avatar_url": "https://avatars.githubusercontent.com/u/186859602?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Urpferd",
      "html_url": "https://github.com/Urpferd",
      "followers_url": "https://api.github.com/users/Urpferd/followers",
      "following_url": "https://api.github.com/users/Urpferd/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Urpferd/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Urpferd/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Urpferd/subscriptions",
      "organizations_url": "https://api.github.com/users/Urpferd/orgs",
      "repos_url": "https://api.github.com/users/Urpferd/repos",
      "events_url": "https://api.github.com/users/Urpferd/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Urpferd/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 477890092,
        "node_id": "MDU6TGFiZWw0Nzc4OTAwOTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help",
        "name": "Questions and Help",
        "color": "006688",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 4,
    "closed_at": "2024-11-28T13:38:15Z",
    "closed_by": {
      "login": "willcl-ark",
      "id": 6606587,
      "node_id": "MDQ6VXNlcjY2MDY1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willcl-ark",
      "html_url": "https://github.com/willcl-ark",
      "followers_url": "https://api.github.com/users/willcl-ark/followers",
      "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
      "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
      "repos_url": "https://api.github.com/users/willcl-ark/repos",
      "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "created_at": "2024-10-30T19:42:35Z",
    "updated_at": "2024-11-28T13:38:15Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 15031492478,
      "node_id": "LE_lADOABII586ceOFlzwAAAAN_8l9-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15031492478",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-31T10:24:43Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "commented",
      "id": 2449694793,
      "node_id": "IC_kwDOABII586SA2BJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2449694793",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-31T12:08:33Z",
      "updated_at": "2024-10-31T12:08:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "Are you sure your configuration file is read? The file should be named `bitcoin.conf` and not `bitcoin.config`. You can see the `bitcoin.conf` configurations being logged at the start of the `debug.log` during startup?\r\n\r\nFor example, for me it shows:\r\n\r\n```\r\n...\r\nDefault data directory /home/user/.bitcoin\r\nUsing data directory /home/user/.bitcoin/signet\r\nConfig file: /home/user/.bitcoin/bitcoin.conf\r\nConfig file arg: [main] prune=\"550\"\r\nConfig file arg: [main] rest=\"1\"\r\nConfig file arg: [main] prune=\"0\"\r\n...\r\n```",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31188#issuecomment-2449694793",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31188"
    },
    {
      "event": "commented",
      "id": 2450434016,
      "node_id": "IC_kwDOABII586SDqfg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2450434016",
      "actor": {
        "login": "Urpferd",
        "id": 186859602,
        "node_id": "U_kgDOCyNAUg",
        "avatar_url": "https://avatars.githubusercontent.com/u/186859602?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Urpferd",
        "html_url": "https://github.com/Urpferd",
        "followers_url": "https://api.github.com/users/Urpferd/followers",
        "following_url": "https://api.github.com/users/Urpferd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Urpferd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Urpferd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Urpferd/subscriptions",
        "organizations_url": "https://api.github.com/users/Urpferd/orgs",
        "repos_url": "https://api.github.com/users/Urpferd/repos",
        "events_url": "https://api.github.com/users/Urpferd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Urpferd/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-31T17:26:24Z",
      "updated_at": "2024-11-01T08:52:38Z",
      "author_association": "NONE",
      "body": "Thank you so much, good catch, it is my bad! \r\nAlthough I don't know when this change into .config might have happened, weird. I don't remember creating this file but copy pasting.\r\n\r\nBlocks get now written on external drive but not the other data. \r\n\r\nUnfortunately, it seems some command-line argument switches path back to default datadir, is there any way to change this? \r\n\r\nIt would be so much easier for less tech savvy people and normies being able to adjust paths through GUI like other software does.\r\n```\r\n##in my debug.log##\r\n...\r\nDefault data directory /home/USERNAME/.bitcoin\r\nUsing data directory /home/USERNAME/.var/app/org.bitcoincore.bitcoin-qt/data\r\nConfig file: /home/USERNAME/.var/app/org.bitcoincore.bitcoin-qt/data/bitcoin.conf\r\nConfig file arg: blocksdir=\"/media/USERNAME/DRIVE/BTC/data\"\r\nConfig file arg: datadir=\"/media/USERNAME/DRIVE/BTC\"\r\nCommand-line arg: datadir=\"/home/USERNAME/.var/app/org.bitcoincore.bitcoin-qt/data\"\r\n...\r\n\r\n##my bitcoin.conf arguments are:##\r\ndatadir=/media/USERNAME/DRIVE/BTC\r\nblocksdir=/media/USERNAME/DRIVE/BTC/data\r\n```",
      "user": {
        "login": "Urpferd",
        "id": 186859602,
        "node_id": "U_kgDOCyNAUg",
        "avatar_url": "https://avatars.githubusercontent.com/u/186859602?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Urpferd",
        "html_url": "https://github.com/Urpferd",
        "followers_url": "https://api.github.com/users/Urpferd/followers",
        "following_url": "https://api.github.com/users/Urpferd/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Urpferd/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Urpferd/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Urpferd/subscriptions",
        "organizations_url": "https://api.github.com/users/Urpferd/orgs",
        "repos_url": "https://api.github.com/users/Urpferd/repos",
        "events_url": "https://api.github.com/users/Urpferd/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Urpferd/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31188#issuecomment-2450434016",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31188"
    },
    {
      "event": "commented",
      "id": 2506077912,
      "node_id": "IC_kwDOABII586VX7bY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2506077912",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-28T13:03:58Z",
      "updated_at": "2024-11-28T13:03:58Z",
      "author_association": "MEMBER",
      "body": "I can't reproduce this:\r\n\r\n![image](https://github.com/user-attachments/assets/c5417955-70d1-40a2-93f5-c3708b9ee50f)\r\n\r\nRunning the following correctly locates the datadir on an external drive:\r\n\r\n```bash\r\nmkdir -p /mnt/bulk/flatpak\r\nsudo flatpak override --system org.bitcoincore.bitcoin-qt --filesystem=/mnt/bulk\r\nflatpak run org.bitcoincore.bitcoin-qt -datadir=/mnt/bulk/flatpak\r\n```\r\n\r\nAre you doing something different to me here?\r\n\r\nIn any case, I don't this there is any issue with Bitcoin Core (or the flatpak), and this issue can likely be closed.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31188#issuecomment-2506077912",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31188"
    },
    {
      "event": "commented",
      "id": 2506150381,
      "node_id": "IC_kwDOABII586VYNHt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2506150381",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-28T13:38:15Z",
      "updated_at": "2024-11-28T13:38:15Z",
      "author_association": "MEMBER",
      "body": "In fact, I am going to close this now, as I think this is all expected behaviour. Command line options take precedence over config file arguments, and so in your case:\r\n\r\n```\r\nConfig file arg: blocksdir=\"/media/USERNAME/DRIVE/BTC/data\"\r\nConfig file arg: datadir=\"/media/USERNAME/DRIVE/BTC\"\r\nCommand-line arg: datadir=\"/home/USERNAME/.var/app/org.bitcoincore.bitcoin-qt/data\"\r\n```\r\n\r\nThe command line `-datadir=\"/home/USERNAME/.var/app/org.bitcoincore.bitcoin-qt/data` arg is correctly overriding the config file option `datadir=\"/media/USERNAME/DRIVE/BTC`.\r\n\r\nLet me know if I've missed something and we need to re-open this.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31188#issuecomment-2506150381",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31188"
    },
    {
      "event": "closed",
      "id": 15465712786,
      "node_id": "CE_lADOABII586ceOFlzwAAAAOZ1AyS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15465712786",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-28T13:38:15Z"
    }
  ]
}