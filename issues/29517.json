{
  "type": "issue",
  "issue": {
    "id": 2161834627,
    "node_id": "I_kwDOABII586A2vqD",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29517",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29517/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29517/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29517/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/29517",
    "number": 29517,
    "state": "open",
    "state_reason": null,
    "title": "bitcoind immediately segfaults on ppc64 openbsd 7.4",
    "body": "### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Current behaviour\r\n\r\nv26.0 and v26.1rc1 both build successfully on big endian ppc64 openbsd 7.4 but when starting, bitcoind immediately segfaults. CPU is POWER9.\r\n\r\nUnfortunately, gdb on this platform also crashes when attempting to debug so all I have is this:\r\n\r\n\r\n```\r\n$ egdb bitcoind bitcoind.core                                                            \r\nGNU gdb (GDB) 9.2\r\nCopyright (C) 2020 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.\r\nType \"show copying\" and \"show warranty\" for details.\r\nThis GDB was configured as \"powerpc64-unknown-openbsd7.4\".\r\nType \"show configuration\" for configuration details.\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>.\r\nFind the GDB manual and other documentation resources online at:\r\n    <http://www.gnu.org/software/gdb/documentation/>.\r\n\r\nFor help, type \"help\".\r\nType \"apropos word\" to search for commands related to \"word\"...\r\nReading symbols from bitcoind...\r\n[New process 613405]\r\nCore was generated by `bitcoind'.\r\nProgram terminated with signal SIGSEGV, Segmentation fault.\r\n#0  libunwind::LocalAddressSpace::get32 (this=<optimized out>, addr=<optimized out>) at /usr/src/gnu/lib/libcxxabi/../../../gnu/llvm/libunwind/src/AddressSpace.hpp:221\r\n221     /usr/src/gnu/lib/libcxxabi/../../../gnu/llvm/libunwind/src/AddressSpace.hpp: No such file or directory.\r\n(gdb) bt       \r\n#0  libunwind::LocalAddressSpace::get32 (this=<optimized out>, addr=<optimized out>) at /usr/src/gnu/lib/libcxxabi/../../../gnu/llvm/libunwind/src/AddressSpace.hpp:221\r\nAbort trap (core dumped) \r\n```\r\n\r\n### Expected behaviour\r\n\r\nBitcoind starts to sync.\r\n\r\n### Steps to reproduce\r\n\r\nBuild bitcoind on powerpc64 OpenBSD 7.4 on IBM POWER9. Start bitcoind. \r\n\r\n### How did you obtain Bitcoin Core\r\n\r\nCompiled from source\r\n\r\n### What version of Bitcoin Core are you using?\r\n\r\nv26.0 and v26.1rc1\r\n\r\n### Operating system and version\r\n\r\nOpenBSD 7.4",
    "user": {
      "login": "grubles",
      "id": 7411154,
      "node_id": "MDQ6VXNlcjc0MTExNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7411154?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grubles",
      "html_url": "https://github.com/grubles",
      "followers_url": "https://api.github.com/users/grubles/followers",
      "following_url": "https://api.github.com/users/grubles/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/grubles/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/grubles/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/grubles/subscriptions",
      "organizations_url": "https://api.github.com/users/grubles/orgs",
      "repos_url": "https://api.github.com/users/grubles/repos",
      "events_url": "https://api.github.com/users/grubles/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/grubles/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 1,
    "created_at": "2024-02-29T18:14:14Z",
    "updated_at": "2024-03-01T08:13:04Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 1972711031,
      "node_id": "IC_kwDOABII5851lS53",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1972711031",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-01T08:09:36Z",
      "updated_at": "2024-03-01T08:09:36Z",
      "author_association": "MEMBER",
      "body": "> Compiled from source\r\n\r\nWhat are the exact steps to reproduce? Does it also happen with another version of g++ or clang++? Does it happen also in valgrind?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29517#issuecomment-1972711031",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29517"
    }
  ]
}