{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483",
    "id": 2231533853,
    "node_id": "PR_kwDOABII586FAoEd",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31483",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31483.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31483.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31483",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31483/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/173477b5efad4723863b38fe51cd1156620d01df",
    "number": 31483,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "kernel: Move kernel-related cache constants to kernel cache",
    "user": {
      "login": "TheCharlatan",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheCharlatan",
      "html_url": "https://github.com/TheCharlatan",
      "followers_url": "https://api.github.com/users/TheCharlatan/followers",
      "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
      "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
      "repos_url": "https://api.github.com/users/TheCharlatan/repos",
      "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Carrying non-kernel related fields in the cache sizes for the indexes is confusing for kernel library users. The cache sizes are set currently with magic numbers in bitcoin-chainstate. The comments for the cache size calculations are not completely clear. The constants for the cache sizes are also currently in `txdb.h`, which is not an ideal place for holding all cache size related constants.\r\n\r\nSolve these things by moving the kernel-specific cache size fields to their own struct and moving the constants to either the node or the kernel cache sizes.\r\n\r\nThis slightly changes the way the cache is allocated if (and only if) the txindex and/or blockfilterindex is used. Since they are now given precedence over the block tree db cache, this results in a bit less cache being allocated to the block tree db, coinsdb and coins caches. The effect is negligible though, i.e. cache sizes with default dbcache reported through the logs are:\r\n\r\nmaster:\r\n```\r\nCache configuration:\r\n* Using 2.0 MiB for block index database\r\n* Using 56.0 MiB for transaction index database\r\n* Using 49.0 MiB for basic block filter index database\r\n* Using 8.0 MiB for chain state database\r\n* Using 335.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\r\n```\r\n\r\nthis PR:\r\n```\r\nCache configuration:\r\n* Using 2.0 MiB for block index database\r\n* Using 56.2 MiB for transaction index database\r\n* Using 49.2 MiB for basic block filter index database\r\n* Using 8.0 MiB for chain state database\r\n* Using 334.5 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\r\n```\r\n\r\n---\r\nThis PR is part of the [libbitcoinkernel project](https://github.com/bitcoin/bitcoin/issues/27587).",
    "labels": [
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      }
    ],
    "created_at": "2024-12-12T12:17:56Z",
    "updated_at": "2024-12-13T23:38:23Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "ea285d36e885a87f200a19d2b8c4d43a50ae25b8",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "TheCharlatan:kernel_cache_sizes",
      "ref": "kernel_cache_sizes",
      "sha": "173477b5efad4723863b38fe51cd1156620d01df",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "TheCharlatan/bitcoin",
        "owner": {
          "login": "TheCharlatan",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TheCharlatan",
          "html_url": "https://github.com/TheCharlatan",
          "followers_url": "https://api.github.com/users/TheCharlatan/followers",
          "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
          "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
          "repos_url": "https://api.github.com/users/TheCharlatan/repos",
          "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/TheCharlatan/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/TheCharlatan/bitcoin",
        "archive_url": "https://api.github.com/repos/TheCharlatan/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TheCharlatan/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TheCharlatan/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TheCharlatan/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/TheCharlatan/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/events",
        "forks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TheCharlatan/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TheCharlatan/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TheCharlatan/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TheCharlatan/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/TheCharlatan/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/TheCharlatan/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TheCharlatan/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TheCharlatan/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TheCharlatan/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:TheCharlatan/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/TheCharlatan/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/TheCharlatan/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TheCharlatan/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/hooks",
        "svn_url": "https://github.com/TheCharlatan/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 252545,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-12-13T11:37:53Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2024-12-10T11:57:09Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "435ad572a1afe2e8aaba2adf5fe38be52d8deb23",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36559,
        "stargazers_count": 80698,
        "watchers_count": 80698,
        "size": 273448,
        "default_branch": "master",
        "open_issues_count": 671,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-12-13T23:56:47Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-12-13T23:56:59Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 93,
    "deletions": 63,
    "changed_files": 12,
    "commits": 4,
    "review_comments": 7,
    "comments": 1
  },
  "events": [
    {
      "event": "commented",
      "id": 2538749277,
      "node_id": "IC_kwDOABII586XUj1d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2538749277",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T12:17:59Z",
      "updated_at": "2024-12-13T23:38:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31483.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2501686219) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31260](https://github.com/bitcoin/bitcoin/pull/31260) (scripted-diff: Type-safe settings retrieval by ryanofsky)\n* [#30965](https://github.com/bitcoin/bitcoin/pull/30965) (kernel: Move block tree db open to block manager by TheCharlatan)\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo over LogPrintf [WIP, NOMERGE, DRAFT] by maflcko)\n* [#26022](https://github.com/bitcoin/bitcoin/pull/26022) (Add util::ResultPtr class by ryanofsky)\n* [#25722](https://github.com/bitcoin/bitcoin/pull/25722) (refactor: Use util::Result class for wallet loading by ryanofsky)\n* [#25665](https://github.com/bitcoin/bitcoin/pull/25665) (refactor: Add util::Result failure values, multiple error and warning messages by ryanofsky)\n* [#24539](https://github.com/bitcoin/bitcoin/pull/24539) (Add a \"tx output spender\" index by sstone)\n* [#17783](https://github.com/bitcoin/bitcoin/pull/17783) (common: Disallow calling IsArgSet() on ALLOW_LIST options by ryanofsky)\n* [#17581](https://github.com/bitcoin/bitcoin/pull/17581) (refactor: Remove settings merge reverse precedence code by ryanofsky)\n* [#17580](https://github.com/bitcoin/bitcoin/pull/17580) (refactor: Add ALLOW_LIST flags and enforce usage in CheckArgFlags by ryanofsky)\n* [#17493](https://github.com/bitcoin/bitcoin/pull/17493) (util: Forbid ambiguous multiple assignments in config file by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#issuecomment-2538749277",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31483"
    },
    {
      "event": "labeled",
      "id": 15633722647,
      "node_id": "LE_lADOABII586jEBuMzwAAAAOj160X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15633722647",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T12:18:02Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "reviewed",
      "id": 2499365306,
      "node_id": "PRR_kwDOABII586U-Um6",
      "url": null,
      "actor": null,
      "commit_id": "62da6a0b1ef99fc00357e967fe868ca3235cc4fb",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2499365306",
      "submitted_at": "2024-12-12T12:40:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY5MTU5MzI2ODEwODIyYzgwNGFiNTNhMDA5ZWY1N2ZiNWYyOGZhYzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/69159326810822c804ab53a009ef57fb5f28fac9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/69159326810822c804ab53a009ef57fb5f28fac9",
      "tree": {
        "sha": "573e404bc8ed43949476a03fd3eb735a2bccb726",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/573e404bc8ed43949476a03fd3eb735a2bccb726"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 573e404bc8ed43949476a03fd3eb735a2bccb726\nparent 37e49c2c7ca5969124830d79b2cb31041c570755\nauthor TheCharlatan <seb.kung@gmail.com> 1733951722 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1734008228 +0100\n\ndoc: Correct docstring describing max block tree db cache\n\nIt always applied in the same way, no matter how the txindex is setup.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmda3aQACgkQm3m0VpHb\nQXOFNBAA0EGJjWbzbTaZgcBnaBwEJYLSCLuCeIUIYMTntTAF+7bP4rBVBKFwMgCT\nxlx42Fkm1Oy+/TFngW9zQH2pL5pi5tf3MVi9QcM5rlVOPU1Cy8AmQ1Q3xTCTH6sp\nd5UcUHlnkeg1Kw/0JtzCmcJ0Tiw/3nCmu0iO8eyCGQ1/YtYFLRb4ZH1y3hlguC2p\n2yfeDLgvZsLIEJ6X9WxYoVZb+dNOBQzXM8iAZ6sPQPmvlhe6LPMCOANIjlAjbBP6\nD8DkTMww6aYaaFsA19BfDbLdytQ1cU+fxAEYcOQIeB3u/ZcEzY/k9WwGd3LecjvU\npMGcrOHitGPqtkw1n6vh6Ae7XMdIKRifbvmf65l+ZUTg8wOxckkqkt9ReqHxkrUc\noeL7MzMzpNRkLavwm8Y/uJqhXQrerS7Sirul48S6bJH9ISUokrlSylb5WibK0zYU\nI6Ld/wVCnmufrCyvN/XYoXLrGCvRGHgE4xNdmqt9nZGmmNQBUbl5GTJ4kjnV093J\ngMZspLJTAXrjKbDmXg1tcoLPISu12mRSe712FSCogBr6PHo8Y09g4L9LnT4shr4U\nxQQMKkBfcYp15P114Rvv7Rf48bTXzv5hehkO8fJwuipkHMK6oCtMlKgqUtN1gbcY\nJreAjlaJ3o1s1u5sD035LqnXc2ApIf4/4nLgoc8TbqGo/ya1ABQ=\n=NRTK\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/37e49c2c7ca5969124830d79b2cb31041c570755",
          "sha": "37e49c2c7ca5969124830d79b2cb31041c570755",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/37e49c2c7ca5969124830d79b2cb31041c570755"
        }
      ],
      "message": "doc: Correct docstring describing max block tree db cache\n\nIt always applied in the same way, no matter how the txindex is setup.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-12T12:57:08Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-11T21:15:22Z"
      },
      "sha": "69159326810822c804ab53a009ef57fb5f28fac9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJlNmM0M2Y5YzNhZWQ1Nzc2NzhhNTM3YjU0NTZhZGFhMzFhMmNiMDQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2e6c43f9c3aed577678a537b5456adaa31a2cb04",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2e6c43f9c3aed577678a537b5456adaa31a2cb04",
      "tree": {
        "sha": "44ca0fd7dca1a617d987f887a736b8764ca8e44d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/44ca0fd7dca1a617d987f887a736b8764ca8e44d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 44ca0fd7dca1a617d987f887a736b8764ca8e44d\nparent 69159326810822c804ab53a009ef57fb5f28fac9\nauthor TheCharlatan <seb.kung@gmail.com> 1732305094 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1734008232 +0100\n\nkernel: Move kernel-specific cache size options to kernel\n\nCarrying non-kernel related fields in the cache sizes for the indexes is\nconfusing for kernel library users. The cache sizes also are set\ncurrently with magic numbers in bitcoin-chainstate. The comments for the\ncache size calculations are also not completely clear.\n\nSolve these things by moving the kernel-specific cache size fields to\ntheir own struct.\n\nThis slightly changes the way the cache is allocated if the txindex\nand/or blockfilterindex is used. Since they are now given precedence\nover the block tree db cache, this results in a bit less cache being\nallocated to the block tree db, coinsdb and coins caches. The effect is\nnegligible though, i.e. cache sizes with default dbcache reported\nthrough the logs are:\n\nmaster:\nCache configuration:\n* Using 2.0 MiB for block index database\n* Using 56.0 MiB for transaction index database\n* Using 49.0 MiB for basic block filter index database\n* Using 8.0 MiB for chain state database\n* Using 335.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\n\nthis branch:\nCache configuration:\n* Using 2.0 MiB for block index database\n* Using 56.2 MiB for transaction index database\n* Using 49.2 MiB for basic block filter index database\n* Using 8.0 MiB for chain state database\n* Using 334.5 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmda3agACgkQm3m0VpHb\nQXPdthAAoUSt87tFz3i4IGTBT03FImQXChNYcpGHNfLl/9aGu40G/xFja/tO2vJR\nG6p3WqrjMx4sSOZ2GmLLcZ99s41EBrkwoABoK8wrR1kK8asB9/od/h8J40KXBwUq\nxh92JRczyMYoU1tvDVJ1ksoDhqg3KX/S9yE1miZWbHwGyVRU7oiPLDEbBx+SXOrx\njFPqV6KlzxfOwfi4vzJrq9wHmv2tWPebU7aYyJFd3kVOIDBVkQaZBxuK+hWeLFY9\nCPQ19zV/g+fOCLjKqISJ5dqEwWOatM46WFyNR6aHvOqmlsgzbMKz0FCGiixp2V7G\n3whO9UYX8rFVo224TwSSpe4RI1ru8L7h2ICtsgF2qxgLl0SqrZyraPjrdQzunf0H\noHnJquqDkVPGiwtDvq2qQgWftzy82IdkPocCEdGwC+GnjhKAXCuoYgA7PE53AKlb\nXUANS9nqxtNZkb20Zm16PzhMWOBBvv+yFG5oP/1sPfdQR4ZNugN9T/E0PtKF9xUG\nyrrLpSLWdBthZKEFP/nrAHFz0BsotoC01FdAwMNeCskGFjwGiNIBbr8B7n9y2SNb\nPskkwV0xIvKxrJL96Ft8zjFGP1goX3xiDoh0x4XgWrH6HBe7/uCTfCFk9DLSSBxz\nw9LMFLRI32z73vqO4pwuBR7qKhtx4TNRFSV+YXbkTmBxRJk96sE=\n=UizF\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/69159326810822c804ab53a009ef57fb5f28fac9",
          "sha": "69159326810822c804ab53a009ef57fb5f28fac9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/69159326810822c804ab53a009ef57fb5f28fac9"
        }
      ],
      "message": "kernel: Move kernel-specific cache size options to kernel\n\nCarrying non-kernel related fields in the cache sizes for the indexes is\nconfusing for kernel library users. The cache sizes also are set\ncurrently with magic numbers in bitcoin-chainstate. The comments for the\ncache size calculations are also not completely clear.\n\nSolve these things by moving the kernel-specific cache size fields to\ntheir own struct.\n\nThis slightly changes the way the cache is allocated if the txindex\nand/or blockfilterindex is used. Since they are now given precedence\nover the block tree db cache, this results in a bit less cache being\nallocated to the block tree db, coinsdb and coins caches. The effect is\nnegligible though, i.e. cache sizes with default dbcache reported\nthrough the logs are:\n\nmaster:\nCache configuration:\n* Using 2.0 MiB for block index database\n* Using 56.0 MiB for transaction index database\n* Using 49.0 MiB for basic block filter index database\n* Using 8.0 MiB for chain state database\n* Using 335.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\n\nthis branch:\nCache configuration:\n* Using 2.0 MiB for block index database\n* Using 56.2 MiB for transaction index database\n* Using 49.2 MiB for basic block filter index database\n* Using 8.0 MiB for chain state database\n* Using 334.5 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-12T12:57:12Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-11-22T19:51:34Z"
      },
      "sha": "2e6c43f9c3aed577678a537b5456adaa31a2cb04"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk0YzIxYThhNThkNjEyYWZmYjU4NmE1NTVhZjY2ZTljNGNkN2QzNDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/94c21a8a58d612affb586a555af66e9c4cd7d342",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/94c21a8a58d612affb586a555af66e9c4cd7d342",
      "tree": {
        "sha": "9ae2868e7ceeda2b191473c2013fe49841e21840",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9ae2868e7ceeda2b191473c2013fe49841e21840"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9ae2868e7ceeda2b191473c2013fe49841e21840\nparent 2e6c43f9c3aed577678a537b5456adaa31a2cb04\nauthor TheCharlatan <seb.kung@gmail.com> 1732311857 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1734008234 +0100\n\nkernel: Move non-kernel db cache size constants\n\nThese have nothing to do with the txdb, so move them out and into the\nnode caches.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmda3aoACgkQm3m0VpHb\nQXNaXQ//ZqJ+gKGrV/UmjaKf/C3gAh5jjbHayISwJA/UH/A6ZIsqqnygWwqj0P/B\nziHbZDYEGN/PSAEfHRdmfLJ1x0o/yQg+/sacSfrjfb9MyxhMN/r/7A0t0o88z7uU\n/YPCeztXVTSRkU6eU3o5NgaY85SoH9YMDwUdJO4dnA/ysHPqL/T8KvbaBDLSKH9k\nCPxAEOtlLsscK0X/6Ub2y5DnOCBcfDwl39h2OnYGkI987jCvQMrDuc12E7zgr7lC\nJUtaANXQiDTQ/L8+aXqesWd2sYrsoW2Lk9ql9jFzQ/7grdViroHB8fH/raPGmIeZ\nrJxORlGiYFDYF/u2ZA25xMdMpWl+qAvkpWiMf7pT1OK7EtkZPMIG5c++BJR8pwSL\nzvCvQ/YHp3APVUHuxvtxcnvJ/DCbb7krqcVABTp7KdMNCxmq+bk0PQI7uT3WGeOs\nMNtfWPuKb4IQxjfEd3a8kmg4UyxxysDJyPVZCEDdt2Wv51P8PqcV5TCDYyKqibeJ\nxrWkom0MW9flqgFPSJygficjigVFlXpF/lWNeSayM18P11CxeJxteHDzUQtneU98\nfirsUP31WCh56md96f6V5VDjYs+Nzqi5/RylmLFgDBWIbCiJm51Lqy01fbNdlrKB\nPSXMo1AVsXmDEs91WOua7477kfpob4Nk93KT61PFNXnO5O5rtdA=\n=4oqM\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2e6c43f9c3aed577678a537b5456adaa31a2cb04",
          "sha": "2e6c43f9c3aed577678a537b5456adaa31a2cb04",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2e6c43f9c3aed577678a537b5456adaa31a2cb04"
        }
      ],
      "message": "kernel: Move non-kernel db cache size constants\n\nThese have nothing to do with the txdb, so move them out and into the\nnode caches.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-12T12:57:14Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-11-22T21:44:17Z"
      },
      "sha": "94c21a8a58d612affb586a555af66e9c4cd7d342"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE3MzQ3N2I1ZWZhZDQ3MjM4NjNiMzhmZTUxY2QxMTU2NjIwZDAxZGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/173477b5efad4723863b38fe51cd1156620d01df",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/173477b5efad4723863b38fe51cd1156620d01df",
      "tree": {
        "sha": "dd18e398859d351765a44f35170b78a91436aeda",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dd18e398859d351765a44f35170b78a91436aeda"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dd18e398859d351765a44f35170b78a91436aeda\nparent 94c21a8a58d612affb586a555af66e9c4cd7d342\nauthor TheCharlatan <seb.kung@gmail.com> 1732312322 +0100\ncommitter TheCharlatan <seb.kung@gmail.com> 1734008275 +0100\n\nkernel: Move kernel-related cache constants to kernel cache\n\nThey are not all related to the txdb, so a better place for them is the\nnew kernel cache file.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmda3dMACgkQm3m0VpHb\nQXPsFw//WeAr+DyTegIyrPynTRZ8FBU6SJ3pgaQvUuaTXbtzUQ4PEV83h6C9LNdH\nLNYKiVAzHpdqTr4sZELz2/IUyTRWgVR60wQ6YAQIw9zZcxEDMipxYLLkMmBCwyTp\n2pBJAEYS21ToV5B7sGceJ9isOv0SB0oAR4RzwbY5CI2+CYOQ6I44ykyVT80PMFqt\nZmbQdLJ8hCCDIt21IiNwyO4KruuORAK4lwLeDRMs8CYF9c1SrhFf/AGw4W5JJUoK\nKhhDAfA7hJ1hVz/U8GHsGdIY5o082KzCbzFkJo8m6xcE/rCXMydSb4v3cXZoLLCP\n0fipNoVqOVoKdw9RoyE8b7ryOAnN4tXQo7mNEsmA4gfuY/dHcHvC+sSuYXG9CkQ5\nxFgan+S9nVY0kUt8VB6Vp0usOz8eZCegFgkG2K+jJefADXZZIbTd/okFo+7mXSea\nEbmf7TtLQuLfPQlsbgwzxTBqyRbJ6dGiqd4HEVSYEKT3/QyGHqPxk6KVccBmVcF4\n5Nmd+LzjDLNJjqKVU1yeYJYhvl9YvrPnRbAsdJmNxPHMNtmT06mhZ5XjsUZpe68M\nnlTPzyi6und6aBMNSYNmioZ3md1pXEu72PO3gOKR3ejFkNxHjjmNy163T7M/xkZa\nDJjfE1BIm7LVpp8UEEbvHAL3xmmHT93Kah2560hcUkFgFCarC8A=\n=g4UN\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/94c21a8a58d612affb586a555af66e9c4cd7d342",
          "sha": "94c21a8a58d612affb586a555af66e9c4cd7d342",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/94c21a8a58d612affb586a555af66e9c4cd7d342"
        }
      ],
      "message": "kernel: Move kernel-related cache constants to kernel cache\n\nThey are not all related to the txdb, so a better place for them is the\nnew kernel cache file.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-12-12T12:57:55Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-11-22T21:52:02Z"
      },
      "sha": "173477b5efad4723863b38fe51cd1156620d01df"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15634223112,
      "node_id": "HRFPE_lADOABII586jEBuMzwAAAAOj31AI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15634223112",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "commit_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits/173477b5efad4723863b38fe51cd1156620d01df",
      "created_at": "2024-12-12T12:58:34Z"
    },
    {
      "event": "reviewed",
      "id": 2501686219,
      "node_id": "PRR_kwDOABII586VHLPL",
      "url": null,
      "actor": null,
      "commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. Makes sense to separate this.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#pullrequestreview-2501686219",
      "submitted_at": "2024-12-13T15:12:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1881990823",
      "pull_request_review_id": 2499365306,
      "id": 1881990823,
      "node_id": "PRRC_kwDOABII585wLOan",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! min. -dbcache (MiB)\n+static constexpr int64_t MIN_DB_CACHE{4};\n+//! -dbcache default (MiB)\n+static constexpr int64_t DEFAULT_DB_CACHE{450};\n+//! Max memory allocated to block tree DB specific cache",
      "path": "src/kernel/caches.h",
      "position": null,
      "original_position": 15,
      "commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "original_commit_id": "62da6a0b1ef99fc00357e967fe868ca3235cc4fb",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Missing the `(MiB)` comment.",
      "created_at": "2024-12-12T12:40:39Z",
      "updated_at": "2024-12-12T12:40:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1881990823",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1881990823"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1882016734",
      "pull_request_review_id": 2499436523,
      "id": 1882016734,
      "node_id": "PRRC_kwDOABII585wLUve",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! min. -dbcache (MiB)\n+static constexpr int64_t MIN_DB_CACHE{4};\n+//! -dbcache default (MiB)\n+static constexpr int64_t DEFAULT_DB_CACHE{450};\n+//! Max memory allocated to block tree DB specific cache",
      "path": "src/kernel/caches.h",
      "position": null,
      "original_position": 15,
      "commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "original_commit_id": "62da6a0b1ef99fc00357e967fe868ca3235cc4fb",
      "in_reply_to_id": 1881990823,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, fixed.",
      "created_at": "2024-12-12T12:58:37Z",
      "updated_at": "2024-12-12T12:58:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1882016734",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1882016734"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883535731",
      "pull_request_review_id": 2501686219,
      "id": 1883535731,
      "node_id": "PRRC_kwDOABII585wRHlz",
      "diff_hunk": "@@ -5,20 +5,20 @@\n #ifndef BITCOIN_NODE_CACHES_H\n #define BITCOIN_NODE_CACHES_H\n \n+#include <kernel/caches.h>\n+\n #include <cstddef>\n #include <cstdint>\n+#include <tuple>\n \n class ArgsManager;\n \n namespace node {\n-struct CacheSizes {\n-    int64_t block_tree_db;\n-    int64_t coins_db;\n-    int64_t coins;\n+struct IndexCacheSizes {",
      "path": "src/node/caches.h",
      "position": 17,
      "original_position": 17,
      "commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: will we have separate structs for different node cache sizes? I think just keeping it `CacheSizes` and adding the `node::` namespace in ambiguous places makes more sense for now?\r\n\r\n<details>\r\n<summary>git diff on 2e6c43f9c3</summary>\r\n\r\n```diff\r\ndiff --git a/src/node/caches.cpp b/src/node/caches.cpp\r\nindex 50e41b8d1e..41bd8c95d0 100644\r\n--- a/src/node/caches.cpp\r\n+++ b/src/node/caches.cpp\r\n@@ -13,11 +13,11 @@\r\n #include <string>\r\n \r\n namespace node {\r\n-std::tuple<IndexCacheSizes, kernel::CacheSizes> CalculateCacheSizes(const ArgsManager& args, size_t n_indexes)\r\n+std::tuple<node::CacheSizes, kernel::CacheSizes> CalculateCacheSizes(const ArgsManager& args, size_t n_indexes)\r\n {\r\n     int64_t nTotalCache = (args.GetIntArg(\"-dbcache\", nDefaultDbCache) << 20);\r\n     nTotalCache = std::max(nTotalCache, nMinDbCache << 20); // total cache cannot be less than nMinDbCache\r\n-    IndexCacheSizes sizes;\r\n+    CacheSizes sizes;\r\n     sizes.tx_index = std::min(nTotalCache / 8, args.GetBoolArg(\"-txindex\", DEFAULT_TXINDEX) ? nMaxTxIndexCache << 20 : 0);\r\n     nTotalCache -= sizes.tx_index;\r\n     sizes.filter_index = 0;\r\ndiff --git a/src/node/caches.h b/src/node/caches.h\r\nindex f4cc14bb23..c47134539b 100644\r\n--- a/src/node/caches.h\r\n+++ b/src/node/caches.h\r\n@@ -14,11 +14,11 @@\r\n class ArgsManager;\r\n \r\n namespace node {\r\n-struct IndexCacheSizes {\r\n+struct CacheSizes {\r\n     int64_t tx_index;\r\n     int64_t filter_index;\r\n };\r\n-std::tuple<IndexCacheSizes, kernel::CacheSizes> CalculateCacheSizes(const ArgsManager& args, size_t n_indexes = 0);\r\n+std::tuple<node::CacheSizes, kernel::CacheSizes> CalculateCacheSizes(const ArgsManager& args, size_t n_indexes = 0);\r\n } // namespace node\r\n \r\n #endif // BITCOIN_NODE_CACHES_H\r\ndiff --git a/src/test/util/setup_common.h b/src/test/util/setup_common.h\r\nindex 46035772f5..fbea90a20b 100644\r\n--- a/src/test/util/setup_common.h\r\n+++ b/src/test/util/setup_common.h\r\n@@ -104,7 +104,7 @@ struct BasicTestingSetup {\r\n  * initialization behaviour.\r\n  */\r\n struct ChainTestingSetup : public BasicTestingSetup {\r\n-    node::IndexCacheSizes m_index_cache_sizes{std::get<0>(node::CalculateCacheSizes(m_args))};\r\n+    node::CacheSizes m_index_cache_sizes{std::get<0>(node::CalculateCacheSizes(m_args))};\r\n     kernel::CacheSizes m_kernel_cache_sizes{std::get<1>(node::CalculateCacheSizes(m_args))};\r\n     bool m_coins_db_in_memory{true};\r\n     bool m_block_tree_db_in_memory{true};\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2024-12-13T08:18:57Z",
      "updated_at": "2024-12-13T15:12:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1883535731",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883535731"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 17,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883674740",
      "pull_request_review_id": 2501686219,
      "id": 1883674740,
      "node_id": "PRRC_kwDOABII585wRph0",
      "diff_hunk": "@@ -119,9 +120,10 @@ using common::AmountErrMsg;\n using common::InvalidPortErrMsg;\n using common::ResolveErrMsg;\n \n+using kernel::CacheSizes;",
      "path": "src/init.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: since it doesn't meaningfully change the diff, I would much prefer not to use `using` here to immediately disambiguate with `node::CacheSizes` (+ in `chainstate.cpp`)\r\n\r\n<details>\r\n<summary>git diff on 2e6c43f9c3</summary>\r\n\r\n```diff\r\ndiff --git a/src/init.cpp b/src/init.cpp\r\nindex dd273cfe61..f52933b658 100644\r\n--- a/src/init.cpp\r\n+++ b/src/init.cpp\r\n@@ -120,8 +120,6 @@ using common::AmountErrMsg;\r\n using common::InvalidPortErrMsg;\r\n using common::ResolveErrMsg;\r\n \r\n-using kernel::CacheSizes;\r\n-\r\n using node::ApplyArgsManOptions;\r\n using node::BlockManager;\r\n using node::CalculateCacheSizes;\r\n@@ -1179,7 +1177,7 @@ static ChainstateLoadResult InitAndLoadChainstate(\r\n     NodeContext& node,\r\n     bool do_reindex,\r\n     const bool do_reindex_chainstate,\r\n-    CacheSizes& cache_sizes,\r\n+    kernel::CacheSizes& cache_sizes,\r\n     const ArgsManager& args)\r\n {\r\n     const CChainParams& chainparams = Params();\r\ndiff --git a/src/node/chainstate.cpp b/src/node/chainstate.cpp\r\nindex 660d2c3289..d4d8828f73 100644\r\n--- a/src/node/chainstate.cpp\r\n+++ b/src/node/chainstate.cpp\r\n@@ -29,14 +29,12 @@\r\n #include <memory>\r\n #include <vector>\r\n \r\n-using kernel::CacheSizes;\r\n-\r\n namespace node {\r\n // Complete initialization of chainstates after the initial call has been made\r\n // to ChainstateManager::InitializeChainstate().\r\n static ChainstateLoadResult CompleteChainstateInitialization(\r\n     ChainstateManager& chainman,\r\n-    const CacheSizes& cache_sizes,\r\n+    const kernel::CacheSizes& cache_sizes,\r\n     const ChainstateLoadOptions& options) EXCLUSIVE_LOCKS_REQUIRED(::cs_main)\r\n {\r\n     auto& pblocktree{chainman.m_blockman.m_block_tree_db};\r\n@@ -172,7 +170,7 @@ static ChainstateLoadResult CompleteChainstateInitialization(\r\n     return {ChainstateLoadStatus::SUCCESS, {}};\r\n }\r\n \r\n-ChainstateLoadResult LoadChainstate(ChainstateManager& chainman, const CacheSizes& cache_sizes,\r\n+ChainstateLoadResult LoadChainstate(ChainstateManager& chainman, const kernel::CacheSizes& cache_sizes,\r\n                                     const ChainstateLoadOptions& options)\r\n {\r\n     if (!chainman.AssumedValidBlock().IsNull()) {\r\n\r\n```\r\n</details>\r\n\r\nedit: oh, that's less true for the current `node::IndexCacheSizes` name of course. I personally still prefer keeping the namespace for clarity, but it also fits within the `init.cpp` coding style.\r\n",
      "created_at": "2024-12-13T10:01:59Z",
      "updated_at": "2024-12-13T15:12:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1883674740",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883674740"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 123,
      "original_line": 123,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883694847",
      "pull_request_review_id": 2501686219,
      "id": 1883694847,
      "node_id": "PRRC_kwDOABII585wRub_",
      "diff_hunk": "@@ -12,6 +12,7 @@\n \n #include <common/args.h>\n #include <interfaces/node.h>\n+#include <kernel/caches.h>",
      "path": "src/qt/optionsmodel.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "original_commit_id": "2e6c43f9c3aed577678a537b5456adaa31a2cb04",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: this is in the wrong commit (2e6c43f9c3aed577678a537b5456adaa31a2cb04)",
      "created_at": "2024-12-13T10:14:51Z",
      "updated_at": "2024-12-13T15:12:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1883694847",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1883694847"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 15,
      "original_line": 15,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1884061716",
      "pull_request_review_id": 2501686219,
      "id": 1884061716,
      "node_id": "PRRC_kwDOABII585wTIAU",
      "diff_hunk": "@@ -0,0 +1,38 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_KERNEL_CACHES_H\n+#define BITCOIN_KERNEL_CACHES_H\n+\n+#include <algorithm>\n+#include <cstdint>\n+\n+//! min. -dbcache (MiB)\n+static constexpr int64_t MIN_DB_CACHE{4};\n+//! -dbcache default (MiB)\n+static constexpr int64_t DEFAULT_DB_CACHE{450};",
      "path": "src/kernel/caches.h",
      "position": 14,
      "original_position": 14,
      "commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'm not sure what the best solution is, but aren't `MIN_DB_CACHE` and `DEFAULT_DB_CACHE` `node` attributes, instead of `kernel`? Then again, we do need a default total cache size in kernel, so maybe the best approach is to just rename to e.g. `MIN_KERNEL_CACHE` and `DEFAULT_KERNEL_CACHE` - or redefine `DEFAULT_DB_CACHE{DEFAULT_KERNEL_CACHE};`?",
      "created_at": "2024-12-13T14:57:45Z",
      "updated_at": "2024-12-13T15:12:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1884061716",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1884061716"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": 12,
      "original_start_line": 12,
      "start_side": "RIGHT",
      "line": 14,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1884078251",
      "pull_request_review_id": 2501686219,
      "id": 1884078251,
      "node_id": "PRRC_kwDOABII585wTMCr",
      "diff_hunk": "@@ -103,7 +104,8 @@ struct BasicTestingSetup {\n  * initialization behaviour.\n  */\n struct ChainTestingSetup : public BasicTestingSetup {\n-    node::CacheSizes m_cache_sizes{};\n+    node::IndexCacheSizes m_index_cache_sizes{std::get<0>(node::CalculateCacheSizes(m_args))};",
      "path": "src/test/util/setup_common.h",
      "position": 13,
      "original_position": 13,
      "commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "original_commit_id": "173477b5efad4723863b38fe51cd1156620d01df",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This member is not used, best to remove until it is?",
      "created_at": "2024-12-13T15:09:51Z",
      "updated_at": "2024-12-13T15:12:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31483#discussion_r1884078251",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1884078251"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31483"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 107,
      "original_line": 107,
      "side": "RIGHT"
    }
  ]
}