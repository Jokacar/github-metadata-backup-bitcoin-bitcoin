{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29431",
    "id": 1725255931,
    "node_id": "PR_kwDOABII585m1VD7",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29431",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29431.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29431.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29431",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29431/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29431/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29431/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/ec9005ca4be088dfa2d247bbfe964a9c98e4f29d",
    "number": 29431,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "test/BIP324: disconnection scenarios during v2 handshake",
    "user": {
      "login": "stratospher",
      "id": 44024636,
      "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stratospher",
      "html_url": "https://github.com/stratospher",
      "followers_url": "https://api.github.com/users/stratospher/followers",
      "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
      "organizations_url": "https://api.github.com/users/stratospher/orgs",
      "repos_url": "https://api.github.com/users/stratospher/repos",
      "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/stratospher/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Add tests for the following v2 handshake scenarios:\r\n1. Disconnection happens when > `MAX_GARBAGE_LEN` bytes garbage is sent\r\n2. Disconnection happens when incorrect garbage terminator is sent\r\n3. Disconnection happens when garbage bytes are tampered with\r\n4. Disconnection happens when AAD of first encrypted packet after the garbage terminator is not filled\r\n5. bitcoind ignores non-empty version packet and no disconnection happens\r\n\r\nAll these tests require a modified v2 P2P class (different from `EncryptedP2PState` used in `v2_p2p.py`) to implement our custom handshake behaviour based on different scenarios and have been kept in a single test file (`test/functional/p2p_v2_misbehaving.py`). Shifted the test in `test/functional/p2p_v2_earlykeyresponse.py` which is of the same pattern to this file too.",
    "labels": [],
    "created_at": "2024-02-14T08:59:18Z",
    "updated_at": "2024-02-14T08:59:21Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "645a83596ff97f1020ab3c6b0103076d783fb1b9",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "stratospher:more-v2-tests",
      "ref": "more-v2-tests",
      "sha": "ec9005ca4be088dfa2d247bbfe964a9c98e4f29d",
      "user": {
        "login": "stratospher",
        "id": 44024636,
        "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
        "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stratospher",
        "html_url": "https://github.com/stratospher",
        "followers_url": "https://api.github.com/users/stratospher/followers",
        "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
        "organizations_url": "https://api.github.com/users/stratospher/orgs",
        "repos_url": "https://api.github.com/users/stratospher/repos",
        "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stratospher/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 379929443,
        "node_id": "MDEwOlJlcG9zaXRvcnkzNzk5Mjk0NDM=",
        "name": "bitcoin",
        "full_name": "stratospher/bitcoin",
        "owner": {
          "login": "stratospher",
          "id": 44024636,
          "node_id": "MDQ6VXNlcjQ0MDI0NjM2",
          "avatar_url": "https://avatars.githubusercontent.com/u/44024636?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/stratospher",
          "html_url": "https://github.com/stratospher",
          "followers_url": "https://api.github.com/users/stratospher/followers",
          "following_url": "https://api.github.com/users/stratospher/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/stratospher/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/stratospher/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/stratospher/subscriptions",
          "organizations_url": "https://api.github.com/users/stratospher/orgs",
          "repos_url": "https://api.github.com/users/stratospher/repos",
          "events_url": "https://api.github.com/users/stratospher/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/stratospher/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/stratospher/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/stratospher/bitcoin",
        "archive_url": "https://api.github.com/repos/stratospher/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/stratospher/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/stratospher/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/stratospher/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/stratospher/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/stratospher/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/stratospher/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/stratospher/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/stratospher/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/stratospher/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/stratospher/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/stratospher/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/stratospher/bitcoin/events",
        "forks_url": "https://api.github.com/repos/stratospher/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/stratospher/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/stratospher/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/stratospher/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/stratospher/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/stratospher/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/stratospher/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/stratospher/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/stratospher/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/stratospher/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/stratospher/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/stratospher/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/stratospher/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/stratospher/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/stratospher/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/stratospher/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:stratospher/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/stratospher/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/stratospher/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/stratospher/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/stratospher/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/stratospher/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/stratospher/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/stratospher/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/stratospher/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/stratospher/bitcoin/hooks",
        "svn_url": "https://github.com/stratospher/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 240025,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-02-14T08:37:55Z",
        "created_at": "2021-06-24T13:12:06Z",
        "updated_at": "2022-01-06T18:58:51Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "baed5edeb611d949982c849461949c645f8998a7",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36789,
        "stargazers_count": 73965,
        "watchers_count": 73965,
        "size": 249299,
        "default_branch": "master",
        "open_issues_count": 673,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-02-14T08:59:18Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-02-14T08:54:15Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29431"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 214,
    "deletions": 96,
    "changed_files": 6,
    "commits": 8,
    "review_comments": 0,
    "comments": 1
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE4YjBiYzgwNWFjNjlkNGMyNzhjNWFmY2M4MWI4NTMwZGM0MDY2ODE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a8b0bc805ac69d4c278c5afcc81b8530dc406681",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a8b0bc805ac69d4c278c5afcc81b8530dc406681",
      "tree": {
        "sha": "d5183e27b1d4abfb32f9bd44be00096af13c0c02",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d5183e27b1d4abfb32f9bd44be00096af13c0c02"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b2b2b1e9e415c3b5f74d517eaebfc2073cef5175",
          "sha": "b2b2b1e9e415c3b5f74d517eaebfc2073cef5175",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b2b2b1e9e415c3b5f74d517eaebfc2073cef5175"
        }
      ],
      "message": "test: Rename early key response test and move random_bitflip to util\n\nEarly key response test is a special kind of test which requires\nmodified v2 handshake functions. More such tests can be added\nwhere v2 handshake functions send incorrect garbage terminator,\nexcess garbage bytes etc.. Hence, rename p2p_v2_earlykey.py to a\ngeneral test file name - p2p_v2_misbehaving.py.\n\nrandom_bitflip function (used in signature tests prior to this\ncommit) can be used in p2p_v2_misbehaving test to generate wrong\ngarbage terminator, wrong garbage bytes etc..\nSo, move the function to util.",
      "committer": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-14T05:46:59Z"
      },
      "author": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-01-30T13:57:21Z"
      },
      "sha": "a8b0bc805ac69d4c278c5afcc81b8530dc406681"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI5ZjdmNGU4ZTAxZWVkZDExM2FkMTRkODk5YjA4MTBkYzFiNTZiMzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b9f7f4e8e01eedd113ad14d899b0810dc1b56b32",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b9f7f4e8e01eedd113ad14d899b0810dc1b56b32",
      "tree": {
        "sha": "342e29efbdc9da7cf5aff84523ae157aedb957a1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/342e29efbdc9da7cf5aff84523ae157aedb957a1"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a8b0bc805ac69d4c278c5afcc81b8530dc406681",
          "sha": "a8b0bc805ac69d4c278c5afcc81b8530dc406681",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a8b0bc805ac69d4c278c5afcc81b8530dc406681"
        }
      ],
      "message": "test: Support disconnect waiting for add_p2p_connection\n\nAdds a new boolean parameter `wait_for_disconnect` to the\n`add_p2p_connection` method. If set, the node under\ntest is checked for disconnection.\n\nWithout this parameter, intermittent test failures can happen\nif the disconnection happens before wait_until for is_connected\nis hit inside `add_p2p_connection`.\n\nCo-Authored-By: Sebastian Falbesoner <sebastian.falbesoner@gmail.com>",
      "committer": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-14T05:47:23Z"
      },
      "author": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-13T05:07:23Z"
      },
      "sha": "b9f7f4e8e01eedd113ad14d899b0810dc1b56b32"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE0MmM0ZTRmZGZlZjg3ZjFhMTRmY2I0MjZkNjllMjkwNzNhMmZkZTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/142c4e4fdfef87f1a14fcb426d69e29073a2fde5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/142c4e4fdfef87f1a14fcb426d69e29073a2fde5",
      "tree": {
        "sha": "d30336ddf3001f557b68907dfb9353c9acba0e8c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d30336ddf3001f557b68907dfb9353c9acba0e8c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b9f7f4e8e01eedd113ad14d899b0810dc1b56b32",
          "sha": "b9f7f4e8e01eedd113ad14d899b0810dc1b56b32",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b9f7f4e8e01eedd113ad14d899b0810dc1b56b32"
        }
      ],
      "message": "test: Introduce test types and modify v2 handshake function accordingly\n\nPrior to this commit, TestEncryptedP2PState would always\nsend initial_v2_handshake bytes in 2 parts (as required\nby early key response test).\n\nFor generalising this test and having different v2 handshake\nbehaviour based on the test type, special behaviours like\nsending initial_v2_handshake bytes in 2 parts are executed\nonly if test_type is set to EARLY_KEY_RESPONSE.",
      "committer": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-14T06:05:37Z"
      },
      "author": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-01-30T14:20:12Z"
      },
      "sha": "142c4e4fdfef87f1a14fcb426d69e29073a2fde5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ2M2QxNDFiZDBjNDI0YzEwM2M2MmNiMzk3OTY5YTllMmYyNmI2MWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d63d141bd0c424c103c62cb397969a9e2f26b61b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d63d141bd0c424c103c62cb397969a9e2f26b61b",
      "tree": {
        "sha": "a60dbad6e493418f3b74a0e368469e961447a9e7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a60dbad6e493418f3b74a0e368469e961447a9e7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/142c4e4fdfef87f1a14fcb426d69e29073a2fde5",
          "sha": "142c4e4fdfef87f1a14fcb426d69e29073a2fde5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/142c4e4fdfef87f1a14fcb426d69e29073a2fde5"
        }
      ],
      "message": "test: Check that disconnection happens when >4095 garbage bytes is sent\n\nThis test type is represented using EXCESS_GARBAGE.",
      "committer": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-14T08:28:16Z"
      },
      "author": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-13T15:17:45Z"
      },
      "sha": "d63d141bd0c424c103c62cb397969a9e2f26b61b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk5MGE4OTg3ZDQ0Y2E1ZWFlZWNmNDhlMTZkOTE1Mjc0NWU2M2JkZWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/990a8987d44ca5eaeecf48e16d9152745e63bded",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/990a8987d44ca5eaeecf48e16d9152745e63bded",
      "tree": {
        "sha": "592f568383d0479c004958747a76c94d3609fd21",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/592f568383d0479c004958747a76c94d3609fd21"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d63d141bd0c424c103c62cb397969a9e2f26b61b",
          "sha": "d63d141bd0c424c103c62cb397969a9e2f26b61b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d63d141bd0c424c103c62cb397969a9e2f26b61b"
        }
      ],
      "message": "test: Check that disconnection happens when wrong garbage terminator is sent\n\nThis test type is represented using WRONG_GARBAGE_TERMINATOR.\nsince the wrong garbage terminator is sent to TestNode, TestNode\nwill interpret all of the gabage bytes, wrong garbage terminator,\ndecoy messages and version packet it receives as garbage bytes.\n\nIf the length of all these is more than 4095 + 16, it will result\nin a missing garbage terminator error. otherwise, it will result\nin a version handshake timeout error.\n\nSend only MAX_GARBAGE_LEN//2 bytes of garbage data to TestNode\nso that the total length received by the TestNode is at max\n= (MAX_GARBAGE_LEN//2) + 16 + 10*120 + 20 = 3283 bytes\n(which is less than 4095 + 16 bytes) and we get a consistent\nversion handshake timeout error message.\n\nIf we do not limit the garbage length sent, we will intermittently\nget both missing garbage terminator error and version handshake\ntimeout error based on the garbage length and decoy packets length\nwhich are chosen at random.",
      "committer": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-14T08:34:34Z"
      },
      "author": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-13T15:21:51Z"
      },
      "sha": "990a8987d44ca5eaeecf48e16d9152745e63bded"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQxYTU5ODEwYmVmZGEzZTNkZWIyYjM3NjQ5MmU1Njc5MDY1NDdhZWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d1a59810befda3e3deb2b376492e567906547aeb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d1a59810befda3e3deb2b376492e567906547aeb",
      "tree": {
        "sha": "37ded297a975e58cfd70bb653e8b64c6bc6f5eb7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/37ded297a975e58cfd70bb653e8b64c6bc6f5eb7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/990a8987d44ca5eaeecf48e16d9152745e63bded",
          "sha": "990a8987d44ca5eaeecf48e16d9152745e63bded",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/990a8987d44ca5eaeecf48e16d9152745e63bded"
        }
      ],
      "message": "test: Check that disconnection happens when garbage sent/received are different\n\nThis test type is represented using WRONG_GARBAGE.\nHere, garbage bytes sent to TestNode are assumed to be tampered with and\ndo not correspond to the garbage bytes which P2PInterface calculated and\nuses.",
      "committer": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-14T08:34:35Z"
      },
      "author": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-13T15:27:17Z"
      },
      "sha": "d1a59810befda3e3deb2b376492e567906547aeb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJmOTA5NTdjMTcwNjFhZDMzMWIxMDQ3YzFkNmY1NWZkMmJiZThkMmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bf90957c17061ad331b1047c1d6f55fd2bbe8d2f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bf90957c17061ad331b1047c1d6f55fd2bbe8d2f",
      "tree": {
        "sha": "076e181a272126243953d33cbc77e96f43571a08",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/076e181a272126243953d33cbc77e96f43571a08"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d1a59810befda3e3deb2b376492e567906547aeb",
          "sha": "d1a59810befda3e3deb2b376492e567906547aeb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d1a59810befda3e3deb2b376492e567906547aeb"
        }
      ],
      "message": "test: Check that disconnection happens when AAD isn't filled\n\nThis test type is represented using SEND_NO_AAD. If AAD of the first encrypted packet\nsent after the garbage terminator (optional decoy packet/version packet) hasn't been\nfilled, disconnection happens.",
      "committer": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-14T08:34:35Z"
      },
      "author": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-14T08:13:52Z"
      },
      "sha": "bf90957c17061ad331b1047c1d6f55fd2bbe8d2f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVjOTAwNWNhNGJlMDg4ZGZhMmQyNDdiYmZlOTY0YTljOThlNGYyOWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ec9005ca4be088dfa2d247bbfe964a9c98e4f29d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ec9005ca4be088dfa2d247bbfe964a9c98e4f29d",
      "tree": {
        "sha": "b96780e4325296944c9be598cd27fe0af04830e9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b96780e4325296944c9be598cd27fe0af04830e9"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bf90957c17061ad331b1047c1d6f55fd2bbe8d2f",
          "sha": "bf90957c17061ad331b1047c1d6f55fd2bbe8d2f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bf90957c17061ad331b1047c1d6f55fd2bbe8d2f"
        }
      ],
      "message": "test: Check that non empty version packet is ignored and no disconnection happens\n\nThis test type is represented using SEND_NON_EMPTY_VERSION_PACKET.",
      "committer": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-14T08:34:35Z"
      },
      "author": {
        "name": "stratospher",
        "email": "44024636+stratospher@users.noreply.github.com",
        "date": "2024-02-13T15:31:21Z"
      },
      "sha": "ec9005ca4be088dfa2d247bbfe964a9c98e4f29d"
    },
    {
      "event": "commented",
      "id": 1943330480,
      "node_id": "IC_kwDOABII585z1N6w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1943330480",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-14T08:59:20Z",
      "updated_at": "2024-02-14T08:59:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29431).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29431#issuecomment-1943330480",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29431"
    }
  ],
  "comments": []
}