{
  "type": "issue",
  "issue": {
    "id": 2567662694,
    "node_id": "I_kwDOABII586ZC2xm",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31036",
    "number": 31036,
    "state": "open",
    "state_reason": null,
    "title": "Listen on random port by default (not 8333)",
    "body": "### Please describe the feature you'd like to see added.\r\n\r\nConnections to port 8333 can be recognized right away as Bitcoin P2P connections. While it is still possible to recognize Bitcoin P2P connections regardless of the port, random ports would make network-wide monitoring harder.\r\n\r\n\r\n### Is your feature related to a problem, if so please describe it.\r\n\r\nNetwork-wide monitoring.\r\n\r\n### Describe the solution you'd like\r\n\r\nThe listening address and port of a node are propagated and saved in other nodes' databases, so the port has to be constant. Thus, after generating a random port it would need to be saved on disk (e.g. `settings.json`) and reused after restarts.\r\n\r\nThis applies to new installations. Existent ones have already propagated with port 8333 (if not changed by the node operator). So, something like: if a new installation and port is not explicitly provided, instead of using 8333 generate a random one and save it to `settings.json`.\r\n\r\nThis applies only to listening on IPv4 and IPv6 addresses.\r\n\r\n### Please leave any additional context\r\n\r\nThis is more of a network-wide measure. Individual nodes have stronger means to protect themselves.",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      },
      {
        "id": 64584,
        "node_id": "MDU6TGFiZWw2NDU4NA==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
        "name": "Brainstorming",
        "color": "ebd775",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 9,
    "created_at": "2024-10-05T05:04:57Z",
    "updated_at": "2024-10-20T17:59:00Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 14526871192,
      "node_id": "LE_lADOABII586ZC2xmzwAAAANh3naY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14526871192",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-05T05:04:57Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "labeled",
      "id": 14527255746,
      "node_id": "LE_lADOABII586ZC2xmzwAAAANh5FTC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14527255746",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-05T08:45:41Z",
      "label": {
        "name": "Brainstorming",
        "color": "ebd775"
      }
    },
    {
      "event": "commented",
      "id": 2395099390,
      "node_id": "IC_kwDOABII586OwlD-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2395099390",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-05T15:52:02Z",
      "updated_at": "2024-10-05T15:52:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "This would make the DNS seeds in their current from unusable (see #30900 for a related suggestion, though that would only remedy that for IPv4).",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31036#issuecomment-2395099390",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036"
    },
    {
      "event": "commented",
      "id": 2395248735,
      "node_id": "IC_kwDOABII586OxJhf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2395248735",
      "actor": {
        "login": "1440000bytes",
        "id": 147166694,
        "node_id": "U_kgDOCMWV5g",
        "avatar_url": "https://avatars.githubusercontent.com/u/147166694?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/1440000bytes",
        "html_url": "https://github.com/1440000bytes",
        "followers_url": "https://api.github.com/users/1440000bytes/followers",
        "following_url": "https://api.github.com/users/1440000bytes/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/1440000bytes/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/1440000bytes/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/1440000bytes/subscriptions",
        "organizations_url": "https://api.github.com/users/1440000bytes/orgs",
        "repos_url": "https://api.github.com/users/1440000bytes/repos",
        "events_url": "https://api.github.com/users/1440000bytes/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/1440000bytes/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-06T01:14:37Z",
      "updated_at": "2024-10-06T01:15:45Z",
      "author_association": "NONE",
      "body": "There are 7000 IPv4 and 2000 IPv6 nodes. I expect this ratio to continue for next 10 years based on the [adoption](https://www.google.com/intl/en/ipv6/statistics.html#tab=per-country-ipv6-adoption) stats.\r\n\r\nIPv4 nodes will not be able to benefit from non-default port support because of DNS seeds and IPv6.",
      "user": {
        "login": "1440000bytes",
        "id": 147166694,
        "node_id": "U_kgDOCMWV5g",
        "avatar_url": "https://avatars.githubusercontent.com/u/147166694?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/1440000bytes",
        "html_url": "https://github.com/1440000bytes",
        "followers_url": "https://api.github.com/users/1440000bytes/followers",
        "following_url": "https://api.github.com/users/1440000bytes/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/1440000bytes/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/1440000bytes/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/1440000bytes/subscriptions",
        "organizations_url": "https://api.github.com/users/1440000bytes/orgs",
        "repos_url": "https://api.github.com/users/1440000bytes/repos",
        "events_url": "https://api.github.com/users/1440000bytes/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/1440000bytes/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31036#issuecomment-2395248735",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036"
    },
    {
      "event": "commented",
      "id": 2396705062,
      "node_id": "IC_kwDOABII586O2tEm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2396705062",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T11:47:47Z",
      "updated_at": "2024-10-07T11:47:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "Alright, looks like getting the DNS seeds to propagate ports would be really nice to have or an outright blocker for this.\r\n\r\nCurrently, about 7% of my IPv4/IPv6 addrman entries use non 8333 port.\r\n\r\n```sh\r\n$ bitcoin-cli getnodeaddresses 0 | jq -r 'map(select((.network == \"ipv6\" or .network == \"ipv4\") and .port != 8333)) | length'\r\n$ bitcoin-cli getnodeaddresses 0 | jq -r 'map(select(.network == \"ipv6\" or .network == \"ipv4\")) | length'\r\n```",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31036#issuecomment-2396705062",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036"
    },
    {
      "event": "commented",
      "id": 2406165683,
      "node_id": "IC_kwDOABII586Payyz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2406165683",
      "actor": {
        "login": "Wronskode",
        "id": 142849734,
        "node_id": "U_kgDOCIO2xg",
        "avatar_url": "https://avatars.githubusercontent.com/u/142849734?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Wronskode",
        "html_url": "https://github.com/Wronskode",
        "followers_url": "https://api.github.com/users/Wronskode/followers",
        "following_url": "https://api.github.com/users/Wronskode/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Wronskode/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Wronskode/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Wronskode/subscriptions",
        "organizations_url": "https://api.github.com/users/Wronskode/orgs",
        "repos_url": "https://api.github.com/users/Wronskode/repos",
        "events_url": "https://api.github.com/users/Wronskode/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Wronskode/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-10T22:43:51Z",
      "updated_at": "2024-10-10T22:43:51Z",
      "author_association": "NONE",
      "body": "This may causes problems if we have to open the port on the rooter ?",
      "user": {
        "login": "Wronskode",
        "id": 142849734,
        "node_id": "U_kgDOCIO2xg",
        "avatar_url": "https://avatars.githubusercontent.com/u/142849734?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Wronskode",
        "html_url": "https://github.com/Wronskode",
        "followers_url": "https://api.github.com/users/Wronskode/followers",
        "following_url": "https://api.github.com/users/Wronskode/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Wronskode/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Wronskode/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Wronskode/subscriptions",
        "organizations_url": "https://api.github.com/users/Wronskode/orgs",
        "repos_url": "https://api.github.com/users/Wronskode/repos",
        "events_url": "https://api.github.com/users/Wronskode/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Wronskode/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31036#issuecomment-2406165683",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036"
    },
    {
      "event": "commented",
      "id": 2406179522,
      "node_id": "IC_kwDOABII586Pa2LC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2406179522",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-10T22:55:00Z",
      "updated_at": "2024-10-10T22:57:44Z",
      "author_association": "MEMBER",
      "body": "> Currently, about 7% of my IPv4/IPv6 addrman entries use non 8333 port.\r\n\r\nSame (8% of IPv6, 2% of IPv6, 7% overall)\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31036#issuecomment-2406179522",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036"
    },
    {
      "event": "commented",
      "id": 2406687686,
      "node_id": "IC_kwDOABII586PcyPG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2406687686",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-11T07:06:03Z",
      "updated_at": "2024-10-11T07:06:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "> This may causes problems if we have to open the port on the rooter ?\r\n\r\nYou mean so that the node behind the router, which listens on non-8333 port be reachable from the internet? From the perspective of opening the port on the router a random port is no different than 8333. The idea is only about new installations, existent ones won't be affected. And it is only about the default behavior, so even on new installations one would be able to use `port=8333` or `bind=whatever:8333`.",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31036#issuecomment-2406687686",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036"
    },
    {
      "event": "commented",
      "id": 2421781383,
      "node_id": "IC_kwDOABII586QWXOH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2421781383",
      "actor": {
        "login": "virtu",
        "id": 72414353,
        "node_id": "MDQ6VXNlcjcyNDE0MzUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/72414353?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/virtu",
        "html_url": "https://github.com/virtu",
        "followers_url": "https://api.github.com/users/virtu/followers",
        "following_url": "https://api.github.com/users/virtu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/virtu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/virtu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/virtu/subscriptions",
        "organizations_url": "https://api.github.com/users/virtu/orgs",
        "repos_url": "https://api.github.com/users/virtu/repos",
        "events_url": "https://api.github.com/users/virtu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/virtu/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-18T08:09:12Z",
      "updated_at": "2024-10-18T08:09:12Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nUsing a default port defeats some parts of v2transport, I guess.\r\n\r\nConcerning DNS seeds, two ideas come to mind:\r\n1. In theory, the issue could be solved by increasing the scope of #31062 by adding port numbers to the encoding and encode also IP addresses with it. Whether the proposal is practical remains to be seen.\r\n2. A more radical solution would be to dispense with DNS seeds and instead rely entirely only on hardcoded seeds for all network types. [Historical data](https://delvingbitcoin.org/t/hardcoded-seeds-dns-seeds-and-darknet-nodes/1123) suggests this could be feasible, even more so because the number of hardcoded seed addresses can be increased at virtually no cost. Still this seems rather controversial because past performance does not guarantee future results and it appears hard to reason about downstream effects.",
      "user": {
        "login": "virtu",
        "id": 72414353,
        "node_id": "MDQ6VXNlcjcyNDE0MzUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/72414353?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/virtu",
        "html_url": "https://github.com/virtu",
        "followers_url": "https://api.github.com/users/virtu/followers",
        "following_url": "https://api.github.com/users/virtu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/virtu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/virtu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/virtu/subscriptions",
        "organizations_url": "https://api.github.com/users/virtu/orgs",
        "repos_url": "https://api.github.com/users/virtu/repos",
        "events_url": "https://api.github.com/users/virtu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/virtu/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31036#issuecomment-2421781383",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036"
    },
    {
      "event": "commented",
      "id": 2423835494,
      "node_id": "IC_kwDOABII586QeMtm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2423835494",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-19T13:00:32Z",
      "updated_at": "2024-10-19T13:03:12Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.\r\n\r\nRegarding DNS seeds, I think there is a 3rd option, which I favor. We keep the DNS seeds, but treat them always as addrfetch peers, rather than as names to resolve directly. This is what already happens when you're running in tor-only mode: a P2P connection is made \"to\" the DNS seed name at port 8333 (i.e., the Tor exit node resolves the name for us, picks one of the IP addresses it resolves to, establishes a connection to it, and forwards it to us without revealing what that IP was), and we send a GETADDR message to it and insert the results into adrman.\r\n\r\nThis obviously isn't possible in I2P-only or tor-hidden-service-only setups (which will need to rely on hardcoded seeds instead), but I believe it will keep functioning fine for tor-only setups. As long as a decent portion of port-8333 nodes remains, they will keep getting found by the DNS seeders, and get queried (but, due to the extra indirection step, what actually ends up in addrman can have any port, as well as any service flags, ...). Longer term, seeders could become P2P based, if need be.\r\n\r\nDownsides:\r\n* Loses the caching effect that ISP resolvers have on DNS seeds (in honest operation, this reduces the load on DNS seeds somewhat).\r\n* If the network evolves to a point where barely anyone runs 8333 anymore (or only spy nodes...?), this is not a final solution.\r\n* Depending on how DNS seeders evolve, this may lose the advantage that the seeders do not observe the IP address of new nodes starting up (by being hidden behind ISP resolvers).\r\n\r\nUpsides:\r\n* Gets to distribute everything that ADDRV2 can encode (any BIP155 network type, port number, service flags).\r\n* If v2 connections get used, this removes ISP ability to gratuitously observe Bitcoin node IP addresses being distributed to new nodes starting up (assuming no ISP-operation Bitcoin-specific full connection MitM).\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31036#issuecomment-2423835494",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036"
    },
    {
      "event": "commented",
      "id": 2425156768,
      "node_id": "IC_kwDOABII586QjPSg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2425156768",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-20T17:59:00Z",
      "updated_at": "2024-10-20T17:59:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Downsides:\r\n\r\nAnother downside would be that finding an initial batch of peers would take longer. GETADDR answers will include many addresses that are not reachable, whereas DNS seeders only resolve to addresses of nodes that the crawler could reach very recently. I would expect that there would be quite a noticeable effect.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31036#issuecomment-2425156768",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31036"
    }
  ]
}