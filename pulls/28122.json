{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122",
    "id": 1444867984,
    "node_id": "PR_kwDOABII585WHu-Q",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28122",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28122.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28122.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/30bbeb38047e020926065a407d5195b684377857",
    "number": 28122,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Silent Payments: Implement BIP352",
    "user": {
      "login": "josibake",
      "id": 7444140,
      "node_id": "MDQ6VXNlcjc0NDQxNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/josibake",
      "html_url": "https://github.com/josibake",
      "followers_url": "https://api.github.com/users/josibake/followers",
      "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
      "organizations_url": "https://api.github.com/users/josibake/orgs",
      "repos_url": "https://api.github.com/users/josibake/repos",
      "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/josibake/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This PR is part of integrating silent payments into Bitcoin Core. The project is tracked in https://github.com/bitcoin/bitcoin/issues/28536\r\n\r\n## BIP352\r\n\r\nThis PR focuses strictly on the BIP logic and attempts to separate it from the wallet and transaction implementation details. This is accomplished by working directly with public and private keys, instead of needing a wallet backend and transactions for testing. Labels for the receiver are optional and thus deferred for a later PR.\r\n\r\nTest vectors from the BIP are included as unit tests.\r\n\r\nBefore reviewing, it is strongly recommended you read https://github.com/bitcoin/bips/pull/1458 and take a look at the reference python implementation on the BIP.\r\n",
    "labels": [
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-07-21T18:36:37Z",
    "updated_at": "2023-11-25T14:23:06Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "79359c957350ab296778e93aca5eb7414a447e34",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "josibake:implement-bip352",
      "ref": "implement-bip352",
      "sha": "30bbeb38047e020926065a407d5195b684377857",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 344501009,
        "node_id": "MDEwOlJlcG9zaXRvcnkzNDQ1MDEwMDk=",
        "name": "bitcoin",
        "full_name": "josibake/bitcoin",
        "owner": {
          "login": "josibake",
          "id": 7444140,
          "node_id": "MDQ6VXNlcjc0NDQxNDA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/josibake",
          "html_url": "https://github.com/josibake",
          "followers_url": "https://api.github.com/users/josibake/followers",
          "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
          "organizations_url": "https://api.github.com/users/josibake/orgs",
          "repos_url": "https://api.github.com/users/josibake/repos",
          "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/josibake/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/josibake/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/josibake/bitcoin",
        "archive_url": "https://api.github.com/repos/josibake/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/josibake/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/josibake/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/josibake/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/josibake/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/josibake/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/josibake/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/josibake/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/josibake/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/josibake/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/josibake/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/josibake/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/josibake/bitcoin/events",
        "forks_url": "https://api.github.com/repos/josibake/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/josibake/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/josibake/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/josibake/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/josibake/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/josibake/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/josibake/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/josibake/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/josibake/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/josibake/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/josibake/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/josibake/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/josibake/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/josibake/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/josibake/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/josibake/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:josibake/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/josibake/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/josibake/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/josibake/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/josibake/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/josibake/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/josibake/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/josibake/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/josibake/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/josibake/bitcoin/hooks",
        "svn_url": "https://github.com/josibake/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 232710,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-10-31T11:23:34Z",
        "created_at": "2021-03-04T14:24:20Z",
        "updated_at": "2022-01-04T15:38:49Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "e7b0004b375be25096fbaf3d5f6980095a90fc0c",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36012,
        "stargazers_count": 72322,
        "watchers_count": 72322,
        "size": 245222,
        "default_branch": "master",
        "open_issues_count": 647,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-11-25T14:18:18Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-11-25T14:22:40Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 2523,
    "deletions": 15,
    "changed_files": 25,
    "commits": 8,
    "review_comments": 92,
    "comments": 22
  },
  "events": [
    {
      "event": "commented",
      "id": 1646097920,
      "node_id": "IC_kwDOABII585iHXYA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646097920",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-21T18:36:41Z",
      "updated_at": "2023-11-22T13:55:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28122).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28876](https://github.com/bitcoin/bitcoin/pull/28876) (build: Fix LTO functionality by hebasto)\n* [#27351](https://github.com/bitcoin/bitcoin/pull/27351) (wallet: add `seeds` argument to `importdescriptors` by apoelstra)\n* [#27260](https://github.com/bitcoin/bitcoin/pull/27260) (Enhanced error messages for invalid network prefix during address parsing. by russeree)\n* [#10102](https://github.com/bitcoin/bitcoin/pull/10102) (Multiprocess bitcoin by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1646097920",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-21T18:46:43Z",
      "updated_at": "2023-07-21T18:46:43Z",
      "source": {
        "issue": {
          "id": 1741647494,
          "node_id": "PR_kwDOABII585SMBHD",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27827",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27827/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27827/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27827/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27827",
          "number": 27827,
          "state": "closed",
          "state_reason": null,
          "title": "Silent Payments: send and receive",
          "body": "## For reviewers\r\n\r\nIn an attempt to make reviewing a bit more sane, I'm breaking this up into a few smaller PRs, but will keep this one open as the parent PR and keep it rebased on the child PRs. The main purpose of having this PR is to track progress on child PRs and also have an easy way to compile `bitcoind` with both send and receive support for testing. Additionally, I'll be adding more functional tests to this PR since it's much easier to test when `bitcoind` can both send and receive.\r\n\r\n## PRs\r\n\r\n- [ ] https://github.com/bitcoin/bitcoin/pull/28122\r\n  - Implements the logic from BIP352 without any wallet code. This PR adds the necessary cryptographic functions and implements the logic needed for sending and scanning. This PR also includes the test vectors from the BIP as unit tests. Both the send and receive PRs have this as a dependency. In terms of priority, this PR should be reviewed first\r\n- [ ] https://github.com/bitcoin/bitcoin/pull/28201\r\n  - Implements sending in the Bitcoin Core wallet. This PR allows a wallet to send to a silent payment address, regardless of whether or not the wallet can receive silent payments\r\n  - Ready for review, but marked as a draft until dependencies are merged\r\n- [ ] https://github.com/bitcoin/bitcoin/pull/28202\r\n  - Implements receiving in the Bitcoin Core wallet. This PR allows a wallet to generate silent payment addresses and scan for silent payments, regardless of whether or not the wallet can send to a silent payment address\r\n  - Ready for review but marked as a draft until dependencies are merged\r\n\r\nFor the silent payments specification, see https://github.com/bitcoin/bips/pull/1458\r\n\r\n## Overall\r\n\r\nThis PR implements the full silent payments scheme: sending and receiving. The following items are not covered in this PR and are intended for follow-up PRs:\r\n\r\n* Adding labels for the receiver wallet\r\n* Full RPC coverage (only `sendtoaddress` and `sendmany` are covered in this PR)\r\n* Light client support (vending the tweak data per block, either in an index or to serve to indexer, such as electrum server)\r\n* Add benchmarks to validate that there are no DoS concerns for doing silent payment verification for transactions in the mempool\r\n* External signer support (dependent on hardware wallets supporting silent payments)\r\n* More unit / functional test coverage\r\n\r\n## Major changes\r\n\r\nThis PR is a continuation of the work done in https://github.com/bitcoin/bitcoin/pull/24897. Below is a summary of the major changes:\r\n\r\n* Remove labels\r\n  * The original draft included labels, but this has been deferred for a later PR. Labels are not necessary for sending and receiving and there are still some open questions on how best to implement them in Bitcoin Core. Labels can also be added at any point by the receiver without requiring any changes from the sender\r\n* Remove indexes\r\n  * In the original draft, indexes were used when scanning for silent payments and when doing wallet rescans. This has been removed in favor of using `rev*.dat` files for rescanning. It may make sense to add an index in the future, but for the purpose of vending tweak data to light clients, which is still an open question\r\n* Update to implement the most current version of BIP352\r\n  * Since the original draft, there have been a few changes in the BIP which are reflected in the current PR. Most notably, using 33-byte compressed keys for the silent payment address (as opposed to X-only keys in the original draft) \r\n\r\nIt may be helpful for context to read through the discussions on #24897 , but ongoing review should happen in the relevant child PRs listed above.",
          "user": {
            "login": "josibake",
            "id": 7444140,
            "node_id": "MDQ6VXNlcjc0NDQxNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/josibake",
            "html_url": "https://github.com/josibake",
            "followers_url": "https://api.github.com/users/josibake/followers",
            "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
            "organizations_url": "https://api.github.com/users/josibake/orgs",
            "repos_url": "https://api.github.com/users/josibake/repos",
            "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/josibake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27827",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27827",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27827.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27827.patch"
          },
          "closed_at": "2023-09-26T12:02:09Z",
          "created_at": "2023-06-05T12:12:23Z",
          "updated_at": "2023-09-26T12:02:10Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9888104995,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJNYIIj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9888104995",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-21T18:54:55Z"
    },
    {
      "event": "labeled",
      "id": 9888105871,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJNYIWP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9888105871",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-21T18:55:01Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9888314157,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJNY7Mt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9888314157",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-21T19:23:43Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-22T07:04:05Z",
      "updated_at": "2023-07-22T07:04:05Z",
      "source": {
        "issue": {
          "id": 1778992391,
          "node_id": "PR_kwDOABII585UJNRk",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27991",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27991/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27991/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27991/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27991",
          "number": 27991,
          "state": "closed",
          "state_reason": null,
          "title": "build: pass sanitize flags to instrument libsecp256k1 code",
          "body": "secp256k1 functions are now instrumented:\r\n```bash\r\n# objdump --disassemble-symbols=_secp256k1_xonly_pubkey_serialize src/test/fuzz/fuzz | grep sanitizer_cov\r\n100eb5244: 73 5d 01 94 \tbl\t0x100f0c810 <___sanitizer_cov_trace_const_cmp8>\r\n100eb53f0: cc 5c 01 94 \tbl\t0x100f0c720 <___sanitizer_cov_trace_pc_indir>\r\n100eb5418: c2 5c 01 94 \tbl\t0x100f0c720 <___sanitizer_cov_trace_pc_indir>\r\n100eb5444: b7 5c 01 94 \tbl\t0x100f0c720 <___sanitizer_cov_trace_pc_indir>\r\n```\r\n\r\nNot sure if this is the best solution. Would fix #27990.",
          "user": {
            "login": "fanquake",
            "id": 863730,
            "node_id": "MDQ6VXNlcjg2MzczMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fanquake",
            "html_url": "https://github.com/fanquake",
            "followers_url": "https://api.github.com/users/fanquake/followers",
            "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
            "organizations_url": "https://api.github.com/users/fanquake/orgs",
            "repos_url": "https://api.github.com/users/fanquake/repos",
            "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fanquake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27991",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27991",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27991.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27991.patch"
          },
          "closed_at": "2023-09-07T11:00:39Z",
          "created_at": "2023-06-28T13:48:43Z",
          "updated_at": "2023-09-11T09:38:58Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-22T10:09:23Z",
      "updated_at": "2023-07-22T10:09:23Z",
      "source": {
        "issue": {
          "id": 1643033911,
          "node_id": "PR_kwDOABII585NBVge",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27351",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27351/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27351/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27351/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27351",
          "number": 27351,
          "state": "open",
          "state_reason": null,
          "title": "wallet: add `seeds` argument to `importdescriptors`",
          "body": "This PR introduces the ability to import BIP32 master seeds alongside xpubs. It currently expects seeds to be provided in [BIP 93/codex32](https://github.com/bitcoin/bips/blob/master/bip-0093.mediawiki) either as a single seed or as a list of shares which can be assembled via Shamir Secret Sharing.\r\n\r\nIt could be generalized to other seed formats, e.g. a hex-encoding or the old `sethdseeds` WIF format, easily enough by just attempting to parse the input in those formats and retrying until we find one that works. (Though we must be extremely careful that these formats are unambiguous! If the user imports a seed they don't expect, which fails to match the one they've backed up, the result could be coin loss. For formats with no prefix or checksum, e.g. hex-encoded bytes, we may need to require the user provide a prefix or a separate flag.)\r\n\r\nThe motivation here is that users who are importing their coins from another wallet likely have them in the form of a public descriptor (probably one of the standard `pkh(BIP44/48/84/whatever)` ones) along with a master seed (probably in some seed word format, but this is easy enough to convert to a straight BIP32 seed with an external tool). The seed, presumably, they want to minimize handling of, while the descriptor they are likely to be copy/pasting from somewhere and generally being less careful with.\r\n\r\nTo import this into Core, they currently need to construct a version of their descriptor in which xpubs are replaced by xprivs, and import that. This is cumbersome and potentially dangerous. With this extra RPC flag they are able to separately tweak their descriptor however they need, and then adding their seed data, unmodified, at the last minute in one place.\r\n\r\nMy specific use case is: I have an estate planning document which contains careful instructions for reconstructing seed data from shares which are stored separately and externally to the planning document. Meanwhile, the document itself contains a public descriptor, with checksum already computed, which is stored in several locations accessible by an open-ended set of people. If I were forced to mix the secret data with the public data, it would increase the risk of leaking the secrets as well as the risk of losing the public part.\r\n\r\n**Edit:** Other approaches, that I considered but chose not to take:\r\n\r\n* Extend the existing `sethdseed` RPC. This RPC is legacy-only and not supported by descriptor wallets, because it depends on the legacy \"bag of keys\" model where you could stick keys into the wallet and it'd \"just work\", often in surprising ways.\r\n* Add a new descriptor-wallet-based `importseed` RPC or something. This doesn't work for more-or-less the same reason; the descriptor wallet associates all its keys with `ScriptPubKeyManager`s, so we would need to add support for \"global keys\" somehow. This is a lot of work, lots of room for bikeshedding, and I worry that @achow101 will NACK anything that looks too much like a \"bag of keys\" model. (The situation would be much less bad than the legacy one, where 3rd parties could do stuff like mapping p2wpkh addresses to p2pkh ones and the wallet would just accept it ... but it would still potentially lead to user confusion about what exact conditions the wallet could sign for what descriptors, and it may constrain future wallet changes.)\r\n* Adding a `codex32(...)/1/2/3` xpriv format to the descriptor import format. This was suggested to me by @sipa and has the benefit that very closely matches the existing import model.\r\n\r\nPersonally I don't like the latter\r\n* for the reasons stated in the PR description -- I like my descriptors to be public, and my secret data to be limited to 16 bytes, and I think this is a common mode of operation for people coming from other wallets\r\n* ...and maybe worse, a common model for other wallet authors, who would refuse to nicely interoperate with this);\r\n* because it felt like enough of a change to deserve a change to one of the descriptor BIPs, but those are big enough already and it's hard to get tiny changes to propagate to all implementors of standards. Plus it felt wrong to couple codex32 with descriptors like this.i\r\n* because if you have multiple descirptors that use the same seed, it would force you to copy the seed multiple times, which is dangerous. (In some cases [BIP 389](https://github.com/bitcoin/bips/pull/1354) will make this better, but it doesn't cover everything and anyway is not accepted or implemented yet. One thing at a time :))\r\n\r\nBut what cinched it, and made me switch to the approach in the PR, was that @roconnor-blockstream pointed out to me that the codex32 model means that you can't predict, at writing-down-the-descriptor time, exactly what shares you'll be inputting. And because descriptors have a checksum which covers their entire string encoding, this means that you can't predict ahead-of-timei what will go into the `codex32(...)` slot and therefore what the total checksum ought to be. And this means that either (a) you lose the descriptor checksum, which is a Bad Idea and also inconvenient for importers who' will have to construct a checksum with `getdescriptorinfo` to get `importdescriptors` to accept it, even though said checksum had never been used to protect data in storage; or (b) you modify the descriptor checksum algorithm to be aware of `codex(...)` and to skip checksumming the data inside of that. This means even more implementation complexity that other wallets are unlikely to bring in, plus the result generalizes less easily to other seed formats (e.g. hex) which don't have checksums of their own.\r\n\r\n",
          "user": {
            "login": "apoelstra",
            "id": 1351933,
            "node_id": "MDQ6VXNlcjEzNTE5MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/apoelstra",
            "html_url": "https://github.com/apoelstra",
            "followers_url": "https://api.github.com/users/apoelstra/followers",
            "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
            "organizations_url": "https://api.github.com/users/apoelstra/orgs",
            "repos_url": "https://api.github.com/users/apoelstra/repos",
            "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/apoelstra/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27351",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27351",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27351.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27351.patch"
          },
          "created_at": "2023-03-28T00:57:14Z",
          "updated_at": "2023-11-22T14:25:09Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1542113471,
      "node_id": "PRR_kwDOABII585b6si_",
      "url": null,
      "actor": null,
      "commit_id": "6d11e3c435397dab960bc2b5e6cb5a2a1166b39b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1542113471",
      "submitted_at": "2023-07-22T16:10:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9892673100,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJNpjZM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9892673100",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-23T12:18:00Z"
    },
    {
      "event": "reviewed",
      "id": 1542293714,
      "node_id": "PRR_kwDOABII585b7YjS",
      "url": null,
      "actor": null,
      "commit_id": "1d75df2aaeb34bb3058294dd02559bd35e27ae37",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1542293714",
      "submitted_at": "2023-07-23T17:27:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9921275265,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJPWqWB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9921275265",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-26T09:10:09Z"
    },
    {
      "event": "unlabeled",
      "id": 9922994041,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJPdN95",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9922994041",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-26T11:36:28Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "rajarshimaitra",
        "id": 36541669,
        "node_id": "MDQ6VXNlcjM2NTQxNjY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rajarshimaitra",
        "html_url": "https://github.com/rajarshimaitra",
        "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
        "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
        "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
        "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
        "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-26T13:06:05Z",
      "updated_at": "2023-07-26T13:06:05Z",
      "source": {
        "issue": {
          "id": 1822380520,
          "node_id": "I_kwDOId2vBM5sn1Ho",
          "url": "https://api.github.com/repos/Bitshala/BitcoinCore-PR-Review-Club/issues/39",
          "repository_url": "https://api.github.com/repos/Bitshala/BitcoinCore-PR-Review-Club",
          "labels_url": "https://api.github.com/repos/Bitshala/BitcoinCore-PR-Review-Club/issues/39/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/Bitshala/BitcoinCore-PR-Review-Club/issues/39/comments",
          "events_url": "https://api.github.com/repos/Bitshala/BitcoinCore-PR-Review-Club/issues/39/events",
          "html_url": "https://github.com/Bitshala/BitcoinCore-PR-Review-Club/issues/39",
          "number": 39,
          "state": "closed",
          "state_reason": "completed",
          "title": " Silent Payments: Implement BIP352 #28122 ",
          "body": "### Session Details\r\n- Date: 03-08-2023\r\n- Time: IST 20:00 (UTC 14:30)\r\n- PR: https://github.com/bitcoin/bitcoin/pull/28122\r\n- Context: `[Wallet]`\r\n- Difficulty: Moderate\r\n- Language: `[C++]`\r\n- Notes and Questions: https://bitcoincore.reviews/28122\r\n\r\n### Summary\r\nThis week, we will learn about Silent Payment Protocol. This is a novel proposal to facilitate privacy-preserving donations and other public-facing Bitcoin receiving.\r\n\r\nIt is recommended to go through the IRC review club notes and questions and join the IRC review club on 2nd Aug. \r\n\r\n### Learning\r\n - What is Silent Payment. \r\n\r\n",
          "user": {
            "login": "rajarshimaitra",
            "id": 36541669,
            "node_id": "MDQ6VXNlcjM2NTQxNjY5",
            "avatar_url": "https://avatars.githubusercontent.com/u/36541669?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rajarshimaitra",
            "html_url": "https://github.com/rajarshimaitra",
            "followers_url": "https://api.github.com/users/rajarshimaitra/followers",
            "following_url": "https://api.github.com/users/rajarshimaitra/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/rajarshimaitra/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/rajarshimaitra/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/rajarshimaitra/subscriptions",
            "organizations_url": "https://api.github.com/users/rajarshimaitra/orgs",
            "repos_url": "https://api.github.com/users/rajarshimaitra/repos",
            "events_url": "https://api.github.com/users/rajarshimaitra/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/rajarshimaitra/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 0,
          "closed_at": "2023-08-18T13:30:37Z",
          "created_at": "2023-07-26T13:06:05Z",
          "updated_at": "2023-08-18T13:30:37Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1548528898,
      "node_id": "PRR_kwDOABII585cTK0C",
      "url": null,
      "actor": null,
      "commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1548528898",
      "submitted_at": "2023-07-26T20:21:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1550940798,
      "node_id": "PRR_kwDOABII585ccXp-",
      "url": null,
      "actor": null,
      "commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Left some comments. I will review further later. ",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1550940798",
      "submitted_at": "2023-07-28T08:55:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "labeled",
      "id": 9954424556,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJRVHbs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9954424556",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-29T13:00:25Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1660492118,
      "node_id": "IC_kwDOABII585i-RlW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660492118",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T14:54:07Z",
      "updated_at": "2023-08-01T14:54:28Z",
      "author_association": "MEMBER",
      "body": "Needs rebase, if still relevant",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1660492118",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9978403945,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJSwlxp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9978403945",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T15:48:01Z"
    },
    {
      "event": "commented",
      "id": 1660598041,
      "node_id": "IC_kwDOABII585i-rcZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660598041",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T15:48:43Z",
      "updated_at": "2023-08-01T15:48:43Z",
      "author_association": "MEMBER",
      "body": "> Needs rebase, if still relevant\r\n\r\nthanks, fixed!",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1660598041",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 9979664003,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJS1ZaD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9979664003",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T18:05:22Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9987676096,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJTT9fA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9987676096",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-02T12:42:51Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-02T16:37:05Z",
      "updated_at": "2023-08-02T16:37:05Z",
      "source": {
        "issue": {
          "id": 1833542215,
          "node_id": "PR_kwDOABII585XB4Gh",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28201",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28201/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28201/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28201/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28201",
          "number": 28201,
          "state": "open",
          "state_reason": null,
          "title": "Silent Payments: sending",
          "body": "This PR is part of integrating silent payments into Bitcoin Core. Status and tracking for the project is managed in https://github.com/bitcoin/bitcoin/issues/28536\r\n\r\nThis PR depends on #28122 and is marked as a draft until it is merged. If interested in those commits, please review on #28122\r\n\r\n## Sending \r\n### Silent Payments logic\r\n\r\nThe main focus of this PR is:\r\n\r\n* Applying the Taptweak to a taproot internal private key (this is a copy-paste of the code for applying the taptweak in the signing process)\r\n* Getting a private key from a given `scriptPubKey`\r\n* Creating silent payment outputs\r\n* Applying the created scriptPubKeys back to the vector of `CRecipients`\r\n\r\nThe functions are then used together to create silent payment outputs during `CreateTransactionInternal`.\r\n\r\n### Final steps\r\n\r\nThe last commits ensure that:\r\n\r\n* Coin selection is silent payments aware and knows to exclude taproot script path spends and inputs with unknown witness when funding a transaction which pays to a silent payment address\r\n* The change output type is correctly chosen when paying to a silent payment address\r\n* Functional tests\r\n",
          "user": {
            "login": "josibake",
            "id": 7444140,
            "node_id": "MDQ6VXNlcjc0NDQxNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/josibake",
            "html_url": "https://github.com/josibake",
            "followers_url": "https://api.github.com/users/josibake/followers",
            "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
            "organizations_url": "https://api.github.com/users/josibake/orgs",
            "repos_url": "https://api.github.com/users/josibake/repos",
            "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/josibake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28201",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28201",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28201.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28201.patch"
          },
          "created_at": "2023-08-02T16:37:04Z",
          "updated_at": "2023-10-16T16:17:01Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-02T16:42:41Z",
      "updated_at": "2023-08-02T16:42:41Z",
      "source": {
        "issue": {
          "id": 1833553731,
          "node_id": "PR_kwDOABII585XB6sb",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28202",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28202/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28202/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28202/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28202",
          "number": 28202,
          "state": "closed",
          "state_reason": null,
          "title": "Silent Payments: receiving",
          "body": "This PR is a child of https://github.com/bitcoin/bitcoin/pull/27827 and only implements the receiving logic. For the rest:\r\n\r\n* #28122 - implement the silent payments scheme\r\n* #28201 - implements sending\r\n* #27827 - all three PRs together - this PR is meant for tracking progress and is useful for reviewers who want to compile all three PRs at once for testing\r\n\r\nThis PR depends on #28122 and is marked as a draft until it is merged. Commits up to https://github.com/bitcoin/bitcoin/commit/8ee791e7b34a354ce6835b968fe12924b8908d7c belong to #28122; please review those commits on #28122\r\n\r\n## Receiving \r\n\r\n_Description coming soon_",
          "user": {
            "login": "josibake",
            "id": 7444140,
            "node_id": "MDQ6VXNlcjc0NDQxNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/josibake",
            "html_url": "https://github.com/josibake",
            "followers_url": "https://api.github.com/users/josibake/followers",
            "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
            "organizations_url": "https://api.github.com/users/josibake/orgs",
            "repos_url": "https://api.github.com/users/josibake/repos",
            "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/josibake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 3,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28202",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28202",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28202.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28202.patch"
          },
          "closed_at": "2023-09-26T11:58:54Z",
          "created_at": "2023-08-02T16:42:41Z",
          "updated_at": "2023-09-26T11:58:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1559306552,
      "node_id": "PRR_kwDOABII585c8SE4",
      "url": null,
      "actor": null,
      "commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1559306552",
      "submitted_at": "2023-08-02T16:46:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1560805532,
      "node_id": "PRR_kwDOABII585dCACc",
      "url": null,
      "actor": null,
      "commit_id": "a469cb1e551ba16f1d83e4b0ae68194e38f1b9ec",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1560805532",
      "submitted_at": "2023-08-03T10:38:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1562204323,
      "node_id": "PRR_kwDOABII585dHVij",
      "url": null,
      "actor": null,
      "commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "BrandonOdiwuor",
        "id": 15610188,
        "node_id": "MDQ6VXNlcjE1NjEwMTg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/15610188?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BrandonOdiwuor",
        "html_url": "https://github.com/BrandonOdiwuor",
        "followers_url": "https://api.github.com/users/BrandonOdiwuor/followers",
        "following_url": "https://api.github.com/users/BrandonOdiwuor/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BrandonOdiwuor/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BrandonOdiwuor/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BrandonOdiwuor/subscriptions",
        "organizations_url": "https://api.github.com/users/BrandonOdiwuor/orgs",
        "repos_url": "https://api.github.com/users/BrandonOdiwuor/repos",
        "events_url": "https://api.github.com/users/BrandonOdiwuor/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BrandonOdiwuor/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1562204323",
      "submitted_at": "2023-08-04T05:47:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1566866196,
      "node_id": "PRR_kwDOABII585dZHsU",
      "url": null,
      "actor": null,
      "commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1566866196",
      "submitted_at": "2023-08-08T09:15:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1566867434,
      "node_id": "PRR_kwDOABII585dZH_q",
      "url": null,
      "actor": null,
      "commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1566867434",
      "submitted_at": "2023-08-08T09:16:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1566872721,
      "node_id": "PRR_kwDOABII585dZJSR",
      "url": null,
      "actor": null,
      "commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1566872721",
      "submitted_at": "2023-08-08T09:19:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1566961113,
      "node_id": "PRR_kwDOABII585dZe3Z",
      "url": null,
      "actor": null,
      "commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1566961113",
      "submitted_at": "2023-08-08T10:08:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1567002299,
      "node_id": "PRR_kwDOABII585dZo67",
      "url": null,
      "actor": null,
      "commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567002299",
      "submitted_at": "2023-08-08T10:34:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1567009051,
      "node_id": "PRR_kwDOABII585dZqkb",
      "url": null,
      "actor": null,
      "commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567009051",
      "submitted_at": "2023-08-08T10:38:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1567018287,
      "node_id": "PRR_kwDOABII585dZs0v",
      "url": null,
      "actor": null,
      "commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567018287",
      "submitted_at": "2023-08-08T10:44:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1567018921,
      "node_id": "PRR_kwDOABII585dZs-p",
      "url": null,
      "actor": null,
      "commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567018921",
      "submitted_at": "2023-08-08T10:45:11Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1567019657,
      "node_id": "PRR_kwDOABII585dZtKJ",
      "url": null,
      "actor": null,
      "commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567019657",
      "submitted_at": "2023-08-08T10:45:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "commented",
      "id": 1669800569,
      "node_id": "IC_kwDOABII585jhyJ5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1669800569",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-08T15:06:18Z",
      "updated_at": "2023-08-08T16:55:35Z",
      "author_association": "MEMBER",
      "body": "Maybe point out in the description how the first commit 8283ca76e4feb37d3514fbd8dc491b8c4965dff1 relates to BIP 324, which doesn't use the ecdh module, but ElligatorSwift instead.\r\n\r\n8be91169396a560bfc4a4e8b34a242111704f8e9: maybe split this up a bit more: e.g. one commit to introduce a dummy SilentPaymentRecipient / Sender class, one that adds ComputeECDHSharedSecret,  CreateOutput, etc. And then build up the tests across these commits.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1669800569",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "reviewed",
      "id": 1567736115,
      "node_id": "PRR_kwDOABII585dccEz",
      "url": null,
      "actor": null,
      "commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567736115",
      "submitted_at": "2023-08-08T16:56:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "commented",
      "id": 1670943979,
      "node_id": "IC_kwDOABII585jmJTr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670943979",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-09T09:01:28Z",
      "updated_at": "2023-08-09T09:14:27Z",
      "author_association": "MEMBER",
      "body": "I think this PR should also contain `IsInputForSharedSecretDerivation` that's currently in the send PR, as well as `SumInputPubKeys` (not sure where that's introduced). More generally: anything that's critical in deriving the correct key from a transaction, given its inputs. (this would also make it easier to build an index based on just this PR, see #28241)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1670943979",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-09T09:13:56Z",
      "updated_at": "2023-08-09T09:13:56Z",
      "source": {
        "issue": {
          "id": 1842817294,
          "node_id": "PR_kwDOABII585Xg45g",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28241",
          "number": 28241,
          "state": "open",
          "state_reason": null,
          "title": "Silent payment index (for light wallets and consistency check)",
          "body": "This PR adds an index with the silent payment tweak for every transaction. It builds on top of #28122.\r\n\r\nIt also adds a `getsilentpaymentblockdata` RPC that returns an array of silent payment tweaked public keys, one for each qualifying transaction. \r\n\r\nThis index serves two purposes:\r\n1. Light client support, see [BIP 352](https://github.com/josibake/bips/blob/silent-payments-bip/bip-0352.mediawiki#user-content-Tweak_Data)\r\n2. A more thorough check than the test vectors; e.g. by comparing a checksum of the index for all of mainnet.\r\n\r\nBased on the index that was originally part of #24897.\r\n\r\nTODO:\r\n- [ ] check correctness against another implementation\r\n- [ ] make `-silentpaymentindex=0` mean off (default), `-silentpaymentindex=v0` on\r\n- [ ] figure out how to do versioning (make the index flexible enough, or just rebuild the index at the next version)\r\n- [ ] remove dependency on wallet (move `GetSilentPaymentsTweakDataFromTxInputs` and everything it needs out of the wallet)\r\n- [ ] cleanup various TODO's in the code\r\n- [ ] brainstorm updating index when outputs are spent\r\n- add tests\r\n  - [ ] that a reorg adds the new blocks (and it's fine to keep the old one) ",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28241",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28241.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28241.patch"
          },
          "created_at": "2023-08-09T09:13:55Z",
          "updated_at": "2023-11-22T13:41:18Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-09T17:09:18Z",
      "updated_at": "2023-08-09T17:09:18Z",
      "source": {
        "issue": {
          "id": 1843493325,
          "node_id": "PR_kwDOABII585XjLWx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28246",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28246/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28246/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28246/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28246",
          "number": 28246,
          "state": "closed",
          "state_reason": null,
          "title": "wallet: Use CTxDestination in CRecipient instead of just scriptPubKey",
          "body": "For silent payments, we want to provide a `SilentPaymentsDestination` to be used as the recipient, which requires `CRecipient` to use something other than just the `scriptPubKey` as we cannot know the output script for a silent payment prior to transaction creation. `CTxDestination` seems like the obvious place to add a `SilentPaymentsDestination` as it is our internal representation of an address.\r\n\r\nIn order to still allow paying to arbitrary scriptPubKeys (e.g. for data carrier outputs, or the user hand crafted a raw transaction that they have given to `fundrawtransaction`), `CNoDestination` is changed to contain raw scripts.\r\n\r\nAdditionally, P2PK scripts are now interpreted as a new `PubKeyDestination` rather than `PKHash`. This results in some things that would have given an address for P2PK scripts to no longer do so. This is arguably more correct.\r\n\r\n`ExtractDestination`'s behavior is slightly changed for the above. It now returns `true` for those destinations that have addresses, so P2PK scripts now result in `false`. Even though it returns false for `CNoDestination`, the script will now be included in that `CNoDestination`.\r\n\r\nBuilds on #28244",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            },
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 21,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28246",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28246",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28246.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28246.patch"
          },
          "closed_at": "2023-09-19T16:49:00Z",
          "created_at": "2023-08-09T15:16:28Z",
          "updated_at": "2023-10-25T12:50:58Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10059835651,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJXnOkD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10059835651",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-10T13:56:50Z"
    },
    {
      "event": "labeled",
      "id": 10062061707,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJXvuCL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10062061707",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-10T17:26:12Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-10T23:50:57Z",
      "updated_at": "2023-08-10T23:50:57Z",
      "source": {
        "issue": {
          "id": 1332190397,
          "node_id": "PR_kwDOEEET9c481L0T",
          "url": "https://api.github.com/repos/bitcoin-core/gui/issues/650",
          "repository_url": "https://api.github.com/repos/bitcoin-core/gui",
          "labels_url": "https://api.github.com/repos/bitcoin-core/gui/issues/650/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/gui/issues/650/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/gui/issues/650/events",
          "html_url": "https://github.com/bitcoin-core/gui/pull/650",
          "number": 650,
          "state": "open",
          "state_reason": null,
          "title": "Add Import to Wallet GUI",
          "body": "resolves #19 \r\n\r\nThis PR does a few things\r\n- Refactors importmulti and importdescripters RPC code\r\n- Adds functions to interfaces\r\n- Adds GUI's for importpubkey, importprivkey, importaddress, importmulti, and importdescriptors RPCs\r\n- Adds QT Tests for all 5 import GUI's\r\n\r\n#### Things to get this merged\r\n- [ ] get the refactor merge on https://github.com/bitcoin/bitcoin/pull/26840\r\n- [ ] after that is done I will split the GUI PR into (importpubkey, importprivkey, importaddress), importmulti, importdescriptors each PR will have its respective tests. I will rebase to remove the commit for the refactor in those PR's it is in this PR so people can test. This is for easier code review\r\n\r\nThe dialogs are located under File -> Import to Wallet...\r\nThe options vary based on what is supported with your specific wallet type.\r\n\r\n| Dialogs are Located  |  Import Public Key Dialog  |\r\n|---|---|\r\n| ![image](https://user-images.githubusercontent.com/31669092/183477017-0423b0db-f84c-4729-9a73-b47544d88aaf.png)  | ![image](https://user-images.githubusercontent.com/31669092/183477129-0c212955-bbf3-4bc9-8089-cf2c1da7644d.png)  |\r\n\r\n| Import Private Key Dialog  | Import Address Dialog  |\r\n|---|---|\r\n|![image](https://user-images.githubusercontent.com/31669092/183477391-84ea6224-e7f5-4fba-a830-2e7fe3effcec.png)   |  ![image](https://user-images.githubusercontent.com/31669092/183477525-c3ba8cdc-ae0f-4113-8e0b-86db548f1e33.png) |\r\n\r\n| Import Multi Dialog scriptPubKey Tab  | Import Multi Dialog Descriptor Tab  |\r\n|---|---|\r\n| ![image](https://user-images.githubusercontent.com/31669092/183477928-232be9c4-fd64-4a20-91ba-00ebe41d66a6.png)  | ![image](https://user-images.githubusercontent.com/31669092/183478127-0b3c8aed-54d9-4fb4-a583-0a6bb5a46d28.png)  |\r\n\r\n|  Import Descriptors Dialog  |\r\n|---|\r\n|  ![image](https://user-images.githubusercontent.com/31669092/183478374-7f9c174d-0067-4812-9556-9e34e813b362.png) |\r\n\r\nFor Range before I had a lineedit with placeholders begin and end, @achow101 suggested I used QSpinBox, but it doesn't have placeholder text. So Currently if both are default value it counts as no input. It would look very nice if I implemented a custom QAbstractSpinBox with placeholder text, but I am not sure if it is overkill for this PR.",
          "user": {
            "login": "KolbyML",
            "id": 31669092,
            "node_id": "MDQ6VXNlcjMxNjY5MDky",
            "avatar_url": "https://avatars.githubusercontent.com/u/31669092?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/KolbyML",
            "html_url": "https://github.com/KolbyML",
            "followers_url": "https://api.github.com/users/KolbyML/followers",
            "following_url": "https://api.github.com/users/KolbyML/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/KolbyML/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/KolbyML/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/KolbyML/subscriptions",
            "organizations_url": "https://api.github.com/users/KolbyML/orgs",
            "repos_url": "https://api.github.com/users/KolbyML/repos",
            "events_url": "https://api.github.com/users/KolbyML/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/KolbyML/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 2145506980,
              "node_id": "MDU6TGFiZWwyMTQ1NTA2OTgw",
              "url": "https://api.github.com/repos/bitcoin-core/gui/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 2927906211,
              "node_id": "MDU6TGFiZWwyOTI3OTA2MjEx",
              "url": "https://api.github.com/repos/bitcoin-core/gui/labels/Wallet",
              "name": "Wallet",
              "description": "",
              "color": "08a781",
              "default": false
            },
            {
              "id": 5353934559,
              "node_id": "LA_kwDOEEET9c8AAAABPx6O3w",
              "url": "https://api.github.com/repos/bitcoin-core/gui/labels/CI%20failed",
              "name": "CI failed",
              "color": "ededed",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/gui/pulls/650",
            "html_url": "https://github.com/bitcoin-core/gui/pull/650",
            "diff_url": "https://github.com/bitcoin-core/gui/pull/650.diff",
            "patch_url": "https://github.com/bitcoin-core/gui/pull/650.patch"
          },
          "created_at": "2022-08-08T17:43:21Z",
          "updated_at": "2023-09-23T05:56:49Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T00:40:01Z",
      "updated_at": "2023-08-11T00:40:01Z",
      "source": {
        "issue": {
          "id": 1843062887,
          "node_id": "PR_kwDOABII585XhuK3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28244",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28244/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28244/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28244/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28244",
          "number": 28244,
          "state": "closed",
          "state_reason": null,
          "title": "Break up script/standard.{h/cpp}",
          "body": "Some future work needs to touch things in script/standard.{h/cpp}, however it is unclear if it is safe to do so as they are included in several different places that could effect standardness and consensus. It contains a mix of policy parameters, consensus parameters, and utilities only used by the wallet. This PR breaks up the various components and renames the files to clearly separate everything.\r\n\r\n* `CTxDestination` is moved to a new file `src/addresstype.{cpp/h}`\r\n* `TaprootSpendData` and `TaprootBuilder` (and their utility functions and structs) are moved to `SigningProvider` as these are used only during signing.\r\n* `CScriptID` is moved to `script/script.h` to be next to `CScript`.\r\n* `MANDATORY_SCRIPT_VERIFY_FLAGS` is moved to `interpreter.h`\r\n* The parameters `DEFAULT_ACCEPT_DATACARRIER` and `MAX_OP_RETURN_RELAY` are moved to `policy.h`\r\n* `standard.{cpp/h}` is renamed to `solver.{cpp/h}` since that's all that's left in the file after the above moves",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28244",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28244",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28244.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28244.patch"
          },
          "closed_at": "2023-08-17T11:54:27Z",
          "created_at": "2023-08-09T11:43:57Z",
          "updated_at": "2023-08-30T02:14:20Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T01:03:42Z",
      "updated_at": "2023-08-11T01:03:42Z",
      "source": {
        "issue": {
          "id": 1839231006,
          "node_id": "PR_kwDOABII585XUswB",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28230",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28230/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28230/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28230/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28230",
          "number": 28230,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: Add MaybeArg() and Arg() default helper",
          "body": "Currently the RPC method implementations have many issues:\r\n\r\n* Default RPC argument values (and their optionality state) are duplicated in the documentation and the C++ code, with no checks to prevent them from going out of sync.\r\n* Getting an optional RPC argument is verbose, using a ternary operator, or worse, a multi-line `if`.\r\n\r\nFix all issues by adding default helper that can be called via `self.Arg<int>(0)`. The helper needs a few lines of code in the `src/rpc/util.h` header file. Everything else will be implemented in the cpp file once and if an RPC method needs it.\r\n\r\nThere is also an `self.MaybeArg<int>(0)` helper that works on any arg to return the argument, the default, or a falsy value.",
          "user": {
            "login": "maflcko",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maflcko",
            "html_url": "https://github.com/maflcko",
            "followers_url": "https://api.github.com/users/maflcko/followers",
            "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
            "organizations_url": "https://api.github.com/users/maflcko/orgs",
            "repos_url": "https://api.github.com/users/maflcko/repos",
            "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/maflcko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28230",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28230",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28230.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28230.patch"
          },
          "closed_at": "2023-08-24T10:57:22Z",
          "created_at": "2023-08-07T11:14:00Z",
          "updated_at": "2023-08-24T12:22:58Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T01:54:50Z",
      "updated_at": "2023-08-11T01:54:50Z",
      "source": {
        "issue": {
          "id": 1833304785,
          "node_id": "PR_kwDOABII585XBDwg",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28200",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28200/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28200/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28200/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28200",
          "number": 28200,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Remove unused includes from wallet.cpp",
          "body": "This makes compilation of wallet.cpp use a few % less memory and time, locally.\r\n\r\nCreated in the context of https://github.com/bitcoin/bitcoin/issues/28109, but I don't think it is enough to actually fix this problem.",
          "user": {
            "login": "maflcko",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maflcko",
            "html_url": "https://github.com/maflcko",
            "followers_url": "https://api.github.com/users/maflcko/followers",
            "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
            "organizations_url": "https://api.github.com/users/maflcko/orgs",
            "repos_url": "https://api.github.com/users/maflcko/repos",
            "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/maflcko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 18,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28200",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28200",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28200.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28200.patch"
          },
          "closed_at": "2023-08-22T09:34:19Z",
          "created_at": "2023-08-02T14:29:39Z",
          "updated_at": "2023-08-22T09:48:55Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T02:05:36Z",
      "updated_at": "2023-08-11T02:05:36Z",
      "source": {
        "issue": {
          "id": 1829455691,
          "node_id": "PR_kwDOABII585W0E2y",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28193",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28193/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28193/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28193/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28193",
          "number": 28193,
          "state": "open",
          "state_reason": null,
          "title": "test: add script compression coverage for not-on-curve P2PK outputs",
          "body": "This PR adds unit test coverage for the script compression functions `{Compress,Decompress}Script` in the special case of uncompressed P2PK outputs (scriptPubKey: OP_PUSH65 <0x04 ....> OP_CHECKSIG) with [pubkeys that are not fully valid](https://github.com/bitcoin/bitcoin/blob/44b05bf3fef2468783dcebf651654fdd30717e7e/src/pubkey.cpp#L297-L302), i.e. where the encoded point is not on the secp256k1 curve. For those outputs, script compression is not possible, as the y coordinate of the pubkey can't be recovered (see also call-site of `IsToPubKey`):\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/44b05bf3fef2468783dcebf651654fdd30717e7e/src/compressor.cpp#L49-L50\r\n\r\nLikewise, for a compressed script of an uncompressed P2PK script (i.e. compression ids 4 and 5) where the x coordinate is not on the curve, decompression fails:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/44b05bf3fef2468783dcebf651654fdd30717e7e/src/compressor.cpp#L122-L129\r\n\r\nNote that the term \"compression\" is used here in two different meanings (though they are related), which might be a little confusing. The encoding of a pubkey can either be compressed (33-bytes with 0x02/0x03 prefixes) or uncompressed (65-bytes with 0x04 prefix). On the other hand there is also compression for whole output scripts, which is used for storing scriptPubKeys in the UTXO set in a compact way (and also for the `dumptxoutset` result, accordingly). P2PK output scripts with uncompressed pubkeys get compressed by storing only the x-coordinate and the sign as a prefix (0x04 = even, 0x05 = odd). Was diving deeper into the subject while working on https://github.com/bitcoin/bitcoin/pull/27432, where the script decompression of uncompressed P2PK needed special handling (see also https://github.com/bitcoin/bitcoin/issues/24628#issuecomment-1108798536).\r\n\r\nTrivia: as of now (block 801066), there are 13 uncompressed P2PK outputs in the UTXO set with a pubkey not on the curve (which obviously means they are unspendable).",
          "user": {
            "login": "theStack",
            "id": 91535,
            "node_id": "MDQ6VXNlcjkxNTM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/theStack",
            "html_url": "https://github.com/theStack",
            "followers_url": "https://api.github.com/users/theStack/followers",
            "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
            "organizations_url": "https://api.github.com/users/theStack/orgs",
            "repos_url": "https://api.github.com/users/theStack/repos",
            "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/theStack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28193",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28193",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28193.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28193.patch"
          },
          "created_at": "2023-07-31T15:22:04Z",
          "updated_at": "2023-10-25T10:17:20Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T04:47:44Z",
      "updated_at": "2023-08-11T04:47:44Z",
      "source": {
        "issue": {
          "id": 1753342247,
          "node_id": "PR_kwDOABII585SzfoS",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27865",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27865/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27865/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27865/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27865",
          "number": 27865,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Track no-longer-spendable TXOs separately",
          "body": "In #27286, the wallet keeps track of all of its transaction outputs, even if they are already spent or are otherwise unspendable. This TXO set is iterated for balance checking and coin selection preparation, which can still be slow for wallets that have had a lot of activity. This PR aims to improve the performance of such wallets by moving UTXOs that are definitely no longer spendable to a different map in the wallet so that far fewer TXOs need to be iterated for the aforementioned functions.\r\n\r\nUnspendable TXOs (not to be confused with Unspent TXOs) are those which have a spending transaction that has been confirmed, or are no longer valid due to reorgs. TXOs that are spent in unconfirmed transactions remain in the primary TXO set, and are filtered out of balance and coin selection as before.\r\n\r\nDepends on #27286",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27865",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27865",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27865.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27865.patch"
          },
          "created_at": "2023-06-12T18:40:10Z",
          "updated_at": "2023-11-24T16:47:25Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T04:55:43Z",
      "updated_at": "2023-08-11T04:55:43Z",
      "source": {
        "issue": {
          "id": 1750967441,
          "node_id": "PR_kwDOABII585SrjUA",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27850",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27850/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27850/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27850/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27850",
          "number": 27850,
          "state": "closed",
          "state_reason": null,
          "title": "test: Add unit & functional test coverage for blockstore",
          "body": "This PR adds unit and functional tests to cover the behavior described in #2039. In particular, that bitcoind will crash on startup if a reindex is requested but the `blk` files are read-only. Eventually this behavior can be updated with https://github.com/bitcoin/bitcoin/pull/27039. This PR just commits the test coverage from #27039 as suggested in https://github.com/bitcoin/bitcoin/pull/27039#issuecomment-1584915782\r\n\r\n",
          "user": {
            "login": "pinheadmz",
            "id": 2084648,
            "node_id": "MDQ6VXNlcjIwODQ2NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pinheadmz",
            "html_url": "https://github.com/pinheadmz",
            "followers_url": "https://api.github.com/users/pinheadmz/followers",
            "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
            "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
            "repos_url": "https://api.github.com/users/pinheadmz/repos",
            "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 45,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27850",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27850",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27850.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27850.patch"
          },
          "closed_at": "2023-09-14T17:21:39Z",
          "created_at": "2023-06-10T13:14:19Z",
          "updated_at": "2023-10-16T15:34:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T05:58:03Z",
      "updated_at": "2023-08-11T05:58:03Z",
      "source": {
        "issue": {
          "id": 1700935080,
          "node_id": "PR_kwDOABII585QCV04",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27601",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27601/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27601/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27601/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27601",
          "number": 27601,
          "state": "open",
          "state_reason": null,
          "title": "wallet: don't duplicate change output if already exist",
          "body": "If the transaction includes an output that goes to the custom change\r\naddress (`CoinControl::destChange`), the transaction creation process\r\nshould avoid creating duplicate outputs to the same address.\r\n\r\nInstead, it should reuse the existing output to prevent revealing which\r\naddress is the change address, which could compromise privacy.\r\n\r\nThis will also be useful to make other wallet processes less confusing\r\nand error-prone. For instance, within the bumpfee functionality, we\r\nmanually extract the change recipient from the transaction before calling\r\n'CreateTransaction' to ensure that the change output is not duplicated.\r\n\r\nSide note:\r\nThis is something that will be using for the #26732 rework.",
          "user": {
            "login": "furszy",
            "id": 5377650,
            "node_id": "MDQ6VXNlcjUzNzc2NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/furszy",
            "html_url": "https://github.com/furszy",
            "followers_url": "https://api.github.com/users/furszy/followers",
            "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
            "organizations_url": "https://api.github.com/users/furszy/orgs",
            "repos_url": "https://api.github.com/users/furszy/repos",
            "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/furszy/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 15,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27601",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27601",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27601.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27601.patch"
          },
          "created_at": "2023-05-08T21:03:48Z",
          "updated_at": "2023-10-21T21:54:09Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T07:14:14Z",
      "updated_at": "2023-08-11T07:14:14Z",
      "source": {
        "issue": {
          "id": 1625214363,
          "node_id": "PR_kwDOABII585MFwU7",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27260",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27260/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27260/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27260/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27260",
          "number": 27260,
          "state": "open",
          "state_reason": null,
          "title": "Enhanced error messages for invalid network prefix during address parsing.",
          "body": "### **Issue:**\r\n\r\nSimply `DecodeDestination` does not handle errors where the user inputs a valid address for the wrong network. _e.x. testnet while running client on mainnet_  \r\n\r\nThe current error `not a valid Bech32 or Base58 encoding` for a valid address on a different network is entirely incorrect. This is because of the is_bech32 variable used at the core of `DecodeDestination` logic  only checks that the prefix matches. If it doesn't it just starts running everything as `DecodeBase58Check` regardless if the Bech32 String was actually valid.\r\n\r\n### **Proposed Solution:**\r\n\r\nBase58 Addresses with invalid prefixes will now display network and expected values.\r\n\r\n- previous: `Invalid or unsupported Base58-encoded address.`\r\n- 27260 `Invalid or unsupported Base58 testnet address. Expected prefix m, n, or 2`\r\n\r\nBech32 Addresses with invalid prefixes will now display network and expected values. The current from of the error is completely incorrect when the user passes valid Bech32 for the wrong network.\r\n\r\n- previous: `Invalid or unsupported Segwit (Bech32) or Base58 encoding.`\r\n- 27260: `Invalid chain prefix for testnet. Expected tb got bc`\r\n\r\n### **Reference**\r\nhttps://github.com/bitcoin/bitcoin/issues/26290\r\n### **Implementation :**\r\nSimply put, don't delay the attempt to decode the string as Bech32 using Bech32::Decode(str). This takes a minimal amount CPU cycles to perform and is acceptable to do since this operation is not performed often. \r\n\r\nOnce you get the decoding status of the string as bech32, do the same with DecodeBase58 using a len of 100 and DecodeBase58Check. This gives you enough information to start properly decoding errors. \r\n\r\nAfter you have decoded the address in various formats run though the logic and display errors for invalid addresses with the network names and expected values when the user just misses the prefix.\r\n\r\n**Update 1**: https://github.com/bitcoin/bitcoin/pull/27260#issuecomment-1628375439\r\n\r\n### **Other Notes**\r\n\r\n- Previous errors had inconsistencies such as random periods in some errors and not others. Using the word encoded in some errors and not others. This has been resolved.\r\n\r\n<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\n",
          "user": {
            "login": "russeree",
            "id": 3104223,
            "node_id": "MDQ6VXNlcjMxMDQyMjM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3104223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/russeree",
            "html_url": "https://github.com/russeree",
            "followers_url": "https://api.github.com/users/russeree/followers",
            "following_url": "https://api.github.com/users/russeree/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/russeree/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/russeree/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/russeree/subscriptions",
            "organizations_url": "https://api.github.com/users/russeree/orgs",
            "repos_url": "https://api.github.com/users/russeree/repos",
            "events_url": "https://api.github.com/users/russeree/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/russeree/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27260",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27260",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27260.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27260.patch"
          },
          "created_at": "2023-03-15T10:17:16Z",
          "updated_at": "2023-10-16T19:00:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T09:16:54Z",
      "updated_at": "2023-08-11T09:16:54Z",
      "source": {
        "issue": {
          "id": 1464474508,
          "node_id": "PR_kwDOABII585DtIR7",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26573/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26573",
          "number": 26573,
          "state": "open",
          "state_reason": null,
          "title": "Wallet: don't underestimate the fees when spending a Taproot output",
          "body": "Alternative to #23502.\r\n\r\nCurrently, when estimating the size an input spending a Taproot output will have once signed, we always assume the key path will be used. Even if there are script paths. This can lead to pretty severe fee underestimation if the script path turns out to be used in the end. So instead assume the most expensive between all script paths and the key path will be used.\r\n\r\nThis is still not ideal, as there may be a huge gap between the size of a script path spend and a key path spend. Still, this is less bad than undershooting the fees.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26573",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26573",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26573.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26573.patch"
          },
          "created_at": "2022-11-25T12:21:59Z",
          "updated_at": "2023-10-25T22:33:49Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T09:19:49Z",
      "updated_at": "2023-08-11T09:19:49Z",
      "source": {
        "issue": {
          "id": 1463636841,
          "node_id": "PR_kwDOABII585DqW4U",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26567",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26567/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26567/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26567/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26567",
          "number": 26567,
          "state": "closed",
          "state_reason": null,
          "title": "Wallet: estimate the size of signed inputs using descriptors",
          "body": "The wallet currently estimates the size of a signed input by doing a dry run of the signing logic. This is unnecessary since all outputs we can sign for can be represented by a descriptor, and we can derive the size of a satisfaction (\"signature\") directly from the descriptor itself.\r\nIn addition, the current approach does not generalize well: dry runs of the signing logic are only possible for the most basic scripts. See for instance the discussion in #24149 around that.\r\n\r\nThis introduces a method to get the maximum size of a satisfaction from a descriptor, and makes the wallet use that instead of the dry-run.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/60",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60/labels",
            "id": 9286970,
            "node_id": "MI_kwDOABII584AjbU6",
            "number": 60,
            "state": "open",
            "title": "26.0",
            "description": "",
            "creator": {
              "login": "fanquake",
              "id": 863730,
              "node_id": "MDQ6VXNlcjg2MzczMA==",
              "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/fanquake",
              "html_url": "https://github.com/fanquake",
              "followers_url": "https://api.github.com/users/fanquake/followers",
              "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
              "organizations_url": "https://api.github.com/users/fanquake/orgs",
              "repos_url": "https://api.github.com/users/fanquake/repos",
              "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/fanquake/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 3,
            "closed_issues": 112,
            "created_at": "2023-04-15T11:36:05Z",
            "updated_at": "2023-11-22T18:25:43Z"
          },
          "locked": false,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26567",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26567",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26567.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26567.patch"
          },
          "closed_at": "2023-09-06T17:31:32Z",
          "created_at": "2022-11-24T17:15:50Z",
          "updated_at": "2023-11-11T04:33:08Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T09:39:39Z",
      "updated_at": "2023-08-11T09:39:39Z",
      "source": {
        "issue": {
          "id": 1426214940,
          "node_id": "PR_kwDOABII585BsmgJ",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26403",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26403/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26403/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26403/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26403",
          "number": 26403,
          "state": "open",
          "state_reason": null,
          "title": "policy: Ephemeral anchors",
          "body": "TODO:\r\n\r\nI'll be updating to segwit variant soon, with updated BIP text.\r\n\r\n-----\r\n\r\nBuilds on top of https://github.com/bitcoin/bitcoin/pull/25038 for consideration of inclusion to the proposal. Requires V3, for simplicity of reasoning and usage. Implementation of idea written out at https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-October/021036.html\r\n\r\nBIP text here: https://github.com/instagibbs/bips/blob/ephemeral_anchor/bip-ephemeralanchors.mediawiki\r\n",
          "user": {
            "login": "instagibbs",
            "id": 5767891,
            "node_id": "MDQ6VXNlcjU3Njc4OTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/instagibbs",
            "html_url": "https://github.com/instagibbs",
            "followers_url": "https://api.github.com/users/instagibbs/followers",
            "following_url": "https://api.github.com/users/instagibbs/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/instagibbs/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/instagibbs/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
            "organizations_url": "https://api.github.com/users/instagibbs/orgs",
            "repos_url": "https://api.github.com/users/instagibbs/repos",
            "events_url": "https://api.github.com/users/instagibbs/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/instagibbs/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 1392286103,
              "node_id": "MDU6TGFiZWwxMzkyMjg2MTAz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20Conceptual%20Review",
              "name": "Needs Conceptual Review",
              "description": "",
              "color": "fef2c0",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 29,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26403",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26403",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26403.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26403.patch"
          },
          "created_at": "2022-10-27T20:14:15Z",
          "updated_at": "2023-11-15T22:13:05Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T10:01:43Z",
      "updated_at": "2023-08-11T10:01:43Z",
      "source": {
        "issue": {
          "id": 1404015373,
          "node_id": "PR_kwDOABII585Aich6",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26291/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26291/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26291/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26291",
          "number": 26291,
          "state": "closed",
          "state_reason": null,
          "title": "Update MANDATORY_SCRIPT_VERIFY_FLAGS",
          "body": "The `MANDATORY_SCRIPT_VERIFY_FLAGS` constant was introduced in #3843 to distinguish between block consensus rules and relay standardness rules. However it was not actually used in the consensus code path: instead it only differentiates between the failure being reported as `TX_CONSENSUS` and `mandatory-script-verify-flag-failed` vs `TX_NOT_STANDARD` and `non-mandatory-script-verify-flag`.\r\n\r\nThis updates the list of mandatory flags to include the post-p2sh soft forks that are enforced as consensus rules via `GetBlockScriptFlags()`. The effect of this change is that validation.cpp will report `TX_CONSENSUS` failures for txs that fail dersig/csv/cltv/nulldummy/witness/taproot checks, instead of `TX_NOT_STANDARD`, which in turn adds `Misbehaving(100)` via `MaybePunishNodeForTx` in `net_processing`.",
          "user": {
            "login": "ajtowns",
            "id": 127186,
            "node_id": "MDQ6VXNlcjEyNzE4Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ajtowns",
            "html_url": "https://github.com/ajtowns",
            "followers_url": "https://api.github.com/users/ajtowns/followers",
            "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
            "organizations_url": "https://api.github.com/users/ajtowns/orgs",
            "repos_url": "https://api.github.com/users/ajtowns/repos",
            "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ajtowns/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 27,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26291",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26291",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26291.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26291.patch"
          },
          "closed_at": "2023-08-23T20:19:57Z",
          "created_at": "2022-10-11T05:13:43Z",
          "updated_at": "2023-08-23T20:19:58Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T11:09:53Z",
      "updated_at": "2023-08-11T11:09:53Z",
      "source": {
        "issue": {
          "id": 1260256447,
          "node_id": "PR_kwDOABII5845Fj6p",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25273",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25273/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25273/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25273/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25273",
          "number": 25273,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Pass through transaction locktime and preset input sequences and scripts to CreateTransaction",
          "body": "Currently `FundTransaction` handles transaction locktime and preset input data by extracting the selected inputs and change output from `CreateTransaction`'s results. This means that `CreateTransaction` is actually unaware of any user desired locktime or sequence numbers. This can have an effect on whether and how anti-fee-sniping works.\r\n\r\nThis PR makes `CreateTransaction` aware of the locktime and preset input data by providing them to `CCoinControl`. `CreateTransasction` will then set the sequences, scriptSigs, scriptWItnesses, and locktime as appropriate if they are specified. This allows `FundTransaction` to actually use `CreateTransaction`'s result directly instead of having to extract the parts of it that it wants.\r\n\r\nAdditionally `FundTransaction` will return a `CreateTransactionResult` as `CreateTransaction` does instead of having several output parameters. Lastly, instead of using `-1` as a magic number for the change output position, the change position is changed to be an optional with no value set indicating no desired change output position (when provided as an input parameter) or no change output present (in the result).",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25273",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25273",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25273.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25273.patch"
          },
          "created_at": "2022-06-03T18:58:15Z",
          "updated_at": "2023-11-24T19:14:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T11:30:21Z",
      "updated_at": "2023-08-11T11:30:21Z",
      "source": {
        "issue": {
          "id": 1111576675,
          "node_id": "PR_kwDOABII584xcXBo",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24128",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24128/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24128/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24128/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24128",
          "number": 24128,
          "state": "open",
          "state_reason": null,
          "title": "wallet: BIP 326 sequence based anti-fee-snipe for taproot inputs",
          "body": "The goal of BIP 326 is to provide a \"privacy cloak\" for txs that use sequence-based locking. This is only possible for taproot inputs, as taproot spends may look identical for \"dumb wallets\" and \"smart contracts\" iff they use the key-path spend.\r\n\r\nSequence-based locking has minimally lower anti-fee sniping guarantees if all the txs that created the inputs aren't itself locked to the block they were included in. However, the minimal degradation should be acceptable, given that anti-fee-snipe will set the locktime to the past of 10% of the txs anyway.",
          "user": {
            "login": "maflcko",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maflcko",
            "html_url": "https://github.com/maflcko",
            "followers_url": "https://api.github.com/users/maflcko/followers",
            "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
            "organizations_url": "https://api.github.com/users/maflcko/orgs",
            "repos_url": "https://api.github.com/users/maflcko/repos",
            "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/maflcko/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24128",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24128",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24128.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24128.patch"
          },
          "created_at": "2022-01-22T14:12:15Z",
          "updated_at": "2023-11-16T23:09:53Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T11:58:15Z",
      "updated_at": "2023-08-11T11:58:15Z",
      "source": {
        "issue": {
          "id": 983140832,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NzIyNzY4MTc5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22838/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/22838",
          "number": 22838,
          "state": "open",
          "state_reason": null,
          "title": "descriptors: Be able to specify change and receiving in a single descriptor string",
          "body": "It is convenient to have a descriptor which specifies both receiving and change addresses in a single string. However, as discussed in https://github.com/bitcoin/bitcoin/issues/17190#issuecomment-895515768, it is not feasible to use a generic multipath specification like BIP 88 due to combinatorial blow up and that it would result in unexpected descriptors.\r\n\r\nTo resolve that problem, this PR proposes a targeted solution which allows only a single pair of 2 derivation indexes to be inserted in the place of a single derivation index. So instead of two descriptor `wpkh(xpub.../0/0/*)` and `wpkh(xpub.../0/1/*)` to represent receive and change addresses, this could be written as `wpkh(xpub.../0/<0;1>/*)`. The multipath specifier is of the form `<NUM;NUM>`. Each `NUM` can have its own hardened specifier, e.g. `<0;1h>` is valid. The multipath specifier can also only appear in one path index in the derivation path.\r\n\r\nThis results in the parser returning two descriptors. The first descriptor uses the first `NUM` in all pairs present, and the second uses the second `NUM`. In our implementation, if a multipath descriptor is not provided, a pair is still returned, but the second element is just `nullptr`.\r\n\r\nThe wallet will not output the multipath descriptors (yet). Furthermore, when a multipath descriptor is imported, it is expanded to the two descriptors and each imported on its own, with the second descriptor being implicitly for internal (change) addresses. There is no change to how the wallet stores or outputs descriptors (yet).\r\n\r\nNote that the path specifier is different from what was proposed. It uses angle brackets and the semicolon because these are unused characters available in the character set and I wanted to avoid conflicts with characters already in use in descriptors.\r\n\r\nCloses #17190 ",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 1482182044,
              "node_id": "MDU6TGFiZWwxNDgyMTgyMDQ0",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Descriptors",
              "name": "Descriptors",
              "description": "",
              "color": "e9f76c",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 38,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22838",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/22838",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/22838.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/22838.patch"
          },
          "created_at": "2021-08-30T19:46:34Z",
          "updated_at": "2023-11-24T19:24:12Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-11T12:35:28Z",
      "updated_at": "2023-08-11T12:35:28Z",
      "source": {
        "issue": {
          "id": 814723992,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NTc4NjY1NDk1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/21283",
          "number": 21283,
          "state": "open",
          "state_reason": null,
          "title": "Implement BIP 370 PSBTv2",
          "body": "BIP 370 PSBTv2 introduces several new fields and different invariants for PSBT. This PR implements those new fields and restructures the PSBT implementation to match PSBTv2 but still remain compatible with PSBTv0.",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135946,
              "node_id": "MDU6TGFiZWwxMzU5NDY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI",
              "name": "GUI",
              "color": "02d7e1",
              "default": false
            },
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 7,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/21283",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/21283.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/21283.patch"
          },
          "created_at": "2021-02-23T18:29:20Z",
          "updated_at": "2023-11-22T15:24:29Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10080436896,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJY10Kg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10080436896",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-13T19:15:23Z"
    },
    {
      "event": "unsubscribed",
      "id": 10096263969,
      "node_id": "UE_lADOABII585sQXuIzwAAAAJZyMMh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10096263969",
      "actor": {
        "login": "dellroy979",
        "id": 135130941,
        "node_id": "U_kgDOCA3vPQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/135130941?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dellroy979",
        "html_url": "https://github.com/dellroy979",
        "followers_url": "https://api.github.com/users/dellroy979/followers",
        "following_url": "https://api.github.com/users/dellroy979/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dellroy979/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dellroy979/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dellroy979/subscriptions",
        "organizations_url": "https://api.github.com/users/dellroy979/orgs",
        "repos_url": "https://api.github.com/users/dellroy979/repos",
        "events_url": "https://api.github.com/users/dellroy979/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dellroy979/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T11:51:18Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T14:22:40Z",
      "updated_at": "2023-08-15T14:22:40Z",
      "source": {
        "issue": {
          "id": 1120958552,
          "node_id": "PR_kwDOABII584x6sdb",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24230/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24230",
          "number": 24230,
          "state": "open",
          "state_reason": null,
          "title": "indexes: Stop using node internal types and locking cs_main, improve sync logic",
          "body": "This PR lets indexing code mostly run outside of the node process. It also improves indexing sync logic, which is moved out of indexing code to a new [`node::SyncChain()`](https://github.com/ryanofsky/bitcoin/blob/8d8cdcb37005030f646ba3c45f7f54f556efb8bf/src/node/chain.h#L24-L39) function.\r\n\r\nAlmost all the commits in this PR are small refactoring changes that move code from `src/index/` to `src/node/`, or replace references to node types like `CBlockIndex`, `CChain`, `CChainState` in index code. There are only two commits affecting indexing sync logic which make complicated or substantive changes:\r\n\r\n- [`8746b35301c5` indexes: Rewrite chain sync logic, remove racy init](https://github.com/bitcoin/bitcoin/pull/24230/commits/8746b35301c5f65ff3200555fb2b82417fd2c758)\r\n- [`ad88f50ddd12` indexes: Initialize indexes without holding cs_main](https://github.com/bitcoin/bitcoin/pull/24230/commits/ad88f50ddd129dddd974bbf9fd7d86ec86b65508)\r\n\r\n\r\nThe commit messages have more details about these and other changes. Followups to this PR will reuse indexing sync code for wallets (#15719, #11756) and let indexes run in separate processes (#10102)",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 97470796,
              "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
              "name": "UTXO Db and Indexes",
              "color": "fbca04",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 39,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24230",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24230",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24230.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24230.patch"
          },
          "created_at": "2022-02-01T16:56:28Z",
          "updated_at": "2023-09-26T13:52:37Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1579452859,
      "node_id": "PRR_kwDOABII585eJIm7",
      "url": null,
      "actor": null,
      "commit_id": "39bdab96d6f5cbc06f073bec550ea6ee50cbab69",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1579452859",
      "submitted_at": "2023-08-15T23:56:57Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "commented",
      "id": 1681933926,
      "node_id": "IC_kwDOABII585kQEZm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1681933926",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T09:21:18Z",
      "updated_at": "2023-08-17T09:21:18Z",
      "author_association": "MEMBER",
      "body": "Maybe mark as draft while CI is red and this is based on other pulls?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1681933926",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "labeled",
      "id": 10119766111,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJbL2Bf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10119766111",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T13:49:57Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1686188111,
      "node_id": "IC_kwDOABII585kgTBP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1686188111",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-21T11:53:22Z",
      "updated_at": "2023-08-21T11:53:22Z",
      "author_association": "MEMBER",
      "body": "#28244 was merged",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1686188111",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10153939325,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJdONF9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10153939325",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-22T06:43:16Z"
    },
    {
      "event": "commented",
      "id": 1687568516,
      "node_id": "IC_kwDOABII585klkCE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1687568516",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-22T06:46:40Z",
      "updated_at": "2023-08-22T06:46:40Z",
      "author_association": "MEMBER",
      "body": "> #28244 was merged\r\n\r\nAwesome! I rebased on https://github.com/bitcoin/bitcoin/pull/28246, will respond to outstanding review comments today/tomorrow.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1687568516",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 10155036767,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJdSZBf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10155036767",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-22T08:16:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10160760871,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJdoOgn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10160760871",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-22T16:29:56Z"
    },
    {
      "event": "unlabeled",
      "id": 10161576358,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJdrVmm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10161576358",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-22T18:00:18Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 10161625256,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJdrhio",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10161625256",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-22T18:06:10Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10207541206,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJgarfW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10207541206",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-28T10:31:29Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10209580013,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJgidPt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10209580013",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-28T13:53:45Z"
    },
    {
      "event": "reviewed",
      "id": 1599171329,
      "node_id": "PRR_kwDOABII585fUWsB",
      "url": null,
      "actor": null,
      "commit_id": "e3f9217ffb9457fcc54d589616f5c752ce15e6e5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1599171329",
      "submitted_at": "2023-08-28T21:42:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T08:12:16Z",
      "updated_at": "2023-08-29T08:12:16Z",
      "source": {
        "issue": {
          "id": 1871131955,
          "node_id": "PR_kwDOABII585ZAc5f",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28361",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28361/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28361/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28361/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28361",
          "number": 28361,
          "state": "closed",
          "state_reason": null,
          "title": "fuzz: add ConstructPubKeyBytes util function",
          "body": "In https://github.com/bitcoin/bitcoin/pull/28246 and https://github.com/bitcoin/bitcoin/pull/28122 , we add a `PubKeyDestination` and a `V0SilentPaymentsDestination`. Both of these PRs update `fuzz/util.cpp` and need a way to create well-formed pubkeys. Currently in `fuzz/util.cpp`, we have some logic for creating pubkeys in the multisig data provider. This logic is duplicated in #28246 and duplicated again in #28122. Seems much better to have a `ConstructPubKeyBytes` function that both PRs (and any future work) can reuse.\r\n\r\nThis PR introduces a function to do this and has the existing code use it. While the purpose is to introduce a utility function, the previous multisig code used `ConsumeIntegralInRange(4, 7)` which would have created some uncompressed pubkeys with the prefix 0x05, which is incorrect (see https://bitcoin.stackexchange.com/questions/57855/c-secp256k1-what-do-prefixes-0x06-and-0x07-in-an-uncompressed-public-key-signif)\r\n\r\ntldr; using `PickValueFromArray` is more correct as it limits to the set of defined prefixes for compressed and uncompressed pubkeys.",
          "user": {
            "login": "josibake",
            "id": 7444140,
            "node_id": "MDQ6VXNlcjc0NDQxNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/josibake",
            "html_url": "https://github.com/josibake",
            "followers_url": "https://api.github.com/users/josibake/followers",
            "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
            "organizations_url": "https://api.github.com/users/josibake/orgs",
            "repos_url": "https://api.github.com/users/josibake/repos",
            "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/josibake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 22,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28361",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28361",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28361.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28361.patch"
          },
          "closed_at": "2023-09-07T15:22:26Z",
          "created_at": "2023-08-29T08:12:15Z",
          "updated_at": "2023-09-07T15:22:27Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10218055738,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJhCyg6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10218055738",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T08:33:07Z"
    },
    {
      "event": "commented",
      "id": 1697054141,
      "node_id": "IC_kwDOABII585lJv29",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1697054141",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T09:06:48Z",
      "updated_at": "2023-08-29T09:09:36Z",
      "author_association": "MEMBER",
      "body": "In order to build the index PR #28241 directly on top of this and, more importantly, have more complete coverage of BIP 352 here, it would be useful to move `SumInputPubKeys` and  `HashOutpoints` from the send / receive PR's here. These define which types of inputs are considered and how outpoints must be sorted and hashed.\r\n\r\n(_update_: mmm, looking at the latest test vectors, maybe this functionality is already in here, just named differently)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1697054141",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "commented",
      "id": 1697055593,
      "node_id": "IC_kwDOABII585lJwNp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1697055593",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T09:07:45Z",
      "updated_at": "2023-08-29T09:07:45Z",
      "author_association": "MEMBER",
      "body": "Fixed CI and fuzzing errors, will be responding to unaddressed review comments",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1697055593",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10229109264,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJhs9IQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10229109264",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-30T06:50:56Z"
    },
    {
      "event": "unlabeled",
      "id": 10229905413,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJhv_gF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10229905413",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-30T08:12:44Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10235482217,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJiFRBp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10235482217",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-30T17:03:47Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10244567223,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJin7C3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10244567223",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-31T13:02:57Z"
    },
    {
      "event": "commented",
      "id": 1701008446,
      "node_id": "IC_kwDOABII585lY1Q-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701008446",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-31T13:08:04Z",
      "updated_at": "2023-08-31T13:08:04Z",
      "author_association": "MEMBER",
      "body": "> In order to build the index PR #28241 directly on top of this and, more importantly, have more complete coverage of BIP 352 here, it would be useful to move `SumInputPubKeys` and `HashOutpoints` from the send / receive PR's here. These define which types of inputs are considered and how outpoints must be sorted and hashed.\r\n> \r\n> (_update_: mmm, looking at the latest test vectors, maybe this functionality is already in here, just named differently)\r\n\r\nI think the only thing missing now is `IsInputForSharedSecretDerivation`; I'll work on pulling that in next",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1701008446",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "commented",
      "id": 1701222039,
      "node_id": "IC_kwDOABII585lZpaX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701222039",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-31T15:03:43Z",
      "updated_at": "2023-08-31T15:03:43Z",
      "author_association": "MEMBER",
      "body": "@hebasto can you rerun the Win64 CI task?",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1701222039",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 10246085627,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAJittv7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10246085627",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-31T15:03:43Z"
    },
    {
      "event": "subscribed",
      "id": 10246085646,
      "node_id": "SE_lADOABII585sQXuIzwAAAAJittwO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10246085646",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-31T15:03:43Z"
    },
    {
      "event": "referenced",
      "id": 10308826840,
      "node_id": "REFE_lADOABII585sQXuIzwAAAAJmdDbY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10308826840",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "238d29aff9b43234e340a9cf17742b2be5d1e97d",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/238d29aff9b43234e340a9cf17742b2be5d1e97d",
      "created_at": "2023-09-07T15:22:25Z"
    },
    {
      "event": "reviewed",
      "id": 1616725077,
      "node_id": "PRR_kwDOABII585gXURV",
      "url": null,
      "actor": null,
      "commit_id": "9d11390d008d551d9bf87b1d1c40ffa3da9aabf5",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "manjaneqx",
        "id": 139947479,
        "node_id": "U_kgDOCFdt1w",
        "avatar_url": "https://avatars.githubusercontent.com/u/139947479?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/manjaneqx",
        "html_url": "https://github.com/manjaneqx",
        "followers_url": "https://api.github.com/users/manjaneqx/followers",
        "following_url": "https://api.github.com/users/manjaneqx/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/manjaneqx/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/manjaneqx/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/manjaneqx/subscriptions",
        "organizations_url": "https://api.github.com/users/manjaneqx/orgs",
        "repos_url": "https://api.github.com/users/manjaneqx/repos",
        "events_url": "https://api.github.com/users/manjaneqx/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/manjaneqx/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1616725077",
      "submitted_at": "2023-09-08T05:49:31Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10317595230,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJm-gJe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10317595230",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-08T12:23:02Z"
    },
    {
      "event": "referenced",
      "id": 10320465495,
      "node_id": "REFE_lADOABII585sQXuIzwAAAAJnJc5X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10320465495",
      "actor": {
        "login": "Frank-GER",
        "id": 87550788,
        "node_id": "MDQ6VXNlcjg3NTUwNzg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/87550788?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Frank-GER",
        "html_url": "https://github.com/Frank-GER",
        "followers_url": "https://api.github.com/users/Frank-GER/followers",
        "following_url": "https://api.github.com/users/Frank-GER/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Frank-GER/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Frank-GER/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Frank-GER/subscriptions",
        "organizations_url": "https://api.github.com/users/Frank-GER/orgs",
        "repos_url": "https://api.github.com/users/Frank-GER/repos",
        "events_url": "https://api.github.com/users/Frank-GER/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Frank-GER/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "086142fb640370fb6dba7cb448aa1dce8d537a6c",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/086142fb640370fb6dba7cb448aa1dce8d537a6c",
      "created_at": "2023-09-08T17:08:37Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10331668099,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJn0L6D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10331668099",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T09:34:03Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10332412686,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJn3BsO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10332412686",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T10:40:59Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10335366983,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJoCS9H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10335366983",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T14:49:53Z"
    },
    {
      "event": "commented",
      "id": 1714056741,
      "node_id": "IC_kwDOABII585mKm4l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1714056741",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T14:55:35Z",
      "updated_at": "2023-09-11T14:55:35Z",
      "author_association": "MEMBER",
      "body": "I _think_ I've managed to address all the outstanding review comments, ready for another round of review!",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1714056741",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "commented",
      "id": 1714089168,
      "node_id": "IC_kwDOABII585mKuzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1714089168",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T15:12:16Z",
      "updated_at": "2023-09-11T15:12:16Z",
      "author_association": "MEMBER",
      "body": "> In order to build the index PR #28241 directly on top of this and, more importantly, have more complete coverage of BIP 352 here, it would be useful to move `SumInputPubKeys` and `HashOutpoints` from the send / receive PR's here. These define which types of inputs are considered and how outpoints must be sorted and hashed.\r\n> \r\n> (_update_: mmm, looking at the latest test vectors, maybe this functionality is already in here, just named differently)\r\n\r\nThis PR should have everything you need now. I've added a function `GetSilentPaymentTweakDataFromTxInputs`, which iterates over the transaction inputs, determines if they are eligible for silent payments and returns the sum of the input pubkeys, along with the hash of the tx outpoints.\r\n\r\nThe reason it returns the pubkey sum and outpoint hash separately is because if you are using this function to scan as a receiver, you want to calculate `outpoint_hash * scan_priv_key` first, and then do the ECDH step. If you're using this function to create an index, however, you'd want `sum_pubkeys * outpoint_hash` before storing it in the index.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1714089168",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10337033622,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJoIp2W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10337033622",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T17:26:55Z"
    },
    {
      "event": "labeled",
      "id": 10338189804,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJoNEHs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10338189804",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T19:30:04Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1620593539,
      "node_id": "PRR_kwDOABII585gmEuD",
      "url": null,
      "actor": null,
      "commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1620593539",
      "submitted_at": "2023-09-11T19:37:48Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1620720216,
      "node_id": "PRR_kwDOABII585gmjpY",
      "url": null,
      "actor": null,
      "commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1620720216",
      "submitted_at": "2023-09-11T19:47:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "commented",
      "id": 1714537476,
      "node_id": "IC_kwDOABII585mMcQE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1714537476",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T20:32:25Z",
      "updated_at": "2023-09-11T20:32:25Z",
      "author_association": "MEMBER",
      "body": "Currently, this PR is dangerous by itself as it will accept silent payment addresses for sending, but fail to actually send the coins to the correct script. It just uses an empty script. We should disallow sending to silent payment addresses in this PR, and enable it in the sending PR.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1714537476",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T20:39:26Z",
      "updated_at": "2023-09-11T20:39:26Z",
      "source": {
        "issue": {
          "id": 1891230257,
          "node_id": "PR_kwDOABII585aD7yV",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28453",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28453/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28453/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28453/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28453",
          "number": 28453,
          "state": "open",
          "state_reason": null,
          "title": "wallet: Receive silent payment transactions",
          "body": "This PR implements receiving silent payment transactions through the use of a new `ScriptPubKeyMan` type: `SilentPaymentsSPKM`. This is a descriptor wallet only feature, although it does not use descriptors.\r\n\r\nThis is an optional feature, so the only way to use it is to create a new wallet with `createwallet` with `silent_payments=true`. Such wallets will have a single `SilentPaymentsSPKM` that is used for both receiving and change. Since silent payments only have a single address, repeated calls to `getnewaddress` and `getrawchangeaddress` always return the same address, however the receiving and change addresses are different, see the BIP for how the change is generated.\r\n\r\nSince silent payments requires the spent coins in order to extract public keys from them, `TransactionAddedToMempool` is modified to also provide that information. For scanning blocks, the wallet will retrieve that information from the undo data. Additionally, when rescanning, a silent payments wallet must use the slow rescan method.\r\n\r\nThe labels feature has not been fully implemented yet and is left for a followup.\r\n\r\nBased on #28122 and #28201 \r\n\r\nAlternative to #28202",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28453",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28453",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28453.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28453.patch"
          },
          "created_at": "2023-09-11T20:39:25Z",
          "updated_at": "2023-10-04T16:45:14Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1620850719,
      "node_id": "PRR_kwDOABII585gnDgf",
      "url": null,
      "actor": null,
      "commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1620850719",
      "submitted_at": "2023-09-11T22:01:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10341658709,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJoaTBV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10341658709",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T05:23:47Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10343466791,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJohMcn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343466791",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T08:36:26Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10343626552,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJohzc4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343626552",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T08:48:04Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10343851968,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJoiqfA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343851968",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T08:59:37Z"
    },
    {
      "event": "commented",
      "id": 1715316326,
      "node_id": "IC_kwDOABII585mPaZm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1715316326",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:10Z",
      "updated_at": "2023-09-12T09:06:10Z",
      "author_association": "MEMBER",
      "body": "`git range-diff 0cf23d0...d053c3a`\r\n\r\nAddressed review comments from @theStack and @achow101 and added a commit to disable sending to silent payment addresses, while still allowing the functions to be used in the unit tests.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1715316326",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 10343940042,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAJoi__K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343940042",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:10Z"
    },
    {
      "event": "subscribed",
      "id": 10343940074,
      "node_id": "SE_lADOABII585sQXuIzwAAAAJoi__q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343940074",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:10Z"
    },
    {
      "event": "mentioned",
      "id": 10343940110,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAJojAAO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343940110",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:10Z"
    },
    {
      "event": "subscribed",
      "id": 10343940128,
      "node_id": "SE_lADOABII585sQXuIzwAAAAJojAAg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343940128",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:10Z"
    },
    {
      "event": "commented",
      "id": 1715317436,
      "node_id": "IC_kwDOABII585mPaq8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1715317436",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:47Z",
      "updated_at": "2023-09-12T09:06:47Z",
      "author_association": "MEMBER",
      "body": "> Currently, this PR is dangerous by itself as it will accept silent payment addresses for sending, but fail to actually send the coins to the correct script. It just uses an empty script. We should disallow sending to silent payment addresses in this PR, and enable it in the sending PR.\r\n\r\nFixed in https://github.com/bitcoin/bitcoin/pull/28122/commits/d053c3af90324df4fddc57c8301fcf414019d726",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1715317436",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "commented",
      "id": 1715320277,
      "node_id": "IC_kwDOABII585mPbXV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1715320277",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:08:33Z",
      "updated_at": "2023-09-12T09:08:33Z",
      "author_association": "MEMBER",
      "body": "Next step: add documentation for the new functions, requested in https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321966435",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1715320277",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 10345219905,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJon4dB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10345219905",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T10:50:39Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10349630716,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJo4tT8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10349630716",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T17:27:48Z"
    },
    {
      "event": "reviewed",
      "id": 1622885912,
      "node_id": "PRR_kwDOABII585gu0YY",
      "url": null,
      "actor": null,
      "commit_id": "93ff4ce117d4b85128dd55630d2dc9f8efbfb473",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1622885912",
      "submitted_at": "2023-09-12T18:29:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "labeled",
      "id": 10351752918,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJpAzbW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10351752918",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T21:16:01Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10357474274,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJpWoPi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10357474274",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-13T09:54:11Z"
    },
    {
      "event": "commented",
      "id": 1717319548,
      "node_id": "IC_kwDOABII585mXDd8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1717319548",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-13T09:56:36Z",
      "updated_at": "2023-09-13T09:56:36Z",
      "author_association": "MEMBER",
      "body": "`git range-diff  c9dff7e...5829940` changes `/*compressed=*/` to `/*fCompressedIn=*/` to fix a tidy warning",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1717319548",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 10358496755,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJpah3z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10358496755",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-13T11:37:31Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10373026588,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJqR9Mc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10373026588",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T14:20:33Z"
    },
    {
      "event": "commented",
      "id": 1719658636,
      "node_id": "IC_kwDOABII585mf-iM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1719658636",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T15:18:19Z",
      "updated_at": "2023-09-14T15:18:19Z",
      "author_association": "MEMBER",
      "body": "Pulled in support for scanning with labels (h/t @achow101) and updated the unit tests. Major changes:\r\n\r\n* Add new functions for generating a change label and labeled silent payments address, per BIP352\r\n* Update `GetTxOutputTweaks` to scan with labels\r\n* Refactor `CPubKey` to get rid of `Combine` in favor of `operator+`\r\n\r\nReady for another round of review!",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1719658636",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 10373754365,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAJqUu39",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10373754365",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T15:18:20Z"
    },
    {
      "event": "subscribed",
      "id": 10373754392,
      "node_id": "SE_lADOABII585sQXuIzwAAAAJqUu4Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10373754392",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T15:18:20Z"
    },
    {
      "event": "labeled",
      "id": 10385236623,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJrAiKP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10385236623",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-15T16:05:47Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 10413901652,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJst4dU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10413901652",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-19T18:10:32Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10421134949,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJtJeZl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10421134949",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T10:12:07Z"
    },
    {
      "event": "unlabeled",
      "id": 10421677974,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJtLi-W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10421677974",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T10:59:00Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 10422118940,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJtNOoc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10422118940",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T11:45:08Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T13:35:28Z",
      "updated_at": "2023-09-20T13:35:28Z",
      "source": {
        "issue": {
          "id": 217385623,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MTEyODQ2NDMx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10102",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10102/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10102/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10102/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/10102",
          "number": 10102,
          "state": "open",
          "state_reason": null,
          "title": "Multiprocess bitcoin",
          "body": "**This is a draft PR because it is based on #28921 and #28929.** The non-base commits are:\r\n\r\n- [`eb9c1ce439fb` Increase feature_block.py and feature_taproot.py timeouts](https://github.com/bitcoin/bitcoin/pull/10102/commits/eb9c1ce439fb7e0f45d54b09eab6211aff92edae)\r\n- [`8800fd32f075` Add util::Result workaround to be compatible with libmultiprocess](https://github.com/bitcoin/bitcoin/pull/10102/commits/8800fd32f07555ae52b7981ac93743b790773ef5)\r\n- [`ba8dfc47a4e3` Add capnp serialization code for bitcoin types](https://github.com/bitcoin/bitcoin/pull/10102/commits/ba8dfc47a4e355b503cdcc5fed8881c8911865b3)\r\n- [`567c852d0413` Add capnp wrapper for Handler interface](https://github.com/bitcoin/bitcoin/pull/10102/commits/567c852d04137950e1479161368d5ce6ce46a0d5)\r\n- [`54e86c742024` Add capnp wrapper for Chain interface](https://github.com/bitcoin/bitcoin/pull/10102/commits/54e86c7420241e234e8cc435d45a044fe98d7530)\r\n- [`9a9fe92b9439` Add capnp wrapper for Wallet interface](https://github.com/bitcoin/bitcoin/pull/10102/commits/9a9fe92b943966c12c7ad29efea80f5eade981f1)\r\n- [`06830957b7e4` Add capnp wrapper for Node interface](https://github.com/bitcoin/bitcoin/pull/10102/commits/06830957b7e42b32cb2755bd0ff37f229e180776)\r\n- [`69a35c63acd3` Make bitcoin-gui spawn a bitcoin-node process](https://github.com/bitcoin/bitcoin/pull/10102/commits/69a35c63acd35adb0f014118c89f98145535b5c6)\r\n- [`a2de9e1074da` Make bitcoin-node spawn a bitcoin-wallet process](https://github.com/bitcoin/bitcoin/pull/10102/commits/a2de9e1074dacd3bf02bc14e5ee184f19a02c92f)\r\n- [`16522411afe3` multiprocess: Add debug.log .wallet/.gui suffixes](https://github.com/bitcoin/bitcoin/pull/10102/commits/16522411afe3baca5a9834d6224ecad8c7299a04)\r\n- [`499f35b3fac8` doc: Multiprocess misc doc and comment updates](https://github.com/bitcoin/bitcoin/pull/10102/commits/499f35b3fac8e228e29148b4b8f5504fd9b5a0a0)\r\n- [`7ba123f1b47a` combine_logs: Handle multiprocess wallet log files](https://github.com/bitcoin/bitcoin/pull/10102/commits/7ba123f1b47a4a790370c9a5975b1e0b4026a241)\r\n\r\n---\r\n\r\nThis PR adds an `--enable-multiprocess` configure option which builds new `bitcoin-node`, `bitcoin-wallet`, and `bitcoin-gui` executables with relevant functionality isolated into different processes. See [doc/design/multiprocess.md](https://github.com/ryanofsky/bitcoin/tree/pr/ipc/doc/design/multiprocess.md) for usage details and future plans.\r\n\r\nThe change is implemented by adding a new [`Init`](https://github.com/ryanofsky/bitcoin/blob/pr/ipc/src/interfaces/init.h) interface that spawns new wallet and node subprocesses that can be controlled over a [socketpair](http://man7.org/linux/man-pages/man2/socketpair.2.html) by calling [`Node`](https://github.com/ryanofsky/bitcoin/blob/pr/ipc/src/interfaces/node.h), [`Wallet`](https://github.com/ryanofsky/bitcoin/blob/pr/ipc/src/interfaces/wallet.h), and [`ChainClient`](https://github.com/ryanofsky/bitcoin/blob/pr/ipc/src/interfaces/chain.h) methods. When running with split processes, you can see the IPC messages going back and forth in `-debug=1` output. Followup PR's #19460 and #19461 add `-ipcbind` and `-ipcconnect` options that allow more flexibility in how processes are connected.\r\n\r\nThe IPC protocol used is Cap'n Proto, but this could be swapped out for another protocol. Cap'n Proto types and libraries are only accessed in the [src/ipc/capnp/](https://github.com/ryanofsky/bitcoin/tree/pr/ipc/src/ipc/capnp) directory, and not in any public headers or other parts of bitcoin code.\r\n\r\nSlides from a presentation describing this change are available on [google drive](https://docs.google.com/presentation/d/1AeJ-7gD-dItUgs5yH-HoEzLvXaEWe_2ZiGUUxYIXcws/edit). Demo code used in the presentation was from an older version this PR (tag [ipc.21](https://github.com/ryanofsky/bitcoin/releases/tag/pr%2Fipc.21), [commits](https://github.com/ryanofsky/bitcoin/compare/master...pr/ipc.21)).\r\n\r\n---\r\n\r\nThis PR is part of the [process separation project](https://github.com/bitcoin/bitcoin/issues/28722).\r\n",
          "user": {
            "login": "ryanofsky",
            "id": 7133040,
            "node_id": "MDQ6VXNlcjcxMzMwNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ryanofsky",
            "html_url": "https://github.com/ryanofsky",
            "followers_url": "https://api.github.com/users/ryanofsky/followers",
            "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
            "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
            "repos_url": "https://api.github.com/users/ryanofsky/repos",
            "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135946,
              "node_id": "MDU6TGFiZWwxMzU5NDY=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI",
              "name": "GUI",
              "color": "02d7e1",
              "default": false
            },
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 83,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10102",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/10102",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/10102.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/10102.patch"
          },
          "created_at": "2017-03-27T21:48:26Z",
          "updated_at": "2023-11-24T19:35:48Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10437213729,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJuGz4h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10437213729",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T15:22:22Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10437620849,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJuIXRx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10437620849",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T15:58:32Z"
    },
    {
      "event": "labeled",
      "id": 10437622013,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJuIXj9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10437622013",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T15:58:39Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 10438743198,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJuMpSe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10438743198",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T17:56:23Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-26T12:00:00Z",
      "updated_at": "2023-09-26T12:00:00Z",
      "source": {
        "issue": {
          "id": 1913356976,
          "node_id": "I_kwDOABII585yC4Kw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28536",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28536/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28536/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28536/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/28536",
          "number": 28536,
          "state": "open",
          "state_reason": null,
          "title": "BIP352 tracking issue",
          "body": "This issue will be updated to reflect the current state of [BIP352](https://github.com/bitcoin/bips/pull/1458) integration.\r\n\r\nPRs ready for review:\r\n\r\n* https://github.com/bitcoin/bips/pull/1458\r\n* https://github.com/bitcoin/bitcoin/pull/28122\r\n* https://github.com/bitcoin/bitcoin/pull/25273\r\n\r\nTesting:\r\n* For a wallet with send and receive support, compile https://github.com/bitcoin/bitcoin/pull/28453\r\n* Post your signet / testnet silent payment address in the comments!\r\n\r\nOverall plan:\r\n\r\n* Send and receive support in the Bitcoin Core wallet:\r\n  - [x] Code cleanup / refactor: https://github.com/bitcoin/bitcoin/pull/28244\r\n  - [x] Dependency: https://github.com/bitcoin/bitcoin/pull/28246\r\n  - [ ] Dependency: https://github.com/bitcoin/bitcoin/pull/25273\r\n  - [ ] Dependency: https://github.com/bitcoin/bitcoin/pull/28560\r\n  - [ ] Base protocol: https://github.com/bitcoin/bitcoin/pull/28122\r\n  - [ ] Sending (depends on 28122, 25273, 28560): https://github.com/bitcoin/bitcoin/pull/28201\r\n  - [ ] Receiving (depends on 28122, 28201): https://github.com/bitcoin/bitcoin/pull/28453\r\n  - [ ] Send and receive functional tests (depends on 28453) (not started)\r\n\r\n* Light client support:\r\n  - [ ] Index for silent payment tweaks (depends on 28122): https://github.com/bitcoin/bitcoin/pull/28241\r\n  - [ ] New BIP157 filter type for tweak data (not started)\r\n  - [ ] Serve new filter type (not started)\r\n\r\n* Long-term\r\n  - [ ] Move base protocol to `libsecp` as a module (Discussion): https://github.com/bitcoin-core/secp256k1/issues/1427\r\n  - [ ] Refactor Core to use silent payments `libsecp` module directly (not started)\r\n\r\n<details>\r\n  <summary>Older stuff</summary>\r\n\r\n\r\n  <ul>\r\n  <li>Closed / Superseded:\r\n     <ul>\r\n     <li>Tracking PR (superseded by this issue): #27827</li>\r\n     <li>Receiving (superseded by 28453): #28202</li>\r\n      <li>Original draft implementation: #24897</li>\r\n      </ul>\r\n  </li>\r\n  </ul>\r\n</details>\r\n",
          "user": {
            "login": "josibake",
            "id": 7444140,
            "node_id": "MDQ6VXNlcjc0NDQxNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/josibake",
            "html_url": "https://github.com/josibake",
            "followers_url": "https://api.github.com/users/josibake/followers",
            "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
            "organizations_url": "https://api.github.com/users/josibake/orgs",
            "repos_url": "https://api.github.com/users/josibake/repos",
            "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/josibake/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            },
            {
              "id": 149424,
              "node_id": "MDU6TGFiZWwxNDk0MjQ=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
              "name": "Wallet",
              "color": "08a781",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 5,
          "created_at": "2023-09-26T11:59:59Z",
          "updated_at": "2023-10-02T17:37:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1738728491,
      "node_id": "IC_kwDOABII585nouQr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1738728491",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T08:45:25Z",
      "updated_at": "2023-09-28T08:46:02Z",
      "author_association": "MEMBER",
      "body": "@josibake can you add the following helper functions?\r\n\r\n- [ ] `CouldBeSilentPayment(CTransactionRef tx)`: checks that it's not a coinbase and that at least one of the outputs is taproot\r\nSee https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1331881346\r\n- [ ] `bool GetSilentPaymentsTweakedPubKeySum(std::vector<CTxIn>, std::map<COutPoint, Coin>, CPubKey& tweaked_key) nodiscard` (with clear documentation on what to do when it returns `false`). Although relatively straight-forward, my current index implementation does look a bit brittle, and I'm not sure how to handle failure cases: https://github.com/bitcoin/bitcoin/pull/28241/files#diff-708eeba963ec57793dbec2309d27f32869d4ccefa14fbeb575d3a1e36e5e1a03R74-R85  \r\n\r\nMaybe also make a type alias for `std::map<COutPoint, Coin>`",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1738728491",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 10496356819,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAJxobHT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10496356819",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T08:45:26Z"
    },
    {
      "event": "subscribed",
      "id": 10496356832,
      "node_id": "SE_lADOABII585sQXuIzwAAAAJxobHg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10496356832",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T08:45:26Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY1NjIxZTExYmVhYjM0YzQ2ZDBiODI1ZTYwNDhkYzA2NWE4NTZjNTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/65621e11beab34c46d0b825e6048dc065a856c53",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/65621e11beab34c46d0b825e6048dc065a856c53",
      "tree": {
        "sha": "c3fb823e390d6dbc3bf4b4be455f2c577dfad56e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c3fb823e390d6dbc3bf4b4be455f2c577dfad56e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c3fb823e390d6dbc3bf4b4be455f2c577dfad56e\nparent e7b0004b375be25096fbaf3d5f6980095a90fc0c\nauthor w0xlt <woltx@protonmail.com> 1665719290 -0300\ncommitter josibake <josibake@protonmail.com> 1696321032 +0200\n\nconf: add EDCH module\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmUbzggACgkQity1WMTz\nPWWP+A//YAxfjIGECPI/7tTm/bqIpqbWgxjfRKEB4nhWm0UIgQ3oOn2ZiPvBXLuY\n3xHGj/+byd6JHOWFcsgLOwKv6hZcqc484vNnKJusrrF4gUh134K1eSP/+BHbqJbo\nUosOqvGrr53g/Y/tWKtzeKJdWTxUejaMekuvSv1hmEN5Hlh0Fs+7kdtsR8aW9YvI\n0qDvjkgZC/Wr59c0GIEw7ZhYH7xaE63scSmp1rBd6vnA6MgFIwsFlPZJCCHOyXiA\n7aELzj8Q+xumB5qhjUEY+/gHhpmvXBXvaG1YKiRcUIMQ+tINPhHO+rvStM25dcUk\n85MuMXaH/xW8CMAuCzHKueqMKVy6I0toonjdd1n/XgNgZh0WsELerTAAp+ORa6bT\nZOZks0S1AdJg2h48K2Dc9NH4cH2oxUf6QAuQ0h5FGi0cqLJM9w3NSA6zkur9PSKo\nT50U3/MMLiiQtFfPDRtT8jDwbaF8foasoXpZ2nURdG8BvaVx1fW35h43aYN9aMa5\nubGZEmYaxizA0hLGVQIf5p8OEgyH2hPohffeuGI3S6couuS52w5FQDl/n5qKn3TG\no53fB5q3aarPeDkvYIc9hQ0/GfCbWBJhsXj9UjVE10JEgKG1lUJm9LOlBx5ord2a\nrOkxnwLqH8Vzrp71mPMO15y0lG3NibmR2yHJcLC9Rr1A72YTGEc=\n=oteD\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e7b0004b375be25096fbaf3d5f6980095a90fc0c",
          "sha": "e7b0004b375be25096fbaf3d5f6980095a90fc0c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e7b0004b375be25096fbaf3d5f6980095a90fc0c"
        }
      ],
      "message": "conf: add EDCH module",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-10-03T08:17:12Z"
      },
      "author": {
        "name": "w0xlt",
        "email": "woltx@protonmail.com",
        "date": "2022-10-14T03:48:10Z"
      },
      "sha": "65621e11beab34c46d0b825e6048dc065a856c53"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMyOTg4MzM5MGU4YzE1NGRiZGQ0MTE0NTFkOWFmODVjYjY3Y2FlNTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c29883390e8c154dbdd411451d9af85cb67cae55",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c29883390e8c154dbdd411451d9af85cb67cae55",
      "tree": {
        "sha": "af6389a0a33ad043f4b246ac75df7af514a10b3c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/af6389a0a33ad043f4b246ac75df7af514a10b3c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree af6389a0a33ad043f4b246ac75df7af514a10b3c\nparent 65621e11beab34c46d0b825e6048dc065a856c53\nauthor w0xlt <woltx@protonmail.com> 1665672556 -0300\ncommitter josibake <josibake@protonmail.com> 1696324136 +0200\n\ncrypto: update CKey, CPubkey for silent payments\n\n* Add methods tweaking a CKey by adding a scalar value or by multiplying\n* Add a method for adding two CPubKeys\n* Add a method for doing ECDH with a CPubKey and scalar\n* Add a method for converting a BIP340 pubkey to a compressed pubkey\n* Add BIP341 NUMS point H\n\nThese are the CKey,CPubkey primitives we need to implement\nthe silent payments protocol.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIyBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmUb2i4ACgkQity1WMTz\nPWVNEg/4rUd2b+D6R6PBGDqgv0A8OErv3BjYNUMb3ftYEdXg1R+asXIvN4ec6t1S\nrV/9gIClV6usxAPAccjBBdVsG+SOEBNiDA7yR3JgddIPVuvSbueHQ1eqgi3WzOTZ\nVKjW71x5EEKfdKZJsGEhLuoSt0Eqkq8MzBOdermCEJexB46AMeopiymhbHZx8mz7\n+QHAfa7oGanEdZN2WKyzsWi9CNkhNlbJGQbHKOVfYfCglf3N5SyXW8rvIeDwO0GD\nYD8qzoBsG1bHrMqoyWT1dQGX4rRLiy/e2ltWrbNY9CksoQst4A01F/+o9cuaTybo\nBZga56uPCJozCRutfLY5Bc8+qywh6YCT7Q+DRrTWY73jtCkKLzyQ3MbXyjd4QqmE\nZxhRQtz0HIID2Jfrn/l5XqSITZqKT2ZxfKJcvVZLgSLbm8BRZihGg8QMBBx5UiL9\nJAZqZlgFca3+4F+ca+YSLjKhljzmTDRQDLkVHAvTv9d3TDuUreV2BEtUiigR1hky\nuEj/E9edovO7nSyLfxaOMZGje3PX8pgjjRDINBFMUH2Xns7o9VZvkmv8/7ZKYv1O\nbfGibNo/ZfcYNhUqw6bbN3YsZXZCDm1ZtIGzZ0YAJDhNQB5mCI72PbCwphBH4i6j\nWN3PQbGxpPvX42Q6laz3UySJtirYlBjT5/gOs9hF3PAN92yAXQ==\n=Xyoz\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/65621e11beab34c46d0b825e6048dc065a856c53",
          "sha": "65621e11beab34c46d0b825e6048dc065a856c53",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/65621e11beab34c46d0b825e6048dc065a856c53"
        }
      ],
      "message": "crypto: update CKey, CPubkey for silent payments\n\n* Add methods tweaking a CKey by adding a scalar value or by multiplying\n* Add a method for adding two CPubKeys\n* Add a method for doing ECDH with a CPubKey and scalar\n* Add a method for converting a BIP340 pubkey to a compressed pubkey\n* Add BIP341 NUMS point H\n\nThese are the CKey,CPubkey primitives we need to implement\nthe silent payments protocol.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-10-03T09:08:56Z"
      },
      "author": {
        "name": "w0xlt",
        "email": "woltx@protonmail.com",
        "date": "2022-10-13T14:49:16Z"
      },
      "sha": "c29883390e8c154dbdd411451d9af85cb67cae55"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFkNGI3YjE4MmYwMjExMGExZWUwM2QwNWRlNTI3ZTEzMDljNDY4NmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ad4b7b182f02110a1ee03d05de527e1309c4686f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ad4b7b182f02110a1ee03d05de527e1309c4686f",
      "tree": {
        "sha": "6ed17d4999c9cbd0b69f95e0b5deea330215447a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6ed17d4999c9cbd0b69f95e0b5deea330215447a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6ed17d4999c9cbd0b69f95e0b5deea330215447a\nparent c29883390e8c154dbdd411451d9af85cb67cae55\nauthor josibake <josibake@protonmail.com> 1689711746 +0200\ncommitter josibake <josibake@protonmail.com> 1696324143 +0200\n\nIncrease the Bech32m limit if decoding SP address\n\nBech32m imposes a 90 character limit when decoding strings. Since a\nsilent payment address is the concatenation of two public keys, raise\nthis limit to 1024 when decoding a silent payment address.\n\nThe new limit is much higher than needed to account for forward\ncompatibility: new silent payment versions may add new data to the data\npart of the address.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmUb2i8ACgkQity1WMTz\nPWVmKRAAyHTUSOgcX1eKCSZmANmfx5uoB6pIAWAGO0yFc3T28hTYSmdk2ytvdY5f\nPIx8MTg3NR3kNT/50Y1tnm2CgAuQa+l+ySXWY5yjVHPa9/Ae5AWhvlM51/ssKxXw\nb+xTIXi9hOGV9QEazqOUAqkgGzM84/q5aVFNmjgbSzFjh3keZcJx1ryKUkKEizCL\ngWCz7rma65Hm16BCAlpmUg2TSi3X0hNsJEM/Tml/5uAqflIw5uWny25xpaNQHniy\nNv9MC+81tOmELv9a00P78eftJ5LCYR1Z/fjLz1OKMn4tTm7zgjRZmObpp7rlxviR\nlBQ3GH+xXU6BO99PmuY8TPcRVVq+iFqAaEI+jNMw/aul34MfbRg7C318+enNX+uR\njrCAZWjnnxRkzim5bxAogZ3MvTQZy5zlc5G+HVfn+zdgOFZtT5xOXtzV0xPXOXOq\ni5TyZx8QUu2lXPY+ClU1RgeFSkdek2I+ecIH+5+6owuOCeVaQRPrXBNt/0cqpaPt\nfrg4tFAEKzS+aedL0ZQjwmZjvu9VpvF1khMr5q94DcEIc5bkVT1tLABO/NeZ9n9Q\nErqRBBG9FU1K+dJ7ekrIwZ5pLppILNUeAt3uVvOoEcKHqNUvcy2tEaddalg0o30u\neurxKxegEUr2BV8ZwA+e+sG/3qybVHu+FbF3Xb0GNG5Z97HnaHc=\n=D+Xp\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c29883390e8c154dbdd411451d9af85cb67cae55",
          "sha": "c29883390e8c154dbdd411451d9af85cb67cae55",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c29883390e8c154dbdd411451d9af85cb67cae55"
        }
      ],
      "message": "Increase the Bech32m limit if decoding SP address\n\nBech32m imposes a 90 character limit when decoding strings. Since a\nsilent payment address is the concatenation of two public keys, raise\nthis limit to 1024 when decoding a silent payment address.\n\nThe new limit is much higher than needed to account for forward\ncompatibility: new silent payment versions may add new data to the data\npart of the address.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-10-03T09:09:03Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-07-18T20:22:26Z"
      },
      "sha": "ad4b7b182f02110a1ee03d05de527e1309c4686f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDNjN2E1YjcwNjlmMjllNDZkNjZiMzViZjRkOWE0M2U1YmRjZDU4ODM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3c7a5b7069f29e46d66b35bf4d9a43e5bdcd5883",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3c7a5b7069f29e46d66b35bf4d9a43e5bdcd5883",
      "tree": {
        "sha": "6becddbe4ad82af418565a61ea6af7ef9c5d23e3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6becddbe4ad82af418565a61ea6af7ef9c5d23e3"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6becddbe4ad82af418565a61ea6af7ef9c5d23e3\nparent ad4b7b182f02110a1ee03d05de527e1309c4686f\nauthor josibake <josibake@protonmail.com> 1689711791 +0200\ncommitter josibake <josibake@protonmail.com> 1696324143 +0200\n\nAdd \"sp\" HRP\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmUb2i8ACgkQity1WMTz\nPWXbLxAA0vpU9TlfPlCRKNy4Q/UwuT5MW44Q8gfruEfxC6Yr0YYJO21QN0yRUTe+\nW9PoDYtrfHJGmDatzrkphXh1cIfHzcgrCu2FdYDBGVhDePGdaY2STemCuotvTqmv\nYNNYHpdtPJqUp9Oeee6ZOHFnN4m6zQl746xglOxZsPUun5XCiSUFkS450jVmdZqP\nsm/NLmOxN1ZmoU2q8hFsu/XJhkukZtfmDLUstER7XHgGPkzsGcWIyDrKqyLklod3\n6HglqhoSr+JdpEk8MFYV91dY652vRuKWlkeUosE6IgQdLJ0y4Z85RBQHrqdqxaB8\n8Ayaz4kW/8aK34GyKrDsi2We0yq/KVpzruMfTVYhmb72U2gMLDfN2AT+163EL5bD\nDSisennY/AAD4NQJxa9EaBhWeT53K1EOloPat0AXXFrSfLd4s+VaO5Aw/hUgnlut\nWwu/lGJl+ScoMU4KFV83MB3GsC+nhCoJGeydqdJUWypdu4pYKujN0NjlsJFJSoi1\n3A5IwGizdKxTEQS2wUveiuY31IXRTmE38NN2bRSyHO28AqeB7IJ87BoqmQo09Fw6\nrK20NVn8NWBuS1XQBC97K60AYIQY9AgzypRTaKykilrFWN8jXIJdTjxNf3SwMHWi\nPHEzh9dDExLLDjaiFK/lqdL8ZIvxtDrLTY1ThYgV+CL4ss/fm5c=\n=l1/0\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ad4b7b182f02110a1ee03d05de527e1309c4686f",
          "sha": "ad4b7b182f02110a1ee03d05de527e1309c4686f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ad4b7b182f02110a1ee03d05de527e1309c4686f"
        }
      ],
      "message": "Add \"sp\" HRP",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-10-03T09:09:03Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-07-18T20:23:11Z"
      },
      "sha": "3c7a5b7069f29e46d66b35bf4d9a43e5bdcd5883"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMxYTYzZTgwN2YyODQxMjBlNWU1ODhmZjhlZTc2Nzk1NjA3NmQ3N2U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c1a63e807f284120e5e588ff8ee767956076d77e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c1a63e807f284120e5e588ff8ee767956076d77e",
      "tree": {
        "sha": "9c7e6a9b26e2727aaf5ca9415cf5e55d6e873b87",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9c7e6a9b26e2727aaf5ca9415cf5e55d6e873b87"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9c7e6a9b26e2727aaf5ca9415cf5e55d6e873b87\nparent 3c7a5b7069f29e46d66b35bf4d9a43e5bdcd5883\nauthor josibake <josibake@protonmail.com> 1691675009 +0200\ncommitter josibake <josibake@protonmail.com> 1696324143 +0200\n\nAdd V0SilentPaymentDestination address type\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmUb2i8ACgkQity1WMTz\nPWWmSRAAqCZEJTOb3OKZW7hU6D0D6G0EuFxafzRrCMiFqjT/tGB8vpnceSs/RLIT\nL7Nh/mQBCXFYkFtEDMw879ZYTNBGlN/6C+asQt/1UvzJJcO1tKKnNSGaLrn9YLTO\nas3A+4/UOR19RXw/G4jeYcvF3vRK8QJ1zzsQQtXQKoAVEE2/0SkMUypyYs+xEUnb\nyw3NUXcY2FTz185xe6/Iyakuxr9/pUYZ2cg5K1b1106nuAglXTZaq7+lN0+oFwO0\n88I2qOF+cTYOBoQhgS4T5RtWjga2oAswjTuBu/wih4xg6rga/uuJaLlZiy/Y6XNv\na3mvauPKSsk3N3tUsnZYsMoxXtDvxEl+Hm1WfyCPtF/P65TShgAuCw5wg3BmOHgE\nCNyvIrSqMhVpFJqLo/2bdWbkkggSIm59GQa5qgeUTljaix0MUKI67QvOTkNpAwYl\nXultIWh6hCAURVIOD5eYq3ln8Vftcu7+XQMxlYXHVS4flgHM060O+5mYOQ9EgwQB\nwbzmXiQfeDMDUnBQsGOqaBA+YLR1NSyt/MPD0qWTn2fzZxdJXfZTMKxRCUQjrhTs\nESzJ7AvGpOSnlU623d1U3PQPi8z1Y0amyNgjUAKJCkg8Jz1Dmwl+ZGpqcMAHcJ2k\nLsMu3N2T+YeX3jEHlSF4L7wLPWtYUASCA2avK1OxkLwoOGy3X/Y=\n=JguU\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3c7a5b7069f29e46d66b35bf4d9a43e5bdcd5883",
          "sha": "3c7a5b7069f29e46d66b35bf4d9a43e5bdcd5883",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3c7a5b7069f29e46d66b35bf4d9a43e5bdcd5883"
        }
      ],
      "message": "Add V0SilentPaymentDestination address type",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-10-03T09:09:03Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-08-10T13:43:29Z"
      },
      "sha": "c1a63e807f284120e5e588ff8ee767956076d77e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY5OTU3N2M5MTEwMWI0YmU1NmJmZmNlYzRmMGZhNDhmN2Q4OTE2ZjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/699577c91101b4be56bffcec4f0fa48f7d8916f0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/699577c91101b4be56bffcec4f0fa48f7d8916f0",
      "tree": {
        "sha": "294e48e08f68667d2d32db76415799f04db3eed4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/294e48e08f68667d2d32db76415799f04db3eed4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 294e48e08f68667d2d32db76415799f04db3eed4\nparent c1a63e807f284120e5e588ff8ee767956076d77e\nauthor josibake <josibake@protonmail.com> 1694696135 +0200\ncommitter josibake <josibake@protonmail.com> 1696324143 +0200\n\nImplement BIP352: Silent Payments\n\nImplement sending and receiving, per BIP352. This is done without\nrequiring a full wallet, in order to simplify unit testing and to create\na more clear boundary as to what pertains to the BIP and what is left to\nthe wallet to decided as an implementation.\n\nTo correctly hash the public keys, per the BIP, update the HashWriter.write\nmethod to accept a Span<unsigned char>. This allows us to easily pass a\npublic key in for hashing, where only the data from the public key is hashed.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmUb2i8ACgkQity1WMTz\nPWXbYxAAzgp6/PZs9UcdJvn8MqDuK2s1Hwdb1+HvwlfrD/UQebaG84cxD6e9mNqw\nOlFwYt6IwxUO8DdbuxnTluxp6xM/edUuobcYxnlQwZ/4ERhahmodJ4uSqOS9PH1C\nXIJxxCVUfFD/evSCh4wxIDydn7hWC5VbfyYxPHM3DPQSGIM0W+wrW+gMSEhmhuA+\n/nalHmCsokv7KHHB3Tb9UsKRXjgJbNUpurxmaWvZz4KQ4QdILijr/ZNzd7mZMEkE\nrF1bwTyXn44aavMfKTWnQly9C4Y0Zi26VvK4ul55LCNGEsAhO2ejW5Vz/LalBL2V\nQ0P2VCIRkaxfyAvVwSJrXQdaXqKrsjZq2TScouzFvnuW96ft3ty4g6jQ4AzilwCH\nZiAwiy2tPxTgdMUHwpwXNotN3//Lm228mykNzb0JmFgE/9ciQ7IJwHcJ6WLUjAAn\niiT8YENezhJEQYZYpzQPaJJSrptPzuN14p7yAXG306KwS9hbPDgcgl7lXXjl1zZJ\n4p47+ok2LeLnZQhBpbDEIxWxBdB8Tul5F0Yke1z8xA7n+uc/ohEeXoV0cgbjEFfB\nzmB1fFj+YxBh0HCsCN4QDBR0fwFrFqiWckfyJZTlOt3R3qIWcyVe0PeLPHfcBHKb\nFLN5POkn8RWLMW197pVgrygGoOYSW141/FBqzcKRqMzxo+T8WUA=\n=lb2f\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c1a63e807f284120e5e588ff8ee767956076d77e",
          "sha": "c1a63e807f284120e5e588ff8ee767956076d77e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c1a63e807f284120e5e588ff8ee767956076d77e"
        }
      ],
      "message": "Implement BIP352: Silent Payments\n\nImplement sending and receiving, per BIP352. This is done without\nrequiring a full wallet, in order to simplify unit testing and to create\na more clear boundary as to what pertains to the BIP and what is left to\nthe wallet to decided as an implementation.\n\nTo correctly hash the public keys, per the BIP, update the HashWriter.write\nmethod to accept a Span<unsigned char>. This allows us to easily pass a\npublic key in for hashing, where only the data from the public key is hashed.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-10-03T09:09:03Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-09-14T12:55:35Z"
      },
      "sha": "699577c91101b4be56bffcec4f0fa48f7d8916f0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY0YmNjMjNhMTE4NTgwZTA3MzAwOTFjMmY0YmEwYzJlOGU5YWZjODU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/64bcc23a118580e0730091c2f4ba0c2e8e9afc85",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/64bcc23a118580e0730091c2f4ba0c2e8e9afc85",
      "tree": {
        "sha": "f10d11f43a60295d69e063d6afc282be622843b1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f10d11f43a60295d69e063d6afc282be622843b1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f10d11f43a60295d69e063d6afc282be622843b1\nparent 699577c91101b4be56bffcec4f0fa48f7d8916f0\nauthor josibake <josibake@protonmail.com> 1689711546 +0200\ncommitter josibake <josibake@protonmail.com> 1696324143 +0200\n\nAdd BIP352 test vectors as unit tests\n\nUse the test vectors to test sending and receiving. A few cases are not\ncovered here, namely anything that requires testing specific to the\nwallet. For example:\n\n* Taproot script path spending is not tested, as that is better tested in\n  a wallets coin selection / signing logic\n* Re-computing outputs during RBF is not tested, as that is better\n  tested in a wallets RBF logic\n\nThe unit tests are written in such a way that adding new test cases is\nas easy as updating the JSON file.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmUb2i8ACgkQity1WMTz\nPWWzUxAAzsp0uqH82y+lgeGDMjfxWA4+wDM7Yl9K6vOvFfLjbRHLrCtvuKo74GwH\naxDo+vIDgp0tqVoA4VFdKLzii2hfONPjxFaJ7G4L+rN0kmr5U8bBfRFHUcbzFOs2\nC4BDHnKXNIfUvb+JmA9jKdeuOBgKnnod1G9zyOJG4rTAgKICSJElbm9Qcx50KEj3\nvimqftj2r3oEAYXyhWMACJHCAPXI+KqS7fq8FNyWuFEzL8JLwvb5pjPfxtCsv3Vm\nP7uFkgh+tPg5kkiyWtLiIvBUrfTdioJuKo55SJS/uZZrIVpR1kNU5dXXwOUAAegn\n6rlInRKl90gtJvbk//eiCuBk9fBz0C60IFvz1NxJUQL18BB8eG+8Fisvud3Q9eCG\n/8QE2XWxO2mMTu7HKKld0jMHxJkWew//5B7UBdP6FeU0JvZx/RwxeeMBhYPXZO9B\nq3uLLFX5XZ3zA3FEw0BgXYENzmZK1jI0SnU4U2T+ZBSXE2hWjYO84gmTaxQvQBv9\nMULGLwgKYUthAOSdST+LOppFKhTT3uZjkidhFYP7cLdXb7b9g9zkYw0yUufkdAG1\nHrLAbFR7HEuDspdpr8+UYqcEaR6kvB21XEHpAiisRq/LORoDm0tcBYnYDA8yHs/E\nCIeXk48XXOPEqKCeF0rY1kU4gsJIcbc4/cXDNCpmuE5sMoHr8KQ=\n=JyUF\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/699577c91101b4be56bffcec4f0fa48f7d8916f0",
          "sha": "699577c91101b4be56bffcec4f0fa48f7d8916f0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/699577c91101b4be56bffcec4f0fa48f7d8916f0"
        }
      ],
      "message": "Add BIP352 test vectors as unit tests\n\nUse the test vectors to test sending and receiving. A few cases are not\ncovered here, namely anything that requires testing specific to the\nwallet. For example:\n\n* Taproot script path spending is not tested, as that is better tested in\n  a wallets coin selection / signing logic\n* Re-computing outputs during RBF is not tested, as that is better\n  tested in a wallets RBF logic\n\nThe unit tests are written in such a way that adding new test cases is\nas easy as updating the JSON file.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-10-03T09:09:03Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-07-18T20:19:06Z"
      },
      "sha": "64bcc23a118580e0730091c2f4ba0c2e8e9afc85"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDMwYmJlYjM4MDQ3ZTAyMDkyNjA2NWE0MDdkNTE5NWI2ODQzNzc4NTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/30bbeb38047e020926065a407d5195b684377857",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/30bbeb38047e020926065a407d5195b684377857",
      "tree": {
        "sha": "daab642a60bb214b30dbc27f48285829057614b5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/daab642a60bb214b30dbc27f48285829057614b5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree daab642a60bb214b30dbc27f48285829057614b5\nparent 64bcc23a118580e0730091c2f4ba0c2e8e9afc85\nauthor josibake <josibake@protonmail.com> 1694507187 +0200\ncommitter josibake <josibake@protonmail.com> 1696324143 +0200\n\nwallet: disable sending to silent payment address\n\nHave `IsValidDestination` return false for silent payment destinations\nand set an error string when decoding a silent payment address.\n\nThis prevents anyone from sending to a silent payment address before\nsending is implemented in the wallet, but also allows the functions to\nbe used in the unit testing famework.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmUb2i8ACgkQity1WMTz\nPWXoqA/+IGskhhf5T7Qw5ELXjCaL8OXbIKBaXQCWZq84BzvcU/S9HAqucwmNNAMp\n9jQH2hkKu/R1DLmRAtsUNnMOhuScl0ySE9W0IksTgVEiJjGzDiitbG4tBzuO21Kp\n2zaz8V74Y0lcHGUjgX1pZQjFGQjZ62hfOTyQEJLGObFVuEIKHc7oPK1jBhRy1LBO\nvGWMcqr27bXKmU2Zln9Olmki0z4q2bDm3wm90zJ/fMgH/bogVeU1dz761C18Ijje\ng/HhMOfU87q+ioXk6MDqavNw8f3uqG7BjRpdpCuMDvA2f+0HZ+s2PeNUQsOwCtof\n+D/pxz+zVyEsDW9+vNdhy2yHgOBMwVyESoxUnjbDYdrY6NUd79i3QFIXDdSyEiSN\nG9RvVzcsVmV5v3A3OS2Ig0K6rSw84huKe30j+VwU6eUMgzAjF+n2IesQZYqTYqkn\ncIkbksb/O0KBZ9Ta49tbXdaBaIJnPvVEvcbX5OpkT14LJkg907w54XtAhYbjhmvd\nTugK1Tf3Sz1Mq0EO3MEN7DdLDPexeRuKBfIs6VEodUCX+TrcUvJ1Ci5QNr+zcVU3\n6H+G3HUBonJKU1ETIMs3F8+wiymEOowbSt5u7LGRrHpP20vzW5aqqXI1ZSDMt3vD\n/lBSFiqzjRVlQHmLHQKY+GM2Jr/1xhzr67lvaDvx1Jg1lHcvkZI=\n=fY+M\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/64bcc23a118580e0730091c2f4ba0c2e8e9afc85",
          "sha": "64bcc23a118580e0730091c2f4ba0c2e8e9afc85",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/64bcc23a118580e0730091c2f4ba0c2e8e9afc85"
        }
      ],
      "message": "wallet: disable sending to silent payment address\n\nHave `IsValidDestination` return false for silent payment destinations\nand set an error string when decoding a silent payment address.\n\nThis prevents anyone from sending to a silent payment address before\nsending is implemented in the wallet, but also allows the functions to\nbe used in the unit testing famework.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-10-03T09:09:03Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-09-12T08:26:27Z"
      },
      "sha": "30bbeb38047e020926065a407d5195b684377857"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10535580826,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJz-DSa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10535580826",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T09:11:30Z"
    },
    {
      "event": "commented",
      "id": 1744559255,
      "node_id": "IC_kwDOABII585n-9yX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1744559255",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T09:13:40Z",
      "updated_at": "2023-10-03T09:13:40Z",
      "author_association": "MEMBER",
      "body": "force-pushed to fix a silent merge conflict with #28500 ",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1744559255",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "reviewed",
      "id": 1668088009,
      "node_id": "PRR_kwDOABII585jbQDJ",
      "url": null,
      "actor": null,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1668088009",
      "submitted_at": "2023-10-10T15:16:22Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1687287831,
      "node_id": "PRR_kwDOABII585kkfgX",
      "url": null,
      "actor": null,
      "commit_id": "699577c91101b4be56bffcec4f0fa48f7d8916f0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1687287831",
      "submitted_at": "2023-10-19T10:20:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T02:47:02Z",
      "updated_at": "2023-10-24T02:47:02Z",
      "source": {
        "issue": {
          "id": 1958204865,
          "node_id": "PR_kwDOABII585dlfBo",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28710",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28710/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28710/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28710/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28710",
          "number": 28710,
          "state": "open",
          "state_reason": null,
          "title": "Remove the legacy wallet and BDB dependency",
          "body": "The final step of #20160.\r\n\r\nA bare minimum of legacy wallet code is kept in order to perform wallet migration. Migration of legacy wallets uses the independent BDB parser and a minimal `LegacyDataSPKM` that allows the legacy data to be loaded so that the migration can be completed.\r\n\r\nAll tests which tested legacy wallet behavior have been removed. The `--descriptors` and `--legacy-wallet` options are removed from the functional tests.\r\n\r\nBDB has been removed as a dependency and documentation have been updated to reflect that.\r\n\r\nDepends on #26596",
          "user": {
            "login": "achow101",
            "id": 3782274,
            "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/achow101",
            "html_url": "https://github.com/achow101",
            "followers_url": "https://api.github.com/users/achow101/followers",
            "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
            "organizations_url": "https://api.github.com/users/achow101/orgs",
            "repos_url": "https://api.github.com/users/achow101/repos",
            "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/achow101/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28710",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28710",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28710.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28710.patch"
          },
          "created_at": "2023-10-23T23:36:07Z",
          "updated_at": "2023-11-22T12:26:57Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-14T17:47:24Z",
      "updated_at": "2023-11-14T17:47:24Z",
      "source": {
        "issue": {
          "id": 1993161175,
          "node_id": "PR_kwDOABII585fbts1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28875",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28875/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28875/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28875/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28875",
          "number": 28875,
          "state": "open",
          "state_reason": null,
          "title": "build: Pass sanitize flags to instrument `libsecp256k1` code",
          "body": "This PR is a revived https://github.com/bitcoin/bitcoin/pull/27991 with an addressed [comment](https://github.com/bitcoin/bitcoin/pull/27991#discussion_r1252148488).\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/27990.\r\n\r\nMight be tested as follows:\r\n```\r\n$ ./autogen.sh && ./configure --enable-fuzz --with-sanitizers=fuzzer CC=clang-13 CXX=clang++-13\r\n$ make clean > /dev/null && make\r\n$ objdump --disassemble=secp256k1_xonly_pubkey_serialize src/test/fuzz/fuzz | grep __sanitizer_cov\r\n 1953bd0:\te8 bb c6 05 ff       \tcall   9b0290 <__sanitizer_cov_trace_const_cmp8>\r\n 1953d32:\te8 69 c4 05 ff       \tcall   9b01a0 <__sanitizer_cov_trace_pc_indir>\r\n 1953d58:\te8 43 c4 05 ff       \tcall   9b01a0 <__sanitizer_cov_trace_pc_indir>\r\n 1953d82:\te8 19 c4 05 ff       \tcall   9b01a0 <__sanitizer_cov_trace_pc_indir>\r\n```",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 5334691551,
              "node_id": "LA_kwDOABII588AAAABPfju3w",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
              "name": "CI failed",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28875",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28875",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28875.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28875.patch"
          },
          "created_at": "2023-11-14T16:59:21Z",
          "updated_at": "2023-11-15T11:13:04Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-15T00:43:30Z",
      "updated_at": "2023-11-15T00:43:30Z",
      "source": {
        "issue": {
          "id": 1993258292,
          "node_id": "PR_kwDOABII585fcC4v",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28876",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28876/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28876/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28876/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28876",
          "number": 28876,
          "state": "open",
          "state_reason": null,
          "title": "build: Fix LTO functionality",
          "body": "The current LTO functionality implementation has multiple issues:\r\n1. Duplicated `-flto` flags when linking.\r\n2. The `secp256k1` subtree code is built without LTO.\r\n3. In `AX_CHECK_LINK_FLAG` macro the wrong `CXXFLAG_WERROR` flag is used instead of the correct `LDFLAG_WERROR` one.\r\n\r\nThis PR fixes all of them.\r\n\r\nMight be verified as follows:\r\n```\r\n$ readelf -S src/secp256k1/src/libsecp256k1_la-secp256k1.o | grep .gnu.lto_ | wc -l\r\n274\r\n```\r\n\r\n---\r\n\r\nThe depends build system has similar issues that will be addressed in a separated PR.\r\n\r\nNoticed while porting this functionality to a new CMake-based build system.",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28876",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28876",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28876.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28876.patch"
          },
          "created_at": "2023-11-14T17:53:06Z",
          "updated_at": "2023-11-15T12:12:44Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 11060904076,
      "node_id": "LE_lADOABII585sQXuIzwAAAAKTSACM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11060904076",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-25T14:23:06Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271314036",
      "pull_request_review_id": 1542113471,
      "id": 1271314036,
      "node_id": "PRRC_kwDOABII585LxrZ0",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "6d11e3c435397dab960bc2b5e6cb5a2a1166b39b",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Didn't verify my theory in practice yet, but according to my calculations having a HRP of size 4 would exceed the current 117 character limit (see https://github.com/bitcoin/bips/pull/1458/files#r1271312933). I assume the regtest-HRP should just also be set to \"tsp\" here (as it's currently stated in the BIP)? Otherweise the limit has to be raised by one.\r\n\r\nFun fact: in #27827 the \"sprt\" HRP works, but this is because the pubkeys are encoded as x-only (see commit https://github.com/bitcoin/bitcoin/pull/27827/commits/3a0d081ee07f3c65220a45855c96bf35ac2643fd), i.e. the payload of the address is only 64 bytes instead of 66 bytes and hence the limit is not exceeded.",
      "created_at": "2023-07-22T16:10:19Z",
      "updated_at": "2023-07-22T16:10:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1271314036",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271314036"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 526,
      "original_line": 526,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271484187",
      "pull_request_review_id": 1542293714,
      "id": 1271484187,
      "node_id": "PRRC_kwDOABII585LyU8b",
      "diff_hunk": "@@ -0,0 +1,56 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENT_H\n+#define BITCOIN_WALLET_SILENTPAYMENT_H",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 2,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "1d75df2aaeb34bb3058294dd02559bd35e27ae37",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "c75d9de0683a91151eb4a508cb64a8937ca92 `s/PAYMENT_H/PAYMENTS_H/` in `ifndef/define/endif` or rename the files to `silentpayment.{h,cpp}`\r\n\r\n```bash\r\n$ test/lint/lint-include-guards.py \r\nsrc/wallet/silentpayments.h seems to be missing the expected include guard:\r\n  #ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\r\n  #define BITCOIN_WALLET_SILENTPAYMENTS_H\r\n  ...\r\n  #endif // BITCOIN_WALLET_SILENTPAYMENTS_H\r\n```\r\n",
      "created_at": "2023-07-23T17:27:50Z",
      "updated_at": "2023-07-23T17:27:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1271484187",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271484187"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274629530",
      "pull_request_review_id": 1547207752,
      "id": 1274629530,
      "node_id": "PRRC_kwDOABII585L-U2a",
      "diff_hunk": "@@ -0,0 +1,56 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENT_H\n+#define BITCOIN_WALLET_SILENTPAYMENT_H",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 2,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "1d75df2aaeb34bb3058294dd02559bd35e27ae37",
      "in_reply_to_id": 1271484187,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, thanks!",
      "created_at": "2023-07-26T09:11:40Z",
      "updated_at": "2023-07-26T09:11:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1274629530",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274629530"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275442463",
      "pull_request_review_id": 1548528898,
      "id": 1275442463,
      "node_id": "PRRC_kwDOABII585MBbUf",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "56882622faf469b6f948f79a69c3c8ddbde92ff8",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 56882622faf469b6f948f79a69c3c8ddbde92ff8 \"crypto: update CKey, CPubkey for silent payments\"\r\n\r\nWe shouldn't be copying secret data out of a secure structure into an insecure one. When `tweaked_seckey` is destroyed, the underlying data may still linger in memory and end up being read by something else.\r\n\r\nIf this function must return a new `CKey`, then it should instantiate it here and perform the operation on it's `data()` rather than doing this copy.\r\n\r\nHowever, I would prefer if this function mirrored the libsecp one where the tweaking occurs on and modified this `CKey` itself.",
      "created_at": "2023-07-26T20:16:57Z",
      "updated_at": "2023-07-26T20:21:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1275442463",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275442463"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 181,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 182,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275442608",
      "pull_request_review_id": 1548528898,
      "id": 1275442608,
      "node_id": "PRRC_kwDOABII585MBbWw",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "56882622faf469b6f948f79a69c3c8ddbde92ff8",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 56882622faf469b6f948f79a69c3c8ddbde92ff8 \"crypto: update CKey, CPubkey for silent payments\"\r\n\r\nSame data copying concerns as `AddTweak`.",
      "created_at": "2023-07-26T20:17:10Z",
      "updated_at": "2023-07-26T20:21:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1275442608",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275442608"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 197,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276883646",
      "pull_request_review_id": 1550940798,
      "id": 1276883646,
      "node_id": "PRRC_kwDOABII585MG7K-",
      "diff_hunk": "@@ -211,6 +211,12 @@ class CPubKey\n      */\n     static bool CheckLowS(const std::vector<unsigned char>& vchSig);\n \n+    //! Add a number of public keys together.\n+    static CPubKey Combine(std::vector<CPubKey> pubkeys);",
      "path": "src/pubkey.h",
      "position": null,
      "original_position": 5,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "56882622faf469b6f948f79a69c3c8ddbde92ff8\r\n```suggestion\r\n    static CPubKey Combine(const std::vector<CPubKey> &pubkeys);\r\n```",
      "created_at": "2023-07-27T22:33:46Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276883646",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276883646"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 215,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276885882",
      "pull_request_review_id": 1550940798,
      "id": 1276885882,
      "node_id": "PRRC_kwDOABII585MG7t6",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "65b2dec1e39ea4efb327457563d2b18d49b4bc4c: Use an initializer list for data members",
      "created_at": "2023-07-27T22:36:35Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276885882",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276885882"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 12,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 39,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276888369",
      "pull_request_review_id": 1550940798,
      "id": 1276888369,
      "node_id": "PRRC_kwDOABII585MG8Ux",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // The ECDH shared secret must be set before we start scanning\n+    assert(m_ecdh_pubkey.IsValid());\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<CKey> raw_tr_keys;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        std::pair<CKey, CPubKey> tweakResult = CreateOutput(output_index);",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 70,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "65b2dec1e39ea4efb327457563d2b18d49b4bc4c: Could use structured binding",
      "created_at": "2023-07-27T22:39:30Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276888369",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276888369"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 71,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276888579",
      "pull_request_review_id": 1550940798,
      "id": 1276888579,
      "node_id": "PRRC_kwDOABII585MG8YD",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // The ECDH shared secret must be set before we start scanning\n+    assert(m_ecdh_pubkey.IsValid());\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<CKey> raw_tr_keys;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        std::pair<CKey, CPubKey> tweakResult = CreateOutput(output_index);\n+        const CKey& silent_payment_priv_key = tweakResult.first;\n+        const XOnlyPubKey& silent_payment_pub_key = XOnlyPubKey{tweakResult.second};\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto outputPubKey) {\n+            if (silent_payment_pub_key == outputPubKey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                raw_tr_keys.emplace_back(silent_payment_priv_key);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return raw_tr_keys;\n+}\n+\n+Sender::Sender(const CKey& scalar_ecdh_input, const SilentPaymentRecipient& recipient)\n+{\n+    m_ecdh_pubkey = scalar_ecdh_input.SilentPaymentECDH(recipient.m_scan_pubkey);\n+    m_recipient = recipient;\n+}",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 92,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "65b2dec1e39ea4efb327457563d2b18d49b4bc4c: Could use an initializer list",
      "created_at": "2023-07-27T22:39:49Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276888579",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276888579"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 88,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 293,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276890488",
      "pull_request_review_id": 1550940798,
      "id": 1276890488,
      "node_id": "PRRC_kwDOABII585MG814",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // The ECDH shared secret must be set before we start scanning\n+    assert(m_ecdh_pubkey.IsValid());\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<CKey> raw_tr_keys;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        std::pair<CKey, CPubKey> tweakResult = CreateOutput(output_index);\n+        const CKey& silent_payment_priv_key = tweakResult.first;\n+        const XOnlyPubKey& silent_payment_pub_key = XOnlyPubKey{tweakResult.second};\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto outputPubKey) {\n+            if (silent_payment_pub_key == outputPubKey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                raw_tr_keys.emplace_back(silent_payment_priv_key);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return raw_tr_keys;\n+}\n+\n+Sender::Sender(const CKey& scalar_ecdh_input, const SilentPaymentRecipient& recipient)\n+{\n+    m_ecdh_pubkey = scalar_ecdh_input.SilentPaymentECDH(recipient.m_scan_pubkey);\n+    m_recipient = recipient;\n+}\n+\n+CPubKey Sender::CreateOutput(const CPubKey& spend_pubkey, const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+    return spend_pubkey.AddTweak(shared_secret.begin());\n+}\n+\n+std::vector<wallet::CRecipient> Sender::GenerateRecipientScriptPubKeys() const\n+{\n+    int n = 0;\n+    std::vector<wallet::CRecipient> spks;\n+    for (const auto& pair : m_recipient.m_outputs) {",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 109,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "65b2dec1e39ea4efb327457563d2b18d49b4bc4c: Could use structured binding\r\n```suggestion\r\n    for (const auto& [pubkey, amount]: m_recipient.m_outputs) {\r\n```",
      "created_at": "2023-07-27T22:42:12Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276890488",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276890488"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276891288",
      "pull_request_review_id": 1550940798,
      "id": 1276891288,
      "node_id": "PRRC_kwDOABII585MG9CY",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // The ECDH shared secret must be set before we start scanning\n+    assert(m_ecdh_pubkey.IsValid());\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<CKey> raw_tr_keys;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        std::pair<CKey, CPubKey> tweakResult = CreateOutput(output_index);\n+        const CKey& silent_payment_priv_key = tweakResult.first;\n+        const XOnlyPubKey& silent_payment_pub_key = XOnlyPubKey{tweakResult.second};\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto outputPubKey) {\n+            if (silent_payment_pub_key == outputPubKey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                raw_tr_keys.emplace_back(silent_payment_priv_key);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return raw_tr_keys;\n+}\n+\n+Sender::Sender(const CKey& scalar_ecdh_input, const SilentPaymentRecipient& recipient)\n+{\n+    m_ecdh_pubkey = scalar_ecdh_input.SilentPaymentECDH(recipient.m_scan_pubkey);\n+    m_recipient = recipient;\n+}\n+\n+CPubKey Sender::CreateOutput(const CPubKey& spend_pubkey, const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+    return spend_pubkey.AddTweak(shared_secret.begin());\n+}\n+\n+std::vector<wallet::CRecipient> Sender::GenerateRecipientScriptPubKeys() const\n+{\n+    int n = 0;\n+    std::vector<wallet::CRecipient> spks;\n+    for (const auto& pair : m_recipient.m_outputs) {\n+        XOnlyPubKey output_pubkey = XOnlyPubKey{CreateOutput(pair.first, n)};\n+        auto tap = WitnessV1Taproot(output_pubkey);\n+        CScript spk = GetScriptForDestination(tap);\n+        spks.push_back(wallet::CRecipient{spk, pair.second, false});\n+        n++;\n+    }\n+    return spks;\n+}\n+\n+CKey SumInputPrivKeys(const std::vector<std::pair<CKey, bool>>& sender_secret_keys)\n+{\n+    const auto& [seckey, is_taproot] = sender_secret_keys.at(0);\n+    CKey sum_seckey{seckey};\n+    if (is_taproot && sum_seckey.GetPubKey()[0] == 3) {\n+        sum_seckey.Negate();\n+    }\n+    if (sender_secret_keys.size() > 1) {\n+        for (size_t i = 1; i < sender_secret_keys.size(); i++) {\n+            const auto& [sender_seckey, sender_is_taproot] = sender_secret_keys.at(i);\n+            auto temp_key{sender_seckey};\n+            if (sender_is_taproot && sender_seckey.GetPubKey()[0] == 3) {\n+                temp_key.Negate();\n+            }\n+            sum_seckey = sum_seckey.AddTweak(temp_key.begin());\n+        }\n+    }\n+    return sum_seckey;\n+}\n+\n+CKey PrepareScalarECDHInput(const std::vector<std::pair<CKey, bool>>& sender_secret_keys, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    CKey sum_input_secret_keys = SumInputPrivKeys(sender_secret_keys);\n+    uint256 outpoints_hash = HashOutpoints(tx_outpoints);\n+    return sum_input_secret_keys.MultiplyTweak(outpoints_hash.begin());\n+}\n+\n+std::vector<SilentPaymentRecipient> GroupSilentPaymentAddresses(const std::vector<wallet::V0SilentPaymentDestination>& silent_payment_destinations)\n+{\n+    std::map<CPubKey, std::vector<std::pair<CPubKey, CAmount>>> recipient_groups;\n+    std::vector<SilentPaymentRecipient> recipients;\n+    for (const auto& destination : silent_payment_destinations) {\n+        recipient_groups[destination.m_scan_pubkey].emplace_back(destination.m_spend_pubkey, destination.m_amount);\n+    }\n+    for (const auto& pair : recipient_groups) {",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 153,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "65b2dec1e39ea4efb327457563d2b18d49b4bc4c: Could use structured binding",
      "created_at": "2023-07-27T22:43:13Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276891288",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276891288"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 153,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282093736",
      "pull_request_review_id": 1559306552,
      "id": 1282093736,
      "node_id": "PRRC_kwDOABII585MazKo",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "13e6c7b5444af103bb612cd503c50915d8d41015",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Can someone remind me wtf regtest has a different hrp than testnet and signet?\r\n\r\nIf each of the four had a different one, I’d get it, but why does regtest have a different one than the other two testing networks?\r\n\r\nUnless I’m forgetting about some good reason for that to be there, I might recommend that you just use `tsp` for all three",
      "created_at": "2023-08-02T15:43:51Z",
      "updated_at": "2023-08-02T16:46:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1282093736",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282093736"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 526,
      "original_line": 526,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282854035",
      "pull_request_review_id": 1560541351,
      "id": 1282854035,
      "node_id": "PRRC_kwDOABII585MdsyT",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "13e6c7b5444af103bb612cd503c50915d8d41015",
      "in_reply_to_id": 1282093736,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This issue has some helpful context: https://github.com/bitcoin/bitcoin/issues/12314#issuecomment-582600899\r\n\r\nTLDR; at the time regtest was created, it was assumed that using a separate HRP wouldn't cost anything.\r\n\r\n> If each of the four had a different one, I’d get it, but why does regtest have a different one than the other two testing networks?\r\n\r\nThis actually makes sense to me. Testnet and Signet are \"global\" networks, so everyone has to agree on the address format. Regtest is always used in a private context, and is specific to Bitcoin Core. Having a separate HRP helps differentiate the local vs networked usage IMO.\r\n\r\n> Unless I’m forgetting about some good reason for that to be there, I might recommend that you just use tsp for all three\r\n\r\nIf we decided to make the HRP for regtest throughout Bitcoin Core to be the same as signet and testnet, then I'm fine with this. What I don't want is for silent payment addresses to be a special case in the functional test framework.\r\n\r\n",
      "created_at": "2023-08-03T08:41:30Z",
      "updated_at": "2023-08-03T08:41:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1282854035",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282854035"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 526,
      "original_line": 526,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282961735",
      "pull_request_review_id": 1560714797,
      "id": 1282961735,
      "node_id": "PRRC_kwDOABII585MeHFH",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "6d11e3c435397dab960bc2b5e6cb5a2a1166b39b",
      "in_reply_to_id": 1271314036,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've updated the BIP to recommend upping the character limit to 1023, as having a limit of 117 would cause issues with forward compatibility with future silent payment addresses. I've also removed regtest from the BIP, as I don't think it's correct to define Bitcoin Core specific conventions in BIPs. Regarding \"tsp\" vs \"sprt\", I don't really have a strong opinion here, but would prefer to follow the convention in Bitcoin Core. If we end up moving Bitcoin Core to use the same HRP for all networks, then we should update the silent payments HRP to do the same.",
      "created_at": "2023-08-03T09:56:06Z",
      "updated_at": "2023-08-03T09:56:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1282961735",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282961735"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 526,
      "original_line": 526,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283012394",
      "pull_request_review_id": 1560805532,
      "id": 1283012394,
      "node_id": "PRRC_kwDOABII585MeTcq",
      "diff_hunk": "@@ -370,11 +370,13 @@ std::string Encode(Encoding encoding, const std::string& hrp, const data& values\n }\n \n /** Decode a Bech32 or Bech32m string. */\n-DecodeResult Decode(const std::string& str) {\n+DecodeResult Decode(const std::string& str, bool silent) {\n+    std::size_t max_size = silent ? 1024 : 90;",
      "path": "src/bech32.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "a469cb1e551ba16f1d83e4b0ae68194e38f1b9ec",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Note to self, this should be 1023",
      "created_at": "2023-08-03T10:38:54Z",
      "updated_at": "2023-08-03T10:38:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1283012394",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283012394"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284001548",
      "pull_request_review_id": 1562204323,
      "id": 1284001548,
      "node_id": "PRRC_kwDOABII585MiE8M",
      "diff_hunk": "@@ -309,3 +311,51 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n+{\n+    const auto& params{Params()};\n+    const auto& silent_payment_hrp = params.SilentPaymentHRP();\n+    const auto dec = bech32::Decode(str, /*silent=*/true);\n+    if (dec.encoding != bech32::Encoding::BECH32M || dec.hrp != silent_payment_hrp) {\n+        return {};\n+    }\n+    auto version = dec.data.front();  // retrieve the version\n+    std::vector<unsigned char> silent_payment_data;\n+    silent_payment_data.reserve(((dec.data.size() - 1) * 5) / 8);\n+    if (!ConvertBits<5, 8, false>([&](unsigned char c) { silent_payment_data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+        return {};\n+    }\n+    if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "in_reply_to_id": null,
      "user": {
        "login": "BrandonOdiwuor",
        "id": 15610188,
        "node_id": "MDQ6VXNlcjE1NjEwMTg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/15610188?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BrandonOdiwuor",
        "html_url": "https://github.com/BrandonOdiwuor",
        "followers_url": "https://api.github.com/users/BrandonOdiwuor/followers",
        "following_url": "https://api.github.com/users/BrandonOdiwuor/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BrandonOdiwuor/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BrandonOdiwuor/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BrandonOdiwuor/subscriptions",
        "organizations_url": "https://api.github.com/users/BrandonOdiwuor/orgs",
        "repos_url": "https://api.github.com/users/BrandonOdiwuor/repos",
        "events_url": "https://api.github.com/users/BrandonOdiwuor/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BrandonOdiwuor/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "To improve maintainability and support forward compatibility, consider abstracting the handling of different versions into a separate helper function like ‘[evalCheckSig](https://github.com/bitcoin/bitcoin/blob/a4ca4975880c4f870c6047065c70610af2529e74/src/script/interpreter.cpp#L391)’ does. This approach will allow for easier modification and extension for new versions of Silent addresses, and would also be more clear how version handling is done\r\n",
      "created_at": "2023-08-04T05:41:02Z",
      "updated_at": "2023-08-04T05:47:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1284001548",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284001548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285232819",
      "pull_request_review_id": 1564168708,
      "id": 1285232819,
      "node_id": "PRRC_kwDOABII585Mmxiz",
      "diff_hunk": "@@ -309,3 +311,51 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n+{\n+    const auto& params{Params()};\n+    const auto& silent_payment_hrp = params.SilentPaymentHRP();\n+    const auto dec = bech32::Decode(str, /*silent=*/true);\n+    if (dec.encoding != bech32::Encoding::BECH32M || dec.hrp != silent_payment_hrp) {\n+        return {};\n+    }\n+    auto version = dec.data.front();  // retrieve the version\n+    std::vector<unsigned char> silent_payment_data;\n+    silent_payment_data.reserve(((dec.data.size() - 1) * 5) / 8);\n+    if (!ConvertBits<5, 8, false>([&](unsigned char c) { silent_payment_data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+        return {};\n+    }\n+    if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "in_reply_to_id": 1284001548,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks for the suggestion, I'll take a look at `EvalCheckSig`! ",
      "created_at": "2023-08-06T15:26:21Z",
      "updated_at": "2023-08-06T15:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1285232819",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285232819"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286843620",
      "pull_request_review_id": 1566866196,
      "id": 1286843620,
      "node_id": "PRRC_kwDOABII585Ms6zk",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "rename to TweakAdd to more closely mirror the secp function",
      "created_at": "2023-08-08T09:15:33Z",
      "updated_at": "2023-08-08T09:15:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286843620",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286843620"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 177,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286844417",
      "pull_request_review_id": 1566867434,
      "id": 1286844417,
      "node_id": "PRRC_kwDOABII585Ms7AB",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+// we dont want to hash the output of ECDH yet, so we provide a custom hash function to secp256k1_ecdh which\n+// returns the serialized public key without hashing it\n+int custom_ecdh_hash_function(unsigned char *output, const unsigned char *x32, const unsigned char *y32, void *data) {",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 54,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "this should also be rename since we aren't hashing",
      "created_at": "2023-08-08T09:16:13Z",
      "updated_at": "2023-08-08T09:16:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286844417",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286844417"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 211,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286847829",
      "pull_request_review_id": 1566872721,
      "id": 1286847829,
      "node_id": "PRRC_kwDOABII585Ms71V",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+// we dont want to hash the output of ECDH yet, so we provide a custom hash function to secp256k1_ecdh which\n+// returns the serialized public key without hashing it\n+int custom_ecdh_hash_function(unsigned char *output, const unsigned char *x32, const unsigned char *y32, void *data) {\n+\n+    secp256k1_pubkey pubkey;\n+    unsigned char uncompressed_pubkey[65];\n+    uncompressed_pubkey[0] = 0x04;\n+    memcpy(uncompressed_pubkey + 1, x32, 32);\n+    memcpy(uncompressed_pubkey + 33, y32, 32);\n+\n+    if (!secp256k1_ec_pubkey_parse(secp256k1_context_sign, &pubkey, uncompressed_pubkey, 65)) {\n+        return 0;\n+    }\n+\n+    size_t outputlen = 33;\n+    if (!secp256k1_ec_pubkey_serialize(secp256k1_context_sign, output, &outputlen, &pubkey, SECP256K1_EC_COMPRESSED)) {\n+        return 0;\n+    }\n+    return 1;\n+}\n+\n+// WARNING: DO NOT USE THIS FUNCTION OUTSIDE OF SILENT PAYMENTS\n+// This function returns the un-hashed ECDH result and is specific to silent payments.\n+// If ECDH is required for a different use-case, a separate function should be used which does not use\n+// the `custom_ecdh_hash_function` and instead returns the hashed ECDH result (as is standard practice)\n+CPubKey CKey::SilentPaymentECDH(const CPubKey& pubkey) const",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Should probably rename this to just \"UnhashedECDH\"",
      "created_at": "2023-08-08T09:19:09Z",
      "updated_at": "2023-08-08T09:19:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286847829",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286847829"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 234,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286857436",
      "pull_request_review_id": 1566887443,
      "id": 1286857436,
      "node_id": "PRRC_kwDOABII585Ms-Lc",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+// we dont want to hash the output of ECDH yet, so we provide a custom hash function to secp256k1_ecdh which\n+// returns the serialized public key without hashing it\n+int custom_ecdh_hash_function(unsigned char *output, const unsigned char *x32, const unsigned char *y32, void *data) {",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 54,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "in_reply_to_id": 1286844417,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "move this to the UnhashedECDH function",
      "created_at": "2023-08-08T09:27:13Z",
      "updated_at": "2023-08-08T09:27:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286857436",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286857436"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 211,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286873697",
      "pull_request_review_id": 1566913038,
      "id": 1286873697,
      "node_id": "PRRC_kwDOABII585MtCJh",
      "diff_hunk": "@@ -370,11 +370,13 @@ std::string Encode(Encoding encoding, const std::string& hrp, const data& values\n }\n \n /** Decode a Bech32 or Bech32m string. */\n-DecodeResult Decode(const std::string& str) {\n+DecodeResult Decode(const std::string& str, bool silent) {\n+    std::size_t max_size = silent ? 1024 : 90;",
      "path": "src/bech32.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "a469cb1e551ba16f1d83e4b0ae68194e38f1b9ec",
      "in_reply_to_id": 1283012394,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Wrap this function in a more generic \"Decode\" function that doesn't have size restrictions, possibly use an ENUM for indicating what sort of error guarantees you want.",
      "created_at": "2023-08-08T09:41:33Z",
      "updated_at": "2023-08-08T09:41:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286873697",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286873697"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286904504",
      "pull_request_review_id": 1566961113,
      "id": 1286904504,
      "node_id": "PRRC_kwDOABII585MtJq4",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Similar to \"Decode\", there should be a higher-level function that first decodes the string and then passes it to the relevant decoding function",
      "created_at": "2023-08-08T10:08:17Z",
      "updated_at": "2023-08-08T10:08:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286904504",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286904504"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 327,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286912005",
      "pull_request_review_id": 1566972666,
      "id": 1286912005,
      "node_id": "PRRC_kwDOABII585MtLgF",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": 1286904504,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Even better, should probably first add a new destination type to CTxDestination",
      "created_at": "2023-08-08T10:15:28Z",
      "updated_at": "2023-08-08T10:15:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286912005",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286912005"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 327,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286930916",
      "pull_request_review_id": 1567002299,
      "id": 1286930916,
      "node_id": "PRRC_kwDOABII585MtQHk",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This doesn't need to be a struct, could just be functions which the DescScriptPubKeyMan calls as needed",
      "created_at": "2023-08-08T10:34:17Z",
      "updated_at": "2023-08-08T10:34:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286930916",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286930916"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286935217",
      "pull_request_review_id": 1567009051,
      "id": 1286935217,
      "node_id": "PRRC_kwDOABII585MtRKx",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "this function should be \"label aware,\" meaning if the wallet implements labels later on, this function does not need to change.",
      "created_at": "2023-08-08T10:38:43Z",
      "updated_at": "2023-08-08T10:38:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286935217",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286935217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941048",
      "pull_request_review_id": 1567018287,
      "id": 1286941048,
      "node_id": "PRRC_kwDOABII585MtSl4",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // The ECDH shared secret must be set before we start scanning\n+    assert(m_ecdh_pubkey.IsValid());\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<CKey> raw_tr_keys;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        std::pair<CKey, CPubKey> tweakResult = CreateOutput(output_index);\n+        const CKey& silent_payment_priv_key = tweakResult.first;\n+        const XOnlyPubKey& silent_payment_pub_key = XOnlyPubKey{tweakResult.second};\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto outputPubKey) {\n+            if (silent_payment_pub_key == outputPubKey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                raw_tr_keys.emplace_back(silent_payment_priv_key);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return raw_tr_keys;",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 85,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This shouldn't return private keys, it should only return the tweak portion of the private key. This also means `Recipient` doesn't need to have the spend private key.",
      "created_at": "2023-08-08T10:44:44Z",
      "updated_at": "2023-08-08T10:44:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286941048",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941048"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 86,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941460",
      "pull_request_review_id": 1567018921,
      "id": 1286941460,
      "node_id": "PRRC_kwDOABII585MtSsU",
      "diff_hunk": "@@ -62,6 +63,20 @@ enum class AddressPurpose {\n     SEND,\n     REFUND, //!< Never set in current code may be present in older wallet databases\n };\n+\n+struct CRecipient\n+{\n+    CScript scriptPubKey;\n+    CAmount nAmount;\n+    bool fSubtractFeeFromAmount;\n+};\n+\n+struct V0SilentPaymentDestination",
      "path": "src/wallet/types.h",
      "position": null,
      "original_position": 20,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "this should be its own commit",
      "created_at": "2023-08-08T10:45:11Z",
      "updated_at": "2023-08-08T10:45:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286941460",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941460"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941957",
      "pull_request_review_id": 1567019657,
      "id": 1286941957,
      "node_id": "PRRC_kwDOABII585MtS0F",
      "diff_hunk": "@@ -262,13 +262,6 @@ inline std::optional<AddressPurpose> PurposeFromString(std::string_view s)\n     return {};\n }\n \n-struct CRecipient",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 4,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "this should be its own commit, might not be needed if we instead V0SilentPaymentDestination as a CTxDestination type",
      "created_at": "2023-08-08T10:45:41Z",
      "updated_at": "2023-08-08T10:45:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286941957",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941957"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 289,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287394228",
      "pull_request_review_id": 1567728841,
      "id": 1287394228,
      "node_id": "PRRC_kwDOABII585MvBO0",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "13e6c7b5444af103bb612cd503c50915d8d41015",
      "in_reply_to_id": 1282093736,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "As long as testnet and signet are the same, and different from mainnet, I'm happy. When testing with e.g. hardware wallets it lets you use the testnet app / firmware instead of signet-specific stuff.",
      "created_at": "2023-08-08T16:40:13Z",
      "updated_at": "2023-08-08T16:40:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287394228",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287394228"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 526,
      "original_line": 526,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287398956",
      "pull_request_review_id": 1567736115,
      "id": 1287398956,
      "node_id": "PRRC_kwDOABII585MvCYs",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec: alternatively you could scan for the exact pubkey length. That would tolerate future versions to add extra stuff to the address that's safe to ignore for older versions.",
      "created_at": "2023-08-08T16:44:45Z",
      "updated_at": "2023-08-08T16:56:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287398956",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287398956"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 321,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287401010",
      "pull_request_review_id": 1567736115,
      "id": 1287401010,
      "node_id": "PRRC_kwDOABII585MvC4y",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n+{\n+    const auto& params{Params()};\n+    const auto& silent_payment_hrp = params.SilentPaymentHRP();\n+    const auto dec = bech32::Decode(str, /*silent=*/true);\n+    if (dec.encoding != bech32::Encoding::BECH32M || dec.hrp != silent_payment_hrp) {\n+        return {};\n+    }\n+    auto version = dec.data.front();  // retrieve the version\n+    std::vector<unsigned char> silent_payment_data;\n+    silent_payment_data.reserve(((dec.data.size() - 1) * 5) / 8);\n+    if (!ConvertBits<5, 8, false>([&](unsigned char c) { silent_payment_data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+        return {};\n+    }\n+    if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec: could use `version == 0 && silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE` (see comment above)",
      "created_at": "2023-08-08T16:46:46Z",
      "updated_at": "2023-08-08T16:56:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287401010",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287401010"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287402078",
      "pull_request_review_id": 1567736115,
      "id": 1287402078,
      "node_id": "PRRC_kwDOABII585MvDJe",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec `assert data.size() >= SILENT_PAYMENT_V0_DATA_SIZE` (or early return if you don't expect the caller to have already checked this)",
      "created_at": "2023-08-08T16:47:47Z",
      "updated_at": "2023-08-08T16:56:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287402078",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287402078"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 315,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287404315",
      "pull_request_review_id": 1567736115,
      "id": 1287404315,
      "node_id": "PRRC_kwDOABII585MvDsb",
      "diff_hunk": "@@ -341,3 +341,21 @@ std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n     if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};\n     return silent_payment_data;\n }\n+\n+std::string EncodeSilentDestination(const CPubKey& scan_pubkey, const CPubKey& spend_pubkey)\n+{",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "328951d056e939b6db573043fc71d8bd6ae68dff",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "328951d056e939b6db573043fc71d8bd6ae68dff: if cheap, could assert/assume both ` CPubKey` are valid. ",
      "created_at": "2023-08-08T16:49:52Z",
      "updated_at": "2023-08-08T16:56:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287404315",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287404315"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 346,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287404996",
      "pull_request_review_id": 1567736115,
      "id": 1287404996,
      "node_id": "PRRC_kwDOABII585MvD3E",
      "diff_hunk": "@@ -341,3 +341,21 @@ std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n     if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};\n     return silent_payment_data;\n }\n+\n+std::string EncodeSilentDestination(const CPubKey& scan_pubkey, const CPubKey& spend_pubkey)\n+{\n+    // The data_in is scan_pubkey + spend_pubkey\n+    std::vector<unsigned char> data_in = {};\n+    // Set 0 as the silent payments version\n+    std::vector<unsigned char> data_out = {0};\n+\n+    data_in.insert(data_in.end(), scan_pubkey.begin(), scan_pubkey.end());\n+    data_in.insert(data_in.end(), spend_pubkey.begin(), spend_pubkey.end());\n+\n+    ConvertBits<8, 5, true>([&](unsigned char c) { data_out.push_back(c); }, data_in.begin(), data_in.end());",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "328951d056e939b6db573043fc71d8bd6ae68dff",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "328951d056e939b6db573043fc71d8bd6ae68dff: this should be in some bech32 helper function.",
      "created_at": "2023-08-08T16:50:33Z",
      "updated_at": "2023-08-08T16:56:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287404996",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287404996"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 355,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293963387",
      "pull_request_review_id": 1577640373,
      "id": 1293963387,
      "node_id": "PRRC_kwDOABII585NIFB7",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": 1286930916,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "https://github.com/achow101/bitcoin/commit/57d72b52ca5a442982907cb09c8b26e1ab5e9d59 can be squashed in here to remove the `Recipient` class.",
      "created_at": "2023-08-14T20:57:53Z",
      "updated_at": "2023-08-14T20:57:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1293963387",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293963387"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295130079",
      "pull_request_review_id": 1579452859,
      "id": 1295130079,
      "node_id": "PRRC_kwDOABII585NMh3f",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+// we dont want to hash the output of ECDH yet, so we provide a custom hash function to secp256k1_ecdh which\n+// returns the serialized public key without hashing it\n+int custom_ecdh_hash_function(unsigned char *output, const unsigned char *x32, const unsigned char *y32, void *data) {",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 54,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8b1b1d0e8d5f87919695f9b3f08ab4a5ab739463",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Coming from review club:\r\nShould also be moved to secp256k1 right",
      "created_at": "2023-08-15T21:24:19Z",
      "updated_at": "2023-08-15T23:56:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1295130079",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295130079"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 211,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295134019",
      "pull_request_review_id": 1579452859,
      "id": 1295134019,
      "node_id": "PRRC_kwDOABII585NMi1D",
      "diff_hunk": "@@ -370,11 +370,13 @@ std::string Encode(Encoding encoding, const std::string& hrp, const data& values\n }\n \n /** Decode a Bech32 or Bech32m string. */\n-DecodeResult Decode(const std::string& str) {\n+DecodeResult Decode(const std::string& str, bool silent) {\n+    std::size_t max_size = silent ? 1024 : 90;",
      "path": "src/bech32.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "cca58b809ce7b394ec69f1d59f829a8057722da7",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit:\r\nI know you describe why the `max_size` is `1024` in commit message.\r\nBut will it be nice if you add a comment about the `1024` / `1023` `max_size`.",
      "created_at": "2023-08-15T21:29:27Z",
      "updated_at": "2023-08-15T23:56:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1295134019",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295134019"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296358180",
      "pull_request_review_id": 1581312048,
      "id": 1296358180,
      "node_id": "PRRC_kwDOABII585NRNsk",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "13e6c7b5444af103bb612cd503c50915d8d41015",
      "in_reply_to_id": 1282093736,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "@josibake: It’s rather that bech32(m) addresses are the odd ones out. Before native segwit outputs all addresses across testnet and regtest were the same. After rereading #12314, I would still recommend that you use the same hrp for all test-networks.",
      "created_at": "2023-08-16T19:48:00Z",
      "updated_at": "2023-08-16T19:48:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1296358180",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296358180"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 526,
      "original_line": 526,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1307989816",
      "pull_request_review_id": 1599171329,
      "id": 1307989816,
      "node_id": "PRRC_kwDOABII585N9lc4",
      "diff_hunk": "@@ -0,0 +1,49 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+class Recipient {\n+    protected:\n+        CKey m_scan_seckey;\n+        CKey m_spend_seckey;\n+        CPubKey m_scan_pubkey;\n+        CPubKey m_spend_pubkey;\n+        CPubKey m_ecdh_pubkey;\n+\n+    public:\n+        Recipient(const CKey& scan_seckey, const CKey& spend_seckey);\n+        void ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints);\n+        std::pair<CKey,CPubKey> CreateOutput(const uint32_t output_index) const;\n+        std::pair<CPubKey,CPubKey> GetAddress() const;\n+        std::vector<CKey> ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys);\n+};\n+\n+struct SilentPaymentRecipient\n+{\n+    CPubKey m_scan_pubkey;\n+    std::vector<std::pair<CPubKey, CAmount>> m_outputs;\n+    SilentPaymentRecipient() {};\n+    SilentPaymentRecipient(CPubKey scan_pubkey) : m_scan_pubkey(scan_pubkey) {};\n+};\n+\n+class Sender {\n+    protected:\n+        CPubKey m_ecdh_pubkey;\n+        SilentPaymentRecipient m_recipient;\n+        CPubKey CreateOutput(const CPubKey& spend_pubkey, const uint32_t output_index) const;\n+\n+    public:\n+        Sender(const CKey& scalar_ecdh_input, const SilentPaymentRecipient& recipient);\n+        std::vector<wallet::CRecipient> GenerateRecipientScriptPubKeys() const;",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 42,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "e3f9217ffb9457fcc54d589616f5c752ce15e6e5",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Please don't use `CRecipient` here, it causes a circular dependency.",
      "created_at": "2023-08-28T21:42:41Z",
      "updated_at": "2023-08-28T21:42:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1307989816",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1307989816"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311598024",
      "pull_request_review_id": 1604708096,
      "id": 1311598024,
      "node_id": "PRRC_kwDOABII585OLWXI",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "56882622faf469b6f948f79a69c3c8ddbde92ff8",
      "in_reply_to_id": 1275442608,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2023-08-31T13:04:12Z",
      "updated_at": "2023-08-31T13:04:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1311598024",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311598024"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 197,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311598537",
      "pull_request_review_id": 1604708882,
      "id": 1311598537,
      "node_id": "PRRC_kwDOABII585OLWfJ",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "56882622faf469b6f948f79a69c3c8ddbde92ff8",
      "in_reply_to_id": 1275442463,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now operates on `keydata.data()` in place",
      "created_at": "2023-08-31T13:04:35Z",
      "updated_at": "2023-08-31T13:04:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1311598537",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311598537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 181,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 182,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311600735",
      "pull_request_review_id": 1604712273,
      "id": 1311600735,
      "node_id": "PRRC_kwDOABII585OLXBf",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": 1286904504,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Resolved in #28246 , which adds a new `CTxDestination` and lets us use the existing encoder and decoder.",
      "created_at": "2023-08-31T13:06:22Z",
      "updated_at": "2023-08-31T13:06:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1311600735",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311600735"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 327,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311601163",
      "pull_request_review_id": 1604712977,
      "id": 1311601163,
      "node_id": "PRRC_kwDOABII585OLXIL",
      "diff_hunk": "@@ -0,0 +1,49 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+class Recipient {\n+    protected:\n+        CKey m_scan_seckey;\n+        CKey m_spend_seckey;\n+        CPubKey m_scan_pubkey;\n+        CPubKey m_spend_pubkey;\n+        CPubKey m_ecdh_pubkey;\n+\n+    public:\n+        Recipient(const CKey& scan_seckey, const CKey& spend_seckey);\n+        void ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints);\n+        std::pair<CKey,CPubKey> CreateOutput(const uint32_t output_index) const;\n+        std::pair<CPubKey,CPubKey> GetAddress() const;\n+        std::vector<CKey> ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys);\n+};\n+\n+struct SilentPaymentRecipient\n+{\n+    CPubKey m_scan_pubkey;\n+    std::vector<std::pair<CPubKey, CAmount>> m_outputs;\n+    SilentPaymentRecipient() {};\n+    SilentPaymentRecipient(CPubKey scan_pubkey) : m_scan_pubkey(scan_pubkey) {};\n+};\n+\n+class Sender {\n+    protected:\n+        CPubKey m_ecdh_pubkey;\n+        SilentPaymentRecipient m_recipient;\n+        CPubKey CreateOutput(const CPubKey& spend_pubkey, const uint32_t output_index) const;\n+\n+    public:\n+        Sender(const CKey& scalar_ecdh_input, const SilentPaymentRecipient& recipient);\n+        std::vector<wallet::CRecipient> GenerateRecipientScriptPubKeys() const;",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 42,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "e3f9217ffb9457fcc54d589616f5c752ce15e6e5",
      "in_reply_to_id": 1307989816,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2023-08-31T13:06:43Z",
      "updated_at": "2023-08-31T13:06:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1311601163",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311601163"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311605823",
      "pull_request_review_id": 1604720049,
      "id": 1311605823,
      "node_id": "PRRC_kwDOABII585OLYQ_",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": 1286935217,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Leaving this alone for now. This can be easily updated to add label support when it makes sense.",
      "created_at": "2023-08-31T13:10:12Z",
      "updated_at": "2023-08-31T13:10:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1311605823",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311605823"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321403963",
      "pull_request_review_id": 1619765249,
      "id": 1321403963,
      "node_id": "PRRC_kwDOABII585OwwY7",
      "diff_hunk": "@@ -211,6 +211,12 @@ class CPubKey\n      */\n     static bool CheckLowS(const std::vector<unsigned char>& vchSig);\n \n+    //! Add a number of public keys together.\n+    static CPubKey Combine(std::vector<CPubKey> pubkeys);",
      "path": "src/pubkey.h",
      "position": null,
      "original_position": 5,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": 1276883646,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, and made pass by reference.",
      "created_at": "2023-09-11T11:32:02Z",
      "updated_at": "2023-09-11T11:32:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321403963",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321403963"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 215,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321641488",
      "pull_request_review_id": 1620147641,
      "id": 1321641488,
      "node_id": "PRRC_kwDOABII585OxqYQ",
      "diff_hunk": "@@ -309,3 +311,51 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n+{\n+    const auto& params{Params()};\n+    const auto& silent_payment_hrp = params.SilentPaymentHRP();\n+    const auto dec = bech32::Decode(str, /*silent=*/true);\n+    if (dec.encoding != bech32::Encoding::BECH32M || dec.hrp != silent_payment_hrp) {\n+        return {};\n+    }\n+    auto version = dec.data.front();  // retrieve the version\n+    std::vector<unsigned char> silent_payment_data;\n+    silent_payment_data.reserve(((dec.data.size() - 1) * 5) / 8);\n+    if (!ConvertBits<5, 8, false>([&](unsigned char c) { silent_payment_data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+        return {};\n+    }\n+    if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "in_reply_to_id": 1284001548,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Took a look at `EvalCheckSig` and while I think this is a good idea in general, I'd prefer to leave it as a follow-up for now. My reasoning here is we currently only have a `v0` silent payments version and I'd like to keep the code simple and focused on the `V0` rules. As a follow-up, or when we add support for a future `v1` version is likely a better time to introduce more complex code for handling multiple versions.",
      "created_at": "2023-09-11T14:26:18Z",
      "updated_at": "2023-09-11T14:26:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321641488",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321641488"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321641794",
      "pull_request_review_id": 1620148126,
      "id": 1321641794,
      "node_id": "PRRC_kwDOABII585OxqdC",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": 1287398956,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-09-11T14:26:31Z",
      "updated_at": "2023-09-11T14:26:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321641794",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321641794"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 321,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321645565",
      "pull_request_review_id": 1620154281,
      "id": 1321645565,
      "node_id": "PRRC_kwDOABII585OxrX9",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n+{\n+    const auto& params{Params()};\n+    const auto& silent_payment_hrp = params.SilentPaymentHRP();\n+    const auto dec = bech32::Decode(str, /*silent=*/true);\n+    if (dec.encoding != bech32::Encoding::BECH32M || dec.hrp != silent_payment_hrp) {\n+        return {};\n+    }\n+    auto version = dec.data.front();  // retrieve the version\n+    std::vector<unsigned char> silent_payment_data;\n+    silent_payment_data.reserve(((dec.data.size() - 1) * 5) / 8);\n+    if (!ConvertBits<5, 8, false>([&](unsigned char c) { silent_payment_data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+        return {};\n+    }\n+    if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": 1287401010,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this should fail if an address says it is v0 but has a data part larger than what is defined for v0. If an address has a version > v0 and data part > V0_SIZE, then only the _first_ 66 bytes of the data part are read, which is what we want for the forward compatibility bit.",
      "created_at": "2023-09-11T14:29:15Z",
      "updated_at": "2023-09-11T14:29:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321645565",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321645565"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321654643",
      "pull_request_review_id": 1620168845,
      "id": 1321654643,
      "node_id": "PRRC_kwDOABII585Oxtlz",
      "diff_hunk": "@@ -341,3 +341,21 @@ std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n     if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};\n     return silent_payment_data;\n }\n+\n+std::string EncodeSilentDestination(const CPubKey& scan_pubkey, const CPubKey& spend_pubkey)\n+{",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "328951d056e939b6db573043fc71d8bd6ae68dff",
      "in_reply_to_id": 1287404315,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This now uses the `src/key_io.cpp::Encode` function, which takes a `V0SilentPaymentDestination` object, so should be good. If we do want an assert, we can/should do it when creating the `V0SilentPaymentDestination` object",
      "created_at": "2023-09-11T14:35:53Z",
      "updated_at": "2023-09-11T14:35:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321654643",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321654643"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 346,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321657422",
      "pull_request_review_id": 1620173236,
      "id": 1321657422,
      "node_id": "PRRC_kwDOABII585OxuRO",
      "diff_hunk": "@@ -341,3 +341,21 @@ std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n     if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};\n     return silent_payment_data;\n }\n+\n+std::string EncodeSilentDestination(const CPubKey& scan_pubkey, const CPubKey& spend_pubkey)\n+{\n+    // The data_in is scan_pubkey + spend_pubkey\n+    std::vector<unsigned char> data_in = {};\n+    // Set 0 as the silent payments version\n+    std::vector<unsigned char> data_out = {0};\n+\n+    data_in.insert(data_in.end(), scan_pubkey.begin(), scan_pubkey.end());\n+    data_in.insert(data_in.end(), spend_pubkey.begin(), spend_pubkey.end());\n+\n+    ConvertBits<8, 5, true>([&](unsigned char c) { data_out.push_back(c); }, data_in.begin(), data_in.end());",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "328951d056e939b6db573043fc71d8bd6ae68dff",
      "in_reply_to_id": 1287404996,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not totally convinced we do want to wrap this in a helper function, but perhaps that can be a follow-up looking at how we handle bech32 across WitnessV0, WitnessV1 and V0SilentPaymentsDestinations",
      "created_at": "2023-09-11T14:37:56Z",
      "updated_at": "2023-09-11T14:37:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321657422",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321657422"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 355,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321658984",
      "pull_request_review_id": 1620175724,
      "id": 1321658984,
      "node_id": "PRRC_kwDOABII585Oxupo",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+// we dont want to hash the output of ECDH yet, so we provide a custom hash function to secp256k1_ecdh which\n+// returns the serialized public key without hashing it\n+int custom_ecdh_hash_function(unsigned char *output, const unsigned char *x32, const unsigned char *y32, void *data) {",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 54,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "8b1b1d0e8d5f87919695f9b3f08ab4a5ab739463",
      "in_reply_to_id": 1295130079,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This has been re-written so there is no longer a stand-alone function, but also yes, I think this could be upstreamed into libsecp256k1 at some point.",
      "created_at": "2023-09-11T14:39:04Z",
      "updated_at": "2023-09-11T14:39:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321658984",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321658984"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 211,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321660071",
      "pull_request_review_id": 1620177378,
      "id": 1321660071,
      "node_id": "PRRC_kwDOABII585Oxu6n",
      "diff_hunk": "@@ -370,11 +370,13 @@ std::string Encode(Encoding encoding, const std::string& hrp, const data& values\n }\n \n /** Decode a Bech32 or Bech32m string. */\n-DecodeResult Decode(const std::string& str) {\n+DecodeResult Decode(const std::string& str, bool silent) {\n+    std::size_t max_size = silent ? 1024 : 90;",
      "path": "src/bech32.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "cca58b809ce7b394ec69f1d59f829a8057722da7",
      "in_reply_to_id": 1295134019,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This has been re-written to use a character limit enum.",
      "created_at": "2023-09-11T14:39:49Z",
      "updated_at": "2023-09-11T14:39:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321660071",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321660071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321666523",
      "pull_request_review_id": 1620187974,
      "id": 1321666523,
      "node_id": "PRRC_kwDOABII585Oxwfb",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 28,
      "original_position": 28,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "13e6c7b5444af103bb612cd503c50915d8d41015",
      "in_reply_to_id": 1282093736,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In the interest of keeping this PR well scoped, I think we should go for consistency. Since silent payment addresses are bech32m encoded, we should follow the convention _currently_ used for bech32(m), and if we do decided to change the convention for bech32(m) hrp's in the future, then it should change for all of them (including silent payments)",
      "created_at": "2023-09-11T14:44:38Z",
      "updated_at": "2023-09-11T14:44:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321666523",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321666523"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 526,
      "original_line": 526,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321926230",
      "pull_request_review_id": 1620593539,
      "id": 1321926230,
      "node_id": "PRRC_kwDOABII585Oyv5W",
      "diff_hunk": "@@ -256,6 +259,22 @@ std::optional<std::pair<XOnlyPubKey, bool>> XOnlyPubKey::CreateTapTweak(const ui\n     return ret;\n }\n \n+CPubKey CPubKey::TweakAdd(const unsigned char *tweak32) const\n+{\n+    secp256k1_pubkey original_pubkey;\n+    int return_val = secp256k1_ec_pubkey_parse(secp256k1_context_static, &original_pubkey, data(), size());\n+    assert(return_val);\n+\n+    return_val = secp256k1_ec_pubkey_tweak_add(secp256k1_context_static, &original_pubkey, tweak32);\n+    assert(return_val);\n+\n+    unsigned char pubkey_bytes[COMPRESSED_SIZE];\n+    size_t publen = COMPRESSED_SIZE;\n+    return_val = secp256k1_ec_pubkey_serialize(secp256k1_context_static, pubkey_bytes, &publen, &original_pubkey, SECP256K1_EC_COMPRESSED);\n+    assert(return_val);\n+\n+    return CPubKey(pubkey_bytes);",
      "path": "src/pubkey.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 7b9f48450738c42d934280881d9ff2dfb5419725 \"crypto: update CKey, CPubkey for silent payments\"\r\n\r\nCurrently `CKey::TweakAdd` modifies in place, while `CPubKey::TweakAdd` returns a new `CPubKey`. This can be confusing as I would expect these functions to do the same things to their respective objects rather than behave slightly differently.",
      "created_at": "2023-09-11T18:36:57Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321926230",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321926230"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321932172",
      "pull_request_review_id": 1620593539,
      "id": 1321932172,
      "node_id": "PRRC_kwDOABII585OyxWM",
      "diff_hunk": "@@ -127,12 +146,29 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n     }\n \n     data.clear();\n-    const auto dec = bech32::Decode(str);\n+    const auto dec = bech32::Decode(str, is_silent_payment ? bech32::CharLimit::SILENT_PAYMENTS : bech32::CharLimit::SEGWIT);\n     if (dec.encoding == bech32::Encoding::BECH32 || dec.encoding == bech32::Encoding::BECH32M) {\n         if (dec.data.empty()) {\n             error_str = \"Empty Bech32 data section\";\n             return CNoDestination();\n         }\n+        if (is_silent_payment) {\n+            if (!ConvertBits<5, 8, false>([&](unsigned char c) { data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+                return CNoDestination();\n+            }\n+            if (data.size() < SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment data payload is too small (expected at least %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }\n+            auto version = dec.data[0];  // retrieve the version\n+            if (version == 0 && data.size() != SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment version is v0 but data is not the correct size (expected %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }",
      "path": "src/key_io.cpp",
      "position": 71,
      "original_position": 65,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "3235eb8c63ea055c68fdf59bb20afd6f06f294e4",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 3235eb8c63ea055c68fdf59bb20afd6f06f294e4 \"Add V0SilentPaymentDestination address type\"\r\n\r\nWhat about unknown versions?",
      "created_at": "2023-09-11T18:43:09Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321932172",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321932172"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": 171,
      "original_start_line": 164,
      "start_side": "RIGHT",
      "line": 174,
      "original_line": 174,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321935455",
      "pull_request_review_id": 1620593539,
      "id": 1321935455,
      "node_id": "PRRC_kwDOABII585OyyJf",
      "diff_hunk": "@@ -64,6 +66,21 @@ class DestinationEncoder\n         return bech32::Encode(bech32::Encoding::BECH32M, m_params.Bech32HRP(), data);\n     }\n \n+    std::string operator()(const V0SilentPaymentDestination& sp) const\n+    {\n+        // The data_in is scan_pubkey + spend_pubkey\n+        std::vector<unsigned char> data_in = {};\n+        data_in.reserve(66);\n+        // Set 0 as the silent payments version\n+        std::vector<unsigned char> data_out = {0};\n+        data_out.reserve(67);",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "3235eb8c63ea055c68fdf59bb20afd6f06f294e4",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 3235eb8c63ea055c68fdf59bb20afd6f06f294e4 \"Add V0SilentPaymentDestination address type\"\r\n\r\n`data_out` contains result of `ConvertBits` which expands each 8-bit byte into 5-bit chunks. So the expected size is `67 * 8 / 5 = 107.2`. So `data_out` should be reserving 108 bytes rather than 67.",
      "created_at": "2023-09-11T18:46:42Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321935455",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321935455"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 76,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321964059",
      "pull_request_review_id": 1620593539,
      "id": 1321964059,
      "node_id": "PRRC_kwDOABII585Oy5Ib",
      "diff_hunk": "@@ -0,0 +1,210 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& outpoints_hash)\n+{\n+    auto tweaked_scan_seckey{scan_key};\n+    tweaked_scan_seckey.TweakMultiply(outpoints_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.UnhashedECDH(sender_public_key);\n+    assert(result.IsValid());\n+    return result;\n+}\n+\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index)\n+{\n+    HashWriter h;\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    return h.GetSHA256();\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<uint256> tweaks;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        uint256 tweak = ComputeTweak(ecdh_pubkey, output_index);\n+        CPubKey computed_sp_pubkey = spend_pubkey.TweakAdd(tweak.data());\n+        const XOnlyPubKey& sp_pubkey = XOnlyPubKey{computed_sp_pubkey};\n+        //const CKey& silent_payment_priv_key = tweakResult.first;\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto output_pubkey) {\n+            if (sp_pubkey == output_pubkey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                tweaks.emplace_back(tweak);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return tweaks;\n+}\n+\n+std::optional<std::pair<uint256, CPubKey>> GetSilentPaymentsTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins)\n+{\n+\n+    // Extract the keys from the inputs\n+    // or skip if no valid inputs\n+    std::vector<CPubKey> input_pubkeys;\n+    std::vector<COutPoint> input_outpoints;\n+    for (const CTxIn& txin : vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        Assert(!coin.IsSpent());\n+        input_outpoints.emplace_back(txin.prevout);\n+\n+        std::vector<std::vector<unsigned char>> solutions;\n+        TxoutType type = Solver(coin.out.scriptPubKey, solutions);\n+        if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+            // Check for H point in script path spend\n+            if (txin.scriptWitness.stack.size() > 1) {\n+                // Check for annex\n+                bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+                size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+                if (post_annex_size > 1) {\n+                    // Actually a script path spend\n+                    const std::vector<unsigned char>& control = txin.scriptWitness.stack.back();",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 95,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "644ff77be819a2dea15be0daad10fca8524a18f4",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 644ff77be819a2dea15be0daad10fca8524a18f4 \"Implement BIP352: Silent Payments\"\r\n\r\nSince we aren't modifying `txin.scriptWitness.stack` after checking for the annex, this may not actually be the control block. We need to remove the annex if it was there.\r\n\r\n```suggestion\r\n                    const std::vector<unsigned char>& control = txin.scriptWitness.stack.at(post_annex_size - 1);\r\n```",
      "created_at": "2023-09-11T19:04:21Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321964059",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321964059"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 95,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321966435",
      "pull_request_review_id": 1620593539,
      "id": 1321966435,
      "node_id": "PRRC_kwDOABII585Oy5tj",
      "diff_hunk": "@@ -0,0 +1,20 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <addresstype.h>\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+\n+namespace wallet {\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& outpoints_hash);\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index);\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys);\n+std::optional<std::pair<uint256, CPubKey>> GetSilentPaymentsTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins);\n+\n+CPubKey CreateOutput(const CKey& ecdh_scalar, const CPubKey& scan_pubkey, const CPubKey& spend_pubkey, const uint32_t output_index);\n+uint256 HashOutpoints(const std::vector<COutPoint>& tx_outpoints);\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const CKey& ecdh_scalar, const std::map<size_t, V0SilentPaymentDestination>& sp_dests);\n+CKey PrepareScalarECDHInput(const std::vector<std::pair<CKey, bool>>& sender_secret_keys, const std::vector<COutPoint>& tx_outpoints);",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 18,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "644ff77be819a2dea15be0daad10fca8524a18f4",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 644ff77be819a2dea15be0daad10fca8524a18f4 \"Implement BIP352: Silent Payments\"\r\n\r\nIt would be nice to have some documentation for these functions.",
      "created_at": "2023-09-11T19:07:12Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321966435",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321966435"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 10,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321983071",
      "pull_request_review_id": 1620593539,
      "id": 1321983071,
      "node_id": "PRRC_kwDOABII585Oy9xf",
      "diff_hunk": "@@ -0,0 +1,210 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+#include <wallet/wallet.h>",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "644ff77be819a2dea15be0daad10fca8524a18f4",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 644ff77be819a2dea15be0daad10fca8524a18f4 \"Implement BIP352: Silent Payments\"\r\n\r\n`wallet/wallet.h` does not need to be included.",
      "created_at": "2023-09-11T19:26:11Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321983071",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321983071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321986126",
      "pull_request_review_id": 1620593539,
      "id": 1321986126,
      "node_id": "PRRC_kwDOABII585Oy-hO",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const auto& given = sender[\"given\"];\n+            const auto& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : sender[\"given\"][\"outpoints\"].getValues()) {",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 78d1426fabd7b5b6cdd28de508a1692fce291174 \"Add BIP352 test vectors as unit tests\"\r\n\r\nnit: `s/sender[\"given\"]/given`\r\n\r\n```suggestion\r\n            for (const auto& outpoint : given[\"outpoints\"].getValues()) {\r\n```",
      "created_at": "2023-09-11T19:29:45Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321986126",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321986126"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321988533",
      "pull_request_review_id": 1620593539,
      "id": 1321988533,
      "node_id": "PRRC_kwDOABII585Oy_G1",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const auto& given = sender[\"given\"];\n+            const auto& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : sender[\"given\"][\"outpoints\"].getValues()) {\n+                outpoints.emplace_back(uint256S(outpoint[0].get_str()), outpoint[1].getInt<uint32_t>());\n+            }\n+\n+            std::vector<std::pair<CKey, bool>> sender_secret_keys;\n+            for (const auto& key : given[\"input_priv_keys\"].getValues()) {\n+                sender_secret_keys.emplace_back(ParseHexToCKey(key[0].get_str()), key[1].get_bool());\n+            }\n+            std::vector<CRecipient> silent_payment_addresses;\n+            for (const auto& recipient : given[\"recipients\"].getValues()) {\n+                std::string silent_payment_address = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                const auto& sp = DecodeDestination(silent_payment_address);\n+                silent_payment_addresses.push_back(CRecipient{sp, amount, false});\n+            }\n+\n+            // silent payments logic\n+            CKey scalar_ecdh_input = PrepareScalarECDHInput(sender_secret_keys, outpoints);\n+\n+            std::map<size_t, V0SilentPaymentDestination> sp_dests;\n+            for (size_t i = 0; i < silent_payment_addresses.size(); ++i) {\n+                if (const auto* sp = std::get_if<V0SilentPaymentDestination>(&silent_payment_addresses.at(i).dest)) {\n+                    sp_dests[i] = *sp;\n+                }\n+            }\n+            std::map<size_t, WitnessV1Taproot> sp_tr_dests = GenerateSilentPaymentTaprootDestinations(scalar_ecdh_input, sp_dests);\n+\n+            for (const auto& [out_idx, tr_dest] : sp_tr_dests) {\n+                assert(out_idx < silent_payment_addresses.size());\n+                silent_payment_addresses[out_idx].dest = tr_dest;\n+            }\n+\n+            std::vector<CRecipient> expected_spks;\n+            for (const auto& recipient : expected[\"outputs\"].getValues()) {\n+                std::string pubkey_hex = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                auto tap = WitnessV1Taproot(XOnlyPubKey(ParseHex(pubkey_hex)));\n+                expected_spks.push_back(CRecipient{tap, amount, false});\n+            }\n+\n+            BOOST_CHECK(silent_payment_addresses.size() == expected_spks.size());\n+            for (const auto& spk : silent_payment_addresses) {\n+                BOOST_CHECK(std::find(expected_spks.begin(), expected_spks.end(), spk) != expected_spks.end());\n+            }\n+        }\n+\n+        // Test receiving\n+        for (const auto& recipient : vec[\"receiving\"].getValues()) {\n+            // TODO: implement labels for Bitcoin Core, until then skip the receiving with labels tests\n+            if (recipient[\"supports_labels\"].get_bool()) {\n+                BOOST_TEST_MESSAGE(\"Labels not implemented; skipping..\");\n+                continue;\n+            }\n+\n+            const auto& given = recipient[\"given\"];\n+            const auto& expected = recipient[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : recipient[\"given\"][\"outpoints\"].getValues()) {",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 105,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 78d1426fabd7b5b6cdd28de508a1692fce291174 \"Add BIP352 test vectors as unit tests\"\r\n\r\nnit: `s/recipient[\"given\"]/given`\r\n\r\n```suggestion\r\n            for (const auto& outpoint : given[\"outpoints\"].getValues()) {\r\n````",
      "created_at": "2023-09-11T19:32:24Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321988533",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321988533"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 105,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321990230",
      "pull_request_review_id": 1620593539,
      "id": 1321990230,
      "node_id": "PRRC_kwDOABII585Oy_hW",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const auto& given = sender[\"given\"];\n+            const auto& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : sender[\"given\"][\"outpoints\"].getValues()) {\n+                outpoints.emplace_back(uint256S(outpoint[0].get_str()), outpoint[1].getInt<uint32_t>());\n+            }\n+\n+            std::vector<std::pair<CKey, bool>> sender_secret_keys;\n+            for (const auto& key : given[\"input_priv_keys\"].getValues()) {\n+                sender_secret_keys.emplace_back(ParseHexToCKey(key[0].get_str()), key[1].get_bool());\n+            }\n+            std::vector<CRecipient> silent_payment_addresses;\n+            for (const auto& recipient : given[\"recipients\"].getValues()) {\n+                std::string silent_payment_address = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                const auto& sp = DecodeDestination(silent_payment_address);\n+                silent_payment_addresses.push_back(CRecipient{sp, amount, false});\n+            }\n+\n+            // silent payments logic\n+            CKey scalar_ecdh_input = PrepareScalarECDHInput(sender_secret_keys, outpoints);\n+\n+            std::map<size_t, V0SilentPaymentDestination> sp_dests;\n+            for (size_t i = 0; i < silent_payment_addresses.size(); ++i) {\n+                if (const auto* sp = std::get_if<V0SilentPaymentDestination>(&silent_payment_addresses.at(i).dest)) {\n+                    sp_dests[i] = *sp;\n+                }\n+            }\n+            std::map<size_t, WitnessV1Taproot> sp_tr_dests = GenerateSilentPaymentTaprootDestinations(scalar_ecdh_input, sp_dests);\n+\n+            for (const auto& [out_idx, tr_dest] : sp_tr_dests) {\n+                assert(out_idx < silent_payment_addresses.size());\n+                silent_payment_addresses[out_idx].dest = tr_dest;\n+            }\n+\n+            std::vector<CRecipient> expected_spks;\n+            for (const auto& recipient : expected[\"outputs\"].getValues()) {\n+                std::string pubkey_hex = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                auto tap = WitnessV1Taproot(XOnlyPubKey(ParseHex(pubkey_hex)));\n+                expected_spks.push_back(CRecipient{tap, amount, false});\n+            }\n+\n+            BOOST_CHECK(silent_payment_addresses.size() == expected_spks.size());\n+            for (const auto& spk : silent_payment_addresses) {\n+                BOOST_CHECK(std::find(expected_spks.begin(), expected_spks.end(), spk) != expected_spks.end());\n+            }\n+        }\n+\n+        // Test receiving\n+        for (const auto& recipient : vec[\"receiving\"].getValues()) {\n+            // TODO: implement labels for Bitcoin Core, until then skip the receiving with labels tests\n+            if (recipient[\"supports_labels\"].get_bool()) {\n+                BOOST_TEST_MESSAGE(\"Labels not implemented; skipping..\");\n+                continue;\n+            }\n+\n+            const auto& given = recipient[\"given\"];\n+            const auto& expected = recipient[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : recipient[\"given\"][\"outpoints\"].getValues()) {\n+                outpoints.emplace_back(uint256S(outpoint[0].get_str()), outpoint[1].getInt<uint32_t>());\n+            }\n+\n+            std::vector<CPubKey> input_pub_keys;\n+            for (const auto& pubkey : given[\"input_pub_keys\"].getValues()) {\n+                // All pubkeys must be in compressed format\n+                auto pubkey_bytes = ParseHex(pubkey.get_str());\n+                if (pubkey_bytes.size() == 32) {\n+                    // XOnlyPubKeys are always even\n+                    pubkey_bytes.insert(pubkey_bytes.begin(), 2);\n+                }\n+                input_pub_keys.emplace_back(pubkey_bytes);\n+            }\n+            std::vector<XOnlyPubKey> output_pub_keys;\n+            for (const auto& pubkey : given[\"outputs\"].getValues()) {\n+                output_pub_keys.emplace_back(ParseHex(pubkey.get_str()));\n+            }\n+\n+            std::string hex_str = given[\"bip32_seed\"].get_str();\n+            std::vector<std::byte> seed{ParseHex<std::byte>(hex_str)};\n+            std::vector<uint32_t> scan_keypath;\n+            BOOST_CHECK(ParseHDKeypath(\"m/352'/0'/0'/1'/0\", scan_keypath));\n+            std::vector<uint32_t> spend_keypath;\n+            BOOST_CHECK(ParseHDKeypath(\"m/352'/0'/0'/0'/0\", spend_keypath));\n+            CKey scan_priv_key = GetKeyFromBIP32Path(seed, scan_keypath);\n+            CKey spend_priv_key = GetKeyFromBIP32Path(seed, spend_keypath);\n+            CPubKey spend_pubkey = spend_priv_key.GetPubKey();\n+\n+            // Scanning\n+            CPubKey sum_input_pub_keys = CPubKey::Combine(input_pub_keys);\n+\n+            const auto expected_addresses = expected[\"addresses\"].getValues();\n+            // We know there is only one address, but if we support labels, this could be multiple addresses\n+            CPubKey ecdh_pubkey = ComputeECDHSharedSecret(scan_priv_key, sum_input_pub_keys, HashOutpoints(outpoints));\n+            std::vector<uint256> found_tweaks = GetTxOutputTweaks(spend_priv_key.GetPubKey(), ecdh_pubkey, output_pub_keys);",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 140,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 78d1426fabd7b5b6cdd28de508a1692fce291174 \"Add BIP352 test vectors as unit tests\"\r\n\r\nnit: `s/spend_priv_key.GetPubKey()/spend_pubkey`\r\n\r\n```suggestion\r\n            std::vector<uint256> found_tweaks = GetTxOutputTweaks(spend_pubkey, ecdh_pubkey, output_pub_keys);\r\n```",
      "created_at": "2023-09-11T19:34:27Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321990230",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321990230"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321992598",
      "pull_request_review_id": 1620593539,
      "id": 1321992598,
      "node_id": "PRRC_kwDOABII585OzAGW",
      "diff_hunk": "@@ -291,6 +291,11 @@ struct CRecipient\n     CTxDestination dest;\n     CAmount nAmount;\n     bool fSubtractFeeFromAmount;\n+\n+    friend bool operator==(const CRecipient& a, const CRecipient& b)\n+    {\n+        return a.dest == b.dest && a.nAmount == b.nAmount;",
      "path": "src/wallet/wallet.h",
      "position": 7,
      "original_position": 7,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 78d1426fabd7b5b6cdd28de508a1692fce291174 \"Add BIP352 test vectors as unit tests\"\r\n\r\nShouldn't this also check sffo too?\r\n\r\n```suggestion\r\n        return a.dest == b.dest && a.nAmount == b.nAmount && a.fSubtractFeeFromAmount == b.SubtractFeeFromAmount;\r\n```",
      "created_at": "2023-09-11T19:37:25Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321992598",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321992598"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 297,
      "original_line": 297,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322002928",
      "pull_request_review_id": 1620720216,
      "id": 1322002928,
      "node_id": "PRRC_kwDOABII585OzCnw",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 78d1426fabd7b5b6cdd28de508a1692fce291174 \"Add BIP352 test vectors as unit tests\"\r\n\r\nNo need to have two `CExtKey`s and swapping them, you can just derive a key into itself.\r\n\r\n```suggestion\r\n    CExtKey key;\r\n    key.SetSeed(seed);\r\n    for (auto index : path) {\r\n        BOOST_CHECK(key.Derive(key, index));\r\n    }\r\n    return key.key;\r\n```",
      "created_at": "2023-09-11T19:47:07Z",
      "updated_at": "2023-09-11T19:47:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322002928",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322002928"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 25,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322085628",
      "pull_request_review_id": 1620850719,
      "id": 1322085628,
      "node_id": "PRRC_kwDOABII585OzWz8",
      "diff_hunk": "@@ -47,7 +47,7 @@ MessageVerificationResult MessageVerify(\n         return MessageVerificationResult::ERR_PUBKEY_NOT_RECOVERED;\n     }\n \n-    if (!(CTxDestination(PKHash(pubkey)) == destination)) {\n+    if (!(PKHash(pubkey) == *std::get_if<PKHash>(&destination))) {",
      "path": "src/util/message.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "c14ad74f8eeaa744d831a77654164c856a86fdee",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in commit c14ad74f8eeaa744d831a77654164c856a86fdee: this change in `MessageVerify` seems unrelated to the `WitnessUnknown` changes (and AFAICT, even after the later changes in `CTxDestination` it's not needed, but just another way to express the same logic).",
      "created_at": "2023-09-11T21:20:09Z",
      "updated_at": "2023-09-11T22:01:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322085628",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322085628"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 50,
      "start_side": "LEFT",
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322087391",
      "pull_request_review_id": 1620850719,
      "id": 1322087391,
      "node_id": "PRRC_kwDOABII585OzXPf",
      "diff_hunk": "@@ -109,9 +117,14 @@ using CTxDestination = std::variant<CNoDestination, PKHash, ScriptHash, WitnessV\n bool IsValidDestination(const CTxDestination& dest);\n \n /**\n- * Parse a standard scriptPubKey for the destination address. Assigns result to\n- * the addressRet parameter and returns true if successful. Currently only works for P2PK,\n- * P2PKH, P2SH, P2WPKH, and P2WSH scripts.\n+ * Parse a scriptPubKey for the destination.\n+ *\n+ * For standard scripts that have addresses (and P2PK as an exception), a corresponding CTxDestination\n+ * is assigned to addressRet.\n+ * For all other scripts. addressRet is assigned as a CNoDestination containing the scriptPubKey.",
      "path": "src/addresstype.h",
      "position": null,
      "original_position": 54,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "621b1ca6fbdf66ccf9da84c38fcc3b18de9e95fe",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in commit 621b1ca6fbdf66ccf9da84c38fcc3b18de9e95fe: punctuation nit:\r\n```suggestion\r\n * For all other scripts, addressRet is assigned as a CNoDestination containing the scriptPubKey.\r\n```",
      "created_at": "2023-09-11T21:22:36Z",
      "updated_at": "2023-09-11T22:01:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322087391",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322087391"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322105942",
      "pull_request_review_id": 1620850719,
      "id": 1322105942,
      "node_id": "PRRC_kwDOABII585OzbxW",
      "diff_hunk": "@@ -172,6 +174,62 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+void CKey::TweakAdd(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+void CKey::TweakMultiply(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+// WARNING: DO NOT USE THIS FUNCTION OUTSIDE OF SILENT PAYMENTS\n+// This function returns the un-hashed ECDH result and is specific to silent payments.\n+// If ECDH is required for a different use-case, use a function which hashes the result (as is standard practice).\n+CPubKey CKey::UnhashedECDH(const CPubKey& pubkey) const\n+{\n+    unsigned char shared_secret[33];\n+\n+    secp256k1_pubkey ecdh_pubkey;",
      "path": "src/key.cpp",
      "position": 43,
      "original_position": 44,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "in commit 7b9f48450738c42d934280881d9ff2dfb5419725: maybe assert here that both the private key and the passed `pubkey` are valid?\r\n```suggestion\r\n    assert(fValid);\r\n    assert(pubkey.IsValid());\r\n    secp256k1_pubkey ecdh_pubkey;\r\n```\r\n(using `IsFullyValid` for the pubkey would be a more thorough check, but that's more expensive and could hurt scanning performance I guess)",
      "created_at": "2023-09-11T21:48:08Z",
      "updated_at": "2023-09-11T22:01:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322105942",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322105942"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": 199,
      "original_start_line": 200,
      "start_side": "RIGHT",
      "line": 200,
      "original_line": 200,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322109527",
      "pull_request_review_id": 1620850719,
      "id": 1322109527,
      "node_id": "PRRC_kwDOABII585OzcpX",
      "diff_hunk": "@@ -287,10 +294,19 @@ class XOnlyPubKey\n     bool operator!=(const XOnlyPubKey& other) const { return m_keydata != other.m_keydata; }\n     bool operator<(const XOnlyPubKey& other) const { return m_keydata < other.m_keydata; }\n \n+    CPubKey ConvertToCompressedPubKey(bool even = true) const",
      "path": "src/pubkey.h",
      "position": 32,
      "original_position": 25,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "is this method used anywhere?",
      "created_at": "2023-09-11T21:53:32Z",
      "updated_at": "2023-09-11T22:01:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322109527",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322109527"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 297,
      "original_line": 297,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322111006",
      "pull_request_review_id": 1620850719,
      "id": 1322111006,
      "node_id": "PRRC_kwDOABII585OzdAe",
      "diff_hunk": "@@ -28,6 +28,17 @@ enum class Encoding {\n     BECH32M, //!< Bech32m encoding as defined in BIP350\n };\n \n+/** Character limits for bech32(m) encoded strings. Character limits are how we provide error location guarantees.\n+ *  These values should never exceed 2^31 - 1 (max value for a 32-bit int), since there are places where we may need to\n+ *  convert the CharLimit::VALUE to an int. In practice, this should never happen since this CharLimit applies to an address encoding\n+ *  and we would never encode an address with such a massive value */\n+enum CharLimit : size_t {\n+    NO_LIMIT = 0,           //!< Allows for Bech32(m) encoded strings of arbitruary size. No guarantees on the number of errors detected",
      "path": "src/bech32.h",
      "position": null,
      "original_position": 9,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "6c19662156f22e5d5bc06c7caadd45ecb57d8838",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "typo nit:\r\n```suggestion\r\n    NO_LIMIT = 0,           //!< Allows for Bech32(m) encoded strings of arbitrary size. No guarantees on the number of errors detected\r\n```",
      "created_at": "2023-09-11T21:55:38Z",
      "updated_at": "2023-09-11T22:01:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322111006",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322111006"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322478110",
      "pull_request_review_id": 1621370670,
      "id": 1322478110,
      "node_id": "PRRC_kwDOABII585O02oe",
      "diff_hunk": "@@ -127,12 +146,29 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n     }\n \n     data.clear();\n-    const auto dec = bech32::Decode(str);\n+    const auto dec = bech32::Decode(str, is_silent_payment ? bech32::CharLimit::SILENT_PAYMENTS : bech32::CharLimit::SEGWIT);\n     if (dec.encoding == bech32::Encoding::BECH32 || dec.encoding == bech32::Encoding::BECH32M) {\n         if (dec.data.empty()) {\n             error_str = \"Empty Bech32 data section\";\n             return CNoDestination();\n         }\n+        if (is_silent_payment) {\n+            if (!ConvertBits<5, 8, false>([&](unsigned char c) { data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+                return CNoDestination();\n+            }\n+            if (data.size() < SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment data payload is too small (expected at least %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }\n+            auto version = dec.data[0];  // retrieve the version\n+            if (version == 0 && data.size() != SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment version is v0 but data is not the correct size (expected %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }",
      "path": "src/key_io.cpp",
      "position": 71,
      "original_position": 65,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "3235eb8c63ea055c68fdf59bb20afd6f06f294e4",
      "in_reply_to_id": 1321932172,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Since SP addresses are forward-compatible, we don't care: we always read the first 66 bytes as two pubkeys and ignore the rest. However, we do need a check here for v31 or greater, as this indicates a backward incompatible change",
      "created_at": "2023-09-12T06:19:00Z",
      "updated_at": "2023-09-12T06:19:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322478110",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322478110"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": 171,
      "original_start_line": 164,
      "start_side": "RIGHT",
      "line": 174,
      "original_line": 174,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322486435",
      "pull_request_review_id": 1621387375,
      "id": 1322486435,
      "node_id": "PRRC_kwDOABII585O04qj",
      "diff_hunk": "@@ -291,6 +291,11 @@ struct CRecipient\n     CTxDestination dest;\n     CAmount nAmount;\n     bool fSubtractFeeFromAmount;\n+\n+    friend bool operator==(const CRecipient& a, const CRecipient& b)\n+    {\n+        return a.dest == b.dest && a.nAmount == b.nAmount;",
      "path": "src/wallet/wallet.h",
      "position": 7,
      "original_position": 7,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": 1321992598,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe? If we want to know if the actual objects themselves are equal, then yes, but if we wan't a more conceptual \"are these the same transaction output,\" then I'd argue no?",
      "created_at": "2023-09-12T06:27:26Z",
      "updated_at": "2023-09-12T06:27:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322486435",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322486435"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 297,
      "original_line": 297,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322492851",
      "pull_request_review_id": 1621394667,
      "id": 1322492851,
      "node_id": "PRRC_kwDOABII585O06Oz",
      "diff_hunk": "@@ -47,7 +47,7 @@ MessageVerificationResult MessageVerify(\n         return MessageVerificationResult::ERR_PUBKEY_NOT_RECOVERED;\n     }\n \n-    if (!(CTxDestination(PKHash(pubkey)) == destination)) {\n+    if (!(PKHash(pubkey) == *std::get_if<PKHash>(&destination))) {",
      "path": "src/util/message.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "c14ad74f8eeaa744d831a77654164c856a86fdee",
      "in_reply_to_id": 1322085628,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is a fix for an `-Wuninitialized` warning, see https://github.com/bitcoin/bitcoin/pull/28246#discussion_r1318874324",
      "created_at": "2023-09-12T06:32:22Z",
      "updated_at": "2023-09-12T06:32:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322492851",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322492851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 50,
      "start_side": "LEFT",
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322494680",
      "pull_request_review_id": 1621397132,
      "id": 1322494680,
      "node_id": "PRRC_kwDOABII585O06rY",
      "diff_hunk": "@@ -109,9 +117,14 @@ using CTxDestination = std::variant<CNoDestination, PKHash, ScriptHash, WitnessV\n bool IsValidDestination(const CTxDestination& dest);\n \n /**\n- * Parse a standard scriptPubKey for the destination address. Assigns result to\n- * the addressRet parameter and returns true if successful. Currently only works for P2PK,\n- * P2PKH, P2SH, P2WPKH, and P2WSH scripts.\n+ * Parse a scriptPubKey for the destination.\n+ *\n+ * For standard scripts that have addresses (and P2PK as an exception), a corresponding CTxDestination\n+ * is assigned to addressRet.\n+ * For all other scripts. addressRet is assigned as a CNoDestination containing the scriptPubKey.",
      "path": "src/addresstype.h",
      "position": null,
      "original_position": 54,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "621b1ca6fbdf66ccf9da84c38fcc3b18de9e95fe",
      "in_reply_to_id": 1322087391,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "These commits belong to https://github.com/bitcoin/bitcoin/pull/28246 , might be better to leave a review there",
      "created_at": "2023-09-12T06:33:59Z",
      "updated_at": "2023-09-12T06:34:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322494680",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322494680"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322509903",
      "pull_request_review_id": 1621418854,
      "id": 1322509903,
      "node_id": "PRRC_kwDOABII585O0-ZP",
      "diff_hunk": "@@ -172,6 +174,62 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+void CKey::TweakAdd(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+void CKey::TweakMultiply(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+// WARNING: DO NOT USE THIS FUNCTION OUTSIDE OF SILENT PAYMENTS\n+// This function returns the un-hashed ECDH result and is specific to silent payments.\n+// If ECDH is required for a different use-case, use a function which hashes the result (as is standard practice).\n+CPubKey CKey::UnhashedECDH(const CPubKey& pubkey) const\n+{\n+    unsigned char shared_secret[33];\n+\n+    secp256k1_pubkey ecdh_pubkey;",
      "path": "src/key.cpp",
      "position": 43,
      "original_position": 44,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": 1322105942,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hm, it seems a bit odd to assert that the passed pubkey is valid? I think it's safe to assume that validation was done upstream by the caller. Also, I agree that we want to avoid doing expensive checks here as this function is called during scanning.\r\n\r\nI'll add the assert for the private key, though, as this seems in keeping with what the other code with private keys is doing.",
      "created_at": "2023-09-12T06:39:43Z",
      "updated_at": "2023-09-12T06:39:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322509903",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322509903"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": 199,
      "original_start_line": 200,
      "start_side": "RIGHT",
      "line": 200,
      "original_line": 200,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322511068",
      "pull_request_review_id": 1621420675,
      "id": 1322511068,
      "node_id": "PRRC_kwDOABII585O0-rc",
      "diff_hunk": "@@ -287,10 +294,19 @@ class XOnlyPubKey\n     bool operator!=(const XOnlyPubKey& other) const { return m_keydata != other.m_keydata; }\n     bool operator<(const XOnlyPubKey& other) const { return m_keydata < other.m_keydata; }\n \n+    CPubKey ConvertToCompressedPubKey(bool even = true) const",
      "path": "src/pubkey.h",
      "position": 32,
      "original_position": 25,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": 1322109527,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good catch! This is dead code from an old version of the PR, will remove it",
      "created_at": "2023-09-12T06:40:03Z",
      "updated_at": "2023-09-12T06:40:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322511068",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322511068"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 297,
      "original_line": 297,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322657369",
      "pull_request_review_id": 1621645655,
      "id": 1322657369,
      "node_id": "PRRC_kwDOABII585O1iZZ",
      "diff_hunk": "@@ -287,10 +294,19 @@ class XOnlyPubKey\n     bool operator!=(const XOnlyPubKey& other) const { return m_keydata != other.m_keydata; }\n     bool operator<(const XOnlyPubKey& other) const { return m_keydata < other.m_keydata; }\n \n+    CPubKey ConvertToCompressedPubKey(bool even = true) const",
      "path": "src/pubkey.h",
      "position": 32,
      "original_position": 25,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": 1322109527,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2023-09-12T08:36:52Z",
      "updated_at": "2023-09-12T08:36:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322657369",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322657369"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 297,
      "original_line": 297,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322657542",
      "pull_request_review_id": 1621645945,
      "id": 1322657542,
      "node_id": "PRRC_kwDOABII585O1icG",
      "diff_hunk": "@@ -28,6 +28,17 @@ enum class Encoding {\n     BECH32M, //!< Bech32m encoding as defined in BIP350\n };\n \n+/** Character limits for bech32(m) encoded strings. Character limits are how we provide error location guarantees.\n+ *  These values should never exceed 2^31 - 1 (max value for a 32-bit int), since there are places where we may need to\n+ *  convert the CharLimit::VALUE to an int. In practice, this should never happen since this CharLimit applies to an address encoding\n+ *  and we would never encode an address with such a massive value */\n+enum CharLimit : size_t {\n+    NO_LIMIT = 0,           //!< Allows for Bech32(m) encoded strings of arbitruary size. No guarantees on the number of errors detected",
      "path": "src/bech32.h",
      "position": null,
      "original_position": 9,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "6c19662156f22e5d5bc06c7caadd45ecb57d8838",
      "in_reply_to_id": 1322111006,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed",
      "created_at": "2023-09-12T08:37:00Z",
      "updated_at": "2023-09-12T08:37:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322657542",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322657542"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322678701",
      "pull_request_review_id": 1621677864,
      "id": 1322678701,
      "node_id": "PRRC_kwDOABII585O1nmt",
      "diff_hunk": "@@ -172,6 +174,62 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+void CKey::TweakAdd(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+void CKey::TweakMultiply(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+// WARNING: DO NOT USE THIS FUNCTION OUTSIDE OF SILENT PAYMENTS\n+// This function returns the un-hashed ECDH result and is specific to silent payments.\n+// If ECDH is required for a different use-case, use a function which hashes the result (as is standard practice).\n+CPubKey CKey::UnhashedECDH(const CPubKey& pubkey) const\n+{\n+    unsigned char shared_secret[33];\n+\n+    secp256k1_pubkey ecdh_pubkey;",
      "path": "src/key.cpp",
      "position": 43,
      "original_position": 44,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": 1322105942,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added `assert(fValid)` check for CKey and also made the functions consistent with the rest of the CPubKey/CKey functions by returning a bool instead of an `assert` inside a void function",
      "created_at": "2023-09-12T08:49:19Z",
      "updated_at": "2023-09-12T08:49:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322678701",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322678701"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": 199,
      "original_start_line": 200,
      "start_side": "RIGHT",
      "line": 200,
      "original_line": 200,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322681203",
      "pull_request_review_id": 1621681227,
      "id": 1322681203,
      "node_id": "PRRC_kwDOABII585O1oNz",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": 1322002928,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-09-12T08:50:02Z",
      "updated_at": "2023-09-12T08:50:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322681203",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322681203"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 25,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322682361",
      "pull_request_review_id": 1621682782,
      "id": 1322682361,
      "node_id": "PRRC_kwDOABII585O1of5",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const auto& given = sender[\"given\"];\n+            const auto& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : sender[\"given\"][\"outpoints\"].getValues()) {\n+                outpoints.emplace_back(uint256S(outpoint[0].get_str()), outpoint[1].getInt<uint32_t>());\n+            }\n+\n+            std::vector<std::pair<CKey, bool>> sender_secret_keys;\n+            for (const auto& key : given[\"input_priv_keys\"].getValues()) {\n+                sender_secret_keys.emplace_back(ParseHexToCKey(key[0].get_str()), key[1].get_bool());\n+            }\n+            std::vector<CRecipient> silent_payment_addresses;\n+            for (const auto& recipient : given[\"recipients\"].getValues()) {\n+                std::string silent_payment_address = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                const auto& sp = DecodeDestination(silent_payment_address);\n+                silent_payment_addresses.push_back(CRecipient{sp, amount, false});\n+            }\n+\n+            // silent payments logic\n+            CKey scalar_ecdh_input = PrepareScalarECDHInput(sender_secret_keys, outpoints);\n+\n+            std::map<size_t, V0SilentPaymentDestination> sp_dests;\n+            for (size_t i = 0; i < silent_payment_addresses.size(); ++i) {\n+                if (const auto* sp = std::get_if<V0SilentPaymentDestination>(&silent_payment_addresses.at(i).dest)) {\n+                    sp_dests[i] = *sp;\n+                }\n+            }\n+            std::map<size_t, WitnessV1Taproot> sp_tr_dests = GenerateSilentPaymentTaprootDestinations(scalar_ecdh_input, sp_dests);\n+\n+            for (const auto& [out_idx, tr_dest] : sp_tr_dests) {\n+                assert(out_idx < silent_payment_addresses.size());\n+                silent_payment_addresses[out_idx].dest = tr_dest;\n+            }\n+\n+            std::vector<CRecipient> expected_spks;\n+            for (const auto& recipient : expected[\"outputs\"].getValues()) {\n+                std::string pubkey_hex = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                auto tap = WitnessV1Taproot(XOnlyPubKey(ParseHex(pubkey_hex)));\n+                expected_spks.push_back(CRecipient{tap, amount, false});\n+            }\n+\n+            BOOST_CHECK(silent_payment_addresses.size() == expected_spks.size());\n+            for (const auto& spk : silent_payment_addresses) {\n+                BOOST_CHECK(std::find(expected_spks.begin(), expected_spks.end(), spk) != expected_spks.end());\n+            }\n+        }\n+\n+        // Test receiving\n+        for (const auto& recipient : vec[\"receiving\"].getValues()) {\n+            // TODO: implement labels for Bitcoin Core, until then skip the receiving with labels tests\n+            if (recipient[\"supports_labels\"].get_bool()) {\n+                BOOST_TEST_MESSAGE(\"Labels not implemented; skipping..\");\n+                continue;\n+            }\n+\n+            const auto& given = recipient[\"given\"];\n+            const auto& expected = recipient[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : recipient[\"given\"][\"outpoints\"].getValues()) {",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 105,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": 1321988533,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-09-12T08:50:24Z",
      "updated_at": "2023-09-12T08:50:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322682361",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322682361"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 105,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322683508",
      "pull_request_review_id": 1621684261,
      "id": 1322683508,
      "node_id": "PRRC_kwDOABII585O1ox0",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const auto& given = sender[\"given\"];\n+            const auto& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : sender[\"given\"][\"outpoints\"].getValues()) {",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": 1321986126,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-09-12T08:50:45Z",
      "updated_at": "2023-09-12T08:50:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322683508",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322683508"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322684719",
      "pull_request_review_id": 1621686020,
      "id": 1322684719,
      "node_id": "PRRC_kwDOABII585O1pEv",
      "diff_hunk": "@@ -0,0 +1,210 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+#include <wallet/wallet.h>",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "644ff77be819a2dea15be0daad10fca8524a18f4",
      "in_reply_to_id": 1321983071,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-09-12T08:51:06Z",
      "updated_at": "2023-09-12T08:51:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322684719",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322684719"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322686496",
      "pull_request_review_id": 1621688279,
      "id": 1322686496,
      "node_id": "PRRC_kwDOABII585O1pgg",
      "diff_hunk": "@@ -0,0 +1,210 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& outpoints_hash)\n+{\n+    auto tweaked_scan_seckey{scan_key};\n+    tweaked_scan_seckey.TweakMultiply(outpoints_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.UnhashedECDH(sender_public_key);\n+    assert(result.IsValid());\n+    return result;\n+}\n+\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index)\n+{\n+    HashWriter h;\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    return h.GetSHA256();\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<uint256> tweaks;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        uint256 tweak = ComputeTweak(ecdh_pubkey, output_index);\n+        CPubKey computed_sp_pubkey = spend_pubkey.TweakAdd(tweak.data());\n+        const XOnlyPubKey& sp_pubkey = XOnlyPubKey{computed_sp_pubkey};\n+        //const CKey& silent_payment_priv_key = tweakResult.first;\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto output_pubkey) {\n+            if (sp_pubkey == output_pubkey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                tweaks.emplace_back(tweak);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return tweaks;\n+}\n+\n+std::optional<std::pair<uint256, CPubKey>> GetSilentPaymentsTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins)\n+{\n+\n+    // Extract the keys from the inputs\n+    // or skip if no valid inputs\n+    std::vector<CPubKey> input_pubkeys;\n+    std::vector<COutPoint> input_outpoints;\n+    for (const CTxIn& txin : vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        Assert(!coin.IsSpent());\n+        input_outpoints.emplace_back(txin.prevout);\n+\n+        std::vector<std::vector<unsigned char>> solutions;\n+        TxoutType type = Solver(coin.out.scriptPubKey, solutions);\n+        if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+            // Check for H point in script path spend\n+            if (txin.scriptWitness.stack.size() > 1) {\n+                // Check for annex\n+                bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+                size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+                if (post_annex_size > 1) {\n+                    // Actually a script path spend\n+                    const std::vector<unsigned char>& control = txin.scriptWitness.stack.back();",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 95,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "644ff77be819a2dea15be0daad10fca8524a18f4",
      "in_reply_to_id": 1321964059,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done",
      "created_at": "2023-09-12T08:51:35Z",
      "updated_at": "2023-09-12T08:51:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322686496",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322686496"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 95,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322687900",
      "pull_request_review_id": 1621689539,
      "id": 1322687900,
      "node_id": "PRRC_kwDOABII585O1p2c",
      "diff_hunk": "@@ -64,6 +66,21 @@ class DestinationEncoder\n         return bech32::Encode(bech32::Encoding::BECH32M, m_params.Bech32HRP(), data);\n     }\n \n+    std::string operator()(const V0SilentPaymentDestination& sp) const\n+    {\n+        // The data_in is scan_pubkey + spend_pubkey\n+        std::vector<unsigned char> data_in = {};\n+        data_in.reserve(66);\n+        // Set 0 as the silent payments version\n+        std::vector<unsigned char> data_out = {0};\n+        data_out.reserve(67);",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "3235eb8c63ea055c68fdf59bb20afd6f06f294e4",
      "in_reply_to_id": 1321935455,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed and added a comment",
      "created_at": "2023-09-12T08:51:51Z",
      "updated_at": "2023-09-12T08:51:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322687900",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322687900"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 76,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322710781",
      "pull_request_review_id": 1621717226,
      "id": 1322710781,
      "node_id": "PRRC_kwDOABII585O1vb9",
      "diff_hunk": "@@ -127,12 +146,29 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n     }\n \n     data.clear();\n-    const auto dec = bech32::Decode(str);\n+    const auto dec = bech32::Decode(str, is_silent_payment ? bech32::CharLimit::SILENT_PAYMENTS : bech32::CharLimit::SEGWIT);\n     if (dec.encoding == bech32::Encoding::BECH32 || dec.encoding == bech32::Encoding::BECH32M) {\n         if (dec.data.empty()) {\n             error_str = \"Empty Bech32 data section\";\n             return CNoDestination();\n         }\n+        if (is_silent_payment) {\n+            if (!ConvertBits<5, 8, false>([&](unsigned char c) { data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+                return CNoDestination();\n+            }\n+            if (data.size() < SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment data payload is too small (expected at least %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }\n+            auto version = dec.data[0];  // retrieve the version\n+            if (version == 0 && data.size() != SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment version is v0 but data is not the correct size (expected %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }",
      "path": "src/key_io.cpp",
      "position": 71,
      "original_position": 65,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "3235eb8c63ea055c68fdf59bb20afd6f06f294e4",
      "in_reply_to_id": 1321932172,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added a check for version >= 31",
      "created_at": "2023-09-12T08:59:48Z",
      "updated_at": "2023-09-12T08:59:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322710781",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322710781"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": 171,
      "original_start_line": 164,
      "start_side": "RIGHT",
      "line": 174,
      "original_line": 174,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322712121",
      "pull_request_review_id": 1621718896,
      "id": 1322712121,
      "node_id": "PRRC_kwDOABII585O1vw5",
      "diff_hunk": "@@ -256,6 +259,22 @@ std::optional<std::pair<XOnlyPubKey, bool>> XOnlyPubKey::CreateTapTweak(const ui\n     return ret;\n }\n \n+CPubKey CPubKey::TweakAdd(const unsigned char *tweak32) const\n+{\n+    secp256k1_pubkey original_pubkey;\n+    int return_val = secp256k1_ec_pubkey_parse(secp256k1_context_static, &original_pubkey, data(), size());\n+    assert(return_val);\n+\n+    return_val = secp256k1_ec_pubkey_tweak_add(secp256k1_context_static, &original_pubkey, tweak32);\n+    assert(return_val);\n+\n+    unsigned char pubkey_bytes[COMPRESSED_SIZE];\n+    size_t publen = COMPRESSED_SIZE;\n+    return_val = secp256k1_ec_pubkey_serialize(secp256k1_context_static, pubkey_bytes, &publen, &original_pubkey, SECP256K1_EC_COMPRESSED);\n+    assert(return_val);\n+\n+    return CPubKey(pubkey_bytes);",
      "path": "src/pubkey.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": 1321926230,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Fixed, and also updated CKey::TweakAdd,TweakMultiply to return a bool (instead of an assert + void), as this better matches the CKey/CPubKey api",
      "created_at": "2023-09-12T09:00:36Z",
      "updated_at": "2023-09-12T09:00:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322712121",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322712121"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322766028",
      "pull_request_review_id": 1621803348,
      "id": 1322766028,
      "node_id": "PRRC_kwDOABII585O187M",
      "diff_hunk": "@@ -109,9 +117,14 @@ using CTxDestination = std::variant<CNoDestination, PKHash, ScriptHash, WitnessV\n bool IsValidDestination(const CTxDestination& dest);\n \n /**\n- * Parse a standard scriptPubKey for the destination address. Assigns result to\n- * the addressRet parameter and returns true if successful. Currently only works for P2PK,\n- * P2PKH, P2SH, P2WPKH, and P2WSH scripts.\n+ * Parse a scriptPubKey for the destination.\n+ *\n+ * For standard scripts that have addresses (and P2PK as an exception), a corresponding CTxDestination\n+ * is assigned to addressRet.\n+ * For all other scripts. addressRet is assigned as a CNoDestination containing the scriptPubKey.",
      "path": "src/addresstype.h",
      "position": null,
      "original_position": 54,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "621b1ca6fbdf66ccf9da84c38fcc3b18de9e95fe",
      "in_reply_to_id": 1322087391,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oops, indeed! It might be a good idea to read PR descriptions before starting a review 😅 ",
      "created_at": "2023-09-12T09:42:58Z",
      "updated_at": "2023-09-12T09:42:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322766028",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322766028"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 157,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1323413818",
      "pull_request_review_id": 1622885912,
      "id": 1323413818,
      "node_id": "PRRC_kwDOABII585O4bE6",
      "diff_hunk": "@@ -0,0 +1,241 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+\n+namespace wallet {\n+\n+uint256 GenerateSilentPaymentChangeTweak(const CKey& scan_key)\n+{\n+    HashWriter hasher;\n+    hasher.write(scan_key);\n+    return hasher.GetSHA256();\n+}\n+\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label)\n+{\n+    CPubKey labeled_spend_pubkey{receiver.m_spend_pubkey};\n+    labeled_spend_pubkey.TweakAdd(label.data());\n+    return V0SilentPaymentDestination{receiver.m_scan_pubkey, labeled_spend_pubkey};\n+}\n+\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& outpoints_hash)\n+{\n+    auto tweaked_scan_seckey{scan_key};\n+    tweaked_scan_seckey.TweakMultiply(outpoints_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.UnhashedECDH(sender_public_key);\n+    assert(result.IsValid());\n+    return result;\n+}\n+\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index)\n+{\n+    HashWriter h;\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    return h.GetSHA256();\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<uint256> tweaks;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        uint256 tweak = ComputeTweak(ecdh_pubkey, output_index);\n+        CPubKey computed_sp_pubkey{spend_pubkey};\n+        computed_sp_pubkey.TweakAdd(tweak.data());\n+        const XOnlyPubKey& sp_pubkey = XOnlyPubKey{computed_sp_pubkey};\n+        //const CKey& silent_payment_priv_key = tweakResult.first;\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto output_pubkey) {\n+            if (sp_pubkey == output_pubkey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                tweaks.emplace_back(tweak);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return tweaks;\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys, const std::pair<uint256, CPubKey> change_label)\n+{\n+    // Scan first for any outputs to us, and then check if there is any change\n+    std::vector<uint256> tweaks = GetTxOutputTweaks(spend_pubkey, ecdh_pubkey, output_pub_keys);\n+    std::vector<uint256> labeled_tweaks = GetTxOutputTweaks(change_label.second, ecdh_pubkey, output_pub_keys);",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 92,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "93ff4ce117d4b85128dd55630d2dc9f8efbfb473",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In 93ff4ce117d4b85128dd55630d2dc9f8efbfb473 \"Implement BIP352: Silent Payments\"\r\n\r\nIn the current receiving PR, `change_label` is a pair of the change label and it's corresponding curve point. However this is expecting it as the pair of the change label and the resulting spend pubkey.",
      "created_at": "2023-09-12T18:29:04Z",
      "updated_at": "2023-09-12T18:29:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1323413818",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1323413818"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 92,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1352780841",
      "pull_request_review_id": 1668088009,
      "id": 1352780841,
      "node_id": "PRRC_kwDOABII585Qocwp",
      "diff_hunk": "@@ -0,0 +1,172 @@\n+#include <addresstype.h>\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    std::vector<unsigned char> hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key;\n+    key.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key.Derive(key, index));\n+    }\n+    return key.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const UniValue& given = sender[\"given\"];\n+            const UniValue& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : given[\"outpoints\"].getValues()) {\n+                outpoints.emplace_back(uint256S(outpoint[0].get_str()), outpoint[1].getInt<uint32_t>());\n+            }\n+\n+            std::vector<std::pair<CKey, bool>> sender_secret_keys;\n+            for (const auto& key : given[\"input_priv_keys\"].getValues()) {",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": 52,
      "original_position": 52,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "With current implementation, we can't have test vectors for sending that include non-eligible sp inputs. This is because we just sum all the private keys without checking if the input is eligible. I propose to extract eligibility checking as a function from `GetSilentPaymentsTweakDataFromTxInputs` so we can use it here in the unit test.",
      "created_at": "2023-10-10T15:16:22Z",
      "updated_at": "2023-10-10T15:16:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1352780841",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1352780841"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 52,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365267891",
      "pull_request_review_id": 1687287831,
      "id": 1365267891,
      "node_id": "PRRC_kwDOABII585RYFWz",
      "diff_hunk": "@@ -0,0 +1,294 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+\n+namespace wallet {\n+\n+uint256 GenerateSilentPaymentChangeTweak(const CKey& scan_key)\n+{\n+    HashWriter hasher;\n+    hasher.write(scan_key);\n+    return hasher.GetSHA256();\n+}\n+\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label)\n+{\n+    CPubKey labeled_spend_pubkey{receiver.m_spend_pubkey};\n+    labeled_spend_pubkey.TweakAdd(label.data());\n+    return V0SilentPaymentDestination{receiver.m_scan_pubkey, labeled_spend_pubkey};\n+}\n+\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& outpoints_hash)\n+{\n+    CKey tweaked_scan_seckey{scan_key};\n+    tweaked_scan_seckey.TweakMultiply(outpoints_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.UnhashedECDH(sender_public_key);\n+    assert(result.IsValid());\n+    return result;\n+}\n+\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index)\n+{\n+    HashWriter h;\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    return h.GetSHA256();\n+}\n+\n+CPubKey CreateOutput(const CKey& ecdh_scalar, const CPubKey& scan_pubkey, const CPubKey& spend_pubkey, const uint32_t output_index)\n+{\n+    CPubKey ecdh_pubkey = ecdh_scalar.UnhashedECDH(scan_pubkey);\n+    HashWriter h;\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+    CPubKey silent_payment_output{spend_pubkey};\n+    silent_payment_output.TweakAdd(shared_secret.begin());\n+    return silent_payment_output;\n+}\n+\n+CPubKey SumInputPubKeys(const std::vector<CPubKey>& pubkeys)\n+{\n+    CPubKey sum_pubkey{pubkeys.at(0)};\n+    if (pubkeys.size() == 1) return sum_pubkey;\n+    for (size_t i = 1; i < pubkeys.size(); i++) {\n+        sum_pubkey = sum_pubkey + pubkeys.at(i);\n+    }\n+    return sum_pubkey;\n+}\n+\n+CKey SumInputPrivKeys(const std::vector<std::pair<CKey, bool>>& sender_secret_keys)\n+{\n+    // Grab the first key, copy it to the accumulator, and negate if necessary\n+    const auto& [seckey, is_taproot] = sender_secret_keys.at(0);\n+    CKey sum_seckey{seckey};\n+    if (is_taproot && sum_seckey.GetPubKey()[0] == 3) sum_seckey.Negate();\n+    if (sender_secret_keys.size() == 1) return sum_seckey;\n+\n+    // If there are more keys, check if the key needs to be negated and add it to the accumulator\n+    for (size_t i = 1; i < sender_secret_keys.size(); i++) {\n+        const auto& [sender_seckey, sender_is_taproot] = sender_secret_keys.at(i);\n+        CKey temp_key{sender_seckey};\n+        if (sender_is_taproot && sender_seckey.GetPubKey()[0] == 3) {\n+            temp_key.Negate();\n+        }\n+        sum_seckey.TweakAdd(temp_key.begin());\n+    }\n+    return sum_seckey;\n+}\n+\n+CKey PrepareScalarECDHInput(const std::vector<std::pair<CKey, bool>>& sender_secret_keys, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    CKey sum_input_secret_keys = SumInputPrivKeys(sender_secret_keys);\n+    uint256 outpoints_hash = HashOutpoints(tx_outpoints);\n+    sum_input_secret_keys.TweakMultiply(outpoints_hash.begin());\n+    return sum_input_secret_keys;\n+}\n+\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const CKey& ecdh_scalar, const std::map<size_t, V0SilentPaymentDestination>& sp_dests)\n+{\n+    std::map<CPubKey, std::vector<std::pair<CPubKey, size_t>>> sp_groups;\n+    std::map<size_t, WitnessV1Taproot> tr_dests;\n+\n+    for (const auto& [out_idx, sp_dest] : sp_dests) {\n+        sp_groups[sp_dest.m_scan_pubkey].emplace_back(sp_dest.m_spend_pubkey, out_idx);\n+    }\n+\n+    for (const auto& [scan_pubkey, spend_pubkeys] : sp_groups) {\n+        for (size_t i = 0; i < spend_pubkeys.size(); ++i) {\n+            const auto& [spend_pubkey, out_idx] = spend_pubkeys.at(i);\n+            tr_dests.emplace(out_idx, XOnlyPubKey{CreateOutput(ecdh_scalar, scan_pubkey, spend_pubkey, i)});\n+        }\n+    }\n+    return tr_dests;\n+}\n+\n+uint256 HashOutpoints(const std::vector<COutPoint>& tx_outpoints)\n+{\n+\n+    // Make a local copy of the outpoints so we can sort them before hashing.\n+    // This is to ensure the sender and receiver deterministically arrive at the same outpoint hash,\n+    // regardless of how the outpoints are ordered in the transaction.\n+\n+    std::vector<COutPoint> outpoints{tx_outpoints};\n+    std::sort(outpoints.begin(), outpoints.end());\n+\n+    HashWriter h;\n+    for (const auto& outpoint: outpoints) {\n+        h << outpoint;\n+    }\n+    return h.GetSHA256();\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys, const std::map<CPubKey, uint256>& labels)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // Define a convenience lambda for correctly combining uint256 tweak data\n+    auto combine_tweaks = [](const uint256& tweak, const uint256& label_tweak) -> uint256 {\n+        uint256 combined_tweaks;\n+        CKey tmp;\n+        tmp.Set(tweak.begin(), tweak.end(), /*fCompressedIn=*/true);\n+        tmp.TweakAdd(label_tweak.begin());\n+        std::copy(tmp.begin(), tmp.end(), combined_tweaks.begin());\n+        return combined_tweaks;\n+    };\n+\n+    bool keep_going;\n+    uint32_t k{0};\n+    std::vector<uint256> tweaks;\n+    do {\n+        // We haven't found anything yet on this pass and if we make to the end without finding any\n+        // silent payment outputs everything left in the vector is not for us, so we stop scanning.\n+        keep_going = false;\n+\n+        // t_k = hash(ecdh_shared_secret || k)\n+        uint256 t_k = ComputeTweak(ecdh_pubkey, k);\n+\n+        // Compute P_k = B_spend + t_k * G, convert P_k to a P2TR output\n+        CPubKey P_k{spend_pubkey};\n+        P_k.TweakAdd(t_k.data());\n+        const XOnlyPubKey& P_k_xonly = XOnlyPubKey{P_k};\n+\n+        // Scan the transaction outputs, only continue scanning if there is a match\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](XOnlyPubKey output_pubkey) {\n+            bool found = P_k_xonly == output_pubkey;\n+            if (!found) {\n+                if (labels.size() < 3) {\n+                    // If we have less than 3 labels, it's cheaper to check by adding each label to each output.\n+                    // This ends up being at most N * 2 ECC additions, where N is the number of taproot outputs in the transaction.\n+                    // This is primarily for wallets that are only using a single label for generating silent payments change outputs.\n+                    for (const auto& [m_G, m] : labels) {\n+                        // Check P_k + m*G\n+                        CPubKey labeled_spend_key{P_k + m_G};\n+                        if (output_pubkey.ConvertToCompressedPubKey(/*even=*/true) == labeled_spend_key) {\n+                            t_k = combine_tweaks(t_k, m);\n+                            found = true;\n+                            break;\n+                        }\n+                        // If we don't find a label with the even output, also check the odd (negated) output\n+                        // Note: changing the parity byte from even to odd is not as expensive as negating an EC point\n+                        if (output_pubkey.ConvertToCompressedPubKey(/*even=*/false) == labeled_spend_key) {\n+                            t_k = combine_tweaks(t_k, m);\n+                            found = true;\n+                            break;\n+                        }\n+                    }\n+                } else {\n+                    // If we have 3 or more labels, checking via subtraction is cheaper.\n+                    // This ends up being at most N * 2 ECC operations (two subtractions) and a lookup in the labels map,\n+                    // where N is the number of taproot outputs in the transaction\n+                    std::map<CPubKey, uint256>::const_iterator it = labels.end();\n+                    // For an XOnlyPubKey, converting it to an odd compressed key is equivalent to negation.\n+                    // We use P_k_negated for subtraction: output + ( - P_k ),\n+                    // so first we need to check the parity byte of the compute P_K public key\n+                    bool parity = (P_k.begin()[0] == 0x02) ? true : false;\n+                    CPubKey P_k_negated = P_k_xonly.ConvertToCompressedPubKey(/*even=*/!parity);\n+                    it = labels.find(output_pubkey.ConvertToCompressedPubKey(/*even=*/true) + P_k_negated);\n+                    if (it == labels.end()) {\n+                        // If not found on the first try, negate the output and check again.\n+                        it = labels.find(output_pubkey.ConvertToCompressedPubKey(/*even=*/false) + P_k_negated);\n+                    }\n+                    if (it != labels.end()) {\n+                        t_k = combine_tweaks(t_k, it->second);\n+                        found = true;\n+                    }\n+                }\n+            }\n+            if (found) {\n+                // Since we found an output, we need to increment k and check the vector again\n+                tweaks.emplace_back(t_k);\n+                keep_going = true;\n+                k++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && keep_going);\n+    return tweaks;\n+}\n+\n+std::optional<std::pair<uint256, CPubKey>> GetSilentPaymentsTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins)",
      "path": "src/wallet/silentpayments.cpp",
      "position": 233,
      "original_position": 233,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "original_commit_id": "699577c91101b4be56bffcec4f0fa48f7d8916f0",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "According to the BIP we should skip the whole tx if there's unknown witness input. As currently, implemented it will silently skip just that input and attempt to proceed. I added a test vector for unknown witness version",
      "created_at": "2023-10-19T10:20:33Z",
      "updated_at": "2023-10-19T10:20:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1365267891",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365267891"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 233,
      "original_line": 233,
      "side": "RIGHT"
    }
  ]
}