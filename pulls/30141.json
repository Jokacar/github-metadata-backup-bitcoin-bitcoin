{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141",
    "id": 1877177962,
    "node_id": "PR_kwDOABII585v43Zq",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30141",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30141.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30141.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/45e0c96e81b5f0c364af717b7cb2d9bc094372de",
    "number": 30141,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "kernel: De-globalize validation caches",
    "user": {
      "login": "TheCharlatan",
      "id": 8421793,
      "node_id": "MDQ6VXNlcjg0MjE3OTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheCharlatan",
      "html_url": "https://github.com/TheCharlatan",
      "followers_url": "https://api.github.com/users/TheCharlatan/followers",
      "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
      "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
      "repos_url": "https://api.github.com/users/TheCharlatan/repos",
      "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The validation caches are currently setup independently from where the rest of the validation code is initialized. This makes their ownership semantics unclear. There is also no clear enforcement on when and in what order they need to be initialized. The caches are always initialized in the `BasicTestingSetup` although a number of tests don't actually need them.\r\n\r\nSolve this by moving the caches from global scope into the `ChainstateManager` class. This simplifies the usage of the kernel library by no longer requiring manual setup of the caches prior to using the `ChainstateManager`. Tests that need to access the caches can instantiate them independently.\r\n\r\n---\r\nThis pull request is part of the [libbitcoinkernel project](https://github.com/bitcoin/bitcoin/issues/27587).",
    "labels": [
      {
        "id": 118379652,
        "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
        "name": "Validation",
        "color": "6060aa",
        "default": false
      }
    ],
    "created_at": "2024-05-19T14:17:42Z",
    "updated_at": "2024-07-02T13:49:58Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "b450508b4e686a58d68bc87a60d04d362c92b36c",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "TheCharlatan:noGlobalScriptCache",
      "ref": "noGlobalScriptCache",
      "sha": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 94456368,
        "node_id": "MDEwOlJlcG9zaXRvcnk5NDQ1NjM2OA==",
        "name": "bitcoin",
        "full_name": "TheCharlatan/bitcoin",
        "owner": {
          "login": "TheCharlatan",
          "id": 8421793,
          "node_id": "MDQ6VXNlcjg0MjE3OTM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TheCharlatan",
          "html_url": "https://github.com/TheCharlatan",
          "followers_url": "https://api.github.com/users/TheCharlatan/followers",
          "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
          "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
          "repos_url": "https://api.github.com/users/TheCharlatan/repos",
          "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/TheCharlatan/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/TheCharlatan/bitcoin",
        "archive_url": "https://api.github.com/repos/TheCharlatan/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/TheCharlatan/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/TheCharlatan/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/TheCharlatan/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/TheCharlatan/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/TheCharlatan/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/TheCharlatan/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/events",
        "forks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/TheCharlatan/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/TheCharlatan/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/TheCharlatan/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/TheCharlatan/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/TheCharlatan/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/TheCharlatan/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/TheCharlatan/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/TheCharlatan/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/TheCharlatan/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/TheCharlatan/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:TheCharlatan/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/TheCharlatan/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/TheCharlatan/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/TheCharlatan/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/TheCharlatan/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/TheCharlatan/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/TheCharlatan/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/TheCharlatan/bitcoin/hooks",
        "svn_url": "https://github.com/TheCharlatan/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 240305,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-02T12:38:17Z",
        "created_at": "2017-06-15T16:03:35Z",
        "updated_at": "2024-06-30T21:19:17Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "d2c8d161b46bd62256a17abd086d8ae138c043c3",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35587,
        "stargazers_count": 77057,
        "watchers_count": 77057,
        "size": 262358,
        "default_branch": "master",
        "open_issues_count": 684,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-07-02T12:46:36Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-07-02T12:59:28Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 202,
    "deletions": 262,
    "changed_files": 19,
    "commits": 6,
    "review_comments": 46,
    "comments": 14
  },
  "events": [
    {
      "event": "commented",
      "id": 2119254138,
      "node_id": "IC_kwDOABII585-UUB6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2119254138",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-19T14:17:45Z",
      "updated_at": "2024-07-02T13:49:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30141).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2153906841) |\n| Concept ACK | [ajtowns](https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2066739761) |\n| Stale ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2180895187), [theuni](https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2148613939), [glozow](https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2151586199) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30344](https://github.com/bitcoin/bitcoin/pull/30344) (kernel: remove mempool_persist by theuni)\n* [#30342](https://github.com/bitcoin/bitcoin/pull/30342) (kernel, logging: Pass Logger instances to kernel objects by ryanofsky)\n* [#30332](https://github.com/bitcoin/bitcoin/pull/30332) (Stratum v2 connectivity by Sjors)\n* [#29745](https://github.com/bitcoin/bitcoin/pull/29745) (bench: Adds a benchmark for CheckInputScripts by kevkevinpal)\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo/LogDebug over LogPrintf/LogPrint by maflcko)\n* [#29520](https://github.com/bitcoin/bitcoin/pull/29520) (add `-limitdummyscriptdatasize` option by Retropex)\n* [#29432](https://github.com/bitcoin/bitcoin/pull/29432) (Stratum v2 Template Provider (take 3) by Sjors)\n* [#28676](https://github.com/bitcoin/bitcoin/pull/28676) ([WIP] Cluster mempool implementation by sdaftuar)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2119254138",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "labeled",
      "id": 12858538525,
      "node_id": "LE_lADOABII586JXeoFzwAAAAL-bbod",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12858538525",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-19T14:17:47Z",
      "label": {
        "name": "Validation",
        "color": "6060aa"
      }
    },
    {
      "event": "ready_for_review",
      "id": 12858899189,
      "node_id": "RFRE_lADOABII586JXeoFzwAAAAL-czr1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12858899189",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-19T17:36:25Z"
    },
    {
      "event": "reviewed",
      "id": 2066739761,
      "node_id": "PRR_kwDOABII5857L_Ix",
      "url": null,
      "actor": null,
      "commit_id": "79c9c55b27bd113885da2c36ad76e5ed145027b3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2066739761",
      "submitted_at": "2024-05-20T18:09:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "reviewed",
      "id": 2066845490,
      "node_id": "PRR_kwDOABII5857MY8y",
      "url": null,
      "actor": null,
      "commit_id": "79c9c55b27bd113885da2c36ad76e5ed145027b3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK. Nice.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2066845490",
      "submitted_at": "2024-05-20T19:09:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "reviewed",
      "id": 2066862012,
      "node_id": "PRR_kwDOABII5857Mc-8",
      "url": null,
      "actor": null,
      "commit_id": "79c9c55b27bd113885da2c36ad76e5ed145027b3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2066862012",
      "submitted_at": "2024-05-20T19:19:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12876273607,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAL_fFfH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12876273607",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:36:53Z"
    },
    {
      "event": "commented",
      "id": 2122100379,
      "node_id": "IC_kwDOABII585-fK6b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2122100379",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:47:10Z",
      "updated_at": "2024-05-21T08:47:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 79c9c55b27bd113885da2c36ad76e5ed145027b3 -> 4a1df97a016935348e50f384ed52a6671990835f ([noGlobalScriptCache_0](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_0) -> [noGlobalScriptCache_1](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_1), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_0..noGlobalScriptCache_1))\r\n\r\n* Addressed @theuni's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1607175446), made `CSignatureCache` more RAII styled.\r\n* Addressed @ajtowns's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1607094214), applied his suggestion of dropping the error handling if the cache size exceeds the `uint32_t` maximum value.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2122100379",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 12876416884,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAL_fod0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12876416884",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:47:11Z"
    },
    {
      "event": "subscribed",
      "id": 12876416899,
      "node_id": "SE_lADOABII586JXeoFzwAAAAL_foeD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12876416899",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:47:11Z"
    },
    {
      "event": "mentioned",
      "id": 12876416924,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAL_foec",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12876416924",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:47:11Z"
    },
    {
      "event": "subscribed",
      "id": 12876416944,
      "node_id": "SE_lADOABII586JXeoFzwAAAAL_foew",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12876416944",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T08:47:11Z"
    },
    {
      "event": "reviewed",
      "id": 2069624268,
      "node_id": "PRR_kwDOABII5857W_XM",
      "url": null,
      "actor": null,
      "commit_id": "4a1df97a016935348e50f384ed52a6671990835f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2069624268",
      "submitted_at": "2024-05-21T21:06:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12885606054,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMACr6m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12885606054",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T21:20:35Z"
    },
    {
      "event": "commented",
      "id": 2123462834,
      "node_id": "IC_kwDOABII585-kXiy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2123462834",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T21:20:58Z",
      "updated_at": "2024-05-21T21:20:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 4a1df97a016935348e50f384ed52a6671990835f -> 5b1576bbc664a07e00b5528e13c1928df9bc9b0c ([noGlobalScriptCache_1](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_1) -> [noGlobalScriptCache_2](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_2), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_1..noGlobalScriptCache_2))\r\n\r\n* Addressed @theuni's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1608951984), fixed outdated comment.\r\n",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2123462834",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 12885609750,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMACs0W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12885609750",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T21:21:00Z"
    },
    {
      "event": "subscribed",
      "id": 12885609764,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMACs0k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12885609764",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T21:21:00Z"
    },
    {
      "event": "labeled",
      "id": 12887758389,
      "node_id": "LE_lADOABII586JXeoFzwAAAAMAK5Y1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12887758389",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-22T03:26:39Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 12892297104,
      "node_id": "UNLE_lADOABII586JXeoFzwAAAAMAcNeQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12892297104",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-22T10:32:47Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 13191772112,
      "node_id": "LE_lADOABII586JXeoFzwAAAAMSSnfQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13191772112",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-17T21:16:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13197526877,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMSokdd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13197526877",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-18T08:40:11Z"
    },
    {
      "event": "commented",
      "id": 2175538120,
      "node_id": "IC_kwDOABII586BrBPI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2175538120",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-18T08:40:29Z",
      "updated_at": "2024-06-18T08:40:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased 5b1576bbc664a07e00b5528e13c1928df9bc9b0c -> 63923c8da686da42f522771f338ea8f2a4f4e568 ([noGlobalScriptCache_2](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_2) -> [noGlobalScriptCache_3](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_3), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_2..noGlobalScriptCache_3))\r\n\r\n* Fixed conflict with #30058",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2175538120",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "unlabeled",
      "id": 13198494191,
      "node_id": "UNLE_lADOABII586JXeoFzwAAAAMSsQnv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13198494191",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-18T09:52:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2125109551,
      "node_id": "PRR_kwDOABII585-qpkv",
      "url": null,
      "actor": null,
      "commit_id": "63923c8da686da42f522771f338ea8f2a4f4e568",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK 63923c8da686da42f522771f338ea8f2a4f4e568",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2125109551",
      "submitted_at": "2024-06-18T20:47:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13212889876,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMTjLMU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13212889876",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T08:57:06Z"
    },
    {
      "event": "commented",
      "id": 2178139748,
      "node_id": "IC_kwDOABII586B08Zk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2178139748",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T08:57:11Z",
      "updated_at": "2024-06-19T08:57:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the review @stickies-v,\r\n\r\n63923c8da686da42f522771f338ea8f2a4f4e568 -> 6ad4aa82056030a8a72b1315676e0703c1500d0d ([noGlobalScriptCache_3](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_3) -> [noGlobalScriptCache_4](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_4), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_3..noGlobalScriptCache_4))\r\n\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1644415772), deleting copy and move constructor of the newly introduced `ValidationCache` class.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645009465), applying the suggestion of making the pre-initialized hasher private and adding a getter for it.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2178139748",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 13212891323,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMTjLi7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13212891323",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T08:57:13Z"
    },
    {
      "event": "subscribed",
      "id": 13212891339,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMTjLjL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13212891339",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T08:57:13Z"
    },
    {
      "event": "reviewed",
      "id": 2128427867,
      "node_id": "PRR_kwDOABII585-3Ttb",
      "url": null,
      "actor": null,
      "commit_id": "f015a501e4bbb4985b52783591031e4e39496009",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2128427867",
      "submitted_at": "2024-06-19T14:17:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13218037363,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMT2z5z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13218037363",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:15:54Z"
    },
    {
      "event": "commented",
      "id": 2178956138,
      "node_id": "IC_kwDOABII586B4Dtq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2178956138",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:15:59Z",
      "updated_at": "2024-06-19T15:15:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "6ad4aa82056030a8a72b1315676e0703c1500d0d -> fa660a266b3aa03f40c47a9330e3bce8be89bb54 ([noGlobalScriptCache_4](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_4) -> [noGlobalScriptCache_5](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_5), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_4..noGlobalScriptCache_5))\r\n\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645856227), changing integer type of `requested_num_elems`.\r\n* Addressed @maflcko's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646290588), reverting introduction of a separate `m_validation_cache` member in the `Dersig100Setup` testing class and instead using `m_node.chainman->m_validation_cache`.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2178956138",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 13218038633,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMT20Np",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13218038633",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:16:00Z"
    },
    {
      "event": "subscribed",
      "id": 13218038644,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMT20N0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13218038644",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:16:00Z"
    },
    {
      "event": "mentioned",
      "id": 13218038655,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMT20N_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13218038655",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:16:01Z"
    },
    {
      "event": "subscribed",
      "id": 13218038668,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMT20OM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13218038668",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-19T15:16:01Z"
    },
    {
      "event": "reviewed",
      "id": 2128584316,
      "node_id": "PRR_kwDOABII585-3558",
      "url": null,
      "actor": null,
      "commit_id": "f1dad94b9d51db6dc7702e51f943c24a17222b1a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2128584316",
      "submitted_at": "2024-06-19T15:19:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13227202074,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMUZxYa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13227202074",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T10:47:50Z"
    },
    {
      "event": "commented",
      "id": 2180376101,
      "node_id": "IC_kwDOABII586B9eYl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2180376101",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T10:47:54Z",
      "updated_at": "2024-06-20T10:47:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "fa660a266b3aa03f40c47a9330e3bce8be89bb54 -> f946b083fe1431fb8d5d2c080ed3c2938116c37a ([noGlobalScriptCache_5](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_5) -> [noGlobalScriptCache_6](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_6), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_5..noGlobalScriptCache_6))\r\n\r\n* Addressed @maflcko's [nit](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646381635), removing unnecessary casts by using a template param and allowing type narrowing instead.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2180376101",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 13227203044,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMUZxnk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13227203044",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T10:47:55Z"
    },
    {
      "event": "subscribed",
      "id": 13227203059,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMUZxnz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13227203059",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T10:47:56Z"
    },
    {
      "event": "reviewed",
      "id": 2128595258,
      "node_id": "PRR_kwDOABII585-38k6",
      "url": null,
      "actor": null,
      "commit_id": "f946b083fe1431fb8d5d2c080ed3c2938116c37a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "lgtm ACK f946b083fe1431fb8d5d2c080ed3c2938116c37a 📪\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: lgtm ACK f946b083fe1431fb8d5d2c080ed3c2938116c37a 📪\r\n+e/Gr2EKw0EMF23Rn1I/M82DRXfwFyZ4Z4OTj9mkYl5Ts/2bHRLeFTINRyp5/NELtGmmoWQsNpJJtGXbXGW2BA==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2128595258",
      "submitted_at": "2024-06-20T13:53:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "review_requested",
      "id": 13229649807,
      "node_id": "RRE_lADOABII586JXeoFzwAAAAMUjG-P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13229649807",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T13:53:29Z",
      "requested_reviewer": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 13229649971,
      "node_id": "RRE_lADOABII586JXeoFzwAAAAMUjHAz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13229649971",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T13:53:30Z",
      "requested_reviewer": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 13229650139,
      "node_id": "RRE_lADOABII586JXeoFzwAAAAMUjHDb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13229650139",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T13:53:31Z",
      "requested_reviewer": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13230322546,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMUlrNy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13230322546",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T14:36:31Z"
    },
    {
      "event": "commented",
      "id": 2180871592,
      "node_id": "IC_kwDOABII586B_XWo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2180871592",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T14:36:37Z",
      "updated_at": "2024-06-20T14:36:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "f946b083fe1431fb8d5d2c080ed3c2938116c37a -> 974934b3c23ce7f34ef46f3dfc13468cd46f4b8a ([noGlobalScriptCache_6](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_6) -> [noGlobalScriptCache_7](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_7), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_6..noGlobalScriptCache_7))\r\n\r\n* Addressed @maflcko's [nit](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1647123546), removed unused includes.\r\n* Addressed @maflcko's [nit](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1647514586), fixed ordering of changes.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2180871592",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 13230324416,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMUlrrA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13230324416",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T14:36:39Z"
    },
    {
      "event": "subscribed",
      "id": 13230324435,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMUlrrT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13230324435",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T14:36:39Z"
    },
    {
      "event": "commented",
      "id": 2180895187,
      "node_id": "IC_kwDOABII586B_dHT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2180895187",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-20T14:46:46Z",
      "updated_at": "2024-06-20T14:46:46Z",
      "author_association": "MEMBER",
      "body": "ACK 974934b3c23ce7f34ef46f3dfc13468cd46f4b8a 🌤\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: ACK 974934b3c23ce7f34ef46f3dfc13468cd46f4b8a 🌤\r\nt0ljkEzhaLlyhqM3Wen2M5qYseMJ8IvP7zBw8W314vzPwSnjzO8HfmrSCiuIpIyFKH9EAxgkpqPBONPeTrvwAg==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2180895187",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "reviewed",
      "id": 2145715522,
      "node_id": "PRR_kwDOABII585_5QVC",
      "url": null,
      "actor": null,
      "commit_id": "974934b3c23ce7f34ef46f3dfc13468cd46f4b8a",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK modulo the non-copyable comment.\r\n\r\nLooks good. Left some comments with a few nice-to-have's. I'm not sure how much trouble it'd be to pass in the nonces (and whether it's 100% safe to reuse them), so that might make more sense as a follow-up.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2145715522",
      "submitted_at": "2024-06-27T15:52:22Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "reviewed",
      "id": 2128509733,
      "node_id": "PRR_kwDOABII585-3nsl",
      "url": null,
      "actor": null,
      "commit_id": "974934b3c23ce7f34ef46f3dfc13468cd46f4b8a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 974934b3c23ce7f34ef46f3dfc13468cd46f4b8a\r\n\r\nReduces dependencies on globals, cleans up the code, and generally makes it more robust through more self-contained code using an RAII-like pattern for `ValidationCache`, not requiring manual initialization of the caches preventing footguns.\r\n\r\nI think is good as-is but would prefer addressing various outstanding nits from reviewers as I think some are important enough - will quickly re-ACK myself.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2128509733",
      "submitted_at": "2024-06-27T19:33:52Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "review_requested",
      "id": 13322662353,
      "node_id": "RRE_lADOABII586JXeoFzwAAAAMaF7HR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13322662353",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-27T19:33:55Z",
      "requested_reviewer": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13330465221,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMajsHF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13330465221",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T11:37:14Z"
    },
    {
      "event": "commented",
      "id": 2196705221,
      "node_id": "IC_kwDOABII586C7w_F",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2196705221",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T11:37:15Z",
      "updated_at": "2024-06-28T11:52:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the reviews @stickies-v and @theuni!\r\n\r\nUpdated 974934b3c23ce7f34ef46f3dfc13468cd46f4b8a -> 475c57ba482abd8675d0d3ccde98452808be5536 ([noGlobalScriptCache_7](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_7) -> [noGlobalScriptCache_8](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_8), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_7..noGlobalScriptCache_8))\r\n\r\n* Addressed @theuni's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657322116), removed unneeded using declaration.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646473144), removed incorrect description of cache size clamping behavior.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646343915), removed unneeded `optional` include.\r\n* Addressed @theuni's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657330024), marking getter for `m_script_execution_cache_hasher` as `const`.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646478869), fixing docstring typo for the script execution cache hasher.\r\n* Addressed @theuni's and @stickies-v's [comments](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657457261), removing the copy constructor of the `SignatureCache` class. Also removed the move constructor, since I don't see a good reason why that should be kept around either.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657671482), renaming `CSignatureCache` to `SignatureCache`.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657682792), moving `signature_cache` initialization closer to where it is used in `script_p2sh_tests.cpp`.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2196705221",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 13330465842,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMajsQy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13330465842",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T11:37:17Z"
    },
    {
      "event": "subscribed",
      "id": 13330465848,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMajsQ4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13330465848",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T11:37:17Z"
    },
    {
      "event": "mentioned",
      "id": 13330465865,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMajsRJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13330465865",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T11:37:17Z"
    },
    {
      "event": "subscribed",
      "id": 13330465879,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMajsRX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13330465879",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T11:37:17Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13330627037,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMakTnd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13330627037",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T11:52:31Z"
    },
    {
      "event": "commented",
      "id": 2196845660,
      "node_id": "IC_kwDOABII586C8TRc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2196845660",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T12:57:07Z",
      "updated_at": "2024-06-28T12:57:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK 475c57ba482abd8675d0d3ccde98452808be5536, addressing outstanding review nits / touchups, no fundamental changes.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2196845660",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "review_requested",
      "id": 13331354933,
      "node_id": "RRE_lADOABII586JXeoFzwAAAAManFU1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13331354933",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T12:57:11Z",
      "requested_reviewer": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 2148094315,
      "node_id": "PRR_kwDOABII586ACVFr",
      "url": null,
      "actor": null,
      "commit_id": "475c57ba482abd8675d0d3ccde98452808be5536",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2148094315",
      "submitted_at": "2024-06-28T14:01:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "review_requested",
      "id": 13332184365,
      "node_id": "RRE_lADOABII586JXeoFzwAAAAMaqP0t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13332184365",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T14:01:08Z",
      "requested_reviewer": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13333433946,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMavA5a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13333433946",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T15:38:52Z"
    },
    {
      "event": "commented",
      "id": 2197197304,
      "node_id": "IC_kwDOABII586C9pH4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2197197304",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T15:38:55Z",
      "updated_at": "2024-06-28T15:41:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated 475c57ba482abd8675d0d3ccde98452808be5536 -> 064a401e10f2b2da8f31f682929431d06c671d93 ([noGlobalScriptCache_8](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_8) -> [noGlobalScriptCache_9](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_9), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_8..noGlobalScriptCache_9))\r\n\r\n* Addressed @theuni's [comment_1](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1658797600) and [comment_2](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1658806068), reverting deletion of the move constructor in the caches.\r\n* Addressed @theuni's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1658791383), fixup in the commit message.\r\n* Applied suggestion in @theuni's [comment_1](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657337310) and [comment_2](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657354399), making the nonce used to initialize the caches a constructor argument, as well as re-using the same nonce for both caches. I did not expose it as an argument to the chainstate manager, but I'm also not completely sure if it is generated in a better spot now.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2197197304",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 13333434631,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMavBEH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13333434631",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T15:38:57Z"
    },
    {
      "event": "subscribed",
      "id": 13333434645,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMavBEV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13333434645",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T15:38:57Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13333456219,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMavGVb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13333456219",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T15:41:06Z"
    },
    {
      "event": "commented",
      "id": 2197223467,
      "node_id": "IC_kwDOABII586C9vgr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2197223467",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T15:55:14Z",
      "updated_at": "2024-06-28T15:55:14Z",
      "author_association": "MEMBER",
      "body": "> * Applied suggestion in @theuni's [comment_1](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657337310) and [comment_2](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657354399), making the nonce used to initialize the caches a constructor argument, as well as re-using the same nonce for both caches. I did not expose it as an argument to the chainstate manager, but I'm also not completely sure if it is generated in a better spot now.\r\n\r\nPaging @sipa for a quick concept ACK that use of a single nonce doesn't change any assumptions. See the comments above. ",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2197223467",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 13333599337,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMavpRp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13333599337",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T15:55:15Z"
    },
    {
      "event": "subscribed",
      "id": 13333599344,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMavpRw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13333599344",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T15:55:15Z"
    },
    {
      "event": "mentioned",
      "id": 13333599361,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMavpSB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13333599361",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T15:55:15Z"
    },
    {
      "event": "subscribed",
      "id": 13333599370,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMavpSK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13333599370",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T15:55:15Z"
    },
    {
      "event": "reviewed",
      "id": 2148613939,
      "node_id": "PRR_kwDOABII586AET8z",
      "url": null,
      "actor": null,
      "commit_id": "064a401e10f2b2da8f31f682929431d06c671d93",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK 064a401e10f2b2da8f31f682929431d06c671d93 assuming sipa doesn't have a problem with the shared nonce.",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2148613939",
      "submitted_at": "2024-06-28T17:37:23Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "review_requested",
      "id": 13334585667,
      "node_id": "RRE_lADOABII586JXeoFzwAAAAMazaFD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13334585667",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-28T17:37:27Z",
      "requested_reviewer": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "reviewed",
      "id": 2151586199,
      "node_id": "PRR_kwDOABII586APpmX",
      "url": null,
      "actor": null,
      "commit_id": "064a401e10f2b2da8f31f682929431d06c671d93",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "concept + light code review ACK 064a401e10f2b2da8f31f682929431d06c671d93",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2151586199",
      "submitted_at": "2024-07-01T14:51:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "reviewed",
      "id": 2153373722,
      "node_id": "PRR_kwDOABII586AWeAa",
      "url": null,
      "actor": null,
      "commit_id": "064a401e10f2b2da8f31f682929431d06c671d93",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK 064a401e10f2b2da8f31f682929431d06c671d93 , main change is using a single nonce for both caches\r\n\r\nI think the last commit 064a401e10f2b2da8f31f682929431d06c671d93 is unnecessary scope creep for this PR, and although it looks safe to me, I am not 100% confident I am grasping the full extent of the implications, and I think a separate PR would've been more suitable.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2153373722",
      "submitted_at": "2024-07-02T10:13:51Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDcxNzc0ZmI5ZjM3MTEwYzY4ZjdlZWQ4ZjBjZTljODU3ZDVmMTk2YzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71774fb9f37110c68f7eed8f0ce9c857d5f196c5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/71774fb9f37110c68f7eed8f0ce9c857d5f196c5",
      "tree": {
        "sha": "4eaeabf8a0b739576637f0eb9a379775196f46bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4eaeabf8a0b739576637f0eb9a379775196f46bc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4eaeabf8a0b739576637f0eb9a379775196f46bc\nparent d2c8d161b46bd62256a17abd086d8ae138c043c3\nauthor TheCharlatan <seb.kung@gmail.com> 1716237152 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1719917135 +0200\n\nvalidation: Don't error if maxsigcachesize exceeds uint32::max\n\nInstead clamp it to uint32::max if it exceeds it.\n\nCo-authored-by: Anthony Towns <aj@erisian.com.au>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmaD2k8ACgkQm3m0VpHb\nQXOIFw/+Ioi2NhhsZf4Xwkpkdn4y6i30+BvhM4fWWd3LyPxQOMuO/cxuCh+u8R76\nCmuJqi0Ft2uWSRS5PNGzOVjMaHsF/2DIMZ1GxAhNTDpAJoV/xTY+/SpvshddIAH0\nEu+w+HsiuVoXC+n3AZe1wq+o+B8KDVrRwIWwQIwjYKwcUU7ZNCP+070gvIDLcgfp\n3yxMH15g6p25G1T2gMZFPkJP6clo4MHd8Jeg+DmEGR7ptd1kW7wifm8LVEjUcR7i\n7+6+DhdlkaEQe628aZW/9If5SN4N4KPE4FqJt6BwNHXCMn8n097j9M30HCXTfd0H\nplf9L4CaprEsh+stQE3fr8bSUE0wm//6QbpTuB6e2I6i8sthyltLgwqi1WYB+/wQ\nAl0MlmGPje6f/hDylFBQxC5vNYcSpXHSE9Rmt9cJbr4a2EDYGmD2yyPiM6I90I3n\n3cWX6qi1aNqtTKB3QLx7/tUAvd9wQQW0LcY+ADh98GWPoBIqQolOPzSryiFHhGRt\nY73SBs3A055CGExcniPoDvFoajimDVDmOmoNOA05/LW9UieY6RjuSlXGYnCVHci8\niizLWiMIC342B/tS/rTvDzMxtnI7UK5mYwkIXb5bW2nmh2W471XckrfrYJ+tkAl1\n0D4p9dRsyj1nGW+xJJW2+/1UcKSbT8W53RSV4daoRtDrj4SjcCA=\n=ZAQW\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d2c8d161b46bd62256a17abd086d8ae138c043c3",
          "sha": "d2c8d161b46bd62256a17abd086d8ae138c043c3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d2c8d161b46bd62256a17abd086d8ae138c043c3"
        }
      ],
      "message": "validation: Don't error if maxsigcachesize exceeds uint32::max\n\nInstead clamp it to uint32::max if it exceeds it.\n\nCo-authored-by: Anthony Towns <aj@erisian.com.au>",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-07-02T10:45:35Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-05-20T20:32:32Z"
      },
      "sha": "71774fb9f37110c68f7eed8f0ce9c857d5f196c5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE5OTk3MDYyYjc2NDZjZTE2NGU3NjQ0NTlhNjRlNWM3YWExNzNiMTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a9997062b7646ce164e764459a64e5c7aa173b12",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a9997062b7646ce164e764459a64e5c7aa173b12",
      "tree": {
        "sha": "5b671849c5ab9bc679e4b175da81a046e5c82961",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5b671849c5ab9bc679e4b175da81a046e5c82961"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5b671849c5ab9bc679e4b175da81a046e5c82961\nparent 71774fb9f37110c68f7eed8f0ce9c857d5f196c5\nauthor TheCharlatan <seb.kung@gmail.com> 1715981605 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1719917138 +0200\n\nkernel: De-globalize script execution cache\n\nMove its ownership to the ChainstateManager class.\n\nNext to simplifying usage of the kernel library by no longer requiring\nmanual setup of the cache prior to using validation code, it also slims\ndown the amount of memory allocated by BasicTestingSetup.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmaD2lIACgkQm3m0VpHb\nQXP9ShAAmiFaDlpDvD0eTaS1szPnpMlgpgzGCbEw30eQU8Fr/1142W33X8DcpHVm\np/MJlcTtseQtiXFIBZwuwPrFSsmi8pkhuPJdYj7o0YEwTSJnx+9Lo3HDxpEjlKkT\nogXNZhtoptux9tylX3gAb/Qlo2TbkHRq3kiXoja7dbag5yjAlD+HU9ayFI4Uhfjm\nQZM8/dEFxceFiHmg1U69HRkTJ7uU65HR78G12u7Vj1quMe8oY7kkMwPV5cKhBtyp\n5bEzlM9rWr0tdxKmD+P/V64pRpZuXoHSjEhtWpU45tTBr3Or4qv3ATVNr21oRatU\nTrOPKk4hT2nwrCP+J0O6ltpvckLTrwN/zK8BWIW4pZMx1wsxXeP63edi7OsDS/iV\n2sVTSZlCDK2hWSCXuMOYRuxRMEPC2Qq/TpNnFGcZ1i/pFdrRbT+rXHuIrRw9Fn61\nbyfMZSCzAWcMIcNUqQ2pHleLyCqUPtAPKpCJIzkrknb0ZlumdFLBH9suXcDMe9lG\nRQqu59ZhGSctcnbybhoQUBhYclOS4VBJy7U/ArHXspuhMzlLTttG/Cg/4X5aphM+\nbm+jG/3GDiJGhnano2fkUMfxXzuj/avm2HOjzLWPO6Q3uu8WPKdq3sVmahUu5k2L\nsexk6jhwExcSSuBbsSgrtI5tApaDv61G4PCUClPMW5qIzxnQ0nQ=\n=woLA\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/71774fb9f37110c68f7eed8f0ce9c857d5f196c5",
          "sha": "71774fb9f37110c68f7eed8f0ce9c857d5f196c5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/71774fb9f37110c68f7eed8f0ce9c857d5f196c5"
        }
      ],
      "message": "kernel: De-globalize script execution cache\n\nMove its ownership to the ChainstateManager class.\n\nNext to simplifying usage of the kernel library by no longer requiring\nmanual setup of the cache prior to using validation code, it also slims\ndown the amount of memory allocated by BasicTestingSetup.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-07-02T10:45:38Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-05-17T21:33:25Z"
      },
      "sha": "a9997062b7646ce164e764459a64e5c7aa173b12"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ2OGM5OGM4ZTA4M2M2ODE5NDQyMmZjMWZmYzdmZDc3ZjRlMDM4M2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/468c98c8e083c68194422fc1ffc7fd77f4e0383d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/468c98c8e083c68194422fc1ffc7fd77f4e0383d",
      "tree": {
        "sha": "55b49e38dd9b39f4bdacb9ffff7d3d5cfb91e5b4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/55b49e38dd9b39f4bdacb9ffff7d3d5cfb91e5b4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 55b49e38dd9b39f4bdacb9ffff7d3d5cfb91e5b4\nparent a9997062b7646ce164e764459a64e5c7aa173b12\nauthor TheCharlatan <seb.kung@gmail.com> 1716059176 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1719918579 +0200\n\nkernel: De-globalize script execution cache hasher\n\nMove it to the ChainstateManager class.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmaD3/YACgkQm3m0VpHb\nQXO4qRAAgSvIYmFukD+iBtfZFlX1ZIb7MbvrNgCkn0JNXysTJihAhZAtJn/t252a\nzA/8FGpsmys8OEZcqlLPqt1JsC5u8K6iw1K0DVfHIttFZCTQFFdH43EBeRVEmtQE\nMqGJWGHz9PCaNVtnrtKqPL6Y2UsphOb8qn13Ms4M/U2crLIXKGS/1IoKNgdzkRJt\nV5vXvhRxO7e8tcAgL4zxGH+7qCPJGpselEY/PEi1aaGF04zK4jdgrhleOva9ACl+\n87viOmQ8ROu3U+XIAxHnU+5ZI65KrEv0T/maXXV3/516aOQMMr952peBw9O79bte\ngOq6JR8Qn1xrwMFhY9RjZbIccBzBzyq4tbZvt4numyR6jYAcvgsCl8cild2Rmd78\nyFcPtF5E8qWMwLxYGTTKrJP9tBrQDfT5Rgq8oiroioAlEFDtjjT55N1Yx4DaVZts\nUtpS3J+Arv+ujCKs5YNjFwzA+iRSPeLDSFSZ59yqPXXcBHECbrmUKDKU1g3mPS8U\nVBAWiyvpmz07aXYrQ+XZ1WF2bsIZRyYS8Fy6/gGeZyCXnmsAdDSjLPigoFe1XM7u\ns8Ekh/j4oisozPLlI0ooL6OaLx1BSepXPP25FZYPbFX5IfhzRDuRog8JSq8P/YIJ\nmEheP9FjX7uRyJtSzXkADrr8BrteT3Bd9O+0FXIu9r7tkHdpEhE=\n=htmW\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a9997062b7646ce164e764459a64e5c7aa173b12",
          "sha": "a9997062b7646ce164e764459a64e5c7aa173b12",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a9997062b7646ce164e764459a64e5c7aa173b12"
        }
      ],
      "message": "kernel: De-globalize script execution cache hasher\n\nMove it to the ChainstateManager class.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-07-02T11:09:39Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-05-18T19:06:16Z"
      },
      "sha": "468c98c8e083c68194422fc1ffc7fd77f4e0383d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFiYmE3MjRhYjc2NWI2MDNhNWZiZjUxNDUyNzkyNGJmYTYyNDc4Yzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/abba724ab765b603a5fbf514527924bfa62478c8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/abba724ab765b603a5fbf514527924bfa62478c8",
      "tree": {
        "sha": "eb0d874586b9299a72161780005dae3c4f7ea8d0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/eb0d874586b9299a72161780005dae3c4f7ea8d0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree eb0d874586b9299a72161780005dae3c4f7ea8d0\nparent 468c98c8e083c68194422fc1ffc7fd77f4e0383d\nauthor TheCharlatan <seb.kung@gmail.com> 1716061188 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1719918593 +0200\n\nExpose CSignatureCache class in header\n\nThis is done in preparation for the following commit. Also rename it to\nSignatureCache.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmaD4AEACgkQm3m0VpHb\nQXNuvw//S4pIYVWX8cKXvqRa4/mZbnV9X6Ceon99HiIZPRhkeglLMXxngvE8pxRt\nn3U3f+bm7blmWxS8HKaKrdyplh36JAMioVadf10YTEjWdcdnvEJiuKxY7SJlpY0T\n3oBIOo+6sJmBmvC+oHN9i/S7lOEhlACE99VQm7LUZqhQ3m5WwHsQVRHqWNIWoaye\nkekYnM7yl4VsYIGjN1fpfeEVBAYi+R75OKerVRVFLITVL5Ctoa0eW7RCP1KxVf7o\nz1J8toZ5/tsUUPwIbIlVV/2ZXu5PRS/3gVhnRynqNhwjdKrQPuyBS5kj+LzoHjBj\nzdkq2z5jNfdKOSxkhEGSMEutiGJaN5NkTKQMTkirjhd+XjEqs879Gte9lC14UZK/\nzqmSqiT6zlWBJRQY29q4tSBhYGIyOAmChUdFNDpFeJ5KdZ17GB5c7ncNlfP14afl\nNeQIuejw3sBPKE6udznAeo3UIU/C54t3M8ZmI/2m5pXEq7JnkkjeXuJYPjYq0t1M\n3ndABhKb8vO2xbskYrIHMu7/yav+naPAvXXYjo1jae1FRuaIjU4LWZoBnoUwA1UJ\n4n7OqmJ/4hGO7d5QvGBCZSKUo382PxSKhkCdoXpiSuaN3iNCAL8uuKCOfMfSrqV/\nO2jrL0nkJRkYQurbv/4yJEoqaW8NtebIX0IMXIkAxEW+h3B+na4=\n=OAjO\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/468c98c8e083c68194422fc1ffc7fd77f4e0383d",
          "sha": "468c98c8e083c68194422fc1ffc7fd77f4e0383d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/468c98c8e083c68194422fc1ffc7fd77f4e0383d"
        }
      ],
      "message": "Expose CSignatureCache class in header\n\nThis is done in preparation for the following commit. Also rename it to\nSignatureCache.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-07-02T11:09:53Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-05-18T19:39:48Z"
      },
      "sha": "abba724ab765b603a5fbf514527924bfa62478c8"
    },
    {
      "event": "labeled",
      "id": 13364315719,
      "node_id": "LE_lADOABII586JXeoFzwAAAAMck0ZH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13364315719",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-02T11:16:59Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdkZDkyZDZmZDhmMGY1MmZjZmMzMjczOWMzMDMxMjJjN2U3NjMwYWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7dd92d6fd8f0f52fcfc32739c303122c7e7630ab",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7dd92d6fd8f0f52fcfc32739c303122c7e7630ab",
      "tree": {
        "sha": "e5a98947777b276d5361bfe31e9784dadefec89d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e5a98947777b276d5361bfe31e9784dadefec89d"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e5a98947777b276d5361bfe31e9784dadefec89d\nparent abba724ab765b603a5fbf514527924bfa62478c8\nauthor TheCharlatan <seb.kung@gmail.com> 1716023924 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1719921528 +0200\n\nkernel: De-globalize signature cache\n\nMove its ownership to the ChainstateManager class.\n\nNext to simplifying usage of the kernel library by no longer requiring\nmanual setup of the cache prior to using validation code, it also slims\ndown the amount of memory allocated by BasicTestingSetup.\n\nUse this opportunity to make SignatureCache RAII styled\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmaD63kACgkQm3m0VpHb\nQXOFzw/+Ov8r/lxSjewh2qj9sBMflygI2+a/JumQjaJs5qIDl0myiC56VFEdI7P9\nZXOqrLLroFOCeY8qhvVo7Nt6swFmr0TPAPhoKLGzlh7UlFFQAVxfEwZReKgVfHFT\nNg8d6lijhFFyvWDNrBC96FxfGL70xwacVgBIGi6UIfDl4fTicHV+Gy9lXIBjHTeC\nfEIYsxRT077N3WsLbMWvsTQgQK6MYXbHI+x9BuCd8cfBJc4xwdhjY3gD9OwLQXAG\noDWczhSDKE8f5fSOTx4Yd+zC0mqRzkWTzyp5Cf0Xbi/gtgp/23sH+fPruPaQKRAw\nOZ4qObgFAJMuE8/nepMeVSIYgIWKtAutbPb9HXAhhqI1cl7DRZ99jh3wypdQiwBc\nrAOMHmFpCbKOqBjuZewnW6LyoJatNJJpf/m4thN0nfhMGkUIZY+5gqZe7/WomAXy\nIcQ1Kz1JAPwMLqkfFvZ714LkjbzKUNR9qOHt6T3dBNGCq2NS41JBIxIJkkM1jphX\nt0M+9MDOM4mlIhpiq9rxHuRq1fEh4V9Gx+W66g6seojKGnZOuJ21zhaaAW04/w3t\n1tfkxqDUCmsqJd3stFK0kmV4IycINoFSNlmsDnSTHYOGbfRefbUePxxPVQxTZiFg\ncff3TwS5Us7eSt7eOWFYBDpK79g3jtmE5ryU8mg4xnXIrR8i/64=\n=Sdjp\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/abba724ab765b603a5fbf514527924bfa62478c8",
          "sha": "abba724ab765b603a5fbf514527924bfa62478c8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/abba724ab765b603a5fbf514527924bfa62478c8"
        }
      ],
      "message": "kernel: De-globalize signature cache\n\nMove its ownership to the ChainstateManager class.\n\nNext to simplifying usage of the kernel library by no longer requiring\nmanual setup of the cache prior to using validation code, it also slims\ndown the amount of memory allocated by BasicTestingSetup.\n\nUse this opportunity to make SignatureCache RAII styled",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-07-02T11:58:48Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-05-18T09:18:44Z"
      },
      "sha": "7dd92d6fd8f0f52fcfc32739c303122c7e7630ab"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ1ZTBjOTZlODFiNWYwYzM2NGFmNzE3YjdjYjJkOWJjMDk0MzcyZGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "tree": {
        "sha": "b83b607db69d58fb09134da09108c6afaa356690",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b83b607db69d58fb09134da09108c6afaa356690"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b83b607db69d58fb09134da09108c6afaa356690\nparent 7dd92d6fd8f0f52fcfc32739c303122c7e7630ab\nauthor TheCharlatan <seb.kung@gmail.com> 1719588261 +0200\ncommitter TheCharlatan <seb.kung@gmail.com> 1719921566 +0200\n\nvalidation: Use a single nonce to initialize caches\n\nPotentially allowing a deterministic nonce to be passed in could also be\nuseful for future testing.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE8s/Eq9C5nYN+67fQm3m0VpHbQXMFAmaD66AACgkQm3m0VpHb\nQXPc9w/8C6jUVZHjREeqKkp4L4mLes/36Orw1gaQco7NFTMPJe1Lyb/F9Z0ZSAUl\nWw1IcID5dBKHZzpkEneaqRRORyUarFcfXy0/wF6luGkVC5wD5jXETTx4vz0TMS3H\nlYlGHPcpd3hbkoeDLUBDi4+TQlkYAflFNHShMYw2gsv3+dzvAX1BmcHN3yzuan8x\nV3QwSf3HuHXBv4dq3W0sZHUUQxnvKGPzDmcn/cwpd3ZzdNjzaK6rfInmHEeB8Dsl\nmC5dcaaWVzkuuHJ/rPKwxUnR4XkKe3FM7e2nKf5zL8dgX6BEP3DQEXL0RX1sMWOi\ns3rXTKWBHAkrT3ucVzSu4lZKGIsFSTH/J1tzGWH7v6WrSqB1GEbETFPpeLN5zZhE\nEqv+nrk64wOm9DV1uCYoCrVqAVv/zbZX0gotWdp0BJPplrsR8h553DWkb1f4eKzg\nclWo/h81JUxc3ySLDPsYie3Y1HwGoVwd3++V82pbGpYMkI/YpwhRvWkfGZCAAFMB\nTTxHkppDd6aXa3KeKpMmfcE/dsFH9zsafLbFEwUKm42XoLJBpsX8ktzETGk8pDe6\ny6S3y4ypyBdotttdx73vpVmO04fMFwGJSsF8D28K5tyN8m3/T6zNu6g5BBfOCnZN\nFNpsQICqboGTIPimTSXXbJ4ib93tOqOwZzlDgE2DWcu3vSqpSjo=\n=AeWY\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7dd92d6fd8f0f52fcfc32739c303122c7e7630ab",
          "sha": "7dd92d6fd8f0f52fcfc32739c303122c7e7630ab",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7dd92d6fd8f0f52fcfc32739c303122c7e7630ab"
        }
      ],
      "message": "validation: Use a single nonce to initialize caches\n\nPotentially allowing a deterministic nonce to be passed in could also be\nuseful for future testing.",
      "committer": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-07-02T11:59:26Z"
      },
      "author": {
        "name": "TheCharlatan",
        "email": "seb.kung@gmail.com",
        "date": "2024-06-28T15:24:21Z"
      },
      "sha": "45e0c96e81b5f0c364af717b7cb2d9bc094372de"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13365413139,
      "node_id": "HRFPE_lADOABII586JXeoFzwAAAAMcpAUT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13365413139",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-02T12:38:19Z"
    },
    {
      "event": "commented",
      "id": 2203056850,
      "node_id": "IC_kwDOABII586DT_rS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2203056850",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-02T12:38:59Z",
      "updated_at": "2024-07-02T12:38:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the review @glozow,\r\n\r\nRebased 064a401e10f2b2da8f31f682929431d06c671d93 -> 732879b99565aa21c6cab8c754e67cf1d9425854 ([noGlobalScriptCache_9](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_9) -> [noGlobalScriptCache_10](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_10), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_9..noGlobalScriptCache_10))\r\n\r\n* Fixed conflict with #30344\r\n\r\nUpdated 732879b99565aa21c6cab8c754e67cf1d9425854 -> 45e0c96e81b5f0c364af717b7cb2d9bc094372de ([noGlobalScriptCache_10](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_10) -> [noGlobalScriptCache_11](https://github.com/TheCharlatan/bitcoin/tree/noGlobalScriptCache_11), [compare](https://github.com/TheCharlatan/bitcoin/compare/noGlobalScriptCache_10..noGlobalScriptCache_11))\r\n\r\n* Addressed @glozow's [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1661166403), added a short docstring to declare the intention of copying the pre-initialized hasher.\r\n* Reverted a change to the `script_sigcache` fuzz test that would re-initialize the cache on each fuzzing input. Instead initialize it once as done before through the basic testing setup.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#issuecomment-2203056850",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30141"
    },
    {
      "event": "mentioned",
      "id": 13365422664,
      "node_id": "MEE_lADOABII586JXeoFzwAAAAMcpCpI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13365422664",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-02T12:39:00Z"
    },
    {
      "event": "subscribed",
      "id": 13365422695,
      "node_id": "SE_lADOABII586JXeoFzwAAAAMcpCpn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13365422695",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-02T12:39:00Z"
    },
    {
      "event": "unlabeled",
      "id": 13366078741,
      "node_id": "UNLE_lADOABII586JXeoFzwAAAAMcri0V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13366078741",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-02T13:21:35Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2153906841,
      "node_id": "PRR_kwDOABII586AYgKZ",
      "url": null,
      "actor": null,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK 45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#pullrequestreview-2153906841",
      "submitted_at": "2024-07-02T13:49:52Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
    },
    {
      "event": "review_requested",
      "id": 13366567600,
      "node_id": "RRE_lADOABII586JXeoFzwAAAAMctaKw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13366567600",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-02T13:49:57Z",
      "requested_reviewer": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "review_requested",
      "id": 13366567829,
      "node_id": "RRE_lADOABII586JXeoFzwAAAAMctaOV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13366567829",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-02T13:49:58Z",
      "requested_reviewer": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      }
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607094214",
      "pull_request_review_id": 2066739761,
      "id": 1607094214,
      "node_id": "PRRC_kwDOABII585fyk_G",
      "diff_hunk": "@@ -924,7 +930,7 @@ class ChainstateManager\n public:\n     using Options = kernel::ChainstateManagerOpts;\n \n-    explicit ChainstateManager(const util::SignalInterrupt& interrupt, Options options, node::BlockManager::Options blockman_options);\n+    explicit ChainstateManager(const util::SignalInterrupt& interrupt, Options options, node::BlockManager::Options blockman_options, bilingual_str& error);",
      "path": "src/validation.h",
      "position": null,
      "original_position": 45,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "353ba0a19e73e888b5788f5fa10fca682b5ea4f5",
      "in_reply_to_id": null,
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Rather than adding an error return in the constructor here, wouldn't it be better to change our cuckoo cache to clamp its size when given too large a value? ie, `InitScriptExecutionCache(135000000)` is treated as `134,217,727` instead? The value passed in is only used as an approximate target in the first place. Historical context is #25527.\r\n\r\n<details>\r\n<summary>(example patch)</summary>\r\n\r\n```diff\r\n--- a/src/cuckoocache.h\r\n+++ b/src/cuckoocache.h\r\n@@ -360,16 +360,16 @@ public:\r\n      * structure\r\n      * @returns A pair of the maximum number of elements storable (see setup()\r\n      * documentation for more detail) and the approximate total size of these\r\n-     * elements in bytes or std::nullopt if the size requested is too large.\r\n+     * elements in bytes.\r\n      */\r\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t bytes)\r\n+    std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\r\n     {\r\n         size_t requested_num_elems = bytes / sizeof(Element);\r\n         if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\r\n-            return std::nullopt;\r\n+            requested_num_elems = std::numeric_limits<uint32_t>::max();\r\n         }\r\n \r\n-        auto num_elems = setup(bytes/sizeof(Element));\r\n+        auto num_elems = setup(requested_num_elems);\r\n \r\n         size_t approx_size_bytes = num_elems * sizeof(Element);\r\n         return std::make_pair(num_elems, approx_size_bytes);\r\n--- a/src/script/sigcache.cpp\r\n+++ b/src/script/sigcache.cpp\r\n@@ -77,7 +77,7 @@ public:\r\n         std::unique_lock<std::shared_mutex> lock(cs_sigcache);\r\n         setValid.insert(entry);\r\n     }\r\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t n)\r\n+    std::pair<uint32_t, size_t> setup_bytes(size_t n)\r\n     {\r\n         return setValid.setup_bytes(n);\r\n     }\r\n@@ -96,10 +96,7 @@ static CSignatureCache signatureCache;\r\n // signatureCache.\r\n bool InitSignatureCache(size_t max_size_bytes)\r\n {\r\n-    auto setup_results = signatureCache.setup_bytes(max_size_bytes);\r\n-    if (!setup_results) return false;\r\n-\r\n-    const auto [num_elems, approx_size_bytes] = *setup_results;\r\n+    const auto [num_elems, approx_size_bytes] = signatureCache.setup_bytes(max_size_bytes);\r\n     LogPrintf(\"Using %zu MiB out of %zu MiB requested for signature cache, able to store %zu elements\\n\",\r\n               approx_size_bytes >> 20, max_size_bytes >> 20, num_elems);\r\n     return true;\r\n--- a/src/validation.cpp\r\n+++ b/src/validation.cpp\r\n@@ -1939,10 +1939,8 @@ bool InitScriptExecutionCache(size_t max_size_bytes)\r\n     g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\r\n     g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\r\n \r\n-    auto setup_results = g_scriptExecutionCache.setup_bytes(max_size_bytes);\r\n-    if (!setup_results) return false;\r\n+    const auto [num_elems, approx_size_bytes] = g_scriptExecutionCache.setup_bytes(max_size_bytes);\r\n \r\n-    const auto [num_elems, approx_size_bytes] = *setup_results;\r\n     LogPrintf(\"Using %zu MiB out of %zu MiB requested for script execution cache, able to store %zu elements\\n\",\r\n               approx_size_bytes >> 20, max_size_bytes >> 20, num_elems);\r\n     return true;\r\n```\r\n</detail>",
      "created_at": "2024-05-20T18:04:56Z",
      "updated_at": "2024-05-20T18:09:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1607094214",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607094214"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 933,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607175446",
      "pull_request_review_id": 2066862012,
      "id": 1607175446,
      "node_id": "PRRC_kwDOABII585fy40W",
      "diff_hunk": "@@ -62,19 +62,11 @@ std::optional<std::pair<uint32_t, size_t>> CSignatureCache::setup_bytes(size_t n\n     return setValid.setup_bytes(n);\n }\n \n-/* In previous versions of this code, signatureCache was a local static variable\n- * in CachingTransactionSignatureChecker::VerifySignature.  We initialize\n- * signatureCache outside of VerifySignature to avoid the atomic operation per\n- * call overhead associated with local static variables even though\n- * signatureCache could be made local to VerifySignature.\n-*/\n-static CSignatureCache signatureCache;\n-\n // To be called once in AppInitMain/BasicTestingSetup to initialize the\n // signatureCache.\n-bool InitSignatureCache(size_t max_size_bytes)\n+bool InitSignatureCache(size_t max_size_bytes, CSignatureCache& signature_cache)",
      "path": "src/script/sigcache.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "79c9c55b27bd113885da2c36ad76e5ed145027b3",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Any reason to not make `max_size_bytes` a `CSignatureCache` constructor param? That way `InitSignatureCache` could go away.",
      "created_at": "2024-05-20T19:19:12Z",
      "updated_at": "2024-05-20T19:19:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1607175446",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607175446"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607890616",
      "pull_request_review_id": 2067938954,
      "id": 1607890616,
      "node_id": "PRRC_kwDOABII585f1na4",
      "diff_hunk": "@@ -924,7 +930,7 @@ class ChainstateManager\n public:\n     using Options = kernel::ChainstateManagerOpts;\n \n-    explicit ChainstateManager(const util::SignalInterrupt& interrupt, Options options, node::BlockManager::Options blockman_options);\n+    explicit ChainstateManager(const util::SignalInterrupt& interrupt, Options options, node::BlockManager::Options blockman_options, bilingual_str& error);",
      "path": "src/validation.h",
      "position": null,
      "original_position": 45,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "353ba0a19e73e888b5788f5fa10fca682b5ea4f5",
      "in_reply_to_id": 1607094214,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I like this, no need to introduce all this error handling infrastructure for a debug-only option. Applied.",
      "created_at": "2024-05-21T08:38:04Z",
      "updated_at": "2024-05-21T08:38:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1607890616",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607890616"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 933,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608951984",
      "pull_request_review_id": 2069624268,
      "id": 1608951984,
      "node_id": "PRRC_kwDOABII585f5qiw",
      "diff_hunk": "@@ -53,6 +53,16 @@ util::Result<void> ApplyArgsManOptions(const ArgsManager& args, ChainstateManage\n     opts.worker_threads_num = std::clamp(script_threads - 1, 0, MAX_SCRIPTCHECK_THREADS);\n     LogPrintf(\"Script verification uses %d additional threads\\n\", opts.worker_threads_num);\n \n+    if (auto max_size = args.GetIntArg(\"-maxsigcachesize\")) {\n+        // 1. When supplied with a max_size of 0, both InitSignatureCache and\n+        //    InitScriptExecutionCache create the minimum possible cache (2",
      "path": "src/node/chainstatemanager_args.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "4a1df97a016935348e50f384ed52a6671990835f",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Comment is now out of date.",
      "created_at": "2024-05-21T21:06:15Z",
      "updated_at": "2024-05-21T21:06:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1608951984",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608951984"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608966851",
      "pull_request_review_id": 2069646556,
      "id": 1608966851,
      "node_id": "PRRC_kwDOABII585f5uLD",
      "diff_hunk": "@@ -53,6 +53,16 @@ util::Result<void> ApplyArgsManOptions(const ArgsManager& args, ChainstateManage\n     opts.worker_threads_num = std::clamp(script_threads - 1, 0, MAX_SCRIPTCHECK_THREADS);\n     LogPrintf(\"Script verification uses %d additional threads\\n\", opts.worker_threads_num);\n \n+    if (auto max_size = args.GetIntArg(\"-maxsigcachesize\")) {\n+        // 1. When supplied with a max_size of 0, both InitSignatureCache and\n+        //    InitScriptExecutionCache create the minimum possible cache (2",
      "path": "src/node/chainstatemanager_args.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "4a1df97a016935348e50f384ed52a6671990835f",
      "in_reply_to_id": 1608951984,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks, fixed.",
      "created_at": "2024-05-21T21:21:06Z",
      "updated_at": "2024-05-21T21:21:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1608966851",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608966851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1644210320",
      "pull_request_review_id": 2125109551,
      "id": 1644210320,
      "node_id": "PRRC_kwDOABII585iAKiQ",
      "diff_hunk": "@@ -360,16 +360,16 @@ class cache\n      * structure\n      * @returns A pair of the maximum number of elements storable (see setup()\n      * documentation for more detail) and the approximate total size of these\n-     * elements in bytes or std::nullopt if the size requested is too large.\n+     * elements in bytes.\n      */\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t bytes)\n+    std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\n     {\n         size_t requested_num_elems = bytes / sizeof(Element);\n         if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\n-            return std::nullopt;\n+            requested_num_elems = std::numeric_limits<uint32_t>::max();\n         }",
      "path": "src/cuckoocache.h",
      "position": null,
      "original_position": 14,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "8960bc986b5361108f168c20af280b298061d706",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: declaring `requested_num_elems` as a `uint32_t` would seem more intuitive:\r\n\r\n<details>\r\n<summary>git diff on 8960bc986b</summary>\r\n\r\n```diff\r\ndiff --git a/src/cuckoocache.h b/src/cuckoocache.h\r\nindex c9bd45befc..85556a4da5 100644\r\n--- a/src/cuckoocache.h\r\n+++ b/src/cuckoocache.h\r\n@@ -364,10 +364,10 @@ public:\r\n      */\r\n     std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\r\n     {\r\n-        size_t requested_num_elems = bytes / sizeof(Element);\r\n-        if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\r\n-            requested_num_elems = std::numeric_limits<uint32_t>::max();\r\n-        }\r\n+        uint32_t requested_num_elems{(uint32_t)std::min(\r\n+            bytes / sizeof(Element),\r\n+            (size_t)std::numeric_limits<uint32_t>::max()\r\n+        )};\r\n \r\n         auto num_elems = setup(requested_num_elems);\r\n \r\n\r\n```\r\n</details>\r\n",
      "created_at": "2024-06-18T10:17:56Z",
      "updated_at": "2024-06-18T20:47:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1644210320",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1644210320"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": 367,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 370,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1644415772",
      "pull_request_review_id": 2125109551,
      "id": 1644415772,
      "node_id": "PRRC_kwDOABII585iA8sc",
      "diff_hunk": "@@ -360,8 +363,13 @@ static_assert(std::is_nothrow_move_assignable_v<CScriptCheck>);\n static_assert(std::is_nothrow_move_constructible_v<CScriptCheck>);\n static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n \n-/** Initializes the script-execution cache */\n-[[nodiscard]] bool InitScriptExecutionCache(size_t max_size_bytes);\n+/**\n+ * Convenience struct for initializing and passing the script execution cache.\n+ */\n+struct ValidationCache {\n+    ScriptCache m_script_execution_cache;\n+    ValidationCache(size_t script_execution_cache_bytes);",
      "path": "src/validation.h",
      "position": null,
      "original_position": 32,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "1409fa4f4144308ad8ffeaca927bc76ad982e2a8",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "To minimize future footguns by accidentally passing a cache by value, perhaps best to disable the copy constructor and copy assignment operator? (+ same for `CSignatureCache` in 63923c8da686da42f522771f338ea8f2a4f4e568)\r\n\r\n<details>\r\n<summary>git diff on 1409fa4f41</summary>\r\n\r\n```diff\r\ndiff --git a/src/validation.h b/src/validation.h\r\nindex 9f858bff1d..90f484bc9f 100644\r\n--- a/src/validation.h\r\n+++ b/src/validation.h\r\n@@ -369,6 +369,10 @@ static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\r\n struct ValidationCache {\r\n     ScriptCache m_script_execution_cache;\r\n     ValidationCache(size_t script_execution_cache_bytes);\r\n+\r\n+    // ValidationCache should only be passed by reference or pointer\r\n+    ValidationCache(const ValidationCache&) = delete;\r\n+    ValidationCache& operator=(const ValidationCache&) = delete;\r\n };\r\n \r\n /** Functions for validating blocks and updating the block tree */\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2024-06-18T12:53:01Z",
      "updated_at": "2024-06-18T20:47:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1644415772",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1644415772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 371,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645009465",
      "pull_request_review_id": 2125109551,
      "id": 1645009465,
      "node_id": "PRRC_kwDOABII585iDNo5",
      "diff_hunk": "@@ -360,8 +365,16 @@ static_assert(std::is_nothrow_move_assignable_v<CScriptCheck>);\n static_assert(std::is_nothrow_move_constructible_v<CScriptCheck>);\n static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n \n-/** Initializes the script-execution cache */\n-[[nodiscard]] bool InitScriptExecutionCache(size_t max_size_bytes);\n+/**\n+ * Convenience struct for initializing and passing the script execution cache\n+ * and signature cache.\n+ */\n+struct ValidationCache {\n+    ScriptCache m_script_execution_cache;\n+    CSHA256 m_script_execution_cache_hasher;",
      "path": "src/validation.h",
      "position": 48,
      "original_position": 55,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "63923c8da686da42f522771f338ea8f2a4f4e568",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "If I understand correctly, `m_script_execution_cache_hasher` is a pre-initialized hasher that we want to copy every time we use it, and we definitely don't want to modify in-place. I think having it as a public struct member is not very robust to enforce that, perhaps better to use a getter here? E.g. something like:\r\n\r\n<details>\r\n<summary>git diff on 63923c8da6</summary>\r\n\r\n```diff\r\ndiff --git a/src/validation.cpp b/src/validation.cpp\r\nindex 39ab7b56ab..600c427c93 100644\r\n--- a/src/validation.cpp\r\n+++ b/src/validation.cpp\r\n@@ -2095,17 +2095,22 @@ bool CScriptCheck::operator()() {\r\n     return VerifyScript(scriptSig, m_tx_out.scriptPubKey, witness, nFlags, CachingTransactionSignatureChecker(ptxTo, nIn, m_tx_out.nValue, cacheStore, *m_signature_cache, *txdata), &error);\r\n }\r\n \r\n-ValidationCache::ValidationCache(size_t script_execution_cache_bytes, size_t signature_cache_bytes)\r\n-    : m_signature_cache{signature_cache_bytes / 2}\r\n+CSHA256 ValidationCache::CreateScriptExecutionCacheHasher()\r\n {\r\n     // Setup the salted hasher\r\n     uint256 nonce = GetRandHash();\r\n     // We want the nonce to be 64 bytes long to force the hasher to process\r\n     // this chunk, which makes later hash computations more efficient. We\r\n     // just write our 32-byte entropy twice to fill the 64 bytes.\r\n-    m_script_execution_cache_hasher.Write(nonce.begin(), 32);\r\n-    m_script_execution_cache_hasher.Write(nonce.begin(), 32);\r\n+    CSHA256 hasher;\r\n+    hasher.Write(nonce.begin(), 32);\r\n+    hasher.Write(nonce.begin(), 32);\r\n+    return hasher;\r\n+}\r\n \r\n+ValidationCache::ValidationCache(size_t script_execution_cache_bytes, size_t signature_cache_bytes)\r\n+    : m_signature_cache{signature_cache_bytes / 2}\r\n+{\r\n     const auto [num_elems, approx_size_bytes] = m_script_execution_cache.setup_bytes(script_execution_cache_bytes);\r\n     LogPrintf(\"Using %zu MiB out of %zu MiB requested for script execution cache, able to store %zu elements\\n\",\r\n               approx_size_bytes >> 20, script_execution_cache_bytes >> 20, num_elems);\r\n@@ -2148,7 +2153,7 @@ bool CheckInputScripts(const CTransaction& tx, TxValidationState& state,\r\n     // properly commits to the scriptPubKey in the inputs view of that\r\n     // transaction).\r\n     uint256 hashCacheEntry;\r\n-    CSHA256 hasher = validation_cache.m_script_execution_cache_hasher;\r\n+    auto hasher{validation_cache.ScriptExecutionCacheHasher()};\r\n     hasher.Write(UCharCast(tx.GetWitnessHash().begin()), 32).Write((unsigned char*)&flags, sizeof(flags)).Finalize(hashCacheEntry.begin());\r\n     AssertLockHeld(cs_main); //TODO: Remove this requirement by making CuckooCache not require external locks\r\n     if (validation_cache.m_script_execution_cache.contains(hashCacheEntry, !cacheFullScriptStore)) {\r\ndiff --git a/src/validation.h b/src/validation.h\r\nindex c4b49ec3e8..1e48f6b4a4 100644\r\n--- a/src/validation.h\r\n+++ b/src/validation.h\r\n@@ -369,11 +369,16 @@ static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\r\n  * Convenience struct for initializing and passing the script execution cache\r\n  * and signature cache.\r\n  */\r\n-struct ValidationCache {\r\n+class ValidationCache {\r\n+public:\r\n     ScriptCache m_script_execution_cache;\r\n-    CSHA256 m_script_execution_cache_hasher;\r\n+    CSHA256 ScriptExecutionCacheHasher() { return m_script_execution_cache_hasher; }\r\n     CSignatureCache m_signature_cache;\r\n     ValidationCache(size_t script_execution_cache_bytes, size_t signature_cache_bytes);\r\n+private:\r\n+    static CSHA256 CreateScriptExecutionCacheHasher();\r\n+    //! Pre-initialized hasher to avoid having to recreate it for every hash calculation\r\n+    const CSHA256 m_script_execution_cache_hasher{CreateScriptExecutionCacheHasher()};\r\n };\r\n \r\n /** Functions for validating blocks and updating the block tree */\r\n\r\n```\r\n</details>\r\n\r\nIt seems this is quite brittle on master too, so not a regression, but probably something to address here?",
      "created_at": "2024-06-18T20:20:15Z",
      "updated_at": "2024-06-18T20:48:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645009465",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645009465"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 374,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645730446",
      "pull_request_review_id": 2127572221,
      "id": 1645730446,
      "node_id": "PRRC_kwDOABII585iF9qO",
      "diff_hunk": "@@ -360,8 +365,16 @@ static_assert(std::is_nothrow_move_assignable_v<CScriptCheck>);\n static_assert(std::is_nothrow_move_constructible_v<CScriptCheck>);\n static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n \n-/** Initializes the script-execution cache */\n-[[nodiscard]] bool InitScriptExecutionCache(size_t max_size_bytes);\n+/**\n+ * Convenience struct for initializing and passing the script execution cache\n+ * and signature cache.\n+ */\n+struct ValidationCache {\n+    ScriptCache m_script_execution_cache;\n+    CSHA256 m_script_execution_cache_hasher;",
      "path": "src/validation.h",
      "position": 48,
      "original_position": 55,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "63923c8da686da42f522771f338ea8f2a4f4e568",
      "in_reply_to_id": 1645009465,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is there a reason you added a separate initialization function for the hasher?",
      "created_at": "2024-06-19T08:57:18Z",
      "updated_at": "2024-06-19T08:57:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645730446",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645730446"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 374,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645731158",
      "pull_request_review_id": 2127573308,
      "id": 1645731158,
      "node_id": "PRRC_kwDOABII585iF91W",
      "diff_hunk": "@@ -360,16 +360,16 @@ class cache\n      * structure\n      * @returns A pair of the maximum number of elements storable (see setup()\n      * documentation for more detail) and the approximate total size of these\n-     * elements in bytes or std::nullopt if the size requested is too large.\n+     * elements in bytes.\n      */\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t bytes)\n+    std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\n     {\n         size_t requested_num_elems = bytes / sizeof(Element);\n         if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\n-            return std::nullopt;\n+            requested_num_elems = std::numeric_limits<uint32_t>::max();\n         }",
      "path": "src/cuckoocache.h",
      "position": null,
      "original_position": 14,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "8960bc986b5361108f168c20af280b298061d706",
      "in_reply_to_id": 1644210320,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Mmh, this does not feel more readable to me, because of the two casts.",
      "created_at": "2024-06-19T08:57:47Z",
      "updated_at": "2024-06-19T08:57:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645731158",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645731158"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": 367,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 370,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645856227",
      "pull_request_review_id": 2127765015,
      "id": 1645856227,
      "node_id": "PRRC_kwDOABII585iGcXj",
      "diff_hunk": "@@ -360,16 +360,16 @@ class cache\n      * structure\n      * @returns A pair of the maximum number of elements storable (see setup()\n      * documentation for more detail) and the approximate total size of these\n-     * elements in bytes or std::nullopt if the size requested is too large.\n+     * elements in bytes.\n      */\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t bytes)\n+    std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\n     {\n         size_t requested_num_elems = bytes / sizeof(Element);\n         if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\n-            return std::nullopt;\n+            requested_num_elems = std::numeric_limits<uint32_t>::max();\n         }",
      "path": "src/cuckoocache.h",
      "position": null,
      "original_position": 14,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "8960bc986b5361108f168c20af280b298061d706",
      "in_reply_to_id": 1644210320,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It's not really a readability suggestion, I just prefer having `requested_nums_elems` be the integer type for which we're doing the bounds checking. But it's just a nit so happy to leave as is.",
      "created_at": "2024-06-19T10:10:26Z",
      "updated_at": "2024-06-19T10:10:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645856227",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645856227"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": 367,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 370,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645875138",
      "pull_request_review_id": 2127794432,
      "id": 1645875138,
      "node_id": "PRRC_kwDOABII585iGg_C",
      "diff_hunk": "@@ -360,8 +365,16 @@ static_assert(std::is_nothrow_move_assignable_v<CScriptCheck>);\n static_assert(std::is_nothrow_move_constructible_v<CScriptCheck>);\n static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n \n-/** Initializes the script-execution cache */\n-[[nodiscard]] bool InitScriptExecutionCache(size_t max_size_bytes);\n+/**\n+ * Convenience struct for initializing and passing the script execution cache\n+ * and signature cache.\n+ */\n+struct ValidationCache {\n+    ScriptCache m_script_execution_cache;\n+    CSHA256 m_script_execution_cache_hasher;",
      "path": "src/validation.h",
      "position": 48,
      "original_position": 55,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "63923c8da686da42f522771f338ea8f2a4f4e568",
      "in_reply_to_id": 1645009465,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Two (soft) reasons:\r\n1. to make `m_script_execution_cache_hasher` `const`\r\n2. having a separate construction function for the hasher seems more composable (e.g. testing the hasher) and makes the `ValidationCache` constructor more readable\r\n\r\nI'm fine with your approach too, though. It addresses my main concern, everything else is more of a nit.",
      "created_at": "2024-06-19T10:22:30Z",
      "updated_at": "2024-06-19T10:22:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1645875138",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645875138"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 374,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646290588",
      "pull_request_review_id": 2128427867,
      "id": 1646290588,
      "node_id": "PRRC_kwDOABII585iIGac",
      "diff_hunk": "@@ -5,23 +5,31 @@\n #include <consensus/validation.h>\n #include <key.h>\n #include <random.h>\n+#include <script/sigcache.h>\n #include <script/sign.h>\n #include <script/signingprovider.h>\n #include <test/util/setup_common.h>\n #include <txmempool.h>\n #include <util/chaintype.h>\n+#include <util/check.h>\n #include <validation.h>\n \n #include <boost/test/unit_test.hpp>\n \n struct Dersig100Setup : public TestChain100Setup {\n+    ValidationCache m_validation_cache;",
      "path": "src/test/txvalidationcache_tests.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "f015a501e4bbb4985b52783591031e4e39496009",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "May be good to explain why this is needed, when `m_node.chainman->m_validation_cache` already exists?",
      "created_at": "2024-06-19T14:17:21Z",
      "updated_at": "2024-06-19T14:17:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646290588",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646290588"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646343915",
      "pull_request_review_id": 2128509733,
      "id": 1646343915,
      "node_id": "PRRC_kwDOABII585iITbr",
      "diff_hunk": "@@ -360,16 +360,16 @@ class cache\n      * structure\n      * @returns A pair of the maximum number of elements storable (see setup()\n      * documentation for more detail) and the approximate total size of these\n-     * elements in bytes or std::nullopt if the size requested is too large.\n+     * elements in bytes.\n      */\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t bytes)\n+    std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\n     {\n         size_t requested_num_elems = bytes / sizeof(Element);\n         if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\n-            return std::nullopt;\n+            requested_num_elems = std::numeric_limits<uint32_t>::max();\n         }",
      "path": "src/cuckoocache.h",
      "position": null,
      "original_position": 14,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "8960bc986b5361108f168c20af280b298061d706",
      "in_reply_to_id": 1644210320,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: `std::optional` no longer needed as an include",
      "created_at": "2024-06-19T14:53:24Z",
      "updated_at": "2024-06-27T19:33:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646343915",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646343915"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": 367,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 370,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646370563",
      "pull_request_review_id": 2128552072,
      "id": 1646370563,
      "node_id": "PRRC_kwDOABII585iIZ8D",
      "diff_hunk": "@@ -5,23 +5,31 @@\n #include <consensus/validation.h>\n #include <key.h>\n #include <random.h>\n+#include <script/sigcache.h>\n #include <script/sign.h>\n #include <script/signingprovider.h>\n #include <test/util/setup_common.h>\n #include <txmempool.h>\n #include <util/chaintype.h>\n+#include <util/check.h>\n #include <validation.h>\n \n #include <boost/test/unit_test.hpp>\n \n struct Dersig100Setup : public TestChain100Setup {\n+    ValidationCache m_validation_cache;",
      "path": "src/test/txvalidationcache_tests.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "f015a501e4bbb4985b52783591031e4e39496009",
      "in_reply_to_id": 1646290588,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I was thinking it might be useful to control the caches directly for the tests, but on second thought that does not seem like a good thing. Will revert.",
      "created_at": "2024-06-19T15:11:52Z",
      "updated_at": "2024-06-19T15:11:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646370563",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646370563"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646381635",
      "pull_request_review_id": 2128584316,
      "id": 1646381635,
      "node_id": "PRRC_kwDOABII585iIcpD",
      "diff_hunk": "@@ -360,16 +360,15 @@ class cache\n      * structure\n      * @returns A pair of the maximum number of elements storable (see setup()\n      * documentation for more detail) and the approximate total size of these\n-     * elements in bytes or std::nullopt if the size requested is too large.\n+     * elements in bytes.\n      */\n-    std::optional<std::pair<uint32_t, size_t>> setup_bytes(size_t bytes)\n+    std::pair<uint32_t, size_t> setup_bytes(size_t bytes)\n     {\n-        size_t requested_num_elems = bytes / sizeof(Element);\n-        if (std::numeric_limits<uint32_t>::max() < requested_num_elems) {\n-            return std::nullopt;\n-        }\n+        uint32_t requested_num_elems{(uint32_t)std::min(",
      "path": "src/cuckoocache.h",
      "position": null,
      "original_position": 14,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "f1dad94b9d51db6dc7702e51f943c24a17222b1a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: You can combine the cast by using `()` over `{}`. Also you can specify the template to avoid the `size_t` cast, and ensure the right template is always picked:\r\n\r\n```cpp\r\nuint32_t requested_num_elems(std::min<size_t>(",
      "created_at": "2024-06-19T15:19:58Z",
      "updated_at": "2024-06-19T15:19:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646381635",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646381635"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 367,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646473144",
      "pull_request_review_id": 2128509733,
      "id": 1646473144,
      "node_id": "PRRC_kwDOABII585iIy-4",
      "diff_hunk": "@@ -618,7 +618,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-test=<option>\", \"Pass a test-only option. Options include : \" + Join(TEST_OPTIONS_DOC, \", \") + \".\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-capturemessages\", \"Capture all P2P messages to disk\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-mocktime=<n>\", \"Replace actual time with \" + UNIX_EPOCH_TIME + \" (default: 0)\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-maxsigcachesize=<n>\", strprintf(\"Limit sum of signature cache and script execution cache sizes to <n> MiB (default: %u)\", DEFAULT_MAX_SIG_CACHE_BYTES >> 20), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-maxsigcachesize=<n>\", strprintf(\"Limit sum of signature cache and script execution cache sizes to <n> MiB (default: %u). Will clamp to %u MiB if exceeded.\", DEFAULT_MAX_SIG_CACHE_BYTES >> 20, std::numeric_limits<uint32_t>::max() >> 20), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "f1dad94b9d51db6dc7702e51f943c24a17222b1a",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This seems incorrect, we clamp the number of elements, not the number of bytes. I'd prefer not documenting the clamping behaviour here, given how generous the limit is.",
      "created_at": "2024-06-19T16:09:26Z",
      "updated_at": "2024-06-27T19:33:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646473144",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646473144"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 618,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646478869",
      "pull_request_review_id": 2128509733,
      "id": 1646478869,
      "node_id": "PRRC_kwDOABII585iI0YV",
      "diff_hunk": "@@ -360,8 +365,29 @@ static_assert(std::is_nothrow_move_assignable_v<CScriptCheck>);\n static_assert(std::is_nothrow_move_constructible_v<CScriptCheck>);\n static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n \n-/** Initializes the script-execution cache */\n-[[nodiscard]] bool InitScriptExecutionCache(size_t max_size_bytes);\n+/**\n+ * Convenience class for initializing and passing the script execution cache\n+ * and signature cache.\n+ */\n+class ValidationCache\n+{\n+private:\n+    //! Pre-initialized hasher for to avoid having to recreate it for every hash calculation.",
      "path": "src/validation.h",
      "position": null,
      "original_position": 56,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "fa660a266b3aa03f40c47a9330e3bce8be89bb54",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "typo nit\r\n```suggestion\r\n    //! Pre-initialized hasher to avoid having to recreate it for every hash calculation.\r\n```",
      "created_at": "2024-06-19T16:13:24Z",
      "updated_at": "2024-06-27T19:33:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1646478869",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1646478869"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 375,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647123546",
      "pull_request_review_id": 2128595258,
      "id": 1647123546,
      "node_id": "PRRC_kwDOABII585iLRxa",
      "diff_hunk": "@@ -6,19 +6,59 @@\n #ifndef BITCOIN_SCRIPT_SIGCACHE_H\n #define BITCOIN_SCRIPT_SIGCACHE_H\n \n+#include <consensus/amount.h>\n+#include <crypto/sha256.h>\n+#include <cuckoocache.h>\n #include <script/interpreter.h>\n #include <span.h>\n+#include <uint256.h>\n #include <util/hasher.h>\n \n+#include <cstddef>\n+#include <cstdint>\n+#include <shared_mutex>\n+#include <utility>",
      "path": "src/script/sigcache.h",
      "position": null,
      "original_position": 15,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "2412ec286353324b265612bc6ab73b7dc8286969",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 594189567956063fa1a44bef9e86e72c14207027:\r\n\r\n```\r\nscript/sigcache.h should remove these lines:\r\n- #include <cstdint>  // lines 18-18\r\n- #include <utility>  // lines 20-20",
      "created_at": "2024-06-20T07:49:50Z",
      "updated_at": "2024-06-20T13:53:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1647123546",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647123546"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647514586",
      "pull_request_review_id": 2128595258,
      "id": 1647514586,
      "node_id": "PRRC_kwDOABII585iMxPa",
      "diff_hunk": "@@ -364,20 +366,27 @@ static_assert(std::is_nothrow_move_constructible_v<CScriptCheck>);\n static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n \n /**\n- * Convenience class for initializing and passing the script execution cache.\n+ * Convenience class for initializing and passing the script execution cache\n+ * and signature cache.\n  */\n class ValidationCache\n {\n+private:\n+    //! Pre-initialized hasher for to avoid having to recreate it for every hash calculation.\n+    CSHA256 m_script_execution_cache_hasher;",
      "path": "src/validation.h",
      "position": 48,
      "original_position": 34,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "f946b083fe1431fb8d5d2c080ed3c2938116c37a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in /f946b083fe1431fb8d5d2c080ed3c2938116c37a: Unrelated change? The commit message is \"De-globalize signature cache\", but this hunk makes the script execution cache private.",
      "created_at": "2024-06-20T12:42:42Z",
      "updated_at": "2024-06-20T13:53:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1647514586",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647514586"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 374,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647518394",
      "pull_request_review_id": 2128595258,
      "id": 1647518394,
      "node_id": "PRRC_kwDOABII585iMyK6",
      "diff_hunk": "@@ -343,10 +344,11 @@ class CScriptCheck\n     bool cacheStore;\n     ScriptError error{SCRIPT_ERR_UNKNOWN_ERROR};\n     PrecomputedTransactionData *txdata;\n+    CSignatureCache* m_signature_cache;",
      "path": "src/validation.h",
      "position": null,
      "original_position": 12,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "f946b083fe1431fb8d5d2c080ed3c2938116c37a",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in /f946b083fe1431fb8d5d2c080ed3c2938116c37a: Why use a pointer when a reference is better?",
      "created_at": "2024-06-20T12:45:40Z",
      "updated_at": "2024-06-20T13:53:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1647518394",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647518394"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 347,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647665176",
      "pull_request_review_id": 2130583896,
      "id": 1647665176,
      "node_id": "PRRC_kwDOABII585iNWAY",
      "diff_hunk": "@@ -343,10 +344,11 @@ class CScriptCheck\n     bool cacheStore;\n     ScriptError error{SCRIPT_ERR_UNKNOWN_ERROR};\n     PrecomputedTransactionData *txdata;\n+    CSignatureCache* m_signature_cache;",
      "path": "src/validation.h",
      "position": null,
      "original_position": 12,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "f946b083fe1431fb8d5d2c080ed3c2938116c37a",
      "in_reply_to_id": 1647518394,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think we similarly make `CTransaction` a pointer to keep the `CScriptCheck` class `is_nothrow_move_assignable_v`.",
      "created_at": "2024-06-20T14:18:03Z",
      "updated_at": "2024-06-20T14:18:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1647665176",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647665176"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 347,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647706071",
      "pull_request_review_id": 2130652452,
      "id": 1647706071,
      "node_id": "PRRC_kwDOABII585iNf_X",
      "diff_hunk": "@@ -6,19 +6,59 @@\n #ifndef BITCOIN_SCRIPT_SIGCACHE_H\n #define BITCOIN_SCRIPT_SIGCACHE_H\n \n+#include <consensus/amount.h>\n+#include <crypto/sha256.h>\n+#include <cuckoocache.h>\n #include <script/interpreter.h>\n #include <span.h>\n+#include <uint256.h>\n #include <util/hasher.h>\n \n+#include <cstddef>\n+#include <cstdint>\n+#include <shared_mutex>\n+#include <utility>",
      "path": "src/script/sigcache.h",
      "position": null,
      "original_position": 15,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "2412ec286353324b265612bc6ab73b7dc8286969",
      "in_reply_to_id": 1647123546,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: You added the headers in one commit, and then removed them in the next. Wrong order?",
      "created_at": "2024-06-20T14:44:46Z",
      "updated_at": "2024-06-20T14:44:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1647706071",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647706071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647713760",
      "pull_request_review_id": 2130664617,
      "id": 1647713760,
      "node_id": "PRRC_kwDOABII585iNh3g",
      "diff_hunk": "@@ -6,19 +6,59 @@\n #ifndef BITCOIN_SCRIPT_SIGCACHE_H\n #define BITCOIN_SCRIPT_SIGCACHE_H\n \n+#include <consensus/amount.h>\n+#include <crypto/sha256.h>\n+#include <cuckoocache.h>\n #include <script/interpreter.h>\n #include <span.h>\n+#include <uint256.h>\n #include <util/hasher.h>\n \n+#include <cstddef>\n+#include <cstdint>\n+#include <shared_mutex>\n+#include <utility>",
      "path": "src/script/sigcache.h",
      "position": null,
      "original_position": 15,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "2412ec286353324b265612bc6ab73b7dc8286969",
      "in_reply_to_id": 1647123546,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "They are required in 201b29e468f621a1fb055060920231ef46192414 and then no-longer in 974934b3c23ce7f34ef46f3dfc13468cd46f4b8a.",
      "created_at": "2024-06-20T14:49:45Z",
      "updated_at": "2024-06-20T14:49:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1647713760",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1647713760"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657322116",
      "pull_request_review_id": 2145715522,
      "id": 1657322116,
      "node_id": "PRRC_kwDOABII585iyLqE",
      "diff_hunk": "@@ -88,6 +89,8 @@ extern std::condition_variable g_best_block_cv;\n /** Used to notify getblocktemplate RPC of new tips. */\n extern uint256 g_best_block;\n \n+using ScriptCache = CuckooCache::cache<uint256, SignatureCacheHasher>;",
      "path": "src/validation.h",
      "position": null,
      "original_position": 16,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "56247bbdd0016602d6f60296b0e78e2749582579",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Move this into `ValidationCache`? It seems unused anywhere else.",
      "created_at": "2024-06-27T15:12:59Z",
      "updated_at": "2024-06-27T15:52:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657322116",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657322116"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 92,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657330024",
      "pull_request_review_id": 2145715522,
      "id": 1657330024,
      "node_id": "PRRC_kwDOABII585iyNlo",
      "diff_hunk": "@@ -368,14 +368,21 @@ static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n  */\n class ValidationCache\n {\n+private:\n+    //! Pre-initialized hasher for to avoid having to recreate it for every hash calculation.\n+    CSHA256 m_script_execution_cache_hasher;\n+\n public:\n     ScriptCache m_script_execution_cache;\n+\n     ValidationCache(size_t script_execution_cache_bytes);\n \n     ValidationCache(const ValidationCache&) = delete;\n     ValidationCache(ValidationCache&&) = delete;\n     ValidationCache& operator=(const ValidationCache&) = delete;\n     ValidationCache& operator=(ValidationCache&&) = delete;\n+\n+    CSHA256 ScriptExecutionCacheHasher() { return m_script_execution_cache_hasher; }",
      "path": "src/validation.h",
      "position": null,
      "original_position": 18,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "a4fc935bf9a707098385a520714317277f3d1ffd",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This function can be const.",
      "created_at": "2024-06-27T15:17:50Z",
      "updated_at": "2024-06-27T15:52:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657330024",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657330024"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 385,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657337310",
      "pull_request_review_id": 2145715522,
      "id": 1657337310,
      "node_id": "PRRC_kwDOABII585iyPXe",
      "diff_hunk": "@@ -2095,17 +2095,15 @@ bool CScriptCheck::operator()() {\n     return VerifyScript(scriptSig, m_tx_out.scriptPubKey, witness, nFlags, CachingTransactionSignatureChecker(ptxTo, nIn, m_tx_out.nValue, cacheStore, *txdata), &error);\n }\n \n-static CSHA256 g_scriptExecutionCacheHasher;\n-\n ValidationCache::ValidationCache(size_t script_execution_cache_bytes)\n {\n     // Setup the salted hasher\n     uint256 nonce = GetRandHash();\n     // We want the nonce to be 64 bytes long to force the hasher to process\n     // this chunk, which makes later hash computations more efficient. We\n     // just write our 32-byte entropy twice to fill the 64 bytes.\n-    g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\n-    g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\n+    m_script_execution_cache_hasher.Write(nonce.begin(), 32);",
      "path": "src/validation.cpp",
      "position": 90,
      "original_position": 15,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "a4fc935bf9a707098385a520714317277f3d1ffd",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Might be useful to pass the nonce in rather than generating it here to make the order of rng/ValidationCache instantiation explicit.\r\n\r\nPresumably it'd also make for easier testing with a deterministic seed.",
      "created_at": "2024-06-27T15:21:48Z",
      "updated_at": "2024-06-27T15:52:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657337310",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657337310"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2103,
      "original_line": 2103,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657354399",
      "pull_request_review_id": 2145715522,
      "id": 1657354399,
      "node_id": "PRRC_kwDOABII585iyTif",
      "diff_hunk": "@@ -5,82 +5,61 @@\n \n #include <script/sigcache.h>\n \n-#include <common/system.h>\n+#include <crypto/sha256.h>\n #include <logging.h>\n #include <pubkey.h>\n #include <random.h>\n+#include <script/interpreter.h>\n+#include <span.h>\n #include <uint256.h>\n \n-#include <cuckoocache.h>\n-\n-#include <algorithm>\n #include <mutex>\n #include <shared_mutex>\n #include <vector>\n \n-namespace {\n-/**\n- * Valid signature cache, to avoid doing expensive ECDSA signature checking\n- * twice for every transaction (once when accepted into memory pool, and\n- * again when accepted into the block chain)\n- */\n-class CSignatureCache\n+CSignatureCache::CSignatureCache()\n {\n-private:\n-     //! Entries are SHA256(nonce || 'E' or 'S' || 31 zero bytes || signature hash || public key || signature):\n-    CSHA256 m_salted_hasher_ecdsa;\n-    CSHA256 m_salted_hasher_schnorr;\n-    typedef CuckooCache::cache<uint256, SignatureCacheHasher> map_type;\n-    map_type setValid;\n-    std::shared_mutex cs_sigcache;\n+    uint256 nonce = GetRandHash();",
      "path": "src/script/sigcache.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "201b29e468f621a1fb055060920231ef46192414",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same comment here, would be nice to pass this in. Perhaps one nonce to rule them all? I don't think there'd be any loss of security.",
      "created_at": "2024-06-27T15:33:43Z",
      "updated_at": "2024-06-27T15:52:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657354399",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657354399"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657370573",
      "pull_request_review_id": 2145715522,
      "id": 1657370573,
      "node_id": "PRRC_kwDOABII585iyXfN",
      "diff_hunk": "@@ -6,19 +6,59 @@\n #ifndef BITCOIN_SCRIPT_SIGCACHE_H\n #define BITCOIN_SCRIPT_SIGCACHE_H\n \n+#include <consensus/amount.h>\n+#include <crypto/sha256.h>\n+#include <cuckoocache.h>\n #include <script/interpreter.h>\n #include <span.h>\n+#include <uint256.h>\n #include <util/hasher.h>\n \n+#include <cstddef>\n+#include <cstdint>\n+#include <shared_mutex>\n+#include <utility>\n #include <vector>\n \n+class CTransaction;\n+class XOnlyPubKey;\n+\n // DoS prevention: limit cache size to 32MiB (over 1000000 entries on 64-bit\n // systems). Due to how we count cache size, actual memory usage is slightly\n // more (~32.25 MiB)\n static constexpr size_t DEFAULT_MAX_SIG_CACHE_BYTES{32 << 20};\n \n class CPubKey;\n \n+/**\n+ * Valid signature cache, to avoid doing expensive ECDSA signature checking\n+ * twice for every transaction (once when accepted into memory pool, and\n+ * again when accepted into the block chain)\n+ */\n+class CSignatureCache\n+{\n+private:\n+    //! Entries are SHA256(nonce || 'E' or 'S' || 31 zero bytes || signature hash || public key || signature):\n+    CSHA256 m_salted_hasher_ecdsa;\n+    CSHA256 m_salted_hasher_schnorr;\n+    typedef CuckooCache::cache<uint256, SignatureCacheHasher> map_type;\n+    map_type setValid;\n+    std::shared_mutex cs_sigcache;\n+\n+public:\n+    CSignatureCache();",
      "path": "src/script/sigcache.h",
      "position": null,
      "original_position": 44,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "201b29e468f621a1fb055060920231ef46192414",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Similar to @stickies-v's comment in a previous commit, since we're going to be passing around references and pointers to this, it'd be a good idea to make it non-copyable to avoid accidental copies.",
      "created_at": "2024-06-27T15:46:09Z",
      "updated_at": "2024-06-27T15:52:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657370573",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657370573"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657394662",
      "pull_request_review_id": 2145836166,
      "id": 1657394662,
      "node_id": "PRRC_kwDOABII585iydXm",
      "diff_hunk": "@@ -6,19 +6,59 @@\n #ifndef BITCOIN_SCRIPT_SIGCACHE_H\n #define BITCOIN_SCRIPT_SIGCACHE_H\n \n+#include <consensus/amount.h>\n+#include <crypto/sha256.h>\n+#include <cuckoocache.h>\n #include <script/interpreter.h>\n #include <span.h>\n+#include <uint256.h>\n #include <util/hasher.h>\n \n+#include <cstddef>\n+#include <cstdint>\n+#include <shared_mutex>\n+#include <utility>\n #include <vector>\n \n+class CTransaction;\n+class XOnlyPubKey;\n+\n // DoS prevention: limit cache size to 32MiB (over 1000000 entries on 64-bit\n // systems). Due to how we count cache size, actual memory usage is slightly\n // more (~32.25 MiB)\n static constexpr size_t DEFAULT_MAX_SIG_CACHE_BYTES{32 << 20};\n \n class CPubKey;\n \n+/**\n+ * Valid signature cache, to avoid doing expensive ECDSA signature checking\n+ * twice for every transaction (once when accepted into memory pool, and\n+ * again when accepted into the block chain)\n+ */\n+class CSignatureCache\n+{\n+private:\n+    //! Entries are SHA256(nonce || 'E' or 'S' || 31 zero bytes || signature hash || public key || signature):\n+    CSHA256 m_salted_hasher_ecdsa;\n+    CSHA256 m_salted_hasher_schnorr;\n+    typedef CuckooCache::cache<uint256, SignatureCacheHasher> map_type;\n+    map_type setValid;\n+    std::shared_mutex cs_sigcache;\n+\n+public:\n+    CSignatureCache();",
      "path": "src/script/sigcache.h",
      "position": null,
      "original_position": 44,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "201b29e468f621a1fb055060920231ef46192414",
      "in_reply_to_id": 1657370573,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, I guess the mutex takes care of that for us. Still, wouldn't hurt to be explicit.",
      "created_at": "2024-06-27T15:55:33Z",
      "updated_at": "2024-06-27T15:55:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657394662",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657394662"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657442012",
      "pull_request_review_id": 2128509733,
      "id": 1657442012,
      "node_id": "PRRC_kwDOABII585iyo7c",
      "diff_hunk": "@@ -56,6 +56,15 @@ util::Result<void> ApplyArgsManOptions(const ArgsManager& args, ChainstateManage\n     opts.worker_threads_num = std::clamp(script_threads - 1, 0, MAX_SCRIPTCHECK_THREADS);\n     LogPrintf(\"Script verification uses %d additional threads\\n\", opts.worker_threads_num);\n \n+    if (auto max_size = args.GetIntArg(\"-maxsigcachesize\")) {\n+        // 1. When supplied with a max_size of 0, both the signature cache and\n+        //    script execution cache create the minimum possible cache (2\n+        //    elements). Therefore, we can use 0 as a floor here.\n+        // 2. Multiply first, divide after to avoid integer truncation.\n+        size_t clamped_size_each = std::max<int64_t>(*max_size, 0) * (1 << 20) / 2;",
      "path": "src/node/chainstatemanager_args.cpp",
      "position": 9,
      "original_position": 9,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "56247bbdd0016602d6f60296b0e78e2749582579",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "reviewer note: orthogonal to this move-only change, but this has all kinds of under- and overflow issues. Since it's a debug option, i suppose it's not the end of the world though",
      "created_at": "2024-06-27T16:25:17Z",
      "updated_at": "2024-06-28T09:53:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657442012",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657442012"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 64,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657457261",
      "pull_request_review_id": 2128509733,
      "id": 1657457261,
      "node_id": "PRRC_kwDOABII585iyspt",
      "diff_hunk": "@@ -6,19 +6,59 @@\n #ifndef BITCOIN_SCRIPT_SIGCACHE_H\n #define BITCOIN_SCRIPT_SIGCACHE_H\n \n+#include <consensus/amount.h>\n+#include <crypto/sha256.h>\n+#include <cuckoocache.h>\n #include <script/interpreter.h>\n #include <span.h>\n+#include <uint256.h>\n #include <util/hasher.h>\n \n+#include <cstddef>\n+#include <cstdint>\n+#include <shared_mutex>\n+#include <utility>\n #include <vector>\n \n+class CTransaction;\n+class XOnlyPubKey;\n+\n // DoS prevention: limit cache size to 32MiB (over 1000000 entries on 64-bit\n // systems). Due to how we count cache size, actual memory usage is slightly\n // more (~32.25 MiB)\n static constexpr size_t DEFAULT_MAX_SIG_CACHE_BYTES{32 << 20};\n \n class CPubKey;\n \n+/**\n+ * Valid signature cache, to avoid doing expensive ECDSA signature checking\n+ * twice for every transaction (once when accepted into memory pool, and\n+ * again when accepted into the block chain)\n+ */\n+class CSignatureCache\n+{\n+private:\n+    //! Entries are SHA256(nonce || 'E' or 'S' || 31 zero bytes || signature hash || public key || signature):\n+    CSHA256 m_salted_hasher_ecdsa;\n+    CSHA256 m_salted_hasher_schnorr;\n+    typedef CuckooCache::cache<uint256, SignatureCacheHasher> map_type;\n+    map_type setValid;\n+    std::shared_mutex cs_sigcache;\n+\n+public:\n+    CSignatureCache();",
      "path": "src/script/sigcache.h",
      "position": null,
      "original_position": 44,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "201b29e468f621a1fb055060920231ef46192414",
      "in_reply_to_id": 1657370573,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I didn't realize the mutex has the same practical effect when I mentioned it it in my original [comment](https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1644415772)) - but I too would still prefer to be more explicit here. If for some reason that's not a good idea, can we at least add a comment to the mutex to indicate that it also serves this purpose in case it is updated in the future?",
      "created_at": "2024-06-27T16:38:55Z",
      "updated_at": "2024-06-27T19:33:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657457261",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657457261"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657671482",
      "pull_request_review_id": 2128509733,
      "id": 1657671482,
      "node_id": "PRRC_kwDOABII585izg86",
      "diff_hunk": "@@ -6,32 +6,66 @@\n #ifndef BITCOIN_SCRIPT_SIGCACHE_H\n #define BITCOIN_SCRIPT_SIGCACHE_H\n \n+#include <consensus/amount.h>\n+#include <crypto/sha256.h>\n+#include <cuckoocache.h>\n #include <script/interpreter.h>\n #include <span.h>\n+#include <uint256.h>\n #include <util/hasher.h>\n \n-#include <optional>\n+#include <cstddef>\n+#include <shared_mutex>\n #include <vector>\n \n+class CTransaction;\n+class XOnlyPubKey;\n+\n // DoS prevention: limit cache size to 32MiB (over 1000000 entries on 64-bit\n // systems). Due to how we count cache size, actual memory usage is slightly\n // more (~32.25 MiB)\n static constexpr size_t DEFAULT_MAX_SIG_CACHE_BYTES{32 << 20};\n \n class CPubKey;\n \n+/**\n+ * Valid signature cache, to avoid doing expensive ECDSA signature checking\n+ * twice for every transaction (once when accepted into memory pool, and\n+ * again when accepted into the block chain)\n+ */\n+class CSignatureCache",
      "path": "src/script/sigcache.h",
      "position": null,
      "original_position": 32,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "974934b3c23ce7f34ef46f3dfc13468cd46f4b8a",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: \\*ducks\\* it seems like now would be the perfect time to rename this to `SignatureCache`?",
      "created_at": "2024-06-27T18:56:32Z",
      "updated_at": "2024-06-27T19:33:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657671482",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657671482"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657682792",
      "pull_request_review_id": 2128509733,
      "id": 1657682792,
      "node_id": "PRRC_kwDOABII585izjto",
      "diff_hunk": "@@ -58,6 +58,7 @@ BOOST_FIXTURE_TEST_SUITE(script_p2sh_tests, BasicTestingSetup)\n \n BOOST_AUTO_TEST_CASE(sign)\n {\n+    CSignatureCache signature_cache{DEFAULT_MAX_SIG_CACHE_BYTES / 2};",
      "path": "src/test/script_p2sh_tests.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "974934b3c23ce7f34ef46f3dfc13468cd46f4b8a",
      "in_reply_to_id": null,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: any reason this isn't initialized where it's used?",
      "created_at": "2024-06-27T19:05:15Z",
      "updated_at": "2024-06-27T19:33:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1657682792",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657682792"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658405291",
      "pull_request_review_id": 2147457321,
      "id": 1658405291,
      "node_id": "PRRC_kwDOABII585i2UGr",
      "diff_hunk": "@@ -618,7 +618,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-test=<option>\", \"Pass a test-only option. Options include : \" + Join(TEST_OPTIONS_DOC, \", \") + \".\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-capturemessages\", \"Capture all P2P messages to disk\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-mocktime=<n>\", \"Replace actual time with \" + UNIX_EPOCH_TIME + \" (default: 0)\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-maxsigcachesize=<n>\", strprintf(\"Limit sum of signature cache and script execution cache sizes to <n> MiB (default: %u)\", DEFAULT_MAX_SIG_CACHE_BYTES >> 20), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-maxsigcachesize=<n>\", strprintf(\"Limit sum of signature cache and script execution cache sizes to <n> MiB (default: %u). Will clamp to %u MiB if exceeded.\", DEFAULT_MAX_SIG_CACHE_BYTES >> 20, std::numeric_limits<uint32_t>::max() >> 20), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "f1dad94b9d51db6dc7702e51f943c24a17222b1a",
      "in_reply_to_id": 1646473144,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good catch, this is indeed wrong.",
      "created_at": "2024-06-28T09:16:23Z",
      "updated_at": "2024-06-28T09:16:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1658405291",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658405291"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 618,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658468860",
      "pull_request_review_id": 2147560985,
      "id": 1658468860,
      "node_id": "PRRC_kwDOABII585i2jn8",
      "diff_hunk": "@@ -2095,17 +2095,15 @@ bool CScriptCheck::operator()() {\n     return VerifyScript(scriptSig, m_tx_out.scriptPubKey, witness, nFlags, CachingTransactionSignatureChecker(ptxTo, nIn, m_tx_out.nValue, cacheStore, *txdata), &error);\n }\n \n-static CSHA256 g_scriptExecutionCacheHasher;\n-\n ValidationCache::ValidationCache(size_t script_execution_cache_bytes)\n {\n     // Setup the salted hasher\n     uint256 nonce = GetRandHash();\n     // We want the nonce to be 64 bytes long to force the hasher to process\n     // this chunk, which makes later hash computations more efficient. We\n     // just write our 32-byte entropy twice to fill the 64 bytes.\n-    g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\n-    g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\n+    m_script_execution_cache_hasher.Write(nonce.begin(), 32);",
      "path": "src/validation.cpp",
      "position": 90,
      "original_position": 15,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "a4fc935bf9a707098385a520714317277f3d1ffd",
      "in_reply_to_id": 1657337310,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does this even need to be a fresh random value every time? Couldn't it just be any nothing up my sleeve number?",
      "created_at": "2024-06-28T10:11:59Z",
      "updated_at": "2024-06-28T10:11:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1658468860",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658468860"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2103,
      "original_line": 2103,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658781284",
      "pull_request_review_id": 2148076600,
      "id": 1658781284,
      "node_id": "PRRC_kwDOABII585i3v5k",
      "diff_hunk": "@@ -2095,17 +2095,15 @@ bool CScriptCheck::operator()() {\n     return VerifyScript(scriptSig, m_tx_out.scriptPubKey, witness, nFlags, CachingTransactionSignatureChecker(ptxTo, nIn, m_tx_out.nValue, cacheStore, *txdata), &error);\n }\n \n-static CSHA256 g_scriptExecutionCacheHasher;\n-\n ValidationCache::ValidationCache(size_t script_execution_cache_bytes)\n {\n     // Setup the salted hasher\n     uint256 nonce = GetRandHash();\n     // We want the nonce to be 64 bytes long to force the hasher to process\n     // this chunk, which makes later hash computations more efficient. We\n     // just write our 32-byte entropy twice to fill the 64 bytes.\n-    g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\n-    g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\n+    m_script_execution_cache_hasher.Write(nonce.begin(), 32);",
      "path": "src/validation.cpp",
      "position": 90,
      "original_position": 15,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "a4fc935bf9a707098385a520714317277f3d1ffd",
      "in_reply_to_id": 1657337310,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I believe the idea behind these nonces is to introduce diversity so that everyone has a different cache. That way there's no possibility of poisoning the \"global\" cache.",
      "created_at": "2024-06-28T13:46:42Z",
      "updated_at": "2024-06-28T13:46:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1658781284",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658781284"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2103,
      "original_line": 2103,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658791383",
      "pull_request_review_id": 2148094315,
      "id": 1658791383,
      "node_id": "PRRC_kwDOABII585i3yXX",
      "diff_hunk": "@@ -6,19 +6,59 @@\n #ifndef BITCOIN_SCRIPT_SIGCACHE_H\n #define BITCOIN_SCRIPT_SIGCACHE_H\n \n+#include <consensus/amount.h>\n+#include <crypto/sha256.h>\n+#include <cuckoocache.h>\n #include <script/interpreter.h>\n #include <span.h>\n+#include <uint256.h>\n #include <util/hasher.h>\n \n+#include <cstddef>\n+#include <cstdint>\n+#include <shared_mutex>\n+#include <utility>\n #include <vector>\n \n+class CTransaction;\n+class XOnlyPubKey;\n+\n // DoS prevention: limit cache size to 32MiB (over 1000000 entries on 64-bit\n // systems). Due to how we count cache size, actual memory usage is slightly\n // more (~32.25 MiB)\n static constexpr size_t DEFAULT_MAX_SIG_CACHE_BYTES{32 << 20};\n \n class CPubKey;\n \n+/**\n+ * Valid signature cache, to avoid doing expensive ECDSA signature checking\n+ * twice for every transaction (once when accepted into memory pool, and\n+ * again when accepted into the block chain)\n+ */\n+class SignatureCache\n+{\n+private:\n+    //! Entries are SHA256(nonce || 'E' or 'S' || 31 zero bytes || signature hash || public key || signature):\n+    CSHA256 m_salted_hasher_ecdsa;\n+    CSHA256 m_salted_hasher_schnorr;\n+    typedef CuckooCache::cache<uint256, SignatureCacheHasher> map_type;\n+    map_type setValid;\n+    std::shared_mutex cs_sigcache;\n+\n+public:\n+    SignatureCache();",
      "path": "src/script/sigcache.h",
      "position": null,
      "original_position": 44,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "003ce1a4d8899ef07fc82291900f4e908f9779a0",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: Commit message still says CSignatureCache :)",
      "created_at": "2024-06-28T13:52:38Z",
      "updated_at": "2024-06-28T14:01:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1658791383",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658791383"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658797600",
      "pull_request_review_id": 2148094315,
      "id": 1658797600,
      "node_id": "PRRC_kwDOABII585i3z4g",
      "diff_hunk": "@@ -360,8 +361,21 @@ static_assert(std::is_nothrow_move_assignable_v<CScriptCheck>);\n static_assert(std::is_nothrow_move_constructible_v<CScriptCheck>);\n static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n \n-/** Initializes the script-execution cache */\n-[[nodiscard]] bool InitScriptExecutionCache(size_t max_size_bytes);\n+/**\n+ * Convenience class for initializing and passing the script execution cache.\n+ */\n+class ValidationCache\n+{\n+public:\n+    CuckooCache::cache<uint256, SignatureCacheHasher> m_script_execution_cache;\n+\n+    ValidationCache(size_t script_execution_cache_bytes);\n+\n+    ValidationCache(const ValidationCache&) = delete;\n+    ValidationCache(ValidationCache&&) = delete;",
      "path": "src/validation.h",
      "position": null,
      "original_position": 29,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "a17bd08d59278b9072ba9aee41c40abd0e889422",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: I don't see the harm in keeping it movable even if we don't currently need to move it. As a reader of the code, if I needed to move it in the future, I'd be afraid to remove these because \"they're probably there for a reason\".\r\n\r\nUnless there actually is a reason?",
      "created_at": "2024-06-28T13:55:22Z",
      "updated_at": "2024-06-28T14:01:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1658797600",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658797600"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 375,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658806068",
      "pull_request_review_id": 2148094315,
      "id": 1658806068,
      "node_id": "PRRC_kwDOABII585i3180",
      "diff_hunk": "@@ -46,7 +44,12 @@ class SignatureCache\n     std::shared_mutex cs_sigcache;\n \n public:\n-    SignatureCache();\n+    SignatureCache(size_t max_size_bytes);\n+\n+    SignatureCache(const SignatureCache&) = delete;\n+    SignatureCache(SignatureCache&&) = delete;",
      "path": "src/script/sigcache.h",
      "position": null,
      "original_position": 18,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "475c57ba482abd8675d0d3ccde98452808be5536",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Same comment here about deleted moves.",
      "created_at": "2024-06-28T14:00:41Z",
      "updated_at": "2024-06-28T14:01:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1658806068",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658806068"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658934242",
      "pull_request_review_id": 2148341610,
      "id": 1658934242,
      "node_id": "PRRC_kwDOABII585i4VPi",
      "diff_hunk": "@@ -2095,17 +2095,15 @@ bool CScriptCheck::operator()() {\n     return VerifyScript(scriptSig, m_tx_out.scriptPubKey, witness, nFlags, CachingTransactionSignatureChecker(ptxTo, nIn, m_tx_out.nValue, cacheStore, *txdata), &error);\n }\n \n-static CSHA256 g_scriptExecutionCacheHasher;\n-\n ValidationCache::ValidationCache(size_t script_execution_cache_bytes)\n {\n     // Setup the salted hasher\n     uint256 nonce = GetRandHash();\n     // We want the nonce to be 64 bytes long to force the hasher to process\n     // this chunk, which makes later hash computations more efficient. We\n     // just write our 32-byte entropy twice to fill the 64 bytes.\n-    g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\n-    g_scriptExecutionCacheHasher.Write(nonce.begin(), 32);\n+    m_script_execution_cache_hasher.Write(nonce.begin(), 32);",
      "path": "src/validation.cpp",
      "position": 90,
      "original_position": 15,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "a4fc935bf9a707098385a520714317277f3d1ffd",
      "in_reply_to_id": 1657337310,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I did this now, but was not completely sure where to put the nonce generation. ",
      "created_at": "2024-06-28T15:39:49Z",
      "updated_at": "2024-06-28T15:39:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1658934242",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1658934242"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2103,
      "original_line": 2103,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661166403",
      "pull_request_review_id": 2151586199,
      "id": 1661166403,
      "node_id": "PRRC_kwDOABII585jA2ND",
      "diff_hunk": "@@ -366,13 +366,19 @@ static_assert(std::is_nothrow_destructible_v<CScriptCheck>);\n  */\n class ValidationCache\n {\n+private:\n+    //! Pre-initialized hasher to avoid having to recreate it for every hash calculation.\n+    CSHA256 m_script_execution_cache_hasher;\n+\n public:\n     CuckooCache::cache<uint256, SignatureCacheHasher> m_script_execution_cache;\n \n     ValidationCache(size_t script_execution_cache_bytes);\n \n     ValidationCache(const ValidationCache&) = delete;\n     ValidationCache& operator=(const ValidationCache&) = delete;\n+\n+    CSHA256 ScriptExecutionCacheHasher() const { return m_script_execution_cache_hasher; }",
      "path": "src/validation.h",
      "position": 60,
      "original_position": 16,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "f2743cd26cc582b5f8e4ae9d6783c5fdfa7d8364",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "maybe a comment to document that we intend to make a copy of the pre-initialized hasher?",
      "created_at": "2024-07-01T14:45:14Z",
      "updated_at": "2024-07-01T14:51:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1661166403",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661166403"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 386,
      "original_line": 386,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661174570",
      "pull_request_review_id": 2151586199,
      "id": 1661174570,
      "node_id": "PRRC_kwDOABII585jA4Mq",
      "diff_hunk": "@@ -29,7 +30,7 @@ void initialize_script_sigcache()\n FUZZ_TARGET(script_sigcache, .init = initialize_script_sigcache)\n {\n     FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n-    SignatureCache signature_cache{DEFAULT_MAX_SIG_CACHE_BYTES / 2};\n+    SignatureCache signature_cache{DEFAULT_MAX_SIG_CACHE_BYTES / 2, GetRandHash()};",
      "path": "src/test/fuzz/script_sigcache.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "064a401e10f2b2da8f31f682929431d06c671d93",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "why `GetRandHash` instead of `ConsumeUint256`?",
      "created_at": "2024-07-01T14:50:09Z",
      "updated_at": "2024-07-01T14:51:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1661174570",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661174570"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1662344638",
      "pull_request_review_id": 2153517477,
      "id": 1662344638,
      "node_id": "PRRC_kwDOABII585jFV2-",
      "diff_hunk": "@@ -29,7 +30,7 @@ void initialize_script_sigcache()\n FUZZ_TARGET(script_sigcache, .init = initialize_script_sigcache)\n {\n     FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n-    SignatureCache signature_cache{DEFAULT_MAX_SIG_CACHE_BYTES / 2};\n+    SignatureCache signature_cache{DEFAULT_MAX_SIG_CACHE_BYTES / 2, GetRandHash()};",
      "path": "src/test/fuzz/script_sigcache.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "064a401e10f2b2da8f31f682929431d06c671d93",
      "in_reply_to_id": 1661174570,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Looking at this some more, I wonder if the `signature_cache` should be static. Before, the test was re-using the same cache, now it makes a new one on every run. Maybe this should be set up once in `initialize_script_sigcache()`? On the other hand I think it would also be nice to apply your suggestions and test with different nonces and sizes.",
      "created_at": "2024-07-02T11:23:14Z",
      "updated_at": "2024-07-02T11:23:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1662344638",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1662344638"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1662443420",
      "pull_request_review_id": 2153683422,
      "id": 1662443420,
      "node_id": "PRRC_kwDOABII585jFt-c",
      "diff_hunk": "@@ -29,7 +30,7 @@ void initialize_script_sigcache()\n FUZZ_TARGET(script_sigcache, .init = initialize_script_sigcache)\n {\n     FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n-    SignatureCache signature_cache{DEFAULT_MAX_SIG_CACHE_BYTES / 2};\n+    SignatureCache signature_cache{DEFAULT_MAX_SIG_CACHE_BYTES / 2, GetRandHash()};",
      "path": "src/test/fuzz/script_sigcache.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "45e0c96e81b5f0c364af717b7cb2d9bc094372de",
      "original_commit_id": "064a401e10f2b2da8f31f682929431d06c671d93",
      "in_reply_to_id": 1661174570,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Decided to just initialize it statically. If someone wants to fuzz the constructor interface, I think that could go into a follow-up.",
      "created_at": "2024-07-02T12:39:57Z",
      "updated_at": "2024-07-02T12:39:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30141#discussion_r1662443420",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1662443420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30141"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    }
  ]
}