{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31423",
    "id": 2215899695,
    "node_id": "PR_kwDOABII586EE_Iv",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31423",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31423.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31423.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31423",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31423/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31423/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31423/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/37e3cab479080db9a3ac10f9b9b5c7f6c0e07882",
    "number": 31423,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "wallet: migration, don't create spendable wallet from a watch-only legacy wallet",
    "user": {
      "login": "furszy",
      "id": 5377650,
      "node_id": "MDQ6VXNlcjUzNzc2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/furszy",
      "html_url": "https://github.com/furszy",
      "followers_url": "https://api.github.com/users/furszy/followers",
      "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
      "organizations_url": "https://api.github.com/users/furszy/orgs",
      "repos_url": "https://api.github.com/users/furszy/repos",
      "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/furszy/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Built on top of #31374 due to the crash fix. Please review that one first.\r\n\r\nCurrently, the migration process creates a brand-new descriptor wallet with no\r\nconnection to the user's legacy wallet when the legacy wallet lacks key material\r\nand contains only watch-only scripts. This behavior is not aligned with user\r\nexpectations. If the legacy wallet contains only watch-only scripts, the migration\r\nprocess should only generate a watch-only wallet instead.\r\n\r\nTODO List:\r\n* Rework migration so the resulting wallet retains the same legacy wallet name\r\nand is not suffixed with the 'watch-only' term when this happens.",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "created_at": "2024-12-04T17:59:39Z",
    "updated_at": "2024-12-05T13:57:56Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "2941be2ff8b65d168cc2a15b4b61ba55eb03cba9",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "furszy:2024_migration_watch-only_migration",
      "ref": "2024_migration_watch-only_migration",
      "sha": "37e3cab479080db9a3ac10f9b9b5c7f6c0e07882",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 143624913,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDM2MjQ5MTM=",
        "name": "bitcoin-core",
        "full_name": "furszy/bitcoin-core",
        "owner": {
          "login": "furszy",
          "id": 5377650,
          "node_id": "MDQ6VXNlcjUzNzc2NTA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/furszy",
          "html_url": "https://github.com/furszy",
          "followers_url": "https://api.github.com/users/furszy/followers",
          "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
          "organizations_url": "https://api.github.com/users/furszy/orgs",
          "repos_url": "https://api.github.com/users/furszy/repos",
          "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/furszy/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/furszy/bitcoin-core",
        "description": "Bitcoin-Core",
        "fork": true,
        "url": "https://api.github.com/repos/furszy/bitcoin-core",
        "archive_url": "https://api.github.com/repos/furszy/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/furszy/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/furszy/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/furszy/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/furszy/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/furszy/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/furszy/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/furszy/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/furszy/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/furszy/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/furszy/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/furszy/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/furszy/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/furszy/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/furszy/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/furszy/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/furszy/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/furszy/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/furszy/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/furszy/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/furszy/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/furszy/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/furszy/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/furszy/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/furszy/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/furszy/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/furszy/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:furszy/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/furszy/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/furszy/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/furszy/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/furszy/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/furszy/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/furszy/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/furszy/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/furszy/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/furszy/bitcoin-core/hooks",
        "svn_url": "https://github.com/furszy/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 4,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 417778,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-12-05T02:55:15Z",
        "created_at": "2018-08-05T15:28:43Z",
        "updated_at": "2024-11-25T20:15:51Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "893ccea7e47d41517805b9d4063e837eb0607e66",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36480,
        "stargazers_count": 80047,
        "watchers_count": 80047,
        "size": 273236,
        "default_branch": "master",
        "open_issues_count": 658,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-12-05T12:49:23Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2024-12-05T13:55:39Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31423"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 114,
    "deletions": 11,
    "changed_files": 2,
    "commits": 4,
    "review_comments": 0,
    "comments": 1
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhmYWI1OWRjM2JlNjdmNDZlOTk5YTFjYTdkYmZlY2U1MDczNWZjMjI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8fab59dc3be67f46e999a1ca7dbfece50735fc22",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8fab59dc3be67f46e999a1ca7dbfece50735fc22",
      "tree": {
        "sha": "852993e5f03f07884526dfbc15e4517c1bcc3427",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/852993e5f03f07884526dfbc15e4517c1bcc3427"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 852993e5f03f07884526dfbc15e4517c1bcc3427\nparent f7144b24be09e7db2173a0b15d73f99a08b98118\nauthor furszy <matiasfurszyfer@protonmail.com> 1732637898 -0500\ncommitter furszy <matiasfurszyfer@protonmail.com> 1733323854 -0500\n\nwallet: fix crash during watch-only wallet migration\n\nThe crash occurs because we assume the cached scripts\nstructure will not be empty, but it can be empty when\nthe legacy wallet contained only watch-only and\nsolvable but not spendable scripts\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmdQbE4ACgkQXdI8zGhq\npiPzjA/9GyIo5ytjZHNm4zxNr9uN7IUkjAc4/A4J3iRZjytZP35oeGlTGTQU52IS\nVqjjfBAo4BHmb3Ma/wcd/q+NUxcP/O2BGNLGFiU12GIpUsluyy8f6k/0g9FCwW0S\nh7zjja/ydmXljEc2udggycmk6PgmorEJlj3b4MC3VEV8tcsYmOC30nqGxc1D6BeC\ne1/JvTKonbnyzlc16CjverQRxdWhQjMcDzGDniW/tJdTu/cBWzYu46ZQW49q2to4\nfsyFGIjL34q6hmNa7iBtIheDdvqPbxUxLidVvSXgown0pNvKu2SeBqYop8RoFXaS\nm/Rge7OXOZjrMujJNZDCKXBGFTbK42I7NPp2S+JhbaxUK6v5U+mvSbzF/Oi6o5se\nGgZzYjh26+wgY55x6PuwfS7BahpCVKbi6iLg5n+D0U+Pypj7RIKrM1YlA6ckYUrU\naxUQdF4Je34CCkxDo8BNACAalcLLzFdqGx8U41euMc0JsV3AsInJez9MXKCsc3lz\nhRZVpZT6JkZgOlKwnfe8kYW/Wj4Fp640QluNl1dJBc1tOkvc1elmKA5KZQ21PgMt\nQuImM29z6XeDIc8ZRqVuIBvMK16bdG4L7Tv9hY7YL/mOgLjY4IUEm/+cawHkYyox\nXLKMvbdH/0A4CqbvhYQrNokx/dwnYwDxr7RUtt2LbwDKcEaC0yk=\n=aIC7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f7144b24be09e7db2173a0b15d73f99a08b98118",
          "sha": "f7144b24be09e7db2173a0b15d73f99a08b98118",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f7144b24be09e7db2173a0b15d73f99a08b98118"
        }
      ],
      "message": "wallet: fix crash during watch-only wallet migration\n\nThe crash occurs because we assume the cached scripts\nstructure will not be empty, but it can be empty when\nthe legacy wallet contained only watch-only and\nsolvable but not spendable scripts",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-12-04T14:50:54Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-11-26T16:18:18Z"
      },
      "sha": "8fab59dc3be67f46e999a1ca7dbfece50735fc22"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE2NTExNzYxMGRlMTNmMGRlN2RiNWY5ZGFjMzgwZDA0NzA4NWQ4NjI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a65117610de13f0de7db5f9dac380d047085d862",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a65117610de13f0de7db5f9dac380d047085d862",
      "tree": {
        "sha": "196e449cca8e51f737bcdb190e62928f04d2764a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/196e449cca8e51f737bcdb190e62928f04d2764a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 196e449cca8e51f737bcdb190e62928f04d2764a\nparent 8fab59dc3be67f46e999a1ca7dbfece50735fc22\nauthor furszy <matiasfurszyfer@protonmail.com> 1732638674 -0500\ncommitter furszy <matiasfurszyfer@protonmail.com> 1733323854 -0500\n\ntest: add coverage for migrating watch-only script\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmdQbE4ACgkQXdI8zGhq\npiN5kw/7BzTB8/SztR7D1ewICDVdb7TwAeDamM1shq6uK7Mj/ujFW60ODBW64Q6i\nXf2/cEHedfzcfJd22T+R9u975nedDcT2q1OlDWyu+MqRttPG8TrItBrhtsFRlVzU\nVrTf05+pq9Md7TaDANfwDm2/A0gl9RzICR6AbfgBM/nj66/M7e9bbmx5GuybzjwG\nQn+gKCyQlnrsR33lTJgMb5iFMcFwy++WaFZfXKoYlbJeWoX0l8gcUYLAt/Av+NE1\n2gvDixZy8KNfnd07ETAytCIZx/Q8RKaimBpRChHkadCKisEE07xfKXOIavQl4mdy\nwr1uNIBQTXRfRvvlwvQ2ADSU30zrCQChKX3OBFAEAMxkLSKrGaYHiWuQf31lNNvG\nBiLw2I79wJqn8TpUapBZds0PC6LHG1Cay/KuAlvADYDSxT5dAiA/8KnXWeu7rJWU\nxLj1LwcmNZo0j2wZQdzxquV+/g+Pjuh5xSRl0Z7x8fhvtymraVkDanjyi/y6nXHX\njUlFmPHwpGBT8t7XrbIyuN4fhZMSxywUbCkC8Iricfiaffru9yJd/TQKLRJH8TMq\ndIN5xXi5bFinrFc05kSr408AydfPoixVN/572RtS94jPfG5F3aP/5qFnuVWTFrt/\nQ7ptt2Vu8ROT/rFbCVlSrQ8V98sMhKzB38HbDr/R+b3uiBJyRlo=\n=8O2e\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8fab59dc3be67f46e999a1ca7dbfece50735fc22",
          "sha": "8fab59dc3be67f46e999a1ca7dbfece50735fc22",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8fab59dc3be67f46e999a1ca7dbfece50735fc22"
        }
      ],
      "message": "test: add coverage for migrating watch-only script",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-12-04T14:50:54Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-11-26T16:31:14Z"
      },
      "sha": "a65117610de13f0de7db5f9dac380d047085d862"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI2M2NkODY2YTEwZjM2NmQyZjczZmMzOWQxNzgzMTkyNWFiMTg2ZDM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b63cd866a10f366d2f73fc39d17831925ab186d3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b63cd866a10f366d2f73fc39d17831925ab186d3",
      "tree": {
        "sha": "3925d41ed60568460bdcafc9f843810ff1cfc41f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3925d41ed60568460bdcafc9f843810ff1cfc41f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3925d41ed60568460bdcafc9f843810ff1cfc41f\nparent a65117610de13f0de7db5f9dac380d047085d862\nauthor furszy <matiasfurszyfer@protonmail.com> 1732648890 -0500\ncommitter furszy <matiasfurszyfer@protonmail.com> 1733323854 -0500\n\ntest: add coverage for migrating standalone imported keys\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmdQbE4ACgkQXdI8zGhq\npiN9gw//a7naUfe2QpbrDmsX7uIlqZQr8nBMpi9fsSMYO0R/wu7+uks8nLFwjaoO\nvrDtBJY3HAPyDna4f6yw5Oaf5pYDndAD3xXQwHANQ5ubz2gEScsHoLvWklJa68u9\n0ZA8DvNvDJpi7yCP5D+Ll24PYglC0FAbxuHara7DW3AXkDPF1rl8zN/ogjnafAXD\nLLBk8Ei0pBeW784Jx1Hzy+aQZLBTcW2YbWLfP5VwDsKmenAZZVxJ6T8/XLWXbdmZ\nTLrVQYQkWtDSFGGgNMPFT1WUMulzp2SRNeirtM/twF7YclbSiZF9C6kg8Wv6h/jU\nmIXaAmMZPxtGoWHAbKxZKAXLy3WsUB+8/PbFoeplyTfFVLElAo96rMHdemIEap+y\n6r4zgQusojHgm+x8WzrEo2JcITzLpUo08b+RYZc0WLHC8pgkJRYdkq55bs+hp0ya\nfYhx1h94z1SSupmcal7EWZ5RFSTGSK9mNkLrrAGrmtXTe9gRS3zPOAbLDKGw63jj\nHAVGsupmkjt5lsz9sz2oTL8ZS0GsJhVTUipHDO4YrBrudbM7qQAiZxsJEBr/k77d\nssxbrSKgobu3t7bEG+BPqgZDJ+2744hZxiYACsyQv2Iwu8cCy5gMtSuH4hJkbdCc\nizmIC+8Sc9oAhYQE6bMw/AHI/v1WdFBIyLryrUfi3ZFUA42sd6w=\n=szuT\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a65117610de13f0de7db5f9dac380d047085d862",
          "sha": "a65117610de13f0de7db5f9dac380d047085d862",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a65117610de13f0de7db5f9dac380d047085d862"
        }
      ],
      "message": "test: add coverage for migrating standalone imported keys",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-12-04T14:50:54Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-11-26T19:21:30Z"
      },
      "sha": "b63cd866a10f366d2f73fc39d17831925ab186d3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM3ZTNjYWI0NzkwODBkYjlhM2FjMTBmOWI5YjVjN2Y2YzBlMDc4ODI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/37e3cab479080db9a3ac10f9b9b5c7f6c0e07882",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/37e3cab479080db9a3ac10f9b9b5c7f6c0e07882",
      "tree": {
        "sha": "6764cf386dbd0b50ad6b657f1fd4271ee7fe7fa4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6764cf386dbd0b50ad6b657f1fd4271ee7fe7fa4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6764cf386dbd0b50ad6b657f1fd4271ee7fe7fa4\nparent b63cd866a10f366d2f73fc39d17831925ab186d3\nauthor furszy <matiasfurszyfer@protonmail.com> 1733334498 -0500\ncommitter furszy <matiasfurszyfer@protonmail.com> 1733334760 -0500\n\nwallet: migration, don't create spendable wallet from a watch-only legacy wallet\n\nCurrently, the migration process creates a brand-new descriptor wallet with no\nconnection to the user's legacy wallet when the legacy wallet lacks key material\nand contains only watch-only scripts. This behavior is not aligned with user\nexpectations. If the legacy wallet contains only watch-only scripts, the migration\nprocess should only generate a watch-only wallet instead.\n\nThis commit implements this behavior.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEA++0fqwRHQpmlZfQXdI8zGhqpiMFAmdQlugACgkQXdI8zGhq\npiOGdhAAm/nf9iOQwAECVXO5Sre/NulY3hUhVmhq5icgKZi7K73+GY8WCAG/HWLY\nhaTQEdJv61bVJungV+K2HYSBpjyr8wmVCaRbgtzbDKRFPqK2CeoyD8rTONvMlQm6\nisQVdFLrYgw+NgdASL8uq+UXGnS71owuzBw91tJB3HfMHgbr3vf10tAOyNHBmUtv\n4ipCKJUgkelu1cmGk/0VJc9eLU2J8gfHuEWbLh7RP8jki9PjHKKViCD7TWsbAkAs\ntLqYvXVRwERfLY6r53o2KETmoHt2RdyEADV0bxzTSccCLwfLtN/DMIpjcSnpBcbG\nmQAoQK5qsqc78IbaxePQi+4d1EwzgEX2Rqz8aphTGutrcgOlTwocvvTXrBCUa1+g\nyxmFrH+AGxGT0cYIhYEFgbAwSChuUzxb7qgl/9oWV6lA7OHq3R9bvOybkbZYfwSy\ncrnZ4uambJ4Dgq9rsZyTyq2rnno6dSnYLRdfLx5pjzYP+jh90c4koFjUNA80zT1y\npdE4OrTs08KHlZfohk4a6/n+f/DhChDK0EFKMd/GDMt7gvxkJZDz4sb1YdVnqXeY\nnEqed2KhJC8sdurF7ksmDU/aQ5DCBjpmcQw8IyiyMOqQJ7ZGE/zTT6Md6Gk5meaI\nVN+igMdX/eRwt+l9mGtjWkymBPI2R4Qu7E9nmjAGD7HQSw24BTE=\n=q4v8\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b63cd866a10f366d2f73fc39d17831925ab186d3",
          "sha": "b63cd866a10f366d2f73fc39d17831925ab186d3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b63cd866a10f366d2f73fc39d17831925ab186d3"
        }
      ],
      "message": "wallet: migration, don't create spendable wallet from a watch-only legacy wallet\n\nCurrently, the migration process creates a brand-new descriptor wallet with no\nconnection to the user's legacy wallet when the legacy wallet lacks key material\nand contains only watch-only scripts. This behavior is not aligned with user\nexpectations. If the legacy wallet contains only watch-only scripts, the migration\nprocess should only generate a watch-only wallet instead.\n\nThis commit implements this behavior.",
      "committer": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-12-04T17:52:40Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-12-04T17:48:18Z"
      },
      "sha": "37e3cab479080db9a3ac10f9b9b5c7f6c0e07882"
    },
    {
      "event": "commented",
      "id": 2520009159,
      "node_id": "IC_kwDOABII586WNEnH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2520009159",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-05T11:11:50Z",
      "updated_at": "2024-12-05T11:11:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31420](https://github.com/bitcoin/bitcoin/pull/31420) (test: implements helper functions for unit conversion by wfzyx)\n* [#31374](https://github.com/bitcoin/bitcoin/pull/31374) (wallet: fix crash during watch-only wallet migration by furszy)\n* [#30328](https://github.com/bitcoin/bitcoin/pull/30328) (wallet: Remove IsMine from migration code by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31423#issuecomment-2520009159",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31423"
    },
    {
      "event": "labeled",
      "id": 15544412498,
      "node_id": "LE_lADOABII586iCDJWzwAAAAOehOlS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15544412498",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-05T13:43:34Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 15544627325,
      "node_id": "UNLE_lADOABII586iCDJWzwAAAAOeiDB9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15544627325",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-05T13:57:54Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 15544627988,
      "node_id": "LE_lADOABII586iCDJWzwAAAAOeiDMU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15544627988",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-05T13:57:56Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    }
  ],
  "comments": []
}