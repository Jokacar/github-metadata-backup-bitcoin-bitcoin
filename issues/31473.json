{
  "type": "issue",
  "issue": {
    "id": 2734300130,
    "node_id": "I_kwDOABII586i-hvi",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31473",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31473/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31473/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31473/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31473",
    "number": 31473,
    "state": "closed",
    "state_reason": "completed",
    "title": "verification progress dropped 11% on bitcoin core update from 22 to 28",
    "body": "### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Current behaviour\r\n\r\nPossibly related to #31127 with wrong estimation.\r\n\r\nI had a full node synced for a while then got shut down for a year or so. I started syncing again last week and got to 90% verification progress using Bitcoin Core v22 on Windows 11.\r\n\r\nI shut it down normally and started v28 and found out that sync progress dropped to 79% (although height looks correct). The estimation of 79% seems off by a margin (~810204 / ~874306).\r\n\r\nPrior to starting 28.0, I changed cache size to 3072 from 2000mb. Also enabled listen=1 and natpmp=1 and set rpcthreads to 4\r\n\r\n\r\nBelow is the output from bitcoind\r\n\r\nv22.0\r\n```\r\n2024-12-11T22:32:59Z UpdateTip: new best=0000000000000000000025c009ef7f5a53d83c0f90b7204e6d4d6b8c558c3f46 height=810204 version=0x2161a000 log2_work=94.450625 tx=902076116 date='2023-10-01T21:38:54Z' progress=0.907849 cache=2729.0MiB(19552965txo)\r\n2024-12-11T22:33:08Z addcon thread exit\r\n2024-12-11T22:33:08Z Shutdown: In progress...\r\n2024-12-11T22:33:29Z UpdateTip: new best=0000000000000000000388fb7927edce65a92fd529855ee0964a132a74943fd1 height=810205 version=0x20598000 log2_work=94.450638 tx=902078375 date='2023-10-01T21:51:34Z' progress=0.907851 cache=2729.5MiB(19557179txo)\r\n2024-12-11T22:33:29Z net thread exit\r\n2024-12-11T22:33:29Z opencon thread exit\r\n2024-12-11T22:33:29Z msghand thread exit\r\n2024-12-11T22:33:30Z DumpAnchors: Flush 0 outbound block-relay-only peer addresses to anchors.dat started\r\n2024-12-11T22:33:30Z DumpAnchors: Flush 0 outbound block-relay-only peer addresses to anchors.dat completed (0.03s)\r\n2024-12-11T22:33:30Z scheduler thread exit\r\n2024-12-11T22:33:30Z Writing 0 unbroadcast transactions to disk.\r\n2024-12-11T22:33:30Z Dumped mempool: 0s to copy, 0.042118s to dump\r\n2024-12-11T22:33:30Z FlushStateToDisk: write coins cache to disk (19557179 coins, 2862106kB) started\r\n2024-12-11T22:38:21Z FlushStateToDisk: write coins cache to disk (19557179 coins, 2862106kB) completed (290.77s)\r\n2024-12-11T22:38:22Z FlushStateToDisk: write coins cache to disk (0 coins, 249287kB) started\r\n2024-12-11T22:38:22Z FlushStateToDisk: write coins cache to disk (0 coins, 249287kB) completed (0.03s)\r\n2024-12-11T22:38:22Z [btc] Releasing wallet\r\n2024-12-11T22:38:24Z Shutdown: done\r\n```\r\n\r\nv28.0\r\n```\r\n2024-12-11T22:44:56Z Bitcoin Core version v28.0.0 (release build)\r\n2024-12-11T22:44:56Z Script verification uses 7 additional threads\r\n...\r\n2024-12-11T22:45:13Z [Chainstate [ibd] @ height 810205 (0000000000000000000388fb7927edce65a92fd529855ee0964a132a74943fd1)] resized coinsdb cache to 8.0 MiB\r\n2024-12-11T22:45:13Z [Chainstate [ibd] @ height 810205 (0000000000000000000388fb7927edce65a92fd529855ee0964a132a74943fd1)] resized coinstip cache to 3062.0 MiB\r\n2024-12-11T22:45:13Z init message: Verifying blocksâ€¦\r\n2024-12-11T22:45:13Z Verifying last 6 blocks at level 3\r\n2024-12-11T22:45:13Z Verification progress: 0%\r\n2024-12-11T22:45:18Z Verification progress: 16%\r\n2024-12-11T22:45:20Z Verification progress: 33%\r\n2024-12-11T22:45:22Z Verification progress: 50%\r\n2024-12-11T22:45:27Z Verification progress: 66%\r\n2024-12-11T22:45:32Z Verification progress: 83%\r\n2024-12-11T22:45:37Z Verification progress: 99%\r\n2024-12-11T22:45:37Z Verification: No coin database inconsistencies in last 6 blocks (13700 transactions)\r\n...\r\n2024-12-11T22:45:38Z block tree size = 874310\r\n2024-12-11T22:45:38Z nBestHeight = 810205\r\n...\r\n2024-12-11T22:46:38Z UpdateTip: new best=0000000000000000000328e424cd9ff6317a8f256f7bc2b5d3aa487e295eb27d height=810206 version=0x2000a000 log2_work=94.450651 tx=902081169 date='2023-10-01T22:03:16Z' progress=0.799296 cache=2.0MiB(13498txo)\r\n...\r\n2024-12-11T23:05:30Z UpdateTip: new best=00000000000000000003c60a6d2e1057f22c6196fd460426edcac61fb6566bc6 height=810257 version=0x31df0000 log2_work=94.451318 tx=902204695 date='2023-10-02T05:46:14Z' progress=0.799400 cache=66.2MiB(471028txo)\r\n2024-12-11T23:05:31Z New outbound-full-relay v1 peer connected: version: 70016, blocks=874317, peer=11\r\n2024-12-11T23:06:43Z UpdateTip: new best=000000000000000000002523bf6b52063643fe2f6fa0044be77b9281f032fa44 height=810258 version=0x2c1a2000 log2_work=94.451331 tx=902206413 date='2023-10-02T05:49:36Z' progress=0.799402 cache=67.0MiB(477299txo)\r\n```\r\n\r\noutput from getblockchaininfo v28\r\n```json\r\n{\r\n  \"chain\": \"main\",\r\n  \"blocks\": 810219,\r\n  \"headers\": 874306,\r\n  \"bestblockhash\": \"00000000000000000001ea4fa4ece42b581f5fdc166f7b38f5c8fa681e4df428\",\r\n  \"difficulty\": 57119871304635.31,\r\n  \"time\": 1696204947,\r\n  \"mediantime\": 1696201662,\r\n  \"verificationprogress\": 0.7993304061924166,\r\n  \"initialblockdownload\": true,\r\n  \"chainwork\": \"00000000000000000000000000000000000000005779f10cf088bda014db5010\",\r\n  \"size_on_disk\": 585465035888,\r\n  \"pruned\": false,\r\n  \"warnings\": [\r\n  ]\r\n}\r\n```\r\n\r\nv22\r\n```json\r\n{\r\n  \"bestblockhash\": \"00000000000000000002a1d92d666379d4dad703f83a65d3fab646ac926059db\",\r\n  \"blocks\": 810129,\r\n  \"chain\": \"main\",\r\n  \"chainwork\": \"00000000000000000000000000000000000000005767ad75997516b2847c0618\",\r\n  \"difficulty\": 57119871304635.31,\r\n  \"headers\": 874306,\r\n  \"initialblockdownload\": true,\r\n  \"mediantime\": 1696145087,\r\n  \"pruned\": false,\r\n  \"size_on_disk\": 585444075524,\r\n  \"softforks\": { \"...\":\"...\" },\r\n  \"verificationprogress\": 0.9077289515209678,\r\n  \"warnings\": \"\"\r\n}\r\n```\r\n\r\n### Expected behaviour\r\n\r\nI'd expect the progress to be the same and reasonable maybe?\r\n\r\n### Steps to reproduce\r\n\r\nupgrade from v22 to v28 using same datadir and run right away\r\n\r\n### Relevant log output\r\n\r\n```log\r\n2024-12-11T22:31:49Z UpdateTip: new best=00000000000000000004ad5b9643b09000d1e468caf79c19492429865b158489 height=810202 version=0x2fffe000 log2_work=94.450599 tx=902071710 date='2023-10-01T21:25:05Z' progress=0.907847 cache=2727.9MiB(19544073txo)\r\n2024-12-11T22:31:54Z UpdateTip: new best=00000000000000000004c503eb1af0f16fe468100db3dae2caf7420f22aaa8a3 height=810203 version=0x2b5a8000 log2_work=94.450612 tx=902074572 date='2023-10-01T21:35:20Z' progress=0.907848 cache=2728.4MiB(19547525txo)\r\n2024-12-11T22:32:59Z UpdateTip: new best=0000000000000000000025c009ef7f5a53d83c0f90b7204e6d4d6b8c558c3f46 height=810204 version=0x2161a000 log2_work=94.450625 tx=902076116 date='2023-10-01T21:38:54Z' progress=0.907849 cache=2729.0MiB(19552965txo)\r\n2024-12-11T22:33:08Z addcon thread exit\r\n2024-12-11T22:33:08Z Shutdown: In progress...\r\n2024-12-11T22:33:29Z UpdateTip: new best=0000000000000000000388fb7927edce65a92fd529855ee0964a132a74943fd1 height=810205 version=0x20598000 log2_work=94.450638 tx=902078375 date='2023-10-01T21:51:34Z' progress=0.907851 cache=2729.5MiB(19557179txo)\r\n2024-12-11T22:33:29Z net thread exit\r\n2024-12-11T22:33:29Z opencon thread exit\r\n2024-12-11T22:33:29Z msghand thread exit\r\n2024-12-11T22:33:30Z DumpAnchors: Flush 0 outbound block-relay-only peer addresses to anchors.dat started\r\n2024-12-11T22:33:30Z DumpAnchors: Flush 0 outbound block-relay-only peer addresses to anchors.dat completed (0.03s)\r\n2024-12-11T22:33:30Z scheduler thread exit\r\n2024-12-11T22:33:30Z Writing 0 unbroadcast transactions to disk.\r\n2024-12-11T22:33:30Z Dumped mempool: 0s to copy, 0.042118s to dump\r\n2024-12-11T22:33:30Z FlushStateToDisk: write coins cache to disk (19557179 coins, 2862106kB) started\r\n2024-12-11T22:38:21Z FlushStateToDisk: write coins cache to disk (19557179 coins, 2862106kB) completed (290.77s)\r\n2024-12-11T22:38:22Z FlushStateToDisk: write coins cache to disk (0 coins, 249287kB) started\r\n2024-12-11T22:38:22Z FlushStateToDisk: write coins cache to disk (0 coins, 249287kB) completed (0.03s)\r\n2024-12-11T22:38:22Z [btc] Releasing wallet\r\n2024-12-11T22:38:24Z Shutdown: done\r\n\r\n\r\n\r\n\r\n\r\n2024-12-11T22:44:56Z Bitcoin Core version v28.0.0 (release build)\r\n2024-12-11T22:44:56Z Script verification uses 7 additional threads\r\n2024-12-11T22:44:56Z Using the 'sse4(1way),sse41(4way),avx2(8way)' SHA256 implementation\r\n2024-12-11T22:44:57Z Using RdSeed as an additional entropy source\r\n2024-12-11T22:44:57Z Using RdRand as an additional entropy source\r\n2024-12-11T22:44:59Z Default data directory C:\\Users\\_PATH\\AppData\\Local\\Bitcoin\r\n2024-12-11T22:44:59Z Using data directory D:\\_PATH\r\n2024-12-11T22:44:59Z Config file: D:\\_PATH\\bitcoin.conf\r\n2024-12-11T22:44:59Z Config file arg: blockmaxweight=\"4000000\"\r\n2024-12-11T22:44:59Z Config file arg: blockreconstructionextratxn=\"1000\"\r\n2024-12-11T22:44:59Z Config file arg: datadir=\"D:\\\\_PATH\"\r\n2024-12-11T22:44:59Z Config file arg: dbcache=\"3072\"\r\n2024-12-11T22:44:59Z Config file arg: listen=\"1\"\r\n2024-12-11T22:44:59Z Config file arg: maxmempool=\"1000\"\r\n2024-12-11T22:44:59Z Config file arg: maxorphantx=\"1000\"\r\n2024-12-11T22:44:59Z Config file arg: maxsigcachesize=\"100\"\r\n2024-12-11T22:44:59Z Config file arg: natpmp=\"1\"\r\n2024-12-11T22:44:59Z Config file arg: prune=\"0\"\r\n2024-12-11T22:44:59Z Config file arg: rpcallowip=\"192.168.1.0/24\"\r\n2024-12-11T22:44:59Z Config file arg: rpcauth=****\r\n2024-12-11T22:44:59Z Config file arg: rpcbind=\"0.0.0.0\"\r\n2024-12-11T22:44:59Z Config file arg: rpcport=\"8332\"\r\n2024-12-11T22:44:59Z Config file arg: rpcthreads=\"4\"\r\n2024-12-11T22:44:59Z Config file arg: server=\"1\"\r\n2024-12-11T22:44:59Z Config file arg: upnp=\"0\"\r\n2024-12-11T22:44:59Z Setting file arg: wallet = [\"btc\"]\r\n2024-12-11T22:44:59Z Command-line arg: conf=\"bitcoin.conf\"\r\n2024-12-11T22:44:59Z Command-line arg: datadir=\"D:/_PATH\"\r\n2024-12-11T22:44:59Z Using at most 125 automatic connections (2048 file descriptors available)\r\n2024-12-11T22:44:59Z scheduler thread start\r\n2024-12-11T22:44:59Z Binding RPC on address 0.0.0.0 port 8332\r\n2024-12-11T22:44:59Z WARNING: the RPC server is not safe to expose to untrusted networks such as the public internet\r\n2024-12-11T22:44:59Z Using random cookie authentication.\r\n2024-12-11T22:44:59Z Generated RPC authentication cookie D:\\_PATH\\.cookie\r\n2024-12-11T22:44:59Z Permissions used for cookie: rw-rw-rw-\r\n2024-12-11T22:44:59Z Using rpcauth authentication.\r\n2024-12-11T22:44:59Z Starting HTTP server with 4 worker threads\r\n2024-12-11T22:44:59Z Using wallet directory D:\\_PATH\r\n2024-12-11T22:44:59Z init message: Verifying wallet(s)â€¦\r\n2024-12-11T22:44:59Z Using BerkeleyDB version Berkeley DB 4.8.30: (April  9, 2010)\r\n2024-12-11T22:44:59Z Using wallet D:\\_PATH\\btc\\wallet.dat\r\n2024-12-11T22:44:59Z BerkeleyEnvironment::Open: LogDir=D:\\_PATH\\btc\\database ErrorFile=D:\\_PATH\\btc\\db.log\r\n2024-12-11T22:45:00Z Using /16 prefix for IP bucketing\r\n2024-12-11T22:45:00Z init message: Loading P2P addressesâ€¦\r\n2024-12-11T22:45:00Z Loaded 70570 addresses from peers.dat  523ms\r\n2024-12-11T22:45:00Z init message: Loading banlistâ€¦\r\n2024-12-11T22:45:00Z banlist.dat ignored because it can only be read by Bitcoin Core version 22.x. Remove \"D:\\_PATH\\banlist.dat\" to silence this warning.\r\n2024-12-11T22:45:00Z SetNetworkActive: true\r\n2024-12-11T22:45:00Z Script verification uses 7 additional threads\r\n2024-12-11T22:45:00Z Cache configuration:\r\n2024-12-11T22:45:00Z * Using 2.0 MiB for block index database\r\n2024-12-11T22:45:00Z * Using 8.0 MiB for chain state database\r\n2024-12-11T22:45:00Z * Using 3062.0 MiB for in-memory UTXO set (plus up to 953.7 MiB of unused mempool space)\r\n2024-12-11T22:45:00Z Using obfuscation key for blocksdir *.dat files (D:\\_PATH\\blocks): '0000000000000000'\r\n2024-12-11T22:45:00Z Using 50 MiB out of 50 MiB requested for signature cache, able to store 1638400 elements\r\n2024-12-11T22:45:00Z Using 50 MiB out of 50 MiB requested for script execution cache, able to store 1638400 elements\r\n2024-12-11T22:45:00Z init message: Loading block indexâ€¦\r\n2024-12-11T22:45:00Z Assuming ancestors of block 000000000000000000011c5890365bdbe5d25b97ce0057589acaef4f1a57263f have valid signatures.\r\n2024-12-11T22:45:00Z Setting nMinimumChainWork=000000000000000000000000000000000000000088e186b70e0862c193ec44d6\r\n2024-12-11T22:45:00Z Opening LevelDB in D:\\_PATH\\blocks\\index\r\n2024-12-11T22:45:01Z Opened LevelDB successfully\r\n2024-12-11T22:45:01Z Using obfuscation key for D:\\_PATH\\blocks\\index: 0000000000000000\r\n2024-12-11T22:45:09Z LoadBlockIndexDB: last block file = 3863\r\n2024-12-11T22:45:10Z LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=28, size=43132583, heights=809956...810727, time=2023-09-30...2023-10-05)\r\n2024-12-11T22:45:10Z Checking all blk files are present...\r\n2024-12-11T22:45:11Z Initializing chainstate Chainstate [ibd] @ height -1 (null)\r\n2024-12-11T22:45:11Z Opening LevelDB in D:\\_PATH\\chainstate\r\n2024-12-11T22:45:13Z Opened LevelDB successfully\r\n2024-12-11T22:45:13Z Using obfuscation key for D:\\_PATH\\chainstate: fbaa23d084ac0d83\r\n2024-12-11T22:45:13Z Loaded best chain: hashBestChain=0000000000000000000388fb7927edce65a92fd529855ee0964a132a74943fd1 height=810205 date=2023-10-01T21:51:34Z progress=0.799294\r\n2024-12-11T22:45:13Z Opening LevelDB in D:\\_PATH\\chainstate\r\n2024-12-11T22:45:13Z Opened LevelDB successfully\r\n2024-12-11T22:45:13Z Using obfuscation key for D:\\_PATH\\chainstate: fbaa23d084ac0d83\r\n2024-12-11T22:45:13Z [Chainstate [ibd] @ height 810205 (0000000000000000000388fb7927edce65a92fd529855ee0964a132a74943fd1)] resized coinsdb cache to 8.0 MiB\r\n2024-12-11T22:45:13Z [Chainstate [ibd] @ height 810205 (0000000000000000000388fb7927edce65a92fd529855ee0964a132a74943fd1)] resized coinstip cache to 3062.0 MiB\r\n2024-12-11T22:45:13Z init message: Verifying blocksâ€¦\r\n2024-12-11T22:45:13Z Verifying last 6 blocks at level 3\r\n2024-12-11T22:45:13Z Verification progress: 0%\r\n2024-12-11T22:45:18Z Verification progress: 16%\r\n2024-12-11T22:45:20Z Verification progress: 33%\r\n2024-12-11T22:45:22Z Verification progress: 50%\r\n2024-12-11T22:45:27Z Verification progress: 66%\r\n2024-12-11T22:45:32Z Verification progress: 83%\r\n2024-12-11T22:45:37Z Verification progress: 99%\r\n2024-12-11T22:45:37Z Verification: No coin database inconsistencies in last 6 blocks (13700 transactions)\r\n2024-12-11T22:45:37Z  block index           36930ms\r\n2024-12-11T22:45:37Z init message: Loading walletâ€¦\r\n2024-12-11T22:45:37Z BerkeleyEnvironment::Open: LogDir=D:\\_PATH\\btc\\database ErrorFile=D:\\_PATH\\btc\\db.log\r\n2024-12-11T22:45:37Z [btc] Wallet file version = 10500, last client version = 220000\r\n2024-12-11T22:45:37Z [btc] Legacy Wallet Keys: 0 plaintext, 2001 encrypted, 2001 w/ metadata, 2001 total.\r\n2024-12-11T22:45:37Z [btc] Descriptors: 0, Descriptor Keys: 0 plaintext, 0 encrypted, 0 total.\r\n2024-12-11T22:45:38Z [btc] Wallet completed loading in             291ms\r\n2024-12-11T22:45:38Z [btc] setKeyPool.size() = 2000\r\n2024-12-11T22:45:38Z [btc] mapWallet.size() = 4\r\n2024-12-11T22:45:38Z [btc] m_address_book.size() = 1\r\n2024-12-11T22:45:38Z Setting NODE_NETWORK on non-prune mode\r\n2024-12-11T22:45:38Z block tree size = 874310\r\n2024-12-11T22:45:38Z nBestHeight = 810205\r\n2024-12-11T22:45:38Z initload thread start\r\n2024-12-11T22:45:38Z mapport thread start\r\n2024-12-11T22:45:38Z torcontrol thread start\r\n2024-12-11T22:45:38Z natpmp: readnatpmpresponseorretry() for public address failed with -5 error.\r\n2024-12-11T22:45:38Z Bound to 127.0.0.1:8334\r\n2024-12-11T22:45:38Z Bound to [::]:8333\r\n2024-12-11T22:45:38Z Bound to 0.0.0.0:8333\r\n2024-12-11T22:45:38Z Loaded 0 addresses from \"anchors.dat\"\r\n2024-12-11T22:45:38Z 0 block-relay-only anchors will be tried for connections.\r\n2024-12-11T22:45:38Z init message: Starting network threadsâ€¦\r\n2024-12-11T22:45:38Z net thread start\r\n2024-12-11T22:45:38Z opencon thread start\r\n2024-12-11T22:45:38Z dnsseed thread start\r\n2024-12-11T22:45:38Z addcon thread start\r\n2024-12-11T22:45:38Z msghand thread start\r\n2024-12-11T22:45:38Z Waiting 300 seconds before querying DNS seeds.\r\n2024-12-11T22:46:38Z UpdateTip: new best=0000000000000000000328e424cd9ff6317a8f256f7bc2b5d3aa487e295eb27d height=810206 version=0x2000a000 log2_work=94.450651 tx=902081169 date='2023-10-01T22:03:16Z' progress=0.799296 cache=2.0MiB(13498txo)\r\n2024-12-11T22:47:27Z UpdateTip: new best=000000000000000000005bf8f39f891a7ef192cd420aca62e6e4e712f9651345 height=810207 version=0x30b0c000 log2_work=94.450664 tx=902083876 date='2023-10-01T22:15:30Z' progress=0.799299 cache=3.7MiB(26474txo)\r\n2024-12-11T22:50:23Z UpdateTip: new best=00000000000000000003d001eba5cebcc7f518100c565e9b81a8d43abe1a4647 height=810208 version=0x21b18000 log2_work=94.450677 tx=902085395 date='2023-10-01T22:16:33Z' progress=0.799299 cache=5.4MiB(40108txo)\r\n2024-12-11T22:50:33Z UpdateTip: new best=000000000000000000023aa4cd17246fd163f70c76886d0a8a0c95de12064463 height=810209 version=0x31c16000 log2_work=94.450690 tx=902089477 date='2023-10-01T22:26:53Z' progress=0.799303 cache=7.2MiB(50870txo)\r\n2024-12-11T22:50:38Z natpmp: readnatpmpresponseorretry() for public address failed with -5 error.\r\n2024-12-11T22:50:38Z Loading addresses from DNS seed seed.bitcoin.sipa.be.\r\n2024-12-11T22:50:38Z Loading addresses from DNS seed dnsseed.emzy.de.\r\n2024-12-11T22:50:38Z Loading addresses from DNS seed dnsseed.bitcoin.dashjr-list-of-p2p-nodes.us.\r\n2024-12-11T22:50:40Z Waiting 300 seconds before querying DNS seeds.\r\n2024-12-11T22:51:05Z UpdateTip: new best=00000000000000000003bc9f4d0c3ee9506a98af5f998e76a26d0ce738857388 height=810210 version=0x20400000 log2_work=94.450703 tx=902091419 date='2023-10-01T22:34:18Z' progress=0.799304 cache=8.5MiB(61772txo)\r\n2024-12-11T22:51:05Z init message: Done loading\r\n2024-12-11T22:51:18Z UpdateTip: new best=000000000000000000015d7268a3392ee8a1d12df7487ab05a16850db6b55d27 height=810211 version=0x20000000 log2_work=94.450716 tx=902095202 date='2023-10-01T22:41:03Z' progress=0.799307 cache=9.7MiB(70383txo)\r\n2024-12-11T22:51:32Z UpdateTip: new best=00000000000000000001e1f6c8ead46189e4be15a9d4ed23c9c3ab8173592fae height=810212 version=0x29274000 log2_work=94.450729 tx=902097477 date='2023-10-01T22:53:50Z' progress=0.799309 cache=10.7MiB(80259txo)\r\n2024-12-11T22:51:36Z UpdateTip: new best=000000000000000000017157c555d2dbb157fab5fc745a16b08e6738e0c85936 height=810213 version=0x27e4e000 log2_work=94.450742 tx=902101740 date='2023-10-01T22:57:23Z' progress=0.799313 cache=12.6MiB(87659txo)\r\n2024-12-11T22:51:46Z UpdateTip: new best=00000000000000000001d4e8965451fa109b0b7b8526ba2af168f20f0b9a7bcf height=810214 version=0x2c824000 log2_work=94.450755 tx=902104456 date='2023-10-01T23:07:42Z' progress=0.799316 cache=13.7MiB(96410txo)\r\n2024-12-11T22:51:48Z UpdateTip: new best=00000000000000000002e60058b030f8f5c6a73a4d9c303a08996179bda559ed height=810215 version=0x2563e004 log2_work=94.450769 tx=902108886 date='2023-10-01T23:11:09Z' progress=0.799319 cache=14.4MiB(102029txo)\r\n2024-12-11T22:52:04Z UpdateTip: new best=00000000000000000004ec54730438f390b5284524e581feb471639ebe4398f3 height=810216 version=0x20018000 log2_work=94.450782 tx=902111866 date='2023-10-01T23:33:15Z' progress=0.799322 cache=16.2MiB(115993txo)\r\n2024-12-11T22:52:42Z UpdateTip: new best=00000000000000000001617c47276c60dca2c1115ada583ca27df1f98f564f14 height=810217 version=0x20006000 log2_work=94.450795 tx=902114798 date='2023-10-01T23:43:08Z' progress=0.799324 cache=17.3MiB(125921txo)\r\n```\r\n\r\n### How did you obtain Bitcoin Core\r\n\r\nPre-built binaries\r\n\r\n### What version of Bitcoin Core are you using?\r\n\r\nv28.0\r\n\r\n### Operating system and version\r\n\r\nWindows 11 21H2 22000.2538\r\n\r\n### Machine specifications\r\n\r\nProcessor\tIntel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz, 2808 Mhz, 4 Core(s), 8 Logical Processor(s)\r\nTotal Physical Memory\t15.9 GB\r\nTotal Virtual Memory\t22.6 GB\r\nDiskdrive D (NTFS): \r\nHDD Size\t919.41 GB \r\nFree Space\t119.99 GB",
    "user": {
      "login": "wisammechano",
      "id": 12988551,
      "node_id": "MDQ6VXNlcjEyOTg4NTUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12988551?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wisammechano",
      "html_url": "https://github.com/wisammechano",
      "followers_url": "https://api.github.com/users/wisammechano/followers",
      "following_url": "https://api.github.com/users/wisammechano/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/wisammechano/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/wisammechano/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/wisammechano/subscriptions",
      "organizations_url": "https://api.github.com/users/wisammechano/orgs",
      "repos_url": "https://api.github.com/users/wisammechano/repos",
      "events_url": "https://api.github.com/users/wisammechano/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/wisammechano/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 477890092,
        "node_id": "MDU6TGFiZWw0Nzc4OTAwOTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help",
        "name": "Questions and Help",
        "color": "006688",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 2,
    "closed_at": "2024-12-12T09:03:59Z",
    "closed_by": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "created_at": "2024-12-12T00:02:05Z",
    "updated_at": "2024-12-12T09:03:59Z"
  },
  "events": [
    {
      "event": "renamed",
      "id": 15626710737,
      "node_id": "RTE_lADOABII586i-hvizwAAAAOjbK7R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15626710737",
      "actor": {
        "login": "wisammechano",
        "id": 12988551,
        "node_id": "MDQ6VXNlcjEyOTg4NTUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/12988551?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wisammechano",
        "html_url": "https://github.com/wisammechano",
        "followers_url": "https://api.github.com/users/wisammechano/followers",
        "following_url": "https://api.github.com/users/wisammechano/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/wisammechano/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/wisammechano/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/wisammechano/subscriptions",
        "organizations_url": "https://api.github.com/users/wisammechano/orgs",
        "repos_url": "https://api.github.com/users/wisammechano/repos",
        "events_url": "https://api.github.com/users/wisammechano/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/wisammechano/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T00:09:23Z",
      "rename": {
        "from": "verification progress dropped 12% on bitcoin core update from 22 to 28",
        "to": "verification progress dropped 11% on bitcoin core update from 22 to 28"
      }
    },
    {
      "event": "commented",
      "id": 2537479218,
      "node_id": "IC_kwDOABII586XPtwy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2537479218",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T00:26:40Z",
      "updated_at": "2024-12-12T00:27:12Z",
      "author_association": "MEMBER",
      "body": "Sync progress as reported by Bitcoin Core is really only accurate up to the height of the chain at the time of release. The number of transactions in the blockchain at that time are hard coded:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/d6b225f1652526cb053ec32c8ff09160d5a759c5/src/kernel/chainparams.cpp#L195-L200\r\n\r\nThese data are updated with every new release:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/28.x/doc/release-process.md#before-branch-off\r\n\r\nAfter the hard-coded height is reached the software can only estimate how many more transactions there are to verify and so the sync progress is only a guess:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/d6b225f1652526cb053ec32c8ff09160d5a759c5/src/validation.cpp#L5563-L5586\r\n\r\nUpgrading from v22 to v28 means around three years of data has been included that you did not have before! So the updated node is giving you a much more accurate progress estimation.",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31473#issuecomment-2537479218",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31473"
    },
    {
      "event": "labeled",
      "id": 15631105438,
      "node_id": "LE_lADOABII586i-hvizwAAAAOjr72e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15631105438",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T09:02:46Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "commented",
      "id": 2538269411,
      "node_id": "IC_kwDOABII586XSurj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2538269411",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T09:03:59Z",
      "updated_at": "2024-12-12T09:03:59Z",
      "author_association": "MEMBER",
      "body": "Yes, this is expected.\r\n\r\nClosing for now.\r\n\r\nLeave a comment if there are any follow-up questions.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31473#issuecomment-2538269411",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31473"
    },
    {
      "event": "closed",
      "id": 15631127650,
      "node_id": "CE_lADOABII586i-hvizwAAAAOjsBRi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15631127650",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-12T09:03:59Z"
    }
  ]
}