{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638",
    "id": 403364064,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDAzMzY0MDY0",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18638",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/18638.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/18638.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
    "number": 18638,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "net: Use mockable time for ping/pong, add tests",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Switch `CNode::m_ping_start` and `CNetMessage::m_time` to mockable time, so that tests can be added.\r\n\r\nMockable time is also type-safe, since it uses `std::chrono`",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      }
    ],
    "active_lock_reason": "resolved",
    "created_at": "2020-04-14T19:11:37Z",
    "updated_at": "2022-02-15T10:59:29Z",
    "closed_at": "2020-07-10T14:09:42Z",
    "mergeable_state": "unknown",
    "merged_at": "2020-07-10T14:09:42Z",
    "merge_commit_sha": "107b8559c5a7ed4c514e50d1df6bd2407d1d6f27",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "MarcoFalke:2004-netMockPing",
      "ref": "2004-netMockPing",
      "sha": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 40046254,
        "node_id": "MDEwOlJlcG9zaXRvcnk0MDA0NjI1NA==",
        "name": "b-c",
        "full_name": "MarcoFalke/b-c",
        "owner": {
          "login": "MarcoFalke",
          "id": 6399679,
          "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/MarcoFalke",
          "html_url": "https://github.com/MarcoFalke",
          "followers_url": "https://api.github.com/users/MarcoFalke/followers",
          "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
          "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
          "repos_url": "https://api.github.com/users/MarcoFalke/repos",
          "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/MarcoFalke/b-c",
        "fork": true,
        "url": "https://api.github.com/repos/MarcoFalke/b-c",
        "archive_url": "https://api.github.com/repos/MarcoFalke/b-c/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/MarcoFalke/b-c/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/MarcoFalke/b-c/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/MarcoFalke/b-c/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/MarcoFalke/b-c/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/MarcoFalke/b-c/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/MarcoFalke/b-c/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/MarcoFalke/b-c/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/MarcoFalke/b-c/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/MarcoFalke/b-c/contributors",
        "deployments_url": "https://api.github.com/repos/MarcoFalke/b-c/deployments",
        "downloads_url": "https://api.github.com/repos/MarcoFalke/b-c/downloads",
        "events_url": "https://api.github.com/repos/MarcoFalke/b-c/events",
        "forks_url": "https://api.github.com/repos/MarcoFalke/b-c/forks",
        "git_commits_url": "https://api.github.com/repos/MarcoFalke/b-c/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/MarcoFalke/b-c/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/MarcoFalke/b-c/git/tags%7B/sha%7D",
        "git_url": "git://github.com/MarcoFalke/b-c.git",
        "issue_comment_url": "https://api.github.com/repos/MarcoFalke/b-c/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/MarcoFalke/b-c/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/MarcoFalke/b-c/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/MarcoFalke/b-c/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/MarcoFalke/b-c/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/MarcoFalke/b-c/languages",
        "merges_url": "https://api.github.com/repos/MarcoFalke/b-c/merges",
        "milestones_url": "https://api.github.com/repos/MarcoFalke/b-c/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/MarcoFalke/b-c/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/MarcoFalke/b-c/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/MarcoFalke/b-c/releases%7B/id%7D",
        "ssh_url": "git@github.com:MarcoFalke/b-c.git",
        "stargazers_url": "https://api.github.com/repos/MarcoFalke/b-c/stargazers",
        "statuses_url": "https://api.github.com/repos/MarcoFalke/b-c/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/MarcoFalke/b-c/subscribers",
        "subscription_url": "https://api.github.com/repos/MarcoFalke/b-c/subscription",
        "tags_url": "https://api.github.com/repos/MarcoFalke/b-c/tags",
        "teams_url": "https://api.github.com/repos/MarcoFalke/b-c/teams",
        "trees_url": "https://api.github.com/repos/MarcoFalke/b-c/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/MarcoFalke/b-c.git",
        "hooks_url": "https://api.github.com/repos/MarcoFalke/b-c/hooks",
        "svn_url": "https://github.com/MarcoFalke/b-c",
        "homepage": "",
        "language": "C++",
        "forks_count": 12,
        "stargazers_count": 25,
        "watchers_count": 25,
        "size": 207848,
        "default_branch": "master",
        "open_issues_count": 25,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T15:31:58Z",
        "created_at": "2015-08-01T12:42:47Z",
        "updated_at": "2023-05-28T20:12:34Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "62948caf4446246ec2b525e95705bb07b6a8f2bd",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35476,
        "stargazers_count": 70608,
        "watchers_count": 70608,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 672,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T20:20:41Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T18:21:18Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 173,
    "deletions": 36,
    "changed_files": 10,
    "commits": 2,
    "review_comments": 35,
    "comments": 13
  },
  "events": [
    {
      "event": "renamed",
      "id": 3232529025,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzIzMjUyOTAyNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3232529025",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T19:12:13Z",
      "rename": {
        "from": "net: Make ping mockable, add tests",
        "to": "net: Use mocktime for ping/pong, add tests"
      }
    },
    {
      "event": "renamed",
      "id": 3232541978,
      "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzIzMjU0MTk3OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3232541978",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T19:14:47Z",
      "rename": {
        "from": "net: Use mocktime for ping/pong, add tests",
        "to": "net: Use mockable time for ping/pong, add tests"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3232564543,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzIzMjU2NDU0Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3232564543",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T19:21:22Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3232609797,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzIzMjYwOTc5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3232609797",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T19:35:10Z"
    },
    {
      "event": "commented",
      "id": 613662430,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzY2MjQzMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/613662430",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T20:24:14Z",
      "updated_at": "2020-07-10T07:47:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19472 ([net processing] Reduce cs_main scope in MaybeDiscourageAndDisconnect() by jnewbery)\n* #19107 (p2p: Move all header verification into the network layer, extend logging by troygiorshev)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.<!--2502f1a698b3751726fa55edcda76cd3-->\n\n### Coverage\n\n| Coverage  | Change ([pull 18638](https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/18638/total.coverage/index.html), 0f96c4b9c8eed32c3fdf1203a2f9a2be59a5f4a2) | Reference ([master](https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/master/total.coverage/index.html), 75fcfdaf8b4b68ef1d1fcd606fb36c9265e15918)   |\n|-----------|-------------------------|--------------------|\n| Lines     | +0.0020 %            | 90.3582 %        |\n| Functions | +0.1431 %            | 85.0787 %        |\n| Branches  | +0.0089 %            | 51.8202 %        |\n\n<sup>Updated at: 2020-04-15T00:09:25.322904.</sup>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-613662430",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "labeled",
      "id": 3232797094,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMyMzI3OTcwOTQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3232797094",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T20:31:33Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "labeled",
      "id": 3232797097,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMyMzI3OTcwOTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3232797097",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T20:31:33Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "labeled",
      "id": 3232797098,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMyMzI3OTcwOTg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3232797098",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T20:31:33Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "unlabeled",
      "id": 3232814012,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MzIzMjgxNDAxMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3232814012",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T20:36:40Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "unlabeled",
      "id": 3232814013,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MzIzMjgxNDAxMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3232814013",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T20:36:40Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3232964883,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzIzMjk2NDg4Mw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3232964883",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T21:24:27Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T22:22:07Z",
      "updated_at": "2020-04-14T22:22:07Z",
      "source": {
        "issue": {
          "id": 573962151,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzgyMzczOTM3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18242",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18242/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18242/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18242/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18242",
          "number": 18242,
          "state": "closed",
          "state_reason": null,
          "title": "Add BIP324 encrypted p2p transport de-/serializer (only used in tests)",
          "body": "BIP324 is [here](https://gist.github.com/jonasschnelli/c530ea8421b8d0e80c51486325587c52) (not submitted to the BIP repository since it's still under work).\r\n\r\nThis PR adds a message transport de-/serializer for encrypted message after BIP324.\r\n\r\n**Includes:**\r\n* correct AEAD handling\r\n* short command IDs\r\n\r\n**Excludes (to keep it reviewable):**\r\n* The handshake (pubkey exchange [subject to change due to downgrade attack prevention])\r\n* ECDH (enabling libsecp256k1 & `CKey` implementation)\r\n* service flag and a way to globally enable it\r\n\r\n**The code is exclusively used in the tests**\r\n\r\n**This is based on #20962 (please review first)**",
          "user": {
            "login": "jonasschnelli",
            "id": 178464,
            "node_id": "MDQ6VXNlcjE3ODQ2NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonasschnelli",
            "html_url": "https://github.com/jonasschnelli",
            "followers_url": "https://api.github.com/users/jonasschnelli/followers",
            "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
            "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
            "repos_url": "https://api.github.com/users/jonasschnelli/repos",
            "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignee": {
            "login": "jonasschnelli",
            "id": 178464,
            "node_id": "MDQ6VXNlcjE3ODQ2NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonasschnelli",
            "html_url": "https://github.com/jonasschnelli",
            "followers_url": "https://api.github.com/users/jonasschnelli/followers",
            "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
            "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
            "repos_url": "https://api.github.com/users/jonasschnelli/repos",
            "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
            "type": "User",
            "site_admin": false
          },
          "assignees": [
            {
              "login": "jonasschnelli",
              "id": 178464,
              "node_id": "MDQ6VXNlcjE3ODQ2NA==",
              "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/jonasschnelli",
              "html_url": "https://github.com/jonasschnelli",
              "followers_url": "https://api.github.com/users/jonasschnelli/followers",
              "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
              "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
              "repos_url": "https://api.github.com/users/jonasschnelli/repos",
              "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
              "type": "User",
              "site_admin": false
            }
          ],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "comments": 38,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18242",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18242",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18242.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18242.patch"
          },
          "closed_at": "2021-08-18T12:24:18Z",
          "created_at": "2020-03-02T13:07:43Z",
          "updated_at": "2022-10-30T19:10:31Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3233261730,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzIzMzI2MTczMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3233261730",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T23:29:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3233303852,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzIzMzMwMzg1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3233303852",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-14T23:51:09Z"
    },
    {
      "event": "commented",
      "id": 613753413,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzc1MzQxMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/613753413",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T00:50:36Z",
      "updated_at": "2020-04-15T00:50:36Z",
      "author_association": "MEMBER",
      "body": "Coverage changes:\r\n\r\n* https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/master/total.coverage/src/net.cpp.gcov.html#1123\r\n* https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/18638/total.coverage/src/net.cpp.gcov.html#1123\r\n\r\nand\r\n\r\n* https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/master/total.coverage/src/net_processing.cpp.gcov.html#3095\r\n* https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/18638/total.coverage/src/net_processing.cpp.gcov.html#3095",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-613753413",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T03:00:01Z",
      "updated_at": "2020-04-15T03:00:01Z",
      "source": {
        "issue": {
          "id": 599960547,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDAzNDk2MTAy",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18644",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18644/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18644/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18644/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18644",
          "number": 18644,
          "state": "closed",
          "state_reason": null,
          "title": "net: Reduce `TransportDeserializer` interface to 2 methods",
          "body": "Mostly inspired by https://github.com/bitcoin/bitcoin/pull/16202#issuecomment-535152710, I believe this will also allow some simplifications in #18242.\r\n\r\nIf you're concerned about the net added line count, don't be: this PR also adds some documentation to `net.{h,cpp}`.\r\n\r\nI'm happy for this to go in after #18242 and I'll rebase.",
          "user": {
            "login": "dongcarl",
            "id": 3445290,
            "node_id": "MDQ6VXNlcjM0NDUyOTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dongcarl",
            "html_url": "https://github.com/dongcarl",
            "followers_url": "https://api.github.com/users/dongcarl/followers",
            "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
            "organizations_url": "https://api.github.com/users/dongcarl/orgs",
            "repos_url": "https://api.github.com/users/dongcarl/repos",
            "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dongcarl/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18644",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18644",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18644.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18644.patch"
          },
          "closed_at": "2020-05-26T18:12:46Z",
          "created_at": "2020-04-15T01:44:35Z",
          "updated_at": "2022-02-15T10:59:01Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-16T04:21:15Z",
      "updated_at": "2020-04-16T04:21:15Z",
      "source": {
        "issue": {
          "id": 522996339,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzQxMDg3NDU5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17479",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17479/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17479/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17479/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/17479",
          "number": 17479,
          "state": "closed",
          "state_reason": null,
          "title": "Return BlockValidationState from ProcessNewBlock if CheckBlock/AcceptBlock fails",
          "body": "Net processing now passes a `BlockValidationState` object into `ProcessNewBlock()`. If `CheckBlock()` or `AcceptBlock()` fails, then PNB returns to net processing without calling the (asynchronous) `BlockChecked` Validation Interface method. net processing can use the invalid `BlockValidationState` returned to punish peers.\r\n\r\n`CheckBlock()` and `AcceptBlock()` represent the DoS checks on a block (ie PoW and malleability). Net processing wants to know about those failed checks immediately and shouldn't have to wait on a callback. Other validation interface clients don't care about net processing submitting bogus malleated blocks to validation, so they don't need to be notified of `BlockChecked`.\r\n\r\nFurthermore, if PNB returns a valid `BlockValidationState`, we never need to try to process (non-malleated) copies of the block from other peers. That makes it much easier to move the best chain activation logic to a background thread in future work.",
          "user": {
            "login": "jnewbery",
            "id": 1063656,
            "node_id": "MDQ6VXNlcjEwNjM2NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jnewbery",
            "html_url": "https://github.com/jnewbery",
            "followers_url": "https://api.github.com/users/jnewbery/followers",
            "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
            "organizations_url": "https://api.github.com/users/jnewbery/orgs",
            "repos_url": "https://api.github.com/users/jnewbery/repos",
            "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jnewbery/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 118379652,
              "node_id": "MDU6TGFiZWwxMTgzNzk2NTI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation",
              "name": "Validation",
              "color": "6060aa",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17479",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/17479",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/17479.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/17479.patch"
          },
          "closed_at": "2020-09-16T09:21:37Z",
          "created_at": "2019-11-14T17:17:43Z",
          "updated_at": "2022-02-15T10:47:36Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-18T16:45:15Z",
      "updated_at": "2020-04-18T16:45:15Z",
      "source": {
        "issue": {
          "id": 602461314,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDA1NDk5OTU0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18698",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18698/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18698/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18698/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18698",
          "number": 18698,
          "state": "closed",
          "state_reason": null,
          "title": "Make g_chainman internal to validation",
          "body": "The global `g_chainman` has recently been introduced in #17737. The chainstate manager is primarily needed for the assumeutxo feature, but it can also simplify testing in the future.\r\n\r\nThe goal of this pull is to make the global chainstate manager internal to validation, so that all external code does not depend on globals and that unit or fuzz tests can pass in their (potentially mocked) chainstate manager.\r\n\r\nI suggest reviewing the pull request commit-by-commit. It should be relatively straightforward refactoring that does not change behavior at all.",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18698",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18698",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18698.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18698.patch"
          },
          "closed_at": "2020-05-23T12:00:51Z",
          "created_at": "2020-04-18T13:31:50Z",
          "updated_at": "2022-02-15T10:32:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-22T03:24:47Z",
      "updated_at": "2020-04-22T03:24:47Z",
      "source": {
        "issue": {
          "id": 575726877,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzgzODM3MDY2",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18261",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18261/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18261/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18261/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18261",
          "number": 18261,
          "state": "closed",
          "state_reason": null,
          "title": "Erlay: bandwidth-efficient transaction relay protocol",
          "body": "This is an implementation of [Erlay](https://arxiv.org/abs/1905.10518), using primitives in the BIP-330 (see the updated spec [here](https://github.com/naumenkogs/bips/blob/bip_0330_updates/bip-0330.mediawiki)). Please refer to these two to understand the design. My talk on the topic is [here](https://youtu.be/YxsjdIl0034?t=670).\r\n\r\nErlay uses both flooding (announcing using INV messages to all peers) and reconciliation to announce transactions. Flooding is expensive, so Erlay seeks to use it sparingly and in strategic locations - only well-connected publicly reachable nodes flood transactions to other publicly reachable nodes via outbound connections. Since every unreachable node is directly connected to several reachable nodes, this policy ensures that a transaction is quickly propagated to be within one hop from most of the nodes in the network.\r\n\r\nAll transactions not propagated through flooding are propagated through efficient set reconciliation. To do this, every node keeps a reconciliation set for each peer, in which transactions are placed which would have been announced using INV messages absent this protocol. Every 2 seconds every node chooses a peer from its outbound connections in a predetermined order to reconcile with, resulting in both sides learning the transactions known to the other side. After every reconciliation round, the corresponding reconciliation set is cleared.\r\n\r\nI think both paper and the BIP motives the changes, but I'll mention them briefly once again here:\r\n- save 40% of the bandwidth consumed by a node\r\n- increase network connectivity for almost no bandwidth or latency cost\r\n- improves privacy as a side-effect\r\n\r\nObviously looking for review, let's try to start with a high-level concerns, and keep nits for later.\r\n\r\nP.S.\r\nPlease don't be scared of 8,000 LOC added. 7,000 of them is minisketch added as a subtree.\r\n\r\nP.P.S.\r\nMy experiments of running this code live (slightly outdated) with a script to replicate the experiment: [here1](https://github.com/bitcoin/bitcoin/pull/18261#issuecomment-599241490) and [here2](https://github.com/bitcoin/bitcoin/pull/18261#issuecomment-600388543).\r\n",
          "user": {
            "login": "naumenkogs",
            "id": 7975071,
            "node_id": "MDQ6VXNlcjc5NzUwNzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7975071?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/naumenkogs",
            "html_url": "https://github.com/naumenkogs",
            "followers_url": "https://api.github.com/users/naumenkogs/followers",
            "following_url": "https://api.github.com/users/naumenkogs/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/naumenkogs/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/naumenkogs/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
            "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
            "repos_url": "https://api.github.com/users/naumenkogs/repos",
            "events_url": "https://api.github.com/users/naumenkogs/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 38,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18261",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18261",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18261.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18261.patch"
          },
          "closed_at": "2021-03-23T22:51:05Z",
          "created_at": "2020-03-04T20:01:31Z",
          "updated_at": "2022-08-16T17:22:24Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-23T22:55:57Z",
      "updated_at": "2020-04-23T22:55:57Z",
      "source": {
        "issue": {
          "id": 518001350,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzM2OTY1MzM3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17383",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17383/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17383/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17383/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/17383",
          "number": 17383,
          "state": "closed",
          "state_reason": null,
          "title": "Refactor: Move consts to their correct translation units",
          "body": "Following the main.cpp split, there are still some constants in the wrong places, eg net_processing constants in validation.h. Move them all to their rightful homes. At the same time, make them constexpr.\r\n\r\nAlso move all const declarations to the top of their files, and ensure that they all have doxygen comments.",
          "user": {
            "login": "jnewbery",
            "id": 1063656,
            "node_id": "MDQ6VXNlcjEwNjM2NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jnewbery",
            "html_url": "https://github.com/jnewbery",
            "followers_url": "https://api.github.com/users/jnewbery/followers",
            "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
            "organizations_url": "https://api.github.com/users/jnewbery/orgs",
            "repos_url": "https://api.github.com/users/jnewbery/repos",
            "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jnewbery/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 25,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17383",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/17383",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/17383.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/17383.patch"
          },
          "closed_at": "2020-04-25T12:38:32Z",
          "created_at": "2019-11-05T20:12:40Z",
          "updated_at": "2022-02-15T10:30:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-24T18:06:17Z",
      "updated_at": "2020-04-24T18:06:17Z",
      "source": {
        "issue": {
          "id": 606281558,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDA4NTI1NjQ5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18757",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18757/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18757/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18757/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18757",
          "number": 18757,
          "state": "closed",
          "state_reason": null,
          "title": "test: Remove enumeration of expected deserialization exceptions in ProcessMessage(...) fuzzer",
          "body": "Remove enumeration of expected deserialization exceptions in `ProcessMessage(...)` fuzzer.\r\n\r\nCloses #18749.",
          "user": {
            "login": "practicalswift",
            "id": 7826565,
            "node_id": "MDQ6VXNlcjc4MjY1NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/practicalswift",
            "html_url": "https://github.com/practicalswift",
            "followers_url": "https://api.github.com/users/practicalswift/followers",
            "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
            "organizations_url": "https://api.github.com/users/practicalswift/orgs",
            "repos_url": "https://api.github.com/users/practicalswift/repos",
            "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/practicalswift/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18757",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18757",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18757.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18757.patch"
          },
          "closed_at": "2020-04-24T18:40:55Z",
          "created_at": "2020-04-24T12:36:43Z",
          "updated_at": "2022-08-16T17:19:22Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 3271235845,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMyNzEyMzU4NDU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3271235845",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-24T22:34:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3271887767,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzI3MTg4Nzc2Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3271887767",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-25T12:44:14Z"
    },
    {
      "event": "unlabeled",
      "id": 3271906194,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MzI3MTkwNjE5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3271906194",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-25T13:09:36Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3271917769,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzI3MTkxNzc2OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3271917769",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-25T13:24:21Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-02T08:48:33Z",
      "updated_at": "2020-05-02T08:48:33Z",
      "source": {
        "issue": {
          "id": 471808898,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzAwMzgzOTM1",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16442",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16442/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16442/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16442/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/16442",
          "number": 16442,
          "state": "closed",
          "state_reason": null,
          "title": "Serve BIP 157 compact filters",
          "body": "This enables nodes to serve block filters compliant with [BIP 157](https://github.com/bitcoin/bips/blob/master/bip-0157.mediawiki). This is the last PR required for BIP 157/158 compatibility.\r\n\r\nIf the node has the block filter index enabled, once the index is in sync, the node will begin signaling the BIP 158 service bit and responding to BIP 157 requests. On invalid requests, the node disconnects the offending peer.\r\n\r\nThis is tested using functional tests. I have also synced an [lnd](https://github.com/lightningnetwork/lnd) testnet node using the neutrino backend connected to a Core node running this code.\r\n\r\nQuestions:\r\n- Should there be a separate CLI flag other than `-blockfilterindex` to enable serving of filters from the index?\r\n- Is the mechanism to only signal the service flag once the index is in sync OK?\r\n- Is the use of `boost::shared_lock` around the checkpoint cache acceptable?",
          "user": {
            "login": "jimpo",
            "id": 881253,
            "node_id": "MDQ6VXNlcjg4MTI1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jimpo",
            "html_url": "https://github.com/jimpo",
            "followers_url": "https://api.github.com/users/jimpo/followers",
            "following_url": "https://api.github.com/users/jimpo/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jimpo/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jimpo/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
            "organizations_url": "https://api.github.com/users/jimpo/orgs",
            "repos_url": "https://api.github.com/users/jimpo/repos",
            "events_url": "https://api.github.com/users/jimpo/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jimpo/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 48,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16442",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/16442",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/16442.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/16442.patch"
          },
          "closed_at": "2020-05-05T03:08:47Z",
          "created_at": "2019-07-23T16:49:00Z",
          "updated_at": "2022-08-16T17:01:59Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 623460571,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzQ2MDU3MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623460571",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-04T13:22:12Z",
      "updated_at": "2020-05-04T13:22:12Z",
      "author_association": "MEMBER",
      "body": "Concept ACK.\r\n\r\nWon't this potentially cause issues (e.g. ping timeouts) in P2P tests that already use mockable time for other things, but are not expecting it to have an effect on pings?\r\n\r\n(seems not, given that all the tests still pass)\r\n",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-623460571",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "commented",
      "id": 623471752,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzQ3MTc1Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623471752",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-04T13:42:29Z",
      "updated_at": "2020-05-04T13:43:19Z",
      "author_association": "MEMBER",
      "body": "The `-peertimeout` is still measured in wall clock time, and because most of the test run through faster than what the `-peertimeout` is, this should not lead to issues in general. There are two tests `test/functional/feature_maxuploadtarget.py` and `test/functional/feature_bip68_sequence.py` which mine a lot of blocks (more than 100) under mocktime. This can take time when the tests are run under valgrind, so I had to bump the `-peertimeout` for those tests.\r\n\r\nOther tests should not be affected. If they are, it should be trivial to fix them up.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-623471752",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "commented",
      "id": 623483202,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzQ4MzIwMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623483202",
      "actor": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-04T14:03:04Z",
      "updated_at": "2020-05-04T14:03:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK: mockable is better than non-mockable :)",
      "user": {
        "login": "practicalswift",
        "id": 7826565,
        "node_id": "MDQ6VXNlcjc4MjY1NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/practicalswift",
        "html_url": "https://github.com/practicalswift",
        "followers_url": "https://api.github.com/users/practicalswift/followers",
        "following_url": "https://api.github.com/users/practicalswift/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/practicalswift/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/practicalswift/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
        "organizations_url": "https://api.github.com/users/practicalswift/orgs",
        "repos_url": "https://api.github.com/users/practicalswift/repos",
        "events_url": "https://api.github.com/users/practicalswift/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/practicalswift/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-623483202",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-05T09:25:36Z",
      "updated_at": "2020-05-05T09:25:36Z",
      "source": {
        "issue": {
          "id": 612290509,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDEzMjgwNjIy",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18877",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18877/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18877/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18877/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18877",
          "number": 18877,
          "state": "closed",
          "state_reason": null,
          "title": "Serve cfcheckpt requests",
          "body": "Serve cfcheckpt messages if basic block filter index is enabled and `-peercfilters` is set.\r\n\r\n`NODE_COMPACT_FILTERS` is not signaled to peers, but functionality can be used for testing and serving pre-configured clients.",
          "user": {
            "login": "jnewbery",
            "id": 1063656,
            "node_id": "MDQ6VXNlcjEwNjM2NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jnewbery",
            "html_url": "https://github.com/jnewbery",
            "followers_url": "https://api.github.com/users/jnewbery/followers",
            "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
            "organizations_url": "https://api.github.com/users/jnewbery/orgs",
            "repos_url": "https://api.github.com/users/jnewbery/repos",
            "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jnewbery/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 26,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18877",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18877",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18877.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18877.patch"
          },
          "closed_at": "2020-05-12T13:05:56Z",
          "created_at": "2020-05-05T02:58:24Z",
          "updated_at": "2022-08-16T17:02:02Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-05T09:26:44Z",
      "updated_at": "2020-05-05T09:26:44Z",
      "source": {
        "issue": {
          "id": 612289548,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDEzMjc5OTI0",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18876",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18876/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18876/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18876/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18876",
          "number": 18876,
          "state": "closed",
          "state_reason": null,
          "title": "[WIP] Serve BIP 157 compact filters",
          "body": "This is almost the same change set as #16442 but:\r\n\r\n- fixup commits have been squashed into their appropriate commits\r\n- some commits have been broken up into smaller pieces\r\n- ordering of commits has changed\r\n- a few other minor changes\r\n\r\nThis PR is marked WIP as it's a demonstration of the entire change. I'll split off commits into smaller PRs for merge.\r\n\r\nThe original PR has already received a lot of review, so I think it should be possible to get this merged over the next few weeks. To hold myself accountable, I'm targeting the following timeline. Obviously, the PRs shouldn't be merged until they've received thorough review.\r\n\r\n| | Functionality | Commits | PR | Target merge date | Actual merge date |\r\n| --- | --- | --- | --- | --- | --- |\r\n| ✓ | Serve cfcheckpt requests | _[init] Add -peercfilters option_, _[net processing] Message handling for getcfcheckpt._, _[test] Add test for cfcheckpt_ | #18877 | 2020-05-13 | 2020-05-12 |\r\n| ✓ | Cache cfcheckpt headers | _[net processing] Cache compact filter checkpoints in memory._ | #18960 | 2020-05-20 | 2020-05-21 |\r\n| ✓ | Serve cfheaders requests | _[net processing] Message handling for getcfheaders._, _[test] Add test for cfheaders_ | #19010 | 2020-05-27 | 2020-05-26 |\r\n| ✓ | Serve cfilters requests | _[indexes] Fix default [de]serialization of BlockFilter._, _[net processing] Message handling for getcfilters._, _[test] Add test for cfilters._ | #19044 | 2020-06-03 | 2020-05-31 |\r\n| ✓ | Signal NODE_COMPACT_FILTERS support | _[net] Signal NODE_COMPACT_FILTERS if we're serving compact filters._, _[test] Add test for NODE_COMPACT_FILTER._ | #19070 | 2020-06-10 | 2020-08-13 |",
          "user": {
            "login": "jnewbery",
            "id": 1063656,
            "node_id": "MDQ6VXNlcjEwNjM2NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jnewbery",
            "html_url": "https://github.com/jnewbery",
            "followers_url": "https://api.github.com/users/jnewbery/followers",
            "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
            "organizations_url": "https://api.github.com/users/jnewbery/orgs",
            "repos_url": "https://api.github.com/users/jnewbery/repos",
            "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jnewbery/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64583,
              "node_id": "MDU6TGFiZWw2NDU4Mw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
              "name": "Feature",
              "color": "7cf575",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/45",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/45/labels",
            "id": 4914019,
            "node_id": "MDk6TWlsZXN0b25lNDkxNDAxOQ==",
            "number": 45,
            "state": "closed",
            "title": "0.21.0",
            "description": "",
            "creator": {
              "login": "laanwj",
              "id": 126646,
              "node_id": "MDQ6VXNlcjEyNjY0Ng==",
              "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/laanwj",
              "html_url": "https://github.com/laanwj",
              "followers_url": "https://api.github.com/users/laanwj/followers",
              "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
              "organizations_url": "https://api.github.com/users/laanwj/orgs",
              "repos_url": "https://api.github.com/users/laanwj/repos",
              "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/laanwj/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 0,
            "closed_issues": 132,
            "created_at": "2019-12-09T08:39:58Z",
            "updated_at": "2021-01-15T19:50:53Z",
            "closed_at": "2021-01-15T19:50:53Z"
          },
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 28,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18876",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18876",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18876.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18876.patch"
          },
          "closed_at": "2020-08-13T14:27:18Z",
          "created_at": "2020-05-05T02:54:49Z",
          "updated_at": "2022-02-15T11:00:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-07T15:17:47Z",
      "updated_at": "2020-05-07T15:17:47Z",
      "source": {
        "issue": {
          "id": 400891803,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjQ1OTc0Njgx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15206",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15206/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15206/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15206/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/15206",
          "number": 15206,
          "state": "closed",
          "state_reason": null,
          "title": "Immediately disconnect on invalid net message checksum",
          "body": "Currently, messages with invalid checksums will be partially tolerated (skipped). The checksum check happens after deserialising all messages in the current read buffer.\r\n\r\nThis PR moves the checksum check to the network/transport layer (where it probably belongs) and rejects messages with invalid checksums immediately and disconnects the peer.\r\n\r\nThis PR separates the transport from the processing layer and helps protocol upgrades like BIP151.",
          "user": {
            "login": "jonasschnelli",
            "id": 178464,
            "node_id": "MDQ6VXNlcjE3ODQ2NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonasschnelli",
            "html_url": "https://github.com/jonasschnelli",
            "followers_url": "https://api.github.com/users/jonasschnelli/followers",
            "following_url": "https://api.github.com/users/jonasschnelli/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jonasschnelli/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jonasschnelli/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
            "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
            "repos_url": "https://api.github.com/users/jonasschnelli/repos",
            "events_url": "https://api.github.com/users/jonasschnelli/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 1648013533,
              "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
              "name": "Review club",
              "description": "",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 45,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15206",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/15206",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/15206.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/15206.patch"
          },
          "closed_at": "2020-09-29T10:39:31Z",
          "created_at": "2019-01-18T21:16:18Z",
          "updated_at": "2022-02-15T10:47:49Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 3327524091,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMzMjc1MjQwOTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3327524091",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-12T13:34:29Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3329078294,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzMyOTA3ODI5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3329078294",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-12T19:53:06Z"
    },
    {
      "event": "unlabeled",
      "id": 3329469958,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MzMyOTQ2OTk1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3329469958",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-12T21:53:29Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 627627968,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYyNzYyNzk2OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/627627968",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-12T22:16:31Z",
      "updated_at": "2020-05-12T22:16:31Z",
      "author_association": "MEMBER",
      "body": "Rebased",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-627627968",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "added_to_project",
      "id": 3338021844,
      "node_id": "MDE5OkFkZGVkVG9Qcm9qZWN0RXZlbnQzMzM4MDIxODQ0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3338021844",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-14T19:05:18Z",
      "project_card": {
        "id": 38241742,
        "url": "https://api.github.com/projects/columns/cards/38241742",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "reviewed",
      "id": 413967888,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTY3ODg4",
      "url": null,
      "actor": null,
      "commit_id": "fac63aba8db1d0198391414a3867894f837e9df3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Was able to build and all the tests passed locally. I don't know enough to solidly review the cpp code, but I tried to be more thorough with the functional tests. Everything makes sense to me, I just left a few questions.",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#pullrequestreview-413967888",
      "submitted_at": "2020-05-18T23:13:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3353984242,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzM1Mzk4NDI0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3353984242",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-19T22:42:16Z"
    },
    {
      "event": "commented",
      "id": 631140601,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTE0MDYwMQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631140601",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-19T23:28:37Z",
      "updated_at": "2020-05-19T23:28:37Z",
      "author_association": "MEMBER",
      "body": "Addressed feedback by @gzhao408 ",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-631140601",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "mentioned",
      "id": 3354087047,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzM1NDA4NzA0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3354087047",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-19T23:28:38Z"
    },
    {
      "event": "subscribed",
      "id": 3354087048,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDMzNTQwODcwNDg=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3354087048",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-19T23:28:38Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-20T01:23:13Z",
      "updated_at": "2020-05-20T01:23:13Z",
      "source": {
        "issue": {
          "id": 486972351,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzEyMzMwMDM2",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16756/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16756/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16756/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/16756",
          "number": 16756,
          "state": "closed",
          "state_reason": null,
          "title": "test: Connection eviction logic tests",
          "body": "This adds a functional test for the eviction logic for inbound peers, which is triggered when the number of maximum connections is exceeded.\r\n\r\nThe functional test covers eviction protection for peers that  have sent us blocks or txns recently, or that have faster pings. I couldn't find a way to test the logic of `CConnman::AttemptToEvictConnection` that is based on netgroup (see #14210 for related discussion)\r\n\r\nFixes #16660 (at least partially).\r\n\r\n[Edit: Earlier, this PR also contained a unit test, which was removed after the discussion]",
          "user": {
            "login": "mzumsande",
            "id": 48763452,
            "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mzumsande",
            "html_url": "https://github.com/mzumsande",
            "followers_url": "https://api.github.com/users/mzumsande/followers",
            "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
            "organizations_url": "https://api.github.com/users/mzumsande/orgs",
            "repos_url": "https://api.github.com/users/mzumsande/repos",
            "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/mzumsande/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            },
            {
              "id": 1648013533,
              "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
              "name": "Review club",
              "description": "",
              "color": "0052cc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 41,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/16756",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/16756.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/16756.patch"
          },
          "closed_at": "2020-06-12T18:51:56Z",
          "created_at": "2019-08-29T13:52:34Z",
          "updated_at": "2022-02-15T10:45:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 632857115,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjg1NzExNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/632857115",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-22T18:49:56Z",
      "updated_at": "2020-05-22T18:49:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. Reviewing/testing.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-632857115",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-22T22:36:19Z",
      "updated_at": "2020-05-22T22:36:19Z",
      "source": {
        "issue": {
          "id": 623320223,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDIyMDExODE5",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19053",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19053/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19053/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19053/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19053",
          "number": 19053,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: replace CNode pointers by references within net_processing.{h,cpp}",
          "body": "This PR is inspired by a [recent code review comment](https://github.com/bitcoin/bitcoin/pull/19010#discussion_r426954791) on a PR that introduced new functions to the net_processing module. The point of the discussion was basically that whenever we pass something not by value (in the concrete example it was about `CNode*` and `CConnman*`) we should either use\r\n* a pointer (```CType*```) with null pointer check or\r\n* a reference (```CType&```)\r\n\r\nTo keep things simple, this PR for a first approach\r\n* only tackles `CNode*` pointers\r\n* only within the net_processing module, i.e. no changes that would need adaption in other modules\r\n* keeps the names of the variables as they are\r\n\r\nI'm aware that PRs like this are kind of a PITA to review, but I think the code quality would increase if we get rid of pointers without nullptr check -- bloating up the code by adding all the missing checks would be the worse alternative, in my opinion.\r\n\r\nPossible follow-up PRs, in case this is received well:\r\n* replace CNode pointers by references for net module\r\n* replace CConnman pointers by references for net_processing module\r\n* ...",
          "user": {
            "login": "theStack",
            "id": 91535,
            "node_id": "MDQ6VXNlcjkxNTM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/theStack",
            "html_url": "https://github.com/theStack",
            "followers_url": "https://api.github.com/users/theStack/followers",
            "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
            "organizations_url": "https://api.github.com/users/theStack/orgs",
            "repos_url": "https://api.github.com/users/theStack/repos",
            "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/theStack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 20,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19053",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19053",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19053.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19053.patch"
          },
          "closed_at": "2020-06-04T18:47:50Z",
          "created_at": "2020-05-22T16:16:09Z",
          "updated_at": "2022-02-15T10:38:59Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 3366980696,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDMzNjY5ODA2OTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3366980696",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-23T12:06:22Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3367027681,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzM2NzAyNzY4MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3367027681",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-23T13:01:44Z"
    },
    {
      "event": "unlabeled",
      "id": 3367087824,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MzM2NzA4NzgyNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3367087824",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-23T14:14:52Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 417339295,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MzM5Mjk1",
      "url": null,
      "actor": null,
      "commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK fa704719529 good to reduce use of primitives for counting time in favor of the standard library and mockability, though it's fiddly and easy to introduce regressions while doing so (thanks for adding the tests). Builds with gcc and clang compile cleanly and the node seems to run normally. Built and ran the fuzzers without issue.\r\n\r\n<details><summary><code>fuzz/process_message</code> (ran for more than a day)</summary><p>\r\n\r\n```\r\n$ src/test/fuzz/process_message ../qa-assets/fuzz_seed_corpus/\r\n\r\nINFO: Seed: 2449945750\r\nINFO: Loaded 1 modules   (498754 inline 8-bit counters): 498754 [0x561ad95753c8, 0x561ad95ef00a), \r\nINFO: Loaded 1 PC tables (498754 PCs): 498754 [0x561ad95ef010,0x561ad9d8b430), \r\nINFO:    52251 files found in ../qa-assets/fuzz_seed_corpus/\r\nINFO: -max_len is not provided; libFuzzer will not generate inputs larger than 1048576 bytes\r\nINFO: seed corpus: files: 52251 min: 1b max: 3984182b total: 462001668b rss: 227Mb\r\n#512\tpulse  cov: 6973 ft: 7092 corp: 10/13b exec/s: 256 rss: 516Mb\r\n#1024\tpulse  cov: 7037 ft: 7168 corp: 12/19b exec/s: 256 rss: 516Mb\r\n#2048\tpulse  cov: 7317 ft: 7541 corp: 18/45b exec/s: 292 rss: 516Mb\r\n\r\n.../...\r\n\r\n#3094033\tREDUCE cov: 34621 ft: 110638 corp: 2221/41Mb exec/s: 23 rss: 1025Mb L: 92/1048576 MS: 1 EraseBytes-\r\n#3102635\tNEW    cov: 34621 ft: 110890 corp: 2222/41Mb exec/s: 22 rss: 1025Mb L: 111/1048576 MS: 2 CopyPart-ChangeByte-\r\n#3102867\tNEW    cov: 34621 ft: 110899 corp: 2223/41Mb exec/s: 22 rss: 1025Mb L: 107/1048576 MS: 2 CopyPart-CMP- DE: \"-bans\"-\r\n```\r\n</p></details>\r\n\r\n<details><summary><code>fuzz/p2p_transport_deserializer</code></summary><p>\r\n\r\n```\r\n$ src/test/fuzz/p2p_transport_deserializer ../qa-assets/fuzz_seed_corpus/\r\n\r\nINFO: Seed: 159618322\r\nINFO: Loaded 1 modules   (498301 inline 8-bit counters): 498301 [0x55c1d40d0d48, 0x55c1d414a7c5), \r\nINFO: Loaded 1 PC tables (498301 PCs): 498301 [0x55c1d414a7c8,0x55c1d48e4f98), \r\nINFO:    52840 files found in ../qa-assets/fuzz_seed_corpus/\r\nINFO: -max_len is not provided; libFuzzer will not generate inputs larger than 1048576 bytes\r\nINFO: seed corpus: files: 52840 min: 1b max: 3984182b total: 491369132b rss: 167Mb\r\n#8192\tpulse  cov: 452 ft: 453 corp: 1/1b exec/s: 4096 rss: 254Mb\r\n#16384\tpulse  cov: 1131 ft: 2680 corp: 34/1054b exec/s: 4096 rss: 389Mb\r\n#32768\tpulse  cov: 1137 ft: 5091 corp: 77/7383b exec/s: 2978 rss: 536Mb\r\n\r\n.../...\r\n\r\n#1036084\tREDUCE cov: 1137 ft: 7819 corp: 149/844Kb exec/s: 293 rss: 824Mb L: 6113/666283 MS: 4 ChangeByte-EraseBytes-CMP-CopyPart- DE: \"\\x0d\\x00\\x00\\x00\\x00\\x00\\x00\\x00\"-\r\n#1048576\tpulse  cov: 1137 ft: 7819 corp: 149/844Kb exec/s: 294 rss: 824Mb\r\n#1050168\tREDUCE cov: 1137 ft: 7819 corp: 149/843Kb exec/s: 294 rss: 824Mb L: 25076/666283 MS: 4 ShuffleBytes-InsertByte-ShuffleBytes-EraseBytes-\r\n```\r\n</p></details>\r\n",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#pullrequestreview-417339295",
      "submitted_at": "2020-05-24T09:44:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
    },
    {
      "event": "reviewed",
      "id": 417346950,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MzQ2OTUw",
      "url": null,
      "actor": null,
      "commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#pullrequestreview-417346950",
      "submitted_at": "2020-05-24T10:49:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3367897123,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzM2Nzg5NzEyMw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3367897123",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-24T12:16:55Z"
    },
    {
      "event": "commented",
      "id": 633223791,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYzMzIyMzc5MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/633223791",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-24T12:28:03Z",
      "updated_at": "2020-05-24T12:28:03Z",
      "author_association": "MEMBER",
      "body": "Added documentation to address @jonatack's feedback",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-633223791",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "mentioned",
      "id": 3367905732,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzM2NzkwNTczMg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3367905732",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-24T12:28:04Z"
    },
    {
      "event": "subscribed",
      "id": 3367905734,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDMzNjc5MDU3MzQ=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3367905734",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-24T12:28:04Z"
    },
    {
      "event": "commented",
      "id": 633243961,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYzMzI0Mzk2MQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/633243961",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-24T15:01:13Z",
      "updated_at": "2020-05-24T15:01:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review re-ACK fabb382 changes since last review per `git diff fa70471 fabb382` are passing time by value to `GetMessage` and `ProcessMessage` and improved documentation.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-633243961",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-27T13:35:39Z",
      "updated_at": "2020-05-27T13:35:39Z",
      "source": {
        "issue": {
          "id": 590224813,
          "node_id": "MDExOlB1bGxSZXF1ZXN0Mzk1NTk3MTM3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18470",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18470/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18470/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18470/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18470",
          "number": 18470,
          "state": "open",
          "state_reason": null,
          "title": "test: Extend stale tip test",
          "body": "* Extend test with ASSERT_DEBUG_LOG\r\n* Extend test with case where a block is in flight from a node that is\r\n  about to be evicted",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 9,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18470",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18470",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18470.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18470.patch"
          },
          "created_at": "2020-03-30T11:45:59Z",
          "updated_at": "2023-05-06T11:56:21Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "removed_from_project",
      "id": 3384231180,
      "node_id": "MDIzOlJlbW92ZWRGcm9tUHJvamVjdEV2ZW50MzM4NDIzMTE4MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3384231180",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-28T19:06:17Z",
      "project_card": {
        "id": 38241742,
        "url": "https://api.github.com/projects/columns/cards/38241742",
        "project_id": 481835,
        "project_url": "https://api.github.com/projects/481835",
        "column_name": "Blockers"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-05-29T16:29:57Z",
      "updated_at": "2020-05-29T16:29:57Z",
      "source": {
        "issue": {
          "id": 627368508,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDI1MTg2MTI3",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19107",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19107/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19107/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19107/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19107",
          "number": 19107,
          "state": "closed",
          "state_reason": null,
          "title": "p2p: Move all header verification into the network layer, extend logging",
          "body": "Inspired by #15206 and #15197, this PR moves all message header verification from the message processing layer and into the network/transport layer.\r\n\r\nIn the previous PRs there is a change in behavior, where we would disconnect from peers upon a single failed checksum check.  In various discussions there was concern over whether this was the right choice, and some expressed a desire to see how this would look if it was made to be a pure refactor.\r\n\r\nFor more context, see https://bitcoincore.reviews/15206.html#l-81.\r\n\r\nThis PR improves the separation between the p2p layers, helping improvements like [BIP324](https://github.com/bitcoin/bitcoin/pull/18242) and #18989.",
          "user": {
            "login": "troygiorshev",
            "id": 5553787,
            "node_id": "MDQ6VXNlcjU1NTM3ODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/troygiorshev",
            "html_url": "https://github.com/troygiorshev",
            "followers_url": "https://api.github.com/users/troygiorshev/followers",
            "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
            "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
            "repos_url": "https://api.github.com/users/troygiorshev/repos",
            "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 40,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19107",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19107",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19107.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19107.patch"
          },
          "closed_at": "2020-09-29T08:16:03Z",
          "created_at": "2020-05-29T15:53:49Z",
          "updated_at": "2022-02-15T10:36:30Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 3408628156,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM0MDg2MjgxNTY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3408628156",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-04T20:36:09Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-04T20:54:06Z",
      "updated_at": "2020-06-04T20:54:06Z",
      "source": {
        "issue": {
          "id": 631060796,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDI4MDE4ODg4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19168",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19168/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19168/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19168/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19168",
          "number": 19168,
          "state": "closed",
          "state_reason": null,
          "title": "Refactor: Improve setup_clean_chain semantics",
          "body": "The semantics of `setup_clean_chain` are off in my opinion. If it is set to true, there is actually no real chain setup, we only start with the Genesis block. That is not what I would expect 'clean' to mean. The 200 blocks chain that we set up if it is set to false could also be called 'clean' since there are no transactions or reorgs.\r\n\r\nI think this is also the reason that other people have been confused. The documentation for `test_shell` is not correct and the default has been re-declared in several tests. This PR fixes the documentation and removes settings that don't change the default. Additionally I suggest renaming `setup_clean_chain` to `skip_chain_setup`.",
          "user": {
            "login": "fjahr",
            "id": 1322187,
            "node_id": "MDQ6VXNlcjEzMjIxODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fjahr",
            "html_url": "https://github.com/fjahr",
            "followers_url": "https://api.github.com/users/fjahr/followers",
            "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
            "organizations_url": "https://api.github.com/users/fjahr/orgs",
            "repos_url": "https://api.github.com/users/fjahr/repos",
            "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/fjahr/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 28,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19168",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19168",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19168.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19168.patch"
          },
          "closed_at": "2021-01-31T20:55:43Z",
          "created_at": "2020-06-04T18:36:26Z",
          "updated_at": "2022-08-16T17:12:04Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3420075500,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQyMDA3NTUwMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3420075500",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-08T13:32:32Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3420114718,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQyMDExNDcxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3420114718",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-08T13:40:00Z"
    },
    {
      "event": "reviewed",
      "id": 426279785,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2Mjc5Nzg1",
      "url": null,
      "actor": null,
      "commit_id": "fa94d6fef799a900c15dce9638eace5cc10087ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "re-ACK fa94d6fef799a900c15dce9638eace5cc10087ae changes per `git range-diff b3ec1fe fabb382 fa94d6f` are updates for a recent merge converting pointers to references in net processing code. Re-did clang and fuzz debug builds, re-ran the new test `p2p_ping` and the `process_message` and `p2p_transport_deserializer` fuzz tests locally.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#pullrequestreview-426279785",
      "submitted_at": "2020-06-08T14:28:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
    },
    {
      "event": "unlabeled",
      "id": 3420349242,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MzQyMDM0OTI0Mg==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3420349242",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-08T14:28:45Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-10T17:46:39Z",
      "updated_at": "2020-06-10T17:46:39Z",
      "source": {
        "issue": {
          "id": 631521530,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDI4MzkzNzcw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19174",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19174/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19174/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19174/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19174",
          "number": 19174,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: replace CConnman pointers by references in net_processing.cpp",
          "body": "This is a follow-up to the recently merged PR https://github.com/bitcoin/bitcoin/pull/19053, replacing ~~two more types of~~ one more type of pointer (CConnman) by references to increase the code quality -- pointers should either check for `nullptr` or be replaced by references, and the latter strategy seems to be more reasonable.\r\n\r\nAgain, to keep the review burden managable, the changes are kept simple, \r\n* only tackling `CConnman*` ~~and `BanMan*`~~ pointers\r\n* only within the net_processing module, i.e. no changes that would need adaption in other modules\r\n* keeping the names of the variables as they are",
          "user": {
            "login": "theStack",
            "id": 91535,
            "node_id": "MDQ6VXNlcjkxNTM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/theStack",
            "html_url": "https://github.com/theStack",
            "followers_url": "https://api.github.com/users/theStack/followers",
            "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
            "organizations_url": "https://api.github.com/users/theStack/orgs",
            "repos_url": "https://api.github.com/users/theStack/repos",
            "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/theStack/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 17,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19174",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19174",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19174.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19174.patch"
          },
          "closed_at": "2020-07-16T06:11:25Z",
          "created_at": "2020-06-05T11:29:52Z",
          "updated_at": "2022-02-15T10:39:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-16T21:55:26Z",
      "updated_at": "2020-06-16T21:55:26Z",
      "source": {
        "issue": {
          "id": 639572130,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDM1MTM3Mzg2",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19293",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19293/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19293/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19293/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19293",
          "number": 19293,
          "state": "closed",
          "state_reason": null,
          "title": "net: Avoid redundant and confusing FAILED log",
          "body": "Remove a redundant and confusing \"FAILED\" log message and gets rid of the unused return type in `ProcessMessage`",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 241832923,
              "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
              "name": "Utils/log/libs",
              "description": "",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19293",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19293",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19293.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19293.patch"
          },
          "closed_at": "2020-06-19T09:17:58Z",
          "created_at": "2020-06-16T10:59:14Z",
          "updated_at": "2022-02-15T10:45:45Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-17T23:20:16Z",
      "updated_at": "2020-06-17T23:20:16Z",
      "source": {
        "issue": {
          "id": 640570342,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDM1OTU2NDUx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19306",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19306/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19306/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19306/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19306",
          "number": 19306,
          "state": "closed",
          "state_reason": null,
          "title": "refactor: Replace RecursiveMutex with Mutex in CTxMemPool",
          "body": "This PR replaces `RecursiveMutex CTxMemPool::cs` with `Mutex CTxMemPool:cs`.\r\n\r\nAll of the related code branches are covered by appropriate lock assertions to insure that the mutex locking policy has not been changed by accident\r\n\r\nRelated to #19303.",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 135961,
              "node_id": "MDU6TGFiZWwxMzU5NjE=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
              "name": "Refactoring",
              "color": "E6F6D6",
              "default": false
            },
            {
              "id": 164208572,
              "node_id": "MDU6TGFiZWwxNjQyMDg1NzI=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Mempool",
              "name": "Mempool",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 19,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19306",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19306",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19306.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19306.patch"
          },
          "closed_at": "2021-08-24T15:37:39Z",
          "created_at": "2020-06-17T16:15:04Z",
          "updated_at": "2022-08-24T17:35:52Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "labeled",
      "id": 3461881665,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDM0NjE4ODE2NjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3461881665",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-19T10:25:10Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWFiNGFhZjJmYTExNTNjNmQ3NmVmYzgxMTNmYTAxYjA2OTQzZWNl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faab4aaf2fa1153c6d76efc8113fa01b06943ece",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/faab4aaf2fa1153c6d76efc8113fa01b06943ece",
      "tree": {
        "sha": "001b0d0f9948037b9fa4ebac3ccb8269d21a4a04",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/001b0d0f9948037b9fa4ebac3ccb8269d21a4a04"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 001b0d0f9948037b9fa4ebac3ccb8269d21a4a04\nparent 62948caf4446246ec2b525e95705bb07b6a8f2bd\nauthor MarcoFalke <falke.marco@gmail.com> 1590322784 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1592565935 -0400\n\nutil: Add count_microseconds helper\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUigGQwAkGgZ979+hx+IGdKgAKPhec978IwhcgqWkcBNMftlNNTRxGyOeeyuVIY0\nX3/iQqMOBf1S7MZBqGGAhwhVxnp4vYNfkp2N1vsfuo/4/LXfz22vOAvkl1VGb9PM\nJpjgLy3sq+vS4S5OzPS7IfYICKwtgbKBeWPVajldafRUwdfqNTpNcoyqirFTKaA3\nXTB6lmieojZmMp9T3D0Pw8bYdYkG49mZhQJQZgSuEWbL37cYt5rknXIrLpEe/oSg\n5hBKfCBhJ3bHhXnX8WgUACfavGtIO4Y8TnBjSjLatcpLKFDl89MAGXSB8QNh1qAB\nMPvB/O70CiIkcRkL6ItHspFOkiLiGtgvEiLnJYBYbYLMjOGFPnSvdO7c7EjVKK2h\nkVGLd3N09leAGALmMIVhDGGKPMgKzWlGblVUGkurgvtunlFBkW8gu4TYhuVlDIai\n/BwL6bEM0YZXd8Y0D0Ns2wyiOOvIj9XrVvpIyvYY0S8EI4Qt6/vFvNGz/xB/nsy0\nu7QAiVhH\n=tAMC\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/62948caf4446246ec2b525e95705bb07b6a8f2bd",
          "sha": "62948caf4446246ec2b525e95705bb07b6a8f2bd",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/62948caf4446246ec2b525e95705bb07b6a8f2bd"
        }
      ],
      "message": "util: Add count_microseconds helper",
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-06-19T11:25:35Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-05-24T12:19:44Z"
      },
      "sha": "faab4aaf2fa1153c6d76efc8113fa01b06943ece"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTMzNjU0MzBjNWZiNTdkN2MwYjVmMmJjZTlmYmJlMjkwYmU5M2Mz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "tree": {
        "sha": "4395ac07b8f72de675cf1675a392e10abe068175",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4395ac07b8f72de675cf1675a392e10abe068175"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 4395ac07b8f72de675cf1675a392e10abe068175\nparent faab4aaf2fa1153c6d76efc8113fa01b06943ece\nauthor MarcoFalke <falke.marco@gmail.com> 1586885058 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1592565936 -0400\n\nnet: Use mockable time for ping/pong, add tests\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUjXSgwAgCldA+SLWstSdQ5uvrcEU42RYlVtNHmUxOEJOa3E6cW2A97XnixgJ5nt\nqtNCahRLxLgreyOp7N9Rb74bdaggNNPwf4ytAUtzov+oy1TF0D4U6F2alHiNPgvN\nEFD1CbFj3zTAQ+YlsYP/+ac30HFLJrgStAk6whezcVIlIEZd+znbEZ3PnIvcaVbL\nmUtGgxQZzli5iN6lWT37dDgCQANu4mxfXmwjsU8Ku+iG+mj3j9EbNcvAIe6GDd1+\nRx0WqMD2okLpWTS6Rbq985XTCLKeX/dk+jfvuaO/iad99PFyH48K7JI5g1Dpq0hB\nXo9NTcvOyeWvLkPYQRqWJgGNK/Z1R4Do5NujSrC4vGgsMvwZ7HCXxhDSzhZPGflw\nmVCqdBPuV+8Jwa2PPqOYQXwuVdaP3hHgslxcZ6HCJDC2lPHllZs0mjQMMjOke3mc\nskIa+8yoG5pmOd1PKUYnpYoz39doXqrzCyVSetX6yAxvqzs2XtB+yoaPSxLo0J29\n5tpEr6wg\n=p7d3\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faab4aaf2fa1153c6d76efc8113fa01b06943ece",
          "sha": "faab4aaf2fa1153c6d76efc8113fa01b06943ece",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/faab4aaf2fa1153c6d76efc8113fa01b06943ece"
        }
      ],
      "message": "net: Use mockable time for ping/pong, add tests",
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-06-19T11:25:36Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-14T17:24:18Z"
      },
      "sha": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3462068740,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzQ2MjA2ODc0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3462068740",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-19T11:26:22Z"
    },
    {
      "event": "commented",
      "id": 646593845,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjU5Mzg0NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646593845",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-19T11:51:38Z",
      "updated_at": "2020-06-19T11:51:38Z",
      "author_association": "MEMBER",
      "body": "Rebased. Should be easy to re-ACK with `git range-diff bitcoin-core/master A B`",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-646593845",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "unlabeled",
      "id": 3462262297,
      "node_id": "MDE0OlVubGFiZWxlZEV2ZW50MzQ2MjI2MjI5Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3462262297",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-19T12:29:54Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 434508723,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NTA4NzIz",
      "url": null,
      "actor": null,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review re-ACK fa33654 re-read code, verified rebase per `git range-diff 4b5c919 fa94d6f fa33654`, previous tested ACKs still valid",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#pullrequestreview-434508723",
      "submitted_at": "2020-06-21T14:59:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
    },
    {
      "event": "reviewed",
      "id": 434847045,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0ODQ3MDQ1",
      "url": null,
      "actor": null,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "fridokus",
        "id": 16291842,
        "node_id": "MDQ6VXNlcjE2MjkxODQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/16291842?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fridokus",
        "html_url": "https://github.com/fridokus",
        "followers_url": "https://api.github.com/users/fridokus/followers",
        "following_url": "https://api.github.com/users/fridokus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fridokus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fridokus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fridokus/subscriptions",
        "organizations_url": "https://api.github.com/users/fridokus/orgs",
        "repos_url": "https://api.github.com/users/fridokus/repos",
        "events_url": "https://api.github.com/users/fridokus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fridokus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#pullrequestreview-434847045",
      "submitted_at": "2020-06-22T11:48:15Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
    },
    {
      "event": "commented",
      "id": 647466665,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzQ2NjY2NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647466665",
      "actor": {
        "login": "fridokus",
        "id": 16291842,
        "node_id": "MDQ6VXNlcjE2MjkxODQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/16291842?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fridokus",
        "html_url": "https://github.com/fridokus",
        "followers_url": "https://api.github.com/users/fridokus/followers",
        "following_url": "https://api.github.com/users/fridokus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fridokus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fridokus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fridokus/subscriptions",
        "organizations_url": "https://api.github.com/users/fridokus/orgs",
        "repos_url": "https://api.github.com/users/fridokus/repos",
        "events_url": "https://api.github.com/users/fridokus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fridokus/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-06-22T11:48:28Z",
      "updated_at": "2020-06-22T11:48:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK faab4aaf2fa1153c6d76efc8113fa01b06943ece, ran functional tests and read the python scripts.\r\n\r\n",
      "user": {
        "login": "fridokus",
        "id": 16291842,
        "node_id": "MDQ6VXNlcjE2MjkxODQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/16291842?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fridokus",
        "html_url": "https://github.com/fridokus",
        "followers_url": "https://api.github.com/users/fridokus/followers",
        "following_url": "https://api.github.com/users/fridokus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fridokus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fridokus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fridokus/subscriptions",
        "organizations_url": "https://api.github.com/users/fridokus/orgs",
        "repos_url": "https://api.github.com/users/fridokus/repos",
        "events_url": "https://api.github.com/users/fridokus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fridokus/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-647466665",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "reviewed",
      "id": 436250936,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2MjUwOTM2",
      "url": null,
      "actor": null,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3\r\n\r\nReviewed, verified everything runs.\r\n\r\nI enjoyed how each sub-test flows into the next one.  Hard to see at first but they really work together.\r\n\r\nA few questions.",
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#pullrequestreview-436250936",
      "submitted_at": "2020-06-24T01:30:00Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-08T23:32:06Z",
      "updated_at": "2020-07-08T23:32:06Z",
      "source": {
        "issue": {
          "id": 653578823,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ2NDcwMjM4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19472",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19472/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19472/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19472/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19472",
          "number": 19472,
          "state": "closed",
          "state_reason": null,
          "title": "[net processing] Reduce cs_main scope in MaybeDiscourageAndDisconnect()",
          "body": "The motivation for this PR is to reduce the scope of cs_main locking in misbehavior logic. It is the first set of commits from a larger branch to move the misbehavior data out of CNodeState and into a new struct that doesn't take cs_main.\r\n\r\nThere are some very minor behavior changes in this branch, such as:\r\n\r\n- Not checking for discouragement/disconnect in `ProcessMessages()` (and instead relying on the following check in `SendMessages()`)\r\n- Checking for discouragement/disconnect as the first action in `SendMessages()` (and not doing ping message sending first)\r\n- Continuing through `SendMessages()` if `MaybeDiscourageAndDisconnect()` doesn't disconnect the peer (rather than dropping out of `SendMessages()`",
          "user": {
            "login": "jnewbery",
            "id": 1063656,
            "node_id": "MDQ6VXNlcjEwNjM2NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jnewbery",
            "html_url": "https://github.com/jnewbery",
            "followers_url": "https://api.github.com/users/jnewbery/followers",
            "following_url": "https://api.github.com/users/jnewbery/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/jnewbery/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/jnewbery/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
            "organizations_url": "https://api.github.com/users/jnewbery/orgs",
            "repos_url": "https://api.github.com/users/jnewbery/repos",
            "events_url": "https://api.github.com/users/jnewbery/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/jnewbery/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98298007,
              "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
              "name": "P2P",
              "color": "006b75",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19472",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19472",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19472.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19472.patch"
          },
          "closed_at": "2020-07-24T15:21:28Z",
          "created_at": "2020-07-08T20:34:28Z",
          "updated_at": "2022-02-15T10:34:11Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 656694715,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY1NjY5NDcxNQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/656694715",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-10T14:05:59Z",
      "updated_at": "2020-07-10T14:05:59Z",
      "author_association": "MEMBER",
      "body": "Thanks for the review everyone. If there are ways to improve the test, I am happy to review them in a follow-up",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#issuecomment-656694715",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18638"
    },
    {
      "event": "merged",
      "id": 3534059934,
      "node_id": "MDExOk1lcmdlZEV2ZW50MzUzNDA1OTkzNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3534059934",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "107b8559c5a7ed4c514e50d1df6bd2407d1d6f27",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/107b8559c5a7ed4c514e50d1df6bd2407d1d6f27",
      "created_at": "2020-07-10T14:09:42Z"
    },
    {
      "event": "closed",
      "id": 3534059949,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzUzNDA1OTk0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3534059949",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-10T14:09:42Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 3534182301,
      "node_id": "MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQzNTM0MTgyMzAx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3534182301",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-10T14:40:32Z"
    },
    {
      "event": "referenced",
      "id": 3534528870,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM1MzQ1Mjg4NzA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/3534528870",
      "actor": {
        "login": "sidhujag",
        "id": 6238042,
        "node_id": "MDQ6VXNlcjYyMzgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sidhujag",
        "html_url": "https://github.com/sidhujag",
        "followers_url": "https://api.github.com/users/sidhujag/followers",
        "following_url": "https://api.github.com/users/sidhujag/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sidhujag/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sidhujag/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
        "organizations_url": "https://api.github.com/users/sidhujag/orgs",
        "repos_url": "https://api.github.com/users/sidhujag/repos",
        "events_url": "https://api.github.com/users/sidhujag/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sidhujag/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "c5d9d2b110dcf067a4fe277c5e36d5ece3447adf",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/c5d9d2b110dcf067a4fe277c5e36d5ece3447adf",
      "created_at": "2020-07-10T16:11:30Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-24T12:17:59Z",
      "updated_at": "2020-07-24T12:17:59Z",
      "source": {
        "issue": {
          "id": 665130208,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDU2MjU1MTE4",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19580",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19580/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19580/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19580/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19580",
          "number": 19580,
          "state": "closed",
          "state_reason": null,
          "title": "test: Remove message_count",
          "body": "Inspired by [this comment](https://github.com/bitcoin/bitcoin/pull/18638#discussion_r452860611) on #18638.\r\n\r\n`message_count` is almost completely unused.  Additionally, its values are not always consistent with `last_message` (i.e. we sometimes simultaneously have `message_count['foo'] == 1` and `'foo' not in last_message`).\r\n\r\nThis PR removes it and replaces its only use with a new `has_verack` boolean.",
          "user": {
            "login": "troygiorshev",
            "id": 5553787,
            "node_id": "MDQ6VXNlcjU1NTM3ODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/troygiorshev",
            "html_url": "https://github.com/troygiorshev",
            "followers_url": "https://api.github.com/users/troygiorshev/followers",
            "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
            "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
            "repos_url": "https://api.github.com/users/troygiorshev/repos",
            "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19580",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19580",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19580.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19580.patch"
          },
          "closed_at": "2020-07-27T12:09:50Z",
          "created_at": "2020-07-24T12:17:59Z",
          "updated_at": "2022-02-15T10:34:16Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 4284471391,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQyODQ0NzEzOTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4284471391",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0f688cf6874d484e869757b6a95d2e223df0ecc2",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/0f688cf6874d484e869757b6a95d2e223df0ecc2",
      "created_at": "2021-02-03T10:35:10Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-13T09:50:45Z",
      "updated_at": "2021-07-13T09:50:45Z",
      "source": {
        "issue": {
          "id": 935515533,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NjgyNDE2NTIx",
          "url": "https://api.github.com/repos/dashpay/dash/issues/4229",
          "repository_url": "https://api.github.com/repos/dashpay/dash",
          "labels_url": "https://api.github.com/repos/dashpay/dash/issues/4229/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/dashpay/dash/issues/4229/comments",
          "events_url": "https://api.github.com/repos/dashpay/dash/issues/4229/events",
          "html_url": "https://github.com/dashpay/dash/pull/4229",
          "number": 4229,
          "state": "closed",
          "state_reason": null,
          "title": "merge #16117, #18358, #17383, #21052, #14424, #15159, #14689, #14978, partial #16908, #14978, #13932: Auxillary Backports",
          "body": "### Notes\r\n\r\n~~bitcoin#20788 was originally having test failures and the lack of bitcoin#14624 was the cause. Tests run fine now.~~ Scrapped from this PR",
          "user": {
            "login": "kwvg",
            "id": 63189531,
            "node_id": "MDQ6VXNlcjYzMTg5NTMx",
            "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kwvg",
            "html_url": "https://github.com/kwvg",
            "followers_url": "https://api.github.com/users/kwvg/followers",
            "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
            "organizations_url": "https://api.github.com/users/kwvg/orgs",
            "repos_url": "https://api.github.com/users/kwvg/repos",
            "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/kwvg/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 1259670433,
              "node_id": "MDU6TGFiZWwxMjU5NjcwNDMz",
              "url": "https://api.github.com/repos/dashpay/dash/labels/RPC",
              "name": "RPC",
              "description": "Some notable changes to RPC params/behaviour/descriptions",
              "color": "6c96dd",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "COLLABORATOR",
          "milestone": {
            "url": "https://api.github.com/repos/dashpay/dash/milestones/28",
            "html_url": "https://github.com/dashpay/dash/milestone/28",
            "labels_url": "https://api.github.com/repos/dashpay/dash/milestones/28/labels",
            "id": 6582425,
            "node_id": "MDk6TWlsZXN0b25lNjU4MjQyNQ==",
            "number": 28,
            "state": "closed",
            "title": "18",
            "description": "https://github.com/dashpay/dash/issues/4211",
            "creator": {
              "login": "PastaPastaPasta",
              "id": 6443210,
              "node_id": "MDQ6VXNlcjY0NDMyMTA=",
              "avatar_url": "https://avatars.githubusercontent.com/u/6443210?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/PastaPastaPasta",
              "html_url": "https://github.com/PastaPastaPasta",
              "followers_url": "https://api.github.com/users/PastaPastaPasta/followers",
              "following_url": "https://api.github.com/users/PastaPastaPasta/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/PastaPastaPasta/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/PastaPastaPasta/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/PastaPastaPasta/subscriptions",
              "organizations_url": "https://api.github.com/users/PastaPastaPasta/orgs",
              "repos_url": "https://api.github.com/users/PastaPastaPasta/repos",
              "events_url": "https://api.github.com/users/PastaPastaPasta/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/PastaPastaPasta/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 2,
            "closed_issues": 617,
            "created_at": "2021-03-23T15:57:06Z",
            "updated_at": "2023-04-10T15:43:17Z",
            "closed_at": "2022-12-28T18:52:24Z",
            "due_on": "2022-05-25T07:00:00Z"
          },
          "locked": false,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/dashpay/dash/pulls/4229",
            "html_url": "https://github.com/dashpay/dash/pull/4229",
            "diff_url": "https://github.com/dashpay/dash/pull/4229.diff",
            "patch_url": "https://github.com/dashpay/dash/pull/4229.patch"
          },
          "closed_at": "2021-08-10T19:34:17Z",
          "created_at": "2021-07-02T07:53:00Z",
          "updated_at": "2023-07-18T11:39:47Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 5012803935,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMTI4MDM5MzU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5012803935",
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "f6d0b79ab5259ac81d8a46d520d9e33cf76cf649",
      "commit_url": "https://api.github.com/repos/kwvg/dash/commits/f6d0b79ab5259ac81d8a46d520d9e33cf76cf649",
      "created_at": "2021-07-13T10:20:54Z"
    },
    {
      "event": "referenced",
      "id": 5012859850,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMTI4NTk4NTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5012859850",
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "0a2e3957b234a78255538ce19c999ed8706c70c2",
      "commit_url": "https://api.github.com/repos/kwvg/dash/commits/0a2e3957b234a78255538ce19c999ed8706c70c2",
      "created_at": "2021-07-13T10:30:39Z"
    },
    {
      "event": "referenced",
      "id": 5026959482,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMjY5NTk0ODI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5026959482",
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e1199999bc5fcbcd7130cd9371d9f4e59eec829b",
      "commit_url": "https://api.github.com/repos/kwvg/dash/commits/e1199999bc5fcbcd7130cd9371d9f4e59eec829b",
      "created_at": "2021-07-15T17:56:26Z"
    },
    {
      "event": "referenced",
      "id": 5026965112,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMjY5NjUxMTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5026965112",
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "ee30f092259b802cacca41f7e352af5b541c0d96",
      "commit_url": "https://api.github.com/repos/kwvg/dash/commits/ee30f092259b802cacca41f7e352af5b541c0d96",
      "created_at": "2021-07-15T17:57:34Z"
    },
    {
      "event": "referenced",
      "id": 5031177092,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwMzExNzcwOTI=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5031177092",
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "2360ac919f45c963bd3430a09dd3d3b854e765bb",
      "commit_url": "https://api.github.com/repos/kwvg/dash/commits/2360ac919f45c963bd3430a09dd3d3b854e765bb",
      "created_at": "2021-07-16T14:15:53Z"
    },
    {
      "event": "referenced",
      "id": 5095632517,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDUwOTU2MzI1MTc=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5095632517",
      "actor": {
        "login": "kwvg",
        "id": 63189531,
        "node_id": "MDQ6VXNlcjYzMTg5NTMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/63189531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kwvg",
        "html_url": "https://github.com/kwvg",
        "followers_url": "https://api.github.com/users/kwvg/followers",
        "following_url": "https://api.github.com/users/kwvg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/kwvg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/kwvg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/kwvg/subscriptions",
        "organizations_url": "https://api.github.com/users/kwvg/orgs",
        "repos_url": "https://api.github.com/users/kwvg/repos",
        "events_url": "https://api.github.com/users/kwvg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/kwvg/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "aa36b710ceedf10c4d47fffc9478d02c472b854e",
      "commit_url": "https://api.github.com/repos/kwvg/dash/commits/aa36b710ceedf10c4d47fffc9478d02c472b854e",
      "created_at": "2021-08-01T16:22:56Z"
    },
    {
      "event": "locked",
      "id": 6073982197,
      "node_id": "LOE_lADOABII584jwC4yzwAAAAFqCZz1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6073982197",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T10:59:29Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426916085",
      "pull_request_review_id": 413967888,
      "id": 426916085,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkxNjA4NQ==",
      "diff_hunk": "@@ -0,0 +1,113 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=3)\n+\n+        self.log.info('Reply without nonce cancels ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Short payload']):\n+            no_pong_node.send_and_ping(msg_pong_corrupt())\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Reply without ping')\n+        with self.nodes[0].assert_debug_log([\n+                'pong peer=0: Unsolicited pong without ping, 0 expected, 0 received, 8 bytes',\n+        ]):\n+            no_pong_node.send_and_ping(msg_pong())\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Reply with wrong nonce does not cancel ping')\n+        assert 'ping' not in no_pong_node.last_message\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Nonce mismatch']):\n+            # mock time PING_INTERVAL ahead to trigger node into sending a ping\n+            self.mock_forward(PING_INTERVAL + 1)\n+            wait_until(lambda: 'ping' in no_pong_node.last_message)\n+            self.mock_forward(9)\n+            # Send the wrong pong\n+            no_pong_node.send_and_ping(msg_pong(no_pong_node.last_message.pop('ping').nonce - 1))\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=9)\n+\n+        self.log.info('Reply with zero nonce does cancel ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Nonce zero']):\n+            no_pong_node.send_and_ping(msg_pong(0))\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Check that ping is properly reported on RPC')\n+        assert 'ping' not in no_pong_node.last_message\n+        # mock time PING_INTERVAL ahead to trigger node into sending a ping\n+        self.mock_forward(PING_INTERVAL + 1)\n+        wait_until(lambda: 'ping' in no_pong_node.last_message)\n+        ping_delay = 29\n+        self.mock_forward(ping_delay)\n+        wait_until(lambda: 'ping' in no_pong_node.last_message)\n+        no_pong_node.send_and_ping(msg_pong(no_pong_node.last_message.pop('ping').nonce))\n+        self.check_peer_info(pingtime=ping_delay, minping=ping_delay, pingwait=None)\n+",
      "path": "test/functional/p2p_ping.py",
      "position": 102,
      "original_position": 102,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fac63aba8db1d0198391414a3867894f837e9df3",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "From what I understand, `minping` is the best/shortest round trip time measured so far. Thus, would it be a good idea to repeat this chunk with a shorter `ping_delay` in order to check that `minping` gets updated correctly? I tried with `ping_delay` = 25 locally and it was updated from 29 to 25 as expected.",
      "created_at": "2020-05-18T22:00:18Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r426916085",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426916085"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 102,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426917683",
      "pull_request_review_id": 413967888,
      "id": 426917683,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkxNzY4Mw==",
      "diff_hunk": "@@ -0,0 +1,113 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=3)\n+\n+        self.log.info('Reply without nonce cancels ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Short payload']):\n+            no_pong_node.send_and_ping(msg_pong_corrupt())\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Reply without ping')\n+        with self.nodes[0].assert_debug_log([\n+                'pong peer=0: Unsolicited pong without ping, 0 expected, 0 received, 8 bytes',\n+        ]):\n+            no_pong_node.send_and_ping(msg_pong())\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Reply with wrong nonce does not cancel ping')\n+        assert 'ping' not in no_pong_node.last_message\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Nonce mismatch']):\n+            # mock time PING_INTERVAL ahead to trigger node into sending a ping\n+            self.mock_forward(PING_INTERVAL + 1)\n+            wait_until(lambda: 'ping' in no_pong_node.last_message)\n+            self.mock_forward(9)\n+            # Send the wrong pong\n+            no_pong_node.send_and_ping(msg_pong(no_pong_node.last_message.pop('ping').nonce - 1))\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=9)\n+\n+        self.log.info('Reply with zero nonce does cancel ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Nonce zero']):\n+            no_pong_node.send_and_ping(msg_pong(0))\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Check that ping is properly reported on RPC')\n+        assert 'ping' not in no_pong_node.last_message\n+        # mock time PING_INTERVAL ahead to trigger node into sending a ping\n+        self.mock_forward(PING_INTERVAL + 1)\n+        wait_until(lambda: 'ping' in no_pong_node.last_message)\n+        ping_delay = 29\n+        self.mock_forward(ping_delay)\n+        wait_until(lambda: 'ping' in no_pong_node.last_message)\n+        no_pong_node.send_and_ping(msg_pong(no_pong_node.last_message.pop('ping').nonce))\n+        self.check_peer_info(pingtime=ping_delay, minping=ping_delay, pingwait=None)\n+",
      "path": "test/functional/p2p_ping.py",
      "position": 102,
      "original_position": 102,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fac63aba8db1d0198391414a3867894f837e9df3",
      "in_reply_to_id": 426916085,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also I'm just wondering, why is `ping_delay` 29? I'm not sure if it's arbitrary or a chosen magic number.",
      "created_at": "2020-05-18T22:04:44Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r426917683",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426917683"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 102,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426923791",
      "pull_request_review_id": 413967888,
      "id": 426923791,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkyMzc5MQ==",
      "diff_hunk": "@@ -0,0 +1,113 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=3)\n+\n+        self.log.info('Reply without nonce cancels ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Short payload']):",
      "path": "test/functional/p2p_ping.py",
      "position": 65,
      "original_position": 65,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fac63aba8db1d0198391414a3867894f837e9df3",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hm, I'm surprised it isn't `Nonce zero`? I thought no nonce is equivalent to nonce=0 for [msg_pong](https://github.com/bitcoin/bitcoin/blob/dc5333d31f280e09bb1e8cdacfbe842f4ab9e69b/test/functional/test_framework/messages.py#L1210). The test failed when I changed the error message, though.",
      "created_at": "2020-05-18T22:20:56Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r426923791",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426923791"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 65,
      "original_line": 65,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426929454",
      "pull_request_review_id": 413967888,
      "id": 426929454,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkyOTQ1NA==",
      "diff_hunk": "@@ -74,7 +74,7 @@ void test_one_input(const std::vector<uint8_t>& buffer)\n     p2p_node.SetSendVersion(PROTOCOL_VERSION);\n     g_setup->m_node.peer_logic->InitializeNode(&p2p_node);\n     try {\n-        (void)ProcessMessage(&p2p_node, random_message_type, random_bytes_data_stream, GetTimeMillis(), Params(), *g_setup->m_node.mempool, g_setup->m_node.connman.get(), g_setup->m_node.banman.get(), std::atomic<bool>{false});",
      "path": "src/test/fuzz/process_message.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fac63aba8db1d0198391414a3867894f837e9df3",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think microseconds is correct (I think millis would be a bug if this wasn't in a unit test), but since it looks like you're switching from millis to micros, could this be an issue at all? The test passes for me.",
      "created_at": "2020-05-18T22:37:32Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r426929454",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426929454"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 77,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427638935",
      "pull_request_review_id": 414870779,
      "id": 427638935,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzYzODkzNQ==",
      "diff_hunk": "@@ -74,7 +74,7 @@ void test_one_input(const std::vector<uint8_t>& buffer)\n     p2p_node.SetSendVersion(PROTOCOL_VERSION);\n     g_setup->m_node.peer_logic->InitializeNode(&p2p_node);\n     try {\n-        (void)ProcessMessage(&p2p_node, random_message_type, random_bytes_data_stream, GetTimeMillis(), Params(), *g_setup->m_node.mempool, g_setup->m_node.connman.get(), g_setup->m_node.banman.get(), std::atomic<bool>{false});",
      "path": "src/test/fuzz/process_message.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fac63aba8db1d0198391414a3867894f837e9df3",
      "in_reply_to_id": 426929454,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, this looks like a bug in the test to me as well. Luckily by making the time type safe, this is less likely to happen in the future.\r\n\r\nRegardless, instead of depending on the current time, which is not deterministic and might cause issues while fuzzing, the fuzz test should ask the fuzz engine for a time value.\r\n\r\nHowever, this seems out of scope for the changes in this pull request.",
      "created_at": "2020-05-19T22:35:16Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r427638935",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427638935"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 77,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427639581",
      "pull_request_review_id": 414871622,
      "id": 427639581,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzYzOTU4MQ==",
      "diff_hunk": "@@ -0,0 +1,113 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=3)\n+\n+        self.log.info('Reply without nonce cancels ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Short payload']):",
      "path": "test/functional/p2p_ping.py",
      "position": 65,
      "original_position": 65,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fac63aba8db1d0198391414a3867894f837e9df3",
      "in_reply_to_id": 426923791,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Be aware that a `msg_pong_corrupt` is sent (not a `msg_pong`)",
      "created_at": "2020-05-19T22:37:14Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r427639581",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427639581"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 65,
      "original_line": 65,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427639815",
      "pull_request_review_id": 414871909,
      "id": 427639815,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzYzOTgxNQ==",
      "diff_hunk": "@@ -0,0 +1,113 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=3)\n+\n+        self.log.info('Reply without nonce cancels ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Short payload']):\n+            no_pong_node.send_and_ping(msg_pong_corrupt())\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Reply without ping')\n+        with self.nodes[0].assert_debug_log([\n+                'pong peer=0: Unsolicited pong without ping, 0 expected, 0 received, 8 bytes',\n+        ]):\n+            no_pong_node.send_and_ping(msg_pong())\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Reply with wrong nonce does not cancel ping')\n+        assert 'ping' not in no_pong_node.last_message\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Nonce mismatch']):\n+            # mock time PING_INTERVAL ahead to trigger node into sending a ping\n+            self.mock_forward(PING_INTERVAL + 1)\n+            wait_until(lambda: 'ping' in no_pong_node.last_message)\n+            self.mock_forward(9)\n+            # Send the wrong pong\n+            no_pong_node.send_and_ping(msg_pong(no_pong_node.last_message.pop('ping').nonce - 1))\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=9)\n+\n+        self.log.info('Reply with zero nonce does cancel ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Nonce zero']):\n+            no_pong_node.send_and_ping(msg_pong(0))\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Check that ping is properly reported on RPC')\n+        assert 'ping' not in no_pong_node.last_message\n+        # mock time PING_INTERVAL ahead to trigger node into sending a ping\n+        self.mock_forward(PING_INTERVAL + 1)\n+        wait_until(lambda: 'ping' in no_pong_node.last_message)\n+        ping_delay = 29\n+        self.mock_forward(ping_delay)\n+        wait_until(lambda: 'ping' in no_pong_node.last_message)\n+        no_pong_node.send_and_ping(msg_pong(no_pong_node.last_message.pop('ping').nonce))\n+        self.check_peer_info(pingtime=ping_delay, minping=ping_delay, pingwait=None)\n+",
      "path": "test/functional/p2p_ping.py",
      "position": 102,
      "original_position": 102,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fac63aba8db1d0198391414a3867894f837e9df3",
      "in_reply_to_id": 426916085,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good point! Will extend the test as suggested by you.",
      "created_at": "2020-05-19T22:37:54Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r427639815",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427639815"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 102,
      "original_line": 102,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427667427",
      "pull_request_review_id": 414904669,
      "id": 427667427,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY2NzQyNw==",
      "diff_hunk": "@@ -0,0 +1,113 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=3)\n+\n+        self.log.info('Reply without nonce cancels ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Short payload']):",
      "path": "test/functional/p2p_ping.py",
      "position": 65,
      "original_position": 65,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fac63aba8db1d0198391414a3867894f837e9df3",
      "in_reply_to_id": 426923791,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah, that's it 👍 ",
      "created_at": "2020-05-20T00:01:59Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r427667427",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427667427"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 65,
      "original_line": 65,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429614142",
      "pull_request_review_id": 417339295,
      "id": 429614142,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYxNDE0Mg==",
      "diff_hunk": "@@ -686,7 +686,8 @@ const uint256& V1TransportDeserializer::GetMessageHash() const\n     return data_hash;\n }\n \n-CNetMessage V1TransportDeserializer::GetMessage(const CMessageHeader::MessageStartChars& message_start, int64_t time) {\n+CNetMessage V1TransportDeserializer::GetMessage(const CMessageHeader::MessageStartChars& message_start, const std::chrono::microseconds& time)",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`std::chrono` times are cheaply copied ints; would it be simpler/safer/faster to pass by value rather than reference to const?\r\n\r\nIf yes, idem in `net.h::L645+698`, `net_processing.cpp::L2085`, and `fuzz/process_message.cpp::L32`\r\n\r\nReference: https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rf-in",
      "created_at": "2020-05-24T08:52:13Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429614142",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429614142"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 689,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429616393",
      "pull_request_review_id": 417339295,
      "id": 429616393,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYxNjM5Mw==",
      "diff_hunk": "@@ -1141,9 +1142,9 @@ void CConnman::InactivityCheck(CNode *pnode)\n             LogPrintf(\"socket receive timeout: %is\\n\", nTime - pnode->nLastRecv);\n             pnode->fDisconnect = true;\n         }\n-        else if (pnode->nPingNonceSent && pnode->nPingUsecStart + TIMEOUT_INTERVAL * 1000000 < GetTimeMicros())\n+        else if (pnode->nPingNonceSent && pnode->m_ping_start.load() + std::chrono::seconds{TIMEOUT_INTERVAL} < GetTime<std::chrono::microseconds>())",
      "path": "src/net.cpp",
      "position": 56,
      "original_position": 56,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Not changed by this PR, but noting that this seems to be the only place in the codebase where `nPingNonceSent` is tested for truthiness with implicit conversion instead of against an integer value.",
      "created_at": "2020-05-24T09:21:18Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429616393",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429616393"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1158,
      "original_line": 1158,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429616840",
      "pull_request_review_id": 417339295,
      "id": 429616840,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYxNjg0MA==",
      "diff_hunk": "@@ -550,15 +550,15 @@ void CNode::copyStats(CNodeStats &stats, const std::vector<bool> &m_asmap)\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    int64_t nPingUsecWait = 0;\n-    if ((0 != nPingNonceSent) && (0 != nPingUsecStart)) {\n-        nPingUsecWait = GetTimeMicros() - nPingUsecStart;\n+    std::chrono::microseconds ping_wait{0};\n+    if ((0 != nPingNonceSent) && (0 != m_ping_start.load().count())) {\n+        ping_wait = GetTime<std::chrono::microseconds>() - m_ping_start.load();\n     }\n \n     // Raw ping time is in microseconds, but show it to user as whole seconds (Bitcoin users should be well used to small numbers with many decimal places by now :)\n     stats.m_ping_usec = nPingUsecTime;\n     stats.m_min_ping_usec  = nMinPingUsecTime;\n-    stats.m_ping_wait_usec = nPingUsecWait;\n+    stats.m_ping_wait_usec = count_microseconds(ping_wait);",
      "path": "src/net.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Do you think it would be better to eventually convert these primitives to `duration` to no longer need helpers like `count_microseconds`? (or am I confused)",
      "created_at": "2020-05-24T09:26:29Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429616840",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429616840"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 574,
      "original_line": 574,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429623460",
      "pull_request_review_id": 417346950,
      "id": 429623460,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyMzQ2MA==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True",
      "path": "test/functional/p2p_ping.py",
      "position": 40,
      "original_position": 40,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is a clean chain needed for p2p testing here? The tests seem to be fine with this set to the default of false. ",
      "created_at": "2020-05-24T10:49:54Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429623460",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429623460"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429625966",
      "pull_request_review_id": 417349116,
      "id": 429625966,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNTk2Ng==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True",
      "path": "test/functional/p2p_ping.py",
      "position": 40,
      "original_position": 40,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429623460,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sending a ping/pong shouldn't require any blocks, so I set this to false for now. This can be removed when the test is extended and needs blocks.",
      "created_at": "2020-05-24T11:21:39Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429625966",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429625966"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429626189",
      "pull_request_review_id": 417349309,
      "id": 429626189,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNjE4OQ==",
      "diff_hunk": "@@ -550,15 +550,15 @@ void CNode::copyStats(CNodeStats &stats, const std::vector<bool> &m_asmap)\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    int64_t nPingUsecWait = 0;\n-    if ((0 != nPingNonceSent) && (0 != nPingUsecStart)) {\n-        nPingUsecWait = GetTimeMicros() - nPingUsecStart;\n+    std::chrono::microseconds ping_wait{0};\n+    if ((0 != nPingNonceSent) && (0 != m_ping_start.load().count())) {\n+        ping_wait = GetTime<std::chrono::microseconds>() - m_ping_start.load();\n     }\n \n     // Raw ping time is in microseconds, but show it to user as whole seconds (Bitcoin users should be well used to small numbers with many decimal places by now :)\n     stats.m_ping_usec = nPingUsecTime;\n     stats.m_min_ping_usec  = nMinPingUsecTime;\n-    stats.m_ping_wait_usec = nPingUsecWait;\n+    stats.m_ping_wait_usec = count_microseconds(ping_wait);",
      "path": "src/net.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429616840,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I admit that the documentation isn't the best https://doxygen.bitcoincore.org/time_8h.html#a50aae909d5edf426afb66cd4d30c8d00\r\n\r\nHowever, those helpers will be needed to convert durations to raw integers for:\r\n\r\n* The RPC interface\r\n* The GUI\r\n* The logs\r\n* ... so pretty much anywhere the value \"leaves\" Bitcoin Core",
      "created_at": "2020-05-24T11:24:10Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429626189",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429626189"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 574,
      "original_line": 574,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429631222",
      "pull_request_review_id": 417353777,
      "id": 429631222,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYzMTIyMg==",
      "diff_hunk": "@@ -686,7 +686,8 @@ const uint256& V1TransportDeserializer::GetMessageHash() const\n     return data_hash;\n }\n \n-CNetMessage V1TransportDeserializer::GetMessage(const CMessageHeader::MessageStartChars& message_start, int64_t time) {\n+CNetMessage V1TransportDeserializer::GetMessage(const CMessageHeader::MessageStartChars& message_start, const std::chrono::microseconds& time)",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429614142,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I always follow rule 1 (const&), because it is always cheap and prevents the overhead of having to think how many words a type has.\r\n\r\n```\r\nvoid f1(const string& s);  // OK: pass by reference to const; always cheap",
      "created_at": "2020-05-24T12:25:46Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429631222",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429631222"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 689,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429631246",
      "pull_request_review_id": 417353789,
      "id": 429631246,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYzMTI0Ng==",
      "diff_hunk": "@@ -686,7 +686,8 @@ const uint256& V1TransportDeserializer::GetMessageHash() const\n     return data_hash;\n }\n \n-CNetMessage V1TransportDeserializer::GetMessage(const CMessageHeader::MessageStartChars& message_start, int64_t time) {\n+CNetMessage V1TransportDeserializer::GetMessage(const CMessageHeader::MessageStartChars& message_start, const std::chrono::microseconds& time)",
      "path": "src/net.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429614142,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Changed, though.",
      "created_at": "2020-05-24T12:25:55Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429631246",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429631246"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 689,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429631324",
      "pull_request_review_id": 417353886,
      "id": 429631324,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYzMTMyNA==",
      "diff_hunk": "@@ -1141,9 +1142,9 @@ void CConnman::InactivityCheck(CNode *pnode)\n             LogPrintf(\"socket receive timeout: %is\\n\", nTime - pnode->nLastRecv);\n             pnode->fDisconnect = true;\n         }\n-        else if (pnode->nPingNonceSent && pnode->nPingUsecStart + TIMEOUT_INTERVAL * 1000000 < GetTimeMicros())\n+        else if (pnode->nPingNonceSent && pnode->m_ping_start.load() + std::chrono::seconds{TIMEOUT_INTERVAL} < GetTime<std::chrono::microseconds>())",
      "path": "src/net.cpp",
      "position": 56,
      "original_position": 56,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429616393,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Indeed unrelated.",
      "created_at": "2020-05-24T12:27:09Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429631324",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429631324"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1158,
      "original_line": 1158,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429631352",
      "pull_request_review_id": 417353910,
      "id": 429631352,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYzMTM1Mg==",
      "diff_hunk": "@@ -550,15 +550,15 @@ void CNode::copyStats(CNodeStats &stats, const std::vector<bool> &m_asmap)\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    int64_t nPingUsecWait = 0;\n-    if ((0 != nPingNonceSent) && (0 != nPingUsecStart)) {\n-        nPingUsecWait = GetTimeMicros() - nPingUsecStart;\n+    std::chrono::microseconds ping_wait{0};\n+    if ((0 != nPingNonceSent) && (0 != m_ping_start.load().count())) {\n+        ping_wait = GetTime<std::chrono::microseconds>() - m_ping_start.load();\n     }\n \n     // Raw ping time is in microseconds, but show it to user as whole seconds (Bitcoin users should be well used to small numbers with many decimal places by now :)\n     stats.m_ping_usec = nPingUsecTime;\n     stats.m_min_ping_usec  = nMinPingUsecTime;\n-    stats.m_ping_wait_usec = nPingUsecWait;\n+    stats.m_ping_wait_usec = count_microseconds(ping_wait);",
      "path": "src/net.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429616840,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Extended documentation",
      "created_at": "2020-05-24T12:27:27Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429631352",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429631352"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 574,
      "original_line": 574,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429645464",
      "pull_request_review_id": 417366341,
      "id": 429645464,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY0NTQ2NA==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True",
      "path": "test/functional/p2p_ping.py",
      "position": 40,
      "original_position": 40,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429623460,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Did you still want to set this to false? :angel: ",
      "created_at": "2020-05-24T15:00:33Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429645464",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429645464"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429645503",
      "pull_request_review_id": 417366372,
      "id": 429645503,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY0NTUwMw==",
      "diff_hunk": "@@ -550,15 +550,15 @@ void CNode::copyStats(CNodeStats &stats, const std::vector<bool> &m_asmap)\n     // since pingtime does not update until the ping is complete, which might take a while.\n     // So, if a ping is taking an unusually long time in flight,\n     // the caller can immediately detect that this is happening.\n-    int64_t nPingUsecWait = 0;\n-    if ((0 != nPingNonceSent) && (0 != nPingUsecStart)) {\n-        nPingUsecWait = GetTimeMicros() - nPingUsecStart;\n+    std::chrono::microseconds ping_wait{0};\n+    if ((0 != nPingNonceSent) && (0 != m_ping_start.load().count())) {\n+        ping_wait = GetTime<std::chrono::microseconds>() - m_ping_start.load();\n     }\n \n     // Raw ping time is in microseconds, but show it to user as whole seconds (Bitcoin users should be well used to small numbers with many decimal places by now :)\n     stats.m_ping_usec = nPingUsecTime;\n     stats.m_min_ping_usec  = nMinPingUsecTime;\n-    stats.m_ping_wait_usec = nPingUsecWait;\n+    stats.m_ping_wait_usec = count_microseconds(ping_wait);",
      "path": "src/net.cpp",
      "position": 16,
      "original_position": 16,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429616840,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks!",
      "created_at": "2020-05-24T15:00:56Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429645503",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429645503"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 574,
      "original_line": 574,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429649084",
      "pull_request_review_id": 417369456,
      "id": 429649084,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY0OTA4NA==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True",
      "path": "test/functional/p2p_ping.py",
      "position": 40,
      "original_position": 40,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429623460,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Seems overly expensive to copy the blockchain when it is not needed, no?",
      "created_at": "2020-05-24T15:41:44Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429649084",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429649084"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429650644",
      "pull_request_review_id": 417370761,
      "id": 429650644,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY1MDY0NA==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True",
      "path": "test/functional/p2p_ping.py",
      "position": 40,
      "original_position": 40,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429623460,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This might be a wrong conception I've had for a long time. I thought it was cheaper to use the cached data directories rather than set up a clean chain, and that the test framework defaults to `self.setup_clean_chain = False` for this reason. I reckoned the default was the cheaper option and the more expensive one was opt-in, so I always used `False` where possible.",
      "created_at": "2020-05-24T15:58:34Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429650644",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429650644"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429651218",
      "pull_request_review_id": 417371251,
      "id": 429651218,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY1MTIxOA==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True",
      "path": "test/functional/p2p_ping.py",
      "position": 40,
      "original_position": 40,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429623460,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It might be a good idea to add a sentence on performance in the \"General test-writing advice\" section in `functional/README.md` where it states \"Set the `self.setup_clean_chain` variable in `set_test_params()` to control whether or not to use the cached data directories.\"",
      "created_at": "2020-05-24T16:05:52Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429651218",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429651218"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429652879",
      "pull_request_review_id": 417372667,
      "id": 429652879,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY1Mjg3OQ==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True",
      "path": "test/functional/p2p_ping.py",
      "position": 40,
      "original_position": 40,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa704719529cb928b242ecfe055e8a7b25df3a5b",
      "in_reply_to_id": 429623460,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The reason this default to a chain is that most tests require a chain, so so the least verbose option is the default.\r\n\r\nAlso, defaulting to a chain prevents test writers from accidentally mining a chain when it is not needed. Mining is orders of magnitude slower than copying.",
      "created_at": "2020-05-24T16:25:23Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429652879",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/429652879"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 40,
      "original_line": 40,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/436736726",
      "pull_request_review_id": 426279785,
      "id": 436736726,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjczNjcyNg==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60",
      "path": "test/functional/p2p_ping.py",
      "position": 20,
      "original_position": 20,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa94d6fef799a900c15dce9638eace5cc10087ae",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: if you retouch, could add a comment expressing the time units or along the lines of:\r\n```python3\r\nPING_INTERVAL = 2 * 60  # 2 minutes (corresponds to net_processing::PING_INTERVAL)\r\n```",
      "created_at": "2020-06-08T14:08:22Z",
      "updated_at": "2020-06-19T11:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r436736726",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/436736726"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 20,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443501995",
      "pull_request_review_id": 434847045,
      "id": 443501995,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUwMTk5NQ==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)",
      "path": "test/functional/p2p_ping.py",
      "position": 60,
      "original_position": 60,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "in_reply_to_id": null,
      "user": {
        "login": "fridokus",
        "id": 16291842,
        "node_id": "MDQ6VXNlcjE2MjkxODQy",
        "avatar_url": "https://avatars.githubusercontent.com/u/16291842?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fridokus",
        "html_url": "https://github.com/fridokus",
        "followers_url": "https://api.github.com/users/fridokus/followers",
        "following_url": "https://api.github.com/users/fridokus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fridokus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fridokus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fridokus/subscriptions",
        "organizations_url": "https://api.github.com/users/fridokus/orgs",
        "repos_url": "https://api.github.com/users/fridokus/repos",
        "events_url": "https://api.github.com/users/fridokus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fridokus/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "This is `peertimeout` right? If yes, we use `peertimeout` at 3 places any maybe it's more clear to define it at the outermost scope as well like `PING_INTERVAL`? Or maybe there's no need :)",
      "created_at": "2020-06-22T11:48:14Z",
      "updated_at": "2020-06-22T11:48:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r443501995",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443501995"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 60,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444582868",
      "pull_request_review_id": 436250936,
      "id": 444582868,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU4Mjg2OA==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0",
      "path": "test/functional/p2p_ping.py",
      "position": 61,
      "original_position": 61,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "in_reply_to_id": null,
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why pop here, as opposed to just accessing the value?  Seems like having `(message_count['ping'] == 1 and 'ping' not in last_message) == True` could be confusing.\r\n\r\nMaybe decrementing `message_count['ping']` every pop is an easier solution, being that this idea is used throughout the test.\r\n\r\n```suggestion\r\n        assert no_pong_node.last_message['ping'].nonce != 0\r\n```\r\nOr maybe\r\n```suggestion\r\n        assert no_pong_node.last_message.get('ping').nonce != 0\r\n```\r\nor\r\n```suggestion\r\n        assert no_pong_node.last_message.pop('ping').nonce != 0\r\n        no_pong_node.message_count['ping'] -= 1\r\n```",
      "created_at": "2020-06-24T00:43:41Z",
      "updated_at": "2020-06-24T01:30:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r444582868",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444582868"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 61,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444583585",
      "pull_request_review_id": 436250936,
      "id": 444583585,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU4MzU4NQ==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=3)\n+\n+        self.log.info('Reply without nonce cancels ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Short payload']):\n+            no_pong_node.send_and_ping(msg_pong_corrupt())\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Reply without ping')\n+        with self.nodes[0].assert_debug_log([\n+                'pong peer=0: Unsolicited pong without ping, 0 expected, 0 received, 8 bytes',\n+        ]):\n+            no_pong_node.send_and_ping(msg_pong())",
      "path": "test/functional/p2p_ping.py",
      "position": 73,
      "original_position": 73,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "in_reply_to_id": null,
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why `send_and_ping` and not `send_message`, here and throughout?  Doesn't seem like it would make a difference, and maybe it's best that we don't have extraneous pings and pongs.",
      "created_at": "2020-06-24T00:46:35Z",
      "updated_at": "2020-06-24T01:30:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r444583585",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444583585"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 73,
      "original_line": 73,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444585462",
      "pull_request_review_id": 436250936,
      "id": 444585462,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU4NTQ2Mg==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)",
      "path": "test/functional/p2p_ping.py",
      "position": 12,
      "original_position": 12,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "in_reply_to_id": null,
      "user": {
        "login": "troygiorshev",
        "id": 5553787,
        "node_id": "MDQ6VXNlcjU1NTM3ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5553787?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/troygiorshev",
        "html_url": "https://github.com/troygiorshev",
        "followers_url": "https://api.github.com/users/troygiorshev/followers",
        "following_url": "https://api.github.com/users/troygiorshev/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/troygiorshev/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/troygiorshev/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/troygiorshev/subscriptions",
        "organizations_url": "https://api.github.com/users/troygiorshev/orgs",
        "repos_url": "https://api.github.com/users/troygiorshev/repos",
        "events_url": "https://api.github.com/users/troygiorshev/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/troygiorshev/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit: single line for a single import?",
      "created_at": "2020-06-24T00:53:44Z",
      "updated_at": "2020-06-24T01:30:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r444585462",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/444585462"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": 10,
      "original_start_line": 10,
      "start_side": "RIGHT",
      "line": 12,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452859253",
      "pull_request_review_id": 446421613,
      "id": 452859253,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg1OTI1Mw==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=3)\n+\n+        self.log.info('Reply without nonce cancels ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Short payload']):\n+            no_pong_node.send_and_ping(msg_pong_corrupt())\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Reply without ping')\n+        with self.nodes[0].assert_debug_log([\n+                'pong peer=0: Unsolicited pong without ping, 0 expected, 0 received, 8 bytes',\n+        ]):\n+            no_pong_node.send_and_ping(msg_pong())",
      "path": "test/functional/p2p_ping.py",
      "position": 73,
      "original_position": 73,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "in_reply_to_id": 444583585,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I don't like to use `assert_debug_log` as a way to synchronize/poll for a change\r\n\r\n`send_and_ping` is a way to flush all messages in the buffer (on both sides, send and receive) and ensure they are processed (and any errors have been logged).",
      "created_at": "2020-07-10T13:55:34Z",
      "updated_at": "2020-07-10T13:55:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r452859253",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452859253"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 73,
      "original_line": 73,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452860611",
      "pull_request_review_id": 446423325,
      "id": 452860611,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg2MDYxMQ==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0",
      "path": "test/functional/p2p_ping.py",
      "position": 61,
      "original_position": 61,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "in_reply_to_id": 444582868,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I wasn't aware that `message_count` exists, nor am I using it in this test. Given that it is almost unused right now and causes (potential) confusion, I'd say to remove it",
      "created_at": "2020-07-10T13:57:44Z",
      "updated_at": "2020-07-10T13:57:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r452860611",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452860611"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 61,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452861030",
      "pull_request_review_id": 446423905,
      "id": 452861030,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg2MTAzMA==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)",
      "path": "test/functional/p2p_ping.py",
      "position": 12,
      "original_position": 12,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "in_reply_to_id": 444585462,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Good point. Can be fixed in a follow-up",
      "created_at": "2020-07-10T13:58:26Z",
      "updated_at": "2020-07-10T13:58:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r452861030",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452861030"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": 10,
      "original_start_line": 10,
      "start_side": "RIGHT",
      "line": 12,
      "original_line": 12,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452863651",
      "pull_request_review_id": 446427537,
      "id": 452863651,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg2MzY1MQ==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0",
      "path": "test/functional/p2p_ping.py",
      "position": 61,
      "original_position": 61,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "in_reply_to_id": 444582868,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "the reason I use pop is to ensure the value is discarded after a read and has no way to poison follow-up test cases",
      "created_at": "2020-07-10T14:03:00Z",
      "updated_at": "2020-07-10T14:03:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r452863651",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452863651"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 61,
      "original_line": 61,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452864246",
      "pull_request_review_id": 446428329,
      "id": 452864246,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg2NDI0Ng==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)",
      "path": "test/functional/p2p_ping.py",
      "position": 60,
      "original_position": 60,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "in_reply_to_id": 443501995,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "`peertimeout` is wall clock time, not mock time, I think. So this can be any value, as long as it matches pingwait=3 below, I'd say",
      "created_at": "2020-07-10T14:04:03Z",
      "updated_at": "2020-07-10T14:04:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r452864246",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452864246"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 60,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452864695",
      "pull_request_review_id": 446428908,
      "id": 452864695,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg2NDY5NQ==",
      "diff_hunk": "@@ -0,0 +1,123 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test ping message\n+\"\"\"\n+\n+import time\n+\n+from test_framework.messages import (\n+    msg_pong,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    wait_until,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+PING_INTERVAL = 2 * 60\n+\n+\n+class msg_pong_corrupt(msg_pong):\n+    def serialize(self):\n+        return b\"\"\n+\n+\n+class NodePongAdd1(P2PInterface):\n+    def on_ping(self, message):\n+        self.send_message(msg_pong(message.nonce + 1))\n+\n+\n+class NodeNoPong(P2PInterface):\n+    def on_ping(self, message):\n+        pass\n+\n+\n+class PingPongTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        self.extra_args = [['-peertimeout=3']]\n+\n+    def check_peer_info(self, *, pingtime, minping, pingwait):\n+        stats = self.nodes[0].getpeerinfo()[0]\n+        assert_equal(stats.pop('pingtime', None), pingtime)\n+        assert_equal(stats.pop('minping', None), minping)\n+        assert_equal(stats.pop('pingwait', None), pingwait)\n+\n+    def mock_forward(self, delta):\n+        self.mock_time += delta\n+        self.nodes[0].setmocktime(self.mock_time)\n+\n+    def run_test(self):\n+        self.mock_time = int(time.time())\n+        self.mock_forward(0)\n+\n+        self.log.info('Check that ping is sent after connection is established')\n+        no_pong_node = self.nodes[0].add_p2p_connection(NodeNoPong())\n+        self.mock_forward(3)\n+        assert no_pong_node.last_message.pop('ping').nonce != 0\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=3)\n+\n+        self.log.info('Reply without nonce cancels ping')\n+        with self.nodes[0].assert_debug_log(['pong peer=0: Short payload']):\n+            no_pong_node.send_and_ping(msg_pong_corrupt())\n+        self.check_peer_info(pingtime=None, minping=None, pingwait=None)\n+\n+        self.log.info('Reply without ping')\n+        with self.nodes[0].assert_debug_log([\n+                'pong peer=0: Unsolicited pong without ping, 0 expected, 0 received, 8 bytes',\n+        ]):\n+            no_pong_node.send_and_ping(msg_pong())",
      "path": "test/functional/p2p_ping.py",
      "position": 73,
      "original_position": 73,
      "commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "original_commit_id": "fa3365430c5fb57d7c0b5f2bce9fbbe290be93c3",
      "in_reply_to_id": 444583585,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Also, sending a ping and receiving a ping should never interfere, unless I am missing something obvious",
      "created_at": "2020-07-10T14:04:46Z",
      "updated_at": "2020-07-10T14:04:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/18638#discussion_r452864695",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452864695"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18638"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 73,
      "original_line": 73,
      "side": "RIGHT"
    }
  ]
}