{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100",
    "id": 1439745604,
    "node_id": "PR_kwDOABII585V0MZE",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28100",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28100.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28100.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28100",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28100/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
    "number": 28100,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "crypto: more `Span<std::byte>` modernization & follow-ups",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This modernizes the ChaCha20 and ChaCha20Aligned interfaces to be `Span<std::byte>` based, and other improvements.\r\n\r\n* Removes our OpenSSH-inspired variant of the ChaCha20Poly1305 AEAD (which was added in anticipation of BIP324 using it, but the spec was later changed to using the RFC8439 one unmodified). #28008 replaces the code anyway, so it is pointless to apply the refectoring done in this PR to that old code.\r\n* Modifies all functions and constructors of `ChaCha20` and `ChaCha20Aligned` to be `Span<std::byte>` based.\r\n* Remove default constructors, to make sure all call sites provide a key (suggested in https://github.com/bitcoin/bitcoin/pull/26153#discussion_r1129313162)\r\n* Wipe key material on destruction for security (suggested in https://github.com/bitcoin/bitcoin/pull/26153#discussion_r1267164605)\r\n* Use `HexStr` on byte vectors in tests (suggested in https://github.com/bitcoin/bitcoin/pull/27993#discussion_r1262023316)\r\n* Support `std::byte` vectors in `ConsumeRandomLengthByteVector` and `ConsumeFixedLengthByteVector`, and use it (suggested in https://github.com/bitcoin/bitcoin/pull/27993#discussion_r1265337111)\r\n* And a few more.\r\n\r\nWhile related, I don't see this as a necessary for BIP324. Some changes here are also in #28008, but either or both can go in.",
    "labels": [
      {
        "id": 241832923,
        "node_id": "MDU6TGFiZWwyNDE4MzI5MjM=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs",
        "name": "Utils/log/libs",
        "description": "",
        "color": "5319e7",
        "default": false
      }
    ],
    "created_at": "2023-07-18T18:34:20Z",
    "updated_at": "2023-08-14T02:28:52Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "2698577becdf42eae33890b6e1620a163097006c",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "sipa:202307_crypto_modern",
      "ref": "202307_crypto_modern",
      "sha": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 1458655,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNDU4NjU1",
        "name": "bitcoin",
        "full_name": "sipa/bitcoin",
        "owner": {
          "login": "sipa",
          "id": 548488,
          "node_id": "MDQ6VXNlcjU0ODQ4OA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sipa",
          "html_url": "https://github.com/sipa",
          "followers_url": "https://api.github.com/users/sipa/followers",
          "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
          "organizations_url": "https://api.github.com/users/sipa/orgs",
          "repos_url": "https://api.github.com/users/sipa/repos",
          "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/sipa/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/sipa/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/sipa/bitcoin",
        "archive_url": "https://api.github.com/repos/sipa/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/sipa/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/sipa/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/sipa/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/sipa/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/sipa/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/sipa/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/sipa/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/sipa/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/sipa/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/sipa/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/sipa/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/sipa/bitcoin/events",
        "forks_url": "https://api.github.com/repos/sipa/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/sipa/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/sipa/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/sipa/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/sipa/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/sipa/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/sipa/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/sipa/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/sipa/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/sipa/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/sipa/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/sipa/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/sipa/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/sipa/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/sipa/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/sipa/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:sipa/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/sipa/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/sipa/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/sipa/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/sipa/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/sipa/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/sipa/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/sipa/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/sipa/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/sipa/bitcoin/hooks",
        "svn_url": "https://github.com/sipa/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "TypeScript",
        "forks_count": 22,
        "stargazers_count": 85,
        "watchers_count": 85,
        "size": 218317,
        "default_branch": "lows",
        "open_issues_count": 16,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-14T01:17:20Z",
        "created_at": "2011-03-09T10:46:59Z",
        "updated_at": "2023-08-13T14:25:22Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "3654d84c6f53e5137f9208851ff904c248b4741f",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35523,
        "stargazers_count": 70786,
        "watchers_count": 70786,
        "size": 236416,
        "default_branch": "master",
        "open_issues_count": 686,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-14T01:17:28Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-14T02:57:59Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 236,
    "deletions": 231,
    "changed_files": 12,
    "commits": 5,
    "review_comments": 19,
    "comments": 3
  },
  "events": [
    {
      "event": "commented",
      "id": 1640746176,
      "node_id": "IC_kwDOABII585hy8zA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1640746176",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-18T18:34:23Z",
      "updated_at": "2023-08-14T01:17:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [theStack](https://github.com/bitcoin/bitcoin/pull/28100#issuecomment-1668735071) |\n| Stale ACK | [MarcoFalke](https://github.com/bitcoin/bitcoin/pull/28100#pullrequestreview-1535733421) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28196](https://github.com/bitcoin/bitcoin/pull/28196) (BIP324 connection support by sipa)\n* [#28008](https://github.com/bitcoin/bitcoin/pull/28008) (BIP324 ciphersuite by sipa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#issuecomment-1640746176",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28100"
    },
    {
      "event": "labeled",
      "id": 9854073221,
      "node_id": "LE_lADOABII585r6chXzwAAAAJLWTmF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9854073221",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-18T18:34:25Z",
      "label": {
        "name": "Utils/log/libs",
        "color": "5319e7"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-18T18:36:23Z",
      "updated_at": "2023-07-18T18:36:23Z",
      "source": {
        "issue": {
          "id": 1381623925,
          "node_id": "PR_kwDOABII584_YzZB",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26153",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26153/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26153/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26153/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/26153",
          "number": 26153,
          "state": "closed",
          "state_reason": null,
          "title": "Reduce wasted pseudorandom bytes in ChaCha20 + various improvements",
          "body": "This is an alternative to #25354 (by my benchmarking, somewhat faster), subsumes #25712, and adds additional test vectors.\r\n\r\nIt separates the multiple-of-64-bytes-only \"core\" logic (which becomes simpler) from a layer around which performs caching/slicing to support arbitrary byte amounts. Both have their uses (in particular, the MuHash3072 code can benefit from multiple-of-64-bytes assumptions), plus the separation results in more readable code. Also, since FastRandomContext effectively had its own (more naive) caching on top of ChaCha20, that can be dropped in favor of ChaCha20's new built-in caching.\r\n\r\nI thought about rebasing #25712 on top of this, but the changes before are fairly extensive, so redid it instead.",
          "user": {
            "login": "sipa",
            "id": 548488,
            "node_id": "MDQ6VXNlcjU0ODQ4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sipa",
            "html_url": "https://github.com/sipa",
            "followers_url": "https://api.github.com/users/sipa/followers",
            "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
            "organizations_url": "https://api.github.com/users/sipa/orgs",
            "repos_url": "https://api.github.com/users/sipa/repos",
            "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sipa/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26153",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/26153",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/26153.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/26153.patch"
          },
          "closed_at": "2023-02-15T14:59:06Z",
          "created_at": "2022-09-21T23:22:32Z",
          "updated_at": "2023-07-18T18:37:33Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "reviewed",
      "id": 1535729596,
      "node_id": "PRR_kwDOABII585biV-8",
      "url": null,
      "actor": null,
      "commit_id": "9e1199c7ce5d9a29c6ddf3dc28d8814bb1190a64",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#pullrequestreview-1535729596",
      "submitted_at": "2023-07-18T19:10:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9854519815,
      "node_id": "HRFPE_lADOABII585r6chXzwAAAAJLYAoH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9854519815",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-18T19:16:33Z"
    },
    {
      "event": "renamed",
      "id": 9855375676,
      "node_id": "RTE_lADOABII585r6chXzwAAAAJLbRk8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9855375676",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-18T20:53:06Z",
      "rename": {
        "from": "crypto: ChaCha20 `Span<std::byte>` modernization & follow-ups",
        "to": "crypto: more `Span<std::byte>` modernization & follow-ups"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-18T20:56:28Z",
      "updated_at": "2023-07-18T20:56:28Z",
      "source": {
        "issue": {
          "id": 1779254691,
          "node_id": "PR_kwDOABII585UKHAb",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27993",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27993/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27993/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27993/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27993",
          "number": 27993,
          "state": "closed",
          "state_reason": null,
          "title": "Make poly1305 support incremental computation + modernize",
          "body": "Our current Poly1305 code (src/crypto/poly1305.*) only supports computing the entire tag in one go (the `poly1305_auth` function takes a key and message, and outputs the tag). However, the RFC8439 authenticated encryption (as used in BIP324, see #27634) scheme makes use of Poly1305 in a way where the message consists of 3 different pieces:\r\n* The additionally authenticated data (AAD), padded to 16 bytes.\r\n* The ciphertext, padded to 16 bytes.\r\n* The length of the AAD and the length of the ciphertext, together another 16 bytes.\r\n\r\nImplementing RFC8439 using the existing `poly1305_auth` function requires creating a temporary copy with all these pieces of data concatenated just for the purpose of computing the tag (the approach used in #25361).\r\n\r\nThis PR replaces the poly1305 code with new code from https://github.com/floodyberry/poly1305-donna (with minor adjustments to make it match our coding style and use our utility functions, documented in the commit) which supports incremental operation, and then adds a C++ wrapper interface using std::byte Spans around it, and adds tests that incremental and all-at-once computation match.",
          "user": {
            "login": "sipa",
            "id": 548488,
            "node_id": "MDQ6VXNlcjU0ODQ4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sipa",
            "html_url": "https://github.com/sipa",
            "followers_url": "https://api.github.com/users/sipa/followers",
            "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
            "organizations_url": "https://api.github.com/users/sipa/orgs",
            "repos_url": "https://api.github.com/users/sipa/repos",
            "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sipa/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27993",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27993",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27993.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27993.patch"
          },
          "closed_at": "2023-07-17T22:31:02Z",
          "created_at": "2023-06-28T16:01:35Z",
          "updated_at": "2023-07-18T20:56:57Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9855544716,
      "node_id": "HRFPE_lADOABII585r6chXzwAAAAJLb62M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9855544716",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-18T21:15:52Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-18T22:33:05Z",
      "updated_at": "2023-07-18T22:33:05Z",
      "source": {
        "issue": {
          "id": 1781568480,
          "node_id": "PR_kwDOABII585UR_qx",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28008",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28008/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28008/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28008/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28008",
          "number": 28008,
          "state": "closed",
          "state_reason": null,
          "title": "BIP324 ciphersuite",
          "body": "Depends on #27985 and #27993, based on and partially replaces #25361, part of #27634. Draft while dependencies are not merged.\r\n\r\nThis adds implementations of:\r\n* The ChaCha20Poly1305 AEAD from [RFC8439 section 2.8](https://datatracker.ietf.org/doc/html/rfc8439#section-2.8), including test vectors.\r\n* The FSChaCha20 stream cipher as specified in [BIP324](https://github.com/bitcoin/bips/blob/master/bip-0324.mediawiki#rekeying-wrappers-fschacha20poly1305-and-fschacha20), a rekeying wrapper around ChaCha20.\r\n* The FSChaCha20Poly1305 AEAD as specified in [BIP324](https://github.com/bitcoin/bips/blob/master/bip-0324.mediawiki#rekeying-wrappers-fschacha20poly1305-and-fschacha20), a rekeying wrapper around ChaCha20Poly1305.\r\n* A BIP324Cipher class that encapsulates key agreement, key derivation, and stream ciphers and AEADs for [BIP324 packet encoding](https://github.com/bitcoin/bips/blob/master/bip-0324.mediawiki#overall-packet-encryption-and-decryption-pseudocode).\r\n\r\nThe ChaCha20Poly1305 and FSChaCha20Poly1305 implementations are new, taking advance of the improvements in #27993.\r\n",
          "user": {
            "login": "sipa",
            "id": 548488,
            "node_id": "MDQ6VXNlcjU0ODQ4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sipa",
            "html_url": "https://github.com/sipa",
            "followers_url": "https://api.github.com/users/sipa/followers",
            "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
            "organizations_url": "https://api.github.com/users/sipa/orgs",
            "repos_url": "https://api.github.com/users/sipa/repos",
            "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sipa/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28008",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28008",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28008.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28008.patch"
          },
          "closed_at": "2023-08-10T09:59:16Z",
          "created_at": "2023-06-29T22:00:17Z",
          "updated_at": "2023-08-13T23:10:36Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-02T06:36:41Z",
      "updated_at": "2023-08-02T06:36:41Z",
      "source": {
        "issue": {
          "id": 1831769418,
          "node_id": "PR_kwDOABII585W74nW",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28196",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28196/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28196/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28196/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28196",
          "number": 28196,
          "state": "open",
          "state_reason": null,
          "title": "BIP324 connection support",
          "body": "Builds on top of #28008 and #28165, and part of #27634. Draft while dependencies and (more) tests are missing.\r\n\r\nThis implements the BIP324 v2 transport and application layer. It is currently only accessible through the test-only `-bip324=` command-line option, which specifies IPs, host names, or subnets for which to use BIP324 connections. This option is only added in order to make experimentation possible; I don't expect it will be supported long-term (or should even remain in this PR).\r\n\r\nStill missing features are:\r\n* Support for the `NODE_P2P_V2` service flag.\r\n* Automatically trying V2 connections when the service flag is set.\r\n* Retrying downgrade to V1 when attempted outbound V2 connections immediately fail.\r\n* P2P functional tests (only a fuzz test for the transport is included, and a few bitcoind-to-bitcoind functional tests)\r\n\r\nOther than that, support for V2 connections is functionally complete, including:\r\n* Autodetection of incoming V1 connections.\r\n* Garbage, both sending and receiving.\r\n* Short message type IDs, both sending and receiving.\r\n* Ignore packets (receiving only, and untested).\r\n* Session IDs are visible in `getpeerinfo` output (for manual comparison).\r\n",
          "user": {
            "login": "sipa",
            "id": 548488,
            "node_id": "MDQ6VXNlcjU0ODQ4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sipa",
            "html_url": "https://github.com/sipa",
            "followers_url": "https://api.github.com/users/sipa/followers",
            "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
            "organizations_url": "https://api.github.com/users/sipa/orgs",
            "repos_url": "https://api.github.com/users/sipa/repos",
            "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sipa/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28196",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28196",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28196.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28196.patch"
          },
          "created_at": "2023-08-01T17:56:58Z",
          "updated_at": "2023-08-11T02:00:12Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "review_requested",
      "id": 9985234718,
      "node_id": "RRE_lADOABII585r6chXzwAAAAJTKpce",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9985234718",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-02T08:37:15Z",
      "requested_reviewer": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "review_requester": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      }
    },
    {
      "event": "commented",
      "id": 1668735071,
      "node_id": "IC_kwDOABII585jduBf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1668735071",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-08T00:19:35Z",
      "updated_at": "2023-08-08T00:19:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#issuecomment-1668735071",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28100"
    },
    {
      "event": "reviewed",
      "id": 1535733421,
      "node_id": "PRR_kwDOABII585biW6t",
      "url": null,
      "actor": null,
      "commit_id": "153a6745fa523a3fd0ccce1304ceb75d4511df20",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "nice ACK 153a6745fa523a3fd0ccce1304ceb75d4511df20 🔖\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: nice ACK 153a6745fa523a3fd0ccce1304ceb75d4511df20 🔖\r\npMD3fmJquqJLFEdbollqeq+L8nBymi3uLOeQKTb65R/+y65NKCnTWqnk7Flu+t57wNz+Avhshe+x1CU260NoDA==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#pullrequestreview-1535733421",
      "submitted_at": "2023-08-08T11:30:32Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
    },
    {
      "event": "labeled",
      "id": 10058110050,
      "node_id": "LE_lADOABII585r6chXzwAAAAJXgpRi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10058110050",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-10T11:12:14Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJjMGE3MTQ1ZWI1MzdlMjhkNzc1ZmI4MDRkODU2ZGM0NjQyZDg1NTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bc0a7145eb537e28d775fb804d856dc4642d8551",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bc0a7145eb537e28d775fb804d856dc4642d8551",
      "tree": {
        "sha": "15e457a57f447683be5206bfae96c4ff7d84f227",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/15e457a57f447683be5206bfae96c4ff7d84f227"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3654d84c6f53e5137f9208851ff904c248b4741f",
          "sha": "3654d84c6f53e5137f9208851ff904c248b4741f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3654d84c6f53e5137f9208851ff904c248b4741f"
        }
      ],
      "message": "crypto: refactor ChaCha20 classes to use Span<std::byte> interface",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2023-08-14T01:12:53Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2023-07-18T14:11:49Z"
      },
      "sha": "bc0a7145eb537e28d775fb804d856dc4642d8551"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZjNjU3ZmNmMTY3ZGY2OGJiZDQ5YzIwMTEzNGJjMTBiZDYwMDFkY2Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc657fcf167df68bbd49c201134bc10bd6001dcf",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fc657fcf167df68bbd49c201134bc10bd6001dcf",
      "tree": {
        "sha": "c5a0a688120f5dd095ec5cff16ca1e74798f7d13",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c5a0a688120f5dd095ec5cff16ca1e74798f7d13"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bc0a7145eb537e28d775fb804d856dc4642d8551",
          "sha": "bc0a7145eb537e28d775fb804d856dc4642d8551",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bc0a7145eb537e28d775fb804d856dc4642d8551"
        }
      ],
      "message": "random: simplify FastRandomContext::randbytes using fillrand",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2023-08-14T01:12:57Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2023-08-14T01:12:07Z"
      },
      "sha": "fc657fcf167df68bbd49c201134bc10bd6001dcf"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIxMzM0NzkwZjkxODc2MjlkMmI2MTAwNGViODNmYzhhMjQxMTNjNWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b1334790f9187629d2b61004eb83fc8a24113c5e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b1334790f9187629d2b61004eb83fc8a24113c5e",
      "tree": {
        "sha": "967d5f4c6011f25515bcd69a8a7f25aad914b91a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/967d5f4c6011f25515bcd69a8a7f25aad914b91a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc657fcf167df68bbd49c201134bc10bd6001dcf",
          "sha": "fc657fcf167df68bbd49c201134bc10bd6001dcf",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fc657fcf167df68bbd49c201134bc10bd6001dcf"
        }
      ],
      "message": "crypto: require key on ChaCha20 initialization",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2023-08-14T01:12:57Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2023-07-18T17:52:52Z"
      },
      "sha": "b1334790f9187629d2b61004eb83fc8a24113c5e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU5OGI3ZDhlNjUzYWIyNDdmZjNlZDQ0Mzg0YzI2NTRjNTRjZDU3NWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e98b7d8e653ab247ff3ed44384c2654c54cd575b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e98b7d8e653ab247ff3ed44384c2654c54cd575b",
      "tree": {
        "sha": "6f063354c1e387543ee2e4a3968182a811ba9882",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6f063354c1e387543ee2e4a3968182a811ba9882"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b1334790f9187629d2b61004eb83fc8a24113c5e",
          "sha": "b1334790f9187629d2b61004eb83fc8a24113c5e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b1334790f9187629d2b61004eb83fc8a24113c5e"
        }
      ],
      "message": "fuzz: support std::byte in Consume{Fixed,Variable}LengthByteVector",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2023-08-14T01:12:57Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2023-07-18T20:48:01Z"
      },
      "sha": "e98b7d8e653ab247ff3ed44384c2654c54cd575b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFhZmFmZGVjZjE1ZTIwMjVjMTU2ZGJmNjRkMDMyNDdjYzdmOGZhN2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "tree": {
        "sha": "93d5e03bed6b7571d34bc6df02b8833689673a9c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/93d5e03bed6b7571d34bc6df02b8833689673a9c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e98b7d8e653ab247ff3ed44384c2654c54cd575b",
          "sha": "e98b7d8e653ab247ff3ed44384c2654c54cd575b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e98b7d8e653ab247ff3ed44384c2654c54cd575b"
        }
      ],
      "message": "tests: miscellaneous hex / std::byte improvements",
      "committer": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2023-08-14T01:12:57Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2023-07-18T20:52:08Z"
      },
      "sha": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10081093300,
      "node_id": "HRFPE_lADOABII585r6chXzwAAAAJY4Ua0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10081093300",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-14T01:17:26Z"
    },
    {
      "event": "unlabeled",
      "id": 10081357068,
      "node_id": "UNLE_lADOABII585r6chXzwAAAAJY5U0M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10081357068",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-14T02:19:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1676582994,
      "node_id": "IC_kwDOABII585j7qBS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1676582994",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-14T02:28:51Z",
      "updated_at": "2023-08-14T02:28:51Z",
      "author_association": "MEMBER",
      "body": "Rebased after merge of #28008, and addresses feedback. I've dropped the `Crypt` -> `Encrypt` / `Decrypt` change as I felt the duplication that resulted wasn't worth it anymore.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#issuecomment-1676582994",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28100"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267196895",
      "pull_request_review_id": 1535729596,
      "id": 1267196895,
      "node_id": "PRRC_kwDOABII585Lh-Pf",
      "diff_hunk": "@@ -664,8 +665,8 @@ FastRandomContext::FastRandomContext(bool fDeterministic) noexcept : requires_se\n     if (!fDeterministic) {\n         return;\n     }\n-    uint256 seed;\n-    rng.SetKey32(seed.begin());\n+    static constexpr std::array<std::byte, rng.KEYLEN> ZERO{};",
      "path": "src/random.cpp",
      "position": null,
      "original_position": 56,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "9e1199c7ce5d9a29c6ddf3dc28d8814bb1190a64",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "In commit 9e1199c7ce5\r\n\r\n```\r\nrandom.cpp:668:44: error: non-type template argument is not a constant expression\r\n    static constexpr std::array<std::byte, rng.KEYLEN> ZERO{};\r\n                                           ^~~~~~~~~~\r\nrandom.cpp:668:44: note: implicit use of 'this' pointer is only allowed within the evaluation of a call to a 'constexpr' member function\r\n1 error generated.\r\n```\r\n\r\n```\r\n$ clang --version\r\nHomebrew clang version 16.0.6\r\nTarget: arm64-apple-darwin22.5.0\r\nThread model: posix\r\nInstalledDir: /opt/homebrew/opt/llvm/bin\r\n```\r\n",
      "created_at": "2023-07-18T19:10:18Z",
      "updated_at": "2023-07-18T19:10:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1267196895",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267196895"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 668,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267199359",
      "pull_request_review_id": 1535733421,
      "id": 1267199359,
      "node_id": "PRRC_kwDOABII585Lh-1_",
      "diff_hunk": "@@ -13,13 +13,13 @@ static const uint64_t BUFFER_SIZE_LARGE = 1024*1024;\n \n static void CHACHA20(benchmark::Bench& bench, size_t buffersize)\n {\n-    std::vector<uint8_t> key(32,0);\n-    ChaCha20 ctx(key.data());\n-    ctx.Seek64({0, 0}, 0);\n-    std::vector<uint8_t> in(buffersize,0);\n-    std::vector<uint8_t> out(buffersize,0);\n+    std::vector<std::byte> key(32, std::byte{});",
      "path": "src/bench/chacha20.cpp",
      "position": null,
      "original_position": 9,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "9e1199c7ce5d9a29c6ddf3dc28d8814bb1190a64",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 9e1199c7ce5d9a29c6ddf3dc28d8814bb1190a64: Can replace `std::byte{}` with `{}`, if it compiles, same below?",
      "created_at": "2023-07-18T19:13:06Z",
      "updated_at": "2023-08-08T11:30:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1267199359",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267199359"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267203493",
      "pull_request_review_id": 1535740449,
      "id": 1267203493,
      "node_id": "PRRC_kwDOABII585Lh_2l",
      "diff_hunk": "@@ -664,8 +665,8 @@ FastRandomContext::FastRandomContext(bool fDeterministic) noexcept : requires_se\n     if (!fDeterministic) {\n         return;\n     }\n-    uint256 seed;\n-    rng.SetKey32(seed.begin());\n+    static constexpr std::array<std::byte, rng.KEYLEN> ZERO{};",
      "path": "src/random.cpp",
      "position": null,
      "original_position": 56,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "9e1199c7ce5d9a29c6ddf3dc28d8814bb1190a64",
      "in_reply_to_id": 1267196895,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Strange that GCC doesn't complain about this. Fixed.",
      "created_at": "2023-07-18T19:16:41Z",
      "updated_at": "2023-07-18T19:16:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1267203493",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267203493"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 668,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267206399",
      "pull_request_review_id": 1535733421,
      "id": 1267206399,
      "node_id": "PRRC_kwDOABII585LiAj_",
      "diff_hunk": "@@ -595,7 +596,7 @@ std::vector<B> FastRandomContext::randbytes(size_t len)\n     if (requires_seed) RandomSeed();\n     std::vector<B> ret(len);\n     if (len > 0) {\n-        rng.Keystream(UCharCast(ret.data()), len);\n+        rng.Keystream(MakeWritableByteSpan(ret));",
      "path": "src/random.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "2ff930de1c7f4683d0a7a72970683e21bf20ba73",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "9e1199c7ce5d9a29c6ddf3dc28d8814bb1190a64: Could replace this whole function with:\r\n\r\n```cpp\r\nfillrand(MakeWritableByteSpan(ret));",
      "created_at": "2023-07-18T19:18:40Z",
      "updated_at": "2023-08-08T11:30:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1267206399",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267206399"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": 596,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 599,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267214464",
      "pull_request_review_id": 1535733421,
      "id": 1267214464,
      "node_id": "PRRC_kwDOABII585LiCiA",
      "diff_hunk": "@@ -15,11 +15,12 @@ FUZZ_TARGET(crypto_chacha20)\n {\n     FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n \n-    ChaCha20 chacha20;\n-    if (fuzzed_data_provider.ConsumeBool()) {\n-        const std::vector<unsigned char> key = ConsumeFixedLengthByteVector(fuzzed_data_provider, 32);\n-        chacha20 = ChaCha20{MakeByteSpan(key)};\n-    }\n+    // Just for compatibility with old seeds (it used to test the default constructor which used zero key)\n+    if (!fuzzed_data_provider.ConsumeBool()) return;",
      "path": "src/test/fuzz/crypto_chacha20.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "b1faef7cf4d8133546e348ddb4541d688f74f2ae",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Any reason to do this? Fuzz inputs may already invalidate for any code change and maintaining compat for some code changes seems inconsistent, will bloat the fuzz code, and cause maintenance overhead in the future.\r\n\r\nWould be good to either remove this, or if you *actually* want to maintain compat use a ternary operator:\r\n\r\n```cpp\r\nconst auto key{fdp.ConsumeBool()?ConsumeFixedLen(...):std::vec<std::byte>(32)};",
      "created_at": "2023-07-18T19:22:34Z",
      "updated_at": "2023-08-08T11:30:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1267214464",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267214464"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267215003",
      "pull_request_review_id": 1535733421,
      "id": 1267215003,
      "node_id": "PRRC_kwDOABII585LiCqb",
      "diff_hunk": "@@ -267,20 +267,16 @@ void ECRYPT_keystream_bytes(ECRYPT_ctx* x, u8* stream, u32 bytes)\n \n FUZZ_TARGET(crypto_diff_fuzz_chacha20)\n {\n-    static const unsigned char ZEROKEY[32] = {0};\n     FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n \n-    ChaCha20 chacha20;\n     ECRYPT_ctx ctx;\n \n-    if (fuzzed_data_provider.ConsumeBool()) {\n-        const std::vector<unsigned char> key = ConsumeFixedLengthByteVector(fuzzed_data_provider, 32);\n-        chacha20 = ChaCha20{MakeByteSpan(key)};\n-        ECRYPT_keysetup(&ctx, key.data(), key.size() * 8, 0);\n-    } else {\n-        // The default ChaCha20 constructor is equivalent to using the all-0 key.\n-        ECRYPT_keysetup(&ctx, ZEROKEY, 256, 0);\n-    }\n+    // Just for compatibility with old seeds (it used to test the default constructor which used zero key)\n+    if (!fuzzed_data_provider.ConsumeBool()) return;",
      "path": "src/test/fuzz/crypto_diff_fuzz_chacha20.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "b1faef7cf4d8133546e348ddb4541d688f74f2ae",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "same",
      "created_at": "2023-07-18T19:22:48Z",
      "updated_at": "2023-08-08T11:30:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1267215003",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1267215003"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 275,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286960165",
      "pull_request_review_id": 1535733421,
      "id": 1286960165,
      "node_id": "PRRC_kwDOABII585MtXQl",
      "diff_hunk": "@@ -23,14 +26,26 @@ class ChaCha20Aligned\n private:\n     uint32_t input[12];\n \n+    /** en/deciphers the message <input> and write the result into <output>\n+     *\n+     * The size of input and output must be equal, and be a multiple of BLOCKLEN.\n+     */\n+    void Crypt(Span<const std::byte> input, Span<std::byte> output) noexcept;\n+\n public:\n-    ChaCha20Aligned();\n+    /** Expected key length in constructor and SetKey32. */",
      "path": "src/crypto/chacha20.h",
      "position": null,
      "original_position": 22,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "2ff930de1c7f4683d0a7a72970683e21bf20ba73",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "2ff930de1c7f4683d0a7a72970683e21bf20ba73: SetKey. (no 32)",
      "created_at": "2023-08-08T11:03:52Z",
      "updated_at": "2023-08-08T11:30:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1286960165",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286960165"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286961781",
      "pull_request_review_id": 1535733421,
      "id": 1286961781,
      "node_id": "PRRC_kwDOABII585MtXp1",
      "diff_hunk": "@@ -148,29 +154,35 @@ inline void ChaCha20Aligned::Keystream64(unsigned char* c, size_t blocks)\n             return;\n         }\n         blocks -= 1;\n-        c += 64;\n+        c += BLOCKLEN;\n     }\n }\n \n-inline void ChaCha20Aligned::Crypt64(const unsigned char* m, unsigned char* c, size_t blocks)\n+inline void ChaCha20Aligned::Crypt(Span<const std::byte> input, Span<std::byte> output) noexcept\n {\n+    assert(input.size() == output.size());\n+    const unsigned char* m = UCharCast(input.data());\n+    unsigned char* c = UCharCast(output.data());\n+    size_t blocks = output.size() / BLOCKLEN;\n+    assert(blocks * BLOCKLEN == output.size());\n+\n     uint32_t x0, x1, x2, x3, x4, x5, x6, x7, x8, x9, x10, x11, x12, x13, x14, x15;\n     uint32_t j4, j5, j6, j7, j8, j9, j10, j11, j12, j13, j14, j15;\n \n     if (!blocks) return;\n \n-    j4 = input[0];\n-    j5 = input[1];\n-    j6 = input[2];\n-    j7 = input[3];\n-    j8 = input[4];\n-    j9 = input[5];\n-    j10 = input[6];\n-    j11 = input[7];\n-    j12 = input[8];\n-    j13 = input[9];\n-    j14 = input[10];\n-    j15 = input[11];\n+    j4 = this->input[0];\n+    j5 = this->input[1];\n+    j6 = this->input[2];\n+    j7 = this->input[3];\n+    j8 = this->input[4];\n+    j9 = this->input[5];\n+    j10 = this->input[6];\n+    j11 = this->input[7];\n+    j12 = this->input[8];\n+    j13 = this->input[9];\n+    j14 = this->input[10];\n+    j15 = this->input[11];",
      "path": "src/crypto/chacha20.cpp",
      "position": null,
      "original_position": 116,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "2ff930de1c7f4683d0a7a72970683e21bf20ba73",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "2ff930de1c7f4683d0a7a72970683e21bf20ba73: My preference would be to instead base this on a new commit that just does a `input` -> `m_input` (\"scripted-diff\") rename",
      "created_at": "2023-08-08T11:05:34Z",
      "updated_at": "2023-08-08T11:30:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1286961781",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286961781"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286968172",
      "pull_request_review_id": 1535733421,
      "id": 1286968172,
      "node_id": "PRRC_kwDOABII585MtZNs",
      "diff_hunk": "@@ -166,14 +166,14 @@ static void TestChaCha20(const std::string &hex_message, const std::string &hexk\n         lens[1] = InsecureRandRange(hexout.size() / 2U + 1U - lens[0]);\n         lens[2] = hexout.size() / 2U - lens[0] - lens[1];\n \n-        rng.Seek64(nonce, seek);\n-        outres.assign(hexout.size() / 2U, 0);\n+        rng.Seek(nonce, seek);\n+        outres.assign(hexout.size() / 2U, std::byte{});",
      "path": "src/test/crypto_tests.cpp",
      "position": null,
      "original_position": 45,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "2ff930de1c7f4683d0a7a72970683e21bf20ba73",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "nit in 2ff930de1c7f4683d0a7a72970683e21bf20ba73: Could use `{}` over `std::byte{}`, if it compiles?",
      "created_at": "2023-08-08T11:12:13Z",
      "updated_at": "2023-08-08T11:30:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1286968172",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286968172"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 170,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286971030",
      "pull_request_review_id": 1535733421,
      "id": 1286971030,
      "node_id": "PRRC_kwDOABII585MtZ6W",
      "diff_hunk": "@@ -681,20 +681,20 @@ BOOST_AUTO_TEST_CASE(chacha20_testvector)\n \n BOOST_AUTO_TEST_CASE(chacha20_midblock)\n {\n-    auto key = ParseHex(\"0000000000000000000000000000000000000000000000000000000000000000\");\n-    ChaCha20 c20{key.data()};\n+    auto key = ParseHex<std::byte>(\"0000000000000000000000000000000000000000000000000000000000000000\");\n+    ChaCha20 c20{key};\n     // get one block of keystream\n-    unsigned char block[64];\n-    c20.Keystream(block, sizeof(block));\n-    unsigned char b1[5], b2[7], b3[52];\n-    c20 = ChaCha20{key.data()};\n-    c20.Keystream(b1, 5);\n-    c20.Keystream(b2, 7);\n-    c20.Keystream(b3, 52);\n-\n-    BOOST_CHECK_EQUAL(0, memcmp(b1, block, 5));\n-    BOOST_CHECK_EQUAL(0, memcmp(b2, block + 5, 7));\n-    BOOST_CHECK_EQUAL(0, memcmp(b3, block + 12, 52));\n+    std::byte block[64];\n+    c20.Keystream(block);\n+    std::byte b1[5], b2[7], b3[52];\n+    c20 = ChaCha20{key};\n+    c20.Keystream(b1);\n+    c20.Keystream(b2);\n+    c20.Keystream(b3);\n+\n+    BOOST_CHECK(Span{block}.first(5) == Span{b1});\n+    BOOST_CHECK(Span{block}.subspan(5, 7) == Span{b2});\n+    BOOST_CHECK(Span{block}.last(52) == Span{b3});",
      "path": "src/test/crypto_tests.cpp",
      "position": 147,
      "original_position": 87,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "2ff930de1c7f4683d0a7a72970683e21bf20ba73",
      "in_reply_to_id": null,
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "unrelated: In C++20, we'll probably have to provide overloads for `operator==(std::span, std::span)`, because equality checks are only defined in the std lib for containers that store memory, it seems.",
      "created_at": "2023-08-08T11:15:05Z",
      "updated_at": "2023-08-08T11:30:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1286971030",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286971030"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 839,
      "original_line": 839,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292896983",
      "pull_request_review_id": 1575947161,
      "id": 1292896983,
      "node_id": "PRRC_kwDOABII585NEArX",
      "diff_hunk": "@@ -13,13 +13,13 @@ static const uint64_t BUFFER_SIZE_LARGE = 1024*1024;\n \n static void CHACHA20(benchmark::Bench& bench, size_t buffersize)\n {\n-    std::vector<uint8_t> key(32,0);\n-    ChaCha20 ctx(key.data());\n-    ctx.Seek64({0, 0}, 0);\n-    std::vector<uint8_t> in(buffersize,0);\n-    std::vector<uint8_t> out(buffersize,0);\n+    std::vector<std::byte> key(32, std::byte{});",
      "path": "src/bench/chacha20.cpp",
      "position": null,
      "original_position": 9,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "9e1199c7ce5d9a29c6ddf3dc28d8814bb1190a64",
      "in_reply_to_id": 1267199359,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-08-14T01:17:35Z",
      "updated_at": "2023-08-14T01:17:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1292896983",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292896983"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 16,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897040",
      "pull_request_review_id": 1575947241,
      "id": 1292897040,
      "node_id": "PRRC_kwDOABII585NEAsQ",
      "diff_hunk": "@@ -595,7 +596,7 @@ std::vector<B> FastRandomContext::randbytes(size_t len)\n     if (requires_seed) RandomSeed();\n     std::vector<B> ret(len);\n     if (len > 0) {\n-        rng.Keystream(UCharCast(ret.data()), len);\n+        rng.Keystream(MakeWritableByteSpan(ret));",
      "path": "src/random.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "2ff930de1c7f4683d0a7a72970683e21bf20ba73",
      "in_reply_to_id": 1267206399,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done in a separate commit.",
      "created_at": "2023-08-14T01:17:48Z",
      "updated_at": "2023-08-14T01:17:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1292897040",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897040"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": 596,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 599,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897098",
      "pull_request_review_id": 1575947333,
      "id": 1292897098,
      "node_id": "PRRC_kwDOABII585NEAtK",
      "diff_hunk": "@@ -15,11 +15,12 @@ FUZZ_TARGET(crypto_chacha20)\n {\n     FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n \n-    ChaCha20 chacha20;\n-    if (fuzzed_data_provider.ConsumeBool()) {\n-        const std::vector<unsigned char> key = ConsumeFixedLengthByteVector(fuzzed_data_provider, 32);\n-        chacha20 = ChaCha20{MakeByteSpan(key)};\n-    }\n+    // Just for compatibility with old seeds (it used to test the default constructor which used zero key)\n+    if (!fuzzed_data_provider.ConsumeBool()) return;",
      "path": "src/test/fuzz/crypto_chacha20.cpp",
      "position": null,
      "original_position": 10,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "b1faef7cf4d8133546e348ddb4541d688f74f2ae",
      "in_reply_to_id": 1267214464,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've dropped it.",
      "created_at": "2023-08-14T01:18:06Z",
      "updated_at": "2023-08-14T01:18:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1292897098",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897098"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 19,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897136",
      "pull_request_review_id": 1575947401,
      "id": 1292897136,
      "node_id": "PRRC_kwDOABII585NEAtw",
      "diff_hunk": "@@ -267,20 +267,16 @@ void ECRYPT_keystream_bytes(ECRYPT_ctx* x, u8* stream, u32 bytes)\n \n FUZZ_TARGET(crypto_diff_fuzz_chacha20)\n {\n-    static const unsigned char ZEROKEY[32] = {0};\n     FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n \n-    ChaCha20 chacha20;\n     ECRYPT_ctx ctx;\n \n-    if (fuzzed_data_provider.ConsumeBool()) {\n-        const std::vector<unsigned char> key = ConsumeFixedLengthByteVector(fuzzed_data_provider, 32);\n-        chacha20 = ChaCha20{MakeByteSpan(key)};\n-        ECRYPT_keysetup(&ctx, key.data(), key.size() * 8, 0);\n-    } else {\n-        // The default ChaCha20 constructor is equivalent to using the all-0 key.\n-        ECRYPT_keysetup(&ctx, ZEROKEY, 256, 0);\n-    }\n+    // Just for compatibility with old seeds (it used to test the default constructor which used zero key)\n+    if (!fuzzed_data_provider.ConsumeBool()) return;",
      "path": "src/test/fuzz/crypto_diff_fuzz_chacha20.cpp",
      "position": null,
      "original_position": 19,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "b1faef7cf4d8133546e348ddb4541d688f74f2ae",
      "in_reply_to_id": 1267215003,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I've dropped it.",
      "created_at": "2023-08-14T01:18:17Z",
      "updated_at": "2023-08-14T01:18:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1292897136",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897136"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 275,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897165",
      "pull_request_review_id": 1575947461,
      "id": 1292897165,
      "node_id": "PRRC_kwDOABII585NEAuN",
      "diff_hunk": "@@ -23,14 +26,26 @@ class ChaCha20Aligned\n private:\n     uint32_t input[12];\n \n+    /** en/deciphers the message <input> and write the result into <output>\n+     *\n+     * The size of input and output must be equal, and be a multiple of BLOCKLEN.\n+     */\n+    void Crypt(Span<const std::byte> input, Span<std::byte> output) noexcept;\n+\n public:\n-    ChaCha20Aligned();\n+    /** Expected key length in constructor and SetKey32. */",
      "path": "src/crypto/chacha20.h",
      "position": null,
      "original_position": 22,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "2ff930de1c7f4683d0a7a72970683e21bf20ba73",
      "in_reply_to_id": 1286960165,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-08-14T01:18:25Z",
      "updated_at": "2023-08-14T01:18:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1292897165",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897165"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897357",
      "pull_request_review_id": 1575947768,
      "id": 1292897357,
      "node_id": "PRRC_kwDOABII585NEAxN",
      "diff_hunk": "@@ -148,29 +154,35 @@ inline void ChaCha20Aligned::Keystream64(unsigned char* c, size_t blocks)\n             return;\n         }\n         blocks -= 1;\n-        c += 64;\n+        c += BLOCKLEN;\n     }\n }\n \n-inline void ChaCha20Aligned::Crypt64(const unsigned char* m, unsigned char* c, size_t blocks)\n+inline void ChaCha20Aligned::Crypt(Span<const std::byte> input, Span<std::byte> output) noexcept\n {\n+    assert(input.size() == output.size());\n+    const unsigned char* m = UCharCast(input.data());\n+    unsigned char* c = UCharCast(output.data());\n+    size_t blocks = output.size() / BLOCKLEN;\n+    assert(blocks * BLOCKLEN == output.size());\n+\n     uint32_t x0, x1, x2, x3, x4, x5, x6, x7, x8, x9, x10, x11, x12, x13, x14, x15;\n     uint32_t j4, j5, j6, j7, j8, j9, j10, j11, j12, j13, j14, j15;\n \n     if (!blocks) return;\n \n-    j4 = input[0];\n-    j5 = input[1];\n-    j6 = input[2];\n-    j7 = input[3];\n-    j8 = input[4];\n-    j9 = input[5];\n-    j10 = input[6];\n-    j11 = input[7];\n-    j12 = input[8];\n-    j13 = input[9];\n-    j14 = input[10];\n-    j15 = input[11];\n+    j4 = this->input[0];\n+    j5 = this->input[1];\n+    j6 = this->input[2];\n+    j7 = this->input[3];\n+    j8 = this->input[4];\n+    j9 = this->input[5];\n+    j10 = this->input[6];\n+    j11 = this->input[7];\n+    j12 = this->input[8];\n+    j13 = this->input[9];\n+    j14 = this->input[10];\n+    j15 = this->input[11];",
      "path": "src/crypto/chacha20.cpp",
      "position": null,
      "original_position": 116,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "2ff930de1c7f4683d0a7a72970683e21bf20ba73",
      "in_reply_to_id": 1286961781,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I have instead used different argument names (`in_bytes` and `out_bytes`) to avoid a collision with the member variable altogether.",
      "created_at": "2023-08-14T01:19:13Z",
      "updated_at": "2023-08-14T01:19:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1292897357",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897357"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 185,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897379",
      "pull_request_review_id": 1575947817,
      "id": 1292897379,
      "node_id": "PRRC_kwDOABII585NEAxj",
      "diff_hunk": "@@ -166,14 +166,14 @@ static void TestChaCha20(const std::string &hex_message, const std::string &hexk\n         lens[1] = InsecureRandRange(hexout.size() / 2U + 1U - lens[0]);\n         lens[2] = hexout.size() / 2U - lens[0] - lens[1];\n \n-        rng.Seek64(nonce, seek);\n-        outres.assign(hexout.size() / 2U, 0);\n+        rng.Seek(nonce, seek);\n+        outres.assign(hexout.size() / 2U, std::byte{});",
      "path": "src/test/crypto_tests.cpp",
      "position": null,
      "original_position": 45,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "2ff930de1c7f4683d0a7a72970683e21bf20ba73",
      "in_reply_to_id": 1286968172,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2023-08-14T01:19:22Z",
      "updated_at": "2023-08-14T01:19:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1292897379",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292897379"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 170,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292898612",
      "pull_request_review_id": 1575949763,
      "id": 1292898612,
      "node_id": "PRRC_kwDOABII585NEBE0",
      "diff_hunk": "@@ -681,20 +681,20 @@ BOOST_AUTO_TEST_CASE(chacha20_testvector)\n \n BOOST_AUTO_TEST_CASE(chacha20_midblock)\n {\n-    auto key = ParseHex(\"0000000000000000000000000000000000000000000000000000000000000000\");\n-    ChaCha20 c20{key.data()};\n+    auto key = ParseHex<std::byte>(\"0000000000000000000000000000000000000000000000000000000000000000\");\n+    ChaCha20 c20{key};\n     // get one block of keystream\n-    unsigned char block[64];\n-    c20.Keystream(block, sizeof(block));\n-    unsigned char b1[5], b2[7], b3[52];\n-    c20 = ChaCha20{key.data()};\n-    c20.Keystream(b1, 5);\n-    c20.Keystream(b2, 7);\n-    c20.Keystream(b3, 52);\n-\n-    BOOST_CHECK_EQUAL(0, memcmp(b1, block, 5));\n-    BOOST_CHECK_EQUAL(0, memcmp(b2, block + 5, 7));\n-    BOOST_CHECK_EQUAL(0, memcmp(b3, block + 12, 52));\n+    std::byte block[64];\n+    c20.Keystream(block);\n+    std::byte b1[5], b2[7], b3[52];\n+    c20 = ChaCha20{key};\n+    c20.Keystream(b1);\n+    c20.Keystream(b2);\n+    c20.Keystream(b3);\n+\n+    BOOST_CHECK(Span{block}.first(5) == Span{b1});\n+    BOOST_CHECK(Span{block}.subspan(5, 7) == Span{b2});\n+    BOOST_CHECK(Span{block}.last(52) == Span{b3});",
      "path": "src/test/crypto_tests.cpp",
      "position": 147,
      "original_position": 87,
      "commit_id": "aafafdecf15e2025c156dbf64d03247cc7f8fa7b",
      "original_commit_id": "2ff930de1c7f4683d0a7a72970683e21bf20ba73",
      "in_reply_to_id": 1286971030,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Indeed, I'm aware.\r\n\r\nJust brainstorming at this point, but perhaps we don't want to actually add an overload for an STL class operator. Perhaps `std::ranges::equal` can be used instead. ",
      "created_at": "2023-08-14T01:24:14Z",
      "updated_at": "2023-08-14T01:24:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28100#discussion_r1292898612",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1292898612"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28100"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 839,
      "original_line": 839,
      "side": "RIGHT"
    }
  ]
}