{
  "type": "issue",
  "issue": {
    "id": 1871935131,
    "node_id": "I_kwDOABII585vk3ab",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28365",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28365/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28365/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28365/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/28365",
    "number": 28365,
    "state": "open",
    "state_reason": null,
    "title": "ci: error: one or more PCH files were found, but they were invalid",
    "body": "This has been reported by multiple contributors. I assume some sort of caching issue? Seems to happen intermittently. https://cirrus-ci.com/task/5028170181640192?logs=ci#L2664:\r\n```bash\r\nmake[4]: Entering directory '/ci_container_base/depends/work/build/i686-pc-linux-gnu/qt/5.15.5-ba80ab1130c/qtbase/src/testlib'\r\nmake[5]: Entering directory '/ci_container_base/depends/work/build/i686-pc-linux-gnu/qt/5.15.5-ba80ab1130c/qtbase/src/plugins/platforminputcontexts'\r\nmake[5]: Entering directory '/ci_container_base/depends/work/build/i686-pc-linux-gnu/qt/5.15.5-ba80ab1130c/qtbase/src/plugins/platforms'\r\ncc1plus: error: one or more PCH files were found, but they were invalid\r\ncc1plus: error: use -Winvalid-pch for more information\r\ncc1plus: error: one or more PCH files were found, but they were invalid\r\ncc1plus: error: use -Winvalid-pch for more information\r\ncc1plus: fatal error: .pch/Qt5Test: No such file or directory\r\ncc1plus: fatal error: .pch/Qt5Test: No such file or directory\r\ncompilation terminated.\r\ncompilation terminated.\r\ncc1plus: error: one or more PCH files were found, but they were invalid\r\ncc1plus: error: use -Winvalid-pch for more information\r\ncc1plus: fatal error: .pch/Qt5Test: No such file or directory\r\ncompilation terminated.\r\ncc1plus: error: one or more PCH files were found, but they were invalid\r\ncc1plus: error: use -Winvalid-pch for more information\r\nmake[4]: *** [Makefile:2113: .obj/qtestcase.o] Error 1\r\nmake[4]: *** Waiting for unfinished jobs....\r\nmake[4]: *** [Makefile:2292: .obj/qtestlog.o] Error 1\r\nmake[4]: *** [Makefile:2435: .obj/qtesttable.o] Error 1\r\ncc1plus: fatal error: .pch/Qt5Test: No such file or directory\r\ncompilation terminated.\r\nmake[5]: Entering directory '/ci_container_base/depends/work/build/i686-pc-linux-gnu/qt/5.15.5-ba80ab1130c/qtbase/src/plugins/platformthemes'\r\nmake[4]: *** [Makefile:2578: .obj/qtestdata.o] Error 1\r\ncc1plus: error: one or more PCH files were found, but they were invalid\r\ncc1plus: error: use -Winvalid-pch for more information\r\ncc1plus: fatal error: .pch/Qt5Test: No such file or directory\r\ncompilation terminated.\r\nmake[4]: *** [Makefile:2944: .obj/qtestresult.o] Error 1\r\nmake[4]: Leaving directory '/ci_container_base/depends/work/build/i686-pc-linux-gnu/qt/5.15.5-ba80ab1130c/qtbase/src/testlib'\r\nmake[3]: *** [Makefile:298: sub-testlib-make_first] Error 2\r\nmake[3]: *** Waiting for unfinished jobs....\r\n```\r\n\r\nNot sure why Qt is even trying to use pch on a Linux build, as it was meant to be disabled by #20520.",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 5,
    "created_at": "2023-08-29T15:36:07Z",
    "updated_at": "2023-08-30T09:32:23Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 10222924923,
      "node_id": "LE_lADOABII585vk3abzwAAAAJhVXR7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10222924923",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T15:36:07Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "commented",
      "id": 1697707752,
      "node_id": "IC_kwDOABII585lMPbo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1697707752",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T15:45:04Z",
      "updated_at": "2023-08-29T15:45:04Z",
      "author_association": "MEMBER",
      "body": "Well, Qt configure summary shows:\r\n```\r\n  Using precompiled headers .............. yes\r\n```\r\n\r\n> Not sure why Qt is even trying to use pch on a Linux build, as it was meant to be disabled by #20520.\r\n\r\nThe `-pch` option was not forced in that PR.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/28365#issuecomment-1697707752",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28365"
    },
    {
      "event": "commented",
      "id": 1697837720,
      "node_id": "IC_kwDOABII585lMvKY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1697837720",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T17:10:39Z",
      "updated_at": "2023-08-29T17:10:39Z",
      "author_association": "MEMBER",
      "body": "Ok, I realize the cache may not be atomic. It is a container volume, and if the task is cancelled and the container is killed, it will leave the cache at the current state, which may be \"broken\".\r\n\r\nUsually this shouldn't be an issue, because depends (and ccache) will use some heuristics to check if a cache is valid, but in this case, the heuristic may have failed?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/28365#issuecomment-1697837720",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28365"
    },
    {
      "event": "commented",
      "id": 1697841853,
      "node_id": "IC_kwDOABII585lMwK9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1697841853",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T17:14:02Z",
      "updated_at": "2023-08-29T17:14:02Z",
      "author_association": "MEMBER",
      "body": "Obviously it is possible to manually delete the cache on the machine with `podman volume rm --all`, but I wonder if there is a better solution.",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/28365#issuecomment-1697841853",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28365"
    },
    {
      "event": "commented",
      "id": 1697869721,
      "node_id": "IC_kwDOABII585lM2-Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1697869721",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T17:35:12Z",
      "updated_at": "2023-08-29T17:35:25Z",
      "author_association": "MEMBER",
      "body": "I guess volumes can be removed and stored on cirrus again, when run on cirrus. See commit 5fffff54e9fcf154c722dc421025a567fa0c5c97 and commit fad006fa0a8de7b527e9f7b50306921df7a2069a",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/28365#issuecomment-1697869721",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28365"
    },
    {
      "event": "commented",
      "id": 1698823180,
      "node_id": "IC_kwDOABII585lQfwM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1698823180",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-30T09:32:23Z",
      "updated_at": "2023-08-30T09:32:23Z",
      "author_association": "MEMBER",
      "body": "I've double checked Qt build logs (current and historical) and can confirm that Qt build scripts are correct.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/28365#issuecomment-1698823180",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28365"
    }
  ]
}