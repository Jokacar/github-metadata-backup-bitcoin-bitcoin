{
  "type": "issue",
  "issue": {
    "id": 844056788,
    "node_id": "MDU6SXNzdWU4NDQwNTY3ODg=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/21552",
    "number": 21552,
    "state": "open",
    "state_reason": null,
    "title": "ci: ccache does not work for macOS cross-compiling builds",
    "body": "https://cirrus-ci.com/task/6268895175639040?logs=ci#L3869:\r\n```\r\nccache version 3.7.7\r\ncache directory                     /tmp/ccache_dir\r\nprimary config                      /tmp/ccache_dir/ccache.conf\r\nsecondary config      (readonly)    /etc/ccache.conf\r\nstats updated                       Tue Mar 30 01:48:58 2021\r\nstats zeroed                        Tue Mar 30 01:21:25 2021\r\ncache hit (direct)                     0\r\ncache hit (preprocessed)               0\r\ncache miss                             0\r\ncache hit rate                      0.00 %\r\ncalled for link                       10\r\nmultiple source files                636\r\ncleanups performed                     0\r\nfiles in cache                         0\r\ncache size                           0.0 kB\r\nmax cache size                     200.0 MB\r\n```",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      },
      {
        "id": 234879,
        "node_id": "MDU6TGFiZWwyMzQ4Nzk=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/macOS",
        "name": "macOS",
        "description": "",
        "color": "660000",
        "default": false
      },
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 13,
    "created_at": "2021-03-30T04:25:43Z",
    "updated_at": "2023-08-16T09:06:27Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 4525076993,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ1MjUwNzY5OTM=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4525076993",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-30T04:25:43Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "labeled",
      "id": 4525077936,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ1MjUwNzc5MzY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4525077936",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-30T04:26:07Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "labeled",
      "id": 4525078351,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDQ1MjUwNzgzNTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4525078351",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-30T04:26:18Z",
      "label": {
        "name": "macOS",
        "color": "660000"
      }
    },
    {
      "event": "commented",
      "id": 812471260,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjQ3MTI2MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/812471260",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-02T10:23:29Z",
      "updated_at": "2021-04-02T10:23:29Z",
      "author_association": "MEMBER",
      "body": "This line\r\n```\r\nmultiple source files                636\r\n```\r\ndescribes a little. According to `ccache` [docs](https://ccache.dev/manual/4.2.1.html#_cache_statistics):\r\n> The compiler was called to compile multiple source files in one go. This is not supported by ccache.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-812471260",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "commented",
      "id": 812476355,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjQ3NjM1NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/812476355",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-02T10:39:12Z",
      "updated_at": "2021-04-02T10:39:12Z",
      "author_association": "MEMBER",
      "body": "@dongcarl \r\n\r\n`ccache` behavior was broken in 300733921863c176535806c40afdc813b99e7459 (#19683).",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-812476355",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "mentioned",
      "id": 4545281349,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDU0NTI4MTM0OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4545281349",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-02T10:39:13Z"
    },
    {
      "event": "subscribed",
      "id": 4545281351,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ1NDUyODEzNTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4545281351",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-02T10:39:13Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-02T10:41:37Z",
      "updated_at": "2021-04-02T10:41:37Z",
      "source": {
        "issue": {
          "id": 675170037,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDY0NzM0MDMw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19683",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19683/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19683/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19683/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/19683",
          "number": 19683,
          "state": "closed",
          "state_reason": null,
          "title": "depends: Pin clang search paths for darwin host",
          "body": "> Hello clang/lib/frontend,\r\n> I search your headers once again.\r\n> Because it's time for some housekeeping,\r\n> Within the code I was tweaking,\r\n> And the targets I was making with my build,\r\n> Are unfulfilled,\r\n> It's just language compliance.\r\n> \r\n> In reference works I scroll alone\r\n> Pages cribbed from holy tomes\r\n> In the details of a template\r\n> My code's behaviour has now found its fate\r\n> When my hopes were dashed as a note left it as described:\r\n> As undefined\r\n> It's not in compliance\r\n> \r\n> And from the standard text I saw\r\n> Ten thousand errors, maybe more\r\n> Threading used without locking\r\n> Pointers referenced after freeing\r\n> Linters writing warnings that coders will never fix\r\n> But still they tick\r\n> The box that claims compliance\r\n> \r\n> \"Fools,\" said I, \"you do not know\"\r\n> Errors, like a cancer, grow\r\n> Hear my words that I might reach you\r\n> Use -Wall and it might teach you\r\n> But my words and compiler errors fade.\r\n> Schedules forbade compliance.\r\n> \r\n> And the people bowed and prayed\r\n> With static checking torn and frayed\r\n> The markets flashed out their warning\r\n> In the words that they were forming\r\n> As recruiters said \"The search for more profits leads to writing stuff in CSS,\r\n> And node.js.\r\n> Without a need for compliance\"\r\n\r\nMany thanks to ajtowns for the above contribution!\r\n\r\n-----\r\n\r\nThis PR is ready for review!\r\n\r\nWhen cross-compiling for macOS, the SDK gives us the entire context/sysroot on which we should base the build. This means that we can be extremely specific w/re our search path ordering in order to avoid build problems that arise out of a user's specific environment/system setup and improve the robustness of our macOS toolchain. This PR does 2 things to this end:\r\n\r\n1. Unset environment variables which are known to alter search paths.\r\n1. Makes us (in the case of macOS builds) explicitly specify the list of system include search paths and its ordering, rather than rely on `clang`'s unreliable autodetection routine. Here is the [rabbit-hole gist](https://gist.github.com/dongcarl/5cdc6990b7599e8a5bf6d2a9c70e82f9).\r\n\r\n    See the added comments in `depends/hosts/darwin.mk` for more details:\r\n\r\n    https://github.com/bitcoin/bitcoin/blob/8b8296dc70a0aa5ca86d11ba5d3151fc56208e25/depends/hosts/darwin.mk#L37-L60\r\n\r\nWe can be this specific _only_ because macOS builds are neatly contained in an SDK, **and** we are cross-compiling. Native toolchains should rely on the environment/distro/user to know how best to build for the running system.\r\n\r\nNote: Although the `-u` flag of `env` is not a POSIX standard flag, it seems like it is useful enough to be implemented in [coreutils](https://www.gnu.org/software/coreutils/manual/html_node/env-invocation.html), [busybox](https://busybox.net/downloads/BusyBox.html#env), [FreeBSD](https://www.freebsd.org/cgi/man.cgi?env).",
          "user": {
            "login": "dongcarl",
            "id": 3445290,
            "node_id": "MDQ6VXNlcjM0NDUyOTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dongcarl",
            "html_url": "https://github.com/dongcarl",
            "followers_url": "https://api.github.com/users/dongcarl/followers",
            "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
            "organizations_url": "https://api.github.com/users/dongcarl/orgs",
            "repos_url": "https://api.github.com/users/dongcarl/repos",
            "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/dongcarl/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 14,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19683",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/19683",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/19683.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/19683.patch"
          },
          "closed_at": "2021-01-08T05:12:26Z",
          "created_at": "2020-08-07T17:41:36Z",
          "updated_at": "2022-08-16T17:07:26Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 813617518,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzYxNzUxOA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813617518",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-05T20:02:18Z",
      "updated_at": "2021-04-05T20:04:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "Was this not the case before 300733921863c176535806c40afdc813b99e7459? I'm not entirely sure how that commit makes it so that \"the compiler was called to compile multiple source files in one go\"",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-813617518",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "commented",
      "id": 813709017,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxMzcwOTAxNw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813709017",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-05T23:33:20Z",
      "updated_at": "2021-04-05T23:34:51Z",
      "author_association": "MEMBER",
      "body": "> I'm not entirely sure how that commit makes it so that \"the compiler was called to compile multiple source files in one go\"\r\n\r\nI believe this is because `ccache` do not support invoking a compiler that prefixed with `env` command.\r\n\r\nFWIW, if I inject `ccache` between `env` and `clang`, it works fine.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-813709017",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "commented",
      "id": 816321294,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxNjMyMTI5NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/816321294",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-09T00:33:15Z",
      "updated_at": "2021-04-09T00:33:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "> FWIW, if I inject `ccache` between `env` and `clang`, it works fine.\r\n\r\nWhat is the ccache stats output if you inject `ccache` between `env` and `clang`?",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-816321294",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "commented",
      "id": 816606324,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgxNjYwNjMyNA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/816606324",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-09T11:07:24Z",
      "updated_at": "2021-04-09T11:07:24Z",
      "author_association": "MEMBER",
      "body": "@dongcarl \r\n\r\nWith the following patch\r\n```diff\r\ndiff --git a/depends/hosts/darwin.mk b/depends/hosts/darwin.mk\r\nindex dd71697f0..8a7c3a791 100644\r\n--- a/depends/hosts/darwin.mk\r\n+++ b/depends/hosts/darwin.mk\r\n@@ -98,6 +98,7 @@ $(foreach TOOL,$(cctools_TOOLS),$(eval darwin_$(TOOL) = $$(build_prefix)/bin/$$(\r\n darwin_CC=env -u C_INCLUDE_PATH -u CPLUS_INCLUDE_PATH \\\r\n               -u OBJC_INCLUDE_PATH -u OBJCPLUS_INCLUDE_PATH -u CPATH \\\r\n               -u LIBRARY_PATH \\\r\n+            /usr/bin/ccache \\\r\n             $(clang_prog) --target=$(host) -mmacosx-version-min=$(OSX_MIN_VERSION) \\\r\n               -B$(build_prefix)/bin -mlinker-version=$(LD64_VERSION) \\\r\n               --sysroot=$(OSX_SDK) \\\r\n@@ -106,6 +107,7 @@ darwin_CC=env -u C_INCLUDE_PATH -u CPLUS_INCLUDE_PATH \\\r\n darwin_CXX=env -u C_INCLUDE_PATH -u CPLUS_INCLUDE_PATH \\\r\n                -u OBJC_INCLUDE_PATH -u OBJCPLUS_INCLUDE_PATH -u CPATH \\\r\n                -u LIBRARY_PATH \\\r\n+            /usr/bin/ccache \\\r\n              $(clangxx_prog) --target=$(host) -mmacosx-version-min=$(OSX_MIN_VERSION) \\\r\n                -B$(build_prefix)/bin -mlinker-version=$(LD64_VERSION) \\\r\n                --sysroot=$(OSX_SDK) \\\r\n```\r\n\r\n- the first run\r\n```\r\n$ CONFIG_SITE=$PWD/depends/x86_64-apple-darwin18/share/config.site ./configure --disable-ccache\r\n$ ccache --zero-stats\r\n$ make\r\n$ ccache --show-stats \r\ncache directory                     /home/hebasto/.ccache\r\nprimary config                      /home/hebasto/.ccache/ccache.conf\r\nsecondary config      (readonly)    /etc/ccache.conf\r\nstats updated                       Fri Apr  9 14:03:35 2021\r\nstats zeroed                        Fri Apr  9 13:59:19 2021\r\ncache hit (direct)                   521\r\ncache hit (preprocessed)               1\r\ncache miss                           647\r\ncache hit rate                     44.65 %\r\ncalled for link                       12\r\ncleanups performed                     2\r\nfiles in cache                     24070\r\ncache size                          13.0 GB\r\nmax cache size                      15.0 GB\r\n```\r\n- the second run\r\n```\r\n$ make clean\r\n$ ccache --zero-stats\r\n$ make\r\n$ ccache --show-stats \r\ncache directory                     /home/hebasto/.ccache\r\nprimary config                      /home/hebasto/.ccache/ccache.conf\r\nsecondary config      (readonly)    /etc/ccache.conf\r\nstats updated                       Fri Apr  9 14:04:47 2021\r\nstats zeroed                        Fri Apr  9 14:04:15 2021\r\ncache hit (direct)                   644\r\ncache hit (preprocessed)               2\r\ncache miss                             1\r\ncache hit rate                     99.85 %\r\ncalled for link                       11\r\ncleanups performed                     0\r\nfiles in cache                     24073\r\ncache size                          13.0 GB\r\nmax cache size                      15.0 GB\r\n```",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-816606324",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "mentioned",
      "id": 4573840758,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDU3Mzg0MDc1OA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4573840758",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-09T11:07:24Z"
    },
    {
      "event": "subscribed",
      "id": 4573840765,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ1NzM4NDA3NjU=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4573840765",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-04-09T11:07:24Z"
    },
    {
      "event": "commented",
      "id": 840754510,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg0MDc1NDUxMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/840754510",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-05-13T18:41:22Z",
      "updated_at": "2021-05-13T18:41:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "Urgh... That kinda sucks... I think the easiest solution is perhaps to wait until ccache 4.1 is available on all distros and set `compiler_type`/`CCACHE_COMPILERTYPE`?",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-840754510",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "commented",
      "id": 1072756234,
      "node_id": "IC_kwDOABII584_8PYK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1072756234",
      "actor": {
        "login": "prusnak",
        "id": 42201,
        "node_id": "MDQ6VXNlcjQyMjAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/42201?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/prusnak",
        "html_url": "https://github.com/prusnak",
        "followers_url": "https://api.github.com/users/prusnak/followers",
        "following_url": "https://api.github.com/users/prusnak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/prusnak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/prusnak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/prusnak/subscriptions",
        "organizations_url": "https://api.github.com/users/prusnak/orgs",
        "repos_url": "https://api.github.com/users/prusnak/repos",
        "events_url": "https://api.github.com/users/prusnak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/prusnak/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-18T19:59:52Z",
      "updated_at": "2022-03-18T19:59:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "> to wait until ccache 4.1 is available on all distros\r\n\r\n@dongcarl What do you mean by \"all distros\"?",
      "user": {
        "login": "prusnak",
        "id": 42201,
        "node_id": "MDQ6VXNlcjQyMjAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/42201?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/prusnak",
        "html_url": "https://github.com/prusnak",
        "followers_url": "https://api.github.com/users/prusnak/followers",
        "following_url": "https://api.github.com/users/prusnak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/prusnak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/prusnak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/prusnak/subscriptions",
        "organizations_url": "https://api.github.com/users/prusnak/orgs",
        "repos_url": "https://api.github.com/users/prusnak/repos",
        "events_url": "https://api.github.com/users/prusnak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/prusnak/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-1072756234",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "mentioned",
      "id": 6268445050,
      "node_id": "MEE_lADOABII584yT0jUzwAAAAF1oOF6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6268445050",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-18T19:59:52Z"
    },
    {
      "event": "subscribed",
      "id": 6268445058,
      "node_id": "SE_lADOABII584yT0jUzwAAAAF1oOGC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6268445058",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-18T19:59:52Z"
    },
    {
      "event": "commented",
      "id": 1072758897,
      "node_id": "IC_kwDOABII584_8QBx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1072758897",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-18T20:04:10Z",
      "updated_at": "2022-03-18T20:04:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "Sorry, probably better rephrased as \"available on stable versions of major distros\"... Sometimes I think we might need a configure script for depends lol",
      "user": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-1072758897",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "commented",
      "id": 1072765061,
      "node_id": "IC_kwDOABII584_8RiF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1072765061",
      "actor": {
        "login": "prusnak",
        "id": 42201,
        "node_id": "MDQ6VXNlcjQyMjAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/42201?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/prusnak",
        "html_url": "https://github.com/prusnak",
        "followers_url": "https://api.github.com/users/prusnak/followers",
        "following_url": "https://api.github.com/users/prusnak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/prusnak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/prusnak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/prusnak/subscriptions",
        "organizations_url": "https://api.github.com/users/prusnak/orgs",
        "repos_url": "https://api.github.com/users/prusnak/repos",
        "events_url": "https://api.github.com/users/prusnak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/prusnak/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-18T20:14:24Z",
      "updated_at": "2022-03-18T20:14:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "> \"available on stable versions of major distros\"\r\n\r\n* Debian 10 (old stable) has ccache 3.6\r\n* Debian 11 (stable) has ccache 4.2\r\n* Ubuntu 20.04 (latest LTS) has ccache 3.7.7\r\n* Ubuntu 21.04 has ccache 4.2\r\n* Ubuntu 21.10 has ccache 4.2.1\r\n* Ubuntu 22.04 (upcoming LTS) has ccache 4.5.1\r\n\r\nsrc: https://repology.org/project/ccache/versions",
      "user": {
        "login": "prusnak",
        "id": 42201,
        "node_id": "MDQ6VXNlcjQyMjAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/42201?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/prusnak",
        "html_url": "https://github.com/prusnak",
        "followers_url": "https://api.github.com/users/prusnak/followers",
        "following_url": "https://api.github.com/users/prusnak/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/prusnak/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/prusnak/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/prusnak/subscriptions",
        "organizations_url": "https://api.github.com/users/prusnak/orgs",
        "repos_url": "https://api.github.com/users/prusnak/repos",
        "events_url": "https://api.github.com/users/prusnak/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/prusnak/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-1072765061",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-20T12:08:26Z",
      "updated_at": "2022-03-20T12:08:26Z",
      "source": {
        "issue": {
          "id": 1174526380,
          "node_id": "PR_kwDOABII5840szHk",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24620",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24620/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24620/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/24620/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/24620",
          "number": 24620,
          "state": "closed",
          "state_reason": null,
          "title": "build: Fix ccache behavior when cross-compiling for darwin hosts",
          "body": "For `darwin` hosts we [use](https://github.com/bitcoin/bitcoin/blob/ae005a647ffa1d457c5c7a0528cb29f3b1937b96/depends/hosts/darwin.mk#L93-L110) the `env` command to run a compiler in a modified environment which in turn makes `ccache` effectively no-op. On master (ae005a647ffa1d457c5c7a0528cb29f3b1937b96):\r\n```\r\n$ cat /etc/os-release | grep VERSION=\r\nVERSION=\"22.04 (Jammy Jellyfish)\"\r\n$ ccache --version | head -1\r\nccache version 4.5.1\r\n$ make -C depends HOST=x86_64-apple-darwin\r\n$ ./autogen.sh\r\n$ CONFIG_SITE=$PWD/depends/x86_64-apple-darwin/share/config.site ./configure \r\n$ make clean\r\n$ ccache --zero-stats\r\n$ make\r\n$ ccache --show-stats -v\r\nSummary:\r\n  Cache directory:       /home/hebasto/.cache/ccache\r\n  Primary config:        /home/hebasto/.config/ccache/ccache.conf\r\n  Secondary config:      /etc/ccache.conf\r\n  Stats updated:         Sun Mar 20 12:33:01 2022\r\n  Hits:                      0 /    0\r\n    Direct:                  0 /    0\r\n    Preprocessed:            0 /    0\r\n  Misses:                    0\r\n    Direct:                  0\r\n    Preprocessed:            0\r\n  Uncacheable:             734\r\nPrimary storage:\r\n  Hits:                      0 /    0\r\n  Misses:                    0\r\n  Cache size (GB):        1.69 / 5.00 (33.87 %)\r\n  Files:                 11790\r\nUncacheable:\r\n  Called for linking:       14\r\n  Multiple source files:   720\r\n```\r\n\r\nWith this PR:\r\n```\r\n$ make -C depends HOST=x86_64-apple-darwin\r\n$ ./autogen.sh\r\n$ CONFIG_SITE=$PWD/depends/x86_64-apple-darwin/share/config.site ./configure \r\n$ make clean\r\n$ make\r\n$ make clean\r\n$ ccache --zero-stats\r\n$ make\r\n$ ccache --show-stats \r\nSummary:\r\n  Hits:             720 /  720 (100.0 %)\r\n    Direct:         720 /  720 (100.0 %)\r\n    Preprocessed:     0 /    0\r\n  Misses:             0\r\n    Direct:           0\r\n    Preprocessed:     0\r\n  Uncacheable:       14\r\nPrimary storage:\r\n  Hits:            1440 / 1440 (100.0 %)\r\n  Misses:             0\r\n  Cache size (GB): 1.74 / 5.00 (34.80 %)\r\n\r\nUse the -v/--verbose option for more details.\r\n```\r\n\r\nFixes bitcoin/bitcoin#21552.\r\n\r\n---\r\n\r\nAlso this PR improves efficiency of the \"macOS 10.15\" CI task:\r\n- master (e09cf64c48286176e7d080edfe901f47baa0a418), https://cirrus-ci.com/task/6266307669655552:\r\n![Screenshot from 2022-03-20 18-26-25](https://user-images.githubusercontent.com/32963518/159174705-77a68251-6366-45e8-a097-fd2b4089f511.png)\r\n\r\n- this PR, https://cirrus-ci.com/task/6033477492539392:\r\n![Screenshot from 2022-03-20 18-27-35](https://user-images.githubusercontent.com/32963518/159174752-620c6dca-d992-49fe-adf0-95a19be13518.png)\r\n",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 11,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/24620",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/24620",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/24620.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/24620.patch"
          },
          "closed_at": "2022-04-17T15:13:19Z",
          "created_at": "2022-03-20T12:08:25Z",
          "updated_at": "2023-08-16T08:53:32Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1073238049,
      "node_id": "IC_kwDOABII584_-FAh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1073238049",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-20T12:12:56Z",
      "updated_at": "2022-03-20T12:13:36Z",
      "author_association": "MEMBER",
      "body": "@dongcarl \r\n> Urgh... That kinda sucks... I think the easiest solution is perhaps to wait until ccache 4.1 is available on all distros and set `compiler_type`/`CCACHE_COMPILERTYPE`?\r\n\r\nI've tested this approach on Ubuntu 22.04 with ccache 4.5.1, and it doesn't work.\r\n\r\nOTOH, another [approach](https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-813709017) has been implemented in #24620.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-1073238049",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "mentioned",
      "id": 6271060634,
      "node_id": "MEE_lADOABII584yT0jUzwAAAAF1yMqa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6271060634",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-20T12:12:56Z"
    },
    {
      "event": "subscribed",
      "id": 6271060635,
      "node_id": "SE_lADOABII584yT0jUzwAAAAF1yMqb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6271060635",
      "actor": {
        "login": "dongcarl",
        "id": 3445290,
        "node_id": "MDQ6VXNlcjM0NDUyOTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dongcarl",
        "html_url": "https://github.com/dongcarl",
        "followers_url": "https://api.github.com/users/dongcarl/followers",
        "following_url": "https://api.github.com/users/dongcarl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dongcarl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dongcarl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
        "organizations_url": "https://api.github.com/users/dongcarl/orgs",
        "repos_url": "https://api.github.com/users/dongcarl/repos",
        "events_url": "https://api.github.com/users/dongcarl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dongcarl/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-03-20T12:12:56Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-11T15:43:23Z",
      "updated_at": "2022-06-11T15:43:23Z",
      "source": {
        "issue": {
          "id": 1264511158,
          "node_id": "PR_kwDOCIlA6s45TqQg",
          "url": "https://api.github.com/repos/hebasto/bitcoin/issues/3",
          "repository_url": "https://api.github.com/repos/hebasto/bitcoin",
          "labels_url": "https://api.github.com/repos/hebasto/bitcoin/issues/3/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/hebasto/bitcoin/issues/3/comments",
          "events_url": "https://api.github.com/repos/hebasto/bitcoin/issues/3/events",
          "html_url": "https://github.com/hebasto/bitcoin/pull/3",
          "number": 3,
          "state": "closed",
          "state_reason": null,
          "title": " [WIP] build: Add CMake-based build system ",
          "body": "**Benefits** of using CMake in the Bitcoin Core project:\r\n- no hacks required to build `dll` for Windows, even with `DEBUG=1` (see https://github.com/bitcoin/bitcoin/issues/19772)\r\n- better maintainability (say _bye_ to global variables)\r\n- easy integration with Qt 5 (compare [`src/qt/CMakeLists.txt`](https://github.com/hebasto/bitcoin/blob/cmake/pr/src/qt/CMakeLists.txt) vs [`build-aux/m4/bitcoin_qt.m4`](https://github.com/hebasto/bitcoin/blob/cmake/pr/build-aux/m4/bitcoin_qt.m4))\r\n- easy integration with [Qt 6](https://github.com/hebasto/bitcoin/pull/3#issuecomment-1153251584)\r\n- works fine with installed both Qt 5 and Qt 6 on Linux and macOS\r\n\r\n**Important notes**:\r\n- backward compatibility with Ubuntu Bionic (only CMake 3.10 is required)\r\n- see a new CI task :)\r\n- building in the source tree is [not supported](https://github.com/hebasto/bitcoin/pull/3#issuecomment-1157499334).\r\n\r\nDone:\r\n  - [X] `bitcoind` executable, could be disabled with `-DBUILD_DAEMON=OFF`\r\n  - [X] `bitcoin-cli` executable, could be disabled with `-DBUILD_CLI=OFF`\r\n  - [X] `libbitcoinconsensus` shared library, could be disabled with `-DBUILD_BITCOINCONSENSUS_LIB=OFF`\r\n  - [X] `libbitcoinkernel` shared library, could be disabled with `-DBUILD_BITCOINKERNEL_LIB=OFF`\r\n  - [X] wallet support, could be disabled with `-DENABLE_WALLET=OFF`\r\n  - [X] `bitcoin-qt` executable, could be specified with `-DWITH_GUI=Qt5` or `-DWITH_GUI=Qt6`, or disabled with `-DWITH_GUI=no` (no Android support)\r\n  - [X] `ccache` support, could be disabled with `-DUSE_CCACHE=OFF` (not working when cross-compiling for macOS, see bitcoin/bitcoin#21552 and bitcoin/bitcoin#24620)\r\n  - [X] cross-compiling, including Windows builds with `DEBUG=1`\r\n  - [X] reduce exported symbols support, could be enabled with `-DREDUCE_EXPORTS=ON`\r\n  - [X] optional packages support\r\n\r\nNot implemented yet:\r\n  - [ ] `bitcoin-qt` for Android\r\n  - [ ] ...\r\n\r\nNeed to be fixed:\r\n  - [ ] ...\r\n\r\n---\r\n\r\n### Native compiling has been tested on the following OSes:\r\n- Ubuntu 22.04\r\n- macOS Monterey\r\n- FreeBSD 12.3\r\n- OpenBSD 7.1\r\n```sh\r\nrm -rf build && cmake -S . -B build\r\ncmake --build build\r\n```\r\n\r\n### Native compiling on Ubuntu 22.04 with system Qt 6\r\n```sh\r\nsudo apt install qt6-base-dev qt6-l10n-tools qt6-tools-dev qt6-tools-dev-tools libxkbcommon-dev\r\nrm -rf build && cmake -S . -B build\r\ncmake --build build\r\n```\r\n\r\n### Native compiling on macOS Monterey with Homebrew's Qt 6\r\n```sh\r\nbrew install qt\r\nrm -rf build && cmake -S . -B build\r\ncmake --build build\r\n```\r\n\r\n### Cross compiling for Windows on Ubuntu 22.04\r\n```sh\r\nmake -C depends HOST=x86_64-w64-mingw32\r\nrm -rf build && cmake --toolchain depends/x86_64-w64-mingw32/share/toolchain.cmake -S . -B build\r\ncmake --build build\r\n```\r\n\r\n### Cross compiling for macOS on Ubuntu 22.04\r\n```sh\r\nmake -C depends HOST=x86_64-apple-darwin\r\nrm -rf build && cmake --toolchain depends/x86_64-apple-darwin/share/toolchain.cmake -S . -B build\r\ncmake --build build\r\n```\r\n\r\n---\r\n## Configuration Options Comparison Table (a draft)\r\n| Autotools | CMake |\r\n|---|---|\r\n| `--enable-ccache` |  `-DUSE_CCACHE=auto,yes,no` |\r\n\r\nOptional packages:\r\n| Autotools | CMake |\r\n|---|---|\r\n| `--with-gui` | `-DWITH_GUI=auto,Qt5,Qt6,no` |\r\n| `--with-natpmp` | `-DWITH_NATPMP=auto,yes,no` |\r\n| `--enable-natpmp-default` | `-DENABLE_NATPMP_DEFAULT=ON,OFF` |\r\n| `--with-miniupnpc` | `-DWITH_MINIUPNPC=auto,yes,no` |\r\n| `--enable-upnp-default` | `-DENABLE_UPNP_DEFAULT=ON,OFF` |\r\n| `--enable-zmq` |  `-DWITH_ZMQ=auto,yes,no` |\r\n| `--enable-usdt` |  `-DWITH_USDT=auto,yes,no` |\r\n| `--with-seccomp` |  `-DWITH_SECCOMP=auto,yes,no` |\r\n| `--with-qrencode` |  `-DWITH_QRENCODE=auto,yes,no` |\r\n\r\n---\r\n\r\n## Functional Tests\r\n\r\nFunctional tests can be run in exactly the same way as when building with Autotools out of the source tree, i.e.:\r\n```\r\n./build/test/functional/test_runner.py\r\n```\r\n\r\n---\r\n\r\nA related brainstorming issue: https://github.com/hebasto/bitcoin/issues/4.\r\n",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "OWNER",
          "locked": false,
          "comments": 52,
          "pull_request": {
            "url": "https://api.github.com/repos/hebasto/bitcoin/pulls/3",
            "html_url": "https://github.com/hebasto/bitcoin/pull/3",
            "diff_url": "https://github.com/hebasto/bitcoin/pull/3.diff",
            "patch_url": "https://github.com/hebasto/bitcoin/pull/3.patch"
          },
          "closed_at": "2023-02-17T10:38:44Z",
          "created_at": "2022-06-08T10:11:15Z",
          "updated_at": "2023-04-06T07:47:17Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-16T08:37:10Z",
      "updated_at": "2022-06-16T08:37:10Z",
      "source": {
        "issue": {
          "id": 1273240967,
          "node_id": "I_kwDOABII585L5B2H",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25387",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25387/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25387/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25387/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/25387",
          "number": 25387,
          "state": "closed",
          "state_reason": "completed",
          "title": "Depends build does not use ccache on macOS 12.4",
          "body": "I have ccache version 4.6.1 via homebrew. On master @ d6832217ef45ea0c858e3fcdec5d4fe87097c839:\r\n\r\n```sh\r\nccache -C\r\nccache --zero-stats\r\ncd depends\r\nmake NO_QT=1 NO_ZMQ=1 NO_BDB=1 NO_UPMP=1 NO_NATPMP=1\r\nccache --show-stats\r\n```\r\n\r\nThis builds a bunch of stuff, but nothing ends up in the ccache:\r\n\r\n```\r\nSummary:\r\n  Hits:               0 /     0\r\n    Direct:           0 /     0\r\n    Preprocessed:     0 /     0\r\n  Misses:             0\r\n    Direct:           0\r\n    Preprocessed:     0\r\nPrimary storage:\r\n  Hits:               0 /     0\r\n  Misses:             0\r\n  Cache size (GB): 0.00 / 10.00 (0.00 %)\r\n```\r\n\r\nPossibly related to #21552, but no cross-compilation is involved here.\r\n\r\nThis may have the case forever; I only noticed today while experimenting with `distcc`. This uses `$CCACHE_PREFIX=distcc` (which I disabled above) in order to first check the cache and only then distribute a compilation job. I noticed no jobs got distributed when building depends, which is annoying, because that's by far the slowest compilation task (part of why I rarely use it).",
          "user": {
            "login": "Sjors",
            "id": 10217,
            "node_id": "MDQ6VXNlcjEwMjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sjors",
            "html_url": "https://github.com/Sjors",
            "followers_url": "https://api.github.com/users/Sjors/followers",
            "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
            "organizations_url": "https://api.github.com/users/Sjors/orgs",
            "repos_url": "https://api.github.com/users/Sjors/repos",
            "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/Sjors/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 5,
          "closed_at": "2022-08-08T13:51:51Z",
          "created_at": "2022-06-16T08:37:10Z",
          "updated_at": "2023-08-08T10:18:52Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1157392282,
      "node_id": "IC_kwDOABII585E_Gea",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1157392282",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-06-16T08:39:14Z",
      "updated_at": "2022-06-16T09:43:36Z",
      "author_association": "MEMBER",
      "body": "Not just when cross-compiling. I made a separate issue #25387, because I'm not sure if it's the same (ccache 4.6.1).\r\n\r\n(nvm: it does work as far as I can tell, but doesn't use it by default)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-1157392282",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-08-17T20:19:50Z",
      "updated_at": "2022-08-17T20:19:50Z",
      "source": {
        "issue": {
          "id": 1330985812,
          "node_id": "PR_kwDOABII5848xLg6",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25797",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25797/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25797/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/25797/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/25797",
          "number": 25797,
          "state": "closed",
          "state_reason": null,
          "title": "build: Add CMake-based build system",
          "body": "Here are some benefits of using [CMake](https://cmake.org/) in the Bitcoin Core project:\r\n- an opportunity to drop the `build_msvc` subdirectory from the repo altogether (being a cross-platform tool, CMake is able to [create](https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html) input files for a wide range of build systems, including Unix Makefiles and Visual Studio project files)\r\n- no hacks required to build `dll`s for Windows, even with `DEBUG=1` (see https://github.com/bitcoin/bitcoin/issues/19772)\r\n- better maintainability (say _bye_ to global variables)\r\n- easy integration with [Qt 5](https://doc.qt.io/qt-5/cmake-manual.html)\r\n- easy integration with [Qt 6](https://doc.qt.io/qt-6.2/cmake-manual.html) in the nearest future (also see bitcoin/bitcoin#24798 and bitcoin/bitcoin#25191)\r\n\r\nMore Qt-specific details see below.\r\n\r\nAlso there is a non-technical/social benefit. Over time, the Autotools community shrinks, but CMake community grows. New contributors, who join this project in the future, will readily support a CMake-based system rather an Autotools-based one.\r\n\r\n---\r\n\r\n## Native building has been tested on the following OSes:\r\n- Ubuntu 22.04 (`x86_64`, `aarch64`~, backward compatible with Ubuntu Bionic 18.04 using adjusted invocation~)\r\n- macOS Monterey (`x86_64`, `arm64`)\r\n- FreeBSD 12.3\r\n- OpenBSD 7.1\r\n```sh\r\ncmake -S . -B build\r\ncd build\r\nmake\r\nmake check\r\nmake install  # optional\r\n```\r\n\r\n## Native building on Windows (MSVC + vcpkg)\r\n\r\nDependency packages are provided by the [vcpkg](https://vcpkg.io) package manager (\"Mandatory ASLR\" in Windows Security must be disabled to install `qt5-*` packages):\r\n```cmd\r\nvcpkg --triplet=x64-windows-static install pkgconf boost-multi-index boost-process boost-signals2 boost-test libevent berkeleydb sqlite3 miniupnpc zeromq qt5-base qt5-tools\r\n```\r\n\r\nTo build on Windows with Visual Studio, a proper [generator](https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html#visual-studio-generators) must be specified for a new build tree.\r\nThe following example assumes using of \"Developer Command Prompt for VS 2022\" and CMake v3.21+.\r\n\r\n```cmd\r\ncmake -G \"Visual Studio 17 2022\" -A x64 -DCMAKE_TOOLCHAIN_FILE=C:/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-windows-static -S . -B build\r\ncmake --build build --config Release\r\n```\r\n\r\nHINT. To leverage Multi-ToolTask and use `<N>` CPU cores, run\r\n```cmd\r\ncmake --build build --config Release -j <N> -- /p:CL_MPcount=<N>\r\n```\r\n\r\n## Cross building for Windows on Ubuntu 22.04\r\n```sh\r\nmake -C depends HOST=x86_64-w64-mingw32\r\ncmake --toolchain depends/x86_64-w64-mingw32/share/toolchain.cmake -S . -B build\r\ncmake --build build\r\n```\r\n\r\n## Cross building for Windows on Ubuntu 22.04 with `DEBUG=1`, see #19772\r\n```sh\r\nmake -C depends HOST=x86_64-w64-mingw32 DEBUG=1\r\ncmake --toolchain depends/x86_64-w64-mingw32/share/toolchain.cmake -S . -B build\r\ncmake --build build\r\n```\r\n\r\n## Cross building for macOS (Intel) on Ubuntu 22.04\r\n```sh\r\nmake -C depends HOST=x86_64-apple-darwin\r\ncmake --toolchain depends/x86_64-apple-darwin/share/toolchain.cmake -S . -B build\r\ncmake --build build\r\n```\r\n\r\n## Cross building for macOS (Apple Silicon) on Ubuntu 22.04\r\n```sh\r\nmake -C depends HOST=arm64-apple-darwin\r\ncmake --toolchain depends/arm64-apple-darwin/share/toolchain.cmake -S . -B build\r\ncmake --build build\r\n```\r\n## Cross building for Android using [NDK r23 LTS](https://github.com/bitcoin/bitcoin/pull/23677) on Ubuntu 22.04\r\n```sh\r\nexport ANDROID_SDK=/home/hebasto/Android/Sdk\r\nexport ANDROID_NDK=${ANDROID_SDK}/ndk/23.2.8568313\r\nexport ANDROID_API_LEVEL=28\r\nmake -C depends ANDROID_TOOLCHAIN_BIN=${ANDROID_NDK}/toolchains/llvm/prebuilt/linux-x86_64/bin/ HOST=aarch64-linux-android\r\ncmake --toolchain depends/aarch64-linux-android/share/toolchain.cmake -S . -B build\r\ncmake --build build\r\n```\r\n\r\n\r\n\r\nNOTE: Building in the source tree is not supported.\r\n\r\n---\r\n\r\n## Functional Tests\r\n\r\nFunctional tests can be run in exactly the same way as when building with Autotools out of the source tree, i.e.:\r\n```\r\n./build/test/functional/test_runner.py\r\n```\r\n\r\n## [Guix builds](https://github.com/bitcoin/bitcoin/pull/25797#issuecomment-1312482102)\r\n\r\n## [Cirrus CI -- 16 of 16](https://cirrus-ci.com/build/5822976705167360)\r\n\r\n- [x] lint [jammy]\r\n- [x] tidy [jammy]\r\n- [x] Win64 native [vs2022]\r\n- [x] ARM [unit tests, no functional tests] [bullseye]\r\n- [x] Win64 [unit tests, no gui tests, no boost::process, no functional tests] [jammy]\r\n- [x] 32-bit + dash [gui] [CentOS 8]\r\n- [x] [previous releases, uses qt5 dev package and some depends packages, DEBUG] [unsigned char] [buster]\r\n- [x] [TSan, depends, gui] [jammy]\r\n- [x] [MSan, depends] [focal]\r\n- [x] [ASan + LSan + UBSan + integer, no depends, USDT] [jammy]\r\n- [x] [fuzzer,address,undefined,integer, no depends] [jammy]\r\n- [x] [multiprocess, i686, DEBUG] [focal]\r\n- [x] [no wallet, libbitcoinkernel] [buster]\r\n- [x] macOS 10.15 [gui, no tests] [focal]\r\n- [x] macOS 13 native arm64 [gui, sqlite only] [no depends]\r\n- [x] ARM64 Android APK [jammy]\r\n\r\n---\r\n\r\nAdditional notes.\r\n\r\n1. There is a [branch/PR](https://github.com/hebasto/bitcoin/pull/3) in my repo which includes Qt 6 integration and CMake-specific CI tasks.\r\n2. A similar [PR](https://github.com/bitcoin-core/secp256k1/pull/1113) has been open in https://github.com/bitcoin-core/secp256k1.\r\n\r\n---\r\n\r\nThe plan is to have it in the repo shortly after branching `24.x` off, and make CMake-based build system a drop-in replacement of Autotools-based one during the next ~2 or 3~ release cycle~s~.\r\n\r\n---\r\n\r\n# Qt-specific details\r\n\r\n## What happened before?\r\n\r\n- https://www.qt.io/blog/qt-6-build-system:\r\n> CMake is the build system for Qt 6\r\n\r\n- https://www.qt.io/blog/qt-and-cmake-the-past-the-present-and-the-future:\r\n> We made a big decision to start using CMake to build Qt 6 one and a half years ago.\r\n\r\n- https://doc.qt.io/qt-6/qt6-buildsystem.html:\r\n> The Qt 5 build system was built on top of [qmake](https://doc.qt.io/qt-6.2/qtquick-deployment.html#qmake). In Qt 6, we ported the build system to CMake.\r\n\r\nIt is important to note that CMake has extensive [support](https://cmake.org/cmake/help/latest/manual/cmake-qt.7.html) for Qt, including Qt-specific tools such as MOC, RCC, UIC.\r\n\r\n## Why Qt 6 build system does matter if the Bitcoin Core GUI uses Qt 5?\r\n\r\nFor release builds we use Qt 5.15.5 LTS, the latest Qt 5 version available under a free-software license.\r\n\r\nFor dynamic linking users can use Qt 5.11.3+, which allows them to use packages provided in Debian Buster and Ubuntu Focal.\r\n\r\nOn the other hand, Qt 6 packages are available in the following systems/package managers:\r\n- [Ubuntu Jammy](https://packages.ubuntu.com/jammy/qt6-base-dev)+\r\n- [Debian Bullseye](https://packages.debian.org/bullseye-backports/qt6-base-dev)+\r\n- [Fedora 35](https://packages.fedoraproject.org/pkgs/qt6-qtbase/qt6-qtbase/)+\r\n- [Homebrew](https://formulae.brew.sh/formula/qt)\r\n\r\nAs long as Qt GUI is a part of Bitcoin Core, it is inevitable to embrace Qt 6 support, sooner or later.\r\n\r\n## Can we just adjust our current build system to handle Qt 6?\r\n\r\nThe main problem with integration of Qt 6 into the current build system is lacking of pkg-config `*.pc` files for static builds (please note that a patch from [QTBUG-86080](https://bugreports.qt.io/browse/QTBUG-86080) works for non-static builds only).\r\n\r\nTo handle Qt 6 with our current build system we need to:\r\n- patch Qt, which looks like a non-trivial task, or\r\n- apply some [nasty hacks](https://github.com/bitcoin/bitcoin/pull/24798#discussion_r854001982) to our own build system\r\n- keep in our repo the required `*.pc` files\r\n\r\nAll approaches imply maintaining burden for a long time. And last two are pretty ugly :)\r\n\r\n---\r\n\r\n# Autotools -- CMake Feature Parity Table\r\n\r\nAutotool-based build system (AT) features being listed according to the `./configure --help` output. \r\n\r\n| AT feature | CM feature |\r\n|---|---|\r\n| `--prefix` | `-DCMAKE_INSTALL_PREFIX` |\r\n| `--enable-c++20` | `-DCXX20` |\r\n| `--enable-shared` | `-DBUILD_SHARED` |\r\n| `--enable-static` | `-DBUILD_STATIC` |\r\n| `--disable-wallet` | `-DENABLE_WALLET` |\r\n| `--enable-usdt` | `-DWITH_USDT` |\r\n| `--enable-upnp-default` | `-DENABLE_UPNP_DEFAULT` |\r\n| `--enable-natpmp-default` | `-DENABLE_NATPMP_DEFAULT` |\r\n| `--disable-tests` | `-DBUILD_TESTS` |\r\n| `--disable-gui-tests` | TBD |\r\n| `--disable-bench` | `-DBUILD_BENCH` |\r\n| `--enable-extended-functional-tests` | TBD |\r\n| `--enable-fuzz` | `-DFUZZ` |\r\n| `--enable-fuzz-binary` | `-DBUILD_FUZZ_BINARY` |\r\n| `--disable-hardening` | `-DHARDENING` |\r\n| `--enable-reduce-exports` | `-DREDUCE_EXPORTS` |\r\n| `--disable-ccache` | `-DCCACHE` |\r\n| `--enable-suppress-external-warnings` | N/A |\r\n| `--enable-lcov` | TBD |\r\n| `--enable-lcov-branch-coverage` | TBD |\r\n| `--enable-threadlocal` | TBD |\r\n| `--disable-asm` | `-DASM` |\r\n| `--disable-zmq` | `-DWITH_ZMQ` |\r\n| `--enable-multiprocess` | `-DMULTIPROCESS` |\r\n| `--disable-man` | `-DINSTALL_MAN` |\r\n| `--enable-debug` | `-DCMAKE_BUILD_TYPE=Debug` |\r\n| `--enable-gprof` | TBD |\r\n| `--enable-werror` | `-DWERROR` |\r\n| `--enable-external-signer` | `-DWITH_EXTERNAL_SIGNER` |\r\n| `--enable-lto` | TBD |\r\n| `--enable-util-cli` | `-DBUILD_CLI` |\r\n| `--enable-util-tx` | `-DBUILD_TX` |\r\n| `--enable-util-wallet` | `-DBUILD_WALLET_TOOL` |\r\n| `--enable-util-util` | `-DBUILD_UTIL` |\r\n| `--enable-experimental-util-chainstate` | `-DBUILD_UTIL_CHAINSTATE` |\r\n| `--with-seccomp` | `-DWITH_SECCOMP` |\r\n| `--with-sqlite` | `-DWITH_SQLITE` |\r\n| `--without-bdb` | `-DWITH_BDB` |\r\n| `--with-miniupnpc` | `-DWITH_MINIUPNPC` |\r\n| `--with-natpmp` | `-DWITH_NATPMP` |\r\n| `--with-qrencode` | `-DWITH_QRENCODE` |\r\n| `--with-libmultiprocess` | N/A |\r\n| `--with-mpgen` | `-DMPGEN_PREFIX` |\r\n| `--with-sanitizers` | `-DSANITIZERS` |\r\n| `--with-utils` | individual options |\r\n| `--with-libs` | individual options |\r\n| `--with-experimental-kernel-lib` | `-DBUILD_BITCOINKERNEL_LIB` |\r\n| `--with-daemon` | `-DBUILD_DAEMON` |\r\n| `--with-gui` | `-DWITH_GUI` |\r\n\r\n---\r\n\r\nIRC meeting discussions:\r\n- https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2022-08-18#844420;",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 109,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/25797",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/25797",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/25797.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/25797.patch"
          },
          "closed_at": "2023-07-07T17:16:45Z",
          "created_at": "2022-08-07T11:15:55Z",
          "updated_at": "2023-07-07T17:30:42Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-03T09:45:46Z",
      "updated_at": "2023-02-03T09:45:46Z",
      "source": {
        "issue": {
          "id": 1569535961,
          "node_id": "I_kwDOABII585djTfZ",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27031",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27031/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27031/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27031/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/27031",
          "number": 27031,
          "state": "closed",
          "state_reason": "completed",
          "title": "macos depends build does not cache in the CI",
          "body": "At least in the CI, the depends build does not cache. E.g. https://cirrus-ci.com/task/5094611354386432?logs=ci#L789\r\n\r\nThis causes the build to take an hour when it should be done in less than 10 minutes witch a ccache.",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 64585,
              "node_id": "MDU6TGFiZWw2NDU4NQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
              "name": "Bug",
              "color": "FBBAAB",
              "default": false
            },
            {
              "id": 61889416,
              "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
              "name": "Build system",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 3,
          "closed_at": "2023-02-09T18:07:46Z",
          "created_at": "2023-02-03T09:40:17Z",
          "updated_at": "2023-02-09T18:07:46Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-11T08:46:39Z",
      "updated_at": "2023-02-11T08:46:39Z",
      "source": {
        "issue": {
          "id": 1580739607,
          "node_id": "PR_kwDOABII585JxLZ8",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27083",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27083/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27083/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27083/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/27083",
          "number": 27083,
          "state": "closed",
          "state_reason": null,
          "title": "ci: Improve `ccache` cache hit rates",
          "body": "Changes that are not affecting binaries, e.g., #27070 or #27072, are expected to show up to 100% `ccache` hit rate. But that is not the case:\r\n- https://cirrus-ci.com/build/4720733276864512\r\n- https://cirrus-ci.com/build/5915469295648768\r\n\r\nZero hit rate in the \"macOS 10.15\" is well [known](https://github.com/bitcoin/bitcoin/issues/21552). But a [fix](https://github.com/bitcoin/bitcoin/pull/24620) was [considered](https://github.com/bitcoin/bitcoin/pull/24620#issuecomment-1100850691) not \"a good change\" and closed.\r\n\r\nFor another task with nearly-zero hit rate--\"ARM64 Android APK\"--a fix suggested in https://github.com/bitcoin/bitcoin/pull/27077.\r\n\r\nHere are cache hit rates for other problematic tasks:\r\n- \"previous releases\": 33.47 % and 40.68 %\r\n- \"TSan\": 77.94 % and 81.07 %\r\n- \"MSan\": 47.24 % and 49.29 %\r\n- \"ASan + LSan + UBSan + integer\": 54.96 % and 59.79 %\r\n- \"multiprocess\": 12.05 % and 15.16 %\r\n- \"macOS 13 native\": 65.87 % and 67.86 %\r\n\r\nIn my experiments, making a `ccache_cache` folder task-specific did not help.\r\n\r\nApparently, the problem is related to https://github.com/cirruslabs/cirrus-ci-docs/pull/896.\r\n\r\nThis PR fixes the issue. Also `CCACHE_SIZE` values have been adjusted for some tasks to avoid cache misses due to \"cleanups performed\".",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "comments": 2,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27083",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/27083",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/27083.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/27083.patch"
          },
          "closed_at": "2023-02-11T11:52:08Z",
          "created_at": "2023-02-11T08:46:39Z",
          "updated_at": "2023-02-19T14:13:28Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-11T00:09:46Z",
      "updated_at": "2023-03-11T00:09:46Z",
      "source": {
        "issue": {
          "id": 1599319570,
          "node_id": "PR_kwDOCIlA6s5KvKn5",
          "url": "https://api.github.com/repos/hebasto/bitcoin/issues/10",
          "repository_url": "https://api.github.com/repos/hebasto/bitcoin",
          "labels_url": "https://api.github.com/repos/hebasto/bitcoin/issues/10/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/hebasto/bitcoin/issues/10/comments",
          "events_url": "https://api.github.com/repos/hebasto/bitcoin/issues/10/events",
          "html_url": "https://github.com/hebasto/bitcoin/pull/10",
          "number": 10,
          "state": "closed",
          "state_reason": null,
          "title": "build: Add CMake-based build system (4 of N)",
          "body": "https://github.com/hebasto/bitcoin/pull/7#issuecomment-1442354279:\r\n> So.. requesting a hookup to depends in the next PR please :)\r\n\r\nDelivered :)\r\n\r\n---\r\n\r\nThe parent PR: https://github.com/bitcoin/bitcoin/pull/25797.\r\nThe previous PRs in the staging branch: https://github.com/hebasto/bitcoin/pull/5, https://github.com/hebasto/bitcoin/pull/6, https://github.com/hebasto/bitcoin/pull/7.\r\n\r\n---\r\n\r\nEXAMPLES:\r\n\r\nCross-compiling for Windows:\r\n```\r\nmake -C depends HOST=x86_64-w64-mingw32 NO_QT=1 NO_WALLET=1 NO_ZMQ=1 NO_UPNP=1 NO_NATPMP=1 NO_USDT=1\r\ncmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=depends/x86_64-w64-mingw32/share/toolchain.cmake\r\ncmake --build build\r\n```\r\n\r\nCross-compiling for macOS, arm64:\r\n```\r\nmake -C depends HOST=arm64-apple-darwin NO_QT=1 NO_WALLET=1 NO_ZMQ=1 NO_UPNP=1 NO_NATPMP=1 NO_USDT=1\r\ncmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=depends/arm64-apple-darwin/share/toolchain.cmake\r\ncmake --build build\r\n```",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "OWNER",
          "locked": false,
          "comments": 37,
          "pull_request": {
            "url": "https://api.github.com/repos/hebasto/bitcoin/pulls/10",
            "html_url": "https://github.com/hebasto/bitcoin/pull/10",
            "diff_url": "https://github.com/hebasto/bitcoin/pull/10.diff",
            "patch_url": "https://github.com/hebasto/bitcoin/pull/10.patch"
          },
          "closed_at": "2023-03-31T21:57:53Z",
          "created_at": "2023-02-24T21:50:55Z",
          "updated_at": "2023-05-01T19:17:22Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-03T15:09:53Z",
      "updated_at": "2023-07-03T15:09:53Z",
      "source": {
        "issue": {
          "id": 1786220487,
          "node_id": "PR_kwDOABII585Uh0fy",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28024",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28024/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28024/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28024/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28024",
          "number": 28024,
          "state": "closed",
          "state_reason": null,
          "title": "ci: Remove deprecated container.greedy",
          "body": "The option is to be phased out, so remove it to avoid relying on it. Update container.cpu where needed.",
          "user": {
            "login": "MarcoFalke",
            "id": 6399679,
            "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MarcoFalke",
            "html_url": "https://github.com/MarcoFalke",
            "followers_url": "https://api.github.com/users/MarcoFalke/followers",
            "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
            "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
            "repos_url": "https://api.github.com/users/MarcoFalke/repos",
            "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 6,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28024",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28024",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28024.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28024.patch"
          },
          "closed_at": "2023-07-04T16:43:59Z",
          "created_at": "2023-07-03T13:46:23Z",
          "updated_at": "2023-07-04T17:52:42Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-16T08:41:24Z",
      "updated_at": "2023-08-16T08:41:24Z",
      "source": {
        "issue": {
          "id": 1828039776,
          "node_id": "PR_kwDOABII585WvPsB",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28187",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28187/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28187/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28187/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/28187",
          "number": 28187,
          "state": "closed",
          "state_reason": null,
          "title": "ci: Run \"macOS native x86_64\" job on GitHub Actions",
          "body": "From https://github.com/bitcoin/bitcoin/issues/28098:\r\n> Thus, someone would have to sponsor an amount of roughly 5kUSD/mo for those two tasks.\r\n\r\n> If the goal is to stay on a free plan, I think the only option is GitHub Actions CI.\r\n\r\n---\r\n\r\n**IMPORTANT NOTE**. We currently ship macOS release binaries for both architectures: `x86_64` and `arm64`. If this PR gets merged, only `x86_64` architecture will be tested on CI, which implies some [drawbacks](https://github.com/bitcoin/bitcoin/pull/28187#issuecomment-1658077549).\r\n\r\nHowever, it has never been the case that our CI tested both architectures simultaneously. And we hope that GitHub Actions will soon host macOS `arm64` runners.\r\n\r\nHistorically, we moved from `x86_64` to `arm64` in https://github.com/bitcoin/bitcoin/pull/26388 less than a year ago.\r\n\r\n---\r\n\r\nSecurity concerns:\r\n- https://github.com/bitcoin/bitcoin/issues/28098#issuecomment-1651432106\r\n- https://github.com/bitcoin/bitcoin/issues/28098#issuecomment-1651688197\r\n\r\n`GITHUB_TOKEN` permissions (from the build log in my personal repo):\r\n```\r\n2023-07-27T07:30:17.8313534Z ##[group]GITHUB_TOKEN Permissions\r\n2023-07-27T07:30:17.8314113Z Contents: read\r\n2023-07-27T07:30:17.8314608Z Metadata: read\r\n2023-07-27T07:30:17.8314957Z Packages: read\r\n2023-07-27T07:30:17.8315233Z ##[endgroup]\r\n```\r\n\r\nComparison of resources:\r\n\r\n| Resource | Current, Cirrus CI | Suggested, GitHub Actions |\r\n|---|:-:|:-:|\r\n| CPU | 4 | 4 \\*\\* |\r\n| RAM, GB | 8 | 14 |\r\n\r\n**\\*\\* NOTE**: However, [docs](https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources) are mentioning:\r\n> 3-core CPU (x86_64)",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 62963516,
              "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
              "name": "Tests",
              "color": "d4c5f9",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "milestone": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60",
            "html_url": "https://github.com/bitcoin/bitcoin/milestone/60",
            "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones/60/labels",
            "id": 9286970,
            "node_id": "MI_kwDOABII584AjbU6",
            "number": 60,
            "state": "open",
            "title": "26.0",
            "description": "",
            "creator": {
              "login": "fanquake",
              "id": 863730,
              "node_id": "MDQ6VXNlcjg2MzczMA==",
              "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/fanquake",
              "html_url": "https://github.com/fanquake",
              "followers_url": "https://api.github.com/users/fanquake/followers",
              "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
              "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
              "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
              "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
              "organizations_url": "https://api.github.com/users/fanquake/orgs",
              "repos_url": "https://api.github.com/users/fanquake/repos",
              "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
              "received_events_url": "https://api.github.com/users/fanquake/received_events",
              "type": "User",
              "site_admin": false
            },
            "open_issues": 7,
            "closed_issues": 25,
            "created_at": "2023-04-15T11:36:05Z",
            "updated_at": "2023-08-15T21:03:51Z"
          },
          "locked": false,
          "comments": 21,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28187",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/28187",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/28187.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/28187.patch"
          },
          "closed_at": "2023-08-15T21:03:51Z",
          "created_at": "2023-07-30T19:15:09Z",
          "updated_at": "2023-08-16T09:02:42Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1680237452,
      "node_id": "IC_kwDOABII585kJmOM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1680237452",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-16T09:06:26Z",
      "updated_at": "2023-08-16T09:06:26Z",
      "author_association": "MEMBER",
      "body": "Given it's not in the description, can someone summarize the current state of this issue?\r\n\r\n* What doesn't work?\r\n* What ccache options have been tried (and don't work)? Taking into account recent ccache releases.\r\n* Have we opened an issue upstream to either report that ccache is broken (for us), or that we have a usecase which isn't satified by it's current feature/option set, to see if they are open to adding a new feature/option?\r\n* If there is any (related) upstream discussions/issues, can somebody link to them here?",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/21552#issuecomment-1680237452",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21552"
    }
  ]
}