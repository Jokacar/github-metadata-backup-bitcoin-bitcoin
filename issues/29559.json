{
  "type": "issue",
  "issue": {
    "id": 2167545008,
    "node_id": "I_kwDOABII586BMhyw",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/29559",
    "number": 29559,
    "state": "open",
    "state_reason": null,
    "title": "bitcoin-wallet requires write permissions when unneeded",
    "body": "### Is there an existing issue for this?\r\n\r\n- [x] I have searched the existing issues\r\n\r\n### Current behaviour\r\n\r\nI have some wallets that are write protected and want to use `bitcoin-wallet info` and `bitcoin-wallet dump` but am unable to do so because these commands require write permission.\r\n\r\n```text\r\n$ bitcoin-wallet -datadir=. -wallet=wallet-name -dumpfile=wallet.dump dump\r\nSQLiteDatabase: Database opened in readonly mode but read-write permissions are needed\r\n$ bitcoin-wallet -datadir=. -wallet=wallet-name info                     \r\nSQLiteDatabase: Database opened in readonly mode but read-write permissions are needed\r\n```\r\n\r\n### Expected behaviour\r\n\r\nI would expect commands that are not intended to change the wallet to only require read permissions and be able to work on wallet directories and files that are read only.\r\n\r\nThis will also stop mistakes from corrupting the database.\r\n\r\n### Steps to reproduce\r\n\r\n```sh\r\nchmod -R a-w <wallet-directory>\r\nbitcoin-wallet -datadir=<wallet-directory> -wallet=<wallet-name> -dumpfile=wallet.dump dump\r\nbitcoin-wallet -datadir=<wallet-directory> -wallet=<wallet-name> info\r\n```\r\n\r\n### Relevant log output\r\n\r\n_No response_\r\n\r\n### How did you obtain Bitcoin Core\r\n\r\nPackage manager\r\n\r\n### What version of Bitcoin Core are you using?\r\n\r\nv25.0.0\r\n\r\n### Operating system and version\r\n\r\nOpenBSD 7.4 Stable\r\n\r\n### Machine specifications\r\n\r\n_No response_",
    "user": {
      "login": "BebeSparkelSparkel",
      "id": 10747532,
      "node_id": "MDQ6VXNlcjEwNzQ3NTMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/10747532?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BebeSparkelSparkel",
      "html_url": "https://github.com/BebeSparkelSparkel",
      "followers_url": "https://api.github.com/users/BebeSparkelSparkel/followers",
      "following_url": "https://api.github.com/users/BebeSparkelSparkel/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/BebeSparkelSparkel/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/BebeSparkelSparkel/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/BebeSparkelSparkel/subscriptions",
      "organizations_url": "https://api.github.com/users/BebeSparkelSparkel/orgs",
      "repos_url": "https://api.github.com/users/BebeSparkelSparkel/repos",
      "events_url": "https://api.github.com/users/BebeSparkelSparkel/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/BebeSparkelSparkel/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 8,
    "created_at": "2024-03-04T19:04:30Z",
    "updated_at": "2024-03-06T20:24:15Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 1977378151,
      "node_id": "IC_kwDOABII58513GVn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1977378151",
      "actor": {
        "login": "BebeSparkelSparkel",
        "id": 10747532,
        "node_id": "MDQ6VXNlcjEwNzQ3NTMy",
        "avatar_url": "https://avatars.githubusercontent.com/u/10747532?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BebeSparkelSparkel",
        "html_url": "https://github.com/BebeSparkelSparkel",
        "followers_url": "https://api.github.com/users/BebeSparkelSparkel/followers",
        "following_url": "https://api.github.com/users/BebeSparkelSparkel/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BebeSparkelSparkel/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BebeSparkelSparkel/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BebeSparkelSparkel/subscriptions",
        "organizations_url": "https://api.github.com/users/BebeSparkelSparkel/orgs",
        "repos_url": "https://api.github.com/users/BebeSparkelSparkel/repos",
        "events_url": "https://api.github.com/users/BebeSparkelSparkel/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BebeSparkelSparkel/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-04T20:14:16Z",
      "updated_at": "2024-03-04T20:14:42Z",
      "author_association": "NONE",
      "body": "Seems like this should solve it\r\n\r\n- `struct DatabaseOptions` in `src/wallet/db.h` needs a `writePermission` field of type `bool` with a default value of `false`\r\n- the method `Open` of class`SQLiteDatabase` in `src/wallet/sqlite.h` needs a flag argument of type `Int` added\r\n- the `SQLiteDatabase` constructor in `src/wallet/sqlite.cpp` needs to pass the flag `SQLITE_OPEN_READONLY` if `options.writePermission` is false else flag `SQLITE_OPEN_READWRITE`\r\n- in `src/wallet/wallettool.cpp` when `command ==` create, salvage, or createfromdump then `options.writePermission = true;`",
      "user": {
        "login": "BebeSparkelSparkel",
        "id": 10747532,
        "node_id": "MDQ6VXNlcjEwNzQ3NTMy",
        "avatar_url": "https://avatars.githubusercontent.com/u/10747532?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BebeSparkelSparkel",
        "html_url": "https://github.com/BebeSparkelSparkel",
        "followers_url": "https://api.github.com/users/BebeSparkelSparkel/followers",
        "following_url": "https://api.github.com/users/BebeSparkelSparkel/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BebeSparkelSparkel/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BebeSparkelSparkel/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BebeSparkelSparkel/subscriptions",
        "organizations_url": "https://api.github.com/users/BebeSparkelSparkel/orgs",
        "repos_url": "https://api.github.com/users/BebeSparkelSparkel/repos",
        "events_url": "https://api.github.com/users/BebeSparkelSparkel/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BebeSparkelSparkel/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1977378151",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559"
    },
    {
      "event": "commented",
      "id": 1978282275,
      "node_id": "IC_kwDOABII58516jEj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978282275",
      "actor": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T09:12:08Z",
      "updated_at": "2024-03-05T09:12:35Z",
      "author_association": "NONE",
      "body": "I consider this permission issue is necesary to fix, and wanna contribute for it. Is it assigned for other guys or anyone is working on it right now?",
      "user": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1978282275",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559"
    },
    {
      "event": "commented",
      "id": 1978317149,
      "node_id": "IC_kwDOABII58516rld",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978317149",
      "actor": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T09:29:59Z",
      "updated_at": "2024-03-05T09:30:13Z",
      "author_association": "NONE",
      "body": "> Seems like this should solve it\r\n> \r\n> * `struct DatabaseOptions` in `src/wallet/db.h` needs a `writePermission` field of type `bool` with a default value of `false`\r\n> * the method `Open` of class`SQLiteDatabase` in `src/wallet/sqlite.h` needs a flag argument of type `Int` added\r\n> * the `SQLiteDatabase` constructor in `src/wallet/sqlite.cpp` needs to pass the flag `SQLITE_OPEN_READONLY` if `options.writePermission` is false else flag `SQLITE_OPEN_READWRITE`\r\n> * in `src/wallet/wallettool.cpp` when `command ==` create, salvage, or createfromdump then `options.writePermission = true;`\r\n\r\nAs for me, I consider modifying the code to open write permission is actually an unsafe operation. If you just wanna access info, read-only permission seems sufficient. Perhaps there is also other issue...",
      "user": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1978317149",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559"
    },
    {
      "event": "commented",
      "id": 1978495999,
      "node_id": "IC_kwDOABII58517XP_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978495999",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T10:59:21Z",
      "updated_at": "2024-03-05T11:00:01Z",
      "author_association": "MEMBER",
      "body": "cc @achow101 \r\n\r\nIt seems like a good safety feature if commands like `bitcoin-wallet info` and `bitcoin-wallet dump` open the database in read-only mode.\r\n\r\n> Is it assigned for other guys or anyone is working on it right now?\r\n\r\nIssues are never assigned. There's no recent pull request open either. It's also not the end of the world if two people open a bug fix PR at the same time; reviewers can just pick the best solution.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1978495999",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559"
    },
    {
      "event": "mentioned",
      "id": 12012140653,
      "node_id": "MEE_lADOABII586BMhywzwAAAALL-rht",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12012140653",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T11:00:02Z"
    },
    {
      "event": "subscribed",
      "id": 12012140665,
      "node_id": "SE_lADOABII586BMhywzwAAAALL-rh5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12012140665",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T11:00:02Z"
    },
    {
      "event": "commented",
      "id": 1978622843,
      "node_id": "IC_kwDOABII585172N7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978622843",
      "actor": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T12:10:44Z",
      "updated_at": "2024-03-05T12:10:44Z",
      "author_association": "NONE",
      "body": "> cc @achow101\r\n> \r\n> It seems like a good safety feature if commands like `bitcoin-wallet info` and `bitcoin-wallet dump` open the database in read-only mode.\r\n> \r\n> > Is it assigned for other guys or anyone is working on it right now?\r\n> \r\n> Issues are never assigned. There's no recent pull request open either. It's also not the end of the world if two people open a bug fix PR at the same time; reviewers can just pick the best solution.\r\n\r\nThanks! I would work on it and PR when finished it.",
      "user": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1978622843",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559"
    },
    {
      "event": "mentioned",
      "id": 12012941458,
      "node_id": "MEE_lADOABII586BMhywzwAAAALMBvCS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12012941458",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T12:10:46Z"
    },
    {
      "event": "subscribed",
      "id": 12012941478,
      "node_id": "SE_lADOABII586BMhywzwAAAALMBvCm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12012941478",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T12:10:46Z"
    },
    {
      "event": "commented",
      "id": 1979250670,
      "node_id": "IC_kwDOABII5851-Pfu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1979250670",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T17:11:20Z",
      "updated_at": "2024-03-05T17:12:43Z",
      "author_association": "MEMBER",
      "body": "This has been something I've looked at before, and it ended up being somewhat complicated and I didn't have the time to try to properly fix. Even if you can open the databases in readonly mode, you'd still have to make sure that nothing in the call stack is attempting to write the database. There are a couple of places during wallet loading where writes are actually made, and those might fail with a crash, or fail silently, both of which we don't want to happen.\r\n\r\nAlso, we have two database types, and both need to be passed the correct flags to open as readonly.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1979250670",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559"
    },
    {
      "event": "commented",
      "id": 1981392632,
      "node_id": "IC_kwDOABII5852Gab4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1981392632",
      "actor": {
        "login": "BebeSparkelSparkel",
        "id": 10747532,
        "node_id": "MDQ6VXNlcjEwNzQ3NTMy",
        "avatar_url": "https://avatars.githubusercontent.com/u/10747532?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BebeSparkelSparkel",
        "html_url": "https://github.com/BebeSparkelSparkel",
        "followers_url": "https://api.github.com/users/BebeSparkelSparkel/followers",
        "following_url": "https://api.github.com/users/BebeSparkelSparkel/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BebeSparkelSparkel/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BebeSparkelSparkel/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BebeSparkelSparkel/subscriptions",
        "organizations_url": "https://api.github.com/users/BebeSparkelSparkel/orgs",
        "repos_url": "https://api.github.com/users/BebeSparkelSparkel/repos",
        "events_url": "https://api.github.com/users/BebeSparkelSparkel/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BebeSparkelSparkel/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-06T17:19:21Z",
      "updated_at": "2024-03-06T17:19:21Z",
      "author_association": "NONE",
      "body": "@PeterWrighten I have made some modifications but do not know c++ well enough to diagnose where sqlite is requiring write permissions. \r\n\r\nhttps://github.com/BebeSparkelSparkel/bitcoin/tree/readonly-db",
      "user": {
        "login": "BebeSparkelSparkel",
        "id": 10747532,
        "node_id": "MDQ6VXNlcjEwNzQ3NTMy",
        "avatar_url": "https://avatars.githubusercontent.com/u/10747532?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BebeSparkelSparkel",
        "html_url": "https://github.com/BebeSparkelSparkel",
        "followers_url": "https://api.github.com/users/BebeSparkelSparkel/followers",
        "following_url": "https://api.github.com/users/BebeSparkelSparkel/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BebeSparkelSparkel/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BebeSparkelSparkel/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BebeSparkelSparkel/subscriptions",
        "organizations_url": "https://api.github.com/users/BebeSparkelSparkel/orgs",
        "repos_url": "https://api.github.com/users/BebeSparkelSparkel/repos",
        "events_url": "https://api.github.com/users/BebeSparkelSparkel/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BebeSparkelSparkel/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1981392632",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559"
    },
    {
      "event": "mentioned",
      "id": 12031078271,
      "node_id": "MEE_lADOABII586BMhywzwAAAALNG69_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12031078271",
      "actor": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-06T17:19:22Z"
    },
    {
      "event": "subscribed",
      "id": 12031078287,
      "node_id": "SE_lADOABII586BMhywzwAAAALNG6-P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12031078287",
      "actor": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-06T17:19:22Z"
    },
    {
      "event": "commented",
      "id": 1981705437,
      "node_id": "IC_kwDOABII5852Hmzd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1981705437",
      "actor": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-06T20:14:31Z",
      "updated_at": "2024-03-06T20:24:15Z",
      "author_association": "NONE",
      "body": "> @PeterWrighten I have made some modifications but do not know c++ well enough to diagnose where sqlite is requiring write permissions. \n> \n> \n> \n> https://github.com/BebeSparkelSparkel/bitcoin/tree/readonly-db\n\nSeems good for sqlite db. But I consider adding permissions in DatabaseOptions is not a good idea. Perhaps adding an OpenReadOnly() Function in SqliteDatabase is better.",
      "user": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1981705437",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29559"
    },
    {
      "event": "mentioned",
      "id": 12033027387,
      "node_id": "MEE_lADOABII586BMhywzwAAAALNOW07",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12033027387",
      "actor": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-06T20:14:32Z"
    },
    {
      "event": "subscribed",
      "id": 12033027400,
      "node_id": "SE_lADOABII586BMhywzwAAAALNOW1I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12033027400",
      "actor": {
        "login": "PeterWrighten",
        "id": 45826386,
        "node_id": "MDQ6VXNlcjQ1ODI2Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/45826386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/PeterWrighten",
        "html_url": "https://github.com/PeterWrighten",
        "followers_url": "https://api.github.com/users/PeterWrighten/followers",
        "following_url": "https://api.github.com/users/PeterWrighten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/PeterWrighten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/PeterWrighten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/PeterWrighten/subscriptions",
        "organizations_url": "https://api.github.com/users/PeterWrighten/orgs",
        "repos_url": "https://api.github.com/users/PeterWrighten/repos",
        "events_url": "https://api.github.com/users/PeterWrighten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/PeterWrighten/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-06T20:14:32Z"
    }
  ]
}