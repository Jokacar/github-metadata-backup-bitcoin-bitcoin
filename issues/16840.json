{
  "type": "issue",
  "issue": {
    "id": 491385720,
    "node_id": "MDU6SXNzdWU0OTEzODU3MjA=",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16840",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16840/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16840/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16840/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/16840",
    "number": 16840,
    "state": "closed",
    "state_reason": "completed",
    "title": "fee estimate should be disabled with blocksonly mode",
    "body": "A c-lightning user was having problems in that their fee estimates were so far out of sync with their peers that channels were being closed.  Turns out he had 'blockonly' in his config.\r\n\r\n**Expected behavior**\r\n\r\nestimatesmartfee would fail.\r\n\r\n**Actual behavior**\r\n\r\nestimatesmartfee gives a result, but it doesn't seem linked to reality.  Perhaps from before blocksonly was enabled?\r\n",
    "user": {
      "login": "rustyrussell",
      "id": 775844,
      "node_id": "MDQ6VXNlcjc3NTg0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rustyrussell",
      "html_url": "https://github.com/rustyrussell",
      "followers_url": "https://api.github.com/users/rustyrussell/followers",
      "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
      "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
      "repos_url": "https://api.github.com/users/rustyrussell/repos",
      "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 64585,
        "node_id": "MDU6TGFiZWw2NDU4NQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug",
        "name": "Bug",
        "color": "FBBAAB",
        "default": false
      },
      {
        "id": 82428251,
        "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
        "name": "TX fees and policy",
        "color": "5319e7",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": true,
    "active_lock_reason": "resolved",
    "comments": 5,
    "closed_at": "2020-12-07T12:01:57Z",
    "created_at": "2019-09-10T00:18:53Z",
    "updated_at": "2022-02-15T11:04:57Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 2620517646,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI2MjA1MTc2NDY=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2620517646",
      "actor": {
        "login": "rustyrussell",
        "id": 775844,
        "node_id": "MDQ6VXNlcjc3NTg0NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/775844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rustyrussell",
        "html_url": "https://github.com/rustyrussell",
        "followers_url": "https://api.github.com/users/rustyrussell/followers",
        "following_url": "https://api.github.com/users/rustyrussell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rustyrussell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rustyrussell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rustyrussell/subscriptions",
        "organizations_url": "https://api.github.com/users/rustyrussell/orgs",
        "repos_url": "https://api.github.com/users/rustyrussell/repos",
        "events_url": "https://api.github.com/users/rustyrussell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rustyrussell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T00:18:53Z",
      "label": {
        "name": "Bug",
        "color": "FBBAAB"
      }
    },
    {
      "event": "labeled",
      "id": 2621944750,
      "node_id": "MDEyOkxhYmVsZWRFdmVudDI2MjE5NDQ3NTA=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2621944750",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T11:47:32Z",
      "label": {
        "name": "TX fees and policy",
        "color": "5319e7"
      }
    },
    {
      "event": "commented",
      "id": 529898147,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTg5ODE0Nw==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/529898147",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T11:47:37Z",
      "updated_at": "2019-09-10T11:47:37Z",
      "author_association": "MEMBER",
      "body": "It should probably also fail if the node didn't get any txs from the network (e.g. `-connect=$(SOME_NO_TX_RELAY_NODE)`). Not sure if this is possible with the current fee estimator design. @morcos any thoughts on this?",
      "user": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/16840#issuecomment-529898147",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16840"
    },
    {
      "event": "mentioned",
      "id": 2621944989,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjYyMTk0NDk4OQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2621944989",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T11:47:37Z"
    },
    {
      "event": "subscribed",
      "id": 2621944991,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI2MjE5NDQ5OTE=",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/2621944991",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T11:47:37Z"
    },
    {
      "event": "commented",
      "id": 529904220,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTkwNDIyMA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/529904220",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T12:06:37Z",
      "updated_at": "2019-09-10T12:06:37Z",
      "author_association": "MEMBER",
      "body": "I haven't looked at this in a while, but I thought the behavior was that if you had relatively recent estimates (which would only be the case if you'd been receiving transactions and your node was in sync) then estimatesmartfee would continue reporting those estimates for some period of time until the data was old enough that they were stale.  This would happen naturally since the estimates use a exponentially decaying moving average and would happen quicker for estimates for shorter confirmation times.   It's possible it doesn't work quite like this, or this doesn't aggressively enough disable estimates, but I don't know without further investigation.  \r\n\r\nFor a non-lightning use case, the slightly stale estimates are still designed to be good enough to be usable for getting transactions confirmed and I think make more sense than having no estimates.  I'd never considered a design goal of trying to keep estimates in sync with peers. ",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/16840#issuecomment-529904220",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16840"
    },
    {
      "event": "commented",
      "id": 529909740,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTkwOTc0MA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/529909740",
      "actor": {
        "login": "JavierRSobrino",
        "id": 6039997,
        "node_id": "MDQ6VXNlcjYwMzk5OTc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6039997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JavierRSobrino",
        "html_url": "https://github.com/JavierRSobrino",
        "followers_url": "https://api.github.com/users/JavierRSobrino/followers",
        "following_url": "https://api.github.com/users/JavierRSobrino/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JavierRSobrino/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JavierRSobrino/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JavierRSobrino/subscriptions",
        "organizations_url": "https://api.github.com/users/JavierRSobrino/orgs",
        "repos_url": "https://api.github.com/users/JavierRSobrino/repos",
        "events_url": "https://api.github.com/users/JavierRSobrino/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JavierRSobrino/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T12:22:51Z",
      "updated_at": "2019-09-10T12:22:51Z",
      "author_association": "NONE",
      "body": "I was that user. :)\r\n\r\nWhat I recommend is that if blocksonly is enabled, the algorithm should take in consideration only the fees already paid in the last blocks and discard the ones of the mempool, because obviusly there is no mempool.\r\n",
      "user": {
        "login": "JavierRSobrino",
        "id": 6039997,
        "node_id": "MDQ6VXNlcjYwMzk5OTc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6039997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JavierRSobrino",
        "html_url": "https://github.com/JavierRSobrino",
        "followers_url": "https://api.github.com/users/JavierRSobrino/followers",
        "following_url": "https://api.github.com/users/JavierRSobrino/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JavierRSobrino/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JavierRSobrino/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JavierRSobrino/subscriptions",
        "organizations_url": "https://api.github.com/users/JavierRSobrino/orgs",
        "repos_url": "https://api.github.com/users/JavierRSobrino/repos",
        "events_url": "https://api.github.com/users/JavierRSobrino/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JavierRSobrino/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/16840#issuecomment-529909740",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16840"
    },
    {
      "event": "commented",
      "id": 529954409,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTk1NDQwOQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/529954409",
      "actor": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T14:12:19Z",
      "updated_at": "2019-09-10T14:12:19Z",
      "author_association": "MEMBER",
      "body": "You didn't by any chance have debugging on?  I'd be curious what the lines that start with \"FeeEst:\" or \"Blockpolicy estimates\" look like around the time you got the bad estimates.   Also, were your estimates too high or too low?   If there are no transactions in the mempool, the estimates won't be considering transactions in the mempool, the problem is they can't consider transactions in the blocks if you are only seeing the transactions when they show up in the blocks, so the estimates are stuck from when you used to receive transactions.",
      "user": {
        "login": "morcos",
        "id": 4360349,
        "node_id": "MDQ6VXNlcjQzNjAzNDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/morcos",
        "html_url": "https://github.com/morcos",
        "followers_url": "https://api.github.com/users/morcos/followers",
        "following_url": "https://api.github.com/users/morcos/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/morcos/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/morcos/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
        "organizations_url": "https://api.github.com/users/morcos/orgs",
        "repos_url": "https://api.github.com/users/morcos/repos",
        "events_url": "https://api.github.com/users/morcos/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/morcos/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/16840#issuecomment-529954409",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16840"
    },
    {
      "event": "commented",
      "id": 530079654,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDA3OTY1NA==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/530079654",
      "actor": {
        "login": "JavierRSobrino",
        "id": 6039997,
        "node_id": "MDQ6VXNlcjYwMzk5OTc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6039997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JavierRSobrino",
        "html_url": "https://github.com/JavierRSobrino",
        "followers_url": "https://api.github.com/users/JavierRSobrino/followers",
        "following_url": "https://api.github.com/users/JavierRSobrino/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JavierRSobrino/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JavierRSobrino/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JavierRSobrino/subscriptions",
        "organizations_url": "https://api.github.com/users/JavierRSobrino/orgs",
        "repos_url": "https://api.github.com/users/JavierRSobrino/repos",
        "events_url": "https://api.github.com/users/JavierRSobrino/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JavierRSobrino/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-10T19:13:22Z",
      "updated_at": "2019-09-10T19:20:43Z",
      "author_association": "NONE",
      "body": "I have some logs in c-lightning, the last recent error is:\r\n\r\n> CHANNELD_NORMAL:update_fee 5046 outside range 9345-186900\r\n\r\nfor a normal channel close tx, the ID is 92f83af6a1459d449803824d724e1333cdb45a86b22e73ae27438aa7f897402d\r\n\r\nI think the channel closed on 3th September.\r\nThe node was running in blocksonly mode for quite a few weeks.",
      "user": {
        "login": "JavierRSobrino",
        "id": 6039997,
        "node_id": "MDQ6VXNlcjYwMzk5OTc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6039997?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JavierRSobrino",
        "html_url": "https://github.com/JavierRSobrino",
        "followers_url": "https://api.github.com/users/JavierRSobrino/followers",
        "following_url": "https://api.github.com/users/JavierRSobrino/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/JavierRSobrino/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/JavierRSobrino/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/JavierRSobrino/subscriptions",
        "organizations_url": "https://api.github.com/users/JavierRSobrino/orgs",
        "repos_url": "https://api.github.com/users/JavierRSobrino/repos",
        "events_url": "https://api.github.com/users/JavierRSobrino/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/JavierRSobrino/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/16840#issuecomment-530079654",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16840"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-09-16T22:25:02Z",
      "updated_at": "2019-09-16T22:25:02Z",
      "source": {
        "issue": {
          "id": 494306054,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MzE4MDg3MTcw",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16890",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16890/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16890/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16890/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/16890",
          "number": 16890,
          "state": "closed",
          "state_reason": null,
          "title": "rpc: Don't allow to 'estimatesmartfee' in blocksonly mode",
          "body": "Fixes #16840.\r\n\r\nEDIT: some context from the issue: `estimatesmartfee` will return bad (outdated) fee estimation if ran in `blocksonly` mode. Seems better for it to fail instead of succeeding with potentially harmful (in the case of a lightning penalty tx for example) values.",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 98279177,
              "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
              "name": "RPC/REST/ZMQ",
              "color": "0052cc",
              "default": false
            },
            {
              "id": 955867938,
              "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
              "name": "Needs rebase",
              "description": "",
              "color": "cccccc",
              "default": false
            },
            {
              "id": 1392286103,
              "node_id": "MDU6TGFiZWwxMzkyMjg2MTAz",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20Conceptual%20Review",
              "name": "Needs Conceptual Review",
              "description": "",
              "color": "fef2c0",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 10,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16890",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/16890",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/16890.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/16890.patch"
          },
          "closed_at": "2020-09-29T09:01:13Z",
          "created_at": "2019-09-16T22:25:02Z",
          "updated_at": "2022-02-15T10:36:32Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-25T17:13:47Z",
      "updated_at": "2020-04-25T17:13:47Z",
      "source": {
        "issue": {
          "id": 606814450,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDA4OTQwNDUy",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18766",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18766/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18766/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18766/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/18766",
          "number": 18766,
          "state": "closed",
          "state_reason": null,
          "title": "Disable fee estimation in blocksonly mode (by removing the fee estimates global)",
          "body": "If the `blocksonly` mode is turned on after running with transaction\r\nrelay enabled for a while, the fee estimation will serve outdated data\r\nto both the internal wallet and to external applications that might be\r\nfeerate-sensitive and make use of `estimatesmartfee` (for example a\r\nLightning Network node).\r\n\r\nThis has already caused issues (for example https://github.com/bitcoin/bitcoin/issues/16840 (C-lightning), or https://github.com/lightningnetwork/lnd/issues/2562 (LND)) and it seems prudent to fail rather than to give inaccurate values.\r\n\r\nThis fixes #16840, and closes #16890 which tried to fix the symptoms (RPC) but not the cause as mentioned by sdaftuar :\r\n> If this is a substantial problem, then I would think we should take action to protect our own wallet users as well (rather than hide the results of what our fee estimation would do!).",
          "user": {
            "login": "darosior",
            "id": 22457751,
            "node_id": "MDQ6VXNlcjIyNDU3NzUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/darosior",
            "html_url": "https://github.com/darosior",
            "followers_url": "https://api.github.com/users/darosior/followers",
            "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
            "organizations_url": "https://api.github.com/users/darosior/orgs",
            "repos_url": "https://api.github.com/users/darosior/repos",
            "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/darosior/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 82428251,
              "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
              "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
              "name": "TX fees and policy",
              "color": "5319e7",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 36,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18766",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/18766",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/18766.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/18766.patch"
          },
          "closed_at": "2020-12-07T12:02:02Z",
          "created_at": "2020-04-25T17:13:47Z",
          "updated_at": "2022-08-16T17:02:38Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "closed",
      "id": 4079271385,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDA3OTI3MTM4NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/4079271385",
      "actor": {
        "login": "MarcoFalke",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MarcoFalke",
        "html_url": "https://github.com/MarcoFalke",
        "followers_url": "https://api.github.com/users/MarcoFalke/followers",
        "following_url": "https://api.github.com/users/MarcoFalke/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MarcoFalke/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MarcoFalke/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
        "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
        "repos_url": "https://api.github.com/users/MarcoFalke/repos",
        "events_url": "https://api.github.com/users/MarcoFalke/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "03b1db6114958a9f8edf533f5280df4916d33665",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/03b1db6114958a9f8edf533f5280df4916d33665",
      "created_at": "2020-12-07T12:01:58Z"
    },
    {
      "event": "locked",
      "id": 6074019378,
      "node_id": "LOE_lADOABII584dSfN4zwAAAAFqCi4y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/6074019378",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-02-15T11:04:57Z",
      "lock_reason": "resolved"
    }
  ]
}