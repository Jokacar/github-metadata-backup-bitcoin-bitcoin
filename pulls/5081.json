{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5081",
    "id": 22665933,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjI2NjU5MzM=",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5081",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/5081.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/5081.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5081",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5081/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5081/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5081/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/8981812cda4c2a67c514349e9d1a92c71409c2ea",
    "number": 5081,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "consensus lib work: some win build fixes necessary for dll creation",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is part of the build-system work needed for the upcoming consensus lib.\n- Cut down on the dll's linked globally to avoid a few mingw bugs (though it's a legitimate cleanup anyway).\n- Split out LIBS for Windows builds as was done for INCLUDES in 6b099402b40dcf9fc716be29c85e7e1865b28e92.\n\nThis should result in no noticeable changes.\n",
    "labels": [],
    "active_lock_reason": "resolved",
    "created_at": "2014-10-13T19:14:43Z",
    "updated_at": "2021-09-08T10:52:29Z",
    "closed_at": "2014-10-13T20:07:39Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "9a8a97a5b4f4ace32766f7ce8b9a30a314f96a65",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "theuni:fix-dll-creation",
      "ref": "fix-dll-creation",
      "sha": "8981812cda4c2a67c514349e9d1a92c71409c2ea",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 10302141,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMDMwMjE0MQ==",
        "name": "bitcoin",
        "full_name": "theuni/bitcoin",
        "owner": {
          "login": "theuni",
          "id": 417043,
          "node_id": "MDQ6VXNlcjQxNzA0Mw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/theuni",
          "html_url": "https://github.com/theuni",
          "followers_url": "https://api.github.com/users/theuni/followers",
          "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
          "organizations_url": "https://api.github.com/users/theuni/orgs",
          "repos_url": "https://api.github.com/users/theuni/repos",
          "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/theuni/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/theuni/bitcoin",
        "description": "Bitcoin integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/theuni/bitcoin",
        "archive_url": "https://api.github.com/repos/theuni/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/theuni/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/theuni/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/theuni/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/theuni/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/theuni/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/theuni/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/theuni/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/theuni/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/theuni/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/theuni/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/theuni/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/theuni/bitcoin/events",
        "forks_url": "https://api.github.com/repos/theuni/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/theuni/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/theuni/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/theuni/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/theuni/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/theuni/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/theuni/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/theuni/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/theuni/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/theuni/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/theuni/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/theuni/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/theuni/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/theuni/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/theuni/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/theuni/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:theuni/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/theuni/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/theuni/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/theuni/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/theuni/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/theuni/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/theuni/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/theuni/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/theuni/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/theuni/bitcoin/hooks",
        "svn_url": "https://github.com/theuni/bitcoin",
        "homepage": "http://www.bitcoin.org",
        "language": "C++",
        "forks_count": 3,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 223311,
        "default_branch": "trivial-next",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-07-07T14:16:01Z",
        "created_at": "2013-05-26T18:55:06Z",
        "updated_at": "2023-07-29T06:29:25Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "1f27c310a4bcca758f708358601fa25976d56d90",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 35474,
        "stargazers_count": 70605,
        "watchers_count": 70605,
        "size": 236222,
        "default_branch": "master",
        "open_issues_count": 667,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-02T13:31:10Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2023-08-02T13:04:43Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5081"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 20,
    "deletions": 11,
    "changed_files": 6,
    "commits": 2,
    "review_comments": 0,
    "comments": 1
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZTVjYTdjZjA2ZDAzYWEyNDk4NDdjMDFkYzQ0ZWZmNDBmOWM2OGZk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2e5ca7cf06d03aa249847c01dc44eff40f9c68fd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2e5ca7cf06d03aa249847c01dc44eff40f9c68fd",
      "tree": {
        "sha": "05c96ac9f68a52bf5b111ea2f3159aa2c58a0db6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/05c96ac9f68a52bf5b111ea2f3159aa2c58a0db6"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d7e195048342afae9168377cebfc22ab000728a5",
          "sha": "d7e195048342afae9168377cebfc22ab000728a5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d7e195048342afae9168377cebfc22ab000728a5"
        }
      ],
      "message": "build: mingw: reduce system linkage to fix mingw dll creation\n\nmingw has trouble linking libssid and libmingwthrd into dll's because they are\nmissing proper import libs. This may be a bug in a particular version of mingw,\nbut even if so, it doesn't hurt to clean them up a bit.\n\nlibmingwthrd was only used with hardened builds to indirectly provide libssp.\nJust use that instead for those builds.\n\nlibuuid is only needed for qt, so use it there.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-10-13T18:05:04Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-10-13T03:24:21Z"
      },
      "sha": "2e5ca7cf06d03aa249847c01dc44eff40f9c68fd"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4OTgxODEyY2RhNGMyYTY3YzUxNDM0OWU5ZDFhOTJjNzE0MDljMmVh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8981812cda4c2a67c514349e9d1a92c71409c2ea",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8981812cda4c2a67c514349e9d1a92c71409c2ea",
      "tree": {
        "sha": "ede4b64599f091cc6ad0ad2b6558ccd19cd574c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ede4b64599f091cc6ad0ad2b6558ccd19cd574c7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2e5ca7cf06d03aa249847c01dc44eff40f9c68fd",
          "sha": "2e5ca7cf06d03aa249847c01dc44eff40f9c68fd",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2e5ca7cf06d03aa249847c01dc44eff40f9c68fd"
        }
      ],
      "message": "build: quit abusing LIBS for Windows builds.\n\nSimilar to the INCLUDES changes in 6b099402b40, split out LIBS into individual\nentries for more fine-grained control.\n\nAlso add MINIUPNPC_LIBS which was missing before, and hook it up to\nexecutables.",
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-10-13T18:05:11Z"
      },
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-10-13T03:28:58Z"
      },
      "sha": "8981812cda4c2a67c514349e9d1a92c71409c2ea"
    },
    {
      "event": "commented",
      "id": 58947254,
      "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTQ3MjU0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58947254",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-10-13T20:07:39Z",
      "updated_at": "2014-10-13T20:07:39Z",
      "author_association": "MEMBER",
      "body": "@TheBlueMatt pointed out some problems here wrt the -lmingwthrd change. It now looks to me like this could've broken exception handling in some cases. Much like https://bitcoin.org/en/alert/2012-03-16-critical-vulnerability . I'm going to work on creating a test-case for this before making any changes.\n",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/5081#issuecomment-58947254",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5081"
    },
    {
      "event": "mentioned",
      "id": 177854994,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTc3ODU0OTk0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/177854994",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-10-13T20:07:39Z"
    },
    {
      "event": "subscribed",
      "id": 177854995,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE3Nzg1NDk5NQ==",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/177854995",
      "actor": {
        "login": "TheBlueMatt",
        "id": 649246,
        "node_id": "MDQ6VXNlcjY0OTI0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheBlueMatt",
        "html_url": "https://github.com/TheBlueMatt",
        "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
        "following_url": "https://api.github.com/users/TheBlueMatt/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheBlueMatt/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheBlueMatt/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
        "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
        "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
        "events_url": "https://api.github.com/users/TheBlueMatt/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-10-13T20:07:39Z"
    },
    {
      "event": "closed",
      "id": 177854999,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTc3ODU0OTk5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/177854999",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-10-13T20:07:39Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-10-13T23:27:20Z",
      "updated_at": "2014-10-13T23:27:20Z",
      "source": {
        "issue": {
          "id": 45696201,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjI2Nzg2MTg=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5084/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5084/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5084/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/5084",
          "number": 5084,
          "state": "closed",
          "state_reason": null,
          "title": "Allow compiling bitcoind as a shared library: libbitcoind.so",
          "body": "We are all aware of alternative implementations of the bitcoin protocol. I've even helped personally implement [two](https://github.com/indutny/bcoin) of [them](https://github.com/bitpay/bitcore). There is an obvious fundamental problem with all alternative implementations that I'm sure everyone here sees: They're not bug-for-bug compatible with Satoshi's original implementation.\n\nAs we see more and more production platforms ([BitPay](https://bitpay.com/), [Coinbase](https://www.coinbase.com/), [Circle](https://www.circle.com/), [Blockchain](https://blockchain.info/), etc.) that _absolutely_ depend on the adamant stability of their platform, with **so** much at stake, it is imperative that their backend protocol implementation be 100% compatible with the original protocol. That is non-trivial, and maybe even impossible to do with an alternative implementation.\n\nPlatforms and services like this are forced to use bitcoind as a backend on their servers if they want stability. Using just bitcoind with RPC calls has a number of limitations and hurdles.\n\n---\n\nThis pull request alters the autoconf files to allow something like this:\n\n``` bash\n$ git clone git://github.com/bitcoin/bitcoin.git\n$ cd bitcoin\n$ ./autogen.sh\n$ ./configure --enable-daemonlib\n$ make\n...\n$ ls -la src/libbitcoind.so\n```\n\nAny program, or binding for a platform (python, php, node.js, ruby, etc), can now link to the official bitcoin implementation. Luckily bitcoind decided not to use `static` functions and put function templates in every header file, which means linkage to any function in bitcoind should be fairly easily as every function is exposed to the program which links to it.\n## An Example\n\n``` bash\n# Write a program which links to libbitcoind\necho '#include \"bitcoind.h\"' > my_program.cc\necho '#include \"...\"' >> my_program.cc\necho 'extern bool AppInit(int, char **);' >> my_program.cc\necho 'int main(int argc, char **argv) {' >> my_program.cc\necho '  return AppInit(argc, argv) ? 0 : 1;' >> my_program.cc\necho '}' >> my_program.cc\n\n# Compile our program\ngcc -I$HOME/bitcoin/src -I$HOME/bitcoin/src/obj \\\n  -I$HOME/bitcoin/src/config -I$HOME/bitcoin/src/leveldb/include \\\n  -DHAVE_CONFIG_H -g -O2 -fexceptions -frtti -fpermissive \\\n  -o my_program my_program.cc \\\n  -lboost_system -lboost_filesystem -lboost_program_options \\\n  -lboost_thread -lboost_chrono -lssl -lcrypto \\\n  $HOME/bitcoin/src/libbitcoind.so\n\n# Start our process\n./my_program -server -daemon\n\n# Bitcoind logs should be spitting out\ntail -f ~/.bitcoin/debug.log\n```\n\nA contrived example: Obviously this capability would most likely be used to link to different platforms' modules/bindings with that binding being dynamically loaded into python's/node.js'/php's/ruby's memory.\n### A More Complete Example\n\nAt BitPay, I have written a fully fledged node.js binding which links to `libbitcoind.so` and can do almost anything an alternative bitcoin implementation can do. It is called [bitcoind.js](https://github.com/bitpay/bitcoind.js).\n\nFeel free to examine the [documentation](https://github.com/bitpay/bitcoind.js/blob/master/README.md#documentation) and [source](https://github.com/bitpay/bitcoind.js/blob/master/src/bitcoindjs.cc) to see the actual [benefits](https://github.com/bitpay/bitcoind.js/blob/master/lib/bitcoind.js) something like this would provide.\n## What this PR does:\n- Moves `main()` out of `bitcoind.cpp` and into `bitcoind_main.cpp`. Moves all includes and variables out of `bitcoind.cpp` and into `bitcoind.h` so it can be included by both `bitcoind.cpp` and `bitcoind_main.cpp` if necessary.\n- Exposes two or three functions in header files which will be useful for different platforms linking to libbitcoind. This required creating an `rpcwallet.h` header file.\n- Adds `--enable-daemonlib` argument to `configure.ac` - this enables `-fPIC` for all object files instead of -`fPIE`. It also sets an AM conditional which is checked for in the automake file. Also resets `-fvisibility` to its default.\n- When compiling the library, automake makes use of this `AM_CONDITIONAL` such that targets are overridden by one `all:` target compiling the library, and bitcoin-qt(+tests) is ignored.\n- Now that all object files can be compiled as position independent code, the custom `Makefile` target I've added (vanilla Make syntax - I'm sure automake can do something fancier and compile a shared object through the help of libtool, but I couldn't manage to make it work) can link these object files together into `libbitcoind.so` with `-shared -fPIC`.\n## Issues and potential annoyances:\n\nI figure I'll address these since I'm fairly certain these questions will be raised.\n- If you want to compile bitcoind or bitcoin-qt, the object files compiled for libbitcoind are essentially useless since they're not `-fPIE`. You have to clean and recompile for scratch.\n- Since bitcoind was never structured like a proper library, it's essentially one big mess: there is logging and arg parsing all over the place. A coder's best bet is to write their own stripped down version of `AppInit2()` which starts up the net.cpp threads and listens for `RequestShutdown`, eventually joining all threads. Currently, bitcoind.js simply starts up `AppInit2()` on a separate thread.\n- Name Mangling: Node.js module bindings are written in C++. Lua and Ruby bindings are canonically written in C, which means in order to use libbitcoind without guessing bizarre function names, functions will have to be exposed with `extern \"C\"` on non-OO functions to force the stopping of mangled names. Of course, the workaround would be for Lua and Ruby users to write a C++ wapper and then link to them from their C binding.\n- Internal API: When I first started writing bitcoind.js, I forked bitcoin v0.9.0 and turned it into a shared library. Once I rebased it onto the latest master, a lot of functions had changed and took differen params, a lot of classes were changed or added. I had to rewrite several functions. Any program depending on libbitcoind.so will have to deal with this as bitcoind is developed since it is not developed like a library.\n- The Build: I'm sure there's a slicker way to compile this as an `.so`. I'm really not an Automake guru. I've fooled around a bit with the build here, but at the end of the day, someone smarter than me could probably do a better job at writing a `src/Makefile.daemon.include`.\n  \n  The `noinst_LIBRARIES` libraries and other magical features of automake are simply ignored when `--enable-daemonlib` is used. The .mm.o target compiles all the object files necessary to link them up into a shared library with a vanilla make target.\n- Platforms: I'm not terribly familiar with OSX, but right now, I've only tested this build on Linux (Arch). I've had two friends try to build on OSX with unfortunate results that were apparently common in trying to compile bitcoind on OSX. I'm still unsure if this will work with Macintoshes. I have even less of an idea of how windows works compared to OSX.  Maybe it could be made into a `.dll` somehow.\n## The Score\n\nThere may be better ways of doing this, but I think if the future of bitcoin and the bitcoin world is to be a bright one, bitcoind _needs_ to be reshaped into an optional library in some form. I don't only speak on behalf of my employer here ([BitPay](https://bitpay.com/)), even though I'm sure we all agree. This also happens to be my personal opinion on the matter.\n\nI open this to discussion. I'm willing to do whatever it takes to make Bitcoin into a library.\n",
          "user": {
            "login": "chjj",
            "id": 470564,
            "node_id": "MDQ6VXNlcjQ3MDU2NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/470564?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chjj",
            "html_url": "https://github.com/chjj",
            "followers_url": "https://api.github.com/users/chjj/followers",
            "following_url": "https://api.github.com/users/chjj/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/chjj/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/chjj/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/chjj/subscriptions",
            "organizations_url": "https://api.github.com/users/chjj/orgs",
            "repos_url": "https://api.github.com/users/chjj/repos",
            "events_url": "https://api.github.com/users/chjj/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/chjj/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 26,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5084",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/5084",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/5084.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/5084.patch"
          },
          "closed_at": "2014-11-20T15:22:09Z",
          "created_at": "2014-10-13T23:17:05Z",
          "updated_at": "2021-09-08T11:16:05Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2014-10-14T02:52:19Z",
      "updated_at": "2014-10-14T02:52:19Z",
      "source": {
        "issue": {
          "id": 45707117,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjI2ODUwODY=",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5086",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5086/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5086/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5086/events",
          "html_url": "https://github.com/bitcoin/bitcoin/pull/5086",
          "number": 5086,
          "state": "closed",
          "state_reason": null,
          "title": "consensus lib work: some win build fixes necessary for dll creation",
          "body": "This is a follow-up of #5081. It includes a different fix for the link problem that should be more robust anyway.\n- Fix for linking static libs into dll's.\n- Split out LIBS for Windows builds as was done for INCLUDES in 6b09940.\n\nThis should result in no noticeable changes.\n",
          "user": {
            "login": "theuni",
            "id": 417043,
            "node_id": "MDQ6VXNlcjQxNzA0Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/theuni",
            "html_url": "https://github.com/theuni",
            "followers_url": "https://api.github.com/users/theuni/followers",
            "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
            "organizations_url": "https://api.github.com/users/theuni/orgs",
            "repos_url": "https://api.github.com/users/theuni/repos",
            "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/theuni/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": true,
          "active_lock_reason": "resolved",
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5086",
            "html_url": "https://github.com/bitcoin/bitcoin/pull/5086",
            "diff_url": "https://github.com/bitcoin/bitcoin/pull/5086.diff",
            "patch_url": "https://github.com/bitcoin/bitcoin/pull/5086.patch"
          },
          "closed_at": "2014-10-27T11:28:08Z",
          "created_at": "2014-10-14T02:52:19Z",
          "updated_at": "2021-09-08T10:41:36Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "locked",
      "id": 5271498517,
      "node_id": "LOE_lADOABII584CuPXbzwAAAAE6NK8V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/5271498517",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-08T10:52:29Z",
      "lock_reason": "resolved"
    }
  ],
  "comments": []
}