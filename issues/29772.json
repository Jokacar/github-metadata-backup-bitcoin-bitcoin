{
  "type": "issue",
  "issue": {
    "id": 2216803310,
    "node_id": "I_kwDOABII586EIbvu",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29772",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29772/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29772/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29772/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/29772",
    "number": 29772,
    "state": "open",
    "state_reason": null,
    "title": "importaddress failed, Only legacy wallets are supported by this command.",
    "body": "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Current behaviour\n\nI want to import the address or public key into bitcoind because I want to list the unspent utxo based on my bitcoind node and then assemble the transaction on the client side. However, an error will be reported when importing the address and public key.\r\n\r\nError:\r\n```\r\nerror code: -4\r\nerror message:\r\nOnly legacy wallets are supported by this command\r\n```\n\n### Expected behaviour\n\nsuccess and list unspent utxo success.\n\n### Steps to reproduce\n\n`bitcoin-cli importaddress mk4xz7tbbQDcQY68qYehydV9PRBWdVGNw1 \"ray\"`\r\n\r\n```\r\nerror code: -4\r\nerror message:\r\nOnly legacy wallets are supported by this command\r\n```\r\n\r\n`bitcoin-cli importpubkey 03f3de8f736a0bff7dfe446138acf98c23199c0710c704416dc9b6338bf37900e9  \"ray_pub\" true`\r\n\r\n```\r\nerror code: -4\r\nerror message:\r\nOnly legacy wallets are supported by this command\r\n```\r\n\r\nbitcoind start cmd:\r\n`bitcoind -blocksonly=false -wallet=ray -addresstype=legacy`\r\n\n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nPre-built binaries\n\n### What version of Bitcoin Core are you using?\n\nBitcoin Core version v25.0.0\n\n### Operating system and version\n\nUbuntu 22.04.3 LTS\n\n### Machine specifications\n\n_No response_",
    "user": {
      "login": "ray2cycle",
      "id": 152759428,
      "node_id": "U_kgDOCRrshA",
      "avatar_url": "https://avatars.githubusercontent.com/u/152759428?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ray2cycle",
      "html_url": "https://github.com/ray2cycle",
      "followers_url": "https://api.github.com/users/ray2cycle/followers",
      "following_url": "https://api.github.com/users/ray2cycle/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ray2cycle/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ray2cycle/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ray2cycle/subscriptions",
      "organizations_url": "https://api.github.com/users/ray2cycle/orgs",
      "repos_url": "https://api.github.com/users/ray2cycle/repos",
      "events_url": "https://api.github.com/users/ray2cycle/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ray2cycle/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      },
      {
        "id": 477890092,
        "node_id": "MDU6TGFiZWw0Nzc4OTAwOTI=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help",
        "name": "Questions and Help",
        "color": "006688",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 5,
    "created_at": "2024-03-31T06:21:23Z",
    "updated_at": "2024-06-12T12:49:25Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 2028589391,
      "node_id": "IC_kwDOABII58546dFP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028589391",
      "actor": {
        "login": "1440000bytes",
        "id": 147166694,
        "node_id": "U_kgDOCMWV5g",
        "avatar_url": "https://avatars.githubusercontent.com/u/147166694?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/1440000bytes",
        "html_url": "https://github.com/1440000bytes",
        "followers_url": "https://api.github.com/users/1440000bytes/followers",
        "following_url": "https://api.github.com/users/1440000bytes/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/1440000bytes/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/1440000bytes/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/1440000bytes/subscriptions",
        "organizations_url": "https://api.github.com/users/1440000bytes/orgs",
        "repos_url": "https://api.github.com/users/1440000bytes/repos",
        "events_url": "https://api.github.com/users/1440000bytes/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/1440000bytes/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-31T07:45:18Z",
      "updated_at": "2024-03-31T07:45:18Z",
      "author_association": "NONE",
      "body": "This should work for a descriptor wallet with `disable_private_keys=true`:\r\n\r\n```\r\n$ bitcoin-cli importdescriptors '[{ \"desc\": \"addr(mk4xz7tbbQDcQY68qYehydV9PRBWdVGNw1)#CHECKSUM\", \"timestamp\":\"now\", \"label\": \"ray\"}]'\r\n```\r\n\r\nYou will get the CHECKSUM with `getdescriptorinfo \"addr(mk4xz7tbbQDcQY68qYehydV9PRBWdVGNw1)\"`",
      "user": {
        "login": "1440000bytes",
        "id": 147166694,
        "node_id": "U_kgDOCMWV5g",
        "avatar_url": "https://avatars.githubusercontent.com/u/147166694?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/1440000bytes",
        "html_url": "https://github.com/1440000bytes",
        "followers_url": "https://api.github.com/users/1440000bytes/followers",
        "following_url": "https://api.github.com/users/1440000bytes/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/1440000bytes/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/1440000bytes/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/1440000bytes/subscriptions",
        "organizations_url": "https://api.github.com/users/1440000bytes/orgs",
        "repos_url": "https://api.github.com/users/1440000bytes/repos",
        "events_url": "https://api.github.com/users/1440000bytes/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/1440000bytes/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2028589391",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29772"
    },
    {
      "event": "labeled",
      "id": 12308846714,
      "node_id": "LE_lADOABII586EIbvuzwAAAALdqhh6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12308846714",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-01T09:40:14Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 12308846721,
      "node_id": "LE_lADOABII586EIbvuzwAAAALdqhiB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12308846721",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-01T09:40:14Z",
      "label": {
        "name": "Questions and Help",
        "color": "006688"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "tuttheking81",
        "id": 161786137,
        "node_id": "U_kgDOCaSpGQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/161786137?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tuttheking81",
        "html_url": "https://github.com/tuttheking81",
        "followers_url": "https://api.github.com/users/tuttheking81/followers",
        "following_url": "https://api.github.com/users/tuttheking81/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tuttheking81/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tuttheking81/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tuttheking81/subscriptions",
        "organizations_url": "https://api.github.com/users/tuttheking81/orgs",
        "repos_url": "https://api.github.com/users/tuttheking81/repos",
        "events_url": "https://api.github.com/users/tuttheking81/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tuttheking81/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-01T13:51:20Z",
      "updated_at": "2024-04-01T13:51:20Z",
      "source": {
        "issue": {
          "id": 2218315162,
          "node_id": "I_kwDOABII586EOM2a",
          "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29779",
          "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
          "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29779/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29779/comments",
          "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29779/events",
          "html_url": "https://github.com/bitcoin/bitcoin/issues/29779",
          "number": 29779,
          "state": "closed",
          "state_reason": "completed",
          "title": ".",
          "body": "              This should work for a descriptor wallet with `disable_private_keys=true`:\r\n\r\n```\r\n$ bitcoin-cli importdescriptors '[{ \"desc\": \"addr(mk4xz7tbbQDcQY68qYehydV9PRBWdVGNw1)#CHECKSUM\", \"timestamp\":\"now\", \"label\": \"ray\"}]'\r\n```\r\n\r\nYou will get the CHECKSUM with `getdescriptorinfo \"addr(mk4xz7tbbQDcQY68qYehydV9PRBWdVGNw1)\"`\r\n\r\n_Originally posted by @1440000bytes in https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2028589391_\r\n            ",
          "user": {
            "login": "tuttheking81",
            "id": 161786137,
            "node_id": "U_kgDOCaSpGQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/161786137?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tuttheking81",
            "html_url": "https://github.com/tuttheking81",
            "followers_url": "https://api.github.com/users/tuttheking81/followers",
            "following_url": "https://api.github.com/users/tuttheking81/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/tuttheking81/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/tuttheking81/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/tuttheking81/subscriptions",
            "organizations_url": "https://api.github.com/users/tuttheking81/orgs",
            "repos_url": "https://api.github.com/users/tuttheking81/repos",
            "events_url": "https://api.github.com/users/tuttheking81/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/tuttheking81/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 0,
          "closed_at": "2024-04-01T13:54:24Z",
          "created_at": "2024-04-01T13:51:20Z",
          "updated_at": "2024-04-01T13:54:28Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 2029810953,
      "node_id": "IC_kwDOABII5854_HUJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2029810953",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-01T14:04:56Z",
      "updated_at": "2024-04-01T14:04:56Z",
      "author_association": "MEMBER",
      "body": "I guess the error message could be adjusted to say that the RPC has been replaced by another one for descriptor wallets.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2029810953",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29772"
    },
    {
      "event": "commented",
      "id": 2091363954,
      "node_id": "IC_kwDOABII5858p65y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091363954",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-02T19:20:58Z",
      "updated_at": "2024-05-02T19:20:58Z",
      "author_association": "MEMBER",
      "body": "Yes, adding an example would be useful.",
      "user": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2091363954",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29772"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "bradleystachurski",
        "id": 11034691,
        "node_id": "MDQ6VXNlcjExMDM0Njkx",
        "avatar_url": "https://avatars.githubusercontent.com/u/11034691?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bradleystachurski",
        "html_url": "https://github.com/bradleystachurski",
        "followers_url": "https://api.github.com/users/bradleystachurski/followers",
        "following_url": "https://api.github.com/users/bradleystachurski/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bradleystachurski/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bradleystachurski/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bradleystachurski/subscriptions",
        "organizations_url": "https://api.github.com/users/bradleystachurski/orgs",
        "repos_url": "https://api.github.com/users/bradleystachurski/repos",
        "events_url": "https://api.github.com/users/bradleystachurski/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bradleystachurski/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T02:31:25Z",
      "updated_at": "2024-05-21T02:31:25Z",
      "source": {
        "issue": {
          "id": 2307132567,
          "node_id": "I_kwDOFf6m686JhAyX",
          "url": "https://api.github.com/repos/fedimint/fedimint/issues/5329",
          "repository_url": "https://api.github.com/repos/fedimint/fedimint",
          "labels_url": "https://api.github.com/repos/fedimint/fedimint/issues/5329/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/fedimint/fedimint/issues/5329/comments",
          "events_url": "https://api.github.com/repos/fedimint/fedimint/issues/5329/events",
          "html_url": "https://github.com/fedimint/fedimint/issues/5329",
          "number": 5329,
          "state": "open",
          "state_reason": null,
          "title": "Support `watch_script_history` for bitcoind backends",
          "body": "When calling `watch_script_history` for bitcoind backends, we'll get the following error\r\n\r\n```\r\n00:02:20 2024-05-21T02:25:52.241941Z  INFO fm::net::blockchain: Bitcoind error JSON-RPC error: RPC error response: RpcError { code: -\r\n4, message: \"Only legacy wallets are supported by this command\", data: None }, retrying\r\n```\r\n\r\nFor clients using a bitcoind backend without txindex, this will prevent fetching the script history for deposits, which ultimately prevents submitting a peg-in proof.\r\n\r\nFailure to transition to tx seen\r\n\r\nhttps://github.com/fedimint/fedimint/blob/ef6d4b12241651c2faa842547cbc368ceabbe4e5/modules/fedimint-wallet-client/src/deposit.rs#L122\r\n\r\nFailure to transition to tx confirmed\r\n\r\nhttps://github.com/fedimint/fedimint/blob/ef6d4b12241651c2faa842547cbc368ceabbe4e5/modules/fedimint-wallet-client/src/deposit.rs#L223\r\n\r\nDevimint and the rust tests use esplora for a client backend, which doesn't rely on `watch_script_history`, so this doesn't show up as a failure in our test suite.\r\n\r\nThe bitcoincore impl uses `importaddress`, which is causing the legacy wallet error. We may be able to fix using `importdescriptors` (see: https://github.com/bitcoin/bitcoin/issues/29772).\r\n\r\nFixing this may be a good opportunity to split `IBitcoindRpc` into separate client/server interfaces.",
          "user": {
            "login": "bradleystachurski",
            "id": 11034691,
            "node_id": "MDQ6VXNlcjExMDM0Njkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/11034691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bradleystachurski",
            "html_url": "https://github.com/bradleystachurski",
            "followers_url": "https://api.github.com/users/bradleystachurski/followers",
            "following_url": "https://api.github.com/users/bradleystachurski/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/bradleystachurski/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/bradleystachurski/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/bradleystachurski/subscriptions",
            "organizations_url": "https://api.github.com/users/bradleystachurski/orgs",
            "repos_url": "https://api.github.com/users/bradleystachurski/repos",
            "events_url": "https://api.github.com/users/bradleystachurski/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/bradleystachurski/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 3014579130,
              "node_id": "MDU6TGFiZWwzMDE0NTc5MTMw",
              "url": "https://api.github.com/repos/fedimint/fedimint/labels/bug",
              "name": "bug",
              "description": "Something isn't working",
              "color": "d73a4a",
              "default": true
            },
            {
              "id": 5062091052,
              "node_id": "LA_kwDOFf6m688AAAABLblhLA",
              "url": "https://api.github.com/repos/fedimint/fedimint/labels/wallet",
              "name": "wallet",
              "description": "",
              "color": "BBB72A",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 1,
          "created_at": "2024-05-21T02:28:30Z",
          "updated_at": "2024-05-23T10:05:36Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 2162910393,
      "node_id": "IC_kwDOABII586A62S5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2162910393",
      "actor": {
        "login": "RichardGantz",
        "id": 22373105,
        "node_id": "MDQ6VXNlcjIyMzczMTA1",
        "avatar_url": "https://avatars.githubusercontent.com/u/22373105?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RichardGantz",
        "html_url": "https://github.com/RichardGantz",
        "followers_url": "https://api.github.com/users/RichardGantz/followers",
        "following_url": "https://api.github.com/users/RichardGantz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RichardGantz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RichardGantz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RichardGantz/subscriptions",
        "organizations_url": "https://api.github.com/users/RichardGantz/orgs",
        "repos_url": "https://api.github.com/users/RichardGantz/repos",
        "events_url": "https://api.github.com/users/RichardGantz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RichardGantz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-12T12:41:37Z",
      "updated_at": "2024-06-12T12:41:37Z",
      "author_association": "NONE",
      "body": "I have a bitcoincore v27.0.0 running on a \"Raspberry Pi OS with desktop, Release date: March 15th 2024.System: 64-bit,Kernel version: 6.6, Debian version: 12 (bookworm)\" over the tor network, which is fully synchronized.\r\n\r\nI installed a \"Electrum Personal Server v0.2.4, but it does not start because of this same JsonRpcError (\"code = -4; message = \"Only legacy wallets are supported by this command\").\r\nUp to this point I tried several zpubs and addresses, but they were all native segwit P2WPKH.\r\n\r\nThen I created a 'Base58 (legacy)' address within gthe \"Receive\" tab of the bitcoincore default wallet, i created and this address begins with a 1 and therefore is really a legacy address, right?\r\n\r\nThe JsonRpcError which interrupts the startup of the EPS then changed to:\r\n\r\n```{'code': -5, 'message': 'Invalid or unsupported Segwit (Bech32) or Base58 encoding.'}```\r\n\r\nIs there a legacy address you have that would be accepted by bitcoincore when given via JsonRpc?\r\n",
      "user": {
        "login": "RichardGantz",
        "id": 22373105,
        "node_id": "MDQ6VXNlcjIyMzczMTA1",
        "avatar_url": "https://avatars.githubusercontent.com/u/22373105?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RichardGantz",
        "html_url": "https://github.com/RichardGantz",
        "followers_url": "https://api.github.com/users/RichardGantz/followers",
        "following_url": "https://api.github.com/users/RichardGantz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RichardGantz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RichardGantz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RichardGantz/subscriptions",
        "organizations_url": "https://api.github.com/users/RichardGantz/orgs",
        "repos_url": "https://api.github.com/users/RichardGantz/repos",
        "events_url": "https://api.github.com/users/RichardGantz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RichardGantz/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2162910393",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29772"
    },
    {
      "event": "commented",
      "id": 2162927360,
      "node_id": "IC_kwDOABII586A66cA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2162927360",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-12T12:49:25Z",
      "updated_at": "2024-06-12T12:49:25Z",
      "author_association": "MEMBER",
      "body": "The terminology is confusing, but \"legacy wallets\" and \"legacy addresses\" have nothing to do with one another:\r\n* legacy wallets are wallet.dat files using the BDB format, and are opposed to sqlite-based wallet files (\"descriptor wallets\"). Legacy wallet support is being deprecated.\r\n* legacy addresses are P2PKH and P2SH addresses, and are opposed to more modern address types like P2WPKH and P2TR.\r\n\r\nWhat you've done is created a legacy address in a descriptor wallet (which is supported). The issue is that descriptor wallet do not support the `importaddress` RPC (though that may change, see #30175). The solution (for now) is to create a legacy wallet in Bitcoin Core instead of a descriptor wallet, and let EPS use that. Longer term, I assume EPS will have to be adapted to use the descriptor wallet RPCs (like `importdescriptor`).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2162927360",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29772"
    }
  ]
}